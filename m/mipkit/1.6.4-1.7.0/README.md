# Comparing `tmp/mipkit-1.6.4-py3-none-any.whl.zip` & `tmp/mipkit-1.7.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,52 +1,53 @@
-Zip file size: 70722 bytes, number of entries: 50
--rw-r--r--  2.0 unx     1425 b- defN 24-Mar-05 02:55 mipkit/__init__.py
--rw-r--r--  2.0 unx     4268 b- defN 23-Dec-16 10:31 mipkit/audio.py
--rw-r--r--  2.0 unx     2469 b- defN 24-Mar-04 03:51 mipkit/debug.py
--rw-r--r--  2.0 unx     2317 b- defN 23-Dec-16 10:31 mipkit/downloaders.py
--rw-r--r--  2.0 unx      517 b- defN 23-Dec-16 10:31 mipkit/helpers.py
--rw-r--r--  2.0 unx     9084 b- defN 23-Dec-16 10:31 mipkit/images.py
--rw-r--r--  2.0 unx     2245 b- defN 23-Dec-16 10:31 mipkit/logger.py
--rw-r--r--  2.0 unx     2670 b- defN 23-Dec-16 10:31 mipkit/mprocess.py
--rw-r--r--  2.0 unx     8062 b- defN 23-Dec-16 10:33 mipkit/nest_asyncio.py
--rw-r--r--  2.0 unx     3203 b- defN 23-Dec-16 10:31 mipkit/pdf.py
--rw-r--r--  2.0 unx     3751 b- defN 23-Dec-16 10:31 mipkit/pl_utils.py
--rw-r--r--  2.0 unx     1956 b- defN 23-Dec-16 10:31 mipkit/stats.py
--rw-r--r--  2.0 unx     9810 b- defN 23-Dec-16 10:31 mipkit/utils.py
--rw-r--r--  2.0 unx     2229 b- defN 23-Dec-16 10:31 mipkit/video.py
--rw-r--r--  2.0 unx    13188 b- defN 23-Dec-16 10:31 mipkit/vis.py
--rw-r--r--  2.0 unx     1243 b- defN 23-Dec-16 10:31 mipkit/dl/__init__.py
--rw-r--r--  2.0 unx     3391 b- defN 23-Dec-16 10:31 mipkit/dl/losses.py
--rw-r--r--  2.0 unx     3980 b- defN 23-Dec-16 10:31 mipkit/dl/metrics.py
--rw-r--r--  2.0 unx     5045 b- defN 23-Dec-16 10:31 mipkit/dl/summary.py
--rw-r--r--  2.0 unx     4234 b- defN 23-Dec-16 10:31 mipkit/dl/tune.py
--rw-r--r--  2.0 unx     2650 b- defN 23-Jun-23 06:09 mipkit/dl/utils.py
--rw-r--r--  2.0 unx     1205 b- defN 23-Dec-16 10:31 mipkit/faces/__init__.py
--rw-r--r--  2.0 unx     3487 b- defN 23-Dec-16 10:31 mipkit/faces/faces_utils.py
--rw-r--r--  2.0 unx     1616 b- defN 23-Dec-16 10:31 mipkit/faces/helpers.py
--rw-r--r--  2.0 unx     1234 b- defN 23-Dec-16 10:31 mipkit/ip/__init__.py
--rw-r--r--  2.0 unx     3538 b- defN 23-Dec-16 10:31 mipkit/ip/fft.py
--rw-r--r--  2.0 unx     8421 b- defN 23-Dec-16 10:31 mipkit/ip/freq_filters.py
--rw-r--r--  2.0 unx     1352 b- defN 23-Dec-16 10:31 mipkit/medical/__init__.py
--rw-r--r--  2.0 unx     1757 b- defN 23-Dec-16 10:31 mipkit/medical/itk_snap.py
--rw-r--r--  2.0 unx     4489 b- defN 23-Dec-16 10:31 mipkit/medical/utils.py
--rw-r--r--  2.0 unx      444 b- defN 23-Dec-16 10:31 mipkit/medical/vis.py
--rw-r--r--  2.0 unx     1210 b- defN 23-Dec-16 10:31 mipkit/nlp/__init__.py
--rw-r--r--  2.0 unx     1212 b- defN 23-Dec-16 10:31 mipkit/nlp/text_cleaner/__init__.py
--rw-r--r--  2.0 unx     3684 b- defN 23-Dec-16 10:31 mipkit/nlp/text_cleaner/cleaner.py
--rw-r--r--  2.0 unx    13462 b- defN 23-Dec-16 10:31 mipkit/nlp/text_cleaner/constants.py
--rw-r--r--  2.0 unx    13445 b- defN 23-Dec-16 10:31 mipkit/nlp/text_cleaner/core.py
--rw-r--r--  2.0 unx     2185 b- defN 23-Dec-16 10:31 mipkit/nlp/text_cleaner/specials.py
--rw-r--r--  2.0 unx     2721 b- defN 23-Dec-16 10:31 mipkit/nlp/text_cleaner/utils.py
--rw-r--r--  2.0 unx     1274 b- defN 23-Dec-16 10:31 mipkit/pytorch/__init__.py
--rw-r--r--  2.0 unx     2531 b- defN 23-Dec-16 10:31 mipkit/pytorch/base.py
--rw-r--r--  2.0 unx     2405 b- defN 23-Dec-16 10:31 mipkit/pytorch/hook.py
--rw-r--r--  2.0 unx     1850 b- defN 23-Dec-16 10:31 mipkit/pytorch/losses.py
--rw-r--r--  2.0 unx     2149 b- defN 23-Dec-16 10:31 mipkit/pytorch/utils.py
--rw-r--r--  2.0 unx     1097 b- defN 24-Apr-24 09:30 mipkit-1.6.4.dist-info/LICENSE
--rw-r--r--  2.0 unx     1180 b- defN 24-Apr-24 09:30 mipkit-1.6.4.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Apr-24 09:30 mipkit-1.6.4.dist-info/WHEEL
--rw-r--r--  2.0 unx       46 b- defN 24-Apr-24 09:30 mipkit-1.6.4.dist-info/entry_points.txt
--rw-r--r--  2.0 unx        7 b- defN 24-Apr-24 09:30 mipkit-1.6.4.dist-info/top_level.txt
--rw-r--r--  2.0 unx        1 b- defN 23-Dec-16 10:59 mipkit-1.6.4.dist-info/zip-safe
--rw-rw-r--  2.0 unx     3947 b- defN 24-Apr-24 09:30 mipkit-1.6.4.dist-info/RECORD
-50 files, 169778 bytes uncompressed, 64580 bytes compressed:  62.0%
+Zip file size: 75418 bytes, number of entries: 51
+-rw-rw-r--  2.0 unx     1275 b- defN 24-Jun-01 03:22 mipkit/__init__.py
+-rw-rw-r--  2.0 unx     4396 b- defN 24-Jun-01 03:22 mipkit/audio.py
+-rw-rw-r--  2.0 unx     2469 b- defN 24-Jun-01 03:20 mipkit/debug.py
+-rw-rw-r--  2.0 unx     2295 b- defN 24-Jun-01 03:22 mipkit/downloaders.py
+-rw-rw-r--  2.0 unx    15046 b- defN 24-Jun-01 03:22 mipkit/fmt.py
+-rw-rw-r--  2.0 unx      485 b- defN 24-Jun-01 03:22 mipkit/helpers.py
+-rw-rw-r--  2.0 unx     9010 b- defN 24-Jun-01 03:22 mipkit/images.py
+-rw-rw-r--  2.0 unx     2231 b- defN 24-Jun-01 03:22 mipkit/logger.py
+-rw-rw-r--  2.0 unx     2670 b- defN 24-Jun-01 02:44 mipkit/mprocess.py
+-rw-rw-r--  2.0 unx     7964 b- defN 24-Jun-01 03:22 mipkit/nest_asyncio.py
+-rw-rw-r--  2.0 unx     3254 b- defN 24-Jun-01 03:22 mipkit/pdf.py
+-rw-rw-r--  2.0 unx     3724 b- defN 24-Jun-01 03:22 mipkit/pl_utils.py
+-rw-rw-r--  2.0 unx     1956 b- defN 24-Jun-01 02:44 mipkit/stats.py
+-rw-rw-r--  2.0 unx     9735 b- defN 24-Jun-01 03:22 mipkit/utils.py
+-rw-rw-r--  2.0 unx     2229 b- defN 24-Jun-01 03:08 mipkit/video.py
+-rw-rw-r--  2.0 unx    13162 b- defN 24-Jun-01 03:22 mipkit/vis.py
+-rw-rw-r--  2.0 unx     1243 b- defN 24-Jun-01 02:44 mipkit/dl/__init__.py
+-rw-rw-r--  2.0 unx     3391 b- defN 24-Jun-01 03:22 mipkit/dl/losses.py
+-rw-rw-r--  2.0 unx     3979 b- defN 24-Jun-01 03:22 mipkit/dl/metrics.py
+-rw-rw-r--  2.0 unx     4861 b- defN 24-Jun-01 03:22 mipkit/dl/summary.py
+-rw-rw-r--  2.0 unx     4220 b- defN 24-Jun-01 03:22 mipkit/dl/tune.py
+-rw-rw-r--  2.0 unx     2650 b- defN 24-Jun-01 02:44 mipkit/dl/utils.py
+-rw-rw-r--  2.0 unx     1205 b- defN 24-Jun-01 02:44 mipkit/faces/__init__.py
+-rw-rw-r--  2.0 unx     3487 b- defN 24-Jun-01 02:44 mipkit/faces/faces_utils.py
+-rw-rw-r--  2.0 unx     1652 b- defN 24-Jun-01 03:22 mipkit/faces/helpers.py
+-rw-rw-r--  2.0 unx     1234 b- defN 24-Jun-01 02:44 mipkit/ip/__init__.py
+-rw-rw-r--  2.0 unx     3538 b- defN 24-Jun-01 02:44 mipkit/ip/fft.py
+-rw-rw-r--  2.0 unx     8319 b- defN 24-Jun-01 03:22 mipkit/ip/freq_filters.py
+-rw-rw-r--  2.0 unx     1378 b- defN 24-Jun-01 03:22 mipkit/medical/__init__.py
+-rw-rw-r--  2.0 unx     1735 b- defN 24-Jun-01 03:22 mipkit/medical/itk_snap.py
+-rw-rw-r--  2.0 unx     4489 b- defN 24-Jun-01 02:44 mipkit/medical/utils.py
+-rw-rw-r--  2.0 unx      424 b- defN 24-Jun-01 03:22 mipkit/medical/vis.py
+-rw-rw-r--  2.0 unx     1210 b- defN 24-Jun-01 02:44 mipkit/nlp/__init__.py
+-rw-rw-r--  2.0 unx     1212 b- defN 24-Jun-01 02:44 mipkit/nlp/text_cleaner/__init__.py
+-rw-rw-r--  2.0 unx     3684 b- defN 24-Jun-01 02:55 mipkit/nlp/text_cleaner/cleaner.py
+-rw-rw-r--  2.0 unx    13456 b- defN 24-Jun-01 03:22 mipkit/nlp/text_cleaner/constants.py
+-rw-rw-r--  2.0 unx    13417 b- defN 24-Jun-01 03:22 mipkit/nlp/text_cleaner/core.py
+-rw-rw-r--  2.0 unx     2151 b- defN 24-Jun-01 03:22 mipkit/nlp/text_cleaner/specials.py
+-rw-rw-r--  2.0 unx     2721 b- defN 24-Jun-01 02:44 mipkit/nlp/text_cleaner/utils.py
+-rw-rw-r--  2.0 unx     1384 b- defN 24-Jun-01 03:22 mipkit/pytorch/__init__.py
+-rw-rw-r--  2.0 unx     2530 b- defN 24-Jun-01 03:22 mipkit/pytorch/base.py
+-rw-rw-r--  2.0 unx     2405 b- defN 24-Jun-01 02:55 mipkit/pytorch/hook.py
+-rw-rw-r--  2.0 unx     1850 b- defN 24-Jun-01 02:55 mipkit/pytorch/losses.py
+-rw-rw-r--  2.0 unx     2149 b- defN 24-Jun-01 02:44 mipkit/pytorch/utils.py
+-rw-rw-r--  2.0 unx     1097 b- defN 24-Jun-01 03:24 mipkit-1.7.0.dist-info/LICENSE
+-rw-rw-r--  2.0 unx     1319 b- defN 24-Jun-01 03:24 mipkit-1.7.0.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 24-Jun-01 03:24 mipkit-1.7.0.dist-info/WHEEL
+-rw-rw-r--  2.0 unx       70 b- defN 24-Jun-01 03:24 mipkit-1.7.0.dist-info/entry_points.txt
+-rw-rw-r--  2.0 unx        7 b- defN 24-Jun-01 03:24 mipkit-1.7.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx        1 b- defN 24-Jun-01 02:52 mipkit-1.7.0.dist-info/zip-safe
+-rw-rw-r--  2.0 unx     4018 b- defN 24-Jun-01 03:24 mipkit-1.7.0.dist-info/RECORD
+51 files, 184479 bytes uncompressed, 69174 bytes compressed:  62.5%
```

## zipnote {}

```diff
@@ -6,14 +6,17 @@
 
 Filename: mipkit/debug.py
 Comment: 
 
 Filename: mipkit/downloaders.py
 Comment: 
 
+Filename: mipkit/fmt.py
+Comment: 
+
 Filename: mipkit/helpers.py
 Comment: 
 
 Filename: mipkit/images.py
 Comment: 
 
 Filename: mipkit/logger.py
@@ -123,29 +126,29 @@
 
 Filename: mipkit/pytorch/losses.py
 Comment: 
 
 Filename: mipkit/pytorch/utils.py
 Comment: 
 
-Filename: mipkit-1.6.4.dist-info/LICENSE
+Filename: mipkit-1.7.0.dist-info/LICENSE
 Comment: 
 
-Filename: mipkit-1.6.4.dist-info/METADATA
+Filename: mipkit-1.7.0.dist-info/METADATA
 Comment: 
 
-Filename: mipkit-1.6.4.dist-info/WHEEL
+Filename: mipkit-1.7.0.dist-info/WHEEL
 Comment: 
 
-Filename: mipkit-1.6.4.dist-info/entry_points.txt
+Filename: mipkit-1.7.0.dist-info/entry_points.txt
 Comment: 
 
-Filename: mipkit-1.6.4.dist-info/top_level.txt
+Filename: mipkit-1.7.0.dist-info/top_level.txt
 Comment: 
 
-Filename: mipkit-1.6.4.dist-info/zip-safe
+Filename: mipkit-1.7.0.dist-info/zip-safe
 Comment: 
 
-Filename: mipkit-1.6.4.dist-info/RECORD
+Filename: mipkit-1.7.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## mipkit/__init__.py

```diff
@@ -18,26 +18,10 @@
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 """
-from . import (
-    audio,
-    downloaders,
-    images,
-    logger,
-    mprocess,
-    pytorch,
-    stats,
-    utils,
-    video,
-    vis,
-)
-from .debug import *
 
-# from . import faces
-# from . import medical
-# from . import nlp
-# from . import dl
-# from .helpers import *
+from . import audio, downloaders, fmt, images, logger, mprocess, pytorch, stats, utils, video, vis
+from .debug import *
```

## mipkit/audio.py

```diff
@@ -18,23 +18,31 @@
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 """
+
 import warnings
+from typing import TYPE_CHECKING
 
-try:
+if TYPE_CHECKING:
     import librosa
     import numpy as np
     import pylab
     from matplotlib import cm
-except ImportError as e:
-    warnings.warn(e.msg)
+
+# try:
+#     import librosa
+#     import numpy as np
+#     import pylab
+#     from matplotlib import cm
+# except ImportError as e:
+#     warnings.warn(e.msg)
 
 
 def load_file(fp, sr=None):
     X, sr = librosa.load(fp, sr=sr)
     return X, sr
 
 
@@ -67,17 +75,15 @@
     return mfcc
 
 
 def save_mfcc(mel, path_to_save):
     # Plotting the spectrogram and save as JPG without axes (just the image)
     # pylab.figure(figsize=(3, 3))
     pylab.axis("off")
-    pylab.axes(
-        [0.0, 0.0, 1.0, 1.0], frameon=False, xticks=[], yticks=[]
-    )  # Remove the white edge
+    pylab.axes([0.0, 0.0, 1.0, 1.0], frameon=False, xticks=[], yticks=[])  # Remove the white edge
     librosa.display.specshow(mel, cmap=cm.jet)
     pylab.savefig(path_to_save, bbox_inches=None, pad_inches=0)
     pylab.close()
 
 
 def wav2mel(wav_arr, sr, n_fft=N_FFT, hop_length=HOP_LENGTH, n_mels=N_MELS):
     S = librosa.feature.melspectrogram(
@@ -87,17 +93,15 @@
     return log_S
 
 
 def save_mel(mel, path_to_save):
     # Plotting the spectrogram and save as JPG without axes (just the image)
     # pylab.figure(figsize=(3, 3))
     pylab.axis("off")
-    pylab.axes(
-        [0.0, 0.0, 1.0, 1.0], frameon=False, xticks=[], yticks=[]
-    )  # Remove the white edge
+    pylab.axes([0.0, 0.0, 1.0, 1.0], frameon=False, xticks=[], yticks=[])  # Remove the white edge
     librosa.display.specshow(mel, cmap=cm.jet)
     pylab.savefig(path_to_save, bbox_inches=None, pad_inches=0)
     pylab.close()
 
 
 # def spectrogram_image(
 #     y,
```

## mipkit/downloaders.py

```diff
@@ -51,15 +51,13 @@
             return None
 
 
 def download_from_youtube(output_path, video_id):
     try:
         from pytube import YouTube
     except ImportError as e:
-        raise ImportError(
-            "No package `pytube`, cannot execute `download_from_youtube`."
-        )
+        raise ImportError("No package `pytube`, cannot execute `download_from_youtube`.")
     yt = (
         YouTube(f"https://youtu.be/watch?v={video_id}")
         .streams.first()
         .download(output_path=output_path, filename=video_id)
     )
```

## mipkit/helpers.py

```diff
@@ -4,15 +4,13 @@
 import pip
 
 
 def install_and_import(package_name, install_if_not_found=True, required_version=None):
     if pkgutil.find_loader(package_name) is None:
         if install_if_not_found:
             install_package_name = (
-                f"{package_name}=={required_version}"
-                if required_version
-                else f"{package_name}"
+                f"{package_name}=={required_version}" if required_version else f"{package_name}"
             )
             pip.main(["install", install_package_name])
 
     else:
         return importlib.import_module(package_name)
```

## mipkit/images.py

```diff
@@ -45,40 +45,34 @@
             When axis = 0, the images are merged vertically;
             When axis = 1, the images are merged horizontally.
     Returns:
         merge image
     """
     ndim = images[0].ndim
     shapes = np.array([mat.shape for mat in images])
-    assert np.all(
-        map(lambda e: len(e) == ndim, shapes)
-    ), "all images should be same ndim."
+    assert np.all(map(lambda e: len(e) == ndim, shapes)), "all images should be same ndim."
     if axis == 0:  # merge images vertically
         # Merge image cols
         cols = np.max(shapes[:, 1])
 
         # Expand the cols size of each image to make the cols consistent
         copy_imgs = [
-            cv2.copyMakeBorder(
-                img, 0, 0, 0, cols - img.shape[1], cv2.BORDER_CONSTANT, (0, 0, 0)
-            )
+            cv2.copyMakeBorder(img, 0, 0, 0, cols - img.shape[1], cv2.BORDER_CONSTANT, (0, 0, 0))
             for img in images
         ]
         # Merge vertically
         return np.vstack(copy_imgs)
 
     else:  # merge images horizontally
         # Combine the rows of the image
         rows = np.max(shapes[:, 0])
 
         # Expand the row size of each image to make rows consistent
         copy_imgs = [
-            cv2.copyMakeBorder(
-                img, 0, rows - img.shape[0], 0, 0, cv2.BORDER_CONSTANT, (0, 0, 0)
-            )
+            cv2.copyMakeBorder(img, 0, rows - img.shape[0], 0, 0, cv2.BORDER_CONSTANT, (0, 0, 0))
             for img in images
         ]
 
         # Merge horizontally
         return np.hstack(copy_imgs)
```

## mipkit/logger.py

```diff
@@ -30,17 +30,15 @@
 except ImportError as e:
     warnings.warn(e.msg)
 
 
 def get_logger():
     logger = logging.getLogger()
     logger.setLevel(level=logging.INFO)
-    formatter = logging.Formatter(
-        "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
-    )
+    formatter = logging.Formatter("%(asctime)s - %(name)s - %(levelname)s - %(message)s")
     ch = logging.StreamHandler()
     ch.setFormatter(formatter)
     logger.addHandler(ch)
     return logger
 
 
 def mprint(*args):
```

## mipkit/nest_asyncio.py

```diff
@@ -49,17 +49,15 @@
         asyncio.Future = (
             asyncio.futures._CFuture
         ) = asyncio.futures.Future = asyncio.futures._PyFuture
     if sys.version_info < (3, 7, 0):
         asyncio.tasks._current_tasks = asyncio.tasks.Task._current_tasks
         asyncio.all_tasks = asyncio.tasks.Task.all_tasks
     if sys.version_info >= (3, 9, 0):
-        events._get_event_loop = (
-            events.get_event_loop
-        ) = asyncio.get_event_loop = _get_event_loop
+        events._get_event_loop = events.get_event_loop = asyncio.get_event_loop = _get_event_loop
     asyncio.run = run
     asyncio._nest_patched = True
 
 
 def _patch_policy():
     """Patch the policy to always return a patched loop."""
 
@@ -146,18 +144,15 @@
                     self.call_soon(self._loop_self_reading)
             yield
         finally:
             self._thread_id = old_thread_id
             events._set_running_loop(old_running_loop)
             self._num_runs_pending -= 1
             if self._is_proactorloop:
-                if (
-                    self._num_runs_pending == 0
-                    and self._self_reading_future is not None
-                ):
+                if self._num_runs_pending == 0 and self._self_reading_future is not None:
                     ov = self._self_reading_future._ov
                     self._self_reading_future.cancel()
                     if ov is not None:
                         self._proactor._unregister(ov)
                     self._self_reading_future = None
 
     @contextmanager
@@ -190,17 +185,15 @@
     cls = loop.__class__
     cls.run_forever = run_forever
     cls.run_until_complete = run_until_complete
     cls._run_once = _run_once
     cls._check_running = _check_running
     cls._check_runnung = _check_running  # typo in Python 3.7 source
     cls._num_runs_pending = 0
-    cls._is_proactorloop = os.name == "nt" and issubclass(
-        cls, asyncio.ProactorEventLoop
-    )
+    cls._is_proactorloop = os.name == "nt" and issubclass(cls, asyncio.ProactorEventLoop)
     if sys.version_info < (3, 7, 0):
         cls._set_coroutine_origin_tracking = cls._set_coroutine_wrapper
     cls._nest_patched = True
 
 
 def _patch_task():
     """Patch the Task's step and enter/leave methods to make it reentrant."""
```

## mipkit/pdf.py

```diff
@@ -5,33 +5,31 @@
 
 import pkg_resources
 import six
 from tqdm import tqdm
 
 from .helpers import install_and_import
 
-install_and_import("PyDF2")
+install_and_import("PyDF2", required_version='2.12.1')
 from PyPDF2 import PdfFileReader, PdfFileWriter
 from PyPDF2.generic import FloatObject
-from PyPDF2.pdf import PageObject
+from PyPDF2 import PageObject
 
-__VERSION__ = "1.0.0"
+__VERSION__ = "1.1.0"
 
 
 def version():
     return __VERSION__
 
 
 def existance_verify(pdf_path) -> bool:
     return os.path.isfile(pdf_path)
 
 
-def expand_margin(
-    path_to_load, path_to_save=None, expected_margin=100, overwrite=False
-):
+def expand_margin(path_to_load, path_to_save=None, expected_margin=100, overwrite=False):
     folder_dir = os.path.dirname(path_to_load)
     filename = os.path.basename(path_to_load)
     base_filename, ext = os.path.splitext(filename)
 
     if not overwrite:
         new_filename = base_filename + "_expanded" + ext
     else:
@@ -46,24 +44,24 @@
         number_of_pages = p.getNumPages()
 
         writer = PdfFileWriter()
         for i in tqdm(range(number_of_pages)):
             page = p.getPage(i)
 
             new_page = writer.addBlankPage(
-                page.mediaBox.getWidth() + 2 * expected_margin,
-                page.mediaBox.getHeight(),
+                float(page.mediaBox.getWidth()) + 2 * expected_margin,
+                float(page.mediaBox.getHeight()),
             )
 
             new_page.mergePage(page)
 
             # x, y, x1, y2
             bbox = new_page.mediaBox.getObject()
-            bbox[0] = FloatObject(bbox[0] - expected_margin)
-            bbox[2] = FloatObject(bbox[2] - expected_margin)
+            bbox[0] = FloatObject(float(bbox[0]) - expected_margin)
+            bbox[2] = FloatObject(float(bbox[2]) - expected_margin)
 
             # page.scaleTo(int(page.mediaBox.getWidth()),
             #              int(page.mediaBox.getHeight()))
 
             # new_page.mergeScaledTranslatedPage(page, scale=1,
             #                                    tx=expected_margin,
             #                                    ty=expected_margin)
@@ -72,31 +70,29 @@
 
         with open(path_to_save, "wb") as f:
             writer.write(f)
     print("> Saved at `{}`".format(path_to_save))
 
 
 def main():
-    parser = argparse.ArgumentParser(
-        formatter_class=argparse.ArgumentDefaultsHelpFormatter
-    )
+    parser = argparse.ArgumentParser(formatter_class=argparse.ArgumentDefaultsHelpFormatter)
     parser.add_argument(
         "-V",
         "--version",
         action="store_true",
         help="display version",
     )
     parser.add_argument(
         "-p",
         "--path",
         required=True,
         help="url or file/folder id (with --id) to download from",
     )
     parser.add_argument("-o", "--output", help="output file name / path")
-    parser.add_argument("--margin", help="margin size to expand", default=100)
+    parser.add_argument("--margin", help="margin size to expand", default=100, type=float)
     parser.add_argument("-q", "--quiet", action="store_true", help="Show progress bar")
 
     args = parser.parse_args()
 
     if args.version:
         print(version())
         exit()
@@ -106,15 +102,15 @@
         if not exist:
             print("File not Found")
             exit()
         else:
             expand_margin(
                 path_to_load=args.path,
                 path_to_save=None,
-                expected_margin=100,
+                expected_margin=args.margin,
                 overwrite=False,
             )
 
     # if args.folder:
 
 
 if __name__ == "__main__":
```

## mipkit/pl_utils.py

```diff
@@ -18,14 +18,15 @@
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 """
+
 from argparse import ArgumentParser, Namespace
 
 from .helpers import install_and_import
 from .logger import print_info
 from .utils import load_yaml_config
 
 install_and_import("pytorch_lightning")
@@ -36,17 +37,15 @@
     parser = ArgumentParser()
 
     # ===============================================================================
     # Training Arguments
     # ===============================================================================
     parser.add_argument("--mode", choices=["train", "test"], type=str, default="train")
     parser.add_argument("-c", "--config_file", type=str, help="configuration file")
-    parser.add_argument(
-        "-j", "--num_workers", type=int, default=8, help="number of workers"
-    )
+    parser.add_argument("-j", "--num_workers", type=int, default=8, help="number of workers")
 
     # ===============================================================================
     # Learing Rate and Scheduler
     # ===============================================================================
     parser.add_argument("--debug", action="store_true", help="debug")
 
     parser.add_argument(
@@ -64,17 +63,15 @@
     )
 
     parser.add_argument("--seed", type=int, default=2021, help="random seed")
 
     # ===============================================================================
     # Testing
     # ===============================================================================
-    parser.add_argument(
-        "--resume_ckpt", type=str, default=None, help="resuming checkpoint"
-    )
+    parser.add_argument("--resume_ckpt", type=str, default=None, help="resuming checkpoint")
 
     if add_pl_args:
         parser = pl.Trainer.add_argparse_args(parser)
     else:
         parser.add_argument("--gpus", type=int, help="Number of GPUS")
 
     # Generate args
```

## mipkit/utils.py

```diff
@@ -18,14 +18,15 @@
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 """
+
 import argparse
 import copy
 import json
 import os
 import time
 import warnings
 from collections import OrderedDict
@@ -232,17 +233,15 @@
 
 def timeit(verbose=True):
     def timeit_decorator(func):
         def timeit_func(*args, **kwargs):
             start_time = time.time()
             results = func(*args, **kwargs)
             if verbose:
-                print(
-                    f"The function takes {time.time() - start_time:4f} (s) to process"
-                )
+                print(f"The function takes {time.time() - start_time:4f} (s) to process")
             return results
 
         return timeit_func
 
     return timeit_decorator
 
 
@@ -250,17 +249,15 @@
     pass
 
 
 def deprecated(message=""):
     def deprecated_decorator(func):
         def deprecated_func(*args, **kwargs):
             warnings.warn(
-                "This {} is deprecated and will be removed soon. {}".format(
-                    func.__name__, message
-                ),
+                "This {} is deprecated and will be removed soon. {}".format(func.__name__, message),
                 category=DeprecationWarning,
                 stacklevel=2,
             )
             warnings.simplefilter("default", DeprecationWarning)
             return func(*args, **kwargs)
 
         return deprecated_func
```

## mipkit/vis.py

```diff
@@ -70,31 +70,27 @@
             return ret
 
         return plot_func
 
     return plot_decorator
 
 
-def imshow(
-    img, figsize=(10, 10), plt_show=False, title=None, fontsize=30, *args, **kwargs
-):
+def imshow(img, figsize=(10, 10), plt_show=False, title=None, fontsize=30, *args, **kwargs):
     return show_image(
         img=img,
         figsize=figsize,
         plt_show=plt_show,
         title=title,
         fontsize=fontsize,
         *args,
-        **kwargs
+        **kwargs,
     )
 
 
-def show_image(
-    img, figsize=(10, 10), plt_show=False, title=None, fontsize=30, *args, **kwargs
-):
+def show_image(img, figsize=(10, 10), plt_show=False, title=None, fontsize=30, *args, **kwargs):
     plt.figure(figsize=figsize)
     plt.axis("off")
     plt.imshow(img, *args, **kwargs)
     if title is not None:
         plt.title(title, fontsize=fontsize)
 
     if plt_show:
@@ -200,26 +196,22 @@
     pass
 
 
 def randint(val_min=0, val_max=255):
     return np.random.randint(val_min, val_max)
 
 
-@deprecated(
-    message="draw_boxes() function is deprecated. Please use visualize() instead."
-)
+@deprecated(message="draw_boxes() function is deprecated. Please use visualize() instead.")
 def draw_boxes(img_arr, bboxes, color=None, thickness=2, mode="default"):
     assert mode in ["default", "coco"]
     for box in bboxes:
         draw_box(img_arr, box, color=color, thickness=thickness, mode=mode)
 
 
-@deprecated(
-    message="draw_box() function is deprecated. Please use visualize() instead."
-)
+@deprecated(message="draw_box() function is deprecated. Please use visualize() instead.")
 def draw_box(img_arr, box, thickness=2, color=None, mode="default"):
     h_img, w_img, c_img = img_arr.shape
     if color is None:
         color = (randint(), randint(), randint())
     if mode == "default":
         x, y, xx, yy = box
         x = int(max(0, x))
@@ -351,16 +343,15 @@
         fig.suptitle(title, y=TITLE_REL_POS, fontsize=title_fontsize, color=title_color)
 
     if plt_show:
         plt.show()
 
 
 @deprecated(
-    "This function is deprecated and will be removed soon."
-    " Please use `mipkit.immulshow`"
+    "This function is deprecated and will be removed soon." " Please use `mipkit.immulshow`"
 )
 def show_multi_images(
     list_img_arr,
     list_titles=None,
     ratio_size=10,
     rows=1,
     cmap=None,
@@ -370,15 +361,15 @@
     colorbar_fontsize=20,
     fontsize=30,
     subfontsize=10,
     wspace=0,
     hspace=0,
     background_color="white",
     *args,
-    **kwargs
+    **kwargs,
 ):
     """Show multiple images in a plot.
 
     Parameters
     ----------
     list_img_arr : list
         a list of numpy arrays
```

## mipkit/dl/losses.py

```diff
@@ -67,20 +67,20 @@
         target_mean = torch.sum(target * mask, dim=1, keepdim=True) / torch.sum(
             mask, dim=1, keepdim=True
         )
         input_mean = torch.sum(input * mask, dim=1, keepdim=True) / torch.sum(
             mask, dim=1, keepdim=True
         )
 
-        target_var = torch.sum(
-            mask * (target - target_mean) ** 2, dim=1, keepdim=True
-        ) / torch.sum(mask, dim=1, keepdim=True)
-        input_var = torch.sum(
-            mask * (input - input_mean) ** 2, dim=1, keepdim=True
-        ) / torch.sum(mask, dim=1, keepdim=True)
+        target_var = torch.sum(mask * (target - target_mean) ** 2, dim=1, keepdim=True) / torch.sum(
+            mask, dim=1, keepdim=True
+        )
+        input_var = torch.sum(mask * (input - input_mean) ** 2, dim=1, keepdim=True) / torch.sum(
+            mask, dim=1, keepdim=True
+        )
 
         cov = torch.sum(
             mask * (target - target_mean) * (input - input_mean), dim=1, keepdim=True
         ) / torch.sum(mask, dim=1, keepdim=True)
 
         ccc = torch.mean(
             2.0 * cov / (target_var + input_var + (target_mean - input_mean) ** 2),
```

## mipkit/dl/metrics.py

```diff
@@ -19,15 +19,14 @@
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 """
 
-
 import scipy.stats as scs
 
 
 def pearsonr(x, y, dim):
     r"""Computes Pearson Correlation Coefficient across rows.
     Pearson Correlation Coefficient (also known as Linear Correlation
     Coefficient or Pearson's :math:`\rho`) is computed as:
```

## mipkit/dl/summary.py

```diff
@@ -38,32 +38,28 @@
             module_idx = len(summary)
 
             m_key = "%s-%i" % (class_name, module_idx + 1)
             summary[m_key] = OrderedDict()
             summary[m_key]["input_shape"] = list(input[0].size())
             summary[m_key]["input_shape"][0] = batch_size
             if isinstance(output, (list, tuple)):
-                summary[m_key]["output_shape"] = [
-                    [-1] + list(o.size())[1:] for o in output
-                ]
+                summary[m_key]["output_shape"] = [[-1] + list(o.size())[1:] for o in output]
             else:
                 summary[m_key]["output_shape"] = list(output.size())
                 summary[m_key]["output_shape"][0] = batch_size
 
             params = 0
             if hasattr(module, "weight") and hasattr(module.weight, "size"):
                 params += torch.prod(torch.LongTensor(list(module.weight.size())))
                 summary[m_key]["trainable"] = module.weight.requires_grad
             if hasattr(module, "bias") and hasattr(module.bias, "size"):
                 params += torch.prod(torch.LongTensor(list(module.bias.size())))
             summary[m_key]["nb_params"] = params
 
-        if not isinstance(module, nn.Sequential) and not isinstance(
-            module, nn.ModuleList
-        ):
+        if not isinstance(module, nn.Sequential) and not isinstance(module, nn.ModuleList):
             hooks.append(module.register_forward_hook(hook))
 
     # multiple inputs to the network
     if isinstance(input_size, tuple):
         input_size = [input_size]
 
     # batch_size of 2 for batchnorm
@@ -83,22 +79,18 @@
     # print(x.shape)
     model(*x)
 
     # remove these hooks
     for h in hooks:
         h.remove()
 
-    summary_str += (
-        "----------------------------------------------------------------" + "\n"
-    )
+    summary_str += "----------------------------------------------------------------" + "\n"
     line_new = "{:>20}  {:>25} {:>15}".format("Layer (type)", "Output Shape", "Param #")
     summary_str += line_new + "\n"
-    summary_str += (
-        "================================================================" + "\n"
-    )
+    summary_str += "================================================================" + "\n"
     total_params = 0
     total_output = 0
     trainable_params = 0
     for layer in summary:
         # input_shape, output_shape, trainable, nb_params
         line_new = "{:>20}  {:>25} {:>15}".format(
             layer,
@@ -110,36 +102,24 @@
         total_output += np.prod(summary[layer]["output_shape"])
         if "trainable" in summary[layer]:
             if summary[layer]["trainable"] == True:
                 trainable_params += summary[layer]["nb_params"]
         summary_str += line_new + "\n"
 
     # assume 4 bytes/number (float on cuda).
-    total_input_size = abs(
-        np.prod(sum(input_size, ())) * batch_size * 4.0 / (1024**2.0)
-    )
-    total_output_size = abs(
-        2.0 * total_output * 4.0 / (1024**2.0)
-    )  # x2 for gradients
+    total_input_size = abs(np.prod(sum(input_size, ())) * batch_size * 4.0 / (1024**2.0))
+    total_output_size = abs(2.0 * total_output * 4.0 / (1024**2.0))  # x2 for gradients
     total_params_size = abs(total_params * 4.0 / (1024**2.0))
     total_size = total_params_size + total_output_size + total_input_size
 
-    summary_str += (
-        "================================================================" + "\n"
-    )
+    summary_str += "================================================================" + "\n"
     summary_str += "Total params: {0:,}".format(total_params) + "\n"
     summary_str += "Trainable params: {0:,}".format(trainable_params) + "\n"
-    summary_str += (
-        "Non-trainable params: {0:,}".format(total_params - trainable_params) + "\n"
-    )
-    summary_str += (
-        "----------------------------------------------------------------" + "\n"
-    )
+    summary_str += "Non-trainable params: {0:,}".format(total_params - trainable_params) + "\n"
+    summary_str += "----------------------------------------------------------------" + "\n"
     summary_str += "Input size (MB): %0.2f" % total_input_size + "\n"
     summary_str += "Forward/backward pass size (MB): %0.2f" % total_output_size + "\n"
     summary_str += "Params size (MB): %0.2f" % total_params_size + "\n"
     summary_str += "Estimated Total Size (MB): %0.2f" % total_size + "\n"
-    summary_str += (
-        "----------------------------------------------------------------" + "\n"
-    )
+    summary_str += "----------------------------------------------------------------" + "\n"
     # return summary
     return summary_str, (total_params, trainable_params)
```

## mipkit/dl/tune.py

```diff
@@ -112,10 +112,8 @@
         name=experiment_name,
         verbose=1,
         local_dir=log_dir,
     )
 
     print("Best hyperparameters found were: ", analysis.best_config)
     analysis.results_df.to_csv(os.path.join(log_path, "results.csv"), index=False)
-    analysis.best_result_df.to_csv(
-        os.path.join(log_path, "best_results.csv"), index=False
-    )
+    analysis.best_result_df.to_csv(os.path.join(log_path, "best_results.csv"), index=False)
```

## mipkit/faces/helpers.py

```diff
@@ -21,22 +21,22 @@
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 """
 
 from collections import OrderedDict
 
-FACIAL_LANDMARKS_68_IDXS = OrderedDict([
-    ("mouth", (48, 68)),
-    ("inner_mouth", (60, 68)),
-    ("right_eyebrow", (17, 22)),
-    ("left_eyebrow", (22, 27)),
-    ("right_eye", (36, 42)),
-    ("left_eye", (42, 48)),
-    ("nose", (27, 36)),
-    ("jaw", (0, 17)),
-])
+FACIAL_LANDMARKS_68_IDXS = OrderedDict(
+    [
+        ("mouth", (48, 68)),
+        ("inner_mouth", (60, 68)),
+        ("right_eyebrow", (17, 22)),
+        ("left_eyebrow", (22, 27)),
+        ("right_eye", (36, 42)),
+        ("left_eye", (42, 48)),
+        ("nose", (27, 36)),
+        ("jaw", (0, 17)),
+    ]
+)
 
 # For dlib’s 5-point facial landmark detector:
-FACIAL_LANDMARKS_5_IDXS = OrderedDict(
-    [("right_eye", (2, 3)), ("left_eye", (0, 1)), ("nose", (4))]
-)
+FACIAL_LANDMARKS_5_IDXS = OrderedDict([("right_eye", (2, 3)), ("left_eye", (0, 1)), ("nose", (4))])
```

## mipkit/ip/freq_filters.py

```diff
@@ -51,17 +51,15 @@
 
     Returns:
         nd]: [description]
     """
     rows, cols = fft_mat.shape[:2]
 
     Huv = np.zeros_like(fft_mat)
-    M, N = np.meshgrid(
-        np.arange(-cols // 2, cols // 2), np.arange(-rows // 2, rows // 2)
-    )
+    M, N = np.meshgrid(np.arange(-cols // 2, cols // 2), np.arange(-rows // 2, rows // 2))
     # Huv = -((M - M//2) ** 2 + (N - N//2) ** 2)
     Huv = get_H(rows, cols)
 
     print(Huv)
     # Gaussian high-pass filter
     # Z = (rh - r1) * (1 - np.exp(-c * (Duv ** 2 / d0 ** 2))) + r1
 
@@ -86,17 +84,15 @@
 
     Returns:
         nd]: [description]
     """
     rows, cols = fft_mat.shape[:2]
 
     Huv = np.zeros_like(fft_mat)
-    M, N = np.meshgrid(
-        np.arange(-cols // 2, cols // 2), np.arange(-rows // 2, rows // 2)
-    )
+    M, N = np.meshgrid(np.arange(-cols // 2, cols // 2), np.arange(-rows // 2, rows // 2))
     Duv = np.sqrt(M**2 + N**2)
 
     # Gaussian high-pass filter
     Z = (rh - r1) * (1 - np.exp(-c * (Duv**2 / d0**2))) + r1
 
     # Z =  (1 - np.exp(-c * (Duv ** 2 / d0 ** 2)))
     Huv = Z * fft_mat
@@ -216,38 +212,32 @@
             When axis = 0, the images are merged vertically;
             When axis = 1, the images are merged horizontally.
     Returns:
         merge image
     """
     ndim = images[0].ndim
     shapes = np.array([mat.shape for mat in images])
-    assert np.all(
-        map(lambda e: len(e) == ndim, shapes)
-    ), "all images should be same ndim."
+    assert np.all(map(lambda e: len(e) == ndim, shapes)), "all images should be same ndim."
     if axis == 0:  # merge images vertically
         # Merge image cols
         cols = np.max(shapes[:, 1])
 
         # Expand the cols size of each image to make the cols consistent
         copy_imgs = [
-            cv2.copyMakeBorder(
-                img, 0, 0, 0, cols - img.shape[1], cv2.BORDER_CONSTANT, (0, 0, 0)
-            )
+            cv2.copyMakeBorder(img, 0, 0, 0, cols - img.shape[1], cv2.BORDER_CONSTANT, (0, 0, 0))
             for img in images
         ]
         # Merge vertically
         return np.vstack(copy_imgs)
 
     else:  # merge images horizontally
         # Combine the rows of the image
         rows = np.max(shapes[:, 0])
 
         # Expand the row size of each image to make rows consistent
         copy_imgs = [
-            cv2.copyMakeBorder(
-                img, 0, rows - img.shape[0], 0, 0, cv2.BORDER_CONSTANT, (0, 0, 0)
-            )
+            cv2.copyMakeBorder(img, 0, rows - img.shape[0], 0, 0, cv2.BORDER_CONSTANT, (0, 0, 0))
             for img in images
         ]
 
         # Merge horizontally
         return np.hstack(copy_imgs)
```

## mipkit/medical/__init__.py

```diff
@@ -18,17 +18,17 @@
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 """
+import warnings
+
 try:
     import itk
-except:
-    raise ImportError(
-        "Cannot import `itk`. Please install the itk by `pip install itk`."
-    )
 
-from .itk_snap import *
-from .utils import *
-from .vis import *
+    from .itk_snap import *
+    from .utils import *
+    from .vis import *
+except Exception as e:
+    warnings.warn("Cannot import `itk`. Please install the itk by `pip install itk`.")
```

## mipkit/medical/itk_snap.py

```diff
@@ -41,10 +41,8 @@
             assert os.path.isfile(add_main_image_file_path)
             command.append("-o")
             command.append(add_main_image_file_path)
 
         if self.show_command:
             print("Command: ", " ".join(command))
 
-        process = subprocess.run(
-            command, stdout=subprocess.PIPE, universal_newlines=True
-        )
+        process = subprocess.run(command, stdout=subprocess.PIPE, universal_newlines=True)
```

## mipkit/medical/vis.py

```diff
@@ -1,15 +1,11 @@
 import matplotlib.pyplot as plt
 import numpy as np
 
 from .. import immulshow
 
 
-def im3dshow(
-    image_3d, slide_x_pos=0, slide_y_pos=0, slide_z_pos=0, ratio_size=10, **kwargs
-):
+def im3dshow(image_3d, slide_x_pos=0, slide_y_pos=0, slide_z_pos=0, ratio_size=10, **kwargs):
     slide_x_view = image_3d[slide_x_pos, :, :]
     slide_y_view = image_3d[:, slide_y_pos, :][::-1]
     slide_z_view = image_3d[:, :, slide_z_pos][::-1]
-    return immulshow(
-        [slide_x_view, slide_y_view, slide_z_view], ratio_size=ratio_size, **kwargs
-    )
+    return immulshow([slide_x_view, slide_y_view, slide_z_view], ratio_size=ratio_size, **kwargs)
```

## mipkit/nlp/text_cleaner/constants.py

```diff
@@ -43,17 +43,15 @@
     "₫": "VND",
     "€": "EUR",
     "₱": "PHP",
     "₲": "PYG",
     "₴": "UAH",
     "₹": "INR",
 }
-CURRENCY_REGEX = re.compile(
-    "({})+".format("|".join(re.escape(c) for c in CURRENCIES.keys()))
-)
+CURRENCY_REGEX = re.compile("({})+".format("|".join(re.escape(c) for c in CURRENCIES.keys())))
 
 PUNCT_TRANSLATE_UNICODE = dict.fromkeys(
     (i for i in range(sys.maxunicode) if unicodedata.category(chr(i)).startswith("P")),
     "",
 )
 
 ACRONYM_REGEX = re.compile(
```

## mipkit/nlp/text_cleaner/core.py

```diff
@@ -114,17 +114,15 @@
 
     if not no_emoji:
         text = emojize(text, use_aliases=True)
 
     return text
 
 
-def normalize_whitespace(
-    text, no_line_breaks=False, strip_lines=True, keep_two_line_breaks=False
-):
+def normalize_whitespace(text, no_line_breaks=False, strip_lines=True, keep_two_line_breaks=False):
     """
     Given ``text`` str, replace one or more spacings with a single space, and one
     or more line breaks with a single newline. Also strip leading/trailing whitespace.
     """
     if strip_lines:
         text = "\n".join([x.strip() for x in text.splitlines()])
 
@@ -390,11 +388,9 @@
     if lower:
         text = text.lower()
     if no_stopwords:
         text = remove_stopwords(text)
     # if no_extra_spaces:
     # text = remove_extra_spaces(text)
     if normalize_whitespace:
-        text = _normalize_whitespace(
-            text, no_line_breaks, strip_lines, keep_two_line_breaks
-        )
+        text = _normalize_whitespace(text, no_line_breaks, strip_lines, keep_two_line_breaks)
     return text
```

## mipkit/nlp/text_cleaner/specials.py

```diff
@@ -45,18 +45,15 @@
 
     # normalize the text to make sure to really match all occurences
     text = norm(text)
 
     possibilities = (
         specials[lang]["case_sensitive"]
         + [[norm(x[0]), x[1]] for x in specials[lang]["case_insensitive"]]
-        + [
-            [norm(x[0].upper()), x[1].upper()]
-            for x in specials[lang]["case_insensitive"]
-        ]
+        + [[norm(x[0].upper()), x[1].upper()] for x in specials[lang]["case_insensitive"]]
     )
     for pattern, target in possibilities:
         if back:
             text = text.replace(escape_sequence + target + escape_sequence, pattern)
         else:
             text = text.replace(pattern, escape_sequence + target + escape_sequence)
     return text
```

## mipkit/pytorch/__init__.py

```diff
@@ -18,15 +18,21 @@
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 """
+
 import warnings
+from typing import TYPE_CHECKING
 
-try:
+if TYPE_CHECKING:
     import torch
 
     from . import hook, utils
-except ImportError as e:
-    warnings.warn(e.msg)
+# try:
+#     import torch
+
+#     from . import hook, utils
+# except ImportError as e:
+#     warnings.warn(e.msg)
```

## mipkit/pytorch/base.py

```diff
@@ -19,15 +19,14 @@
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 """
 
-
 import pytorch_lightning as pl
 from torch.utils.data import DataLoader
 
 
 class DataLoader(pl.LightningDataModule):
 
     def __init__(
```

## Comparing `mipkit-1.6.4.dist-info/LICENSE` & `mipkit-1.7.0.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `mipkit-1.6.4.dist-info/METADATA` & `mipkit-1.7.0.dist-info/METADATA`

 * *Files 15% similar despite different names*

```diff
@@ -1,24 +1,30 @@
 Metadata-Version: 2.1
 Name: mipkit
-Version: 1.6.4
+Version: 1.7.0
 Summary: mipkit
 Author: Cong M. Vo
 Author-email: congvm.it@gmail.com
 License: MIT
 Classifier: Programming Language :: Python :: 3
 Classifier: License :: OSI Approved :: MIT License
 Classifier: Operating System :: OS Independent
 Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
 Description-Content-Type: text/markdown
 License-File: LICENSE
 Requires-Dist: numpy
 Requires-Dist: matplotlib
+Requires-Dist: tqdm
+Requires-Dist: pyyaml
+Requires-Dist: termcolor
 Requires-Dist: ipdb
 Requires-Dist: IPython
+Requires-Dist: pyink
+Requires-Dist: isort
+Requires-Dist: black[jupyter]
 
 # MIPTools
 
 
 ## Introduction
 
 MIPkit - **M**ultimedia And **I**mages **P**rocessing Lab **Kit** is a package of common data processing tools.\
```

