# Comparing `tmp/Simba-UW-tf-dev-1.94.4.tar.gz` & `tmp/Simba-UW-tf-dev-1.94.5.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "dist/Simba-UW-tf-dev-1.94.4.tar", last modified: Wed May 29 20:00:27 2024, max compression
+gzip compressed data, was "dist/Simba-UW-tf-dev-1.94.5.tar", last modified: Sat Jun  1 14:46:51 2024, max compression
```

## Comparing `Simba-UW-tf-dev-1.94.4.tar` & `Simba-UW-tf-dev-1.94.5.tar`

### file list

```diff
@@ -1,704 +1,709 @@
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/
--rw-r--r--   0 simon      (501) staff       (20)     2797 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/PKG-INFO
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/ui/
--rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.4/simba/ui/.DS_Store
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/
--rw-r--r--   0 simon      (501) staff       (20)    11467 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/mutual_exclusivity_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     4070 2024-03-29 20:30:28.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/movement_analysis_time_bins_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     1676 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/csv_2_parquet_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     5883 2024-04-22 13:59:07.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/quick_path_plot_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     2873 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/batch_preprocess_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     8831 2024-05-02 13:40:02.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/heatmap_location_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     9578 2024-04-26 18:13:38.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/clf_probability_plot_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     3456 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/movement_analysis_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     4631 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/set_machine_model_parameters_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)    11362 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/clf_plot_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)    25598 2024-04-17 23:32:48.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/path_plot_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     1184 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/remove_roi_features_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     6692 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/targeted_annotation_clips_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     3340 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/smoothing_interpolation_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     2174 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/roi_size_standardizer_popup.py
--rw-r--r--   0 simon      (501) staff       (20)     6997 2024-04-11 20:25:55.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/visualize_pose_in_dir_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     4682 2024-04-25 16:23:13.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/roi_analysis_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     7898 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/outlier_settings_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     9366 2024-04-29 16:29:26.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/gantt_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     5830 2024-04-26 18:09:47.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/clf_validation_plot_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     8529 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/severity_analysis_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     3221 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/fsttc_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     4231 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/kleinberg_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)     8376 2024-04-25 16:23:13.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/directing_other_animals_plot_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     9785 2024-03-29 16:15:58.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/spontaneous_alternation_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     6076 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/pose_reorganizer_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     3437 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/animal_directing_other_animals_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     3352 2024-04-26 15:18:54.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/append_roi_features_animals_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     3468 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/clf_by_timebins_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     9154 2024-04-12 00:32:53.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/heatmap_clf_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     9235 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/data_plot_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)    10787 2024-04-25 16:23:13.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/roi_features_plot_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     9121 2024-04-25 13:46:55.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/pup_retrieval_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     5577 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/boolean_conditional_slicer_pup_up.py
--rw-r--r--   0 simon      (501) staff       (20)      584 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/about_simba_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     5451 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/clf_descriptive_statistics_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     9419 2024-04-25 16:23:13.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/roi_tracking_plot_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     1821 2024-04-25 16:23:13.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/append_roi_features_bodypart_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     7312 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/directing_animal_to_bodypart_plot_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     6546 2024-02-16 01:12:37.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/clf_add_remove_print_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)   181462 2024-05-29 19:57:31.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/video_processing_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     7800 2024-04-04 16:47:32.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/validation_plot_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     6160 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/clf_by_roi_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     4470 2024-04-22 13:59:07.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/make_path_plot_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     3622 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/direction_animal_to_bodypart_settings_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     6166 2024-03-06 18:18:27.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/create_user_defined_pose_configuration_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     1072 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/archive_files_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     4716 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/pose_bp_drop_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)    12174 2024-04-11 20:42:04.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/distance_plot_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     4673 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/subset_feature_extractor_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     3651 2024-04-26 18:13:38.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/third_party_annotator_appender_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     4134 2024-03-31 17:07:13.000000 Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/roi_analysis_time_bins_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)    16701 2024-02-08 00:53:55.000000 Simba-UW-tf-dev-1.94.4/simba/ui/video_info_ui.py
--rw-r--r--   0 simon      (501) staff       (20)     6573 2024-04-11 20:25:55.000000 Simba-UW-tf-dev-1.94.4/simba/ui/user_defined_pose_creator.py
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/ui/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)    14374 2024-03-06 18:18:27.000000 Simba-UW-tf-dev-1.94.4/simba/ui/create_project_ui.py
--rw-r--r--   0 simon      (501) staff       (20)    14487 2024-02-08 00:53:55.000000 Simba-UW-tf-dev-1.94.4/simba/ui/tkinter_functions.py
--rw-r--r--   0 simon      (501) staff       (20)    38871 2024-04-16 13:37:42.000000 Simba-UW-tf-dev-1.94.4/simba/ui/machine_model_settings_ui.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/labelling/
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/labelling/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)    24423 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/labelling/labelling_interface.py
--rw-r--r--   0 simon      (501) staff       (20)     2362 2024-02-21 02:33:04.000000 Simba-UW-tf-dev-1.94.4/simba/labelling/targeted_annotations_clips.py
--rw-r--r--   0 simon      (501) staff       (20)     3974 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/labelling/extract_labelled_frames.py
--rw-r--r--   0 simon      (501) staff       (20)    31269 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/labelling/labelling_advanced_interface.py
--rw-r--r--   0 simon      (501) staff       (20)    10012 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/labelling/play_annotation_video.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/
--rw-r--r--   0 simon      (501) staff       (20)    15004 2024-03-29 19:51:46.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/dbcv_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)     5077 2024-03-29 19:51:46.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/cluster_validation_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)     3645 2024-04-03 23:24:04.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/enums.py
--rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/.DS_Store
--rw-r--r--   0 simon      (501) staff       (20)     9036 2024-04-03 23:24:04.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/cluster_video_visualizer.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/
--rw-r--r--   0 simon      (501) staff       (20)     4642 2024-03-26 23:50:53.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/cluster_videos_popup.py
--rw-r--r--   0 simon      (501) staff       (20)     4027 2024-02-20 21:35:22.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/transform_cluster_popup.py
--rw-r--r--   0 simon      (501) staff       (20)     5048 2024-02-15 23:45:22.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/embedding_correlations_popup.py
--rw-r--r--   0 simon      (501) staff       (20)     6148 2024-04-02 14:39:26.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/.DS_Store
--rw-r--r--   0 simon      (501) staff       (20)     4070 2024-02-20 21:35:22.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/transform_dim_reduction_popup.py
--rw-r--r--   0 simon      (501) staff       (20)    11182 2024-02-15 23:45:22.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/fit_dim_reduction_popup.py
--rw-r--r--   0 simon      (501) staff       (20)     2546 2024-03-29 19:51:46.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/data_extractor_popup.py
--rw-r--r--   0 simon      (501) staff       (20)     4536 2024-03-29 19:51:46.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/cluster_validation_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     9305 2024-02-15 23:45:22.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/fit_cluster_popup.py
--rw-r--r--   0 simon      (501) staff       (20)     2574 2024-04-03 23:24:04.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/clusterer_comparison_popup.py
--rw-r--r--   0 simon      (501) staff       (20)     6527 2024-03-26 23:50:53.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/grid_search_visualizer_popup.py
--rw-r--r--   0 simon      (501) staff       (20)     4332 2024-03-28 20:02:59.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/cluster_xai_popup.py
--rw-r--r--   0 simon      (501) staff       (20)     3820 2024-03-29 16:15:58.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/cluster_frequentist_stats_popup.py
--rw-r--r--   0 simon      (501) staff       (20)     2355 2024-02-20 21:35:22.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/print_embedding_info_popup.py
--rw-r--r--   0 simon      (501) staff       (20)     9946 2024-04-02 18:34:25.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/dataset_creator.py
--rw-r--r--   0 simon      (501) staff       (20)    12982 2024-04-03 23:24:04.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/unsupervised_main.py
--rw-r--r--   0 simon      (501) staff       (20)    10175 2024-03-27 12:56:51.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/grid_search_visualizers.py
--rw-r--r--   0 simon      (501) staff       (20)    16005 2024-03-29 16:15:58.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/data_extractor.py
--rw-r--r--   0 simon      (501) staff       (20)     5241 2024-04-03 23:24:04.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/outlier_detector.py
--rw-r--r--   0 simon      (501) staff       (20)    10397 2024-03-29 16:15:58.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/cluster_frequentist_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)     5798 2024-03-27 12:56:51.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/embedding_correlation_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)    18194 2024-04-03 23:24:04.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/cluster_xai_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)    15581 2024-04-03 23:24:04.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/umap_embedder.py
--rw-r--r--   0 simon      (501) staff       (20)     5582 2024-04-03 23:24:04.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/clusterer_comparison_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)     4652 2024-03-26 19:09:58.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/bout_aggregator.py
--rw-r--r--   0 simon      (501) staff       (20)     2188 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/data_map.yaml
--rw-r--r--   0 simon      (501) staff       (20)    14765 2024-03-26 19:09:58.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/hdbscan_clusterer.py
--rw-r--r--   0 simon      (501) staff       (20)     3862 2024-02-15 21:37:53.000000 Simba-UW-tf-dev-1.94.4/simba/unsupervised/tsne.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/bounding_box_tools/
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/bounding_box_tools/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)     8511 2024-02-08 00:53:55.000000 Simba-UW-tf-dev-1.94.4/simba/bounding_box_tools/agg_boundary_stats.py
--rw-r--r--   0 simon      (501) staff       (20)    27255 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/bounding_box_tools/boundary_menus.py
--rw-r--r--   0 simon      (501) staff       (20)    10064 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/bounding_box_tools/boundary_statistics.py
--rw-r--r--   0 simon      (501) staff       (20)     7146 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/bounding_box_tools/find_boundaries.py
--rw-r--r--   0 simon      (501) staff       (20)    12066 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/bounding_box_tools/visualize_boundaries.py
--rw-r--r--   0 simon      (501) staff       (20)    18436 2024-05-29 19:01:43.000000 Simba-UW-tf-dev-1.94.4/simba/.DS_Store
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/
--rw-r--r--   0 simon      (501) staff       (20)    57052 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/feature_extractor_14bp.py
--rw-r--r--   0 simon      (501) staff       (20)    28094 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/feature_extractor_7bp.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/
--rw-r--r--   0 simon      (501) staff       (20)     1757 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/doctests.py
--rw-r--r--   0 simon      (501) staff       (20)    29328 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/fish_feature_extractor_2023_version_3.py
--rw-r--r--   0 simon      (501) staff       (20)     2705 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/read_in_mp.py
--rw-r--r--   0 simon      (501) staff       (20)     2689 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/peaks.py
--rw-r--r--   0 simon      (501) staff       (20)    16727 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/fish_feature_extractor_2022.py
--rw-r--r--   0 simon      (501) staff       (20)     2144 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/convex_hull_3_scratch_3.py
--rw-r--r--   0 simon      (501) staff       (20)     5762 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/convex_hull_scratch_1.py
--rw-r--r--   0 simon      (501) staff       (20)    26425 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/fish_feature_extractor_2023_version_2.py
--rw-r--r--   0 simon      (501) staff       (20)     7535 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/egocentrical_aligner.py
--rw-r--r--   0 simon      (501) staff       (20)     1274 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/count_values_in_range.py
--rw-r--r--   0 simon      (501) staff       (20)     5011 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/graph_creator.py
--rw-r--r--   0 simon      (501) staff       (20)     3954 2024-02-07 20:55:52.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/termite_rois.csv
--rw-r--r--   0 simon      (501) staff       (20)      736 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/mutual_exclusive.py
--rw-r--r--   0 simon      (501) staff       (20)     2883 2024-02-07 20:55:52.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/video_color.py
--rw-r--r--   0 simon      (501) staff       (20)     2055 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/graph_3d_plotter.py
--rw-r--r--   0 simon      (501) staff       (20)     5515 2024-02-07 20:55:52.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/video_rotator.py
--rw-r--r--   0 simon      (501) staff       (20)     2932 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/add_probability_cnt_features.py
--rw-r--r--   0 simon      (501) staff       (20)     1619 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/make_splash.py
--rw-r--r--   0 simon      (501) staff       (20)    37024 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/fish_feature_extractor_2023_version_5.py
--rw-r--r--   0 simon      (501) staff       (20)     1613 2024-02-07 20:55:52.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/time_stamp_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)     5515 2024-02-07 20:55:52.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/video_rotator_mp.py
--rw-r--r--   0 simon      (501) staff       (20)    37022 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/fish_feature_extractor_2023_version_4.py
--rw-r--r--   0 simon      (501) staff       (20)     2068 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/convex_hull_scratch_2.py
--rw-r--r--   0 simon      (501) staff       (20)    36307 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/feature_extractor_8bps_2_animals.py
--rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/.DS_Store
--rw-r--r--   0 simon      (501) staff       (20)     4091 2024-02-16 21:14:07.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/perimeter_jit.py
--rw-r--r--   0 simon      (501) staff       (20)    26471 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/feature_subsets.py
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)    10043 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/feature_extractor_user_defined.py
--rw-r--r--   0 simon      (501) staff       (20)    61607 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/feature_extractor_16bp.py
--rw-r--r--   0 simon      (501) staff       (20)    37328 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/feature_extractor_9bp.py
--rw-r--r--   0 simon      (501) staff       (20)    31163 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/feature_extractor_8bp.py
--rw-r--r--   0 simon      (501) staff       (20)    21427 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/feature_extractor_4bp.py
--rw-r--r--   0 simon      (501) staff       (20)    65534 2024-03-01 16:55:51.000000 Simba-UW-tf-dev-1.94.4/simba/feature_extractors/amber_feature_extractor.py
--rw-r--r--   0 simon      (501) staff       (20)     1194 2024-05-21 19:04:49.000000 Simba-UW-tf-dev-1.94.4/simba/requirements.txt
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/
--rw-r--r--   0 simon      (501) staff       (20)    40917 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/annotator_mixin.py
--rw-r--r--   0 simon      (501) staff       (20)    84123 2024-05-09 15:16:46.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/timeseries_features_mixin.py
--rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/.DS_Store
--rw-r--r--   0 simon      (501) staff       (20)    53232 2024-03-29 19:51:46.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/pop_up_mixin.py
--rw-r--r--   0 simon      (501) staff       (20)    47980 2024-05-09 16:28:06.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/config_reader.py
--rw-r--r--   0 simon      (501) staff       (20)    56304 2024-04-17 23:32:32.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/circular_statistics.py
--rw-r--r--   0 simon      (501) staff       (20)    38682 2024-05-14 17:44:58.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/network_mixin.py
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)    24040 2024-04-18 18:35:47.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/pose_importer_mixin.py
--rw-r--r--   0 simon      (501) staff       (20)     3020 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/video_processing_mixin.py
--rw-r--r--   0 simon      (501) staff       (20)    35785 2024-05-09 15:22:35.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/feature_extraction_supplement_mixin.py
--rw-r--r--   0 simon      (501) staff       (20)   181397 2024-05-28 17:05:32.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/statistics_mixin.py
--rw-r--r--   0 simon      (501) staff       (20)    44711 2024-04-22 19:40:36.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/feature_extraction_mixin.py
--rw-r--r--   0 simon      (501) staff       (20)    69908 2024-05-06 18:32:12.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/plotting_mixin.py
--rw-r--r--   0 simon      (501) staff       (20)      391 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/abstract_classes.py
--rw-r--r--   0 simon      (501) staff       (20)    62121 2024-05-02 14:32:34.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/image_mixin.py
--rw-r--r--   0 simon      (501) staff       (20)      880 2024-03-06 18:18:27.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/unsupervised_mixin.py
--rw-r--r--   0 simon      (501) staff       (20)   133234 2024-05-08 23:47:18.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/train_model_mixin.py
--rw-r--r--   0 simon      (501) staff       (20)   167515 2024-05-09 16:36:03.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/geometry_mixin.py
--rw-r--r--   0 simon      (501) staff       (20)    24978 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/mixins/feature_extraction_circular_mixin.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/
--rw-r--r--   0 simon      (501) staff       (20)     6639 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/deepethogram_importer.py
--rw-r--r--   0 simon      (501) staff       (20)    12306 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/BORIS_appender.py
--rw-r--r--   0 simon      (501) staff       (20)     9739 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/observer_importer.py
--rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/.DS_Store
--rw-r--r--   0 simon      (501) staff       (20)     5508 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/boris_source_cleaner.py
--rw-r--r--   0 simon      (501) staff       (20)    18963 2024-04-26 14:35:34.000000 Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/tools.py
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)    17344 2024-04-26 18:13:38.000000 Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/third_party_appender.py
--rw-r--r--   0 simon      (501) staff       (20)     9215 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/ethovision_import.py
--rw-r--r--   0 simon      (501) staff       (20)     7456 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/BENTO_appender.py
--rw-r--r--   0 simon      (501) staff       (20)     5662 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/solomon_importer.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/cue_light_tools/
--rw-r--r--   0 simon      (501) staff       (20)     8841 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/cue_light_tools/cue_light_clf_statistics.py
--rw-r--r--   0 simon      (501) staff       (20)    14451 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/cue_light_tools/cue_light_analyzer.py
--rw-r--r--   0 simon      (501) staff       (20)    18274 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/cue_light_tools/cue_light_menues.py
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/cue_light_tools/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)     1921 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/cue_light_tools/cue_light_tools.py
--rw-r--r--   0 simon      (501) staff       (20)    19237 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/cue_light_tools/cue_light_visualizer.py
--rw-r--r--   0 simon      (501) staff       (20)    15281 2024-04-25 13:46:55.000000 Simba-UW-tf-dev-1.94.4/simba/cue_light_tools/cue_light_movement_statistics.py
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/__init__.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/utils/
--rw-r--r--   0 simon      (501) staff       (20)    13211 2024-02-16 01:12:37.000000 Simba-UW-tf-dev-1.94.4/simba/utils/config_creator.py
--rw-r--r--   0 simon      (501) staff       (20)    26151 2024-05-29 13:13:44.000000 Simba-UW-tf-dev-1.94.4/simba/utils/enums.py
--rw-r--r--   0 simon      (501) staff       (20)    10420 2024-04-11 20:25:55.000000 Simba-UW-tf-dev-1.94.4/simba/utils/custom_feature_extractor.py
--rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.4/simba/utils/.DS_Store
--rw-r--r--   0 simon      (501) staff       (20)     7808 2024-05-28 18:32:49.000000 Simba-UW-tf-dev-1.94.4/simba/utils/warnings.py
--rw-r--r--   0 simon      (501) staff       (20)    56026 2024-05-14 14:03:50.000000 Simba-UW-tf-dev-1.94.4/simba/utils/checks.py
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/utils/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)    80363 2024-05-29 19:56:00.000000 Simba-UW-tf-dev-1.94.4/simba/utils/read_write.py
--rw-r--r--   0 simon      (501) staff       (20)    17894 2024-05-20 18:02:46.000000 Simba-UW-tf-dev-1.94.4/simba/utils/lookups.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/utils/cli/
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/utils/cli/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)     7129 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/utils/cli/cli_tools.py
--rw-r--r--   0 simon      (501) staff       (20)      449 2024-05-20 18:02:46.000000 Simba-UW-tf-dev-1.94.4/simba/utils/find_fonts.py
--rw-r--r--   0 simon      (501) staff       (20)    17260 2024-05-29 12:43:58.000000 Simba-UW-tf-dev-1.94.4/simba/utils/errors.py
--rw-r--r--   0 simon      (501) staff       (20)    46270 2024-04-26 16:10:44.000000 Simba-UW-tf-dev-1.94.4/simba/utils/data.py
--rw-r--r--   0 simon      (501) staff       (20)     3993 2024-05-29 12:43:58.000000 Simba-UW-tf-dev-1.94.4/simba/utils/printing.py
--rw-r--r--   0 simon      (501) staff       (20)   243998 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/SimBA_logo.ico
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/pose_processors/
--rw-r--r--   0 simon      (501) staff       (20)     8626 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_processors/reorganize_keypoint.py
--rw-r--r--   0 simon      (501) staff       (20)     5840 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_processors/remove_keypoints.py
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_processors/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)     2872 2024-02-15 23:39:58.000000 Simba-UW-tf-dev-1.94.4/simba/pose_processors/pose_reset.py
--rw-r--r--   0 simon      (501) staff       (20)     6313 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_processors/reverse_pose.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/
--rw-r--r--   0 simon      (501) staff       (20)      786 2024-03-06 18:18:27.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/doctests.py
--rw-r--r--   0 simon      (501) staff       (20)    29328 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/fish_feature_extractor_2023_version_3.py
--rw-r--r--   0 simon      (501) staff       (20)     4080 2024-05-06 15:09:47.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/CLAHE.py
--rw-r--r--   0 simon      (501) staff       (20)     2387 2024-03-08 14:35:02.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/dprime.py
--rw-r--r--   0 simon      (501) staff       (20)     3869 2024-05-14 18:18:20.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/ffmpeg_progress_bar.py
--rw-r--r--   0 simon      (501) staff       (20)     2516 2024-03-18 17:01:43.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/linear_fretchet.py
--rw-r--r--   0 simon      (501) staff       (20)     2705 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/read_in_mp.py
--rw-r--r--   0 simon      (501) staff       (20)     2391 2024-03-14 12:45:59.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/piotr_120324 3.py.zip
--rw-r--r--   0 simon      (501) staff       (20)     2036 2024-03-28 18:29:59.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/dunn_index.py
--rw-r--r--   0 simon      (501) staff       (20)     5659 2024-05-21 15:47:24.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/reverse_videos.py
--rw-r--r--   0 simon      (501) staff       (20)     9124 2024-05-20 13:37:45.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/superimpose_text.py
--rw-r--r--   0 simon      (501) staff       (20)     3640 2024-04-08 13:30:56.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/hausdorff.py
--rw-r--r--   0 simon      (501) staff       (20)     2689 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/peaks.py
--rw-r--r--   0 simon      (501) staff       (20)    16727 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/fish_feature_extractor_2022.py
--rw-r--r--   0 simon      (501) staff       (20)     3494 2024-04-03 13:42:02.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/colinear_features.py
--rw-r--r--   0 simon      (501) staff       (20)     8921 2024-03-22 13:56:46.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/spontaneous_alternation_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)    21658 2024-04-10 16:31:38.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/horizontal_videos_concat.py
--rw-r--r--   0 simon      (501) staff       (20)     2144 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/convex_hull_3_scratch_3.py
--rw-r--r--   0 simon      (501) staff       (20)     1103 2024-03-29 16:26:34.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/silhouette_score.py
--rw-r--r--   0 simon      (501) staff       (20)     3607 2024-04-09 14:21:58.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/two_fish_feature_extractor_040924.py.zip
--rw-r--r--   0 simon      (501) staff       (20)    33092 2024-02-22 15:57:45.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/cuda_jit.ipynb
--rw-r--r--   0 simon      (501) staff       (20)     5762 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/convex_hull_scratch_1.py
--rw-r--r--   0 simon      (501) staff       (20)     1867 2024-03-12 19:23:40.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/directed_hausdorff.py
--rw-r--r--   0 simon      (501) staff       (20)    10103 2024-05-29 19:56:00.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/average_frm_popup.py
--rw-r--r--   0 simon      (501) staff       (20)      963 2024-03-13 18:20:52.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/shannon_diversity_index.py
--rw-r--r--   0 simon      (501) staff       (20)     3726 2024-03-12 13:31:58.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/sequential_lag_analysis.py
--rw-r--r--   0 simon      (501) staff       (20)     1254 2024-03-13 16:09:50.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/wilcoxon.py
--rw-r--r--   0 simon      (501) staff       (20)    21599 2024-04-22 16:40:51.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/ROI_plotter_mp.py
--rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/.DS_Store
--rw-r--r--   0 simon      (501) staff       (20)      549 2024-05-14 19:00:13.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/detect_scene_changes.py
--rw-r--r--   0 simon      (501) staff       (20)     3328 2024-03-08 15:05:36.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/data.npy
--rw-r--r--   0 simon      (501) staff       (20)    12626 2024-03-25 20:59:27.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/distances.py
--rw-r--r--   0 simon      (501) staff       (20)    26425 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/fish_feature_extractor_2023_version_2.py
--rw-r--r--   0 simon      (501) staff       (20)     2623 2024-05-03 16:20:12.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/cohens_kappa.py
--rw-r--r--   0 simon      (501) staff       (20)     4950 2024-05-14 14:14:15.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/watermark.py
--rw-r--r--   0 simon      (501) staff       (20)     2465 2024-03-08 17:38:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/paths.py
--rw-r--r--   0 simon      (501) staff       (20)     1048 2024-03-13 14:41:23.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/outliers_tietjen.py
--rw-r--r--   0 simon      (501) staff       (20)     1424 2024-02-26 15:46:14.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/train_model.py
--rw-r--r--   0 simon      (501) staff       (20)     2346 2024-04-19 14:10:16.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/img_stack_to_bw.py
--rw-r--r--   0 simon      (501) staff       (20)     3171 2024-02-27 21:31:05.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/amber_tests.py
--rw-r--r--   0 simon      (501) staff       (20)     3590 2024-03-11 17:05:31.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/line_locate_point.py
--rw-r--r--   0 simon      (501) staff       (20)     1841 2024-04-19 16:19:10.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/sorensen_dice_coefficient.py
--rw-r--r--   0 simon      (501) staff       (20)     3182 2024-02-24 20:57:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/multifrm_to_points.py
--rw-r--r--   0 simon      (501) staff       (20)      959 2024-05-16 13:12:21.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/clean_sleap_filename.py
--rw-r--r--   0 simon      (501) staff       (20)       69 2024-03-18 18:17:24.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/lcs.py
--rw-r--r--   0 simon      (501) staff       (20)    12448 2024-04-09 14:14:37.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/two_fish_feature_extractor_040924.py
--rw-r--r--   0 simon      (501) staff       (20)     6119 2024-04-20 17:58:22.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/ez_path_plot.py
--rw-r--r--   0 simon      (501) staff       (20)     7535 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/egocentrical_aligner.py
--rw-r--r--   0 simon      (501) staff       (20)     5109 2024-05-07 19:36:44.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/downsample_video_popup.py
--rw-r--r--   0 simon      (501) staff       (20)     2350 2024-03-12 17:58:33.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/add_body_part.py
--rw-r--r--   0 simon      (501) staff       (20)     1008 2024-03-12 13:29:20.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/grubbs_test.py
--rw-r--r--   0 simon      (501) staff       (20)     3399 2024-02-16 01:12:37.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/slide_circ_mean.py
--rw-r--r--   0 simon      (501) staff       (20)     1835 2024-03-28 22:56:59.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/calinski_harabasz.py
--rw-r--r--   0 simon      (501) staff       (20)     1282 2024-02-27 21:31:05.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/roi_feature_visualizer_example.py
--rw-r--r--   0 simon      (501) staff       (20)    10076 2024-03-22 16:51:40.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/spontaneuous_alternation_plotter.py
--rw-r--r--   0 simon      (501) staff       (20)      895 2024-03-12 14:09:55.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/runs_test.py
--rw-r--r--   0 simon      (501) staff       (20)     2516 2024-04-06 11:33:24.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/pct_counts_in_top_N.py
--rw-r--r--   0 simon      (501) staff       (20)     1095 2024-04-19 18:37:50.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/concordance_ratio.py
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:46:33.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)     2287 2024-03-25 16:45:04.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/total_variation_distance.py
--rw-r--r--   0 simon      (501) staff       (20)     3056 2024-02-27 21:31:05.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/crop_single_polygon.py
--rw-r--r--   0 simon      (501) staff       (20)    15977 2024-04-23 22:52:42.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/ROI_analyzer.py
--rw-r--r--   0 simon      (501) staff       (20)     8010 2024-03-24 19:48:22.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/joint_plotter.py
--rw-r--r--   0 simon      (501) staff       (20)     1529 2024-04-19 15:08:24.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/segment_image_horizontal.py
--rw-r--r--   0 simon      (501) staff       (20)    11145 2024-04-15 15:02:56.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/clip_multiple_videos_by_frame_numbers.py
--rw-r--r--   0 simon      (501) staff       (20)     2552 2024-04-02 14:48:59.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/elliptic_envelope.py
--rw-r--r--   0 simon      (501) staff       (20)     1016 2024-03-14 14:57:29.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/roi_definition_csvs_to_h5.py.zip
--rw-r--r--   0 simon      (501) staff       (20)     1276 2024-03-12 17:58:38.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/add_body_part.py.zip
--rw-r--r--   0 simon      (501) staff       (20)      921 2024-02-26 15:46:14.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/roi_feature_visualizer_example.py.zip
--rw-r--r--   0 simon      (501) staff       (20)     2631 2024-04-05 16:23:07.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/sliding_crosscorrelation.py
--rw-r--r--   0 simon      (501) staff       (20)     1274 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/count_values_in_range.py
--rw-r--r--   0 simon      (501) staff       (20)     2174 2024-03-14 14:56:26.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/roi_definition_csvs_to_h5.py
--rw-r--r--   0 simon      (501) staff       (20)     1656 2024-03-30 18:32:44.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/distance_velocity.py
--rw-r--r--   0 simon      (501) staff       (20)     5011 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/graph_creator.py
--rw-r--r--   0 simon      (501) staff       (20)     5666 2024-04-11 15:28:58.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/line_plot_plotly.py
--rw-r--r--   0 simon      (501) staff       (20)     3838 2024-05-14 11:30:22.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/crossfade.py
--rw-r--r--   0 simon      (501) staff       (20)     3043 2024-05-09 15:04:30.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/shift_geometries.py
--rw-r--r--   0 simon      (501) staff       (20)     3954 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/termite_rois.csv
--rw-r--r--   0 simon      (501) staff       (20)     9105 2024-05-26 19:36:57.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/convert_to_bw.py
--rw-r--r--   0 simon      (501) staff       (20)     5254 2024-05-07 19:55:25.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/downsample_multiple_videos_popup.py
--rw-r--r--   0 simon      (501) staff       (20)     1351 2024-03-26 21:10:40.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/unsupervised_lof.py
--rw-r--r--   0 simon      (501) staff       (20)     2553 2024-03-11 15:09:38.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/siegel_tukey.py
--rw-r--r--   0 simon      (501) staff       (20)      958 2024-03-13 18:05:08.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/berger_parker.py
--rw-r--r--   0 simon      (501) staff       (20)     4177 2024-04-10 01:56:43.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/isolation_forest.py
--rw-r--r--   0 simon      (501) staff       (20)     2845 2024-03-28 19:23:54.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/davis_bouldin.py
--rw-r--r--   0 simon      (501) staff       (20)     4094 2024-04-10 14:09:54.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/vertical_video_concatenator.py
--rw-r--r--   0 simon      (501) staff       (20)     2770 2024-04-07 19:14:13.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/batch_video_to_greyscale.py
--rw-r--r--   0 simon      (501) staff       (20)     7215 2024-02-26 15:46:14.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/crop_circles_pop_up.py
--rw-r--r--   0 simon      (501) staff       (20)     1410 2024-03-19 12:49:24.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/heading.py
--rw-r--r--   0 simon      (501) staff       (20)     2243 2024-03-13 18:35:02.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/piotr_120324 2.py.zip
--rw-r--r--   0 simon      (501) staff       (20)      736 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/mutual_exclusive.py
--rw-r--r--   0 simon      (501) staff       (20)     2278 2024-05-04 19:11:33.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/mahalanobis.py
--rw-r--r--   0 simon      (501) staff       (20)     1626 2024-05-08 16:59:35.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/superpixels.py
--rw-r--r--   0 simon      (501) staff       (20)     2225 2024-05-09 20:57:38.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/img_conv.py
--rw-r--r--   0 simon      (501) staff       (20)     2907 2024-03-14 19:31:25.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/grangercausalitytests.py
--rw-r--r--   0 simon      (501) staff       (20)     2432 2024-03-19 20:48:43.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/multiframe_is_shape_covered.py
--rw-r--r--   0 simon      (501) staff       (20)      592 2024-02-27 21:31:33.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/redis.py
--rw-r--r--   0 simon      (501) staff       (20)     2893 2024-02-26 20:49:33.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/video_color.py
--rw-r--r--   0 simon      (501) staff       (20)     2055 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/graph_3d_plotter.py
--rw-r--r--   0 simon      (501) staff       (20)     3137 2024-05-15 15:22:04.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/blurbox.py
--rw-r--r--   0 simon      (501) staff       (20)     6186 2024-03-18 12:44:45.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/piotr_120324.py
--rw-r--r--   0 simon      (501) staff       (20)     5515 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/video_rotator.py
--rw-r--r--   0 simon      (501) staff       (20)     4166 2024-05-06 21:09:36.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/superimpose_frame_count.py
--rw-r--r--   0 simon      (501) staff       (20)     5433 2024-05-14 15:38:59.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/inset_overlay_video.py
--rw-r--r--   0 simon      (501) staff       (20)     1004 2024-03-12 13:11:45.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/hartley_fmax.py
--rw-r--r--   0 simon      (501) staff       (20)       84 2024-04-03 17:05:23.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/calc_N_degree_direction_switches.py
--rw-r--r--   0 simon      (501) staff       (20)     5235 2024-05-21 14:58:08.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/superimpose_frm_cnt.py
--rw-r--r--   0 simon      (501) staff       (20)     2307 2024-02-27 21:31:33.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/fix_clahe.py
--rw-r--r--   0 simon      (501) staff       (20)     1836 2024-03-10 15:38:46.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/cochran_q.py
--rw-r--r--   0 simon      (501) staff       (20)    12687 2024-05-23 17:51:18.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/increase_fps.py
--rw-r--r--   0 simon      (501) staff       (20)      682 2024-03-13 19:19:43.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/menhinicks_index.py
--rw-r--r--   0 simon      (501) staff       (20)      493 2024-05-02 16:25:29.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/lbp.py
--rw-r--r--   0 simon      (501) staff       (20)     2932 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/add_probability_cnt_features.py
--rw-r--r--   0 simon      (501) staff       (20)     1559 2024-04-19 15:50:37.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/brillouins_index.py
--rw-r--r--   0 simon      (501) staff       (20)    13575 2024-03-20 11:47:11.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/spontanous_alternations.py
--rw-r--r--   0 simon      (501) staff       (20)     1951 2024-05-03 14:45:28.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/eta_squared.py
--rw-r--r--   0 simon      (501) staff       (20)     2268 2024-03-13 13:59:07.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/piotr_120324.py.zip
--rw-r--r--   0 simon      (501) staff       (20)    16301 2024-05-13 14:59:18.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/convert_to_mp4.py
--rw-r--r--   0 simon      (501) staff       (20)     4655 2024-03-06 18:18:27.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/velocity_aggregator.py
--rw-r--r--   0 simon      (501) staff       (20)     1619 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/make_splash.py
--rw-r--r--   0 simon      (501) staff       (20)     6440 2024-05-09 20:10:17.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/change_img_file_format.py
--rw-r--r--   0 simon      (501) staff       (20)     4478 2024-04-08 20:43:42.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/abod.py
--rw-r--r--   0 simon      (501) staff       (20)      288 2024-05-23 15:06:34.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/change_n_jobs_scikit.py
--rw-r--r--   0 simon      (501) staff       (20)    37024 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/fish_feature_extractor_2023_version_5.py
--rw-r--r--   0 simon      (501) staff       (20)     1374 2024-04-18 13:56:20.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/violin.py
--rw-r--r--   0 simon      (501) staff       (20)     7416 2024-05-21 19:56:04.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/bg_remover_popup.py
--rw-r--r--   0 simon      (501) staff       (20)    16527 2024-05-17 20:38:47.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/bg_substraction.py
--rw-r--r--   0 simon      (501) staff       (20)     1073 2024-03-13 16:46:16.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/simpson_diversity_index.py
--rw-r--r--   0 simon      (501) staff       (20)     4485 2024-04-14 19:07:54.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/clip_videos_by_frm.py
--rw-r--r--   0 simon      (501) staff       (20)      770 2024-05-02 20:50:37.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/fleiss_kappa.py
--rw-r--r--   0 simon      (501) staff       (20)     2396 2024-03-17 16:55:38.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/piotr_120324 4.py.zip
--rw-r--r--   0 simon      (501) staff       (20)    12282 2024-05-12 17:13:08.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/convert_to_popup.py
--rw-r--r--   0 simon      (501) staff       (20)     1106 2024-04-18 13:46:43.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/rotate image.py
--rw-r--r--   0 simon      (501) staff       (20)     1214 2024-05-03 17:07:43.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/jaccard_distance.py
--rw-r--r--   0 simon      (501) staff       (20)     5336 2024-02-10 20:28:08.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/geometry_ex.py
--rw-r--r--   0 simon      (501) staff       (20)     1613 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/time_stamp_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)     1505 2024-03-28 14:36:24.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/line_plot.py
--rw-r--r--   0 simon      (501) staff       (20)     5515 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/video_rotator_mp.py
--rw-r--r--   0 simon      (501) staff       (20)    15996 2024-04-09 13:41:30.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/unsupervised_outliers.py
--rw-r--r--   0 simon      (501) staff       (20)      122 2024-05-15 13:58:53.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/profiler.py
--rw-r--r--   0 simon      (501) staff       (20)     1378 2024-05-03 20:13:55.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/manhattan_distance.py
--rw-r--r--   0 simon      (501) staff       (20)     5690 2024-02-10 20:28:08.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/statistics_ex.py
--rw-r--r--   0 simon      (501) staff       (20)    16646 2024-04-22 16:43:10.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/ROI_plotter.py
--rw-r--r--   0 simon      (501) staff       (20)    18966 2024-05-22 17:25:12.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/rotate.py
--rw-r--r--   0 simon      (501) staff       (20)     1391 2024-03-18 23:21:46.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/sliding_displacement.py
--rw-r--r--   0 simon      (501) staff       (20)     7819 2024-04-18 14:47:28.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/path_plots.py
--rw-r--r--   0 simon      (501) staff       (20)     2671 2024-05-08 14:43:03.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/seekable.py
--rw-r--r--   0 simon      (501) staff       (20)    26677 2024-05-20 14:18:40.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/superimpose_popups.py
--rw-r--r--   0 simon      (501) staff       (20)     6285 2024-05-26 11:42:50.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/superimpose_elapsed_time.py
--rw-r--r--   0 simon      (501) staff       (20)      925 2024-03-11 13:06:04.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/wald_wolfowitz.py
--rw-r--r--   0 simon      (501) staff       (20)     2425 2024-05-03 15:57:50.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/relative_risk.py
--rw-r--r--   0 simon      (501) staff       (20)     1814 2024-04-05 14:36:58.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/sliding_autoc.py
--rw-r--r--   0 simon      (501) staff       (20)     2369 2024-03-14 17:07:10.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/linestring_path.py
--rw-r--r--   0 simon      (501) staff       (20)     2233 2024-03-18 15:20:48.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/cronbach_alpha.py
--rw-r--r--   0 simon      (501) staff       (20)     2809 2024-03-08 21:15:58.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/mcnamar.py
--rw-r--r--   0 simon      (501) staff       (20)     6507 2024-05-06 12:58:30.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/contrast.py
--rw-r--r--   0 simon      (501) staff       (20)    37022 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/fish_feature_extractor_2023_version_4.py
--rw-r--r--   0 simon      (501) staff       (20)     6220 2024-02-24 20:57:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/AmberFeatureExtractor.py.zip
--rw-r--r--   0 simon      (501) staff       (20)     1157 2024-05-02 20:32:28.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/youden_j.py
--rw-r--r--   0 simon      (501) staff       (20)     6595 2024-05-26 11:58:39.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/reverse_popup.py
--rw-r--r--   0 simon      (501) staff       (20)     1933 2024-04-10 15:09:25.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/mosaic.py
--rw-r--r--   0 simon      (501) staff       (20)      441 2024-04-12 17:03:24.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/bouts_df
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-05-06 15:36:55.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/color_filtering.py
--rw-r--r--   0 simon      (501) staff       (20)    69423 2024-02-20 14:30:23.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/amber_featurizer.py
--rw-r--r--   0 simon      (501) staff       (20)     6286 2024-04-17 19:28:51.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/make_path_plot.py
--rw-r--r--   0 simon      (501) staff       (20)      837 2024-03-13 18:56:21.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/margalef_diversification_index.py
--rw-r--r--   0 simon      (501) staff       (20)      997 2024-03-17 17:49:00.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/biweight_midcorrelation.py
--rw-r--r--   0 simon      (501) staff       (20)     2186 2024-03-18 15:31:23.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/madmedianrule.py
--rw-r--r--   0 simon      (501) staff       (20)     2915 2024-04-01 14:12:59.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/adjusted_rand_score.py
--rw-r--r--   0 simon      (501) staff       (20)     2068 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/convex_hull_scratch_2.py
--rw-r--r--   0 simon      (501) staff       (20)     1957 2024-04-12 14:55:03.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/plotly_gantt.py
--rw-r--r--   0 simon      (501) staff       (20)    14761 2024-05-28 18:07:05.000000 Simba-UW-tf-dev-1.94.4/simba/sandbox/create_gif.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/
--rw-r--r--   0 simon      (501) staff       (20)     8538 2024-02-23 18:25:51.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/directing_animals_to_bodypart_visualizer.py
--rw-r--r--   0 simon      (501) staff       (20)    10307 2024-05-06 15:39:18.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/gantt_creator.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/tools/
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:43:56.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/tools/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)     5946 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/tools/tkinter_tools.py
--rw-r--r--   0 simon      (501) staff       (20)    23558 2024-05-21 13:05:48.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/ROI_plotter_mp.py
--rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/.DS_Store
--rw-r--r--   0 simon      (501) staff       (20)    19315 2024-05-08 18:11:04.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/shap_agg_stats_visualizer.py
--rw-r--r--   0 simon      (501) staff       (20)    12956 2024-05-06 15:39:18.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/gantt_creator_mp.py
--rw-r--r--   0 simon      (501) staff       (20)    15819 2024-04-25 18:19:38.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/heat_mapper_clf_mp.py
--rw-r--r--   0 simon      (501) staff       (20)    10620 2024-04-26 18:13:38.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/probability_plot_creator.py
--rw-r--r--   0 simon      (501) staff       (20)     8987 2024-05-09 16:36:03.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/circular_plotting.py
--rw-r--r--   0 simon      (501) staff       (20)    16960 2024-05-06 15:39:18.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/plot_clf_results.py
--rw-r--r--   0 simon      (501) staff       (20)    10328 2024-04-25 15:48:10.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/ez_path_plot.py
--rw-r--r--   0 simon      (501) staff       (20)    17432 2024-04-17 23:57:27.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/plot_clf_results_mp.py
--rw-r--r--   0 simon      (501) staff       (20)    21343 2024-04-29 18:50:27.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/ROI_feature_visualizer.py
--rw-r--r--   0 simon      (501) staff       (20)    14847 2024-05-06 15:39:18.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/heat_mapper_location.py
--rw-r--r--   0 simon      (501) staff       (20)    13512 2024-04-26 18:13:38.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/probability_plot_creator_mp.py
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-05-22 12:32:05.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)     5253 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/interactive_probability_grapher.py
--rw-r--r--   0 simon      (501) staff       (20)     6517 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/plot_pose_in_dir.py
--rw-r--r--   0 simon      (501) staff       (20)    20950 2024-04-11 20:25:55.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/single_run_model_validation_video.py
--rw-r--r--   0 simon      (501) staff       (20)     8732 2024-04-11 20:42:04.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/frame_mergerer_ffmpeg.py
--rw-r--r--   0 simon      (501) staff       (20)    10667 2024-04-03 23:24:04.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/pose_plotter_mp.py
--rw-r--r--   0 simon      (501) staff       (20)    16477 2024-04-25 18:30:53.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/directing_animals_visualizer_mp.py
--rw-r--r--   0 simon      (501) staff       (20)    11565 2024-04-28 20:02:42.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/clf_validator.py
--rw-r--r--   0 simon      (501) staff       (20)    23459 2024-04-25 18:18:16.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/path_plotter_mp.py
--rw-r--r--   0 simon      (501) staff       (20)    24207 2024-05-07 12:24:30.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/ROI_feature_visualizer_mp.py
--rw-r--r--   0 simon      (501) staff       (20)    11824 2024-04-17 19:58:21.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/data_plotter.py
--rw-r--r--   0 simon      (501) staff       (20)    13091 2024-03-26 23:49:10.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/spontaneous_alternation_plotter.py
--rw-r--r--   0 simon      (501) staff       (20)    21979 2024-04-25 18:18:16.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/path_plotter.py
--rw-r--r--   0 simon      (501) staff       (20)    16926 2024-04-25 19:01:12.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/distance_plotter_mp.py
--rw-r--r--   0 simon      (501) staff       (20)    17579 2024-05-21 13:05:48.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/ROI_plotter.py
--rw-r--r--   0 simon      (501) staff       (20)    10034 2024-03-19 12:54:07.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/geometry_plotter.py
--rw-r--r--   0 simon      (501) staff       (20)    15989 2024-04-28 20:02:42.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/clf_validator_mp.py
--rw-r--r--   0 simon      (501) staff       (20)    14224 2024-04-25 18:19:38.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/heat_mapper_clf.py
--rw-r--r--   0 simon      (501) staff       (20)    11994 2024-04-11 22:38:54.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/distance_plotter.py
--rw-r--r--   0 simon      (501) staff       (20)    19073 2024-04-11 20:26:33.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/single_run_model_validation_video_mp.py
--rw-r--r--   0 simon      (501) staff       (20)    12552 2024-04-25 18:30:28.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/directing_animals_visualizer.py
--rw-r--r--   0 simon      (501) staff       (20)     9549 2024-05-09 16:36:03.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/circular_feature_overlay_plotter.py
--rw-r--r--   0 simon      (501) staff       (20)    14663 2024-05-06 15:39:18.000000 Simba-UW-tf-dev-1.94.4/simba/plotting/heat_mapper_location_mp.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/dash_app/
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:44:15.000000 Simba-UW-tf-dev-1.94.4/simba/dash_app/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)    72715 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/dash_app/SimBA_dash_app.py
--rw-r--r--   0 simon      (501) staff       (20)     4965 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/dash_app/run_dash_tkinter.py
--rw-r--r--   0 simon      (501) staff       (20)    47546 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/dash_app/dash_app.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/
--rw-r--r--   0 simon      (501) staff       (20)    13060 2024-04-26 18:13:38.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/spontaneous_alternation_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)    11813 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/agg_clf_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/.DS_Store
--rw-r--r--   0 simon      (501) staff       (20)    13224 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/severity_bout_based_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)    39110 2024-03-19 12:54:07.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/interpolation_smoothing.py
--rw-r--r--   0 simon      (501) staff       (20)    10968 2024-02-21 19:10:40.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/directing_animal_to_bodypart.py
--rw-r--r--   0 simon      (501) staff       (20)     9580 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/timebins_clf_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)    20617 2024-04-18 21:13:37.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/fsttc_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)     4872 2024-04-26 15:18:54.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/boolean_conditional_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)     7117 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/interpolate_pose.py
--rw-r--r--   0 simon      (501) staff       (20)    15989 2024-04-25 16:23:13.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/directing_other_animals_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)     8957 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/gibbs_sampler.py
--rw-r--r--   0 simon      (501) staff       (20)    10054 2024-04-04 16:23:22.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/timebins_movement_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)     5255 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/severity_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)    18517 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/pup_retrieval_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)     3118 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/pybursts_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)    13660 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/severity_frame_based_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)     8738 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/mutual_exclusivity_corrector.py
--rw-r--r--   0 simon      (501) staff       (20)    12919 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/kleinberg_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)    10196 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/data_processors/movement_calculator.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/model/
--rw-r--r--   0 simon      (501) staff       (20)    22005 2024-05-28 13:01:19.000000 Simba-UW-tf-dev-1.94.4/simba/model/train_rf.py
--rw-r--r--   0 simon      (501) staff       (20)     4969 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/model/inference_batch.py
--rw-r--r--   0 simon      (501) staff       (20)    14036 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/model/train_multiclass_rf.py
--rw-r--r--   0 simon      (501) staff       (20)     3937 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/model/inference_multiclass_batch.py
--rw-r--r--   0 simon      (501) staff       (20)    15931 2024-02-20 14:30:06.000000 Simba-UW-tf-dev-1.94.4/simba/model/grid_search_multiclass_rf.py
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:41:19.000000 Simba-UW-tf-dev-1.94.4/simba/model/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)    14317 2024-05-08 23:47:18.000000 Simba-UW-tf-dev-1.94.4/simba/model/grid_search_rf.py
--rw-r--r--   0 simon      (501) staff       (20)     3768 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/model/inference_validation.py
--rw-r--r--   0 simon      (501) staff       (20)     6872 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/model/train_multilabel_rf.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/roi_tools/
--rw-r--r--   0 simon      (501) staff       (20)    11039 2024-05-09 16:32:28.000000 Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_time_bin_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.4/simba/roi_tools/.DS_Store
--rw-r--r--   0 simon      (501) staff       (20)    50014 2024-05-17 13:19:01.000000 Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_define.py
--rw-r--r--   0 simon      (501) staff       (20)     3616 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_reset.py
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/roi_tools/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)     9876 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_size_standardizer.py
--rw-r--r--   0 simon      (501) staff       (20)    18552 2024-05-09 16:13:09.000000 Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_analyzer.py
--rw-r--r--   0 simon      (501) staff       (20)    15406 2024-05-07 01:16:15.000000 Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_feature_analyzer.py
--rw-r--r--   0 simon      (501) staff       (20)     4386 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_multiply.py
--rw-r--r--   0 simon      (501) staff       (20)     2313 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_size_calculations.py
--rw-r--r--   0 simon      (501) staff       (20)     3716 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_zoom.py
--rw-r--r--   0 simon      (501) staff       (20)    12313 2024-04-25 16:23:13.000000 Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_directing_analyzer.py
--rw-r--r--   0 simon      (501) staff       (20)    11974 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_move_shape.py
--rw-r--r--   0 simon      (501) staff       (20)     5470 2024-02-21 03:51:46.000000 Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_menus.py
--rw-r--r--   0 simon      (501) staff       (20)    16129 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_clf_calculator.py
--rw-r--r--   0 simon      (501) staff       (20)    29746 2024-05-17 13:17:50.000000 Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_image.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/pose_importers/
--rw-r--r--   0 simon      (501) staff       (20)    10711 2024-02-20 21:35:22.000000 Simba-UW-tf-dev-1.94.4/simba/pose_importers/sleap_csv_importer.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/pose_importers/misc/
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:47:31.000000 Simba-UW-tf-dev-1.94.4/simba/pose_importers/misc/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)     8084 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_importers/misc/apt_trk_importer.py
--rw-r--r--   0 simon      (501) staff       (20)     2577 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_importers/read_DANNCE_mat.py
--rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.4/simba/pose_importers/.DS_Store
--rw-r--r--   0 simon      (501) staff       (20)    13867 2024-05-16 18:24:39.000000 Simba-UW-tf-dev-1.94.4/simba/pose_importers/sleap_h5_importer.py
--rw-r--r--   0 simon      (501) staff       (20)     8161 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_importers/madlc_importer.py
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_importers/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)    13672 2024-02-20 21:35:22.000000 Simba-UW-tf-dev-1.94.4/simba/pose_importers/sleap_slp_importer.py
--rw-r--r--   0 simon      (501) staff       (20)     8645 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_importers/import_mars.py
--rw-r--r--   0 simon      (501) staff       (20)     7464 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_importers/dlc_importer_csv.py
--rw-r--r--   0 simon      (501) staff       (20)     8417 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_importers/trk_importer.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/
--rw-r--r--   0 simon      (501) staff       (20)     8196 2024-03-19 18:18:43.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/.DS_Store
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/bp_names/
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:47:10.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/bp_names/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)     4485 2024-03-04 19:10:54.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/bp_names/bp_names.csv
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/no_animals/
--rw-r--r--   0 simon      (501) staff       (20)       27 2024-03-04 19:10:54.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/no_animals/no_animals.csv
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:47:18.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/no_animals/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:47:05.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/__init__.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/configuration_names/
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:47:14.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/configuration_names/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)      273 2024-03-04 19:10:54.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/configuration_names/pose_config_names.csv
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/
--rw-r--r--   0 simon      (501) staff       (20)    39805 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/8.png
--rw-r--r--   0 simon      (501) staff       (20)    62501 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/9.png
--rw-r--r--   0 simon      (501) staff       (20)     6172 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/12.png
--rw-r--r--   0 simon      (501) staff       (20)    34231 2024-02-20 18:50:39.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/13.png
--rw-r--r--   0 simon      (501) staff       (20)    69501 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/11.png
--rw-r--r--   0 simon      (501) staff       (20)    69410 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/10.png
--rw-r--r--   0 simon      (501) staff       (20)    16000 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/4.png
--rw-r--r--   0 simon      (501) staff       (20)    28150 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/5.png
--rw-r--r--   0 simon      (501) staff       (20)    31140 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/7.png
--rw-r--r--   0 simon      (501) staff       (20)    30634 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/6.png
--rw-r--r--   0 simon      (501) staff       (20)    15417 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/2.png
--rw-r--r--   0 simon      (501) staff       (20)    15786 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/3.png
--rw-r--r--   0 simon      (501) staff       (20)    18939 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/1.png
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/video_processors/
--rw-r--r--   0 simon      (501) staff       (20)   220343 2024-05-29 18:56:05.000000 Simba-UW-tf-dev-1.94.4/simba/video_processors/video_processing.py
--rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.4/simba/video_processors/.DS_Store
--rw-r--r--   0 simon      (501) staff       (20)     5577 2024-04-08 11:29:52.000000 Simba-UW-tf-dev-1.94.4/simba/video_processors/roi_selector_circle.py
--rw-r--r--   0 simon      (501) staff       (20)     9073 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/video_processors/px_to_mm.py
--rw-r--r--   0 simon      (501) staff       (20)    35053 2024-02-26 15:42:07.000000 Simba-UW-tf-dev-1.94.4/simba/video_processors/batch_process_menus.py
--rw-r--r--   0 simon      (501) staff       (20)    11439 2024-05-14 20:38:00.000000 Simba-UW-tf-dev-1.94.4/simba/video_processors/multi_cropper.py
--rw-r--r--   0 simon      (501) staff       (20)     3066 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/video_processors/extract_frames.py
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/video_processors/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)     6598 2024-02-26 21:50:01.000000 Simba-UW-tf-dev-1.94.4/simba/video_processors/roi_selector.py
--rw-r--r--   0 simon      (501) staff       (20)    10007 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/video_processors/calculate_px_dist.py
--rw-r--r--   0 simon      (501) staff       (20)     3674 2024-05-06 19:29:28.000000 Simba-UW-tf-dev-1.94.4/simba/video_processors/brightness_contrast_ui.py
--rw-r--r--   0 simon      (501) staff       (20)     5963 2024-02-27 21:31:05.000000 Simba-UW-tf-dev-1.94.4/simba/video_processors/roi_selector_polygon.py
--rw-r--r--   0 simon      (501) staff       (20)     4926 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/video_processors/extract_seqframes.py
--rw-r--r--   0 simon      (501) staff       (20)    15117 2024-04-11 20:42:04.000000 Simba-UW-tf-dev-1.94.4/simba/video_processors/batch_process_create_ffmpeg_commands.py
--rw-r--r--   0 simon      (501) staff       (20)     3595 2024-05-06 15:51:58.000000 Simba-UW-tf-dev-1.94.4/simba/video_processors/clahe_ui.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/outlier_tools/
--rw-r--r--   0 simon      (501) staff       (20)     7837 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/outlier_tools/outlier_corrector_movement.py
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/outlier_tools/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)    14462 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/outlier_tools/outlier_corrector_location_advanced.py
--rw-r--r--   0 simon      (501) staff       (20)    13117 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/outlier_tools/outlier_corrector_movement_advanced.py
--rw-r--r--   0 simon      (501) staff       (20)    10396 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/outlier_tools/outlier_corrector_location.py
--rw-r--r--   0 simon      (501) staff       (20)     2751 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/outlier_tools/skip_outlier_correction.py
--rw-r--r--   0 simon      (501) staff       (20)    85074 2024-05-29 19:03:32.000000 Simba-UW-tf-dev-1.94.4/simba/SimBA.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/assets/
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/assets/unsupervised/
--rw-r--r--   0 simon      (501) staff       (20)   109483 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/unsupervised/model_names.parquet
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:45:36.000000 Simba-UW-tf-dev-1.94.4/simba/assets/unsupervised/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)    14175 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/unsupervised/features.csv
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/assets/shap/
--rw-r--r--   0 simon      (501) staff       (20)     1177 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/shap/down_arrow.jpg
--rw-r--r--   0 simon      (501) staff       (20)     1733 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/shap/intruder_shape.jpg
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/assets/shap/feature_categories/
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:45:25.000000 Simba-UW-tf-dev-1.94.4/simba/assets/shap/feature_categories/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)    17420 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/shap/feature_categories/shap_feature_categories.csv
--rw-r--r--   0 simon      (501) staff       (20)     1665 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/shap/resident_shape.jpg
--rw-r--r--   0 simon      (501) staff       (20)     2415 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/shap/resident_intruder_shape.jpg
--rw-r--r--   0 simon      (501) staff       (20)     2012 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/shap/animal_distances.jpg
--rw-r--r--   0 simon      (501) staff       (20)     4422 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/shap/baseline_scale.jpg
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:45:21.000000 Simba-UW-tf-dev-1.94.4/simba/assets/shap/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)   353824 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/shap/ubuntu.regular.ttf
--rw-r--r--   0 simon      (501) staff       (20)     6672 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/shap/side_scale.jpg
--rw-r--r--   0 simon      (501) staff       (20)   189004 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/shap/UbuntuMono-Regular.ttf
--rw-r--r--   0 simon      (501) staff       (20)     2737 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/shap/side_scale_5.jpg
--rw-r--r--   0 simon      (501) staff       (20)     1785 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/shap/intruder_movement.jpg
--rw-r--r--   0 simon      (501) staff       (20)     1435 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/shap/resident_movement.jpg
--rw-r--r--   0 simon      (501) staff       (20)     3134 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/shap/color_bar.jpg
--rw-r--r--   0 simon      (501) staff       (20)     2120 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/shap/resident_intruder_movement.jpg
--rw-r--r--   0 simon      (501) staff       (20)    10244 2024-05-29 19:01:43.000000 Simba-UW-tf-dev-1.94.4/simba/assets/.DS_Store
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/assets/lookups/
--rw-r--r--   0 simon      (501) staff       (20)   270783 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/lookups/model_names.parquet
--rw-r--r--   0 simon      (501) staff       (20)     2987 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/lookups/feature_extraction_headers.csv
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:45:11.000000 Simba-UW-tf-dev-1.94.4/simba/assets/lookups/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)    26256 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/lookups/critical_values_05.pickle
--rw-r--r--   0 simon      (501) staff       (20)    14175 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/lookups/features.csv
--rw-r--r--   0 simon      (501) staff       (20)    14175 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/lookups/unsupervised_example_x.csv
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:41:54.000000 Simba-UW-tf-dev-1.94.4/simba/assets/__init__.py
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/assets/stl/
--rw-r--r--   0 simon      (501) staff       (20)   551576 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/stl/operant_tray.stl
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:45:31.000000 Simba-UW-tf-dev-1.94.4/simba/assets/stl/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)    67647 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/stl/operant_lever.stl
--rw-r--r--   0 simon      (501) staff       (20)    92896 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/stl/operant_walls.stl
--rw-r--r--   0 simon      (501) staff       (20)  4759984 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/stl/grid_floor.stl
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/assets/img/
--rw-r--r--   0 simon      (501) staff       (20)   489479 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/img/splash_2024.mp4
--rw-r--r--   0 simon      (501) staff       (20)    79863 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/img/bg_2024.png
--rw-r--r--   0 simon      (501) staff       (20)   399272 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/img/about_me.png
--rw-r--r--   0 simon      (501) staff       (20)   117108 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/img/splash.mp4
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:45:02.000000 Simba-UW-tf-dev-1.94.4/simba/assets/img/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)   322242 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/img/bg_2.png
--rw-r--r--   0 simon      (501) staff       (20)      165 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/img/~$splash.pptx
--rw-r--r--   0 simon      (501) staff       (20)    69267 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/img/splash.pptx
--rw-r--r--   0 simon      (501) staff       (20)   204362 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/img/bg.png
--rw-r--r--   0 simon      (501) staff       (20)   189004 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/UbuntuMono-Regular.ttf
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/
--rw-r--r--   0 simon      (501) staff       (20)     1350 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/factory.png
--rw-r--r--   0 simon      (501) staff       (20)     1413 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/cluster.png
--rw-r--r--   0 simon      (501) staff       (20)     1340 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/load.png
--rw-r--r--   0 simon      (501) staff       (20)     4507 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/gif.png
--rw-r--r--   0 simon      (501) staff       (20)     4566 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/pose.png
--rw-r--r--   0 simon      (501) staff       (20)     1943 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/features.png
--rw-r--r--   0 simon      (501) staff       (20)     6148 2024-04-09 15:42:22.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/.DS_Store
--rw-r--r--   0 simon      (501) staff       (20)     4896 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/settings.png
--rw-r--r--   0 simon      (501) staff       (20)     2090 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/stopwatch.png
--rw-r--r--   0 simon      (501) staff       (20)     1252 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/link.png
--rw-r--r--   0 simon      (501) staff       (20)     4557 2024-05-29 16:23:52.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/concat_videos.png
--rw-r--r--   0 simon      (501) staff       (20)      936 2024-05-29 17:22:01.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/average.png
--rw-r--r--   0 simon      (501) staff       (20)    14250 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/dash_simba.css
--rw-r--r--   0 simon      (501) staff       (20)      917 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/documentation.png
--rw-r--r--   0 simon      (501) staff       (20)     4503 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/fps.png
--rw-r--r--   0 simon      (501) staff       (20)     1299 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/dimensionality_reduction.png
--rw-r--r--   0 simon      (501) staff       (20)     4823 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/roi.png
--rw-r--r--   0 simon      (501) staff       (20)   171446 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/simba_logo_2.png
--rw-r--r--   0 simon      (501) staff       (20)      920 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/superimpose.png
--rw-r--r--   0 simon      (501) staff       (20)     1136 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/label.png
--rw-r--r--   0 simon      (501) staff       (20)     1016 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/change.png
--rw-r--r--   0 simon      (501) staff       (20)    59896 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/readthedocs_logo.png
--rw-r--r--   0 simon      (501) staff       (20)     1124 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/crop.png
--rw-r--r--   0 simon      (501) staff       (20)     2146 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/rotate.png
--rw-r--r--   0 simon      (501) staff       (20)     4267 2024-05-20 14:19:55.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/blur.png
--rw-r--r--   0 simon      (501) staff       (20)     1921 2024-02-26 14:29:54.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/circle.png
--rw-r--r--   0 simon      (501) staff       (20)     1150 2024-05-21 20:46:30.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/remove_bg.png
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:44:37.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)     1057 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/path.png
--rw-r--r--   0 simon      (501) staff       (20)     1148 2024-02-26 20:39:14.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/polygon.png
--rw-r--r--   0 simon      (501) staff       (20)     4273 2024-05-29 19:01:18.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/crossfade.png
--rw-r--r--   0 simon      (501) staff       (20)      950 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/clip.png
--rw-r--r--   0 simon      (501) staff       (20)     2121 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/restart.png
--rw-r--r--   0 simon      (501) staff       (20)     4653 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/calipher.png
--rw-r--r--   0 simon      (501) staff       (20)     1291 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/add_on.png
--rw-r--r--   0 simon      (501) staff       (20)     4695 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/create.png
--rw-r--r--   0 simon      (501) staff       (20)    78182 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/SimBA_logo.ico
--rw-r--r--   0 simon      (501) staff       (20)     1067 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/print.png
--rw-r--r--   0 simon      (501) staff       (20)     4653 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/clf.png
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/concat_icons/
--rw-r--r--   0 simon      (501) staff       (20)     6027 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/concat_icons/mosaic.png
--rw-r--r--   0 simon      (501) staff       (20)     5654 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/concat_icons/vertical.png
--rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:44:45.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/concat_icons/__init__.py
--rw-r--r--   0 simon      (501) staff       (20)     5542 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/concat_icons/horizontal.png
--rw-r--r--   0 simon      (501) staff       (20)     5939 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/concat_icons/mixed_mosaic.png
--rw-r--r--   0 simon      (501) staff       (20)     4256 2024-05-06 13:20:42.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/brightness.png
--rw-r--r--   0 simon      (501) staff       (20)     2060 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/merge.png
--rw-r--r--   0 simon      (501) staff       (20)     1252 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/clean.png
--rw-r--r--   0 simon      (501) staff       (20)     4725 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/clf_2.png
--rw-r--r--   0 simon      (501) staff       (20)     4795 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/visualize.png
--rw-r--r--   0 simon      (501) staff       (20)     2142 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/concat.png
--rw-r--r--   0 simon      (501) staff       (20)     1474 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/boris.png
--rw-r--r--   0 simon      (501) staff       (20)     4804 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/frames.png
--rw-r--r--   0 simon      (501) staff       (20)     2425 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/video.png
--rw-r--r--   0 simon      (501) staff       (20)     2089 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/sample.png
--rw-r--r--   0 simon      (501) staff       (20)     1471 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/metrics.png
--rw-r--r--   0 simon      (501) staff       (20)     4555 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/grey.png
--rw-r--r--   0 simon      (501) staff       (20)      930 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/exit.png
--rw-r--r--   0 simon      (501) staff       (20)     4751 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/outlier.png
--rw-r--r--   0 simon      (501) staff       (20)     4392 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/clahe.png
--rw-r--r--   0 simon      (501) staff       (20)      900 2024-05-28 12:09:59.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/bw.png
--rw-r--r--   0 simon      (501) staff       (20)     4637 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/trash.png
--rw-r--r--   0 simon      (501) staff       (20)     1239 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/about.png
--rw-r--r--   0 simon      (501) staff       (20)     4666 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/convert.png
--rw-r--r--   0 simon      (501) staff       (20)    93229 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/SimBA_logo.icns
--rw-r--r--   0 simon      (501) staff       (20)      991 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/reorganize.png
--rw-r--r--   0 simon      (501) staff       (20)     4784 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/browse.png
--rw-r--r--   0 simon      (501) staff       (20)    30707 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/SimBA_logo.png
--rw-r--r--   0 simon      (501) staff       (20)     1412 2024-05-28 12:10:36.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/greyscale.png
--rw-r--r--   0 simon      (501) staff       (20)     2293 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/ethovision.png
--rw-r--r--   0 simon      (501) staff       (20)     1018 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/icons/close.png
--rw-r--r--   0 simon      (501) staff       (20)    13672 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/dash_simba_base.css
--rw-r--r--   0 simon      (501) staff       (20)    31812 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.4/simba/assets/TheGoldenLab.PNG
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/Simba_UW_tf_dev.egg-info/
--rw-r--r--   0 simon      (501) staff       (20)     2797 2024-05-29 20:00:26.000000 Simba-UW-tf-dev-1.94.4/Simba_UW_tf_dev.egg-info/PKG-INFO
--rw-r--r--   0 simon      (501) staff       (20)    25206 2024-05-29 20:00:26.000000 Simba-UW-tf-dev-1.94.4/Simba_UW_tf_dev.egg-info/SOURCES.txt
--rw-r--r--   0 simon      (501) staff       (20)       44 2024-05-29 20:00:26.000000 Simba-UW-tf-dev-1.94.4/Simba_UW_tf_dev.egg-info/entry_points.txt
--rw-r--r--   0 simon      (501) staff       (20)     1078 2024-05-29 20:00:26.000000 Simba-UW-tf-dev-1.94.4/Simba_UW_tf_dev.egg-info/requires.txt
--rw-r--r--   0 simon      (501) staff       (20)        6 2024-05-29 20:00:26.000000 Simba-UW-tf-dev-1.94.4/Simba_UW_tf_dev.egg-info/top_level.txt
--rw-r--r--   0 simon      (501) staff       (20)        1 2024-05-29 20:00:26.000000 Simba-UW-tf-dev-1.94.4/Simba_UW_tf_dev.egg-info/dependency_links.txt
--rw-r--r--   0 simon      (501) staff       (20)    35127 2024-02-07 18:56:10.000000 Simba-UW-tf-dev-1.94.4/LICENSE
-drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/tests/
--rw-r--r--   0 simon      (501) staff       (20)     4753 2024-04-11 20:40:04.000000 Simba-UW-tf-dev-1.94.4/tests/test_data_processors.py
--rw-r--r--   0 simon      (501) staff       (20)    13415 2024-03-01 16:43:04.000000 Simba-UW-tf-dev-1.94.4/tests/test_circlular_stats.py
--rw-r--r--   0 simon      (501) staff       (20)    13399 2024-04-11 20:36:51.000000 Simba-UW-tf-dev-1.94.4/tests/test_stats.py
--rw-r--r--   0 simon      (501) staff       (20)    11863 2024-02-07 18:56:20.000000 Simba-UW-tf-dev-1.94.4/tests/test_train_model_mixin.py
--rw-r--r--   0 simon      (501) staff       (20)     6525 2024-02-07 18:56:20.000000 Simba-UW-tf-dev-1.94.4/tests/test_feature_extraction_mixin.py
--rw-r--r--   0 simon      (501) staff       (20)     1739 2024-02-07 18:56:20.000000 Simba-UW-tf-dev-1.94.4/tests/test_utils_data.py
--rw-r--r--   0 simon      (501) staff       (20)     8120 2024-03-01 19:06:25.000000 Simba-UW-tf-dev-1.94.4/tests/test_config_reader_mixin.py
--rw-r--r--   0 simon      (501) staff       (20)     1070 2024-02-07 18:56:20.000000 Simba-UW-tf-dev-1.94.4/tests/test_outlier_correctors.py
--rw-r--r--   0 simon      (501) staff       (20)     1596 2024-02-07 18:56:20.000000 Simba-UW-tf-dev-1.94.4/tests/test_featurizers.py
--rw-r--r--   0 simon      (501) staff       (20)     8588 2024-05-22 01:01:06.000000 Simba-UW-tf-dev-1.94.4/tests/test_video_processors.py
--rw-r--r--   0 simon      (501) staff       (20)     3554 2024-02-07 18:56:20.000000 Simba-UW-tf-dev-1.94.4/tests/test_thirdparty_appenders.py
--rw-r--r--   0 simon      (501) staff       (20)     3021 2024-02-07 18:56:20.000000 Simba-UW-tf-dev-1.94.4/tests/test_validation_clips.py
--rw-r--r--   0 simon      (501) staff       (20)     3921 2024-04-26 17:59:40.000000 Simba-UW-tf-dev-1.94.4/tests/test_roi_tools.py
--rw-r--r--   0 simon      (501) staff       (20)      318 2024-03-04 20:16:28.000000 Simba-UW-tf-dev-1.94.4/MANIFEST.in
--rw-r--r--   0 simon      (501) staff       (20)    18478 2024-04-17 19:58:21.000000 Simba-UW-tf-dev-1.94.4/README.md
--rw-r--r--   0 simon      (501) staff       (20)     1426 2024-05-29 20:00:25.000000 Simba-UW-tf-dev-1.94.4/setup.py
--rw-r--r--   0 simon      (501) staff       (20)       38 2024-05-29 20:00:27.000000 Simba-UW-tf-dev-1.94.4/setup.cfg
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/
+-rw-r--r--   0 simon      (501) staff       (20)     2797 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/PKG-INFO
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/simba/
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/ui/
+-rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.5/simba/ui/.DS_Store
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/
+-rw-r--r--   0 simon      (501) staff       (20)    11467 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/mutual_exclusivity_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     4070 2024-03-29 20:30:28.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/movement_analysis_time_bins_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     1676 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/csv_2_parquet_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     5883 2024-04-22 13:59:07.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/quick_path_plot_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     2873 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/batch_preprocess_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     8831 2024-05-02 13:40:02.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/heatmap_location_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     9578 2024-04-26 18:13:38.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/clf_probability_plot_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     3456 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/movement_analysis_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     4631 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/set_machine_model_parameters_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)    11362 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/clf_plot_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)    25598 2024-04-17 23:32:48.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/path_plot_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     1184 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/remove_roi_features_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     6692 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/targeted_annotation_clips_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     3340 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/smoothing_interpolation_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     2174 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/roi_size_standardizer_popup.py
+-rw-r--r--   0 simon      (501) staff       (20)     6997 2024-04-11 20:25:55.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/visualize_pose_in_dir_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     4682 2024-04-25 16:23:13.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/roi_analysis_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     7898 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/outlier_settings_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     9366 2024-04-29 16:29:26.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/gantt_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     5830 2024-04-26 18:09:47.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/clf_validation_plot_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     8529 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/severity_analysis_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     3221 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/fsttc_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     4231 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/kleinberg_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)     8376 2024-04-25 16:23:13.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/directing_other_animals_plot_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     9785 2024-03-29 16:15:58.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/spontaneous_alternation_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     6076 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/pose_reorganizer_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     3437 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/animal_directing_other_animals_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     3352 2024-04-26 15:18:54.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/append_roi_features_animals_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     3468 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/clf_by_timebins_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     9154 2024-04-12 00:32:53.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/heatmap_clf_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     9235 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/data_plot_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)    10787 2024-04-25 16:23:13.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/roi_features_plot_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     9121 2024-04-25 13:46:55.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/pup_retrieval_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     5577 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/boolean_conditional_slicer_pup_up.py
+-rw-r--r--   0 simon      (501) staff       (20)      584 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/about_simba_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     5451 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/clf_descriptive_statistics_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     9419 2024-04-25 16:23:13.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/roi_tracking_plot_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     1821 2024-04-25 16:23:13.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/append_roi_features_bodypart_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     7312 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/directing_animal_to_bodypart_plot_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     6546 2024-02-16 01:12:37.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/clf_add_remove_print_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)   182121 2024-06-01 14:44:06.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/video_processing_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     7800 2024-04-04 16:47:32.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/validation_plot_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     6160 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/clf_by_roi_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     4470 2024-04-22 13:59:07.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/make_path_plot_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     3622 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/direction_animal_to_bodypart_settings_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     6166 2024-03-06 18:18:27.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/create_user_defined_pose_configuration_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     1072 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/archive_files_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     4716 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/pose_bp_drop_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)    12174 2024-04-11 20:42:04.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/distance_plot_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     4673 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/subset_feature_extractor_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     3651 2024-04-26 18:13:38.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/third_party_annotator_appender_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     4134 2024-03-31 17:07:13.000000 Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/roi_analysis_time_bins_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)    16701 2024-02-08 00:53:55.000000 Simba-UW-tf-dev-1.94.5/simba/ui/video_info_ui.py
+-rw-r--r--   0 simon      (501) staff       (20)     6573 2024-04-11 20:25:55.000000 Simba-UW-tf-dev-1.94.5/simba/ui/user_defined_pose_creator.py
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/ui/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)    14374 2024-03-06 18:18:27.000000 Simba-UW-tf-dev-1.94.5/simba/ui/create_project_ui.py
+-rw-r--r--   0 simon      (501) staff       (20)    14487 2024-02-08 00:53:55.000000 Simba-UW-tf-dev-1.94.5/simba/ui/tkinter_functions.py
+-rw-r--r--   0 simon      (501) staff       (20)    38871 2024-04-16 13:37:42.000000 Simba-UW-tf-dev-1.94.5/simba/ui/machine_model_settings_ui.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/simba/labelling/
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/labelling/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)    24423 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/labelling/labelling_interface.py
+-rw-r--r--   0 simon      (501) staff       (20)     2362 2024-02-21 02:33:04.000000 Simba-UW-tf-dev-1.94.5/simba/labelling/targeted_annotations_clips.py
+-rw-r--r--   0 simon      (501) staff       (20)     3974 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/labelling/extract_labelled_frames.py
+-rw-r--r--   0 simon      (501) staff       (20)    31269 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/labelling/labelling_advanced_interface.py
+-rw-r--r--   0 simon      (501) staff       (20)    10012 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/labelling/play_annotation_video.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/
+-rw-r--r--   0 simon      (501) staff       (20)    15004 2024-03-29 19:51:46.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/dbcv_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)     5077 2024-03-29 19:51:46.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/cluster_validation_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)     3645 2024-04-03 23:24:04.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/enums.py
+-rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/.DS_Store
+-rw-r--r--   0 simon      (501) staff       (20)     9036 2024-04-03 23:24:04.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/cluster_video_visualizer.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/
+-rw-r--r--   0 simon      (501) staff       (20)     4642 2024-03-26 23:50:53.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/cluster_videos_popup.py
+-rw-r--r--   0 simon      (501) staff       (20)     4027 2024-02-20 21:35:22.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/transform_cluster_popup.py
+-rw-r--r--   0 simon      (501) staff       (20)     5048 2024-02-15 23:45:22.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/embedding_correlations_popup.py
+-rw-r--r--   0 simon      (501) staff       (20)     6148 2024-04-02 14:39:26.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/.DS_Store
+-rw-r--r--   0 simon      (501) staff       (20)     4070 2024-02-20 21:35:22.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/transform_dim_reduction_popup.py
+-rw-r--r--   0 simon      (501) staff       (20)    11182 2024-02-15 23:45:22.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/fit_dim_reduction_popup.py
+-rw-r--r--   0 simon      (501) staff       (20)     2546 2024-03-29 19:51:46.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/data_extractor_popup.py
+-rw-r--r--   0 simon      (501) staff       (20)     4536 2024-03-29 19:51:46.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/cluster_validation_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     9305 2024-02-15 23:45:22.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/fit_cluster_popup.py
+-rw-r--r--   0 simon      (501) staff       (20)     2574 2024-04-03 23:24:04.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/clusterer_comparison_popup.py
+-rw-r--r--   0 simon      (501) staff       (20)     6527 2024-03-26 23:50:53.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/grid_search_visualizer_popup.py
+-rw-r--r--   0 simon      (501) staff       (20)     4332 2024-03-28 20:02:59.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/cluster_xai_popup.py
+-rw-r--r--   0 simon      (501) staff       (20)     3820 2024-03-29 16:15:58.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/cluster_frequentist_stats_popup.py
+-rw-r--r--   0 simon      (501) staff       (20)     2355 2024-02-20 21:35:22.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/print_embedding_info_popup.py
+-rw-r--r--   0 simon      (501) staff       (20)     9946 2024-04-02 18:34:25.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/dataset_creator.py
+-rw-r--r--   0 simon      (501) staff       (20)    12982 2024-04-03 23:24:04.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/unsupervised_main.py
+-rw-r--r--   0 simon      (501) staff       (20)    10175 2024-03-27 12:56:51.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/grid_search_visualizers.py
+-rw-r--r--   0 simon      (501) staff       (20)    16005 2024-03-29 16:15:58.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/data_extractor.py
+-rw-r--r--   0 simon      (501) staff       (20)     5241 2024-04-03 23:24:04.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/outlier_detector.py
+-rw-r--r--   0 simon      (501) staff       (20)    10397 2024-03-29 16:15:58.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/cluster_frequentist_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)     5798 2024-03-27 12:56:51.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/embedding_correlation_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)    18194 2024-04-03 23:24:04.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/cluster_xai_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)    15581 2024-04-03 23:24:04.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/umap_embedder.py
+-rw-r--r--   0 simon      (501) staff       (20)     5582 2024-04-03 23:24:04.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/clusterer_comparison_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)     4652 2024-03-26 19:09:58.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/bout_aggregator.py
+-rw-r--r--   0 simon      (501) staff       (20)     2188 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/data_map.yaml
+-rw-r--r--   0 simon      (501) staff       (20)    14765 2024-03-26 19:09:58.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/hdbscan_clusterer.py
+-rw-r--r--   0 simon      (501) staff       (20)     3862 2024-02-15 21:37:53.000000 Simba-UW-tf-dev-1.94.5/simba/unsupervised/tsne.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/simba/bounding_box_tools/
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/bounding_box_tools/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)     8511 2024-02-08 00:53:55.000000 Simba-UW-tf-dev-1.94.5/simba/bounding_box_tools/agg_boundary_stats.py
+-rw-r--r--   0 simon      (501) staff       (20)    27255 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/bounding_box_tools/boundary_menus.py
+-rw-r--r--   0 simon      (501) staff       (20)    10064 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/bounding_box_tools/boundary_statistics.py
+-rw-r--r--   0 simon      (501) staff       (20)     7146 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/bounding_box_tools/find_boundaries.py
+-rw-r--r--   0 simon      (501) staff       (20)    12066 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/bounding_box_tools/visualize_boundaries.py
+-rw-r--r--   0 simon      (501) staff       (20)    18436 2024-06-01 01:57:47.000000 Simba-UW-tf-dev-1.94.5/simba/.DS_Store
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/
+-rw-r--r--   0 simon      (501) staff       (20)    57052 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/feature_extractor_14bp.py
+-rw-r--r--   0 simon      (501) staff       (20)    28094 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/feature_extractor_7bp.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/
+-rw-r--r--   0 simon      (501) staff       (20)     1757 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/doctests.py
+-rw-r--r--   0 simon      (501) staff       (20)    29328 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/fish_feature_extractor_2023_version_3.py
+-rw-r--r--   0 simon      (501) staff       (20)     2705 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/read_in_mp.py
+-rw-r--r--   0 simon      (501) staff       (20)     2689 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/peaks.py
+-rw-r--r--   0 simon      (501) staff       (20)    16727 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/fish_feature_extractor_2022.py
+-rw-r--r--   0 simon      (501) staff       (20)     2144 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/convex_hull_3_scratch_3.py
+-rw-r--r--   0 simon      (501) staff       (20)     5762 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/convex_hull_scratch_1.py
+-rw-r--r--   0 simon      (501) staff       (20)    26425 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/fish_feature_extractor_2023_version_2.py
+-rw-r--r--   0 simon      (501) staff       (20)     7535 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/egocentrical_aligner.py
+-rw-r--r--   0 simon      (501) staff       (20)     1274 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/count_values_in_range.py
+-rw-r--r--   0 simon      (501) staff       (20)     5011 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/graph_creator.py
+-rw-r--r--   0 simon      (501) staff       (20)     3954 2024-02-07 20:55:52.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/termite_rois.csv
+-rw-r--r--   0 simon      (501) staff       (20)      736 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/mutual_exclusive.py
+-rw-r--r--   0 simon      (501) staff       (20)     2883 2024-02-07 20:55:52.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/video_color.py
+-rw-r--r--   0 simon      (501) staff       (20)     2055 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/graph_3d_plotter.py
+-rw-r--r--   0 simon      (501) staff       (20)     5515 2024-02-07 20:55:52.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/video_rotator.py
+-rw-r--r--   0 simon      (501) staff       (20)     2932 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/add_probability_cnt_features.py
+-rw-r--r--   0 simon      (501) staff       (20)     1619 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/make_splash.py
+-rw-r--r--   0 simon      (501) staff       (20)    37024 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/fish_feature_extractor_2023_version_5.py
+-rw-r--r--   0 simon      (501) staff       (20)     1613 2024-02-07 20:55:52.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/time_stamp_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)     5515 2024-02-07 20:55:52.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/video_rotator_mp.py
+-rw-r--r--   0 simon      (501) staff       (20)    37022 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/fish_feature_extractor_2023_version_4.py
+-rw-r--r--   0 simon      (501) staff       (20)     2068 2024-02-07 20:55:43.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/convex_hull_scratch_2.py
+-rw-r--r--   0 simon      (501) staff       (20)    36307 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/feature_extractor_8bps_2_animals.py
+-rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/.DS_Store
+-rw-r--r--   0 simon      (501) staff       (20)     4091 2024-02-16 21:14:07.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/perimeter_jit.py
+-rw-r--r--   0 simon      (501) staff       (20)    26471 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/feature_subsets.py
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)    10043 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/feature_extractor_user_defined.py
+-rw-r--r--   0 simon      (501) staff       (20)    61607 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/feature_extractor_16bp.py
+-rw-r--r--   0 simon      (501) staff       (20)    37328 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/feature_extractor_9bp.py
+-rw-r--r--   0 simon      (501) staff       (20)    31163 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/feature_extractor_8bp.py
+-rw-r--r--   0 simon      (501) staff       (20)    21427 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/feature_extractor_4bp.py
+-rw-r--r--   0 simon      (501) staff       (20)    65534 2024-03-01 16:55:51.000000 Simba-UW-tf-dev-1.94.5/simba/feature_extractors/amber_feature_extractor.py
+-rw-r--r--   0 simon      (501) staff       (20)     1261 2024-05-30 19:34:25.000000 Simba-UW-tf-dev-1.94.5/simba/requirements.txt
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/
+-rw-r--r--   0 simon      (501) staff       (20)    40917 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/annotator_mixin.py
+-rw-r--r--   0 simon      (501) staff       (20)    84123 2024-05-09 15:16:46.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/timeseries_features_mixin.py
+-rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/.DS_Store
+-rw-r--r--   0 simon      (501) staff       (20)    53232 2024-03-29 19:51:46.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/pop_up_mixin.py
+-rw-r--r--   0 simon      (501) staff       (20)    47980 2024-05-09 16:28:06.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/config_reader.py
+-rw-r--r--   0 simon      (501) staff       (20)    56304 2024-04-17 23:32:32.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/circular_statistics.py
+-rw-r--r--   0 simon      (501) staff       (20)    38682 2024-05-14 17:44:58.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/network_mixin.py
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)    24040 2024-04-18 18:35:47.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/pose_importer_mixin.py
+-rw-r--r--   0 simon      (501) staff       (20)     3020 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/video_processing_mixin.py
+-rw-r--r--   0 simon      (501) staff       (20)    35785 2024-05-09 15:22:35.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/feature_extraction_supplement_mixin.py
+-rw-r--r--   0 simon      (501) staff       (20)   186576 2024-05-31 19:23:13.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/statistics_mixin.py
+-rw-r--r--   0 simon      (501) staff       (20)    44711 2024-04-22 19:40:36.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/feature_extraction_mixin.py
+-rw-r--r--   0 simon      (501) staff       (20)    69908 2024-05-06 18:32:12.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/plotting_mixin.py
+-rw-r--r--   0 simon      (501) staff       (20)      391 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/abstract_classes.py
+-rw-r--r--   0 simon      (501) staff       (20)    79846 2024-05-31 15:47:10.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/image_mixin.py
+-rw-r--r--   0 simon      (501) staff       (20)      880 2024-03-06 18:18:27.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/unsupervised_mixin.py
+-rw-r--r--   0 simon      (501) staff       (20)   133234 2024-05-08 23:47:18.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/train_model_mixin.py
+-rw-r--r--   0 simon      (501) staff       (20)   167515 2024-05-09 16:36:03.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/geometry_mixin.py
+-rw-r--r--   0 simon      (501) staff       (20)    24978 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/mixins/feature_extraction_circular_mixin.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/
+-rw-r--r--   0 simon      (501) staff       (20)     6639 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/deepethogram_importer.py
+-rw-r--r--   0 simon      (501) staff       (20)    12306 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/BORIS_appender.py
+-rw-r--r--   0 simon      (501) staff       (20)     9739 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/observer_importer.py
+-rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/.DS_Store
+-rw-r--r--   0 simon      (501) staff       (20)     5508 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/boris_source_cleaner.py
+-rw-r--r--   0 simon      (501) staff       (20)    18963 2024-04-26 14:35:34.000000 Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/tools.py
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)    17344 2024-04-26 18:13:38.000000 Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/third_party_appender.py
+-rw-r--r--   0 simon      (501) staff       (20)     9215 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/ethovision_import.py
+-rw-r--r--   0 simon      (501) staff       (20)     7456 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/BENTO_appender.py
+-rw-r--r--   0 simon      (501) staff       (20)     5662 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/solomon_importer.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/simba/cue_light_tools/
+-rw-r--r--   0 simon      (501) staff       (20)     8841 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/cue_light_tools/cue_light_clf_statistics.py
+-rw-r--r--   0 simon      (501) staff       (20)    14451 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/cue_light_tools/cue_light_analyzer.py
+-rw-r--r--   0 simon      (501) staff       (20)    18274 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/cue_light_tools/cue_light_menues.py
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/cue_light_tools/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)     1921 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/cue_light_tools/cue_light_tools.py
+-rw-r--r--   0 simon      (501) staff       (20)    19237 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/cue_light_tools/cue_light_visualizer.py
+-rw-r--r--   0 simon      (501) staff       (20)    15281 2024-04-25 13:46:55.000000 Simba-UW-tf-dev-1.94.5/simba/cue_light_tools/cue_light_movement_statistics.py
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/__init__.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/utils/
+-rw-r--r--   0 simon      (501) staff       (20)    13211 2024-02-16 01:12:37.000000 Simba-UW-tf-dev-1.94.5/simba/utils/config_creator.py
+-rw-r--r--   0 simon      (501) staff       (20)    26256 2024-05-31 17:17:14.000000 Simba-UW-tf-dev-1.94.5/simba/utils/enums.py
+-rw-r--r--   0 simon      (501) staff       (20)    10420 2024-04-11 20:25:55.000000 Simba-UW-tf-dev-1.94.5/simba/utils/custom_feature_extractor.py
+-rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.5/simba/utils/.DS_Store
+-rw-r--r--   0 simon      (501) staff       (20)     7808 2024-05-28 18:32:49.000000 Simba-UW-tf-dev-1.94.5/simba/utils/warnings.py
+-rw-r--r--   0 simon      (501) staff       (20)    56026 2024-05-14 14:03:50.000000 Simba-UW-tf-dev-1.94.5/simba/utils/checks.py
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/utils/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)    80317 2024-05-31 13:47:26.000000 Simba-UW-tf-dev-1.94.5/simba/utils/read_write.py
+-rw-r--r--   0 simon      (501) staff       (20)    17894 2024-05-20 18:02:46.000000 Simba-UW-tf-dev-1.94.5/simba/utils/lookups.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/utils/cli/
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/utils/cli/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)     7129 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/utils/cli/cli_tools.py
+-rw-r--r--   0 simon      (501) staff       (20)      449 2024-05-20 18:02:46.000000 Simba-UW-tf-dev-1.94.5/simba/utils/find_fonts.py
+-rw-r--r--   0 simon      (501) staff       (20)    17260 2024-05-29 12:43:58.000000 Simba-UW-tf-dev-1.94.5/simba/utils/errors.py
+-rw-r--r--   0 simon      (501) staff       (20)    47688 2024-05-30 13:20:12.000000 Simba-UW-tf-dev-1.94.5/simba/utils/data.py
+-rw-r--r--   0 simon      (501) staff       (20)     3993 2024-05-29 12:43:58.000000 Simba-UW-tf-dev-1.94.5/simba/utils/printing.py
+-rw-r--r--   0 simon      (501) staff       (20)   243998 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/SimBA_logo.ico
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/pose_processors/
+-rw-r--r--   0 simon      (501) staff       (20)     8626 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_processors/reorganize_keypoint.py
+-rw-r--r--   0 simon      (501) staff       (20)     5840 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_processors/remove_keypoints.py
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_processors/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)     2872 2024-02-15 23:39:58.000000 Simba-UW-tf-dev-1.94.5/simba/pose_processors/pose_reset.py
+-rw-r--r--   0 simon      (501) staff       (20)     6313 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_processors/reverse_pose.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/
+-rw-r--r--   0 simon      (501) staff       (20)      786 2024-03-06 18:18:27.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/doctests.py
+-rw-r--r--   0 simon      (501) staff       (20)    29328 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/fish_feature_extractor_2023_version_3.py
+-rw-r--r--   0 simon      (501) staff       (20)     4080 2024-05-06 15:09:47.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/CLAHE.py
+-rw-r--r--   0 simon      (501) staff       (20)     2387 2024-03-08 14:35:02.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/dprime.py
+-rw-r--r--   0 simon      (501) staff       (20)     3869 2024-05-14 18:18:20.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/ffmpeg_progress_bar.py
+-rw-r--r--   0 simon      (501) staff       (20)     2516 2024-03-18 17:01:43.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/linear_fretchet.py
+-rw-r--r--   0 simon      (501) staff       (20)     2705 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/read_in_mp.py
+-rw-r--r--   0 simon      (501) staff       (20)     2391 2024-03-14 12:45:59.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/piotr_120324 3.py.zip
+-rw-r--r--   0 simon      (501) staff       (20)     2036 2024-03-28 18:29:59.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/dunn_index.py
+-rw-r--r--   0 simon      (501) staff       (20)     7587 2024-05-31 16:03:43.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/structural_similarity_index.py
+-rw-r--r--   0 simon      (501) staff       (20)     5659 2024-05-21 15:47:24.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/reverse_videos.py
+-rw-r--r--   0 simon      (501) staff       (20)     9124 2024-05-20 13:37:45.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/superimpose_text.py
+-rw-r--r--   0 simon      (501) staff       (20)     3640 2024-04-08 13:30:56.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/hausdorff.py
+-rw-r--r--   0 simon      (501) staff       (20)     2689 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/peaks.py
+-rw-r--r--   0 simon      (501) staff       (20)    16727 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/fish_feature_extractor_2022.py
+-rw-r--r--   0 simon      (501) staff       (20)     3494 2024-04-03 13:42:02.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/colinear_features.py
+-rw-r--r--   0 simon      (501) staff       (20)     8921 2024-03-22 13:56:46.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/spontaneous_alternation_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)    21658 2024-04-10 16:31:38.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/horizontal_videos_concat.py
+-rw-r--r--   0 simon      (501) staff       (20)     2144 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/convex_hull_3_scratch_3.py
+-rw-r--r--   0 simon      (501) staff       (20)     1103 2024-03-29 16:26:34.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/silhouette_score.py
+-rw-r--r--   0 simon      (501) staff       (20)     3607 2024-04-09 14:21:58.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/two_fish_feature_extractor_040924.py.zip
+-rw-r--r--   0 simon      (501) staff       (20)    33092 2024-02-22 15:57:45.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/cuda_jit.ipynb
+-rw-r--r--   0 simon      (501) staff       (20)     5762 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/convex_hull_scratch_1.py
+-rw-r--r--   0 simon      (501) staff       (20)     1867 2024-03-12 19:23:40.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/directed_hausdorff.py
+-rw-r--r--   0 simon      (501) staff       (20)    10103 2024-05-29 19:56:00.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/average_frm_popup.py
+-rw-r--r--   0 simon      (501) staff       (20)      963 2024-03-13 18:20:52.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/shannon_diversity_index.py
+-rw-r--r--   0 simon      (501) staff       (20)     3726 2024-03-12 13:31:58.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/sequential_lag_analysis.py
+-rw-r--r--   0 simon      (501) staff       (20)     1254 2024-03-13 16:09:50.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/wilcoxon.py
+-rw-r--r--   0 simon      (501) staff       (20)    21599 2024-04-22 16:40:51.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/ROI_plotter_mp.py
+-rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/.DS_Store
+-rw-r--r--   0 simon      (501) staff       (20)      549 2024-05-14 19:00:13.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/detect_scene_changes.py
+-rw-r--r--   0 simon      (501) staff       (20)     3328 2024-03-08 15:05:36.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/data.npy
+-rw-r--r--   0 simon      (501) staff       (20)    12626 2024-03-25 20:59:27.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/distances.py
+-rw-r--r--   0 simon      (501) staff       (20)    26425 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/fish_feature_extractor_2023_version_2.py
+-rw-r--r--   0 simon      (501) staff       (20)     2623 2024-05-03 16:20:12.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/cohens_kappa.py
+-rw-r--r--   0 simon      (501) staff       (20)     4950 2024-05-14 14:14:15.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/watermark.py
+-rw-r--r--   0 simon      (501) staff       (20)     2465 2024-03-08 17:38:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/paths.py
+-rw-r--r--   0 simon      (501) staff       (20)     1048 2024-03-13 14:41:23.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/outliers_tietjen.py
+-rw-r--r--   0 simon      (501) staff       (20)     1424 2024-02-26 15:46:14.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/train_model.py
+-rw-r--r--   0 simon      (501) staff       (20)     2346 2024-04-19 14:10:16.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/img_stack_to_bw.py
+-rw-r--r--   0 simon      (501) staff       (20)     3171 2024-02-27 21:31:05.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/amber_tests.py
+-rw-r--r--   0 simon      (501) staff       (20)     3590 2024-03-11 17:05:31.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/line_locate_point.py
+-rw-r--r--   0 simon      (501) staff       (20)     1841 2024-04-19 16:19:10.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/sorensen_dice_coefficient.py
+-rw-r--r--   0 simon      (501) staff       (20)     3182 2024-02-24 20:57:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/multifrm_to_points.py
+-rw-r--r--   0 simon      (501) staff       (20)      959 2024-05-16 13:12:21.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/clean_sleap_filename.py
+-rw-r--r--   0 simon      (501) staff       (20)       69 2024-03-18 18:17:24.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/lcs.py
+-rw-r--r--   0 simon      (501) staff       (20)    12448 2024-04-09 14:14:37.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/two_fish_feature_extractor_040924.py
+-rw-r--r--   0 simon      (501) staff       (20)     6119 2024-04-20 17:58:22.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/ez_path_plot.py
+-rw-r--r--   0 simon      (501) staff       (20)     7535 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/egocentrical_aligner.py
+-rw-r--r--   0 simon      (501) staff       (20)     5109 2024-05-07 19:36:44.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/downsample_video_popup.py
+-rw-r--r--   0 simon      (501) staff       (20)     2350 2024-03-12 17:58:33.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/add_body_part.py
+-rw-r--r--   0 simon      (501) staff       (20)     1008 2024-03-12 13:29:20.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/grubbs_test.py
+-rw-r--r--   0 simon      (501) staff       (20)     3399 2024-02-16 01:12:37.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/slide_circ_mean.py
+-rw-r--r--   0 simon      (501) staff       (20)     1835 2024-03-28 22:56:59.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/calinski_harabasz.py
+-rw-r--r--   0 simon      (501) staff       (20)     1282 2024-02-27 21:31:05.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/roi_feature_visualizer_example.py
+-rw-r--r--   0 simon      (501) staff       (20)    10076 2024-03-22 16:51:40.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/spontaneuous_alternation_plotter.py
+-rw-r--r--   0 simon      (501) staff       (20)      895 2024-03-12 14:09:55.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/runs_test.py
+-rw-r--r--   0 simon      (501) staff       (20)     2549 2024-05-30 13:12:38.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/blank_img.py
+-rw-r--r--   0 simon      (501) staff       (20)     2516 2024-04-06 11:33:24.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/pct_counts_in_top_N.py
+-rw-r--r--   0 simon      (501) staff       (20)     1095 2024-04-19 18:37:50.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/concordance_ratio.py
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:46:33.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)     2287 2024-03-25 16:45:04.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/total_variation_distance.py
+-rw-r--r--   0 simon      (501) staff       (20)     3056 2024-02-27 21:31:05.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/crop_single_polygon.py
+-rw-r--r--   0 simon      (501) staff       (20)    15977 2024-04-23 22:52:42.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/ROI_analyzer.py
+-rw-r--r--   0 simon      (501) staff       (20)     8010 2024-03-24 19:48:22.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/joint_plotter.py
+-rw-r--r--   0 simon      (501) staff       (20)     1529 2024-04-19 15:08:24.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/segment_image_horizontal.py
+-rw-r--r--   0 simon      (501) staff       (20)    11145 2024-04-15 15:02:56.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/clip_multiple_videos_by_frame_numbers.py
+-rw-r--r--   0 simon      (501) staff       (20)     2552 2024-04-02 14:48:59.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/elliptic_envelope.py
+-rw-r--r--   0 simon      (501) staff       (20)     8433 2024-05-31 15:47:10.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/normalized_cross_correlation.py
+-rw-r--r--   0 simon      (501) staff       (20)     1016 2024-03-14 14:57:29.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/roi_definition_csvs_to_h5.py.zip
+-rw-r--r--   0 simon      (501) staff       (20)     1276 2024-03-12 17:58:38.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/add_body_part.py.zip
+-rw-r--r--   0 simon      (501) staff       (20)      921 2024-02-26 15:46:14.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/roi_feature_visualizer_example.py.zip
+-rw-r--r--   0 simon      (501) staff       (20)     2631 2024-04-05 16:23:07.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/sliding_crosscorrelation.py
+-rw-r--r--   0 simon      (501) staff       (20)     1274 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/count_values_in_range.py
+-rw-r--r--   0 simon      (501) staff       (20)     2174 2024-03-14 14:56:26.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/roi_definition_csvs_to_h5.py
+-rw-r--r--   0 simon      (501) staff       (20)     1656 2024-03-30 18:32:44.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/distance_velocity.py
+-rw-r--r--   0 simon      (501) staff       (20)     5011 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/graph_creator.py
+-rw-r--r--   0 simon      (501) staff       (20)     5666 2024-04-11 15:28:58.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/line_plot_plotly.py
+-rw-r--r--   0 simon      (501) staff       (20)     3838 2024-05-14 11:30:22.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/crossfade.py
+-rw-r--r--   0 simon      (501) staff       (20)     3043 2024-05-09 15:04:30.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/shift_geometries.py
+-rw-r--r--   0 simon      (501) staff       (20)     3954 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/termite_rois.csv
+-rw-r--r--   0 simon      (501) staff       (20)     9105 2024-05-26 19:36:57.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/convert_to_bw.py
+-rw-r--r--   0 simon      (501) staff       (20)     5254 2024-05-07 19:55:25.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/downsample_multiple_videos_popup.py
+-rw-r--r--   0 simon      (501) staff       (20)     1351 2024-03-26 21:10:40.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/unsupervised_lof.py
+-rw-r--r--   0 simon      (501) staff       (20)     2553 2024-03-11 15:09:38.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/siegel_tukey.py
+-rw-r--r--   0 simon      (501) staff       (20)      958 2024-03-13 18:05:08.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/berger_parker.py
+-rw-r--r--   0 simon      (501) staff       (20)     4177 2024-04-10 01:56:43.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/isolation_forest.py
+-rw-r--r--   0 simon      (501) staff       (20)     2845 2024-03-28 19:23:54.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/davis_bouldin.py
+-rw-r--r--   0 simon      (501) staff       (20)     4094 2024-04-10 14:09:54.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/vertical_video_concatenator.py
+-rw-r--r--   0 simon      (501) staff       (20)     2770 2024-04-07 19:14:13.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/batch_video_to_greyscale.py
+-rw-r--r--   0 simon      (501) staff       (20)     7215 2024-02-26 15:46:14.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/crop_circles_pop_up.py
+-rw-r--r--   0 simon      (501) staff       (20)     1410 2024-03-19 12:49:24.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/heading.py
+-rw-r--r--   0 simon      (501) staff       (20)     2243 2024-03-13 18:35:02.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/piotr_120324 2.py.zip
+-rw-r--r--   0 simon      (501) staff       (20)      736 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/mutual_exclusive.py
+-rw-r--r--   0 simon      (501) staff       (20)     2278 2024-05-04 19:11:33.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/mahalanobis.py
+-rw-r--r--   0 simon      (501) staff       (20)     1626 2024-05-08 16:59:35.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/superpixels.py
+-rw-r--r--   0 simon      (501) staff       (20)     2225 2024-05-09 20:57:38.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/img_conv.py
+-rw-r--r--   0 simon      (501) staff       (20)     2907 2024-03-14 19:31:25.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/grangercausalitytests.py
+-rw-r--r--   0 simon      (501) staff       (20)     2432 2024-03-19 20:48:43.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/multiframe_is_shape_covered.py
+-rw-r--r--   0 simon      (501) staff       (20)      592 2024-02-27 21:31:33.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/redis.py
+-rw-r--r--   0 simon      (501) staff       (20)     2893 2024-02-26 20:49:33.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/video_color.py
+-rw-r--r--   0 simon      (501) staff       (20)     2055 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/graph_3d_plotter.py
+-rw-r--r--   0 simon      (501) staff       (20)     4636 2024-05-31 19:19:13.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/czenakowski.py
+-rw-r--r--   0 simon      (501) staff       (20)     3137 2024-05-15 15:22:04.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/blurbox.py
+-rw-r--r--   0 simon      (501) staff       (20)     6186 2024-03-18 12:44:45.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/piotr_120324.py
+-rw-r--r--   0 simon      (501) staff       (20)     5515 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/video_rotator.py
+-rw-r--r--   0 simon      (501) staff       (20)     4166 2024-05-06 21:09:36.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/superimpose_frame_count.py
+-rw-r--r--   0 simon      (501) staff       (20)     5433 2024-05-14 15:38:59.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/inset_overlay_video.py
+-rw-r--r--   0 simon      (501) staff       (20)     1004 2024-03-12 13:11:45.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/hartley_fmax.py
+-rw-r--r--   0 simon      (501) staff       (20)       84 2024-04-03 17:05:23.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/calc_N_degree_direction_switches.py
+-rw-r--r--   0 simon      (501) staff       (20)     5235 2024-05-21 14:58:08.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/superimpose_frm_cnt.py
+-rw-r--r--   0 simon      (501) staff       (20)     2307 2024-02-27 21:31:33.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/fix_clahe.py
+-rw-r--r--   0 simon      (501) staff       (20)     1836 2024-03-10 15:38:46.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/cochran_q.py
+-rw-r--r--   0 simon      (501) staff       (20)    12687 2024-05-23 17:51:18.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/increase_fps.py
+-rw-r--r--   0 simon      (501) staff       (20)      682 2024-03-13 19:19:43.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/menhinicks_index.py
+-rw-r--r--   0 simon      (501) staff       (20)      493 2024-05-02 16:25:29.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/lbp.py
+-rw-r--r--   0 simon      (501) staff       (20)     2932 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/add_probability_cnt_features.py
+-rw-r--r--   0 simon      (501) staff       (20)     1190 2024-06-01 00:24:28.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/levenshtein.py
+-rw-r--r--   0 simon      (501) staff       (20)     1559 2024-04-19 15:50:37.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/brillouins_index.py
+-rw-r--r--   0 simon      (501) staff       (20)    13575 2024-03-20 11:47:11.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/spontanous_alternations.py
+-rw-r--r--   0 simon      (501) staff       (20)     1951 2024-05-03 14:45:28.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/eta_squared.py
+-rw-r--r--   0 simon      (501) staff       (20)     2268 2024-03-13 13:59:07.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/piotr_120324.py.zip
+-rw-r--r--   0 simon      (501) staff       (20)    16301 2024-05-13 14:59:18.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/convert_to_mp4.py
+-rw-r--r--   0 simon      (501) staff       (20)     4655 2024-03-06 18:18:27.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/velocity_aggregator.py
+-rw-r--r--   0 simon      (501) staff       (20)     1619 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/make_splash.py
+-rw-r--r--   0 simon      (501) staff       (20)     6440 2024-05-09 20:10:17.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/change_img_file_format.py
+-rw-r--r--   0 simon      (501) staff       (20)     4478 2024-04-08 20:43:42.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/abod.py
+-rw-r--r--   0 simon      (501) staff       (20)      288 2024-05-23 15:06:34.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/change_n_jobs_scikit.py
+-rw-r--r--   0 simon      (501) staff       (20)    37024 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/fish_feature_extractor_2023_version_5.py
+-rw-r--r--   0 simon      (501) staff       (20)     1374 2024-04-18 13:56:20.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/violin.py
+-rw-r--r--   0 simon      (501) staff       (20)     7416 2024-05-21 19:56:04.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/bg_remover_popup.py
+-rw-r--r--   0 simon      (501) staff       (20)    16527 2024-05-17 20:38:47.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/bg_substraction.py
+-rw-r--r--   0 simon      (501) staff       (20)     1073 2024-03-13 16:46:16.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/simpson_diversity_index.py
+-rw-r--r--   0 simon      (501) staff       (20)     4485 2024-04-14 19:07:54.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/clip_videos_by_frm.py
+-rw-r--r--   0 simon      (501) staff       (20)      770 2024-05-02 20:50:37.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/fleiss_kappa.py
+-rw-r--r--   0 simon      (501) staff       (20)     2396 2024-03-17 16:55:38.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/piotr_120324 4.py.zip
+-rw-r--r--   0 simon      (501) staff       (20)    12282 2024-05-12 17:13:08.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/convert_to_popup.py
+-rw-r--r--   0 simon      (501) staff       (20)     1106 2024-04-18 13:46:43.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/rotate image.py
+-rw-r--r--   0 simon      (501) staff       (20)     1214 2024-05-03 17:07:43.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/jaccard_distance.py
+-rw-r--r--   0 simon      (501) staff       (20)     5336 2024-02-10 20:28:08.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/geometry_ex.py
+-rw-r--r--   0 simon      (501) staff       (20)     1613 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/time_stamp_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)     1505 2024-03-28 14:36:24.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/line_plot.py
+-rw-r--r--   0 simon      (501) staff       (20)     5515 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/video_rotator_mp.py
+-rw-r--r--   0 simon      (501) staff       (20)    15996 2024-04-09 13:41:30.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/unsupervised_outliers.py
+-rw-r--r--   0 simon      (501) staff       (20)      122 2024-05-15 13:58:53.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/profiler.py
+-rw-r--r--   0 simon      (501) staff       (20)     1378 2024-05-03 20:13:55.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/manhattan_distance.py
+-rw-r--r--   0 simon      (501) staff       (20)     5690 2024-02-10 20:28:08.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/statistics_ex.py
+-rw-r--r--   0 simon      (501) staff       (20)    16646 2024-04-22 16:43:10.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/ROI_plotter.py
+-rw-r--r--   0 simon      (501) staff       (20)    18966 2024-05-22 17:25:12.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/rotate.py
+-rw-r--r--   0 simon      (501) staff       (20)     1391 2024-03-18 23:21:46.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/sliding_displacement.py
+-rw-r--r--   0 simon      (501) staff       (20)     7819 2024-04-18 14:47:28.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/path_plots.py
+-rw-r--r--   0 simon      (501) staff       (20)     2671 2024-05-08 14:43:03.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/seekable.py
+-rw-r--r--   0 simon      (501) staff       (20)    26677 2024-05-20 14:18:40.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/superimpose_popups.py
+-rw-r--r--   0 simon      (501) staff       (20)     6285 2024-05-26 11:42:50.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/superimpose_elapsed_time.py
+-rw-r--r--   0 simon      (501) staff       (20)      925 2024-03-11 13:06:04.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/wald_wolfowitz.py
+-rw-r--r--   0 simon      (501) staff       (20)     2425 2024-05-03 15:57:50.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/relative_risk.py
+-rw-r--r--   0 simon      (501) staff       (20)     1814 2024-04-05 14:36:58.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/sliding_autoc.py
+-rw-r--r--   0 simon      (501) staff       (20)     2369 2024-03-14 17:07:10.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/linestring_path.py
+-rw-r--r--   0 simon      (501) staff       (20)     2233 2024-03-18 15:20:48.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/cronbach_alpha.py
+-rw-r--r--   0 simon      (501) staff       (20)     2809 2024-03-08 21:15:58.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/mcnamar.py
+-rw-r--r--   0 simon      (501) staff       (20)     6507 2024-05-06 12:58:30.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/contrast.py
+-rw-r--r--   0 simon      (501) staff       (20)    37022 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/fish_feature_extractor_2023_version_4.py
+-rw-r--r--   0 simon      (501) staff       (20)     6220 2024-02-24 20:57:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/AmberFeatureExtractor.py.zip
+-rw-r--r--   0 simon      (501) staff       (20)     1157 2024-05-02 20:32:28.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/youden_j.py
+-rw-r--r--   0 simon      (501) staff       (20)     6595 2024-05-26 11:58:39.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/reverse_popup.py
+-rw-r--r--   0 simon      (501) staff       (20)     1933 2024-04-10 15:09:25.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/mosaic.py
+-rw-r--r--   0 simon      (501) staff       (20)      441 2024-04-12 17:03:24.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/bouts_df
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-05-06 15:36:55.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/color_filtering.py
+-rw-r--r--   0 simon      (501) staff       (20)    69423 2024-02-20 14:30:23.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/amber_featurizer.py
+-rw-r--r--   0 simon      (501) staff       (20)     6286 2024-04-17 19:28:51.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/make_path_plot.py
+-rw-r--r--   0 simon      (501) staff       (20)      837 2024-03-13 18:56:21.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/margalef_diversification_index.py
+-rw-r--r--   0 simon      (501) staff       (20)      997 2024-03-17 17:49:00.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/biweight_midcorrelation.py
+-rw-r--r--   0 simon      (501) staff       (20)     2186 2024-03-18 15:31:23.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/madmedianrule.py
+-rw-r--r--   0 simon      (501) staff       (20)     2915 2024-04-01 14:12:59.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/adjusted_rand_score.py
+-rw-r--r--   0 simon      (501) staff       (20)     2068 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/convex_hull_scratch_2.py
+-rw-r--r--   0 simon      (501) staff       (20)     1957 2024-04-12 14:55:03.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/plotly_gantt.py
+-rw-r--r--   0 simon      (501) staff       (20)    14761 2024-05-28 18:07:05.000000 Simba-UW-tf-dev-1.94.5/simba/sandbox/create_gif.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/
+-rw-r--r--   0 simon      (501) staff       (20)     8538 2024-02-23 18:25:51.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/directing_animals_to_bodypart_visualizer.py
+-rw-r--r--   0 simon      (501) staff       (20)    10307 2024-05-06 15:39:18.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/gantt_creator.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/tools/
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:43:56.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/tools/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)     5946 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/tools/tkinter_tools.py
+-rw-r--r--   0 simon      (501) staff       (20)    23558 2024-05-21 13:05:48.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/ROI_plotter_mp.py
+-rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/.DS_Store
+-rw-r--r--   0 simon      (501) staff       (20)    19315 2024-05-08 18:11:04.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/shap_agg_stats_visualizer.py
+-rw-r--r--   0 simon      (501) staff       (20)    12956 2024-05-06 15:39:18.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/gantt_creator_mp.py
+-rw-r--r--   0 simon      (501) staff       (20)    15819 2024-04-25 18:19:38.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/heat_mapper_clf_mp.py
+-rw-r--r--   0 simon      (501) staff       (20)    10620 2024-04-26 18:13:38.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/probability_plot_creator.py
+-rw-r--r--   0 simon      (501) staff       (20)     8987 2024-05-09 16:36:03.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/circular_plotting.py
+-rw-r--r--   0 simon      (501) staff       (20)    16960 2024-05-06 15:39:18.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/plot_clf_results.py
+-rw-r--r--   0 simon      (501) staff       (20)    10328 2024-04-25 15:48:10.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/ez_path_plot.py
+-rw-r--r--   0 simon      (501) staff       (20)    17432 2024-04-17 23:57:27.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/plot_clf_results_mp.py
+-rw-r--r--   0 simon      (501) staff       (20)    21343 2024-04-29 18:50:27.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/ROI_feature_visualizer.py
+-rw-r--r--   0 simon      (501) staff       (20)    14847 2024-05-06 15:39:18.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/heat_mapper_location.py
+-rw-r--r--   0 simon      (501) staff       (20)    13512 2024-04-26 18:13:38.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/probability_plot_creator_mp.py
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-05-22 12:32:05.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)     5253 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/interactive_probability_grapher.py
+-rw-r--r--   0 simon      (501) staff       (20)     6517 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/plot_pose_in_dir.py
+-rw-r--r--   0 simon      (501) staff       (20)    20950 2024-04-11 20:25:55.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/single_run_model_validation_video.py
+-rw-r--r--   0 simon      (501) staff       (20)     8732 2024-04-11 20:42:04.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/frame_mergerer_ffmpeg.py
+-rw-r--r--   0 simon      (501) staff       (20)    10667 2024-04-03 23:24:04.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/pose_plotter_mp.py
+-rw-r--r--   0 simon      (501) staff       (20)    16477 2024-04-25 18:30:53.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/directing_animals_visualizer_mp.py
+-rw-r--r--   0 simon      (501) staff       (20)    11565 2024-04-28 20:02:42.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/clf_validator.py
+-rw-r--r--   0 simon      (501) staff       (20)    23459 2024-04-25 18:18:16.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/path_plotter_mp.py
+-rw-r--r--   0 simon      (501) staff       (20)    24207 2024-05-07 12:24:30.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/ROI_feature_visualizer_mp.py
+-rw-r--r--   0 simon      (501) staff       (20)    11824 2024-04-17 19:58:21.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/data_plotter.py
+-rw-r--r--   0 simon      (501) staff       (20)    13091 2024-03-26 23:49:10.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/spontaneous_alternation_plotter.py
+-rw-r--r--   0 simon      (501) staff       (20)    21979 2024-04-25 18:18:16.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/path_plotter.py
+-rw-r--r--   0 simon      (501) staff       (20)    16926 2024-04-25 19:01:12.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/distance_plotter_mp.py
+-rw-r--r--   0 simon      (501) staff       (20)    17579 2024-05-21 13:05:48.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/ROI_plotter.py
+-rw-r--r--   0 simon      (501) staff       (20)    10034 2024-03-19 12:54:07.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/geometry_plotter.py
+-rw-r--r--   0 simon      (501) staff       (20)    15989 2024-04-28 20:02:42.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/clf_validator_mp.py
+-rw-r--r--   0 simon      (501) staff       (20)    14224 2024-04-25 18:19:38.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/heat_mapper_clf.py
+-rw-r--r--   0 simon      (501) staff       (20)    11994 2024-04-11 22:38:54.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/distance_plotter.py
+-rw-r--r--   0 simon      (501) staff       (20)    19073 2024-04-11 20:26:33.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/single_run_model_validation_video_mp.py
+-rw-r--r--   0 simon      (501) staff       (20)    12552 2024-04-25 18:30:28.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/directing_animals_visualizer.py
+-rw-r--r--   0 simon      (501) staff       (20)     9549 2024-05-09 16:36:03.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/circular_feature_overlay_plotter.py
+-rw-r--r--   0 simon      (501) staff       (20)    14663 2024-05-06 15:39:18.000000 Simba-UW-tf-dev-1.94.5/simba/plotting/heat_mapper_location_mp.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/simba/dash_app/
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:44:15.000000 Simba-UW-tf-dev-1.94.5/simba/dash_app/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)    72715 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/dash_app/SimBA_dash_app.py
+-rw-r--r--   0 simon      (501) staff       (20)     4965 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/dash_app/run_dash_tkinter.py
+-rw-r--r--   0 simon      (501) staff       (20)    47546 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/dash_app/dash_app.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/
+-rw-r--r--   0 simon      (501) staff       (20)    13060 2024-04-26 18:13:38.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/spontaneous_alternation_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)    11813 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/agg_clf_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/.DS_Store
+-rw-r--r--   0 simon      (501) staff       (20)    13224 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/severity_bout_based_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)    39110 2024-03-19 12:54:07.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/interpolation_smoothing.py
+-rw-r--r--   0 simon      (501) staff       (20)    10968 2024-02-21 19:10:40.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/directing_animal_to_bodypart.py
+-rw-r--r--   0 simon      (501) staff       (20)     9580 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/timebins_clf_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)    20617 2024-04-18 21:13:37.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/fsttc_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)     4872 2024-04-26 15:18:54.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/boolean_conditional_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)     7117 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/interpolate_pose.py
+-rw-r--r--   0 simon      (501) staff       (20)    15989 2024-04-25 16:23:13.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/directing_other_animals_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)     8957 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/gibbs_sampler.py
+-rw-r--r--   0 simon      (501) staff       (20)    10054 2024-04-04 16:23:22.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/timebins_movement_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)     5255 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/severity_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)    18517 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/pup_retrieval_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)     3118 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/pybursts_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)    13660 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/severity_frame_based_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)     8738 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/mutual_exclusivity_corrector.py
+-rw-r--r--   0 simon      (501) staff       (20)    12919 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/kleinberg_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)    10196 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/data_processors/movement_calculator.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/model/
+-rw-r--r--   0 simon      (501) staff       (20)    22005 2024-05-28 13:01:19.000000 Simba-UW-tf-dev-1.94.5/simba/model/train_rf.py
+-rw-r--r--   0 simon      (501) staff       (20)     4969 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/model/inference_batch.py
+-rw-r--r--   0 simon      (501) staff       (20)    14036 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/model/train_multiclass_rf.py
+-rw-r--r--   0 simon      (501) staff       (20)     3937 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/model/inference_multiclass_batch.py
+-rw-r--r--   0 simon      (501) staff       (20)    15931 2024-02-20 14:30:06.000000 Simba-UW-tf-dev-1.94.5/simba/model/grid_search_multiclass_rf.py
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:41:19.000000 Simba-UW-tf-dev-1.94.5/simba/model/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)    14317 2024-05-08 23:47:18.000000 Simba-UW-tf-dev-1.94.5/simba/model/grid_search_rf.py
+-rw-r--r--   0 simon      (501) staff       (20)     3768 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/model/inference_validation.py
+-rw-r--r--   0 simon      (501) staff       (20)     6872 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/model/train_multilabel_rf.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/roi_tools/
+-rw-r--r--   0 simon      (501) staff       (20)    11039 2024-05-09 16:32:28.000000 Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_time_bin_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.5/simba/roi_tools/.DS_Store
+-rw-r--r--   0 simon      (501) staff       (20)    50014 2024-05-17 13:19:01.000000 Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_define.py
+-rw-r--r--   0 simon      (501) staff       (20)     3616 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_reset.py
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/roi_tools/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)     9876 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_size_standardizer.py
+-rw-r--r--   0 simon      (501) staff       (20)    18552 2024-05-09 16:13:09.000000 Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_analyzer.py
+-rw-r--r--   0 simon      (501) staff       (20)    15406 2024-05-07 01:16:15.000000 Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_feature_analyzer.py
+-rw-r--r--   0 simon      (501) staff       (20)     4386 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_multiply.py
+-rw-r--r--   0 simon      (501) staff       (20)     2313 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_size_calculations.py
+-rw-r--r--   0 simon      (501) staff       (20)     3716 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_zoom.py
+-rw-r--r--   0 simon      (501) staff       (20)    12313 2024-04-25 16:23:13.000000 Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_directing_analyzer.py
+-rw-r--r--   0 simon      (501) staff       (20)    11974 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_move_shape.py
+-rw-r--r--   0 simon      (501) staff       (20)     5470 2024-02-21 03:51:46.000000 Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_menus.py
+-rw-r--r--   0 simon      (501) staff       (20)    16129 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_clf_calculator.py
+-rw-r--r--   0 simon      (501) staff       (20)    29746 2024-05-17 13:17:50.000000 Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_image.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/pose_importers/
+-rw-r--r--   0 simon      (501) staff       (20)    10711 2024-02-20 21:35:22.000000 Simba-UW-tf-dev-1.94.5/simba/pose_importers/sleap_csv_importer.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/pose_importers/misc/
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:47:31.000000 Simba-UW-tf-dev-1.94.5/simba/pose_importers/misc/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)     8084 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_importers/misc/apt_trk_importer.py
+-rw-r--r--   0 simon      (501) staff       (20)     2577 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_importers/read_DANNCE_mat.py
+-rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.5/simba/pose_importers/.DS_Store
+-rw-r--r--   0 simon      (501) staff       (20)    13867 2024-05-16 18:24:39.000000 Simba-UW-tf-dev-1.94.5/simba/pose_importers/sleap_h5_importer.py
+-rw-r--r--   0 simon      (501) staff       (20)     8161 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_importers/madlc_importer.py
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_importers/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)    13672 2024-02-20 21:35:22.000000 Simba-UW-tf-dev-1.94.5/simba/pose_importers/sleap_slp_importer.py
+-rw-r--r--   0 simon      (501) staff       (20)     8645 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_importers/import_mars.py
+-rw-r--r--   0 simon      (501) staff       (20)     7464 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_importers/dlc_importer_csv.py
+-rw-r--r--   0 simon      (501) staff       (20)     8417 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_importers/trk_importer.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/
+-rw-r--r--   0 simon      (501) staff       (20)     8196 2024-03-19 18:18:43.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/.DS_Store
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/bp_names/
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:47:10.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/bp_names/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)     4485 2024-03-04 19:10:54.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/bp_names/bp_names.csv
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/no_animals/
+-rw-r--r--   0 simon      (501) staff       (20)       27 2024-03-04 19:10:54.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/no_animals/no_animals.csv
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:47:18.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/no_animals/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:47:05.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/__init__.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/configuration_names/
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:47:14.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/configuration_names/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)      273 2024-03-04 19:10:54.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/configuration_names/pose_config_names.csv
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/
+-rw-r--r--   0 simon      (501) staff       (20)    39805 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/8.png
+-rw-r--r--   0 simon      (501) staff       (20)    62501 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/9.png
+-rw-r--r--   0 simon      (501) staff       (20)     6172 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/12.png
+-rw-r--r--   0 simon      (501) staff       (20)    34231 2024-02-20 18:50:39.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/13.png
+-rw-r--r--   0 simon      (501) staff       (20)    69501 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/11.png
+-rw-r--r--   0 simon      (501) staff       (20)    69410 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/10.png
+-rw-r--r--   0 simon      (501) staff       (20)    16000 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/4.png
+-rw-r--r--   0 simon      (501) staff       (20)    28150 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/5.png
+-rw-r--r--   0 simon      (501) staff       (20)    31140 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/7.png
+-rw-r--r--   0 simon      (501) staff       (20)    30634 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/6.png
+-rw-r--r--   0 simon      (501) staff       (20)    15417 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/2.png
+-rw-r--r--   0 simon      (501) staff       (20)    15786 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/3.png
+-rw-r--r--   0 simon      (501) staff       (20)    18939 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/1.png
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/video_processors/
+-rw-r--r--   0 simon      (501) staff       (20)   219569 2024-06-01 14:15:53.000000 Simba-UW-tf-dev-1.94.5/simba/video_processors/video_processing.py
+-rw-r--r--   0 simon      (501) staff       (20)     6148 2024-05-22 13:06:18.000000 Simba-UW-tf-dev-1.94.5/simba/video_processors/.DS_Store
+-rw-r--r--   0 simon      (501) staff       (20)     5577 2024-04-08 11:29:52.000000 Simba-UW-tf-dev-1.94.5/simba/video_processors/roi_selector_circle.py
+-rw-r--r--   0 simon      (501) staff       (20)     9073 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/video_processors/px_to_mm.py
+-rw-r--r--   0 simon      (501) staff       (20)    35053 2024-02-26 15:42:07.000000 Simba-UW-tf-dev-1.94.5/simba/video_processors/batch_process_menus.py
+-rw-r--r--   0 simon      (501) staff       (20)    11439 2024-05-14 20:38:00.000000 Simba-UW-tf-dev-1.94.5/simba/video_processors/multi_cropper.py
+-rw-r--r--   0 simon      (501) staff       (20)     3066 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/video_processors/extract_frames.py
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/video_processors/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)     6598 2024-02-26 21:50:01.000000 Simba-UW-tf-dev-1.94.5/simba/video_processors/roi_selector.py
+-rw-r--r--   0 simon      (501) staff       (20)    10007 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/video_processors/calculate_px_dist.py
+-rw-r--r--   0 simon      (501) staff       (20)     3674 2024-05-06 19:29:28.000000 Simba-UW-tf-dev-1.94.5/simba/video_processors/brightness_contrast_ui.py
+-rw-r--r--   0 simon      (501) staff       (20)     5963 2024-02-27 21:31:05.000000 Simba-UW-tf-dev-1.94.5/simba/video_processors/roi_selector_polygon.py
+-rw-r--r--   0 simon      (501) staff       (20)     4926 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/video_processors/extract_seqframes.py
+-rw-r--r--   0 simon      (501) staff       (20)    15117 2024-04-11 20:42:04.000000 Simba-UW-tf-dev-1.94.5/simba/video_processors/batch_process_create_ffmpeg_commands.py
+-rw-r--r--   0 simon      (501) staff       (20)     3595 2024-05-06 15:51:58.000000 Simba-UW-tf-dev-1.94.5/simba/video_processors/clahe_ui.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/simba/outlier_tools/
+-rw-r--r--   0 simon      (501) staff       (20)     7837 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/outlier_tools/outlier_corrector_movement.py
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/outlier_tools/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)    14462 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/outlier_tools/outlier_corrector_location_advanced.py
+-rw-r--r--   0 simon      (501) staff       (20)    13117 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/outlier_tools/outlier_corrector_movement_advanced.py
+-rw-r--r--   0 simon      (501) staff       (20)    10396 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/outlier_tools/outlier_corrector_location.py
+-rw-r--r--   0 simon      (501) staff       (20)     2751 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/outlier_tools/skip_outlier_correction.py
+-rw-r--r--   0 simon      (501) staff       (20)    85074 2024-05-29 19:03:32.000000 Simba-UW-tf-dev-1.94.5/simba/SimBA.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/simba/assets/
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/simba/assets/unsupervised/
+-rw-r--r--   0 simon      (501) staff       (20)   109483 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/unsupervised/model_names.parquet
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:45:36.000000 Simba-UW-tf-dev-1.94.5/simba/assets/unsupervised/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)    14175 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/unsupervised/features.csv
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/simba/assets/shap/
+-rw-r--r--   0 simon      (501) staff       (20)     1177 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/shap/down_arrow.jpg
+-rw-r--r--   0 simon      (501) staff       (20)     1733 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/shap/intruder_shape.jpg
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/simba/assets/shap/feature_categories/
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:45:25.000000 Simba-UW-tf-dev-1.94.5/simba/assets/shap/feature_categories/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)    17420 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/shap/feature_categories/shap_feature_categories.csv
+-rw-r--r--   0 simon      (501) staff       (20)     1665 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/shap/resident_shape.jpg
+-rw-r--r--   0 simon      (501) staff       (20)     2415 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/shap/resident_intruder_shape.jpg
+-rw-r--r--   0 simon      (501) staff       (20)     2012 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/shap/animal_distances.jpg
+-rw-r--r--   0 simon      (501) staff       (20)     4422 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/shap/baseline_scale.jpg
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:45:21.000000 Simba-UW-tf-dev-1.94.5/simba/assets/shap/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)   353824 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/shap/ubuntu.regular.ttf
+-rw-r--r--   0 simon      (501) staff       (20)     6672 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/shap/side_scale.jpg
+-rw-r--r--   0 simon      (501) staff       (20)   189004 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/shap/UbuntuMono-Regular.ttf
+-rw-r--r--   0 simon      (501) staff       (20)     2737 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/shap/side_scale_5.jpg
+-rw-r--r--   0 simon      (501) staff       (20)     1785 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/shap/intruder_movement.jpg
+-rw-r--r--   0 simon      (501) staff       (20)     1435 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/shap/resident_movement.jpg
+-rw-r--r--   0 simon      (501) staff       (20)     3134 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/shap/color_bar.jpg
+-rw-r--r--   0 simon      (501) staff       (20)     2120 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/shap/resident_intruder_movement.jpg
+-rw-r--r--   0 simon      (501) staff       (20)    10244 2024-05-30 15:07:23.000000 Simba-UW-tf-dev-1.94.5/simba/assets/.DS_Store
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/simba/assets/lookups/
+-rw-r--r--   0 simon      (501) staff       (20)   270783 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/lookups/model_names.parquet
+-rw-r--r--   0 simon      (501) staff       (20)     2987 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/lookups/feature_extraction_headers.csv
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:45:11.000000 Simba-UW-tf-dev-1.94.5/simba/assets/lookups/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)    26256 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/lookups/critical_values_05.pickle
+-rw-r--r--   0 simon      (501) staff       (20)    14175 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/lookups/features.csv
+-rw-r--r--   0 simon      (501) staff       (20)    14175 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/lookups/unsupervised_example_x.csv
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:41:54.000000 Simba-UW-tf-dev-1.94.5/simba/assets/__init__.py
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/simba/assets/stl/
+-rw-r--r--   0 simon      (501) staff       (20)   551576 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/stl/operant_tray.stl
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:45:31.000000 Simba-UW-tf-dev-1.94.5/simba/assets/stl/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)    67647 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/stl/operant_lever.stl
+-rw-r--r--   0 simon      (501) staff       (20)    92896 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/stl/operant_walls.stl
+-rw-r--r--   0 simon      (501) staff       (20)  4759984 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/stl/grid_floor.stl
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/simba/assets/img/
+-rw-r--r--   0 simon      (501) staff       (20)   489479 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/img/splash_2024.mp4
+-rw-r--r--   0 simon      (501) staff       (20)    79863 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/img/bg_2024.png
+-rw-r--r--   0 simon      (501) staff       (20)   399272 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/img/about_me.png
+-rw-r--r--   0 simon      (501) staff       (20)   117108 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/img/splash.mp4
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:45:02.000000 Simba-UW-tf-dev-1.94.5/simba/assets/img/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)   322242 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/img/bg_2.png
+-rw-r--r--   0 simon      (501) staff       (20)      165 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/img/~$splash.pptx
+-rw-r--r--   0 simon      (501) staff       (20)    69267 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/img/splash.pptx
+-rw-r--r--   0 simon      (501) staff       (20)   204362 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/img/bg.png
+-rw-r--r--   0 simon      (501) staff       (20)   189004 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/UbuntuMono-Regular.ttf
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/
+-rw-r--r--   0 simon      (501) staff       (20)     1350 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/factory.png
+-rw-r--r--   0 simon      (501) staff       (20)     1413 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/cluster.png
+-rw-r--r--   0 simon      (501) staff       (20)     1340 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/load.png
+-rw-r--r--   0 simon      (501) staff       (20)     4507 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/gif.png
+-rw-r--r--   0 simon      (501) staff       (20)     4566 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/pose.png
+-rw-r--r--   0 simon      (501) staff       (20)     1943 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/features.png
+-rw-r--r--   0 simon      (501) staff       (20)     6148 2024-04-09 15:42:22.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/.DS_Store
+-rw-r--r--   0 simon      (501) staff       (20)     4896 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/settings.png
+-rw-r--r--   0 simon      (501) staff       (20)     2090 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/stopwatch.png
+-rw-r--r--   0 simon      (501) staff       (20)     1252 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/link.png
+-rw-r--r--   0 simon      (501) staff       (20)     4557 2024-05-29 16:23:52.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/concat_videos.png
+-rw-r--r--   0 simon      (501) staff       (20)      936 2024-05-29 17:22:01.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/average.png
+-rw-r--r--   0 simon      (501) staff       (20)    14250 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/dash_simba.css
+-rw-r--r--   0 simon      (501) staff       (20)      917 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/documentation.png
+-rw-r--r--   0 simon      (501) staff       (20)     4503 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/fps.png
+-rw-r--r--   0 simon      (501) staff       (20)     1299 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/dimensionality_reduction.png
+-rw-r--r--   0 simon      (501) staff       (20)     4823 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/roi.png
+-rw-r--r--   0 simon      (501) staff       (20)   171446 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/simba_logo_2.png
+-rw-r--r--   0 simon      (501) staff       (20)      920 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/superimpose.png
+-rw-r--r--   0 simon      (501) staff       (20)     1136 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/label.png
+-rw-r--r--   0 simon      (501) staff       (20)     1016 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/change.png
+-rw-r--r--   0 simon      (501) staff       (20)    59896 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/readthedocs_logo.png
+-rw-r--r--   0 simon      (501) staff       (20)     1124 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/crop.png
+-rw-r--r--   0 simon      (501) staff       (20)     2146 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/rotate.png
+-rw-r--r--   0 simon      (501) staff       (20)     4267 2024-05-20 14:19:55.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/blur.png
+-rw-r--r--   0 simon      (501) staff       (20)     1921 2024-02-26 14:29:54.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/circle.png
+-rw-r--r--   0 simon      (501) staff       (20)     1150 2024-05-21 20:46:30.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/remove_bg.png
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:44:37.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)     1057 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/path.png
+-rw-r--r--   0 simon      (501) staff       (20)     1148 2024-02-26 20:39:14.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/polygon.png
+-rw-r--r--   0 simon      (501) staff       (20)     4273 2024-05-29 19:01:18.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/crossfade.png
+-rw-r--r--   0 simon      (501) staff       (20)      950 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/clip.png
+-rw-r--r--   0 simon      (501) staff       (20)     2121 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/restart.png
+-rw-r--r--   0 simon      (501) staff       (20)     4653 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/calipher.png
+-rw-r--r--   0 simon      (501) staff       (20)     1291 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/add_on.png
+-rw-r--r--   0 simon      (501) staff       (20)     4695 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/create.png
+-rw-r--r--   0 simon      (501) staff       (20)    78182 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/SimBA_logo.ico
+-rw-r--r--   0 simon      (501) staff       (20)     1067 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/print.png
+-rw-r--r--   0 simon      (501) staff       (20)     4653 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/clf.png
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/concat_icons/
+-rw-r--r--   0 simon      (501) staff       (20)     6027 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/concat_icons/mosaic.png
+-rw-r--r--   0 simon      (501) staff       (20)     5654 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/concat_icons/vertical.png
+-rw-r--r--   0 simon      (501) staff       (20)        0 2024-02-07 19:44:45.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/concat_icons/__init__.py
+-rw-r--r--   0 simon      (501) staff       (20)     5542 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/concat_icons/horizontal.png
+-rw-r--r--   0 simon      (501) staff       (20)     5939 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/concat_icons/mixed_mosaic.png
+-rw-r--r--   0 simon      (501) staff       (20)     4256 2024-05-06 13:20:42.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/brightness.png
+-rw-r--r--   0 simon      (501) staff       (20)     2060 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/merge.png
+-rw-r--r--   0 simon      (501) staff       (20)     1252 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/clean.png
+-rw-r--r--   0 simon      (501) staff       (20)     4725 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/clf_2.png
+-rw-r--r--   0 simon      (501) staff       (20)     4795 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/visualize.png
+-rw-r--r--   0 simon      (501) staff       (20)     2142 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/concat.png
+-rw-r--r--   0 simon      (501) staff       (20)     1474 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/boris.png
+-rw-r--r--   0 simon      (501) staff       (20)     4804 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/frames.png
+-rw-r--r--   0 simon      (501) staff       (20)     2425 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/video.png
+-rw-r--r--   0 simon      (501) staff       (20)     2089 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/sample.png
+-rw-r--r--   0 simon      (501) staff       (20)     1471 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/metrics.png
+-rw-r--r--   0 simon      (501) staff       (20)     4555 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/grey.png
+-rw-r--r--   0 simon      (501) staff       (20)      930 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/exit.png
+-rw-r--r--   0 simon      (501) staff       (20)     4751 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/outlier.png
+-rw-r--r--   0 simon      (501) staff       (20)     4392 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/clahe.png
+-rw-r--r--   0 simon      (501) staff       (20)      900 2024-05-28 12:09:59.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/bw.png
+-rw-r--r--   0 simon      (501) staff       (20)     4637 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/trash.png
+-rw-r--r--   0 simon      (501) staff       (20)     1239 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/about.png
+-rw-r--r--   0 simon      (501) staff       (20)     4666 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/convert.png
+-rw-r--r--   0 simon      (501) staff       (20)    93229 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/SimBA_logo.icns
+-rw-r--r--   0 simon      (501) staff       (20)      991 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/reorganize.png
+-rw-r--r--   0 simon      (501) staff       (20)     4784 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/browse.png
+-rw-r--r--   0 simon      (501) staff       (20)    30707 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/SimBA_logo.png
+-rw-r--r--   0 simon      (501) staff       (20)     1412 2024-05-28 12:10:36.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/greyscale.png
+-rw-r--r--   0 simon      (501) staff       (20)     2293 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/ethovision.png
+-rw-r--r--   0 simon      (501) staff       (20)     1018 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/icons/close.png
+-rw-r--r--   0 simon      (501) staff       (20)    13672 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/dash_simba_base.css
+-rw-r--r--   0 simon      (501) staff       (20)    31812 2024-02-07 18:56:19.000000 Simba-UW-tf-dev-1.94.5/simba/assets/TheGoldenLab.PNG
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/Simba_UW_tf_dev.egg-info/
+-rw-r--r--   0 simon      (501) staff       (20)     2797 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/Simba_UW_tf_dev.egg-info/PKG-INFO
+-rw-r--r--   0 simon      (501) staff       (20)    25382 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/Simba_UW_tf_dev.egg-info/SOURCES.txt
+-rw-r--r--   0 simon      (501) staff       (20)       44 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/Simba_UW_tf_dev.egg-info/entry_points.txt
+-rw-r--r--   0 simon      (501) staff       (20)     1078 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/Simba_UW_tf_dev.egg-info/requires.txt
+-rw-r--r--   0 simon      (501) staff       (20)        6 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/Simba_UW_tf_dev.egg-info/top_level.txt
+-rw-r--r--   0 simon      (501) staff       (20)        1 2024-06-01 14:46:50.000000 Simba-UW-tf-dev-1.94.5/Simba_UW_tf_dev.egg-info/dependency_links.txt
+-rw-r--r--   0 simon      (501) staff       (20)    35127 2024-02-07 18:56:10.000000 Simba-UW-tf-dev-1.94.5/LICENSE
+drwxr-xr-x   0 simon      (501) staff       (20)        0 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/tests/
+-rw-r--r--   0 simon      (501) staff       (20)     4753 2024-04-11 20:40:04.000000 Simba-UW-tf-dev-1.94.5/tests/test_data_processors.py
+-rw-r--r--   0 simon      (501) staff       (20)    13415 2024-03-01 16:43:04.000000 Simba-UW-tf-dev-1.94.5/tests/test_circlular_stats.py
+-rw-r--r--   0 simon      (501) staff       (20)    13399 2024-04-11 20:36:51.000000 Simba-UW-tf-dev-1.94.5/tests/test_stats.py
+-rw-r--r--   0 simon      (501) staff       (20)    11863 2024-02-07 18:56:20.000000 Simba-UW-tf-dev-1.94.5/tests/test_train_model_mixin.py
+-rw-r--r--   0 simon      (501) staff       (20)     6525 2024-02-07 18:56:20.000000 Simba-UW-tf-dev-1.94.5/tests/test_feature_extraction_mixin.py
+-rw-r--r--   0 simon      (501) staff       (20)     1739 2024-02-07 18:56:20.000000 Simba-UW-tf-dev-1.94.5/tests/test_utils_data.py
+-rw-r--r--   0 simon      (501) staff       (20)     8120 2024-03-01 19:06:25.000000 Simba-UW-tf-dev-1.94.5/tests/test_config_reader_mixin.py
+-rw-r--r--   0 simon      (501) staff       (20)     1070 2024-02-07 18:56:20.000000 Simba-UW-tf-dev-1.94.5/tests/test_outlier_correctors.py
+-rw-r--r--   0 simon      (501) staff       (20)     1596 2024-02-07 18:56:20.000000 Simba-UW-tf-dev-1.94.5/tests/test_featurizers.py
+-rw-r--r--   0 simon      (501) staff       (20)     8588 2024-05-22 01:01:06.000000 Simba-UW-tf-dev-1.94.5/tests/test_video_processors.py
+-rw-r--r--   0 simon      (501) staff       (20)     3554 2024-02-07 18:56:20.000000 Simba-UW-tf-dev-1.94.5/tests/test_thirdparty_appenders.py
+-rw-r--r--   0 simon      (501) staff       (20)     3021 2024-02-07 18:56:20.000000 Simba-UW-tf-dev-1.94.5/tests/test_validation_clips.py
+-rw-r--r--   0 simon      (501) staff       (20)     3921 2024-04-26 17:59:40.000000 Simba-UW-tf-dev-1.94.5/tests/test_roi_tools.py
+-rw-r--r--   0 simon      (501) staff       (20)      318 2024-03-04 20:16:28.000000 Simba-UW-tf-dev-1.94.5/MANIFEST.in
+-rw-r--r--   0 simon      (501) staff       (20)    18478 2024-04-17 19:58:21.000000 Simba-UW-tf-dev-1.94.5/README.md
+-rw-r--r--   0 simon      (501) staff       (20)     1426 2024-06-01 14:46:48.000000 Simba-UW-tf-dev-1.94.5/setup.py
+-rw-r--r--   0 simon      (501) staff       (20)       38 2024-06-01 14:46:51.000000 Simba-UW-tf-dev-1.94.5/setup.cfg
```

### Comparing `Simba-UW-tf-dev-1.94.4/PKG-INFO` & `Simba-UW-tf-dev-1.94.5/PKG-INFO`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: Simba-UW-tf-dev
-Version: 1.94.4
+Version: 1.94.5
 Summary: Toolkit for computer classification of behaviors in experimental animals
 Home-page: https://github.com/sgoldenlab/simba
 Author: Simon Nilsson, Jia Jie Choong, Sophia Hwang
 Author-email: sronilsson@gmail.com
 License: GNU Lesser General Public License v3 (LGPLv3)
 Platform: UNKNOWN
 Classifier: Programming Language :: Python :: 3
```

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/.DS_Store` & `Simba-UW-tf-dev-1.94.5/simba/ui/.DS_Store`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/mutual_exclusivity_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/mutual_exclusivity_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/movement_analysis_time_bins_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/movement_analysis_time_bins_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/csv_2_parquet_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/csv_2_parquet_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/quick_path_plot_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/quick_path_plot_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/batch_preprocess_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/batch_preprocess_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/heatmap_location_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/heatmap_location_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/clf_probability_plot_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/clf_probability_plot_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/movement_analysis_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/movement_analysis_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/set_machine_model_parameters_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/set_machine_model_parameters_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/clf_plot_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/clf_plot_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/path_plot_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/path_plot_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/remove_roi_features_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/remove_roi_features_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/targeted_annotation_clips_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/targeted_annotation_clips_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/smoothing_interpolation_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/smoothing_interpolation_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/roi_size_standardizer_popup.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/roi_size_standardizer_popup.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/visualize_pose_in_dir_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/visualize_pose_in_dir_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/roi_analysis_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/roi_analysis_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/outlier_settings_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/outlier_settings_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/gantt_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/gantt_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/clf_validation_plot_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/clf_validation_plot_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/severity_analysis_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/severity_analysis_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/fsttc_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/fsttc_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/kleinberg_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/kleinberg_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/directing_other_animals_plot_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/directing_other_animals_plot_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/spontaneous_alternation_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/spontaneous_alternation_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/pose_reorganizer_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/pose_reorganizer_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/animal_directing_other_animals_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/animal_directing_other_animals_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/append_roi_features_animals_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/append_roi_features_animals_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/clf_by_timebins_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/clf_by_timebins_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/heatmap_clf_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/heatmap_clf_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/data_plot_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/data_plot_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/roi_features_plot_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/roi_features_plot_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/pup_retrieval_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/pup_retrieval_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/boolean_conditional_slicer_pup_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/boolean_conditional_slicer_pup_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/about_simba_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/about_simba_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/clf_descriptive_statistics_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/clf_descriptive_statistics_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/roi_tracking_plot_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/roi_tracking_plot_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/append_roi_features_bodypart_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/append_roi_features_bodypart_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/directing_animal_to_bodypart_plot_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/directing_animal_to_bodypart_plot_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/clf_add_remove_print_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/clf_add_remove_print_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/video_processing_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/video_processing_pop_up.py`

 * *Files 1% similar despite different names*

```diff
@@ -6977,4366 +6977,4407 @@
 0001b400: 6b73 2e56 4944 454f 5f54 4f4f 4c53 2e76  ks.VIDEO_TOOLS.v
 0001b410: 616c 7565 290a 2020 2020 2020 2020 7365  alue).        se
 0001b420: 6c66 2e4d 5034 5f43 4f44 4543 5f4c 4b20  lf.MP4_CODEC_LK 
 0001b430: 3d20 7b27 4845 5643 2028 482e 3236 3529  = {'HEVC (H.265)
 0001b440: 273a 2027 6c69 6278 3236 3527 2c20 2748  ': 'libx265', 'H
 0001b450: 2e32 3634 2028 4156 4329 273a 2027 6c69  .264 (AVC)': 'li
 0001b460: 6278 3236 3427 2c20 2756 5039 273a 2027  bx264', 'VP9': '
-0001b470: 7670 3927 2c20 2747 7572 616e 7465 6564  vp9', 'Guranteed
-0001b480: 2070 6f77 6572 706f 696e 7420 636f 6d70   powerpoint comp
-0001b490: 6174 6962 6c65 273a 2027 706f 7765 7270  atible': 'powerp
-0001b4a0: 6f69 6e74 277d 0a20 2020 2020 2020 2073  oint'}.        s
-0001b4b0: 656c 662e 7175 616c 6974 795f 6472 6f70  elf.quality_drop
-0001b4c0: 646f 776e 203d 2044 726f 7044 6f77 6e4d  down = DropDownM
-0001b4d0: 656e 7528 7365 7474 696e 6773 5f66 726d  enu(settings_frm
-0001b4e0: 2c20 224f 5554 5055 5420 5649 4445 4f20  , "OUTPUT VIDEO 
-0001b4f0: 5155 414c 4954 593a 222c 206c 6973 7428  QUALITY:", list(
-0001b500: 7261 6e67 6528 3130 2c20 3131 302c 2031  range(10, 110, 1
-0001b510: 3029 292c 206c 6162 656c 7769 6474 683d  0)), labelwidth=
-0001b520: 3235 290a 2020 2020 2020 2020 7365 6c66  25).        self
-0001b530: 2e71 7561 6c69 7479 5f64 726f 7064 6f77  .quality_dropdow
-0001b540: 6e2e 7365 7443 686f 6963 6573 2836 3029  n.setChoices(60)
-0001b550: 0a20 2020 2020 2020 2073 656c 662e 636f  .        self.co
-0001b560: 6465 635f 6472 6f70 646f 776e 203d 2044  dec_dropdown = D
-0001b570: 726f 7044 6f77 6e4d 656e 7528 7365 7474  ropDownMenu(sett
-0001b580: 696e 6773 5f66 726d 2c20 2243 4f4d 5052  ings_frm, "COMPR
-0001b590: 4553 5349 4f4e 2043 4f44 4543 3a22 2c20  ESSION CODEC:", 
-0001b5a0: 6c69 7374 2873 656c 662e 4d50 345f 434f  list(self.MP4_CO
-0001b5b0: 4445 435f 4c4b 2e6b 6579 7328 2929 2c20  DEC_LK.keys()), 
-0001b5c0: 6c61 6265 6c77 6964 7468 3d32 3529 0a20  labelwidth=25). 
-0001b5d0: 2020 2020 2020 2073 656c 662e 636f 6465         self.code
-0001b5e0: 635f 6472 6f70 646f 776e 2e73 6574 4368  c_dropdown.setCh
-0001b5f0: 6f69 6365 7328 2748 4556 4320 2848 2e32  oices('HEVC (H.2
-0001b600: 3635 2927 290a 2020 2020 2020 2020 7365  65)').        se
-0001b610: 7474 696e 6773 5f66 726d 2e67 7269 6428  ttings_frm.grid(
-0001b620: 726f 773d 302c 2063 6f6c 756d 6e3d 302c  row=0, column=0,
-0001b630: 2073 7469 636b 793d 4e57 290a 2020 2020   sticky=NW).    
-0001b640: 2020 2020 7365 6c66 2e71 7561 6c69 7479      self.quality
-0001b650: 5f64 726f 7064 6f77 6e2e 6772 6964 2872  _dropdown.grid(r
-0001b660: 6f77 3d30 2c20 636f 6c75 6d6e 3d30 2c20  ow=0, column=0, 
-0001b670: 7374 6963 6b79 3d4e 5729 0a20 2020 2020  sticky=NW).     
-0001b680: 2020 2073 656c 662e 636f 6465 635f 6472     self.codec_dr
-0001b690: 6f70 646f 776e 2e67 7269 6428 726f 773d  opdown.grid(row=
-0001b6a0: 312c 2063 6f6c 756d 6e3d 302c 2073 7469  1, column=0, sti
-0001b6b0: 636b 793d 4e57 290a 0a20 2020 2020 2020  cky=NW)..       
-0001b6c0: 2073 696e 676c 655f 7669 6465 6f5f 6672   single_video_fr
-0001b6d0: 6d20 3d20 4372 6561 7465 4c61 6265 6c46  m = CreateLabelF
-0001b6e0: 7261 6d65 5769 7468 4963 6f6e 2870 6172  rameWithIcon(par
-0001b6f0: 656e 743d 7365 6c66 2e6d 6169 6e5f 6672  ent=self.main_fr
-0001b700: 6d2c 2068 6561 6465 723d 2253 494e 474c  m, header="SINGL
-0001b710: 4520 5649 4445 4f22 2c20 6963 6f6e 5f6e  E VIDEO", icon_n
-0001b720: 616d 653d 4b65 7973 2e44 4f43 554d 454e  ame=Keys.DOCUMEN
-0001b730: 5441 5449 4f4e 2e76 616c 7565 2c20 6963  TATION.value, ic
-0001b740: 6f6e 5f6c 696e 6b3d 4c69 6e6b 732e 5649  on_link=Links.VI
-0001b750: 4445 4f5f 544f 4f4c 532e 7661 6c75 6529  DEO_TOOLS.value)
-0001b760: 0a20 2020 2020 2020 2073 656c 662e 7365  .        self.se
-0001b770: 6c65 6374 6564 5f76 6964 656f 203d 2046  lected_video = F
-0001b780: 696c 6553 656c 6563 7428 7369 6e67 6c65  ileSelect(single
-0001b790: 5f76 6964 656f 5f66 726d 2c20 2256 4944  _video_frm, "VID
-0001b7a0: 454f 2050 4154 483a 222c 2074 6974 6c65  EO PATH:", title
-0001b7b0: 3d22 5365 6c65 6374 2061 2076 6964 656f  ="Select a video
-0001b7c0: 2066 696c 6522 2c20 6c62 6c77 6964 7468   file", lblwidth
-0001b7d0: 3d32 352c 2066 696c 655f 7479 7065 733d  =25, file_types=
-0001b7e0: 5b28 2256 4944 454f 2046 494c 4522 2c20  [("VIDEO FILE", 
-0001b7f0: 4f70 7469 6f6e 732e 414c 4c5f 5649 4445  Options.ALL_VIDE
-0001b800: 4f5f 464f 524d 4154 5f53 5452 5f4f 5054  O_FORMAT_STR_OPT
-0001b810: 494f 4e53 2e76 616c 7565 295d 290a 2020  IONS.value)]).  
-0001b820: 2020 2020 2020 7369 6e67 6c65 5f76 6964        single_vid
-0001b830: 656f 5f72 756e 203d 2042 7574 746f 6e28  eo_run = Button(
-0001b840: 7369 6e67 6c65 5f76 6964 656f 5f66 726d  single_video_frm
-0001b850: 2c20 7465 7874 3d22 5255 4e20 2d20 5349  , text="RUN - SI
-0001b860: 4e47 4c45 2056 4944 454f 222c 2063 6f6d  NGLE VIDEO", com
-0001b870: 6d61 6e64 3d6c 616d 6264 613a 2073 656c  mand=lambda: sel
-0001b880: 662e 7275 6e28 6d75 6c74 6970 6c65 3d46  f.run(multiple=F
-0001b890: 616c 7365 2929 0a20 2020 2020 2020 2073  alse)).        s
-0001b8a0: 696e 676c 655f 7669 6465 6f5f 6672 6d2e  ingle_video_frm.
-0001b8b0: 6772 6964 2872 6f77 3d31 2c20 636f 6c75  grid(row=1, colu
-0001b8c0: 6d6e 3d30 2c20 7374 6963 6b79 3d4e 5729  mn=0, sticky=NW)
-0001b8d0: 0a20 2020 2020 2020 2073 656c 662e 7365  .        self.se
-0001b8e0: 6c65 6374 6564 5f76 6964 656f 2e67 7269  lected_video.gri
-0001b8f0: 6428 726f 773d 302c 2063 6f6c 756d 6e3d  d(row=0, column=
-0001b900: 302c 2073 7469 636b 793d 4e57 290a 2020  0, sticky=NW).  
-0001b910: 2020 2020 2020 7369 6e67 6c65 5f76 6964        single_vid
-0001b920: 656f 5f72 756e 2e67 7269 6428 726f 773d  eo_run.grid(row=
-0001b930: 312c 2063 6f6c 756d 6e3d 302c 2073 7469  1, column=0, sti
-0001b940: 636b 793d 4e57 290a 0a20 2020 2020 2020  cky=NW)..       
-0001b950: 206d 756c 7469 706c 655f 7669 6465 6f5f   multiple_video_
-0001b960: 6672 6d20 3d20 4372 6561 7465 4c61 6265  frm = CreateLabe
-0001b970: 6c46 7261 6d65 5769 7468 4963 6f6e 2870  lFrameWithIcon(p
-0001b980: 6172 656e 743d 7365 6c66 2e6d 6169 6e5f  arent=self.main_
-0001b990: 6672 6d2c 2068 6561 6465 723d 2256 4944  frm, header="VID
-0001b9a0: 454f 2044 4952 4543 544f 5259 222c 2069  EO DIRECTORY", i
-0001b9b0: 636f 6e5f 6e61 6d65 3d4b 6579 732e 444f  con_name=Keys.DO
-0001b9c0: 4355 4d45 4e54 4154 494f 4e2e 7661 6c75  CUMENTATION.valu
-0001b9d0: 652c 2069 636f 6e5f 6c69 6e6b 3d4c 696e  e, icon_link=Lin
-0001b9e0: 6b73 2e56 4944 454f 5f54 4f4f 4c53 2e76  ks.VIDEO_TOOLS.v
-0001b9f0: 616c 7565 290a 2020 2020 2020 2020 7365  alue).        se
-0001ba00: 6c66 2e73 656c 6563 7465 645f 7669 6465  lf.selected_vide
-0001ba10: 6f5f 6469 7220 3d20 466f 6c64 6572 5365  o_dir = FolderSe
-0001ba20: 6c65 6374 286d 756c 7469 706c 655f 7669  lect(multiple_vi
-0001ba30: 6465 6f5f 6672 6d2c 2022 5649 4445 4f20  deo_frm, "VIDEO 
-0001ba40: 4449 5245 4354 4f52 5920 5041 5448 3a22  DIRECTORY PATH:"
-0001ba50: 2c20 7469 746c 653d 2253 656c 6563 7420  , title="Select 
-0001ba60: 6120 7669 6465 6f20 6469 7265 6374 6f72  a video director
-0001ba70: 7922 2c20 6c62 6c77 6964 7468 3d32 3529  y", lblwidth=25)
-0001ba80: 0a20 2020 2020 2020 206d 756c 7469 706c  .        multipl
-0001ba90: 655f 7669 6465 6f5f 7275 6e20 3d20 4275  e_video_run = Bu
-0001baa0: 7474 6f6e 286d 756c 7469 706c 655f 7669  tton(multiple_vi
-0001bab0: 6465 6f5f 6672 6d2c 2074 6578 743d 2252  deo_frm, text="R
-0001bac0: 554e 202d 2056 4944 454f 2044 4952 4543  UN - VIDEO DIREC
-0001bad0: 544f 5259 222c 2063 6f6d 6d61 6e64 3d6c  TORY", command=l
-0001bae0: 616d 6264 613a 2073 656c 662e 7275 6e28  ambda: self.run(
-0001baf0: 6d75 6c74 6970 6c65 3d54 7275 6529 290a  multiple=True)).
-0001bb00: 2020 2020 2020 2020 6d75 6c74 6970 6c65          multiple
-0001bb10: 5f76 6964 656f 5f66 726d 2e67 7269 6428  _video_frm.grid(
-0001bb20: 726f 773d 322c 2063 6f6c 756d 6e3d 302c  row=2, column=0,
-0001bb30: 2073 7469 636b 793d 4e57 290a 2020 2020   sticky=NW).    
-0001bb40: 2020 2020 7365 6c66 2e73 656c 6563 7465      self.selecte
-0001bb50: 645f 7669 6465 6f5f 6469 722e 6772 6964  d_video_dir.grid
-0001bb60: 2872 6f77 3d30 2c20 636f 6c75 6d6e 3d30  (row=0, column=0
-0001bb70: 2c20 7374 6963 6b79 3d4e 5729 0a20 2020  , sticky=NW).   
-0001bb80: 2020 2020 206d 756c 7469 706c 655f 7669       multiple_vi
-0001bb90: 6465 6f5f 7275 6e2e 6772 6964 2872 6f77  deo_run.grid(row
-0001bba0: 3d31 2c20 636f 6c75 6d6e 3d30 2c20 7374  =1, column=0, st
-0001bbb0: 6963 6b79 3d4e 5729 0a0a 2020 2020 2020  icky=NW)..      
-0001bbc0: 2020 2373 656c 662e 6d61 696e 5f66 726d    #self.main_frm
-0001bbd0: 2e6d 6169 6e6c 6f6f 7028 290a 0a20 2020  .mainloop()..   
-0001bbe0: 2064 6566 2072 756e 2873 656c 662c 206d   def run(self, m
-0001bbf0: 756c 7469 706c 653a 2062 6f6f 6c29 3a0a  ultiple: bool):.
-0001bc00: 2020 2020 2020 2020 6966 206e 6f74 206d          if not m
-0001bc10: 756c 7469 706c 653a 0a20 2020 2020 2020  ultiple:.       
-0001bc20: 2020 2020 2076 6964 656f 5f70 6174 6820       video_path 
-0001bc30: 3d20 7365 6c66 2e73 656c 6563 7465 645f  = self.selected_
-0001bc40: 7669 6465 6f2e 6669 6c65 5f70 6174 680a  video.file_path.
-0001bc50: 2020 2020 2020 2020 2020 2020 6368 6563              chec
-0001bc60: 6b5f 6669 6c65 5f65 7869 7374 5f61 6e64  k_file_exist_and
-0001bc70: 5f72 6561 6461 626c 6528 6669 6c65 5f70  _readable(file_p
-0001bc80: 6174 683d 7669 6465 6f5f 7061 7468 290a  ath=video_path).
-0001bc90: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0001bca0: 2020 2020 2020 2020 2020 7669 6465 6f5f            video_
-0001bcb0: 7061 7468 203d 2073 656c 662e 7365 6c65  path = self.sele
-0001bcc0: 6374 6564 5f76 6964 656f 5f64 6972 2e66  cted_video_dir.f
-0001bcd0: 6f6c 6465 725f 7061 7468 0a20 2020 2020  older_path.     
-0001bce0: 2020 2020 2020 2063 6865 636b 5f69 665f         check_if_
-0001bcf0: 6469 725f 6578 6973 7473 2869 6e5f 6469  dir_exists(in_di
-0001bd00: 723d 7669 6465 6f5f 7061 7468 2c20 736f  r=video_path, so
-0001bd10: 7572 6365 3d73 656c 662e 5f5f 636c 6173  urce=self.__clas
-0001bd20: 735f 5f2e 5f5f 6e61 6d65 5f5f 290a 2020  s__.__name__).  
-0001bd30: 2020 2020 2020 636f 6465 6320 3d20 7365        codec = se
-0001bd40: 6c66 2e4d 5034 5f43 4f44 4543 5f4c 4b5b  lf.MP4_CODEC_LK[
-0001bd50: 7365 6c66 2e63 6f64 6563 5f64 726f 7064  self.codec_dropd
-0001bd60: 6f77 6e2e 6765 7443 686f 6963 6573 2829  own.getChoices()
-0001bd70: 5d0a 2020 2020 2020 2020 7175 616c 6974  ].        qualit
-0001bd80: 7920 3d20 696e 7428 7365 6c66 2e71 7561  y = int(self.qua
-0001bd90: 6c69 7479 5f64 726f 7064 6f77 6e2e 6765  lity_dropdown.ge
-0001bda0: 7443 686f 6963 6573 2829 290a 2020 2020  tChoices()).    
-0001bdb0: 2020 2020 7468 7265 6164 696e 672e 5468      threading.Th
-0001bdc0: 7265 6164 2874 6172 6765 743d 636f 6e76  read(target=conv
-0001bdd0: 6572 745f 746f 5f6d 7034 2870 6174 683d  ert_to_mp4(path=
-0001bde0: 7669 6465 6f5f 7061 7468 2c20 636f 6465  video_path, code
-0001bdf0: 633d 636f 6465 632c 2071 7561 6c69 7479  c=codec, quality
-0001be00: 3d71 7561 6c69 7479 2929 0a0a 636c 6173  =quality))..clas
-0001be10: 7320 436f 6e76 6572 7432 4156 4950 6f70  s Convert2AVIPop
-0001be20: 5570 2850 6f70 5570 4d69 7869 6e29 3a0a  Up(PopUpMixin):.
-0001be30: 2020 2020 2222 220a 2020 2020 3a65 7861      """.    :exa
-0001be40: 6d70 6c65 3a0a 2020 2020 3e3e 3e20 436f  mple:.    >>> Co
-0001be50: 6e76 6572 7432 4156 4950 6f70 5570 2829  nvert2AVIPopUp()
-0001be60: 0a20 2020 2022 2222 0a0a 2020 2020 6465  .    """..    de
-0001be70: 6620 5f5f 696e 6974 5f5f 2873 656c 6629  f __init__(self)
-0001be80: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
-0001be90: 292e 5f5f 696e 6974 5f5f 2874 6974 6c65  ).__init__(title
-0001bea0: 3d22 434f 4e56 4552 5420 5649 4445 4f53  ="CONVERT VIDEOS
-0001beb0: 2054 4f20 4156 4922 290a 2020 2020 2020   TO AVI").      
-0001bec0: 2020 7365 7474 696e 6773 5f66 726d 203d    settings_frm =
-0001bed0: 2043 7265 6174 654c 6162 656c 4672 616d   CreateLabelFram
-0001bee0: 6557 6974 6849 636f 6e28 7061 7265 6e74  eWithIcon(parent
-0001bef0: 3d73 656c 662e 6d61 696e 5f66 726d 2c20  =self.main_frm, 
-0001bf00: 6865 6164 6572 3d22 5345 5454 494e 4753  header="SETTINGS
-0001bf10: 222c 2069 636f 6e5f 6e61 6d65 3d4b 6579  ", icon_name=Key
-0001bf20: 732e 444f 4355 4d45 4e54 4154 494f 4e2e  s.DOCUMENTATION.
-0001bf30: 7661 6c75 652c 2069 636f 6e5f 6c69 6e6b  value, icon_link
-0001bf40: 3d4c 696e 6b73 2e56 4944 454f 5f54 4f4f  =Links.VIDEO_TOO
-0001bf50: 4c53 2e76 616c 7565 290a 2020 2020 2020  LS.value).      
-0001bf60: 2020 7365 6c66 2e41 5649 5f43 4f44 4543    self.AVI_CODEC
-0001bf70: 5f4c 4b20 3d20 7b27 5876 6944 273a 2027  _LK = {'XviD': '
-0001bf80: 7876 6964 272c 2027 4469 7658 273a 2027  xvid', 'DivX': '
-0001bf90: 6469 7678 272c 2027 4d4a 5045 4727 3a20  divx', 'MJPEG': 
-0001bfa0: 276d 6a70 6567 277d 0a20 2020 2020 2020  'mjpeg'}.       
-0001bfb0: 2073 656c 662e 7175 616c 6974 795f 6472   self.quality_dr
-0001bfc0: 6f70 646f 776e 203d 2044 726f 7044 6f77  opdown = DropDow
-0001bfd0: 6e4d 656e 7528 7365 7474 696e 6773 5f66  nMenu(settings_f
-0001bfe0: 726d 2c20 224f 5554 5055 5420 5649 4445  rm, "OUTPUT VIDE
-0001bff0: 4f20 5155 414c 4954 593a 222c 206c 6973  O QUALITY:", lis
-0001c000: 7428 7261 6e67 6528 3130 2c20 3131 302c  t(range(10, 110,
-0001c010: 2031 3029 292c 206c 6162 656c 7769 6474   10)), labelwidt
-0001c020: 683d 3235 290a 2020 2020 2020 2020 7365  h=25).        se
-0001c030: 6c66 2e71 7561 6c69 7479 5f64 726f 7064  lf.quality_dropd
-0001c040: 6f77 6e2e 7365 7443 686f 6963 6573 2836  own.setChoices(6
-0001c050: 3029 0a20 2020 2020 2020 2073 656c 662e  0).        self.
-0001c060: 636f 6465 635f 6472 6f70 646f 776e 203d  codec_dropdown =
-0001c070: 2044 726f 7044 6f77 6e4d 656e 7528 7365   DropDownMenu(se
-0001c080: 7474 696e 6773 5f66 726d 2c20 2243 4f4d  ttings_frm, "COM
-0001c090: 5052 4553 5349 4f4e 2043 4f44 4543 3a22  PRESSION CODEC:"
-0001c0a0: 2c20 6c69 7374 2873 656c 662e 4156 495f  , list(self.AVI_
-0001c0b0: 434f 4445 435f 4c4b 2e6b 6579 7328 2929  CODEC_LK.keys())
-0001c0c0: 2c20 6c61 6265 6c77 6964 7468 3d32 3529  , labelwidth=25)
-0001c0d0: 0a20 2020 2020 2020 2073 656c 662e 636f  .        self.co
-0001c0e0: 6465 635f 6472 6f70 646f 776e 2e73 6574  dec_dropdown.set
-0001c0f0: 4368 6f69 6365 7328 2744 6976 5827 290a  Choices('DivX').
-0001c100: 2020 2020 2020 2020 7365 7474 696e 6773          settings
-0001c110: 5f66 726d 2e67 7269 6428 726f 773d 302c  _frm.grid(row=0,
-0001c120: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
-0001c130: 793d 4e57 290a 2020 2020 2020 2020 7365  y=NW).        se
-0001c140: 6c66 2e71 7561 6c69 7479 5f64 726f 7064  lf.quality_dropd
-0001c150: 6f77 6e2e 6772 6964 2872 6f77 3d30 2c20  own.grid(row=0, 
-0001c160: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
-0001c170: 3d4e 5729 0a20 2020 2020 2020 2073 656c  =NW).        sel
-0001c180: 662e 636f 6465 635f 6472 6f70 646f 776e  f.codec_dropdown
-0001c190: 2e67 7269 6428 726f 773d 312c 2063 6f6c  .grid(row=1, col
-0001c1a0: 756d 6e3d 302c 2073 7469 636b 793d 4e57  umn=0, sticky=NW
-0001c1b0: 290a 2020 2020 2020 2020 7369 6e67 6c65  ).        single
-0001c1c0: 5f76 6964 656f 5f66 726d 203d 2043 7265  _video_frm = Cre
-0001c1d0: 6174 654c 6162 656c 4672 616d 6557 6974  ateLabelFrameWit
-0001c1e0: 6849 636f 6e28 7061 7265 6e74 3d73 656c  hIcon(parent=sel
-0001c1f0: 662e 6d61 696e 5f66 726d 2c20 6865 6164  f.main_frm, head
-0001c200: 6572 3d22 5349 4e47 4c45 2056 4944 454f  er="SINGLE VIDEO
-0001c210: 222c 2069 636f 6e5f 6e61 6d65 3d4b 6579  ", icon_name=Key
-0001c220: 732e 444f 4355 4d45 4e54 4154 494f 4e2e  s.DOCUMENTATION.
-0001c230: 7661 6c75 652c 2069 636f 6e5f 6c69 6e6b  value, icon_link
-0001c240: 3d4c 696e 6b73 2e56 4944 454f 5f54 4f4f  =Links.VIDEO_TOO
-0001c250: 4c53 2e76 616c 7565 290a 2020 2020 2020  LS.value).      
-0001c260: 2020 7365 6c66 2e73 656c 6563 7465 645f    self.selected_
-0001c270: 7669 6465 6f20 3d20 4669 6c65 5365 6c65  video = FileSele
-0001c280: 6374 2873 696e 676c 655f 7669 6465 6f5f  ct(single_video_
-0001c290: 6672 6d2c 2022 5649 4445 4f20 5041 5448  frm, "VIDEO PATH
-0001c2a0: 3a22 2c20 7469 746c 653d 2253 656c 6563  :", title="Selec
-0001c2b0: 7420 6120 7669 6465 6f20 6669 6c65 222c  t a video file",
-0001c2c0: 206c 626c 7769 6474 683d 3235 2c20 6669   lblwidth=25, fi
-0001c2d0: 6c65 5f74 7970 6573 3d5b 2822 5649 4445  le_types=[("VIDE
-0001c2e0: 4f20 4649 4c45 222c 204f 7074 696f 6e73  O FILE", Options
-0001c2f0: 2e41 4c4c 5f56 4944 454f 5f46 4f52 4d41  .ALL_VIDEO_FORMA
-0001c300: 545f 5354 525f 4f50 5449 4f4e 532e 7661  T_STR_OPTIONS.va
-0001c310: 6c75 6529 5d29 0a20 2020 2020 2020 2073  lue)]).        s
-0001c320: 696e 676c 655f 7669 6465 6f5f 7275 6e20  ingle_video_run 
-0001c330: 3d20 4275 7474 6f6e 2873 696e 676c 655f  = Button(single_
-0001c340: 7669 6465 6f5f 6672 6d2c 2074 6578 743d  video_frm, text=
-0001c350: 2252 554e 202d 2053 494e 474c 4520 5649  "RUN - SINGLE VI
-0001c360: 4445 4f22 2c20 636f 6d6d 616e 643d 6c61  DEO", command=la
-0001c370: 6d62 6461 3a20 7365 6c66 2e72 756e 286d  mbda: self.run(m
-0001c380: 756c 7469 706c 653d 4661 6c73 6529 290a  ultiple=False)).
-0001c390: 2020 2020 2020 2020 7369 6e67 6c65 5f76          single_v
-0001c3a0: 6964 656f 5f66 726d 2e67 7269 6428 726f  ideo_frm.grid(ro
-0001c3b0: 773d 312c 2063 6f6c 756d 6e3d 302c 2073  w=1, column=0, s
-0001c3c0: 7469 636b 793d 4e57 290a 2020 2020 2020  ticky=NW).      
-0001c3d0: 2020 7365 6c66 2e73 656c 6563 7465 645f    self.selected_
-0001c3e0: 7669 6465 6f2e 6772 6964 2872 6f77 3d30  video.grid(row=0
-0001c3f0: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
-0001c400: 6b79 3d4e 5729 0a20 2020 2020 2020 2073  ky=NW).        s
-0001c410: 696e 676c 655f 7669 6465 6f5f 7275 6e2e  ingle_video_run.
-0001c420: 6772 6964 2872 6f77 3d31 2c20 636f 6c75  grid(row=1, colu
-0001c430: 6d6e 3d30 2c20 7374 6963 6b79 3d4e 5729  mn=0, sticky=NW)
-0001c440: 0a0a 2020 2020 2020 2020 6d75 6c74 6970  ..        multip
-0001c450: 6c65 5f76 6964 656f 5f66 726d 203d 2043  le_video_frm = C
-0001c460: 7265 6174 654c 6162 656c 4672 616d 6557  reateLabelFrameW
-0001c470: 6974 6849 636f 6e28 7061 7265 6e74 3d73  ithIcon(parent=s
-0001c480: 656c 662e 6d61 696e 5f66 726d 2c20 6865  elf.main_frm, he
-0001c490: 6164 6572 3d22 5649 4445 4f20 4449 5245  ader="VIDEO DIRE
-0001c4a0: 4354 4f52 5922 2c20 6963 6f6e 5f6e 616d  CTORY", icon_nam
-0001c4b0: 653d 4b65 7973 2e44 4f43 554d 454e 5441  e=Keys.DOCUMENTA
-0001c4c0: 5449 4f4e 2e76 616c 7565 2c20 6963 6f6e  TION.value, icon
-0001c4d0: 5f6c 696e 6b3d 4c69 6e6b 732e 5649 4445  _link=Links.VIDE
-0001c4e0: 4f5f 544f 4f4c 532e 7661 6c75 6529 0a20  O_TOOLS.value). 
-0001c4f0: 2020 2020 2020 2073 656c 662e 7365 6c65         self.sele
-0001c500: 6374 6564 5f76 6964 656f 5f64 6972 203d  cted_video_dir =
-0001c510: 2046 6f6c 6465 7253 656c 6563 7428 6d75   FolderSelect(mu
-0001c520: 6c74 6970 6c65 5f76 6964 656f 5f66 726d  ltiple_video_frm
-0001c530: 2c20 2256 4944 454f 2044 4952 4543 544f  , "VIDEO DIRECTO
-0001c540: 5259 2050 4154 483a 222c 2074 6974 6c65  RY PATH:", title
-0001c550: 3d22 5365 6c65 6374 2061 2076 6964 656f  ="Select a video
-0001c560: 2064 6972 6563 746f 7279 222c 206c 626c   directory", lbl
-0001c570: 7769 6474 683d 3235 290a 2020 2020 2020  width=25).      
-0001c580: 2020 6d75 6c74 6970 6c65 5f76 6964 656f    multiple_video
-0001c590: 5f72 756e 203d 2042 7574 746f 6e28 6d75  _run = Button(mu
-0001c5a0: 6c74 6970 6c65 5f76 6964 656f 5f66 726d  ltiple_video_frm
-0001c5b0: 2c20 7465 7874 3d22 5255 4e20 2d20 5649  , text="RUN - VI
-0001c5c0: 4445 4f20 4449 5245 4354 4f52 5922 2c20  DEO DIRECTORY", 
-0001c5d0: 636f 6d6d 616e 643d 6c61 6d62 6461 3a20  command=lambda: 
-0001c5e0: 7365 6c66 2e72 756e 286d 756c 7469 706c  self.run(multipl
-0001c5f0: 653d 5472 7565 2929 0a20 2020 2020 2020  e=True)).       
-0001c600: 206d 756c 7469 706c 655f 7669 6465 6f5f   multiple_video_
-0001c610: 6672 6d2e 6772 6964 2872 6f77 3d32 2c20  frm.grid(row=2, 
-0001c620: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
-0001c630: 3d4e 5729 0a20 2020 2020 2020 2073 656c  =NW).        sel
-0001c640: 662e 7365 6c65 6374 6564 5f76 6964 656f  f.selected_video
-0001c650: 5f64 6972 2e67 7269 6428 726f 773d 302c  _dir.grid(row=0,
-0001c660: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
-0001c670: 793d 4e57 290a 2020 2020 2020 2020 6d75  y=NW).        mu
-0001c680: 6c74 6970 6c65 5f76 6964 656f 5f72 756e  ltiple_video_run
-0001c690: 2e67 7269 6428 726f 773d 312c 2063 6f6c  .grid(row=1, col
-0001c6a0: 756d 6e3d 302c 2073 7469 636b 793d 4e57  umn=0, sticky=NW
-0001c6b0: 290a 2020 2020 2020 2020 2373 656c 662e  ).        #self.
-0001c6c0: 6d61 696e 5f66 726d 2e6d 6169 6e6c 6f6f  main_frm.mainloo
-0001c6d0: 7028 290a 0a20 2020 2064 6566 2072 756e  p()..    def run
-0001c6e0: 2873 656c 662c 206d 756c 7469 706c 653a  (self, multiple:
-0001c6f0: 2062 6f6f 6c29 3a0a 2020 2020 2020 2020   bool):.        
-0001c700: 6966 206e 6f74 206d 756c 7469 706c 653a  if not multiple:
-0001c710: 0a20 2020 2020 2020 2020 2020 2076 6964  .            vid
-0001c720: 656f 5f70 6174 6820 3d20 7365 6c66 2e73  eo_path = self.s
-0001c730: 656c 6563 7465 645f 7669 6465 6f2e 6669  elected_video.fi
-0001c740: 6c65 5f70 6174 680a 2020 2020 2020 2020  le_path.        
-0001c750: 2020 2020 6368 6563 6b5f 6669 6c65 5f65      check_file_e
-0001c760: 7869 7374 5f61 6e64 5f72 6561 6461 626c  xist_and_readabl
-0001c770: 6528 6669 6c65 5f70 6174 683d 7669 6465  e(file_path=vide
-0001c780: 6f5f 7061 7468 290a 2020 2020 2020 2020  o_path).        
-0001c790: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-0001c7a0: 2020 7669 6465 6f5f 7061 7468 203d 2073    video_path = s
-0001c7b0: 656c 662e 7365 6c65 6374 6564 5f76 6964  elf.selected_vid
-0001c7c0: 656f 5f64 6972 2e66 6f6c 6465 725f 7061  eo_dir.folder_pa
-0001c7d0: 7468 0a20 2020 2020 2020 2020 2020 2063  th.            c
-0001c7e0: 6865 636b 5f69 665f 6469 725f 6578 6973  heck_if_dir_exis
-0001c7f0: 7473 2869 6e5f 6469 723d 7669 6465 6f5f  ts(in_dir=video_
-0001c800: 7061 7468 2c20 736f 7572 6365 3d73 656c  path, source=sel
-0001c810: 662e 5f5f 636c 6173 735f 5f2e 5f5f 6e61  f.__class__.__na
-0001c820: 6d65 5f5f 290a 2020 2020 2020 2020 636f  me__).        co
-0001c830: 6465 6320 3d20 7365 6c66 2e41 5649 5f43  dec = self.AVI_C
-0001c840: 4f44 4543 5f4c 4b5b 7365 6c66 2e63 6f64  ODEC_LK[self.cod
-0001c850: 6563 5f64 726f 7064 6f77 6e2e 6765 7443  ec_dropdown.getC
-0001c860: 686f 6963 6573 2829 5d0a 2020 2020 2020  hoices()].      
-0001c870: 2020 7175 616c 6974 7920 3d20 696e 7428    quality = int(
-0001c880: 7365 6c66 2e71 7561 6c69 7479 5f64 726f  self.quality_dro
-0001c890: 7064 6f77 6e2e 6765 7443 686f 6963 6573  pdown.getChoices
-0001c8a0: 2829 290a 2020 2020 2020 2020 7468 7265  ()).        thre
-0001c8b0: 6164 696e 672e 5468 7265 6164 2874 6172  ading.Thread(tar
-0001c8c0: 6765 743d 636f 6e76 6572 745f 746f 5f61  get=convert_to_a
-0001c8d0: 7669 2870 6174 683d 7669 6465 6f5f 7061  vi(path=video_pa
-0001c8e0: 7468 2c20 636f 6465 633d 636f 6465 632c  th, codec=codec,
-0001c8f0: 2071 7561 6c69 7479 3d71 7561 6c69 7479   quality=quality
-0001c900: 2929 0a0a 636c 6173 7320 436f 6e76 6572  ))..class Conver
-0001c910: 7432 5745 424d 506f 7055 7028 506f 7055  t2WEBMPopUp(PopU
-0001c920: 704d 6978 696e 293a 0a20 2020 2022 2222  pMixin):.    """
-0001c930: 0a20 2020 203a 6578 616d 706c 653a 0a20  .    :example:. 
-0001c940: 2020 203e 3e3e 2043 6f6e 7665 7274 3257     >>> Convert2W
-0001c950: 4542 4d50 6f70 5570 2829 0a20 2020 2022  EBMPopUp().    "
-0001c960: 2222 0a0a 2020 2020 6465 6620 5f5f 696e  ""..    def __in
-0001c970: 6974 5f5f 2873 656c 6629 3a0a 2020 2020  it__(self):.    
-0001c980: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
-0001c990: 6974 5f5f 2874 6974 6c65 3d22 434f 4e56  it__(title="CONV
-0001c9a0: 4552 5420 5649 4445 4f53 2054 4f20 5745  ERT VIDEOS TO WE
-0001c9b0: 424d 2229 0a20 2020 2020 2020 2073 6574  BM").        set
-0001c9c0: 7469 6e67 735f 6672 6d20 3d20 4372 6561  tings_frm = Crea
-0001c9d0: 7465 4c61 6265 6c46 7261 6d65 5769 7468  teLabelFrameWith
-0001c9e0: 4963 6f6e 2870 6172 656e 743d 7365 6c66  Icon(parent=self
-0001c9f0: 2e6d 6169 6e5f 6672 6d2c 2068 6561 6465  .main_frm, heade
-0001ca00: 723d 2253 4554 5449 4e47 5322 2c20 6963  r="SETTINGS", ic
-0001ca10: 6f6e 5f6e 616d 653d 4b65 7973 2e44 4f43  on_name=Keys.DOC
-0001ca20: 554d 454e 5441 5449 4f4e 2e76 616c 7565  UMENTATION.value
-0001ca30: 2c20 6963 6f6e 5f6c 696e 6b3d 4c69 6e6b  , icon_link=Link
-0001ca40: 732e 5649 4445 4f5f 544f 4f4c 532e 7661  s.VIDEO_TOOLS.va
-0001ca50: 6c75 6529 0a20 2020 2020 2020 2073 656c  lue).        sel
-0001ca60: 662e 5745 424d 5f43 4f44 4543 5f4c 4b20  f.WEBM_CODEC_LK 
-0001ca70: 3d20 7b27 5650 3827 3a20 2776 7038 272c  = {'VP8': 'vp8',
-0001ca80: 2027 5650 3927 3a20 2776 7039 277d 0a20   'VP9': 'vp9'}. 
-0001ca90: 2020 2020 2020 2073 656c 662e 7175 616c         self.qual
-0001caa0: 6974 795f 6472 6f70 646f 776e 203d 2044  ity_dropdown = D
-0001cab0: 726f 7044 6f77 6e4d 656e 7528 7365 7474  ropDownMenu(sett
-0001cac0: 696e 6773 5f66 726d 2c20 224f 5554 5055  ings_frm, "OUTPU
-0001cad0: 5420 5649 4445 4f20 5155 414c 4954 593a  T VIDEO QUALITY:
-0001cae0: 222c 206c 6973 7428 7261 6e67 6528 3130  ", list(range(10
-0001caf0: 2c20 3131 302c 2031 3029 292c 206c 6162  , 110, 10)), lab
-0001cb00: 656c 7769 6474 683d 3235 290a 2020 2020  elwidth=25).    
-0001cb10: 2020 2020 7365 6c66 2e71 7561 6c69 7479      self.quality
-0001cb20: 5f64 726f 7064 6f77 6e2e 7365 7443 686f  _dropdown.setCho
-0001cb30: 6963 6573 2836 3029 0a20 2020 2020 2020  ices(60).       
-0001cb40: 2073 656c 662e 636f 6465 635f 6472 6f70   self.codec_drop
-0001cb50: 646f 776e 203d 2044 726f 7044 6f77 6e4d  down = DropDownM
-0001cb60: 656e 7528 7365 7474 696e 6773 5f66 726d  enu(settings_frm
-0001cb70: 2c20 2243 4f4d 5052 4553 5349 4f4e 2043  , "COMPRESSION C
-0001cb80: 4f44 4543 3a22 2c20 6c69 7374 2873 656c  ODEC:", list(sel
-0001cb90: 662e 5745 424d 5f43 4f44 4543 5f4c 4b2e  f.WEBM_CODEC_LK.
-0001cba0: 6b65 7973 2829 292c 206c 6162 656c 7769  keys()), labelwi
-0001cbb0: 6474 683d 3235 290a 2020 2020 2020 2020  dth=25).        
-0001cbc0: 7365 6c66 2e63 6f64 6563 5f64 726f 7064  self.codec_dropd
-0001cbd0: 6f77 6e2e 7365 7443 686f 6963 6573 2827  own.setChoices('
-0001cbe0: 5650 3927 290a 2020 2020 2020 2020 7365  VP9').        se
-0001cbf0: 7474 696e 6773 5f66 726d 2e67 7269 6428  ttings_frm.grid(
-0001cc00: 726f 773d 302c 2063 6f6c 756d 6e3d 302c  row=0, column=0,
-0001cc10: 2073 7469 636b 793d 4e57 290a 2020 2020   sticky=NW).    
-0001cc20: 2020 2020 7365 6c66 2e71 7561 6c69 7479      self.quality
-0001cc30: 5f64 726f 7064 6f77 6e2e 6772 6964 2872  _dropdown.grid(r
-0001cc40: 6f77 3d30 2c20 636f 6c75 6d6e 3d30 2c20  ow=0, column=0, 
-0001cc50: 7374 6963 6b79 3d4e 5729 0a20 2020 2020  sticky=NW).     
-0001cc60: 2020 2073 656c 662e 636f 6465 635f 6472     self.codec_dr
-0001cc70: 6f70 646f 776e 2e67 7269 6428 726f 773d  opdown.grid(row=
-0001cc80: 312c 2063 6f6c 756d 6e3d 302c 2073 7469  1, column=0, sti
-0001cc90: 636b 793d 4e57 290a 2020 2020 2020 2020  cky=NW).        
-0001cca0: 7369 6e67 6c65 5f76 6964 656f 5f66 726d  single_video_frm
-0001ccb0: 203d 2043 7265 6174 654c 6162 656c 4672   = CreateLabelFr
-0001ccc0: 616d 6557 6974 6849 636f 6e28 7061 7265  ameWithIcon(pare
-0001ccd0: 6e74 3d73 656c 662e 6d61 696e 5f66 726d  nt=self.main_frm
-0001cce0: 2c20 6865 6164 6572 3d22 5349 4e47 4c45  , header="SINGLE
-0001ccf0: 2056 4944 454f 222c 2069 636f 6e5f 6e61   VIDEO", icon_na
-0001cd00: 6d65 3d4b 6579 732e 444f 4355 4d45 4e54  me=Keys.DOCUMENT
-0001cd10: 4154 494f 4e2e 7661 6c75 652c 2069 636f  ATION.value, ico
-0001cd20: 6e5f 6c69 6e6b 3d4c 696e 6b73 2e56 4944  n_link=Links.VID
-0001cd30: 454f 5f54 4f4f 4c53 2e76 616c 7565 290a  EO_TOOLS.value).
-0001cd40: 2020 2020 2020 2020 7365 6c66 2e73 656c          self.sel
-0001cd50: 6563 7465 645f 7669 6465 6f20 3d20 4669  ected_video = Fi
-0001cd60: 6c65 5365 6c65 6374 2873 696e 676c 655f  leSelect(single_
-0001cd70: 7669 6465 6f5f 6672 6d2c 2022 5649 4445  video_frm, "VIDE
-0001cd80: 4f20 5041 5448 3a22 2c20 7469 746c 653d  O PATH:", title=
-0001cd90: 2253 656c 6563 7420 6120 7669 6465 6f20  "Select a video 
-0001cda0: 6669 6c65 222c 206c 626c 7769 6474 683d  file", lblwidth=
-0001cdb0: 3235 2c20 6669 6c65 5f74 7970 6573 3d5b  25, file_types=[
-0001cdc0: 2822 5649 4445 4f20 4649 4c45 222c 204f  ("VIDEO FILE", O
-0001cdd0: 7074 696f 6e73 2e41 4c4c 5f56 4944 454f  ptions.ALL_VIDEO
-0001cde0: 5f46 4f52 4d41 545f 5354 525f 4f50 5449  _FORMAT_STR_OPTI
-0001cdf0: 4f4e 532e 7661 6c75 6529 5d29 0a20 2020  ONS.value)]).   
-0001ce00: 2020 2020 2073 696e 676c 655f 7669 6465       single_vide
-0001ce10: 6f5f 7275 6e20 3d20 4275 7474 6f6e 2873  o_run = Button(s
-0001ce20: 696e 676c 655f 7669 6465 6f5f 6672 6d2c  ingle_video_frm,
-0001ce30: 2074 6578 743d 2252 554e 202d 2053 494e   text="RUN - SIN
-0001ce40: 474c 4520 5649 4445 4f22 2c20 636f 6d6d  GLE VIDEO", comm
-0001ce50: 616e 643d 6c61 6d62 6461 3a20 7365 6c66  and=lambda: self
-0001ce60: 2e72 756e 286d 756c 7469 706c 653d 4661  .run(multiple=Fa
-0001ce70: 6c73 6529 290a 2020 2020 2020 2020 7369  lse)).        si
-0001ce80: 6e67 6c65 5f76 6964 656f 5f66 726d 2e67  ngle_video_frm.g
-0001ce90: 7269 6428 726f 773d 312c 2063 6f6c 756d  rid(row=1, colum
-0001cea0: 6e3d 302c 2073 7469 636b 793d 4e57 290a  n=0, sticky=NW).
-0001ceb0: 2020 2020 2020 2020 7365 6c66 2e73 656c          self.sel
-0001cec0: 6563 7465 645f 7669 6465 6f2e 6772 6964  ected_video.grid
-0001ced0: 2872 6f77 3d30 2c20 636f 6c75 6d6e 3d30  (row=0, column=0
-0001cee0: 2c20 7374 6963 6b79 3d4e 5729 0a20 2020  , sticky=NW).   
-0001cef0: 2020 2020 2073 696e 676c 655f 7669 6465       single_vide
-0001cf00: 6f5f 7275 6e2e 6772 6964 2872 6f77 3d31  o_run.grid(row=1
-0001cf10: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
-0001cf20: 6b79 3d4e 5729 0a0a 2020 2020 2020 2020  ky=NW)..        
-0001cf30: 6d75 6c74 6970 6c65 5f76 6964 656f 5f66  multiple_video_f
-0001cf40: 726d 203d 2043 7265 6174 654c 6162 656c  rm = CreateLabel
-0001cf50: 4672 616d 6557 6974 6849 636f 6e28 7061  FrameWithIcon(pa
-0001cf60: 7265 6e74 3d73 656c 662e 6d61 696e 5f66  rent=self.main_f
-0001cf70: 726d 2c20 6865 6164 6572 3d22 5649 4445  rm, header="VIDE
-0001cf80: 4f20 4449 5245 4354 4f52 5922 2c20 6963  O DIRECTORY", ic
-0001cf90: 6f6e 5f6e 616d 653d 4b65 7973 2e44 4f43  on_name=Keys.DOC
-0001cfa0: 554d 454e 5441 5449 4f4e 2e76 616c 7565  UMENTATION.value
-0001cfb0: 2c20 6963 6f6e 5f6c 696e 6b3d 4c69 6e6b  , icon_link=Link
-0001cfc0: 732e 5649 4445 4f5f 544f 4f4c 532e 7661  s.VIDEO_TOOLS.va
-0001cfd0: 6c75 6529 0a20 2020 2020 2020 2073 656c  lue).        sel
-0001cfe0: 662e 7365 6c65 6374 6564 5f76 6964 656f  f.selected_video
-0001cff0: 5f64 6972 203d 2046 6f6c 6465 7253 656c  _dir = FolderSel
-0001d000: 6563 7428 6d75 6c74 6970 6c65 5f76 6964  ect(multiple_vid
-0001d010: 656f 5f66 726d 2c20 2256 4944 454f 2044  eo_frm, "VIDEO D
-0001d020: 4952 4543 544f 5259 2050 4154 483a 222c  IRECTORY PATH:",
-0001d030: 2074 6974 6c65 3d22 5365 6c65 6374 2061   title="Select a
-0001d040: 2076 6964 656f 2064 6972 6563 746f 7279   video directory
-0001d050: 222c 206c 626c 7769 6474 683d 3235 290a  ", lblwidth=25).
-0001d060: 2020 2020 2020 2020 6d75 6c74 6970 6c65          multiple
-0001d070: 5f76 6964 656f 5f72 756e 203d 2042 7574  _video_run = But
-0001d080: 746f 6e28 6d75 6c74 6970 6c65 5f76 6964  ton(multiple_vid
-0001d090: 656f 5f66 726d 2c20 7465 7874 3d22 5255  eo_frm, text="RU
-0001d0a0: 4e20 2d20 5649 4445 4f20 4449 5245 4354  N - VIDEO DIRECT
-0001d0b0: 4f52 5922 2c20 636f 6d6d 616e 643d 6c61  ORY", command=la
-0001d0c0: 6d62 6461 3a20 7365 6c66 2e72 756e 286d  mbda: self.run(m
-0001d0d0: 756c 7469 706c 653d 5472 7565 2929 0a20  ultiple=True)). 
-0001d0e0: 2020 2020 2020 206d 756c 7469 706c 655f         multiple_
-0001d0f0: 7669 6465 6f5f 6672 6d2e 6772 6964 2872  video_frm.grid(r
-0001d100: 6f77 3d32 2c20 636f 6c75 6d6e 3d30 2c20  ow=2, column=0, 
-0001d110: 7374 6963 6b79 3d4e 5729 0a20 2020 2020  sticky=NW).     
-0001d120: 2020 2073 656c 662e 7365 6c65 6374 6564     self.selected
-0001d130: 5f76 6964 656f 5f64 6972 2e67 7269 6428  _video_dir.grid(
-0001d140: 726f 773d 302c 2063 6f6c 756d 6e3d 302c  row=0, column=0,
-0001d150: 2073 7469 636b 793d 4e57 290a 2020 2020   sticky=NW).    
-0001d160: 2020 2020 6d75 6c74 6970 6c65 5f76 6964      multiple_vid
-0001d170: 656f 5f72 756e 2e67 7269 6428 726f 773d  eo_run.grid(row=
-0001d180: 312c 2063 6f6c 756d 6e3d 302c 2073 7469  1, column=0, sti
-0001d190: 636b 793d 4e57 290a 2020 2020 2020 2020  cky=NW).        
-0001d1a0: 2373 656c 662e 6d61 696e 5f66 726d 2e6d  #self.main_frm.m
-0001d1b0: 6169 6e6c 6f6f 7028 290a 0a20 2020 2064  ainloop()..    d
-0001d1c0: 6566 2072 756e 2873 656c 662c 206d 756c  ef run(self, mul
-0001d1d0: 7469 706c 653a 2062 6f6f 6c29 3a0a 2020  tiple: bool):.  
-0001d1e0: 2020 2020 2020 6966 206e 6f74 206d 756c        if not mul
-0001d1f0: 7469 706c 653a 0a20 2020 2020 2020 2020  tiple:.         
-0001d200: 2020 2076 6964 656f 5f70 6174 6820 3d20     video_path = 
-0001d210: 7365 6c66 2e73 656c 6563 7465 645f 7669  self.selected_vi
-0001d220: 6465 6f2e 6669 6c65 5f70 6174 680a 2020  deo.file_path.  
-0001d230: 2020 2020 2020 2020 2020 6368 6563 6b5f            check_
-0001d240: 6669 6c65 5f65 7869 7374 5f61 6e64 5f72  file_exist_and_r
-0001d250: 6561 6461 626c 6528 6669 6c65 5f70 6174  eadable(file_pat
-0001d260: 683d 7669 6465 6f5f 7061 7468 290a 2020  h=video_path).  
-0001d270: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0001d280: 2020 2020 2020 2020 7669 6465 6f5f 7061          video_pa
-0001d290: 7468 203d 2073 656c 662e 7365 6c65 6374  th = self.select
-0001d2a0: 6564 5f76 6964 656f 5f64 6972 2e66 6f6c  ed_video_dir.fol
-0001d2b0: 6465 725f 7061 7468 0a20 2020 2020 2020  der_path.       
-0001d2c0: 2020 2020 2063 6865 636b 5f69 665f 6469       check_if_di
-0001d2d0: 725f 6578 6973 7473 2869 6e5f 6469 723d  r_exists(in_dir=
-0001d2e0: 7669 6465 6f5f 7061 7468 2c20 736f 7572  video_path, sour
-0001d2f0: 6365 3d73 656c 662e 5f5f 636c 6173 735f  ce=self.__class_
-0001d300: 5f2e 5f5f 6e61 6d65 5f5f 290a 2020 2020  _.__name__).    
-0001d310: 2020 2020 636f 6465 6320 3d20 7365 6c66      codec = self
-0001d320: 2e57 4542 4d5f 434f 4445 435f 4c4b 5b73  .WEBM_CODEC_LK[s
-0001d330: 656c 662e 636f 6465 635f 6472 6f70 646f  elf.codec_dropdo
-0001d340: 776e 2e67 6574 4368 6f69 6365 7328 295d  wn.getChoices()]
-0001d350: 0a20 2020 2020 2020 2071 7561 6c69 7479  .        quality
-0001d360: 203d 2069 6e74 2873 656c 662e 7175 616c   = int(self.qual
-0001d370: 6974 795f 6472 6f70 646f 776e 2e67 6574  ity_dropdown.get
-0001d380: 4368 6f69 6365 7328 2929 0a20 2020 2020  Choices()).     
-0001d390: 2020 2074 6872 6561 6469 6e67 2e54 6872     threading.Thr
-0001d3a0: 6561 6428 7461 7267 6574 3d63 6f6e 7665  ead(target=conve
-0001d3b0: 7274 5f74 6f5f 7765 626d 2870 6174 683d  rt_to_webm(path=
-0001d3c0: 7669 6465 6f5f 7061 7468 2c20 636f 6465  video_path, code
-0001d3d0: 633d 636f 6465 632c 2071 7561 6c69 7479  c=codec, quality
-0001d3e0: 3d71 7561 6c69 7479 2929 0a0a 636c 6173  =quality))..clas
-0001d3f0: 7320 436f 6e76 6572 7432 4d4f 5650 6f70  s Convert2MOVPop
-0001d400: 5570 2850 6f70 5570 4d69 7869 6e29 3a0a  Up(PopUpMixin):.
-0001d410: 2020 2020 2222 220a 2020 2020 3a65 7861      """.    :exa
-0001d420: 6d70 6c65 3a0a 2020 2020 3e3e 3e20 436f  mple:.    >>> Co
-0001d430: 6e76 6572 7432 4d4f 5650 6f70 5570 2829  nvert2MOVPopUp()
-0001d440: 0a20 2020 2022 2222 0a0a 2020 2020 6465  .    """..    de
-0001d450: 6620 5f5f 696e 6974 5f5f 2873 656c 6629  f __init__(self)
-0001d460: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
-0001d470: 292e 5f5f 696e 6974 5f5f 2874 6974 6c65  ).__init__(title
-0001d480: 3d22 434f 4e56 4552 5420 5649 4445 4f53  ="CONVERT VIDEOS
-0001d490: 2054 4f20 4d4f 5622 290a 2020 2020 2020   TO MOV").      
-0001d4a0: 2020 7365 7474 696e 6773 5f66 726d 203d    settings_frm =
-0001d4b0: 2043 7265 6174 654c 6162 656c 4672 616d   CreateLabelFram
-0001d4c0: 6557 6974 6849 636f 6e28 7061 7265 6e74  eWithIcon(parent
-0001d4d0: 3d73 656c 662e 6d61 696e 5f66 726d 2c20  =self.main_frm, 
-0001d4e0: 6865 6164 6572 3d22 5345 5454 494e 4753  header="SETTINGS
-0001d4f0: 222c 2069 636f 6e5f 6e61 6d65 3d4b 6579  ", icon_name=Key
-0001d500: 732e 444f 4355 4d45 4e54 4154 494f 4e2e  s.DOCUMENTATION.
-0001d510: 7661 6c75 652c 2069 636f 6e5f 6c69 6e6b  value, icon_link
-0001d520: 3d4c 696e 6b73 2e56 4944 454f 5f54 4f4f  =Links.VIDEO_TOO
-0001d530: 4c53 2e76 616c 7565 290a 2020 2020 2020  LS.value).      
-0001d540: 2020 7365 6c66 2e4d 4f56 5f43 4f44 4543    self.MOV_CODEC
-0001d550: 5f4c 4b20 3d20 7b27 5072 6f52 6573 204b  _LK = {'ProRes K
-0001d560: 6f73 7479 6120 5361 6d61 6e74 6127 3a20  ostya Samanta': 
-0001d570: 2770 726f 7265 7327 2c0a 2020 2020 2020  'prores',.      
-0001d580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d590: 2020 2020 2020 2027 416e 696d 6174 696f         'Animatio
-0001d5a0: 6e27 3a20 2761 6e69 6d61 7469 6f6e 272c  n': 'animation',
-0001d5b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001d5c0: 2020 2020 2020 2020 2020 2020 2020 2743                'C
-0001d5d0: 696e 6546 6f72 6d27 3a20 2763 696e 6566  ineForm': 'cinef
-0001d5e0: 6f72 6d27 2c0a 2020 2020 2020 2020 2020  orm',.          
-0001d5f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d600: 2020 2027 444e 7848 442f 444e 7848 5227     'DNxHD/DNxHR'
-0001d610: 3a20 2764 6e78 6864 277d 0a20 2020 2020  : 'dnxhd'}.     
-0001d620: 2020 2073 656c 662e 7175 616c 6974 795f     self.quality_
-0001d630: 6472 6f70 646f 776e 203d 2044 726f 7044  dropdown = DropD
-0001d640: 6f77 6e4d 656e 7528 7365 7474 696e 6773  ownMenu(settings
-0001d650: 5f66 726d 2c20 224f 5554 5055 5420 5649  _frm, "OUTPUT VI
-0001d660: 4445 4f20 5155 414c 4954 593a 222c 206c  DEO QUALITY:", l
-0001d670: 6973 7428 7261 6e67 6528 3130 2c20 3131  ist(range(10, 11
-0001d680: 302c 2031 3029 292c 206c 6162 656c 7769  0, 10)), labelwi
-0001d690: 6474 683d 3235 290a 2020 2020 2020 2020  dth=25).        
-0001d6a0: 7365 6c66 2e71 7561 6c69 7479 5f64 726f  self.quality_dro
-0001d6b0: 7064 6f77 6e2e 7365 7443 686f 6963 6573  pdown.setChoices
-0001d6c0: 2836 3029 0a20 2020 2020 2020 2073 656c  (60).        sel
-0001d6d0: 662e 636f 6465 635f 6472 6f70 646f 776e  f.codec_dropdown
-0001d6e0: 203d 2044 726f 7044 6f77 6e4d 656e 7528   = DropDownMenu(
-0001d6f0: 7365 7474 696e 6773 5f66 726d 2c20 2243  settings_frm, "C
-0001d700: 4f4d 5052 4553 5349 4f4e 2043 4f44 4543  OMPRESSION CODEC
-0001d710: 3a22 2c20 6c69 7374 2873 656c 662e 4d4f  :", list(self.MO
-0001d720: 565f 434f 4445 435f 4c4b 2e6b 6579 7328  V_CODEC_LK.keys(
-0001d730: 2929 2c20 6c61 6265 6c77 6964 7468 3d32  )), labelwidth=2
-0001d740: 3529 0a20 2020 2020 2020 2073 656c 662e  5).        self.
-0001d750: 636f 6465 635f 6472 6f70 646f 776e 2e73  codec_dropdown.s
-0001d760: 6574 4368 6f69 6365 7328 2750 726f 5265  etChoices('ProRe
-0001d770: 7320 4b6f 7374 7961 2053 616d 616e 7461  s Kostya Samanta
-0001d780: 2729 0a20 2020 2020 2020 2073 6574 7469  ').        setti
-0001d790: 6e67 735f 6672 6d2e 6772 6964 2872 6f77  ngs_frm.grid(row
-0001d7a0: 3d30 2c20 636f 6c75 6d6e 3d30 2c20 7374  =0, column=0, st
-0001d7b0: 6963 6b79 3d4e 5729 0a20 2020 2020 2020  icky=NW).       
-0001d7c0: 2073 656c 662e 7175 616c 6974 795f 6472   self.quality_dr
-0001d7d0: 6f70 646f 776e 2e67 7269 6428 726f 773d  opdown.grid(row=
-0001d7e0: 302c 2063 6f6c 756d 6e3d 302c 2073 7469  0, column=0, sti
-0001d7f0: 636b 793d 4e57 290a 2020 2020 2020 2020  cky=NW).        
-0001d800: 7365 6c66 2e63 6f64 6563 5f64 726f 7064  self.codec_dropd
-0001d810: 6f77 6e2e 6772 6964 2872 6f77 3d31 2c20  own.grid(row=1, 
-0001d820: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
-0001d830: 3d4e 5729 0a20 2020 2020 2020 2073 696e  =NW).        sin
-0001d840: 676c 655f 7669 6465 6f5f 6672 6d20 3d20  gle_video_frm = 
-0001d850: 4372 6561 7465 4c61 6265 6c46 7261 6d65  CreateLabelFrame
-0001d860: 5769 7468 4963 6f6e 2870 6172 656e 743d  WithIcon(parent=
-0001d870: 7365 6c66 2e6d 6169 6e5f 6672 6d2c 2068  self.main_frm, h
-0001d880: 6561 6465 723d 2253 494e 474c 4520 5649  eader="SINGLE VI
-0001d890: 4445 4f22 2c20 6963 6f6e 5f6e 616d 653d  DEO", icon_name=
-0001d8a0: 4b65 7973 2e44 4f43 554d 454e 5441 5449  Keys.DOCUMENTATI
-0001d8b0: 4f4e 2e76 616c 7565 2c20 6963 6f6e 5f6c  ON.value, icon_l
-0001d8c0: 696e 6b3d 4c69 6e6b 732e 5649 4445 4f5f  ink=Links.VIDEO_
-0001d8d0: 544f 4f4c 532e 7661 6c75 6529 0a20 2020  TOOLS.value).   
-0001d8e0: 2020 2020 2073 656c 662e 7365 6c65 6374       self.select
-0001d8f0: 6564 5f76 6964 656f 203d 2046 696c 6553  ed_video = FileS
-0001d900: 656c 6563 7428 7369 6e67 6c65 5f76 6964  elect(single_vid
-0001d910: 656f 5f66 726d 2c20 2256 4944 454f 2050  eo_frm, "VIDEO P
-0001d920: 4154 483a 222c 2074 6974 6c65 3d22 5365  ATH:", title="Se
-0001d930: 6c65 6374 2061 2076 6964 656f 2066 696c  lect a video fil
-0001d940: 6522 2c20 6c62 6c77 6964 7468 3d32 352c  e", lblwidth=25,
-0001d950: 2066 696c 655f 7479 7065 733d 5b28 2256   file_types=[("V
-0001d960: 4944 454f 2046 494c 4522 2c20 4f70 7469  IDEO FILE", Opti
-0001d970: 6f6e 732e 414c 4c5f 5649 4445 4f5f 464f  ons.ALL_VIDEO_FO
-0001d980: 524d 4154 5f53 5452 5f4f 5054 494f 4e53  RMAT_STR_OPTIONS
-0001d990: 2e76 616c 7565 295d 290a 2020 2020 2020  .value)]).      
-0001d9a0: 2020 7369 6e67 6c65 5f76 6964 656f 5f72    single_video_r
-0001d9b0: 756e 203d 2042 7574 746f 6e28 7369 6e67  un = Button(sing
-0001d9c0: 6c65 5f76 6964 656f 5f66 726d 2c20 7465  le_video_frm, te
-0001d9d0: 7874 3d22 5255 4e20 2d20 5349 4e47 4c45  xt="RUN - SINGLE
-0001d9e0: 2056 4944 454f 222c 2063 6f6d 6d61 6e64   VIDEO", command
-0001d9f0: 3d6c 616d 6264 613a 2073 656c 662e 7275  =lambda: self.ru
-0001da00: 6e28 6d75 6c74 6970 6c65 3d46 616c 7365  n(multiple=False
-0001da10: 2929 0a20 2020 2020 2020 2073 696e 676c  )).        singl
-0001da20: 655f 7669 6465 6f5f 6672 6d2e 6772 6964  e_video_frm.grid
-0001da30: 2872 6f77 3d31 2c20 636f 6c75 6d6e 3d30  (row=1, column=0
-0001da40: 2c20 7374 6963 6b79 3d4e 5729 0a20 2020  , sticky=NW).   
-0001da50: 2020 2020 2073 656c 662e 7365 6c65 6374       self.select
-0001da60: 6564 5f76 6964 656f 2e67 7269 6428 726f  ed_video.grid(ro
-0001da70: 773d 302c 2063 6f6c 756d 6e3d 302c 2073  w=0, column=0, s
-0001da80: 7469 636b 793d 4e57 290a 2020 2020 2020  ticky=NW).      
-0001da90: 2020 7369 6e67 6c65 5f76 6964 656f 5f72    single_video_r
-0001daa0: 756e 2e67 7269 6428 726f 773d 312c 2063  un.grid(row=1, c
-0001dab0: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
-0001dac0: 4e57 290a 0a20 2020 2020 2020 206d 756c  NW)..        mul
-0001dad0: 7469 706c 655f 7669 6465 6f5f 6672 6d20  tiple_video_frm 
-0001dae0: 3d20 4372 6561 7465 4c61 6265 6c46 7261  = CreateLabelFra
-0001daf0: 6d65 5769 7468 4963 6f6e 2870 6172 656e  meWithIcon(paren
-0001db00: 743d 7365 6c66 2e6d 6169 6e5f 6672 6d2c  t=self.main_frm,
-0001db10: 2068 6561 6465 723d 2256 4944 454f 2044   header="VIDEO D
-0001db20: 4952 4543 544f 5259 222c 2069 636f 6e5f  IRECTORY", icon_
-0001db30: 6e61 6d65 3d4b 6579 732e 444f 4355 4d45  name=Keys.DOCUME
-0001db40: 4e54 4154 494f 4e2e 7661 6c75 652c 2069  NTATION.value, i
-0001db50: 636f 6e5f 6c69 6e6b 3d4c 696e 6b73 2e56  con_link=Links.V
-0001db60: 4944 454f 5f54 4f4f 4c53 2e76 616c 7565  IDEO_TOOLS.value
-0001db70: 290a 2020 2020 2020 2020 7365 6c66 2e73  ).        self.s
-0001db80: 656c 6563 7465 645f 7669 6465 6f5f 6469  elected_video_di
-0001db90: 7220 3d20 466f 6c64 6572 5365 6c65 6374  r = FolderSelect
-0001dba0: 286d 756c 7469 706c 655f 7669 6465 6f5f  (multiple_video_
-0001dbb0: 6672 6d2c 2022 5649 4445 4f20 4449 5245  frm, "VIDEO DIRE
-0001dbc0: 4354 4f52 5920 5041 5448 3a22 2c20 7469  CTORY PATH:", ti
-0001dbd0: 746c 653d 2253 656c 6563 7420 6120 7669  tle="Select a vi
-0001dbe0: 6465 6f20 6469 7265 6374 6f72 7922 2c20  deo directory", 
-0001dbf0: 6c62 6c77 6964 7468 3d32 3529 0a20 2020  lblwidth=25).   
-0001dc00: 2020 2020 206d 756c 7469 706c 655f 7669       multiple_vi
-0001dc10: 6465 6f5f 7275 6e20 3d20 4275 7474 6f6e  deo_run = Button
-0001dc20: 286d 756c 7469 706c 655f 7669 6465 6f5f  (multiple_video_
-0001dc30: 6672 6d2c 2074 6578 743d 2252 554e 202d  frm, text="RUN -
-0001dc40: 2056 4944 454f 2044 4952 4543 544f 5259   VIDEO DIRECTORY
-0001dc50: 222c 2063 6f6d 6d61 6e64 3d6c 616d 6264  ", command=lambd
-0001dc60: 613a 2073 656c 662e 7275 6e28 6d75 6c74  a: self.run(mult
-0001dc70: 6970 6c65 3d54 7275 6529 290a 2020 2020  iple=True)).    
-0001dc80: 2020 2020 6d75 6c74 6970 6c65 5f76 6964      multiple_vid
-0001dc90: 656f 5f66 726d 2e67 7269 6428 726f 773d  eo_frm.grid(row=
-0001dca0: 322c 2063 6f6c 756d 6e3d 302c 2073 7469  2, column=0, sti
-0001dcb0: 636b 793d 4e57 290a 2020 2020 2020 2020  cky=NW).        
-0001dcc0: 7365 6c66 2e73 656c 6563 7465 645f 7669  self.selected_vi
-0001dcd0: 6465 6f5f 6469 722e 6772 6964 2872 6f77  deo_dir.grid(row
-0001dce0: 3d30 2c20 636f 6c75 6d6e 3d30 2c20 7374  =0, column=0, st
-0001dcf0: 6963 6b79 3d4e 5729 0a20 2020 2020 2020  icky=NW).       
-0001dd00: 206d 756c 7469 706c 655f 7669 6465 6f5f   multiple_video_
-0001dd10: 7275 6e2e 6772 6964 2872 6f77 3d31 2c20  run.grid(row=1, 
-0001dd20: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
-0001dd30: 3d4e 5729 0a20 2020 2020 2020 2023 7365  =NW).        #se
-0001dd40: 6c66 2e6d 6169 6e5f 6672 6d2e 6d61 696e  lf.main_frm.main
-0001dd50: 6c6f 6f70 2829 0a0a 2020 2020 6465 6620  loop()..    def 
-0001dd60: 7275 6e28 7365 6c66 2c20 6d75 6c74 6970  run(self, multip
-0001dd70: 6c65 3a20 626f 6f6c 293a 0a20 2020 2020  le: bool):.     
-0001dd80: 2020 2069 6620 6e6f 7420 6d75 6c74 6970     if not multip
-0001dd90: 6c65 3a0a 2020 2020 2020 2020 2020 2020  le:.            
-0001dda0: 7669 6465 6f5f 7061 7468 203d 2073 656c  video_path = sel
-0001ddb0: 662e 7365 6c65 6374 6564 5f76 6964 656f  f.selected_video
-0001ddc0: 2e66 696c 655f 7061 7468 0a20 2020 2020  .file_path.     
-0001ddd0: 2020 2020 2020 2063 6865 636b 5f66 696c         check_fil
-0001dde0: 655f 6578 6973 745f 616e 645f 7265 6164  e_exist_and_read
-0001ddf0: 6162 6c65 2866 696c 655f 7061 7468 3d76  able(file_path=v
-0001de00: 6964 656f 5f70 6174 6829 0a20 2020 2020  ideo_path).     
-0001de10: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0001de20: 2020 2020 2076 6964 656f 5f70 6174 6820       video_path 
-0001de30: 3d20 7365 6c66 2e73 656c 6563 7465 645f  = self.selected_
-0001de40: 7669 6465 6f5f 6469 722e 666f 6c64 6572  video_dir.folder
-0001de50: 5f70 6174 680a 2020 2020 2020 2020 2020  _path.          
-0001de60: 2020 6368 6563 6b5f 6966 5f64 6972 5f65    check_if_dir_e
-0001de70: 7869 7374 7328 696e 5f64 6972 3d76 6964  xists(in_dir=vid
-0001de80: 656f 5f70 6174 682c 2073 6f75 7263 653d  eo_path, source=
-0001de90: 7365 6c66 2e5f 5f63 6c61 7373 5f5f 2e5f  self.__class__._
-0001dea0: 5f6e 616d 655f 5f29 0a20 2020 2020 2020  _name__).       
-0001deb0: 2063 6f64 6563 203d 2073 656c 662e 4d4f   codec = self.MO
-0001dec0: 565f 434f 4445 435f 4c4b 5b73 656c 662e  V_CODEC_LK[self.
-0001ded0: 636f 6465 635f 6472 6f70 646f 776e 2e67  codec_dropdown.g
-0001dee0: 6574 4368 6f69 6365 7328 295d 0a20 2020  etChoices()].   
-0001def0: 2020 2020 2071 7561 6c69 7479 203d 2069       quality = i
-0001df00: 6e74 2873 656c 662e 7175 616c 6974 795f  nt(self.quality_
-0001df10: 6472 6f70 646f 776e 2e67 6574 4368 6f69  dropdown.getChoi
-0001df20: 6365 7328 2929 0a20 2020 2020 2020 2074  ces()).        t
-0001df30: 6872 6561 6469 6e67 2e54 6872 6561 6428  hreading.Thread(
-0001df40: 7461 7267 6574 3d63 6f6e 7665 7274 5f74  target=convert_t
-0001df50: 6f5f 6d6f 7628 7061 7468 3d76 6964 656f  o_mov(path=video
-0001df60: 5f70 6174 682c 2063 6f64 6563 3d63 6f64  _path, codec=cod
-0001df70: 6563 2c20 7175 616c 6974 793d 7175 616c  ec, quality=qual
-0001df80: 6974 7929 290a 0a0a 0a63 6c61 7373 2053  ity))....class S
-0001df90: 7570 6572 696d 706f 7365 5761 7465 726d  uperimposeWaterm
-0001dfa0: 6172 6b50 6f70 5570 2850 6f70 5570 4d69  arkPopUp(PopUpMi
-0001dfb0: 7869 6e29 3a0a 2020 2020 6465 6620 5f5f  xin):.    def __
-0001dfc0: 696e 6974 5f5f 2873 656c 6629 3a0a 2020  init__(self):.  
-0001dfd0: 2020 2020 2020 506f 7055 704d 6978 696e        PopUpMixin
-0001dfe0: 2e5f 5f69 6e69 745f 5f28 7365 6c66 2c20  .__init__(self, 
-0001dff0: 7469 746c 653d 2257 4154 4552 4d41 524b  title="WATERMARK
-0001e000: 2056 4944 454f 5322 290a 2020 2020 2020   VIDEOS").      
-0001e010: 2020 7365 6c66 2e4c 4f43 4154 494f 4e53    self.LOCATIONS
-0001e020: 203d 207b 2754 4f50 204c 4546 5427 3a20   = {'TOP LEFT': 
-0001e030: 2774 6f70 5f6c 6566 7427 2c20 2754 4f50  'top_left', 'TOP
-0001e040: 2052 4947 4854 273a 2027 746f 705f 7269   RIGHT': 'top_ri
-0001e050: 6768 7427 2c20 2742 4f54 544f 4d20 4c45  ght', 'BOTTOM LE
-0001e060: 4654 273a 2027 626f 7474 6f6d 5f6c 6566  FT': 'bottom_lef
-0001e070: 7427 2c20 2742 4f54 544f 4d20 5249 4748  t', 'BOTTOM RIGH
-0001e080: 5427 3a20 2762 6f74 746f 6d5f 7269 6768  T': 'bottom_righ
-0001e090: 7427 2c20 2743 454e 5445 5227 3a20 2763  t', 'CENTER': 'c
-0001e0a0: 656e 7465 7227 7d0a 2020 2020 2020 2020  enter'}.        
-0001e0b0: 7365 7474 696e 6773 5f66 726d 203d 2043  settings_frm = C
-0001e0c0: 7265 6174 654c 6162 656c 4672 616d 6557  reateLabelFrameW
-0001e0d0: 6974 6849 636f 6e28 7061 7265 6e74 3d73  ithIcon(parent=s
-0001e0e0: 656c 662e 6d61 696e 5f66 726d 2c20 6865  elf.main_frm, he
-0001e0f0: 6164 6572 3d22 5345 5454 494e 4753 222c  ader="SETTINGS",
-0001e100: 2069 636f 6e5f 6e61 6d65 3d4b 6579 732e   icon_name=Keys.
-0001e110: 444f 4355 4d45 4e54 4154 494f 4e2e 7661  DOCUMENTATION.va
-0001e120: 6c75 652c 2069 636f 6e5f 6c69 6e6b 3d4c  lue, icon_link=L
-0001e130: 696e 6b73 2e56 4944 454f 5f54 4f4f 4c53  inks.VIDEO_TOOLS
-0001e140: 2e76 616c 7565 290a 2020 2020 2020 2020  .value).        
-0001e150: 6f70 6163 6974 6965 7320 3d20 5b72 6f75  opacities = [rou
-0001e160: 6e64 2878 2c20 3129 2066 6f72 2078 2069  nd(x, 1) for x i
-0001e170: 6e20 6c69 7374 286e 702e 6172 616e 6765  n list(np.arange
-0001e180: 2830 2e31 2c20 312e 312c 2030 2e31 2929  (0.1, 1.1, 0.1))
-0001e190: 5d0a 2020 2020 2020 2020 7365 6c66 2e73  ].        self.s
-0001e1a0: 656c 6563 7465 645f 696d 6720 3d20 4669  elected_img = Fi
-0001e1b0: 6c65 5365 6c65 6374 2873 6574 7469 6e67  leSelect(setting
-0001e1c0: 735f 6672 6d2c 2022 5741 5445 524d 4152  s_frm, "WATERMAR
-0001e1d0: 4b20 494d 4147 4520 5041 5448 3a22 2c20  K IMAGE PATH:", 
-0001e1e0: 7469 746c 653d 2253 656c 6563 7420 616e  title="Select an
-0001e1f0: 2069 6d61 6765 2066 696c 6522 2c20 6669   image file", fi
-0001e200: 6c65 5f74 7970 6573 3d5b 2822 5649 4445  le_types=[("VIDE
-0001e210: 4f22 2c20 4f70 7469 6f6e 732e 414c 4c5f  O", Options.ALL_
-0001e220: 494d 4147 455f 464f 524d 4154 5f4f 5054  IMAGE_FORMAT_OPT
-0001e230: 494f 4e53 2e76 616c 7565 295d 2c20 6c62  IONS.value)], lb
-0001e240: 6c77 6964 7468 3d32 3529 0a20 2020 2020  lwidth=25).     
-0001e250: 2020 2073 656c 662e 6c6f 6361 7469 6f6e     self.location
-0001e260: 5f64 726f 7064 6f77 6e20 3d20 4472 6f70  _dropdown = Drop
-0001e270: 446f 776e 4d65 6e75 2873 6574 7469 6e67  DownMenu(setting
-0001e280: 735f 6672 6d2c 2022 5741 5445 524d 4152  s_frm, "WATERMAR
-0001e290: 4b20 4c4f 4341 5449 4f4e 3a22 2c20 6c69  K LOCATION:", li
-0001e2a0: 7374 2873 656c 662e 4c4f 4341 5449 4f4e  st(self.LOCATION
-0001e2b0: 532e 6b65 7973 2829 292c 206c 6162 656c  S.keys()), label
-0001e2c0: 7769 6474 683d 3235 290a 2020 2020 2020  width=25).      
-0001e2d0: 2020 7365 6c66 2e6f 7061 6369 7479 5f64    self.opacity_d
-0001e2e0: 726f 7064 6f77 6e20 3d20 4472 6f70 446f  ropdown = DropDo
-0001e2f0: 776e 4d65 6e75 2873 6574 7469 6e67 735f  wnMenu(settings_
-0001e300: 6672 6d2c 2022 5741 5445 524d 4152 4b20  frm, "WATERMARK 
-0001e310: 4f50 4143 4954 593a 222c 206f 7061 6369  OPACITY:", opaci
-0001e320: 7469 6573 2c20 6c61 6265 6c77 6964 7468  ties, labelwidth
-0001e330: 3d32 3529 0a20 2020 2020 2020 2073 656c  =25).        sel
-0001e340: 662e 7369 7a65 5f64 726f 7064 6f77 6e20  f.size_dropdown 
-0001e350: 3d20 4472 6f70 446f 776e 4d65 6e75 2873  = DropDownMenu(s
-0001e360: 6574 7469 6e67 735f 6672 6d2c 2022 5741  ettings_frm, "WA
-0001e370: 5445 524d 4152 4b20 5343 414c 4520 253a  TERMARK SCALE %:
-0001e380: 222c 206c 6973 7428 7261 6e67 6528 352c  ", list(range(5,
-0001e390: 2031 3030 2c20 3529 292c 206c 6162 656c   100, 5)), label
-0001e3a0: 7769 6474 683d 3235 290a 0a20 2020 2020  width=25)..     
-0001e3b0: 2020 2073 656c 662e 6c6f 6361 7469 6f6e     self.location
-0001e3c0: 5f64 726f 7064 6f77 6e2e 7365 7443 686f  _dropdown.setCho
-0001e3d0: 6963 6573 2827 544f 5020 4c45 4654 2729  ices('TOP LEFT')
-0001e3e0: 0a20 2020 2020 2020 2073 656c 662e 6f70  .        self.op
-0001e3f0: 6163 6974 795f 6472 6f70 646f 776e 2e73  acity_dropdown.s
-0001e400: 6574 4368 6f69 6365 7328 302e 3529 0a20  etChoices(0.5). 
-0001e410: 2020 2020 2020 2073 656c 662e 7369 7a65         self.size
-0001e420: 5f64 726f 7064 6f77 6e2e 7365 7443 686f  _dropdown.setCho
-0001e430: 6963 6573 2835 290a 0a20 2020 2020 2020  ices(5)..       
-0001e440: 2073 6574 7469 6e67 735f 6672 6d2e 6772   settings_frm.gr
-0001e450: 6964 2872 6f77 3d30 2c20 636f 6c75 6d6e  id(row=0, column
-0001e460: 3d30 2c20 7374 6963 6b79 3d4e 5729 0a20  =0, sticky=NW). 
-0001e470: 2020 2020 2020 2073 656c 662e 7365 6c65         self.sele
-0001e480: 6374 6564 5f69 6d67 2e67 7269 6428 726f  cted_img.grid(ro
-0001e490: 773d 302c 2063 6f6c 756d 6e3d 302c 2073  w=0, column=0, s
-0001e4a0: 7469 636b 793d 4e57 290a 2020 2020 2020  ticky=NW).      
-0001e4b0: 2020 7365 6c66 2e6c 6f63 6174 696f 6e5f    self.location_
-0001e4c0: 6472 6f70 646f 776e 2e67 7269 6428 726f  dropdown.grid(ro
-0001e4d0: 773d 312c 2063 6f6c 756d 6e3d 302c 2073  w=1, column=0, s
-0001e4e0: 7469 636b 793d 4e57 290a 2020 2020 2020  ticky=NW).      
-0001e4f0: 2020 7365 6c66 2e6f 7061 6369 7479 5f64    self.opacity_d
-0001e500: 726f 7064 6f77 6e2e 6772 6964 2872 6f77  ropdown.grid(row
-0001e510: 3d32 2c20 636f 6c75 6d6e 3d30 2c20 7374  =2, column=0, st
-0001e520: 6963 6b79 3d4e 5729 0a20 2020 2020 2020  icky=NW).       
-0001e530: 2073 656c 662e 7369 7a65 5f64 726f 7064   self.size_dropd
-0001e540: 6f77 6e2e 6772 6964 2872 6f77 3d33 2c20  own.grid(row=3, 
-0001e550: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
-0001e560: 3d4e 5729 0a0a 2020 2020 2020 2020 7369  =NW)..        si
-0001e570: 6e67 6c65 5f76 6964 656f 5f66 726d 203d  ngle_video_frm =
-0001e580: 2043 7265 6174 654c 6162 656c 4672 616d   CreateLabelFram
-0001e590: 6557 6974 6849 636f 6e28 7061 7265 6e74  eWithIcon(parent
-0001e5a0: 3d73 656c 662e 6d61 696e 5f66 726d 2c20  =self.main_frm, 
-0001e5b0: 6865 6164 6572 3d22 5349 4e47 4c45 2056  header="SINGLE V
-0001e5c0: 4944 454f 202d 2053 5550 4552 494d 504f  IDEO - SUPERIMPO
-0001e5d0: 5345 2057 4154 4552 4d41 524b 222c 2069  SE WATERMARK", i
-0001e5e0: 636f 6e5f 6e61 6d65 3d4b 6579 732e 444f  con_name=Keys.DO
-0001e5f0: 4355 4d45 4e54 4154 494f 4e2e 7661 6c75  CUMENTATION.valu
-0001e600: 652c 2069 636f 6e5f 6c69 6e6b 3d4c 696e  e, icon_link=Lin
-0001e610: 6b73 2e56 4944 454f 5f54 4f4f 4c53 2e76  ks.VIDEO_TOOLS.v
-0001e620: 616c 7565 290a 2020 2020 2020 2020 7365  alue).        se
-0001e630: 6c66 2e73 656c 6563 7465 645f 7669 6465  lf.selected_vide
-0001e640: 6f20 3d20 4669 6c65 5365 6c65 6374 2873  o = FileSelect(s
-0001e650: 696e 676c 655f 7669 6465 6f5f 6672 6d2c  ingle_video_frm,
-0001e660: 2022 5649 4445 4f20 5041 5448 3a22 2c20   "VIDEO PATH:", 
-0001e670: 7469 746c 653d 2253 656c 6563 7420 6120  title="Select a 
-0001e680: 7669 6465 6f20 6669 6c65 222c 206c 626c  video file", lbl
-0001e690: 7769 6474 683d 3235 2c20 6669 6c65 5f74  width=25, file_t
-0001e6a0: 7970 6573 3d5b 2822 5649 4445 4f20 4649  ypes=[("VIDEO FI
-0001e6b0: 4c45 222c 204f 7074 696f 6e73 2e41 4c4c  LE", Options.ALL
-0001e6c0: 5f56 4944 454f 5f46 4f52 4d41 545f 5354  _VIDEO_FORMAT_ST
-0001e6d0: 525f 4f50 5449 4f4e 532e 7661 6c75 6529  R_OPTIONS.value)
-0001e6e0: 5d29 0a20 2020 2020 2020 2073 696e 676c  ]).        singl
-0001e6f0: 655f 7669 6465 6f5f 7275 6e20 3d20 4275  e_video_run = Bu
-0001e700: 7474 6f6e 2873 696e 676c 655f 7669 6465  tton(single_vide
-0001e710: 6f5f 6672 6d2c 2074 6578 743d 2252 554e  o_frm, text="RUN
-0001e720: 202d 2053 494e 474c 4520 5649 4445 4f22   - SINGLE VIDEO"
-0001e730: 2c20 636f 6d6d 616e 643d 6c61 6d62 6461  , command=lambda
-0001e740: 3a20 7365 6c66 2e72 756e 286d 756c 7469  : self.run(multi
-0001e750: 706c 653d 4661 6c73 6529 290a 0a20 2020  ple=False))..   
-0001e760: 2020 2020 2073 696e 676c 655f 7669 6465       single_vide
-0001e770: 6f5f 6672 6d2e 6772 6964 2872 6f77 3d31  o_frm.grid(row=1
-0001e780: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
-0001e790: 6b79 3d22 4e57 2229 0a20 2020 2020 2020  ky="NW").       
-0001e7a0: 2073 656c 662e 7365 6c65 6374 6564 5f76   self.selected_v
-0001e7b0: 6964 656f 2e67 7269 6428 726f 773d 302c  ideo.grid(row=0,
-0001e7c0: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
-0001e7d0: 793d 224e 5722 290a 2020 2020 2020 2020  y="NW").        
-0001e7e0: 7369 6e67 6c65 5f76 6964 656f 5f72 756e  single_video_run
-0001e7f0: 2e67 7269 6428 726f 773d 312c 2063 6f6c  .grid(row=1, col
-0001e800: 756d 6e3d 302c 2073 7469 636b 793d 224e  umn=0, sticky="N
-0001e810: 5722 290a 0a20 2020 2020 2020 206d 756c  W")..        mul
-0001e820: 7469 706c 655f 7669 6465 6f73 5f66 726d  tiple_videos_frm
-0001e830: 203d 2043 7265 6174 654c 6162 656c 4672   = CreateLabelFr
-0001e840: 616d 6557 6974 6849 636f 6e28 7061 7265  ameWithIcon(pare
-0001e850: 6e74 3d73 656c 662e 6d61 696e 5f66 726d  nt=self.main_frm
-0001e860: 2c20 6865 6164 6572 3d22 4d55 4c54 4950  , header="MULTIP
-0001e870: 4c45 2056 4944 454f 5320 2d20 5355 5045  LE VIDEOS - SUPE
-0001e880: 5249 4d50 4f53 4520 5741 5445 524d 4152  RIMPOSE WATERMAR
-0001e890: 4b22 2c20 6963 6f6e 5f6e 616d 653d 4b65  K", icon_name=Ke
-0001e8a0: 7973 2e44 4f43 554d 454e 5441 5449 4f4e  ys.DOCUMENTATION
-0001e8b0: 2e76 616c 7565 2c20 6963 6f6e 5f6c 696e  .value, icon_lin
-0001e8c0: 6b3d 4c69 6e6b 732e 5649 4445 4f5f 544f  k=Links.VIDEO_TO
-0001e8d0: 4f4c 532e 7661 6c75 6529 0a20 2020 2020  OLS.value).     
-0001e8e0: 2020 2073 656c 662e 7365 6c65 6374 6564     self.selected
-0001e8f0: 5f76 6964 656f 5f64 6972 203d 2046 6f6c  _video_dir = Fol
-0001e900: 6465 7253 656c 6563 7428 6d75 6c74 6970  derSelect(multip
-0001e910: 6c65 5f76 6964 656f 735f 6672 6d2c 2022  le_videos_frm, "
-0001e920: 5649 4445 4f20 4449 5245 4354 4f52 5920  VIDEO DIRECTORY 
-0001e930: 5041 5448 3a22 2c20 7469 746c 653d 2253  PATH:", title="S
-0001e940: 656c 6563 7420 6120 7669 6465 6f20 6469  elect a video di
-0001e950: 7265 6374 6f72 7922 2c20 6c62 6c77 6964  rectory", lblwid
-0001e960: 7468 3d32 3529 0a20 2020 2020 2020 206d  th=25).        m
-0001e970: 756c 7469 706c 655f 7669 6465 6f73 5f72  ultiple_videos_r
-0001e980: 756e 203d 2042 7574 746f 6e28 6d75 6c74  un = Button(mult
-0001e990: 6970 6c65 5f76 6964 656f 735f 6672 6d2c  iple_videos_frm,
-0001e9a0: 2074 6578 743d 2252 554e 202d 204d 554c   text="RUN - MUL
-0001e9b0: 5449 504c 4520 5649 4445 4f53 222c 2063  TIPLE VIDEOS", c
-0001e9c0: 6f6d 6d61 6e64 3d6c 616d 6264 613a 2073  ommand=lambda: s
-0001e9d0: 656c 662e 7275 6e28 6d75 6c74 6970 6c65  elf.run(multiple
-0001e9e0: 3d54 7275 6529 290a 0a20 2020 2020 2020  =True))..       
-0001e9f0: 206d 756c 7469 706c 655f 7669 6465 6f73   multiple_videos
-0001ea00: 5f66 726d 2e67 7269 6428 726f 773d 322c  _frm.grid(row=2,
-0001ea10: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
-0001ea20: 793d 224e 5722 290a 2020 2020 2020 2020  y="NW").        
-0001ea30: 7365 6c66 2e73 656c 6563 7465 645f 7669  self.selected_vi
-0001ea40: 6465 6f5f 6469 722e 6772 6964 2872 6f77  deo_dir.grid(row
+0001b470: 7670 3927 2c20 2747 5055 2028 6832 3634  vp9', 'GPU (h264
+0001b480: 5f63 7576 6964 2927 3a20 2768 3236 345f  _cuvid)': 'h264_
+0001b490: 6375 7669 6427 2c20 2747 7572 616e 7465  cuvid', 'Gurante
+0001b4a0: 6564 2070 6f77 6572 706f 696e 7420 636f  ed powerpoint co
+0001b4b0: 6d70 6174 6962 6c65 273a 2027 706f 7765  mpatible': 'powe
+0001b4c0: 7270 6f69 6e74 277d 0a20 2020 2020 2020  rpoint'}.       
+0001b4d0: 2073 656c 662e 6370 755f 636f 6465 635f   self.cpu_codec_
+0001b4e0: 7175 616c 6974 6965 7320 3d20 6c69 7374  qualities = list
+0001b4f0: 2872 616e 6765 2831 302c 2031 3130 2c20  (range(10, 110, 
+0001b500: 3130 2929 0a20 2020 2020 2020 2073 656c  10)).        sel
+0001b510: 662e 6770 755f 636f 6465 635f 7175 616c  f.gpu_codec_qual
+0001b520: 6974 6965 7320 3d20 5b27 4c6f 7727 2c20  ities = ['Low', 
+0001b530: 274d 6564 6975 6d27 2c20 2748 6967 6827  'Medium', 'High'
+0001b540: 5d0a 2020 2020 2020 2020 7365 6c66 2e71  ].        self.q
+0001b550: 7561 6c69 7479 5f64 726f 7064 6f77 6e20  uality_dropdown 
+0001b560: 3d20 4472 6f70 446f 776e 4d65 6e75 2873  = DropDownMenu(s
+0001b570: 6574 7469 6e67 735f 6672 6d2c 2022 4f55  ettings_frm, "OU
+0001b580: 5450 5554 2056 4944 454f 2051 5541 4c49  TPUT VIDEO QUALI
+0001b590: 5459 3a22 2c20 7365 6c66 2e63 7075 5f63  TY:", self.cpu_c
+0001b5a0: 6f64 6563 5f71 7561 6c69 7469 6573 2c20  odec_qualities, 
+0001b5b0: 6c61 6265 6c77 6964 7468 3d32 3529 0a20  labelwidth=25). 
+0001b5c0: 2020 2020 2020 2073 656c 662e 7175 616c         self.qual
+0001b5d0: 6974 795f 6472 6f70 646f 776e 2e73 6574  ity_dropdown.set
+0001b5e0: 4368 6f69 6365 7328 3630 290a 2020 2020  Choices(60).    
+0001b5f0: 2020 2020 7365 6c66 2e63 6f64 6563 5f64      self.codec_d
+0001b600: 726f 7064 6f77 6e20 3d20 4472 6f70 446f  ropdown = DropDo
+0001b610: 776e 4d65 6e75 2873 6574 7469 6e67 735f  wnMenu(settings_
+0001b620: 6672 6d2c 2022 434f 4d50 5245 5353 494f  frm, "COMPRESSIO
+0001b630: 4e20 434f 4445 433a 222c 206c 6973 7428  N CODEC:", list(
+0001b640: 7365 6c66 2e4d 5034 5f43 4f44 4543 5f4c  self.MP4_CODEC_L
+0001b650: 4b2e 6b65 7973 2829 292c 206c 6162 656c  K.keys()), label
+0001b660: 7769 6474 683d 3235 2c20 636f 6d3d 7365  width=25, com=se
+0001b670: 6c66 2e75 7064 6174 655f 7175 616c 6974  lf.update_qualit
+0001b680: 795f 6472 6f70 646f 776e 290a 2020 2020  y_dropdown).    
+0001b690: 2020 2020 7365 6c66 2e63 6f64 6563 5f64      self.codec_d
+0001b6a0: 726f 7064 6f77 6e2e 7365 7443 686f 6963  ropdown.setChoic
+0001b6b0: 6573 2827 4845 5643 2028 482e 3236 3529  es('HEVC (H.265)
+0001b6c0: 2729 0a20 2020 2020 2020 2073 6574 7469  ').        setti
+0001b6d0: 6e67 735f 6672 6d2e 6772 6964 2872 6f77  ngs_frm.grid(row
+0001b6e0: 3d30 2c20 636f 6c75 6d6e 3d30 2c20 7374  =0, column=0, st
+0001b6f0: 6963 6b79 3d4e 5729 0a20 2020 2020 2020  icky=NW).       
+0001b700: 2073 656c 662e 7175 616c 6974 795f 6472   self.quality_dr
+0001b710: 6f70 646f 776e 2e67 7269 6428 726f 773d  opdown.grid(row=
+0001b720: 302c 2063 6f6c 756d 6e3d 302c 2073 7469  0, column=0, sti
+0001b730: 636b 793d 4e57 290a 2020 2020 2020 2020  cky=NW).        
+0001b740: 7365 6c66 2e63 6f64 6563 5f64 726f 7064  self.codec_dropd
+0001b750: 6f77 6e2e 6772 6964 2872 6f77 3d31 2c20  own.grid(row=1, 
+0001b760: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
+0001b770: 3d4e 5729 0a0a 2020 2020 2020 2020 7369  =NW)..        si
+0001b780: 6e67 6c65 5f76 6964 656f 5f66 726d 203d  ngle_video_frm =
+0001b790: 2043 7265 6174 654c 6162 656c 4672 616d   CreateLabelFram
+0001b7a0: 6557 6974 6849 636f 6e28 7061 7265 6e74  eWithIcon(parent
+0001b7b0: 3d73 656c 662e 6d61 696e 5f66 726d 2c20  =self.main_frm, 
+0001b7c0: 6865 6164 6572 3d22 5349 4e47 4c45 2056  header="SINGLE V
+0001b7d0: 4944 454f 222c 2069 636f 6e5f 6e61 6d65  IDEO", icon_name
+0001b7e0: 3d4b 6579 732e 444f 4355 4d45 4e54 4154  =Keys.DOCUMENTAT
+0001b7f0: 494f 4e2e 7661 6c75 652c 2069 636f 6e5f  ION.value, icon_
+0001b800: 6c69 6e6b 3d4c 696e 6b73 2e56 4944 454f  link=Links.VIDEO
+0001b810: 5f54 4f4f 4c53 2e76 616c 7565 290a 2020  _TOOLS.value).  
+0001b820: 2020 2020 2020 7365 6c66 2e73 656c 6563        self.selec
+0001b830: 7465 645f 7669 6465 6f20 3d20 4669 6c65  ted_video = File
+0001b840: 5365 6c65 6374 2873 696e 676c 655f 7669  Select(single_vi
+0001b850: 6465 6f5f 6672 6d2c 2022 5649 4445 4f20  deo_frm, "VIDEO 
+0001b860: 5041 5448 3a22 2c20 7469 746c 653d 2253  PATH:", title="S
+0001b870: 656c 6563 7420 6120 7669 6465 6f20 6669  elect a video fi
+0001b880: 6c65 222c 206c 626c 7769 6474 683d 3235  le", lblwidth=25
+0001b890: 2c20 6669 6c65 5f74 7970 6573 3d5b 2822  , file_types=[("
+0001b8a0: 5649 4445 4f20 4649 4c45 222c 204f 7074  VIDEO FILE", Opt
+0001b8b0: 696f 6e73 2e41 4c4c 5f56 4944 454f 5f46  ions.ALL_VIDEO_F
+0001b8c0: 4f52 4d41 545f 5354 525f 4f50 5449 4f4e  ORMAT_STR_OPTION
+0001b8d0: 532e 7661 6c75 6529 5d29 0a20 2020 2020  S.value)]).     
+0001b8e0: 2020 2073 696e 676c 655f 7669 6465 6f5f     single_video_
+0001b8f0: 7275 6e20 3d20 4275 7474 6f6e 2873 696e  run = Button(sin
+0001b900: 676c 655f 7669 6465 6f5f 6672 6d2c 2074  gle_video_frm, t
+0001b910: 6578 743d 2252 554e 202d 2053 494e 474c  ext="RUN - SINGL
+0001b920: 4520 5649 4445 4f22 2c20 636f 6d6d 616e  E VIDEO", comman
+0001b930: 643d 6c61 6d62 6461 3a20 7365 6c66 2e72  d=lambda: self.r
+0001b940: 756e 286d 756c 7469 706c 653d 4661 6c73  un(multiple=Fals
+0001b950: 6529 290a 2020 2020 2020 2020 7369 6e67  e)).        sing
+0001b960: 6c65 5f76 6964 656f 5f66 726d 2e67 7269  le_video_frm.gri
+0001b970: 6428 726f 773d 312c 2063 6f6c 756d 6e3d  d(row=1, column=
+0001b980: 302c 2073 7469 636b 793d 4e57 290a 2020  0, sticky=NW).  
+0001b990: 2020 2020 2020 7365 6c66 2e73 656c 6563        self.selec
+0001b9a0: 7465 645f 7669 6465 6f2e 6772 6964 2872  ted_video.grid(r
+0001b9b0: 6f77 3d30 2c20 636f 6c75 6d6e 3d30 2c20  ow=0, column=0, 
+0001b9c0: 7374 6963 6b79 3d4e 5729 0a20 2020 2020  sticky=NW).     
+0001b9d0: 2020 2073 696e 676c 655f 7669 6465 6f5f     single_video_
+0001b9e0: 7275 6e2e 6772 6964 2872 6f77 3d31 2c20  run.grid(row=1, 
+0001b9f0: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
+0001ba00: 3d4e 5729 0a0a 2020 2020 2020 2020 6d75  =NW)..        mu
+0001ba10: 6c74 6970 6c65 5f76 6964 656f 5f66 726d  ltiple_video_frm
+0001ba20: 203d 2043 7265 6174 654c 6162 656c 4672   = CreateLabelFr
+0001ba30: 616d 6557 6974 6849 636f 6e28 7061 7265  ameWithIcon(pare
+0001ba40: 6e74 3d73 656c 662e 6d61 696e 5f66 726d  nt=self.main_frm
+0001ba50: 2c20 6865 6164 6572 3d22 5649 4445 4f20  , header="VIDEO 
+0001ba60: 4449 5245 4354 4f52 5922 2c20 6963 6f6e  DIRECTORY", icon
+0001ba70: 5f6e 616d 653d 4b65 7973 2e44 4f43 554d  _name=Keys.DOCUM
+0001ba80: 454e 5441 5449 4f4e 2e76 616c 7565 2c20  ENTATION.value, 
+0001ba90: 6963 6f6e 5f6c 696e 6b3d 4c69 6e6b 732e  icon_link=Links.
+0001baa0: 5649 4445 4f5f 544f 4f4c 532e 7661 6c75  VIDEO_TOOLS.valu
+0001bab0: 6529 0a20 2020 2020 2020 2073 656c 662e  e).        self.
+0001bac0: 7365 6c65 6374 6564 5f76 6964 656f 5f64  selected_video_d
+0001bad0: 6972 203d 2046 6f6c 6465 7253 656c 6563  ir = FolderSelec
+0001bae0: 7428 6d75 6c74 6970 6c65 5f76 6964 656f  t(multiple_video
+0001baf0: 5f66 726d 2c20 2256 4944 454f 2044 4952  _frm, "VIDEO DIR
+0001bb00: 4543 544f 5259 2050 4154 483a 222c 2074  ECTORY PATH:", t
+0001bb10: 6974 6c65 3d22 5365 6c65 6374 2061 2076  itle="Select a v
+0001bb20: 6964 656f 2064 6972 6563 746f 7279 222c  ideo directory",
+0001bb30: 206c 626c 7769 6474 683d 3235 290a 2020   lblwidth=25).  
+0001bb40: 2020 2020 2020 6d75 6c74 6970 6c65 5f76        multiple_v
+0001bb50: 6964 656f 5f72 756e 203d 2042 7574 746f  ideo_run = Butto
+0001bb60: 6e28 6d75 6c74 6970 6c65 5f76 6964 656f  n(multiple_video
+0001bb70: 5f66 726d 2c20 7465 7874 3d22 5255 4e20  _frm, text="RUN 
+0001bb80: 2d20 5649 4445 4f20 4449 5245 4354 4f52  - VIDEO DIRECTOR
+0001bb90: 5922 2c20 636f 6d6d 616e 643d 6c61 6d62  Y", command=lamb
+0001bba0: 6461 3a20 7365 6c66 2e72 756e 286d 756c  da: self.run(mul
+0001bbb0: 7469 706c 653d 5472 7565 2929 0a20 2020  tiple=True)).   
+0001bbc0: 2020 2020 206d 756c 7469 706c 655f 7669       multiple_vi
+0001bbd0: 6465 6f5f 6672 6d2e 6772 6964 2872 6f77  deo_frm.grid(row
+0001bbe0: 3d32 2c20 636f 6c75 6d6e 3d30 2c20 7374  =2, column=0, st
+0001bbf0: 6963 6b79 3d4e 5729 0a20 2020 2020 2020  icky=NW).       
+0001bc00: 2073 656c 662e 7365 6c65 6374 6564 5f76   self.selected_v
+0001bc10: 6964 656f 5f64 6972 2e67 7269 6428 726f  ideo_dir.grid(ro
+0001bc20: 773d 302c 2063 6f6c 756d 6e3d 302c 2073  w=0, column=0, s
+0001bc30: 7469 636b 793d 4e57 290a 2020 2020 2020  ticky=NW).      
+0001bc40: 2020 6d75 6c74 6970 6c65 5f76 6964 656f    multiple_video
+0001bc50: 5f72 756e 2e67 7269 6428 726f 773d 312c  _run.grid(row=1,
+0001bc60: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
+0001bc70: 793d 4e57 290a 2020 2020 2020 2020 7365  y=NW).        se
+0001bc80: 6c66 2e6d 6169 6e5f 6672 6d2e 6d61 696e  lf.main_frm.main
+0001bc90: 6c6f 6f70 2829 0a0a 2020 2020 6465 6620  loop()..    def 
+0001bca0: 7570 6461 7465 5f71 7561 6c69 7479 5f64  update_quality_d
+0001bcb0: 726f 7064 6f77 6e28 7365 6c66 2c20 6b29  ropdown(self, k)
+0001bcc0: 3a0a 2020 2020 2020 2020 7365 6c66 2e71  :.        self.q
+0001bcd0: 7561 6c69 7479 5f64 726f 7064 6f77 6e2e  uality_dropdown.
+0001bce0: 706f 7075 704d 656e 755b 276d 656e 7527  popupMenu['menu'
+0001bcf0: 5d2e 6465 6c65 7465 2830 2c20 2765 6e64  ].delete(0, 'end
+0001bd00: 2729 0a20 2020 2020 2020 2069 6620 6b20  ').        if k 
+0001bd10: 3d3d 2027 4750 5520 2868 3236 345f 6375  == 'GPU (h264_cu
+0001bd20: 7669 6429 273a 206f 7074 696f 6e5f 6c73  vid)': option_ls
+0001bd30: 7420 3d20 7365 6c66 2e67 7075 5f63 6f64  t = self.gpu_cod
+0001bd40: 6563 5f71 7561 6c69 7469 6573 0a20 2020  ec_qualities.   
+0001bd50: 2020 2020 2065 6c73 653a 206f 7074 696f       else: optio
+0001bd60: 6e5f 6c73 7420 3d20 7365 6c66 2e63 7075  n_lst = self.cpu
+0001bd70: 5f63 6f64 6563 5f71 7561 6c69 7469 6573  _codec_qualities
+0001bd80: 0a20 2020 2020 2020 2066 6f72 206f 7074  .        for opt
+0001bd90: 696f 6e20 696e 206f 7074 696f 6e5f 6c73  ion in option_ls
+0001bda0: 743a 0a20 2020 2020 2020 2020 2020 2073  t:.            s
+0001bdb0: 656c 662e 7175 616c 6974 795f 6472 6f70  elf.quality_drop
+0001bdc0: 646f 776e 2e70 6f70 7570 4d65 6e75 5b27  down.popupMenu['
+0001bdd0: 6d65 6e75 275d 2e61 6464 5f63 6f6d 6d61  menu'].add_comma
+0001bde0: 6e64 286c 6162 656c 3d6f 7074 696f 6e2c  nd(label=option,
+0001bdf0: 2063 6f6d 6d61 6e64 3d6c 616d 6264 6120   command=lambda 
+0001be00: 7661 6c75 653d 6f70 7469 6f6e 3a20 7365  value=option: se
+0001be10: 6c66 2e71 7561 6c69 7479 5f64 726f 7064  lf.quality_dropd
+0001be20: 6f77 6e2e 6472 6f70 646f 776e 7661 722e  own.dropdownvar.
+0001be30: 7365 7428 7661 6c75 6529 290a 2020 2020  set(value)).    
+0001be40: 2020 2020 7365 6c66 2e71 7561 6c69 7479      self.quality
+0001be50: 5f64 726f 7064 6f77 6e2e 7365 7443 686f  _dropdown.setCho
+0001be60: 6963 6573 286f 7074 696f 6e5f 6c73 745b  ices(option_lst[
+0001be70: 305d 290a 0a20 2020 2064 6566 2072 756e  0])..    def run
+0001be80: 2873 656c 662c 206d 756c 7469 706c 653a  (self, multiple:
+0001be90: 2062 6f6f 6c29 3a0a 2020 2020 2020 2020   bool):.        
+0001bea0: 6966 206e 6f74 206d 756c 7469 706c 653a  if not multiple:
+0001beb0: 0a20 2020 2020 2020 2020 2020 2076 6964  .            vid
+0001bec0: 656f 5f70 6174 6820 3d20 7365 6c66 2e73  eo_path = self.s
+0001bed0: 656c 6563 7465 645f 7669 6465 6f2e 6669  elected_video.fi
+0001bee0: 6c65 5f70 6174 680a 2020 2020 2020 2020  le_path.        
+0001bef0: 2020 2020 6368 6563 6b5f 6669 6c65 5f65      check_file_e
+0001bf00: 7869 7374 5f61 6e64 5f72 6561 6461 626c  xist_and_readabl
+0001bf10: 6528 6669 6c65 5f70 6174 683d 7669 6465  e(file_path=vide
+0001bf20: 6f5f 7061 7468 290a 2020 2020 2020 2020  o_path).        
+0001bf30: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0001bf40: 2020 7669 6465 6f5f 7061 7468 203d 2073    video_path = s
+0001bf50: 656c 662e 7365 6c65 6374 6564 5f76 6964  elf.selected_vid
+0001bf60: 656f 5f64 6972 2e66 6f6c 6465 725f 7061  eo_dir.folder_pa
+0001bf70: 7468 0a20 2020 2020 2020 2020 2020 2063  th.            c
+0001bf80: 6865 636b 5f69 665f 6469 725f 6578 6973  heck_if_dir_exis
+0001bf90: 7473 2869 6e5f 6469 723d 7669 6465 6f5f  ts(in_dir=video_
+0001bfa0: 7061 7468 2c20 736f 7572 6365 3d73 656c  path, source=sel
+0001bfb0: 662e 5f5f 636c 6173 735f 5f2e 5f5f 6e61  f.__class__.__na
+0001bfc0: 6d65 5f5f 290a 2020 2020 2020 2020 636f  me__).        co
+0001bfd0: 6465 6320 3d20 7365 6c66 2e4d 5034 5f43  dec = self.MP4_C
+0001bfe0: 4f44 4543 5f4c 4b5b 7365 6c66 2e63 6f64  ODEC_LK[self.cod
+0001bff0: 6563 5f64 726f 7064 6f77 6e2e 6765 7443  ec_dropdown.getC
+0001c000: 686f 6963 6573 2829 5d0a 2020 2020 2020  hoices()].      
+0001c010: 2020 7175 616c 6974 7920 3d20 7365 6c66    quality = self
+0001c020: 2e71 7561 6c69 7479 5f64 726f 7064 6f77  .quality_dropdow
+0001c030: 6e2e 6765 7443 686f 6963 6573 2829 0a20  n.getChoices(). 
+0001c040: 2020 2020 2020 2074 6872 6561 6469 6e67         threading
+0001c050: 2e54 6872 6561 6428 7461 7267 6574 3d63  .Thread(target=c
+0001c060: 6f6e 7665 7274 5f74 6f5f 6d70 3428 7061  onvert_to_mp4(pa
+0001c070: 7468 3d76 6964 656f 5f70 6174 682c 2063  th=video_path, c
+0001c080: 6f64 6563 3d63 6f64 6563 2c20 7175 616c  odec=codec, qual
+0001c090: 6974 793d 7175 616c 6974 7929 290a 0a63  ity=quality))..c
+0001c0a0: 6c61 7373 2043 6f6e 7665 7274 3241 5649  lass Convert2AVI
+0001c0b0: 506f 7055 7028 506f 7055 704d 6978 696e  PopUp(PopUpMixin
+0001c0c0: 293a 0a20 2020 2022 2222 0a20 2020 203a  ):.    """.    :
+0001c0d0: 6578 616d 706c 653a 0a20 2020 203e 3e3e  example:.    >>>
+0001c0e0: 2043 6f6e 7665 7274 3241 5649 506f 7055   Convert2AVIPopU
+0001c0f0: 7028 290a 2020 2020 2222 220a 0a20 2020  p().    """..   
+0001c100: 2064 6566 205f 5f69 6e69 745f 5f28 7365   def __init__(se
+0001c110: 6c66 293a 0a20 2020 2020 2020 2073 7570  lf):.        sup
+0001c120: 6572 2829 2e5f 5f69 6e69 745f 5f28 7469  er().__init__(ti
+0001c130: 746c 653d 2243 4f4e 5645 5254 2056 4944  tle="CONVERT VID
+0001c140: 454f 5320 544f 2041 5649 2229 0a20 2020  EOS TO AVI").   
+0001c150: 2020 2020 2073 6574 7469 6e67 735f 6672       settings_fr
+0001c160: 6d20 3d20 4372 6561 7465 4c61 6265 6c46  m = CreateLabelF
+0001c170: 7261 6d65 5769 7468 4963 6f6e 2870 6172  rameWithIcon(par
+0001c180: 656e 743d 7365 6c66 2e6d 6169 6e5f 6672  ent=self.main_fr
+0001c190: 6d2c 2068 6561 6465 723d 2253 4554 5449  m, header="SETTI
+0001c1a0: 4e47 5322 2c20 6963 6f6e 5f6e 616d 653d  NGS", icon_name=
+0001c1b0: 4b65 7973 2e44 4f43 554d 454e 5441 5449  Keys.DOCUMENTATI
+0001c1c0: 4f4e 2e76 616c 7565 2c20 6963 6f6e 5f6c  ON.value, icon_l
+0001c1d0: 696e 6b3d 4c69 6e6b 732e 5649 4445 4f5f  ink=Links.VIDEO_
+0001c1e0: 544f 4f4c 532e 7661 6c75 6529 0a20 2020  TOOLS.value).   
+0001c1f0: 2020 2020 2073 656c 662e 4156 495f 434f       self.AVI_CO
+0001c200: 4445 435f 4c4b 203d 207b 2758 7669 4427  DEC_LK = {'XviD'
+0001c210: 3a20 2778 7669 6427 2c20 2744 6976 5827  : 'xvid', 'DivX'
+0001c220: 3a20 2764 6976 7827 2c20 274d 4a50 4547  : 'divx', 'MJPEG
+0001c230: 273a 2027 6d6a 7065 6727 7d0a 2020 2020  ': 'mjpeg'}.    
+0001c240: 2020 2020 7365 6c66 2e71 7561 6c69 7479      self.quality
+0001c250: 5f64 726f 7064 6f77 6e20 3d20 4472 6f70  _dropdown = Drop
+0001c260: 446f 776e 4d65 6e75 2873 6574 7469 6e67  DownMenu(setting
+0001c270: 735f 6672 6d2c 2022 4f55 5450 5554 2056  s_frm, "OUTPUT V
+0001c280: 4944 454f 2051 5541 4c49 5459 3a22 2c20  IDEO QUALITY:", 
+0001c290: 6c69 7374 2872 616e 6765 2831 302c 2031  list(range(10, 1
+0001c2a0: 3130 2c20 3130 2929 2c20 6c61 6265 6c77  10, 10)), labelw
+0001c2b0: 6964 7468 3d32 3529 0a20 2020 2020 2020  idth=25).       
+0001c2c0: 2073 656c 662e 7175 616c 6974 795f 6472   self.quality_dr
+0001c2d0: 6f70 646f 776e 2e73 6574 4368 6f69 6365  opdown.setChoice
+0001c2e0: 7328 3630 290a 2020 2020 2020 2020 7365  s(60).        se
+0001c2f0: 6c66 2e63 6f64 6563 5f64 726f 7064 6f77  lf.codec_dropdow
+0001c300: 6e20 3d20 4472 6f70 446f 776e 4d65 6e75  n = DropDownMenu
+0001c310: 2873 6574 7469 6e67 735f 6672 6d2c 2022  (settings_frm, "
+0001c320: 434f 4d50 5245 5353 494f 4e20 434f 4445  COMPRESSION CODE
+0001c330: 433a 222c 206c 6973 7428 7365 6c66 2e41  C:", list(self.A
+0001c340: 5649 5f43 4f44 4543 5f4c 4b2e 6b65 7973  VI_CODEC_LK.keys
+0001c350: 2829 292c 206c 6162 656c 7769 6474 683d  ()), labelwidth=
+0001c360: 3235 290a 2020 2020 2020 2020 7365 6c66  25).        self
+0001c370: 2e63 6f64 6563 5f64 726f 7064 6f77 6e2e  .codec_dropdown.
+0001c380: 7365 7443 686f 6963 6573 2827 4469 7658  setChoices('DivX
+0001c390: 2729 0a20 2020 2020 2020 2073 6574 7469  ').        setti
+0001c3a0: 6e67 735f 6672 6d2e 6772 6964 2872 6f77  ngs_frm.grid(row
+0001c3b0: 3d30 2c20 636f 6c75 6d6e 3d30 2c20 7374  =0, column=0, st
+0001c3c0: 6963 6b79 3d4e 5729 0a20 2020 2020 2020  icky=NW).       
+0001c3d0: 2073 656c 662e 7175 616c 6974 795f 6472   self.quality_dr
+0001c3e0: 6f70 646f 776e 2e67 7269 6428 726f 773d  opdown.grid(row=
+0001c3f0: 302c 2063 6f6c 756d 6e3d 302c 2073 7469  0, column=0, sti
+0001c400: 636b 793d 4e57 290a 2020 2020 2020 2020  cky=NW).        
+0001c410: 7365 6c66 2e63 6f64 6563 5f64 726f 7064  self.codec_dropd
+0001c420: 6f77 6e2e 6772 6964 2872 6f77 3d31 2c20  own.grid(row=1, 
+0001c430: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
+0001c440: 3d4e 5729 0a20 2020 2020 2020 2073 696e  =NW).        sin
+0001c450: 676c 655f 7669 6465 6f5f 6672 6d20 3d20  gle_video_frm = 
+0001c460: 4372 6561 7465 4c61 6265 6c46 7261 6d65  CreateLabelFrame
+0001c470: 5769 7468 4963 6f6e 2870 6172 656e 743d  WithIcon(parent=
+0001c480: 7365 6c66 2e6d 6169 6e5f 6672 6d2c 2068  self.main_frm, h
+0001c490: 6561 6465 723d 2253 494e 474c 4520 5649  eader="SINGLE VI
+0001c4a0: 4445 4f22 2c20 6963 6f6e 5f6e 616d 653d  DEO", icon_name=
+0001c4b0: 4b65 7973 2e44 4f43 554d 454e 5441 5449  Keys.DOCUMENTATI
+0001c4c0: 4f4e 2e76 616c 7565 2c20 6963 6f6e 5f6c  ON.value, icon_l
+0001c4d0: 696e 6b3d 4c69 6e6b 732e 5649 4445 4f5f  ink=Links.VIDEO_
+0001c4e0: 544f 4f4c 532e 7661 6c75 6529 0a20 2020  TOOLS.value).   
+0001c4f0: 2020 2020 2073 656c 662e 7365 6c65 6374       self.select
+0001c500: 6564 5f76 6964 656f 203d 2046 696c 6553  ed_video = FileS
+0001c510: 656c 6563 7428 7369 6e67 6c65 5f76 6964  elect(single_vid
+0001c520: 656f 5f66 726d 2c20 2256 4944 454f 2050  eo_frm, "VIDEO P
+0001c530: 4154 483a 222c 2074 6974 6c65 3d22 5365  ATH:", title="Se
+0001c540: 6c65 6374 2061 2076 6964 656f 2066 696c  lect a video fil
+0001c550: 6522 2c20 6c62 6c77 6964 7468 3d32 352c  e", lblwidth=25,
+0001c560: 2066 696c 655f 7479 7065 733d 5b28 2256   file_types=[("V
+0001c570: 4944 454f 2046 494c 4522 2c20 4f70 7469  IDEO FILE", Opti
+0001c580: 6f6e 732e 414c 4c5f 5649 4445 4f5f 464f  ons.ALL_VIDEO_FO
+0001c590: 524d 4154 5f53 5452 5f4f 5054 494f 4e53  RMAT_STR_OPTIONS
+0001c5a0: 2e76 616c 7565 295d 290a 2020 2020 2020  .value)]).      
+0001c5b0: 2020 7369 6e67 6c65 5f76 6964 656f 5f72    single_video_r
+0001c5c0: 756e 203d 2042 7574 746f 6e28 7369 6e67  un = Button(sing
+0001c5d0: 6c65 5f76 6964 656f 5f66 726d 2c20 7465  le_video_frm, te
+0001c5e0: 7874 3d22 5255 4e20 2d20 5349 4e47 4c45  xt="RUN - SINGLE
+0001c5f0: 2056 4944 454f 222c 2063 6f6d 6d61 6e64   VIDEO", command
+0001c600: 3d6c 616d 6264 613a 2073 656c 662e 7275  =lambda: self.ru
+0001c610: 6e28 6d75 6c74 6970 6c65 3d46 616c 7365  n(multiple=False
+0001c620: 2929 0a20 2020 2020 2020 2073 696e 676c  )).        singl
+0001c630: 655f 7669 6465 6f5f 6672 6d2e 6772 6964  e_video_frm.grid
+0001c640: 2872 6f77 3d31 2c20 636f 6c75 6d6e 3d30  (row=1, column=0
+0001c650: 2c20 7374 6963 6b79 3d4e 5729 0a20 2020  , sticky=NW).   
+0001c660: 2020 2020 2073 656c 662e 7365 6c65 6374       self.select
+0001c670: 6564 5f76 6964 656f 2e67 7269 6428 726f  ed_video.grid(ro
+0001c680: 773d 302c 2063 6f6c 756d 6e3d 302c 2073  w=0, column=0, s
+0001c690: 7469 636b 793d 4e57 290a 2020 2020 2020  ticky=NW).      
+0001c6a0: 2020 7369 6e67 6c65 5f76 6964 656f 5f72    single_video_r
+0001c6b0: 756e 2e67 7269 6428 726f 773d 312c 2063  un.grid(row=1, c
+0001c6c0: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
+0001c6d0: 4e57 290a 0a20 2020 2020 2020 206d 756c  NW)..        mul
+0001c6e0: 7469 706c 655f 7669 6465 6f5f 6672 6d20  tiple_video_frm 
+0001c6f0: 3d20 4372 6561 7465 4c61 6265 6c46 7261  = CreateLabelFra
+0001c700: 6d65 5769 7468 4963 6f6e 2870 6172 656e  meWithIcon(paren
+0001c710: 743d 7365 6c66 2e6d 6169 6e5f 6672 6d2c  t=self.main_frm,
+0001c720: 2068 6561 6465 723d 2256 4944 454f 2044   header="VIDEO D
+0001c730: 4952 4543 544f 5259 222c 2069 636f 6e5f  IRECTORY", icon_
+0001c740: 6e61 6d65 3d4b 6579 732e 444f 4355 4d45  name=Keys.DOCUME
+0001c750: 4e54 4154 494f 4e2e 7661 6c75 652c 2069  NTATION.value, i
+0001c760: 636f 6e5f 6c69 6e6b 3d4c 696e 6b73 2e56  con_link=Links.V
+0001c770: 4944 454f 5f54 4f4f 4c53 2e76 616c 7565  IDEO_TOOLS.value
+0001c780: 290a 2020 2020 2020 2020 7365 6c66 2e73  ).        self.s
+0001c790: 656c 6563 7465 645f 7669 6465 6f5f 6469  elected_video_di
+0001c7a0: 7220 3d20 466f 6c64 6572 5365 6c65 6374  r = FolderSelect
+0001c7b0: 286d 756c 7469 706c 655f 7669 6465 6f5f  (multiple_video_
+0001c7c0: 6672 6d2c 2022 5649 4445 4f20 4449 5245  frm, "VIDEO DIRE
+0001c7d0: 4354 4f52 5920 5041 5448 3a22 2c20 7469  CTORY PATH:", ti
+0001c7e0: 746c 653d 2253 656c 6563 7420 6120 7669  tle="Select a vi
+0001c7f0: 6465 6f20 6469 7265 6374 6f72 7922 2c20  deo directory", 
+0001c800: 6c62 6c77 6964 7468 3d32 3529 0a20 2020  lblwidth=25).   
+0001c810: 2020 2020 206d 756c 7469 706c 655f 7669       multiple_vi
+0001c820: 6465 6f5f 7275 6e20 3d20 4275 7474 6f6e  deo_run = Button
+0001c830: 286d 756c 7469 706c 655f 7669 6465 6f5f  (multiple_video_
+0001c840: 6672 6d2c 2074 6578 743d 2252 554e 202d  frm, text="RUN -
+0001c850: 2056 4944 454f 2044 4952 4543 544f 5259   VIDEO DIRECTORY
+0001c860: 222c 2063 6f6d 6d61 6e64 3d6c 616d 6264  ", command=lambd
+0001c870: 613a 2073 656c 662e 7275 6e28 6d75 6c74  a: self.run(mult
+0001c880: 6970 6c65 3d54 7275 6529 290a 2020 2020  iple=True)).    
+0001c890: 2020 2020 6d75 6c74 6970 6c65 5f76 6964      multiple_vid
+0001c8a0: 656f 5f66 726d 2e67 7269 6428 726f 773d  eo_frm.grid(row=
+0001c8b0: 322c 2063 6f6c 756d 6e3d 302c 2073 7469  2, column=0, sti
+0001c8c0: 636b 793d 4e57 290a 2020 2020 2020 2020  cky=NW).        
+0001c8d0: 7365 6c66 2e73 656c 6563 7465 645f 7669  self.selected_vi
+0001c8e0: 6465 6f5f 6469 722e 6772 6964 2872 6f77  deo_dir.grid(row
+0001c8f0: 3d30 2c20 636f 6c75 6d6e 3d30 2c20 7374  =0, column=0, st
+0001c900: 6963 6b79 3d4e 5729 0a20 2020 2020 2020  icky=NW).       
+0001c910: 206d 756c 7469 706c 655f 7669 6465 6f5f   multiple_video_
+0001c920: 7275 6e2e 6772 6964 2872 6f77 3d31 2c20  run.grid(row=1, 
+0001c930: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
+0001c940: 3d4e 5729 0a20 2020 2020 2020 2023 7365  =NW).        #se
+0001c950: 6c66 2e6d 6169 6e5f 6672 6d2e 6d61 696e  lf.main_frm.main
+0001c960: 6c6f 6f70 2829 0a0a 2020 2020 6465 6620  loop()..    def 
+0001c970: 7275 6e28 7365 6c66 2c20 6d75 6c74 6970  run(self, multip
+0001c980: 6c65 3a20 626f 6f6c 293a 0a20 2020 2020  le: bool):.     
+0001c990: 2020 2069 6620 6e6f 7420 6d75 6c74 6970     if not multip
+0001c9a0: 6c65 3a0a 2020 2020 2020 2020 2020 2020  le:.            
+0001c9b0: 7669 6465 6f5f 7061 7468 203d 2073 656c  video_path = sel
+0001c9c0: 662e 7365 6c65 6374 6564 5f76 6964 656f  f.selected_video
+0001c9d0: 2e66 696c 655f 7061 7468 0a20 2020 2020  .file_path.     
+0001c9e0: 2020 2020 2020 2063 6865 636b 5f66 696c         check_fil
+0001c9f0: 655f 6578 6973 745f 616e 645f 7265 6164  e_exist_and_read
+0001ca00: 6162 6c65 2866 696c 655f 7061 7468 3d76  able(file_path=v
+0001ca10: 6964 656f 5f70 6174 6829 0a20 2020 2020  ideo_path).     
+0001ca20: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+0001ca30: 2020 2020 2076 6964 656f 5f70 6174 6820       video_path 
+0001ca40: 3d20 7365 6c66 2e73 656c 6563 7465 645f  = self.selected_
+0001ca50: 7669 6465 6f5f 6469 722e 666f 6c64 6572  video_dir.folder
+0001ca60: 5f70 6174 680a 2020 2020 2020 2020 2020  _path.          
+0001ca70: 2020 6368 6563 6b5f 6966 5f64 6972 5f65    check_if_dir_e
+0001ca80: 7869 7374 7328 696e 5f64 6972 3d76 6964  xists(in_dir=vid
+0001ca90: 656f 5f70 6174 682c 2073 6f75 7263 653d  eo_path, source=
+0001caa0: 7365 6c66 2e5f 5f63 6c61 7373 5f5f 2e5f  self.__class__._
+0001cab0: 5f6e 616d 655f 5f29 0a20 2020 2020 2020  _name__).       
+0001cac0: 2063 6f64 6563 203d 2073 656c 662e 4156   codec = self.AV
+0001cad0: 495f 434f 4445 435f 4c4b 5b73 656c 662e  I_CODEC_LK[self.
+0001cae0: 636f 6465 635f 6472 6f70 646f 776e 2e67  codec_dropdown.g
+0001caf0: 6574 4368 6f69 6365 7328 295d 0a20 2020  etChoices()].   
+0001cb00: 2020 2020 2071 7561 6c69 7479 203d 2069       quality = i
+0001cb10: 6e74 2873 656c 662e 7175 616c 6974 795f  nt(self.quality_
+0001cb20: 6472 6f70 646f 776e 2e67 6574 4368 6f69  dropdown.getChoi
+0001cb30: 6365 7328 2929 0a20 2020 2020 2020 2074  ces()).        t
+0001cb40: 6872 6561 6469 6e67 2e54 6872 6561 6428  hreading.Thread(
+0001cb50: 7461 7267 6574 3d63 6f6e 7665 7274 5f74  target=convert_t
+0001cb60: 6f5f 6176 6928 7061 7468 3d76 6964 656f  o_avi(path=video
+0001cb70: 5f70 6174 682c 2063 6f64 6563 3d63 6f64  _path, codec=cod
+0001cb80: 6563 2c20 7175 616c 6974 793d 7175 616c  ec, quality=qual
+0001cb90: 6974 7929 290a 0a63 6c61 7373 2043 6f6e  ity))..class Con
+0001cba0: 7665 7274 3257 4542 4d50 6f70 5570 2850  vert2WEBMPopUp(P
+0001cbb0: 6f70 5570 4d69 7869 6e29 3a0a 2020 2020  opUpMixin):.    
+0001cbc0: 2222 220a 2020 2020 3a65 7861 6d70 6c65  """.    :example
+0001cbd0: 3a0a 2020 2020 3e3e 3e20 436f 6e76 6572  :.    >>> Conver
+0001cbe0: 7432 5745 424d 506f 7055 7028 290a 2020  t2WEBMPopUp().  
+0001cbf0: 2020 2222 220a 0a20 2020 2064 6566 205f    """..    def _
+0001cc00: 5f69 6e69 745f 5f28 7365 6c66 293a 0a20  _init__(self):. 
+0001cc10: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
+0001cc20: 5f69 6e69 745f 5f28 7469 746c 653d 2243  _init__(title="C
+0001cc30: 4f4e 5645 5254 2056 4944 454f 5320 544f  ONVERT VIDEOS TO
+0001cc40: 2057 4542 4d22 290a 2020 2020 2020 2020   WEBM").        
+0001cc50: 7365 7474 696e 6773 5f66 726d 203d 2043  settings_frm = C
+0001cc60: 7265 6174 654c 6162 656c 4672 616d 6557  reateLabelFrameW
+0001cc70: 6974 6849 636f 6e28 7061 7265 6e74 3d73  ithIcon(parent=s
+0001cc80: 656c 662e 6d61 696e 5f66 726d 2c20 6865  elf.main_frm, he
+0001cc90: 6164 6572 3d22 5345 5454 494e 4753 222c  ader="SETTINGS",
+0001cca0: 2069 636f 6e5f 6e61 6d65 3d4b 6579 732e   icon_name=Keys.
+0001ccb0: 444f 4355 4d45 4e54 4154 494f 4e2e 7661  DOCUMENTATION.va
+0001ccc0: 6c75 652c 2069 636f 6e5f 6c69 6e6b 3d4c  lue, icon_link=L
+0001ccd0: 696e 6b73 2e56 4944 454f 5f54 4f4f 4c53  inks.VIDEO_TOOLS
+0001cce0: 2e76 616c 7565 290a 2020 2020 2020 2020  .value).        
+0001ccf0: 7365 6c66 2e57 4542 4d5f 434f 4445 435f  self.WEBM_CODEC_
+0001cd00: 4c4b 203d 207b 2756 5038 273a 2027 7670  LK = {'VP8': 'vp
+0001cd10: 3827 2c20 2756 5039 273a 2027 7670 3927  8', 'VP9': 'vp9'
+0001cd20: 7d0a 2020 2020 2020 2020 7365 6c66 2e71  }.        self.q
+0001cd30: 7561 6c69 7479 5f64 726f 7064 6f77 6e20  uality_dropdown 
+0001cd40: 3d20 4472 6f70 446f 776e 4d65 6e75 2873  = DropDownMenu(s
+0001cd50: 6574 7469 6e67 735f 6672 6d2c 2022 4f55  ettings_frm, "OU
+0001cd60: 5450 5554 2056 4944 454f 2051 5541 4c49  TPUT VIDEO QUALI
+0001cd70: 5459 3a22 2c20 6c69 7374 2872 616e 6765  TY:", list(range
+0001cd80: 2831 302c 2031 3130 2c20 3130 2929 2c20  (10, 110, 10)), 
+0001cd90: 6c61 6265 6c77 6964 7468 3d32 3529 0a20  labelwidth=25). 
+0001cda0: 2020 2020 2020 2073 656c 662e 7175 616c         self.qual
+0001cdb0: 6974 795f 6472 6f70 646f 776e 2e73 6574  ity_dropdown.set
+0001cdc0: 4368 6f69 6365 7328 3630 290a 2020 2020  Choices(60).    
+0001cdd0: 2020 2020 7365 6c66 2e63 6f64 6563 5f64      self.codec_d
+0001cde0: 726f 7064 6f77 6e20 3d20 4472 6f70 446f  ropdown = DropDo
+0001cdf0: 776e 4d65 6e75 2873 6574 7469 6e67 735f  wnMenu(settings_
+0001ce00: 6672 6d2c 2022 434f 4d50 5245 5353 494f  frm, "COMPRESSIO
+0001ce10: 4e20 434f 4445 433a 222c 206c 6973 7428  N CODEC:", list(
+0001ce20: 7365 6c66 2e57 4542 4d5f 434f 4445 435f  self.WEBM_CODEC_
+0001ce30: 4c4b 2e6b 6579 7328 2929 2c20 6c61 6265  LK.keys()), labe
+0001ce40: 6c77 6964 7468 3d32 3529 0a20 2020 2020  lwidth=25).     
+0001ce50: 2020 2073 656c 662e 636f 6465 635f 6472     self.codec_dr
+0001ce60: 6f70 646f 776e 2e73 6574 4368 6f69 6365  opdown.setChoice
+0001ce70: 7328 2756 5039 2729 0a20 2020 2020 2020  s('VP9').       
+0001ce80: 2073 6574 7469 6e67 735f 6672 6d2e 6772   settings_frm.gr
+0001ce90: 6964 2872 6f77 3d30 2c20 636f 6c75 6d6e  id(row=0, column
+0001cea0: 3d30 2c20 7374 6963 6b79 3d4e 5729 0a20  =0, sticky=NW). 
+0001ceb0: 2020 2020 2020 2073 656c 662e 7175 616c         self.qual
+0001cec0: 6974 795f 6472 6f70 646f 776e 2e67 7269  ity_dropdown.gri
+0001ced0: 6428 726f 773d 302c 2063 6f6c 756d 6e3d  d(row=0, column=
+0001cee0: 302c 2073 7469 636b 793d 4e57 290a 2020  0, sticky=NW).  
+0001cef0: 2020 2020 2020 7365 6c66 2e63 6f64 6563        self.codec
+0001cf00: 5f64 726f 7064 6f77 6e2e 6772 6964 2872  _dropdown.grid(r
+0001cf10: 6f77 3d31 2c20 636f 6c75 6d6e 3d30 2c20  ow=1, column=0, 
+0001cf20: 7374 6963 6b79 3d4e 5729 0a20 2020 2020  sticky=NW).     
+0001cf30: 2020 2073 696e 676c 655f 7669 6465 6f5f     single_video_
+0001cf40: 6672 6d20 3d20 4372 6561 7465 4c61 6265  frm = CreateLabe
+0001cf50: 6c46 7261 6d65 5769 7468 4963 6f6e 2870  lFrameWithIcon(p
+0001cf60: 6172 656e 743d 7365 6c66 2e6d 6169 6e5f  arent=self.main_
+0001cf70: 6672 6d2c 2068 6561 6465 723d 2253 494e  frm, header="SIN
+0001cf80: 474c 4520 5649 4445 4f22 2c20 6963 6f6e  GLE VIDEO", icon
+0001cf90: 5f6e 616d 653d 4b65 7973 2e44 4f43 554d  _name=Keys.DOCUM
+0001cfa0: 454e 5441 5449 4f4e 2e76 616c 7565 2c20  ENTATION.value, 
+0001cfb0: 6963 6f6e 5f6c 696e 6b3d 4c69 6e6b 732e  icon_link=Links.
+0001cfc0: 5649 4445 4f5f 544f 4f4c 532e 7661 6c75  VIDEO_TOOLS.valu
+0001cfd0: 6529 0a20 2020 2020 2020 2073 656c 662e  e).        self.
+0001cfe0: 7365 6c65 6374 6564 5f76 6964 656f 203d  selected_video =
+0001cff0: 2046 696c 6553 656c 6563 7428 7369 6e67   FileSelect(sing
+0001d000: 6c65 5f76 6964 656f 5f66 726d 2c20 2256  le_video_frm, "V
+0001d010: 4944 454f 2050 4154 483a 222c 2074 6974  IDEO PATH:", tit
+0001d020: 6c65 3d22 5365 6c65 6374 2061 2076 6964  le="Select a vid
+0001d030: 656f 2066 696c 6522 2c20 6c62 6c77 6964  eo file", lblwid
+0001d040: 7468 3d32 352c 2066 696c 655f 7479 7065  th=25, file_type
+0001d050: 733d 5b28 2256 4944 454f 2046 494c 4522  s=[("VIDEO FILE"
+0001d060: 2c20 4f70 7469 6f6e 732e 414c 4c5f 5649  , Options.ALL_VI
+0001d070: 4445 4f5f 464f 524d 4154 5f53 5452 5f4f  DEO_FORMAT_STR_O
+0001d080: 5054 494f 4e53 2e76 616c 7565 295d 290a  PTIONS.value)]).
+0001d090: 2020 2020 2020 2020 7369 6e67 6c65 5f76          single_v
+0001d0a0: 6964 656f 5f72 756e 203d 2042 7574 746f  ideo_run = Butto
+0001d0b0: 6e28 7369 6e67 6c65 5f76 6964 656f 5f66  n(single_video_f
+0001d0c0: 726d 2c20 7465 7874 3d22 5255 4e20 2d20  rm, text="RUN - 
+0001d0d0: 5349 4e47 4c45 2056 4944 454f 222c 2063  SINGLE VIDEO", c
+0001d0e0: 6f6d 6d61 6e64 3d6c 616d 6264 613a 2073  ommand=lambda: s
+0001d0f0: 656c 662e 7275 6e28 6d75 6c74 6970 6c65  elf.run(multiple
+0001d100: 3d46 616c 7365 2929 0a20 2020 2020 2020  =False)).       
+0001d110: 2073 696e 676c 655f 7669 6465 6f5f 6672   single_video_fr
+0001d120: 6d2e 6772 6964 2872 6f77 3d31 2c20 636f  m.grid(row=1, co
+0001d130: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d4e  lumn=0, sticky=N
+0001d140: 5729 0a20 2020 2020 2020 2073 656c 662e  W).        self.
+0001d150: 7365 6c65 6374 6564 5f76 6964 656f 2e67  selected_video.g
+0001d160: 7269 6428 726f 773d 302c 2063 6f6c 756d  rid(row=0, colum
+0001d170: 6e3d 302c 2073 7469 636b 793d 4e57 290a  n=0, sticky=NW).
+0001d180: 2020 2020 2020 2020 7369 6e67 6c65 5f76          single_v
+0001d190: 6964 656f 5f72 756e 2e67 7269 6428 726f  ideo_run.grid(ro
+0001d1a0: 773d 312c 2063 6f6c 756d 6e3d 302c 2073  w=1, column=0, s
+0001d1b0: 7469 636b 793d 4e57 290a 0a20 2020 2020  ticky=NW)..     
+0001d1c0: 2020 206d 756c 7469 706c 655f 7669 6465     multiple_vide
+0001d1d0: 6f5f 6672 6d20 3d20 4372 6561 7465 4c61  o_frm = CreateLa
+0001d1e0: 6265 6c46 7261 6d65 5769 7468 4963 6f6e  belFrameWithIcon
+0001d1f0: 2870 6172 656e 743d 7365 6c66 2e6d 6169  (parent=self.mai
+0001d200: 6e5f 6672 6d2c 2068 6561 6465 723d 2256  n_frm, header="V
+0001d210: 4944 454f 2044 4952 4543 544f 5259 222c  IDEO DIRECTORY",
+0001d220: 2069 636f 6e5f 6e61 6d65 3d4b 6579 732e   icon_name=Keys.
+0001d230: 444f 4355 4d45 4e54 4154 494f 4e2e 7661  DOCUMENTATION.va
+0001d240: 6c75 652c 2069 636f 6e5f 6c69 6e6b 3d4c  lue, icon_link=L
+0001d250: 696e 6b73 2e56 4944 454f 5f54 4f4f 4c53  inks.VIDEO_TOOLS
+0001d260: 2e76 616c 7565 290a 2020 2020 2020 2020  .value).        
+0001d270: 7365 6c66 2e73 656c 6563 7465 645f 7669  self.selected_vi
+0001d280: 6465 6f5f 6469 7220 3d20 466f 6c64 6572  deo_dir = Folder
+0001d290: 5365 6c65 6374 286d 756c 7469 706c 655f  Select(multiple_
+0001d2a0: 7669 6465 6f5f 6672 6d2c 2022 5649 4445  video_frm, "VIDE
+0001d2b0: 4f20 4449 5245 4354 4f52 5920 5041 5448  O DIRECTORY PATH
+0001d2c0: 3a22 2c20 7469 746c 653d 2253 656c 6563  :", title="Selec
+0001d2d0: 7420 6120 7669 6465 6f20 6469 7265 6374  t a video direct
+0001d2e0: 6f72 7922 2c20 6c62 6c77 6964 7468 3d32  ory", lblwidth=2
+0001d2f0: 3529 0a20 2020 2020 2020 206d 756c 7469  5).        multi
+0001d300: 706c 655f 7669 6465 6f5f 7275 6e20 3d20  ple_video_run = 
+0001d310: 4275 7474 6f6e 286d 756c 7469 706c 655f  Button(multiple_
+0001d320: 7669 6465 6f5f 6672 6d2c 2074 6578 743d  video_frm, text=
+0001d330: 2252 554e 202d 2056 4944 454f 2044 4952  "RUN - VIDEO DIR
+0001d340: 4543 544f 5259 222c 2063 6f6d 6d61 6e64  ECTORY", command
+0001d350: 3d6c 616d 6264 613a 2073 656c 662e 7275  =lambda: self.ru
+0001d360: 6e28 6d75 6c74 6970 6c65 3d54 7275 6529  n(multiple=True)
+0001d370: 290a 2020 2020 2020 2020 6d75 6c74 6970  ).        multip
+0001d380: 6c65 5f76 6964 656f 5f66 726d 2e67 7269  le_video_frm.gri
+0001d390: 6428 726f 773d 322c 2063 6f6c 756d 6e3d  d(row=2, column=
+0001d3a0: 302c 2073 7469 636b 793d 4e57 290a 2020  0, sticky=NW).  
+0001d3b0: 2020 2020 2020 7365 6c66 2e73 656c 6563        self.selec
+0001d3c0: 7465 645f 7669 6465 6f5f 6469 722e 6772  ted_video_dir.gr
+0001d3d0: 6964 2872 6f77 3d30 2c20 636f 6c75 6d6e  id(row=0, column
+0001d3e0: 3d30 2c20 7374 6963 6b79 3d4e 5729 0a20  =0, sticky=NW). 
+0001d3f0: 2020 2020 2020 206d 756c 7469 706c 655f         multiple_
+0001d400: 7669 6465 6f5f 7275 6e2e 6772 6964 2872  video_run.grid(r
+0001d410: 6f77 3d31 2c20 636f 6c75 6d6e 3d30 2c20  ow=1, column=0, 
+0001d420: 7374 6963 6b79 3d4e 5729 0a20 2020 2020  sticky=NW).     
+0001d430: 2020 2023 7365 6c66 2e6d 6169 6e5f 6672     #self.main_fr
+0001d440: 6d2e 6d61 696e 6c6f 6f70 2829 0a0a 2020  m.mainloop()..  
+0001d450: 2020 6465 6620 7275 6e28 7365 6c66 2c20    def run(self, 
+0001d460: 6d75 6c74 6970 6c65 3a20 626f 6f6c 293a  multiple: bool):
+0001d470: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
+0001d480: 6d75 6c74 6970 6c65 3a0a 2020 2020 2020  multiple:.      
+0001d490: 2020 2020 2020 7669 6465 6f5f 7061 7468        video_path
+0001d4a0: 203d 2073 656c 662e 7365 6c65 6374 6564   = self.selected
+0001d4b0: 5f76 6964 656f 2e66 696c 655f 7061 7468  _video.file_path
+0001d4c0: 0a20 2020 2020 2020 2020 2020 2063 6865  .            che
+0001d4d0: 636b 5f66 696c 655f 6578 6973 745f 616e  ck_file_exist_an
+0001d4e0: 645f 7265 6164 6162 6c65 2866 696c 655f  d_readable(file_
+0001d4f0: 7061 7468 3d76 6964 656f 5f70 6174 6829  path=video_path)
+0001d500: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+0001d510: 2020 2020 2020 2020 2020 2076 6964 656f             video
+0001d520: 5f70 6174 6820 3d20 7365 6c66 2e73 656c  _path = self.sel
+0001d530: 6563 7465 645f 7669 6465 6f5f 6469 722e  ected_video_dir.
+0001d540: 666f 6c64 6572 5f70 6174 680a 2020 2020  folder_path.    
+0001d550: 2020 2020 2020 2020 6368 6563 6b5f 6966          check_if
+0001d560: 5f64 6972 5f65 7869 7374 7328 696e 5f64  _dir_exists(in_d
+0001d570: 6972 3d76 6964 656f 5f70 6174 682c 2073  ir=video_path, s
+0001d580: 6f75 7263 653d 7365 6c66 2e5f 5f63 6c61  ource=self.__cla
+0001d590: 7373 5f5f 2e5f 5f6e 616d 655f 5f29 0a20  ss__.__name__). 
+0001d5a0: 2020 2020 2020 2063 6f64 6563 203d 2073         codec = s
+0001d5b0: 656c 662e 5745 424d 5f43 4f44 4543 5f4c  elf.WEBM_CODEC_L
+0001d5c0: 4b5b 7365 6c66 2e63 6f64 6563 5f64 726f  K[self.codec_dro
+0001d5d0: 7064 6f77 6e2e 6765 7443 686f 6963 6573  pdown.getChoices
+0001d5e0: 2829 5d0a 2020 2020 2020 2020 7175 616c  ()].        qual
+0001d5f0: 6974 7920 3d20 696e 7428 7365 6c66 2e71  ity = int(self.q
+0001d600: 7561 6c69 7479 5f64 726f 7064 6f77 6e2e  uality_dropdown.
+0001d610: 6765 7443 686f 6963 6573 2829 290a 2020  getChoices()).  
+0001d620: 2020 2020 2020 7468 7265 6164 696e 672e        threading.
+0001d630: 5468 7265 6164 2874 6172 6765 743d 636f  Thread(target=co
+0001d640: 6e76 6572 745f 746f 5f77 6562 6d28 7061  nvert_to_webm(pa
+0001d650: 7468 3d76 6964 656f 5f70 6174 682c 2063  th=video_path, c
+0001d660: 6f64 6563 3d63 6f64 6563 2c20 7175 616c  odec=codec, qual
+0001d670: 6974 793d 7175 616c 6974 7929 290a 0a63  ity=quality))..c
+0001d680: 6c61 7373 2043 6f6e 7665 7274 324d 4f56  lass Convert2MOV
+0001d690: 506f 7055 7028 506f 7055 704d 6978 696e  PopUp(PopUpMixin
+0001d6a0: 293a 0a20 2020 2022 2222 0a20 2020 203a  ):.    """.    :
+0001d6b0: 6578 616d 706c 653a 0a20 2020 203e 3e3e  example:.    >>>
+0001d6c0: 2043 6f6e 7665 7274 324d 4f56 506f 7055   Convert2MOVPopU
+0001d6d0: 7028 290a 2020 2020 2222 220a 0a20 2020  p().    """..   
+0001d6e0: 2064 6566 205f 5f69 6e69 745f 5f28 7365   def __init__(se
+0001d6f0: 6c66 293a 0a20 2020 2020 2020 2073 7570  lf):.        sup
+0001d700: 6572 2829 2e5f 5f69 6e69 745f 5f28 7469  er().__init__(ti
+0001d710: 746c 653d 2243 4f4e 5645 5254 2056 4944  tle="CONVERT VID
+0001d720: 454f 5320 544f 204d 4f56 2229 0a20 2020  EOS TO MOV").   
+0001d730: 2020 2020 2073 6574 7469 6e67 735f 6672       settings_fr
+0001d740: 6d20 3d20 4372 6561 7465 4c61 6265 6c46  m = CreateLabelF
+0001d750: 7261 6d65 5769 7468 4963 6f6e 2870 6172  rameWithIcon(par
+0001d760: 656e 743d 7365 6c66 2e6d 6169 6e5f 6672  ent=self.main_fr
+0001d770: 6d2c 2068 6561 6465 723d 2253 4554 5449  m, header="SETTI
+0001d780: 4e47 5322 2c20 6963 6f6e 5f6e 616d 653d  NGS", icon_name=
+0001d790: 4b65 7973 2e44 4f43 554d 454e 5441 5449  Keys.DOCUMENTATI
+0001d7a0: 4f4e 2e76 616c 7565 2c20 6963 6f6e 5f6c  ON.value, icon_l
+0001d7b0: 696e 6b3d 4c69 6e6b 732e 5649 4445 4f5f  ink=Links.VIDEO_
+0001d7c0: 544f 4f4c 532e 7661 6c75 6529 0a20 2020  TOOLS.value).   
+0001d7d0: 2020 2020 2073 656c 662e 4d4f 565f 434f       self.MOV_CO
+0001d7e0: 4445 435f 4c4b 203d 207b 2750 726f 5265  DEC_LK = {'ProRe
+0001d7f0: 7320 4b6f 7374 7961 2053 616d 616e 7461  s Kostya Samanta
+0001d800: 273a 2027 7072 6f72 6573 272c 0a20 2020  ': 'prores',.   
+0001d810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d820: 2020 2020 2020 2020 2020 2741 6e69 6d61            'Anima
+0001d830: 7469 6f6e 273a 2027 616e 696d 6174 696f  tion': 'animatio
+0001d840: 6e27 2c0a 2020 2020 2020 2020 2020 2020  n',.            
+0001d850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d860: 2027 4369 6e65 466f 726d 273a 2027 6369   'CineForm': 'ci
+0001d870: 6e65 666f 726d 272c 0a20 2020 2020 2020  neform',.       
+0001d880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d890: 2020 2020 2020 2744 4e78 4844 2f44 4e78        'DNxHD/DNx
+0001d8a0: 4852 273a 2027 646e 7868 6427 7d0a 2020  HR': 'dnxhd'}.  
+0001d8b0: 2020 2020 2020 7365 6c66 2e71 7561 6c69        self.quali
+0001d8c0: 7479 5f64 726f 7064 6f77 6e20 3d20 4472  ty_dropdown = Dr
+0001d8d0: 6f70 446f 776e 4d65 6e75 2873 6574 7469  opDownMenu(setti
+0001d8e0: 6e67 735f 6672 6d2c 2022 4f55 5450 5554  ngs_frm, "OUTPUT
+0001d8f0: 2056 4944 454f 2051 5541 4c49 5459 3a22   VIDEO QUALITY:"
+0001d900: 2c20 6c69 7374 2872 616e 6765 2831 302c  , list(range(10,
+0001d910: 2031 3130 2c20 3130 2929 2c20 6c61 6265   110, 10)), labe
+0001d920: 6c77 6964 7468 3d32 3529 0a20 2020 2020  lwidth=25).     
+0001d930: 2020 2073 656c 662e 7175 616c 6974 795f     self.quality_
+0001d940: 6472 6f70 646f 776e 2e73 6574 4368 6f69  dropdown.setChoi
+0001d950: 6365 7328 3630 290a 2020 2020 2020 2020  ces(60).        
+0001d960: 7365 6c66 2e63 6f64 6563 5f64 726f 7064  self.codec_dropd
+0001d970: 6f77 6e20 3d20 4472 6f70 446f 776e 4d65  own = DropDownMe
+0001d980: 6e75 2873 6574 7469 6e67 735f 6672 6d2c  nu(settings_frm,
+0001d990: 2022 434f 4d50 5245 5353 494f 4e20 434f   "COMPRESSION CO
+0001d9a0: 4445 433a 222c 206c 6973 7428 7365 6c66  DEC:", list(self
+0001d9b0: 2e4d 4f56 5f43 4f44 4543 5f4c 4b2e 6b65  .MOV_CODEC_LK.ke
+0001d9c0: 7973 2829 292c 206c 6162 656c 7769 6474  ys()), labelwidt
+0001d9d0: 683d 3235 290a 2020 2020 2020 2020 7365  h=25).        se
+0001d9e0: 6c66 2e63 6f64 6563 5f64 726f 7064 6f77  lf.codec_dropdow
+0001d9f0: 6e2e 7365 7443 686f 6963 6573 2827 5072  n.setChoices('Pr
+0001da00: 6f52 6573 204b 6f73 7479 6120 5361 6d61  oRes Kostya Sama
+0001da10: 6e74 6127 290a 2020 2020 2020 2020 7365  nta').        se
+0001da20: 7474 696e 6773 5f66 726d 2e67 7269 6428  ttings_frm.grid(
+0001da30: 726f 773d 302c 2063 6f6c 756d 6e3d 302c  row=0, column=0,
+0001da40: 2073 7469 636b 793d 4e57 290a 2020 2020   sticky=NW).    
+0001da50: 2020 2020 7365 6c66 2e71 7561 6c69 7479      self.quality
+0001da60: 5f64 726f 7064 6f77 6e2e 6772 6964 2872  _dropdown.grid(r
+0001da70: 6f77 3d30 2c20 636f 6c75 6d6e 3d30 2c20  ow=0, column=0, 
+0001da80: 7374 6963 6b79 3d4e 5729 0a20 2020 2020  sticky=NW).     
+0001da90: 2020 2073 656c 662e 636f 6465 635f 6472     self.codec_dr
+0001daa0: 6f70 646f 776e 2e67 7269 6428 726f 773d  opdown.grid(row=
+0001dab0: 312c 2063 6f6c 756d 6e3d 302c 2073 7469  1, column=0, sti
+0001dac0: 636b 793d 4e57 290a 2020 2020 2020 2020  cky=NW).        
+0001dad0: 7369 6e67 6c65 5f76 6964 656f 5f66 726d  single_video_frm
+0001dae0: 203d 2043 7265 6174 654c 6162 656c 4672   = CreateLabelFr
+0001daf0: 616d 6557 6974 6849 636f 6e28 7061 7265  ameWithIcon(pare
+0001db00: 6e74 3d73 656c 662e 6d61 696e 5f66 726d  nt=self.main_frm
+0001db10: 2c20 6865 6164 6572 3d22 5349 4e47 4c45  , header="SINGLE
+0001db20: 2056 4944 454f 222c 2069 636f 6e5f 6e61   VIDEO", icon_na
+0001db30: 6d65 3d4b 6579 732e 444f 4355 4d45 4e54  me=Keys.DOCUMENT
+0001db40: 4154 494f 4e2e 7661 6c75 652c 2069 636f  ATION.value, ico
+0001db50: 6e5f 6c69 6e6b 3d4c 696e 6b73 2e56 4944  n_link=Links.VID
+0001db60: 454f 5f54 4f4f 4c53 2e76 616c 7565 290a  EO_TOOLS.value).
+0001db70: 2020 2020 2020 2020 7365 6c66 2e73 656c          self.sel
+0001db80: 6563 7465 645f 7669 6465 6f20 3d20 4669  ected_video = Fi
+0001db90: 6c65 5365 6c65 6374 2873 696e 676c 655f  leSelect(single_
+0001dba0: 7669 6465 6f5f 6672 6d2c 2022 5649 4445  video_frm, "VIDE
+0001dbb0: 4f20 5041 5448 3a22 2c20 7469 746c 653d  O PATH:", title=
+0001dbc0: 2253 656c 6563 7420 6120 7669 6465 6f20  "Select a video 
+0001dbd0: 6669 6c65 222c 206c 626c 7769 6474 683d  file", lblwidth=
+0001dbe0: 3235 2c20 6669 6c65 5f74 7970 6573 3d5b  25, file_types=[
+0001dbf0: 2822 5649 4445 4f20 4649 4c45 222c 204f  ("VIDEO FILE", O
+0001dc00: 7074 696f 6e73 2e41 4c4c 5f56 4944 454f  ptions.ALL_VIDEO
+0001dc10: 5f46 4f52 4d41 545f 5354 525f 4f50 5449  _FORMAT_STR_OPTI
+0001dc20: 4f4e 532e 7661 6c75 6529 5d29 0a20 2020  ONS.value)]).   
+0001dc30: 2020 2020 2073 696e 676c 655f 7669 6465       single_vide
+0001dc40: 6f5f 7275 6e20 3d20 4275 7474 6f6e 2873  o_run = Button(s
+0001dc50: 696e 676c 655f 7669 6465 6f5f 6672 6d2c  ingle_video_frm,
+0001dc60: 2074 6578 743d 2252 554e 202d 2053 494e   text="RUN - SIN
+0001dc70: 474c 4520 5649 4445 4f22 2c20 636f 6d6d  GLE VIDEO", comm
+0001dc80: 616e 643d 6c61 6d62 6461 3a20 7365 6c66  and=lambda: self
+0001dc90: 2e72 756e 286d 756c 7469 706c 653d 4661  .run(multiple=Fa
+0001dca0: 6c73 6529 290a 2020 2020 2020 2020 7369  lse)).        si
+0001dcb0: 6e67 6c65 5f76 6964 656f 5f66 726d 2e67  ngle_video_frm.g
+0001dcc0: 7269 6428 726f 773d 312c 2063 6f6c 756d  rid(row=1, colum
+0001dcd0: 6e3d 302c 2073 7469 636b 793d 4e57 290a  n=0, sticky=NW).
+0001dce0: 2020 2020 2020 2020 7365 6c66 2e73 656c          self.sel
+0001dcf0: 6563 7465 645f 7669 6465 6f2e 6772 6964  ected_video.grid
+0001dd00: 2872 6f77 3d30 2c20 636f 6c75 6d6e 3d30  (row=0, column=0
+0001dd10: 2c20 7374 6963 6b79 3d4e 5729 0a20 2020  , sticky=NW).   
+0001dd20: 2020 2020 2073 696e 676c 655f 7669 6465       single_vide
+0001dd30: 6f5f 7275 6e2e 6772 6964 2872 6f77 3d31  o_run.grid(row=1
+0001dd40: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
+0001dd50: 6b79 3d4e 5729 0a0a 2020 2020 2020 2020  ky=NW)..        
+0001dd60: 6d75 6c74 6970 6c65 5f76 6964 656f 5f66  multiple_video_f
+0001dd70: 726d 203d 2043 7265 6174 654c 6162 656c  rm = CreateLabel
+0001dd80: 4672 616d 6557 6974 6849 636f 6e28 7061  FrameWithIcon(pa
+0001dd90: 7265 6e74 3d73 656c 662e 6d61 696e 5f66  rent=self.main_f
+0001dda0: 726d 2c20 6865 6164 6572 3d22 5649 4445  rm, header="VIDE
+0001ddb0: 4f20 4449 5245 4354 4f52 5922 2c20 6963  O DIRECTORY", ic
+0001ddc0: 6f6e 5f6e 616d 653d 4b65 7973 2e44 4f43  on_name=Keys.DOC
+0001ddd0: 554d 454e 5441 5449 4f4e 2e76 616c 7565  UMENTATION.value
+0001dde0: 2c20 6963 6f6e 5f6c 696e 6b3d 4c69 6e6b  , icon_link=Link
+0001ddf0: 732e 5649 4445 4f5f 544f 4f4c 532e 7661  s.VIDEO_TOOLS.va
+0001de00: 6c75 6529 0a20 2020 2020 2020 2073 656c  lue).        sel
+0001de10: 662e 7365 6c65 6374 6564 5f76 6964 656f  f.selected_video
+0001de20: 5f64 6972 203d 2046 6f6c 6465 7253 656c  _dir = FolderSel
+0001de30: 6563 7428 6d75 6c74 6970 6c65 5f76 6964  ect(multiple_vid
+0001de40: 656f 5f66 726d 2c20 2256 4944 454f 2044  eo_frm, "VIDEO D
+0001de50: 4952 4543 544f 5259 2050 4154 483a 222c  IRECTORY PATH:",
+0001de60: 2074 6974 6c65 3d22 5365 6c65 6374 2061   title="Select a
+0001de70: 2076 6964 656f 2064 6972 6563 746f 7279   video directory
+0001de80: 222c 206c 626c 7769 6474 683d 3235 290a  ", lblwidth=25).
+0001de90: 2020 2020 2020 2020 6d75 6c74 6970 6c65          multiple
+0001dea0: 5f76 6964 656f 5f72 756e 203d 2042 7574  _video_run = But
+0001deb0: 746f 6e28 6d75 6c74 6970 6c65 5f76 6964  ton(multiple_vid
+0001dec0: 656f 5f66 726d 2c20 7465 7874 3d22 5255  eo_frm, text="RU
+0001ded0: 4e20 2d20 5649 4445 4f20 4449 5245 4354  N - VIDEO DIRECT
+0001dee0: 4f52 5922 2c20 636f 6d6d 616e 643d 6c61  ORY", command=la
+0001def0: 6d62 6461 3a20 7365 6c66 2e72 756e 286d  mbda: self.run(m
+0001df00: 756c 7469 706c 653d 5472 7565 2929 0a20  ultiple=True)). 
+0001df10: 2020 2020 2020 206d 756c 7469 706c 655f         multiple_
+0001df20: 7669 6465 6f5f 6672 6d2e 6772 6964 2872  video_frm.grid(r
+0001df30: 6f77 3d32 2c20 636f 6c75 6d6e 3d30 2c20  ow=2, column=0, 
+0001df40: 7374 6963 6b79 3d4e 5729 0a20 2020 2020  sticky=NW).     
+0001df50: 2020 2073 656c 662e 7365 6c65 6374 6564     self.selected
+0001df60: 5f76 6964 656f 5f64 6972 2e67 7269 6428  _video_dir.grid(
+0001df70: 726f 773d 302c 2063 6f6c 756d 6e3d 302c  row=0, column=0,
+0001df80: 2073 7469 636b 793d 4e57 290a 2020 2020   sticky=NW).    
+0001df90: 2020 2020 6d75 6c74 6970 6c65 5f76 6964      multiple_vid
+0001dfa0: 656f 5f72 756e 2e67 7269 6428 726f 773d  eo_run.grid(row=
+0001dfb0: 312c 2063 6f6c 756d 6e3d 302c 2073 7469  1, column=0, sti
+0001dfc0: 636b 793d 4e57 290a 2020 2020 2020 2020  cky=NW).        
+0001dfd0: 2373 656c 662e 6d61 696e 5f66 726d 2e6d  #self.main_frm.m
+0001dfe0: 6169 6e6c 6f6f 7028 290a 0a20 2020 2064  ainloop()..    d
+0001dff0: 6566 2072 756e 2873 656c 662c 206d 756c  ef run(self, mul
+0001e000: 7469 706c 653a 2062 6f6f 6c29 3a0a 2020  tiple: bool):.  
+0001e010: 2020 2020 2020 6966 206e 6f74 206d 756c        if not mul
+0001e020: 7469 706c 653a 0a20 2020 2020 2020 2020  tiple:.         
+0001e030: 2020 2076 6964 656f 5f70 6174 6820 3d20     video_path = 
+0001e040: 7365 6c66 2e73 656c 6563 7465 645f 7669  self.selected_vi
+0001e050: 6465 6f2e 6669 6c65 5f70 6174 680a 2020  deo.file_path.  
+0001e060: 2020 2020 2020 2020 2020 6368 6563 6b5f            check_
+0001e070: 6669 6c65 5f65 7869 7374 5f61 6e64 5f72  file_exist_and_r
+0001e080: 6561 6461 626c 6528 6669 6c65 5f70 6174  eadable(file_pat
+0001e090: 683d 7669 6465 6f5f 7061 7468 290a 2020  h=video_path).  
+0001e0a0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0001e0b0: 2020 2020 2020 2020 7669 6465 6f5f 7061          video_pa
+0001e0c0: 7468 203d 2073 656c 662e 7365 6c65 6374  th = self.select
+0001e0d0: 6564 5f76 6964 656f 5f64 6972 2e66 6f6c  ed_video_dir.fol
+0001e0e0: 6465 725f 7061 7468 0a20 2020 2020 2020  der_path.       
+0001e0f0: 2020 2020 2063 6865 636b 5f69 665f 6469       check_if_di
+0001e100: 725f 6578 6973 7473 2869 6e5f 6469 723d  r_exists(in_dir=
+0001e110: 7669 6465 6f5f 7061 7468 2c20 736f 7572  video_path, sour
+0001e120: 6365 3d73 656c 662e 5f5f 636c 6173 735f  ce=self.__class_
+0001e130: 5f2e 5f5f 6e61 6d65 5f5f 290a 2020 2020  _.__name__).    
+0001e140: 2020 2020 636f 6465 6320 3d20 7365 6c66      codec = self
+0001e150: 2e4d 4f56 5f43 4f44 4543 5f4c 4b5b 7365  .MOV_CODEC_LK[se
+0001e160: 6c66 2e63 6f64 6563 5f64 726f 7064 6f77  lf.codec_dropdow
+0001e170: 6e2e 6765 7443 686f 6963 6573 2829 5d0a  n.getChoices()].
+0001e180: 2020 2020 2020 2020 7175 616c 6974 7920          quality 
+0001e190: 3d20 696e 7428 7365 6c66 2e71 7561 6c69  = int(self.quali
+0001e1a0: 7479 5f64 726f 7064 6f77 6e2e 6765 7443  ty_dropdown.getC
+0001e1b0: 686f 6963 6573 2829 290a 2020 2020 2020  hoices()).      
+0001e1c0: 2020 7468 7265 6164 696e 672e 5468 7265    threading.Thre
+0001e1d0: 6164 2874 6172 6765 743d 636f 6e76 6572  ad(target=conver
+0001e1e0: 745f 746f 5f6d 6f76 2870 6174 683d 7669  t_to_mov(path=vi
+0001e1f0: 6465 6f5f 7061 7468 2c20 636f 6465 633d  deo_path, codec=
+0001e200: 636f 6465 632c 2071 7561 6c69 7479 3d71  codec, quality=q
+0001e210: 7561 6c69 7479 2929 0a0a 0a0a 636c 6173  uality))....clas
+0001e220: 7320 5375 7065 7269 6d70 6f73 6557 6174  s SuperimposeWat
+0001e230: 6572 6d61 726b 506f 7055 7028 506f 7055  ermarkPopUp(PopU
+0001e240: 704d 6978 696e 293a 0a20 2020 2064 6566  pMixin):.    def
+0001e250: 205f 5f69 6e69 745f 5f28 7365 6c66 293a   __init__(self):
+0001e260: 0a20 2020 2020 2020 2050 6f70 5570 4d69  .        PopUpMi
+0001e270: 7869 6e2e 5f5f 696e 6974 5f5f 2873 656c  xin.__init__(sel
+0001e280: 662c 2074 6974 6c65 3d22 5741 5445 524d  f, title="WATERM
+0001e290: 4152 4b20 5649 4445 4f53 2229 0a20 2020  ARK VIDEOS").   
+0001e2a0: 2020 2020 2073 656c 662e 4c4f 4341 5449       self.LOCATI
+0001e2b0: 4f4e 5320 3d20 7b27 544f 5020 4c45 4654  ONS = {'TOP LEFT
+0001e2c0: 273a 2027 746f 705f 6c65 6674 272c 2027  ': 'top_left', '
+0001e2d0: 544f 5020 5249 4748 5427 3a20 2774 6f70  TOP RIGHT': 'top
+0001e2e0: 5f72 6967 6874 272c 2027 424f 5454 4f4d  _right', 'BOTTOM
+0001e2f0: 204c 4546 5427 3a20 2762 6f74 746f 6d5f   LEFT': 'bottom_
+0001e300: 6c65 6674 272c 2027 424f 5454 4f4d 2052  left', 'BOTTOM R
+0001e310: 4947 4854 273a 2027 626f 7474 6f6d 5f72  IGHT': 'bottom_r
+0001e320: 6967 6874 272c 2027 4345 4e54 4552 273a  ight', 'CENTER':
+0001e330: 2027 6365 6e74 6572 277d 0a20 2020 2020   'center'}.     
+0001e340: 2020 2073 6574 7469 6e67 735f 6672 6d20     settings_frm 
+0001e350: 3d20 4372 6561 7465 4c61 6265 6c46 7261  = CreateLabelFra
+0001e360: 6d65 5769 7468 4963 6f6e 2870 6172 656e  meWithIcon(paren
+0001e370: 743d 7365 6c66 2e6d 6169 6e5f 6672 6d2c  t=self.main_frm,
+0001e380: 2068 6561 6465 723d 2253 4554 5449 4e47   header="SETTING
+0001e390: 5322 2c20 6963 6f6e 5f6e 616d 653d 4b65  S", icon_name=Ke
+0001e3a0: 7973 2e44 4f43 554d 454e 5441 5449 4f4e  ys.DOCUMENTATION
+0001e3b0: 2e76 616c 7565 2c20 6963 6f6e 5f6c 696e  .value, icon_lin
+0001e3c0: 6b3d 4c69 6e6b 732e 5649 4445 4f5f 544f  k=Links.VIDEO_TO
+0001e3d0: 4f4c 532e 7661 6c75 6529 0a20 2020 2020  OLS.value).     
+0001e3e0: 2020 206f 7061 6369 7469 6573 203d 205b     opacities = [
+0001e3f0: 726f 756e 6428 782c 2031 2920 666f 7220  round(x, 1) for 
+0001e400: 7820 696e 206c 6973 7428 6e70 2e61 7261  x in list(np.ara
+0001e410: 6e67 6528 302e 312c 2031 2e31 2c20 302e  nge(0.1, 1.1, 0.
+0001e420: 3129 295d 0a20 2020 2020 2020 2073 656c  1))].        sel
+0001e430: 662e 7365 6c65 6374 6564 5f69 6d67 203d  f.selected_img =
+0001e440: 2046 696c 6553 656c 6563 7428 7365 7474   FileSelect(sett
+0001e450: 696e 6773 5f66 726d 2c20 2257 4154 4552  ings_frm, "WATER
+0001e460: 4d41 524b 2049 4d41 4745 2050 4154 483a  MARK IMAGE PATH:
+0001e470: 222c 2074 6974 6c65 3d22 5365 6c65 6374  ", title="Select
+0001e480: 2061 6e20 696d 6167 6520 6669 6c65 222c   an image file",
+0001e490: 2066 696c 655f 7479 7065 733d 5b28 2256   file_types=[("V
+0001e4a0: 4944 454f 222c 204f 7074 696f 6e73 2e41  IDEO", Options.A
+0001e4b0: 4c4c 5f49 4d41 4745 5f46 4f52 4d41 545f  LL_IMAGE_FORMAT_
+0001e4c0: 4f50 5449 4f4e 532e 7661 6c75 6529 5d2c  OPTIONS.value)],
+0001e4d0: 206c 626c 7769 6474 683d 3235 290a 2020   lblwidth=25).  
+0001e4e0: 2020 2020 2020 7365 6c66 2e6c 6f63 6174        self.locat
+0001e4f0: 696f 6e5f 6472 6f70 646f 776e 203d 2044  ion_dropdown = D
+0001e500: 726f 7044 6f77 6e4d 656e 7528 7365 7474  ropDownMenu(sett
+0001e510: 696e 6773 5f66 726d 2c20 2257 4154 4552  ings_frm, "WATER
+0001e520: 4d41 524b 204c 4f43 4154 494f 4e3a 222c  MARK LOCATION:",
+0001e530: 206c 6973 7428 7365 6c66 2e4c 4f43 4154   list(self.LOCAT
+0001e540: 494f 4e53 2e6b 6579 7328 2929 2c20 6c61  IONS.keys()), la
+0001e550: 6265 6c77 6964 7468 3d32 3529 0a20 2020  belwidth=25).   
+0001e560: 2020 2020 2073 656c 662e 6f70 6163 6974       self.opacit
+0001e570: 795f 6472 6f70 646f 776e 203d 2044 726f  y_dropdown = Dro
+0001e580: 7044 6f77 6e4d 656e 7528 7365 7474 696e  pDownMenu(settin
+0001e590: 6773 5f66 726d 2c20 2257 4154 4552 4d41  gs_frm, "WATERMA
+0001e5a0: 524b 204f 5041 4349 5459 3a22 2c20 6f70  RK OPACITY:", op
+0001e5b0: 6163 6974 6965 732c 206c 6162 656c 7769  acities, labelwi
+0001e5c0: 6474 683d 3235 290a 2020 2020 2020 2020  dth=25).        
+0001e5d0: 7365 6c66 2e73 697a 655f 6472 6f70 646f  self.size_dropdo
+0001e5e0: 776e 203d 2044 726f 7044 6f77 6e4d 656e  wn = DropDownMen
+0001e5f0: 7528 7365 7474 696e 6773 5f66 726d 2c20  u(settings_frm, 
+0001e600: 2257 4154 4552 4d41 524b 2053 4341 4c45  "WATERMARK SCALE
+0001e610: 2025 3a22 2c20 6c69 7374 2872 616e 6765   %:", list(range
+0001e620: 2835 2c20 3130 302c 2035 2929 2c20 6c61  (5, 100, 5)), la
+0001e630: 6265 6c77 6964 7468 3d32 3529 0a0a 2020  belwidth=25)..  
+0001e640: 2020 2020 2020 7365 6c66 2e6c 6f63 6174        self.locat
+0001e650: 696f 6e5f 6472 6f70 646f 776e 2e73 6574  ion_dropdown.set
+0001e660: 4368 6f69 6365 7328 2754 4f50 204c 4546  Choices('TOP LEF
+0001e670: 5427 290a 2020 2020 2020 2020 7365 6c66  T').        self
+0001e680: 2e6f 7061 6369 7479 5f64 726f 7064 6f77  .opacity_dropdow
+0001e690: 6e2e 7365 7443 686f 6963 6573 2830 2e35  n.setChoices(0.5
+0001e6a0: 290a 2020 2020 2020 2020 7365 6c66 2e73  ).        self.s
+0001e6b0: 697a 655f 6472 6f70 646f 776e 2e73 6574  ize_dropdown.set
+0001e6c0: 4368 6f69 6365 7328 3529 0a0a 2020 2020  Choices(5)..    
+0001e6d0: 2020 2020 7365 7474 696e 6773 5f66 726d      settings_frm
+0001e6e0: 2e67 7269 6428 726f 773d 302c 2063 6f6c  .grid(row=0, col
+0001e6f0: 756d 6e3d 302c 2073 7469 636b 793d 4e57  umn=0, sticky=NW
+0001e700: 290a 2020 2020 2020 2020 7365 6c66 2e73  ).        self.s
+0001e710: 656c 6563 7465 645f 696d 672e 6772 6964  elected_img.grid
+0001e720: 2872 6f77 3d30 2c20 636f 6c75 6d6e 3d30  (row=0, column=0
+0001e730: 2c20 7374 6963 6b79 3d4e 5729 0a20 2020  , sticky=NW).   
+0001e740: 2020 2020 2073 656c 662e 6c6f 6361 7469       self.locati
+0001e750: 6f6e 5f64 726f 7064 6f77 6e2e 6772 6964  on_dropdown.grid
+0001e760: 2872 6f77 3d31 2c20 636f 6c75 6d6e 3d30  (row=1, column=0
+0001e770: 2c20 7374 6963 6b79 3d4e 5729 0a20 2020  , sticky=NW).   
+0001e780: 2020 2020 2073 656c 662e 6f70 6163 6974       self.opacit
+0001e790: 795f 6472 6f70 646f 776e 2e67 7269 6428  y_dropdown.grid(
+0001e7a0: 726f 773d 322c 2063 6f6c 756d 6e3d 302c  row=2, column=0,
+0001e7b0: 2073 7469 636b 793d 4e57 290a 2020 2020   sticky=NW).    
+0001e7c0: 2020 2020 7365 6c66 2e73 697a 655f 6472      self.size_dr
+0001e7d0: 6f70 646f 776e 2e67 7269 6428 726f 773d  opdown.grid(row=
+0001e7e0: 332c 2063 6f6c 756d 6e3d 302c 2073 7469  3, column=0, sti
+0001e7f0: 636b 793d 4e57 290a 0a20 2020 2020 2020  cky=NW)..       
+0001e800: 2073 696e 676c 655f 7669 6465 6f5f 6672   single_video_fr
+0001e810: 6d20 3d20 4372 6561 7465 4c61 6265 6c46  m = CreateLabelF
+0001e820: 7261 6d65 5769 7468 4963 6f6e 2870 6172  rameWithIcon(par
+0001e830: 656e 743d 7365 6c66 2e6d 6169 6e5f 6672  ent=self.main_fr
+0001e840: 6d2c 2068 6561 6465 723d 2253 494e 474c  m, header="SINGL
+0001e850: 4520 5649 4445 4f20 2d20 5355 5045 5249  E VIDEO - SUPERI
+0001e860: 4d50 4f53 4520 5741 5445 524d 4152 4b22  MPOSE WATERMARK"
+0001e870: 2c20 6963 6f6e 5f6e 616d 653d 4b65 7973  , icon_name=Keys
+0001e880: 2e44 4f43 554d 454e 5441 5449 4f4e 2e76  .DOCUMENTATION.v
+0001e890: 616c 7565 2c20 6963 6f6e 5f6c 696e 6b3d  alue, icon_link=
+0001e8a0: 4c69 6e6b 732e 5649 4445 4f5f 544f 4f4c  Links.VIDEO_TOOL
+0001e8b0: 532e 7661 6c75 6529 0a20 2020 2020 2020  S.value).       
+0001e8c0: 2073 656c 662e 7365 6c65 6374 6564 5f76   self.selected_v
+0001e8d0: 6964 656f 203d 2046 696c 6553 656c 6563  ideo = FileSelec
+0001e8e0: 7428 7369 6e67 6c65 5f76 6964 656f 5f66  t(single_video_f
+0001e8f0: 726d 2c20 2256 4944 454f 2050 4154 483a  rm, "VIDEO PATH:
+0001e900: 222c 2074 6974 6c65 3d22 5365 6c65 6374  ", title="Select
+0001e910: 2061 2076 6964 656f 2066 696c 6522 2c20   a video file", 
+0001e920: 6c62 6c77 6964 7468 3d32 352c 2066 696c  lblwidth=25, fil
+0001e930: 655f 7479 7065 733d 5b28 2256 4944 454f  e_types=[("VIDEO
+0001e940: 2046 494c 4522 2c20 4f70 7469 6f6e 732e   FILE", Options.
+0001e950: 414c 4c5f 5649 4445 4f5f 464f 524d 4154  ALL_VIDEO_FORMAT
+0001e960: 5f53 5452 5f4f 5054 494f 4e53 2e76 616c  _STR_OPTIONS.val
+0001e970: 7565 295d 290a 2020 2020 2020 2020 7369  ue)]).        si
+0001e980: 6e67 6c65 5f76 6964 656f 5f72 756e 203d  ngle_video_run =
+0001e990: 2042 7574 746f 6e28 7369 6e67 6c65 5f76   Button(single_v
+0001e9a0: 6964 656f 5f66 726d 2c20 7465 7874 3d22  ideo_frm, text="
+0001e9b0: 5255 4e20 2d20 5349 4e47 4c45 2056 4944  RUN - SINGLE VID
+0001e9c0: 454f 222c 2063 6f6d 6d61 6e64 3d6c 616d  EO", command=lam
+0001e9d0: 6264 613a 2073 656c 662e 7275 6e28 6d75  bda: self.run(mu
+0001e9e0: 6c74 6970 6c65 3d46 616c 7365 2929 0a0a  ltiple=False))..
+0001e9f0: 2020 2020 2020 2020 7369 6e67 6c65 5f76          single_v
+0001ea00: 6964 656f 5f66 726d 2e67 7269 6428 726f  ideo_frm.grid(ro
+0001ea10: 773d 312c 2063 6f6c 756d 6e3d 302c 2073  w=1, column=0, s
+0001ea20: 7469 636b 793d 224e 5722 290a 2020 2020  ticky="NW").    
+0001ea30: 2020 2020 7365 6c66 2e73 656c 6563 7465      self.selecte
+0001ea40: 645f 7669 6465 6f2e 6772 6964 2872 6f77  d_video.grid(row
 0001ea50: 3d30 2c20 636f 6c75 6d6e 3d30 2c20 7374  =0, column=0, st
 0001ea60: 6963 6b79 3d22 4e57 2229 0a20 2020 2020  icky="NW").     
-0001ea70: 2020 206d 756c 7469 706c 655f 7669 6465     multiple_vide
-0001ea80: 6f73 5f72 756e 2e67 7269 6428 726f 773d  os_run.grid(row=
-0001ea90: 312c 2063 6f6c 756d 6e3d 302c 2073 7469  1, column=0, sti
-0001eaa0: 636b 793d 224e 5722 290a 2020 2020 2020  cky="NW").      
-0001eab0: 2020 2373 656c 662e 6d61 696e 5f66 726d    #self.main_frm
-0001eac0: 2e6d 6169 6e6c 6f6f 7028 290a 0a20 2020  .mainloop()..   
-0001ead0: 2064 6566 2072 756e 2873 656c 662c 206d   def run(self, m
-0001eae0: 756c 7469 706c 653a 2062 6f6f 6c29 3a0a  ultiple: bool):.
-0001eaf0: 2020 2020 2020 2020 696d 675f 7061 7468          img_path
-0001eb00: 203d 2073 656c 662e 7365 6c65 6374 6564   = self.selected
-0001eb10: 5f69 6d67 2e66 696c 655f 7061 7468 0a20  _img.file_path. 
-0001eb20: 2020 2020 2020 206c 6f63 203d 2073 656c         loc = sel
-0001eb30: 662e 6c6f 6361 7469 6f6e 5f64 726f 7064  f.location_dropd
-0001eb40: 6f77 6e2e 6765 7443 686f 6963 6573 2829  own.getChoices()
-0001eb50: 0a20 2020 2020 2020 206c 6f63 203d 2073  .        loc = s
-0001eb60: 656c 662e 4c4f 4341 5449 4f4e 535b 6c6f  elf.LOCATIONS[lo
-0001eb70: 635d 0a20 2020 2020 2020 206f 7061 6369  c].        opaci
-0001eb80: 7479 203d 2066 6c6f 6174 2873 656c 662e  ty = float(self.
-0001eb90: 6f70 6163 6974 795f 6472 6f70 646f 776e  opacity_dropdown
-0001eba0: 2e67 6574 4368 6f69 6365 7328 2929 0a20  .getChoices()). 
-0001ebb0: 2020 2020 2020 2073 697a 6520 3d20 666c         size = fl
-0001ebc0: 6f61 7428 696e 7428 7365 6c66 2e73 697a  oat(int(self.siz
-0001ebd0: 655f 6472 6f70 646f 776e 2e67 6574 4368  e_dropdown.getCh
-0001ebe0: 6f69 6365 7328 2929 202f 2031 3030 290a  oices()) / 100).
-0001ebf0: 2020 2020 2020 2020 6966 2073 697a 6520          if size 
-0001ec00: 3d3d 2031 2e30 3a20 7369 7a65 203d 2073  == 1.0: size = s
-0001ec10: 697a 6520 2d20 302e 3030 310a 2020 2020  ize - 0.001.    
-0001ec20: 2020 2020 6368 6563 6b5f 6669 6c65 5f65      check_file_e
-0001ec30: 7869 7374 5f61 6e64 5f72 6561 6461 626c  xist_and_readabl
-0001ec40: 6528 6669 6c65 5f70 6174 683d 696d 675f  e(file_path=img_
-0001ec50: 7061 7468 290a 2020 2020 2020 2020 6966  path).        if
-0001ec60: 206e 6f74 206d 756c 7469 706c 653a 0a20   not multiple:. 
-0001ec70: 2020 2020 2020 2020 2020 2064 6174 615f             data_
-0001ec80: 7061 7468 203d 2073 656c 662e 7365 6c65  path = self.sele
-0001ec90: 6374 6564 5f76 6964 656f 2e66 696c 655f  cted_video.file_
-0001eca0: 7061 7468 0a20 2020 2020 2020 2020 2020  path.           
-0001ecb0: 2063 6865 636b 5f66 696c 655f 6578 6973   check_file_exis
-0001ecc0: 745f 616e 645f 7265 6164 6162 6c65 2866  t_and_readable(f
-0001ecd0: 696c 655f 7061 7468 3d64 6174 615f 7061  ile_path=data_pa
-0001ece0: 7468 290a 2020 2020 2020 2020 656c 7365  th).        else
-0001ecf0: 3a0a 2020 2020 2020 2020 2020 2020 6461  :.            da
-0001ed00: 7461 5f70 6174 6820 3d20 7365 6c66 2e73  ta_path = self.s
-0001ed10: 656c 6563 7465 645f 7669 6465 6f5f 6469  elected_video_di
-0001ed20: 722e 666f 6c64 6572 5f70 6174 680a 2020  r.folder_path.  
-0001ed30: 2020 2020 2020 2020 2020 6368 6563 6b5f            check_
-0001ed40: 6966 5f64 6972 5f65 7869 7374 7328 696e  if_dir_exists(in
-0001ed50: 5f64 6972 3d64 6174 615f 7061 7468 290a  _dir=data_path).
-0001ed60: 0a20 2020 2020 2020 2074 6872 6561 6469  .        threadi
-0001ed70: 6e67 2e54 6872 6561 6428 7461 7267 6574  ng.Thread(target
-0001ed80: 3d77 6174 6572 6d61 726b 5f76 6964 656f  =watermark_video
-0001ed90: 2876 6964 656f 5f70 6174 683d 6461 7461  (video_path=data
-0001eda0: 5f70 6174 682c 0a20 2020 2020 2020 2020  _path,.         
-0001edb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001edc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001edd0: 2020 2020 2020 2077 6174 6572 6d61 726b         watermark
-0001ede0: 5f70 6174 683d 696d 675f 7061 7468 2c20  _path=img_path, 
-0001edf0: 706f 7369 7469 6f6e 3d6c 6f63 2c0a 2020  position=loc,.  
-0001ee00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ee10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ee20: 2020 2020 2020 2020 2020 2020 2020 6f70                op
-0001ee30: 6163 6974 793d 6f70 6163 6974 792c 0a20  acity=opacity,. 
-0001ee40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ee50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ee60: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0001ee70: 6361 6c65 3d73 697a 6529 292e 7374 6172  cale=size)).star
-0001ee80: 7428 290a 2353 7570 6572 696d 706f 7365  t().#Superimpose
-0001ee90: 5761 7465 726d 6172 6b50 6f70 5570 2829  WatermarkPopUp()
-0001eea0: 0a0a 0a63 6c61 7373 2053 7570 6572 696d  ...class Superim
-0001eeb0: 706f 7365 5469 6d65 7250 6f70 5570 2850  poseTimerPopUp(P
-0001eec0: 6f70 5570 4d69 7869 6e29 3a0a 2020 2020  opUpMixin):.    
-0001eed0: 6465 6620 5f5f 696e 6974 5f5f 2873 656c  def __init__(sel
-0001eee0: 6629 3a0a 2020 2020 2020 2020 506f 7055  f):.        PopU
-0001eef0: 704d 6978 696e 2e5f 5f69 6e69 745f 5f28  pMixin.__init__(
-0001ef00: 7365 6c66 2c20 7469 746c 653d 2253 5550  self, title="SUP
-0001ef10: 4552 2d49 4d50 4f53 4520 5449 4d45 204f  ER-IMPOSE TIME O
-0001ef20: 4e20 5649 4445 4f53 2229 0a20 2020 2020  N VIDEOS").     
-0001ef30: 2020 2073 656c 662e 4c4f 4341 5449 4f4e     self.LOCATION
-0001ef40: 5320 3d20 7b27 544f 5020 4c45 4654 273a  S = {'TOP LEFT':
-0001ef50: 2027 746f 705f 6c65 6674 272c 2027 544f   'top_left', 'TO
-0001ef60: 5020 5249 4748 5427 3a20 2774 6f70 5f72  P RIGHT': 'top_r
-0001ef70: 6967 6874 272c 2027 544f 5020 4d49 4444  ight', 'TOP MIDD
-0001ef80: 4c45 273a 2027 746f 705f 6d69 6464 6c65  LE': 'top_middle
-0001ef90: 272c 2027 424f 5454 4f4d 204c 4546 5427  ', 'BOTTOM LEFT'
-0001efa0: 3a20 2762 6f74 746f 6d5f 6c65 6674 272c  : 'bottom_left',
-0001efb0: 2027 424f 5454 4f4d 2052 4947 4854 273a   'BOTTOM RIGHT':
-0001efc0: 2027 626f 7474 6f6d 5f72 6967 6874 272c   'bottom_right',
-0001efd0: 2027 424f 5454 4f4d 204d 4944 444c 4527   'BOTTOM MIDDLE'
-0001efe0: 3a20 2762 6f74 746f 6d5f 6d69 6464 6c65  : 'bottom_middle
-0001eff0: 277d 0a20 2020 2020 2020 2073 6574 7469  '}.        setti
-0001f000: 6e67 735f 6672 6d20 3d20 4372 6561 7465  ngs_frm = Create
-0001f010: 4c61 6265 6c46 7261 6d65 5769 7468 4963  LabelFrameWithIc
-0001f020: 6f6e 2870 6172 656e 743d 7365 6c66 2e6d  on(parent=self.m
-0001f030: 6169 6e5f 6672 6d2c 2068 6561 6465 723d  ain_frm, header=
-0001f040: 2253 4554 5449 4e47 5322 2c20 6963 6f6e  "SETTINGS", icon
-0001f050: 5f6e 616d 653d 4b65 7973 2e44 4f43 554d  _name=Keys.DOCUM
-0001f060: 454e 5441 5449 4f4e 2e76 616c 7565 2c20  ENTATION.value, 
-0001f070: 6963 6f6e 5f6c 696e 6b3d 4c69 6e6b 732e  icon_link=Links.
-0001f080: 5649 4445 4f5f 544f 4f4c 532e 7661 6c75  VIDEO_TOOLS.valu
-0001f090: 6529 0a20 2020 2020 2020 2073 656c 662e  e).        self.
-0001f0a0: 636f 6c6f 725f 6469 6374 203d 2067 6574  color_dict = get
-0001f0b0: 5f63 6f6c 6f72 5f64 6963 7428 290a 2020  _color_dict().  
-0001f0c0: 2020 2020 2020 7365 6c66 2e66 6f6e 745f        self.font_
-0001f0d0: 6469 6374 203d 2067 6574 5f66 6f6e 7473  dict = get_fonts
-0001f0e0: 2829 0a20 2020 2020 2020 2073 656c 662e  ().        self.
-0001f0f0: 6c6f 6361 7469 6f6e 5f64 726f 7064 6f77  location_dropdow
-0001f100: 6e20 3d20 4472 6f70 446f 776e 4d65 6e75  n = DropDownMenu
-0001f110: 2873 6574 7469 6e67 735f 6672 6d2c 2022  (settings_frm, "
-0001f120: 5449 4d45 5220 4c4f 4341 5449 4f4e 3a22  TIMER LOCATION:"
-0001f130: 2c20 6c69 7374 2873 656c 662e 4c4f 4341  , list(self.LOCA
-0001f140: 5449 4f4e 532e 6b65 7973 2829 292c 206c  TIONS.keys()), l
-0001f150: 6162 656c 7769 6474 683d 3235 290a 2020  abelwidth=25).  
-0001f160: 2020 2020 2020 7365 6c66 2e66 6f6e 745f        self.font_
-0001f170: 6472 6f70 646f 776e 203d 2044 726f 7044  dropdown = DropD
-0001f180: 6f77 6e4d 656e 7528 7365 7474 696e 6773  ownMenu(settings
-0001f190: 5f66 726d 2c20 2254 494d 4552 2046 4f4e  _frm, "TIMER FON
-0001f1a0: 543a 222c 206c 6973 7428 7365 6c66 2e66  T:", list(self.f
-0001f1b0: 6f6e 745f 6469 6374 2e6b 6579 7328 2929  ont_dict.keys())
-0001f1c0: 2c20 6c61 6265 6c77 6964 7468 3d32 3529  , labelwidth=25)
-0001f1d0: 0a20 2020 2020 2020 2073 656c 662e 666f  .        self.fo
-0001f1e0: 6e74 5f73 697a 655f 6472 6f70 646f 776e  nt_size_dropdown
-0001f1f0: 203d 2044 726f 7044 6f77 6e4d 656e 7528   = DropDownMenu(
-0001f200: 7365 7474 696e 6773 5f66 726d 2c20 2246  settings_frm, "F
-0001f210: 4f4e 5420 5349 5a45 3a22 2c20 6c69 7374  ONT SIZE:", list
-0001f220: 2872 616e 6765 2832 302c 2031 3030 2c20  (range(20, 100, 
-0001f230: 3529 292c 206c 6162 656c 7769 6474 683d  5)), labelwidth=
-0001f240: 3235 290a 2020 2020 2020 2020 7365 6c66  25).        self
-0001f250: 2e66 6f6e 745f 636f 6c6f 725f 6472 6f70  .font_color_drop
-0001f260: 646f 776e 203d 2044 726f 7044 6f77 6e4d  down = DropDownM
-0001f270: 656e 7528 7365 7474 696e 6773 5f66 726d  enu(settings_frm
-0001f280: 2c20 2246 4f4e 5420 434f 4c4f 523a 222c  , "FONT COLOR:",
-0001f290: 206c 6973 7428 7365 6c66 2e63 6f6c 6f72   list(self.color
-0001f2a0: 5f64 6963 742e 6b65 7973 2829 292c 206c  _dict.keys()), l
-0001f2b0: 6162 656c 7769 6474 683d 3235 290a 2020  abelwidth=25).  
-0001f2c0: 2020 2020 2020 7365 6c66 2e66 6f6e 745f        self.font_
-0001f2d0: 626f 7264 6572 5f64 726f 7064 6f77 6e20  border_dropdown 
-0001f2e0: 3d20 4472 6f70 446f 776e 4d65 6e75 2873  = DropDownMenu(s
-0001f2f0: 6574 7469 6e67 735f 6672 6d2c 2022 464f  ettings_frm, "FO
-0001f300: 4e54 2042 4f52 4445 5220 434f 4c4f 523a  NT BORDER COLOR:
-0001f310: 222c 206c 6973 7428 7365 6c66 2e63 6f6c  ", list(self.col
-0001f320: 6f72 5f64 6963 742e 6b65 7973 2829 292c  or_dict.keys()),
-0001f330: 206c 6162 656c 7769 6474 683d 3235 290a   labelwidth=25).
-0001f340: 2020 2020 2020 2020 7365 6c66 2e66 6f6e          self.fon
-0001f350: 745f 626f 7264 6572 5f77 6964 7468 5f64  t_border_width_d
-0001f360: 726f 7064 6f77 6e20 3d20 4472 6f70 446f  ropdown = DropDo
-0001f370: 776e 4d65 6e75 2873 6574 7469 6e67 735f  wnMenu(settings_
-0001f380: 6672 6d2c 2022 464f 4e54 2042 4f52 4445  frm, "FONT BORDE
-0001f390: 5220 5749 4454 483a 222c 206c 6973 7428  R WIDTH:", list(
-0001f3a0: 7261 6e67 6528 322c 2035 322c 2032 2929  range(2, 52, 2))
-0001f3b0: 2c20 6c61 6265 6c77 6964 7468 3d32 3529  , labelwidth=25)
-0001f3c0: 0a20 2020 2020 2020 2073 656c 662e 7469  .        self.ti
-0001f3d0: 6d65 725f 666f 726d 6174 5f64 726f 7064  mer_format_dropd
-0001f3e0: 6f77 6e20 3d20 4472 6f70 446f 776e 4d65  own = DropDownMe
-0001f3f0: 6e75 2873 6574 7469 6e67 735f 6672 6d2c  nu(settings_frm,
-0001f400: 2022 5449 4d45 2046 4f52 4d41 543a 222c   "TIME FORMAT:",
-0001f410: 205b 274d 4d3a 5353 272c 2027 4848 3a4d   ['MM:SS', 'HH:M
-0001f420: 4d3a 5353 272c 2027 5353 2e4d 4d4d 4d4d  M:SS', 'SS.MMMMM
-0001f430: 4d27 2c20 2748 483a 4d4d 3a53 532e 4d4d  M', 'HH:MM:SS.MM
-0001f440: 4d4d 275d 2c20 6c61 6265 6c77 6964 7468  MM'], labelwidth
-0001f450: 3d32 3529 0a0a 2020 2020 2020 2020 7365  =25)..        se
-0001f460: 6c66 2e6c 6f63 6174 696f 6e5f 6472 6f70  lf.location_drop
-0001f470: 646f 776e 2e73 6574 4368 6f69 6365 7328  down.setChoices(
-0001f480: 2754 4f50 204c 4546 5427 290a 2020 2020  'TOP LEFT').    
-0001f490: 2020 2020 7365 6c66 2e66 6f6e 745f 7369      self.font_si
-0001f4a0: 7a65 5f64 726f 7064 6f77 6e2e 7365 7443  ze_dropdown.setC
-0001f4b0: 686f 6963 6573 2832 3029 0a20 2020 2020  hoices(20).     
-0001f4c0: 2020 2073 656c 662e 666f 6e74 5f64 726f     self.font_dro
-0001f4d0: 7064 6f77 6e2e 7365 7443 686f 6963 6573  pdown.setChoices
-0001f4e0: 2827 4172 6961 6c27 290a 2020 2020 2020  ('Arial').      
-0001f4f0: 2020 7365 6c66 2e66 6f6e 745f 636f 6c6f    self.font_colo
-0001f500: 725f 6472 6f70 646f 776e 2e73 6574 4368  r_dropdown.setCh
-0001f510: 6f69 6365 7328 2757 6869 7465 2729 0a20  oices('White'). 
-0001f520: 2020 2020 2020 2073 656c 662e 666f 6e74         self.font
-0001f530: 5f62 6f72 6465 725f 6472 6f70 646f 776e  _border_dropdown
-0001f540: 2e73 6574 4368 6f69 6365 7328 2742 6c61  .setChoices('Bla
-0001f550: 636b 2729 0a20 2020 2020 2020 2073 656c  ck').        sel
-0001f560: 662e 666f 6e74 5f62 6f72 6465 725f 7769  f.font_border_wi
-0001f570: 6474 685f 6472 6f70 646f 776e 2e73 6574  dth_dropdown.set
-0001f580: 4368 6f69 6365 7328 3229 0a20 2020 2020  Choices(2).     
-0001f590: 2020 2073 656c 662e 7469 6d65 725f 666f     self.timer_fo
-0001f5a0: 726d 6174 5f64 726f 7064 6f77 6e2e 7365  rmat_dropdown.se
-0001f5b0: 7443 686f 6963 6573 2827 4848 3a4d 4d3a  tChoices('HH:MM:
-0001f5c0: 5353 2e4d 4d4d 4d27 290a 0a20 2020 2020  SS.MMMM')..     
-0001f5d0: 2020 2073 6574 7469 6e67 735f 6672 6d2e     settings_frm.
-0001f5e0: 6772 6964 2872 6f77 3d30 2c20 636f 6c75  grid(row=0, colu
-0001f5f0: 6d6e 3d30 2c20 7374 6963 6b79 3d4e 5729  mn=0, sticky=NW)
-0001f600: 0a20 2020 2020 2020 2073 656c 662e 6c6f  .        self.lo
-0001f610: 6361 7469 6f6e 5f64 726f 7064 6f77 6e2e  cation_dropdown.
-0001f620: 6772 6964 2872 6f77 3d30 2c20 636f 6c75  grid(row=0, colu
-0001f630: 6d6e 3d30 2c20 7374 6963 6b79 3d4e 5729  mn=0, sticky=NW)
-0001f640: 0a20 2020 2020 2020 2073 656c 662e 666f  .        self.fo
-0001f650: 6e74 5f64 726f 7064 6f77 6e2e 6772 6964  nt_dropdown.grid
-0001f660: 2872 6f77 3d31 2c20 636f 6c75 6d6e 3d30  (row=1, column=0
-0001f670: 2c20 7374 6963 6b79 3d4e 5729 0a20 2020  , sticky=NW).   
-0001f680: 2020 2020 2073 656c 662e 666f 6e74 5f73       self.font_s
-0001f690: 697a 655f 6472 6f70 646f 776e 2e67 7269  ize_dropdown.gri
-0001f6a0: 6428 726f 773d 322c 2063 6f6c 756d 6e3d  d(row=2, column=
-0001f6b0: 302c 2073 7469 636b 793d 4e57 290a 2020  0, sticky=NW).  
-0001f6c0: 2020 2020 2020 7365 6c66 2e66 6f6e 745f        self.font_
-0001f6d0: 636f 6c6f 725f 6472 6f70 646f 776e 2e67  color_dropdown.g
-0001f6e0: 7269 6428 726f 773d 332c 2063 6f6c 756d  rid(row=3, colum
-0001f6f0: 6e3d 302c 2073 7469 636b 793d 4e57 290a  n=0, sticky=NW).
-0001f700: 2020 2020 2020 2020 7365 6c66 2e66 6f6e          self.fon
-0001f710: 745f 626f 7264 6572 5f64 726f 7064 6f77  t_border_dropdow
-0001f720: 6e2e 6772 6964 2872 6f77 3d34 2c20 636f  n.grid(row=4, co
-0001f730: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d4e  lumn=0, sticky=N
-0001f740: 5729 0a20 2020 2020 2020 2073 656c 662e  W).        self.
-0001f750: 666f 6e74 5f62 6f72 6465 725f 7769 6474  font_border_widt
-0001f760: 685f 6472 6f70 646f 776e 2e67 7269 6428  h_dropdown.grid(
-0001f770: 726f 773d 352c 2063 6f6c 756d 6e3d 302c  row=5, column=0,
-0001f780: 2073 7469 636b 793d 4e57 290a 2020 2020   sticky=NW).    
-0001f790: 2020 2020 7365 6c66 2e74 696d 6572 5f66      self.timer_f
-0001f7a0: 6f72 6d61 745f 6472 6f70 646f 776e 2e67  ormat_dropdown.g
-0001f7b0: 7269 6428 726f 773d 362c 2063 6f6c 756d  rid(row=6, colum
-0001f7c0: 6e3d 302c 2073 7469 636b 793d 4e57 290a  n=0, sticky=NW).
-0001f7d0: 0a20 2020 2020 2020 2073 696e 676c 655f  .        single_
-0001f7e0: 7669 6465 6f5f 6672 6d20 3d20 4372 6561  video_frm = Crea
-0001f7f0: 7465 4c61 6265 6c46 7261 6d65 5769 7468  teLabelFrameWith
-0001f800: 4963 6f6e 2870 6172 656e 743d 7365 6c66  Icon(parent=self
-0001f810: 2e6d 6169 6e5f 6672 6d2c 2068 6561 6465  .main_frm, heade
-0001f820: 723d 2253 494e 474c 4520 5649 4445 4f20  r="SINGLE VIDEO 
-0001f830: 2d20 5355 5045 5249 4d50 4f53 4520 5449  - SUPERIMPOSE TI
-0001f840: 4d45 5222 2c20 6963 6f6e 5f6e 616d 653d  MER", icon_name=
-0001f850: 4b65 7973 2e44 4f43 554d 454e 5441 5449  Keys.DOCUMENTATI
-0001f860: 4f4e 2e76 616c 7565 2c20 6963 6f6e 5f6c  ON.value, icon_l
-0001f870: 696e 6b3d 4c69 6e6b 732e 5649 4445 4f5f  ink=Links.VIDEO_
-0001f880: 544f 4f4c 532e 7661 6c75 6529 0a20 2020  TOOLS.value).   
-0001f890: 2020 2020 2073 656c 662e 7365 6c65 6374       self.select
-0001f8a0: 6564 5f76 6964 656f 203d 2046 696c 6553  ed_video = FileS
-0001f8b0: 656c 6563 7428 7369 6e67 6c65 5f76 6964  elect(single_vid
-0001f8c0: 656f 5f66 726d 2c20 2256 4944 454f 2050  eo_frm, "VIDEO P
-0001f8d0: 4154 483a 222c 2074 6974 6c65 3d22 5365  ATH:", title="Se
-0001f8e0: 6c65 6374 2061 2076 6964 656f 2066 696c  lect a video fil
-0001f8f0: 6522 2c20 6c62 6c77 6964 7468 3d32 352c  e", lblwidth=25,
-0001f900: 2066 696c 655f 7479 7065 733d 5b28 2256   file_types=[("V
-0001f910: 4944 454f 2046 494c 4522 2c20 4f70 7469  IDEO FILE", Opti
-0001f920: 6f6e 732e 414c 4c5f 5649 4445 4f5f 464f  ons.ALL_VIDEO_FO
-0001f930: 524d 4154 5f53 5452 5f4f 5054 494f 4e53  RMAT_STR_OPTIONS
-0001f940: 2e76 616c 7565 295d 290a 2020 2020 2020  .value)]).      
-0001f950: 2020 7369 6e67 6c65 5f76 6964 656f 5f72    single_video_r
-0001f960: 756e 203d 2042 7574 746f 6e28 7369 6e67  un = Button(sing
-0001f970: 6c65 5f76 6964 656f 5f66 726d 2c20 7465  le_video_frm, te
-0001f980: 7874 3d22 5255 4e20 2d20 5349 4e47 4c45  xt="RUN - SINGLE
-0001f990: 2056 4944 454f 222c 2063 6f6d 6d61 6e64   VIDEO", command
-0001f9a0: 3d6c 616d 6264 613a 2073 656c 662e 7275  =lambda: self.ru
-0001f9b0: 6e28 6d75 6c74 6970 6c65 3d46 616c 7365  n(multiple=False
-0001f9c0: 2929 0a0a 2020 2020 2020 2020 7369 6e67  ))..        sing
-0001f9d0: 6c65 5f76 6964 656f 5f66 726d 2e67 7269  le_video_frm.gri
-0001f9e0: 6428 726f 773d 312c 2063 6f6c 756d 6e3d  d(row=1, column=
-0001f9f0: 302c 2073 7469 636b 793d 224e 5722 290a  0, sticky="NW").
-0001fa00: 2020 2020 2020 2020 7365 6c66 2e73 656c          self.sel
-0001fa10: 6563 7465 645f 7669 6465 6f2e 6772 6964  ected_video.grid
-0001fa20: 2872 6f77 3d30 2c20 636f 6c75 6d6e 3d30  (row=0, column=0
-0001fa30: 2c20 7374 6963 6b79 3d22 4e57 2229 0a20  , sticky="NW"). 
-0001fa40: 2020 2020 2020 2073 696e 676c 655f 7669         single_vi
-0001fa50: 6465 6f5f 7275 6e2e 6772 6964 2872 6f77  deo_run.grid(row
-0001fa60: 3d31 2c20 636f 6c75 6d6e 3d30 2c20 7374  =1, column=0, st
-0001fa70: 6963 6b79 3d22 4e57 2229 0a0a 2020 2020  icky="NW")..    
-0001fa80: 2020 2020 6d75 6c74 6970 6c65 5f76 6964      multiple_vid
-0001fa90: 656f 735f 6672 6d20 3d20 4372 6561 7465  eos_frm = Create
-0001faa0: 4c61 6265 6c46 7261 6d65 5769 7468 4963  LabelFrameWithIc
-0001fab0: 6f6e 2870 6172 656e 743d 7365 6c66 2e6d  on(parent=self.m
-0001fac0: 6169 6e5f 6672 6d2c 2068 6561 6465 723d  ain_frm, header=
-0001fad0: 224d 554c 5449 504c 4520 5649 4445 4f53  "MULTIPLE VIDEOS
-0001fae0: 202d 2053 5550 4552 494d 504f 5345 2054   - SUPERIMPOSE T
-0001faf0: 494d 4552 222c 2069 636f 6e5f 6e61 6d65  IMER", icon_name
-0001fb00: 3d4b 6579 732e 444f 4355 4d45 4e54 4154  =Keys.DOCUMENTAT
-0001fb10: 494f 4e2e 7661 6c75 652c 2069 636f 6e5f  ION.value, icon_
-0001fb20: 6c69 6e6b 3d4c 696e 6b73 2e56 4944 454f  link=Links.VIDEO
-0001fb30: 5f54 4f4f 4c53 2e76 616c 7565 290a 2020  _TOOLS.value).  
-0001fb40: 2020 2020 2020 7365 6c66 2e73 656c 6563        self.selec
-0001fb50: 7465 645f 7669 6465 6f5f 6469 7220 3d20  ted_video_dir = 
-0001fb60: 466f 6c64 6572 5365 6c65 6374 286d 756c  FolderSelect(mul
-0001fb70: 7469 706c 655f 7669 6465 6f73 5f66 726d  tiple_videos_frm
-0001fb80: 2c20 2256 4944 454f 2044 4952 4543 544f  , "VIDEO DIRECTO
-0001fb90: 5259 2050 4154 483a 222c 2074 6974 6c65  RY PATH:", title
-0001fba0: 3d22 5365 6c65 6374 2061 2076 6964 656f  ="Select a video
-0001fbb0: 2064 6972 6563 746f 7279 222c 206c 626c   directory", lbl
-0001fbc0: 7769 6474 683d 3235 290a 2020 2020 2020  width=25).      
-0001fbd0: 2020 6d75 6c74 6970 6c65 5f76 6964 656f    multiple_video
-0001fbe0: 735f 7275 6e20 3d20 4275 7474 6f6e 286d  s_run = Button(m
-0001fbf0: 756c 7469 706c 655f 7669 6465 6f73 5f66  ultiple_videos_f
-0001fc00: 726d 2c20 7465 7874 3d22 5255 4e20 2d20  rm, text="RUN - 
-0001fc10: 4d55 4c54 4950 4c45 2056 4944 454f 5322  MULTIPLE VIDEOS"
-0001fc20: 2c20 636f 6d6d 616e 643d 6c61 6d62 6461  , command=lambda
-0001fc30: 3a20 7365 6c66 2e72 756e 286d 756c 7469  : self.run(multi
-0001fc40: 706c 653d 5472 7565 2929 0a0a 2020 2020  ple=True))..    
-0001fc50: 2020 2020 6d75 6c74 6970 6c65 5f76 6964      multiple_vid
-0001fc60: 656f 735f 6672 6d2e 6772 6964 2872 6f77  eos_frm.grid(row
-0001fc70: 3d32 2c20 636f 6c75 6d6e 3d30 2c20 7374  =2, column=0, st
-0001fc80: 6963 6b79 3d22 4e57 2229 0a20 2020 2020  icky="NW").     
-0001fc90: 2020 2073 656c 662e 7365 6c65 6374 6564     self.selected
-0001fca0: 5f76 6964 656f 5f64 6972 2e67 7269 6428  _video_dir.grid(
-0001fcb0: 726f 773d 302c 2063 6f6c 756d 6e3d 302c  row=0, column=0,
-0001fcc0: 2073 7469 636b 793d 224e 5722 290a 2020   sticky="NW").  
-0001fcd0: 2020 2020 2020 6d75 6c74 6970 6c65 5f76        multiple_v
-0001fce0: 6964 656f 735f 7275 6e2e 6772 6964 2872  ideos_run.grid(r
-0001fcf0: 6f77 3d31 2c20 636f 6c75 6d6e 3d30 2c20  ow=1, column=0, 
-0001fd00: 7374 6963 6b79 3d22 4e57 2229 0a20 2020  sticky="NW").   
-0001fd10: 2020 2020 2023 7365 6c66 2e6d 6169 6e5f       #self.main_
-0001fd20: 6672 6d2e 6d61 696e 6c6f 6f70 2829 0a0a  frm.mainloop()..
-0001fd30: 2020 2020 6465 6620 7275 6e28 7365 6c66      def run(self
-0001fd40: 2c20 6d75 6c74 6970 6c65 3a20 626f 6f6c  , multiple: bool
-0001fd50: 293a 0a20 2020 2020 2020 206c 6f63 203d  ):.        loc =
-0001fd60: 2073 656c 662e 6c6f 6361 7469 6f6e 5f64   self.location_d
-0001fd70: 726f 7064 6f77 6e2e 6765 7443 686f 6963  ropdown.getChoic
-0001fd80: 6573 2829 0a20 2020 2020 2020 206c 6f63  es().        loc
-0001fd90: 203d 2073 656c 662e 4c4f 4341 5449 4f4e   = self.LOCATION
-0001fda0: 535b 6c6f 635d 0a20 2020 2020 2020 2066  S[loc].        f
-0001fdb0: 6f6e 745f 7369 7a65 203d 2069 6e74 2873  ont_size = int(s
-0001fdc0: 656c 662e 666f 6e74 5f73 697a 655f 6472  elf.font_size_dr
-0001fdd0: 6f70 646f 776e 2e67 6574 4368 6f69 6365  opdown.getChoice
-0001fde0: 7328 2929 0a20 2020 2020 2020 2066 6f6e  s()).        fon
-0001fdf0: 7420 3d20 7365 6c66 2e66 6f6e 745f 6472  t = self.font_dr
-0001fe00: 6f70 646f 776e 2e67 6574 4368 6f69 6365  opdown.getChoice
-0001fe10: 7328 290a 2020 2020 2020 2020 666f 6e74  s().        font
-0001fe20: 5f63 6c72 203d 2073 656c 662e 666f 6e74  _clr = self.font
-0001fe30: 5f63 6f6c 6f72 5f64 726f 7064 6f77 6e2e  _color_dropdown.
-0001fe40: 6765 7443 686f 6963 6573 2829 0a20 2020  getChoices().   
-0001fe50: 2020 2020 2066 6f6e 745f 626f 7264 6572       font_border
-0001fe60: 5f63 6c72 203d 2073 656c 662e 666f 6e74  _clr = self.font
-0001fe70: 5f62 6f72 6465 725f 6472 6f70 646f 776e  _border_dropdown
-0001fe80: 2e67 6574 4368 6f69 6365 7328 290a 2020  .getChoices().  
-0001fe90: 2020 2020 2020 666f 6e74 5f62 6f72 6465        font_borde
-0001fea0: 725f 7769 6474 6820 3d20 696e 7428 7365  r_width = int(se
-0001feb0: 6c66 2e66 6f6e 745f 626f 7264 6572 5f77  lf.font_border_w
-0001fec0: 6964 7468 5f64 726f 7064 6f77 6e2e 6765  idth_dropdown.ge
-0001fed0: 7443 686f 6963 6573 2829 290a 2020 2020  tChoices()).    
-0001fee0: 2020 2020 7469 6d65 725f 666f 726d 6174      timer_format
-0001fef0: 203d 2073 656c 662e 7469 6d65 725f 666f   = self.timer_fo
-0001ff00: 726d 6174 5f64 726f 7064 6f77 6e2e 6765  rmat_dropdown.ge
-0001ff10: 7443 686f 6963 6573 2829 0a20 2020 2020  tChoices().     
-0001ff20: 2020 2069 6620 6e6f 7420 6d75 6c74 6970     if not multip
-0001ff30: 6c65 3a0a 2020 2020 2020 2020 2020 2020  le:.            
-0001ff40: 6461 7461 5f70 6174 6820 3d20 7365 6c66  data_path = self
-0001ff50: 2e73 656c 6563 7465 645f 7669 6465 6f2e  .selected_video.
-0001ff60: 6669 6c65 5f70 6174 680a 2020 2020 2020  file_path.      
-0001ff70: 2020 2020 2020 6368 6563 6b5f 6669 6c65        check_file
-0001ff80: 5f65 7869 7374 5f61 6e64 5f72 6561 6461  _exist_and_reada
-0001ff90: 626c 6528 6669 6c65 5f70 6174 683d 6461  ble(file_path=da
-0001ffa0: 7461 5f70 6174 6829 0a20 2020 2020 2020  ta_path).       
-0001ffb0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0001ffc0: 2020 2064 6174 615f 7061 7468 203d 2073     data_path = s
-0001ffd0: 656c 662e 7365 6c65 6374 6564 5f76 6964  elf.selected_vid
-0001ffe0: 656f 5f64 6972 2e66 6f6c 6465 725f 7061  eo_dir.folder_pa
-0001fff0: 7468 0a20 2020 2020 2020 2020 2020 2063  th.            c
-00020000: 6865 636b 5f69 665f 6469 725f 6578 6973  heck_if_dir_exis
-00020010: 7473 2869 6e5f 6469 723d 6461 7461 5f70  ts(in_dir=data_p
-00020020: 6174 6829 0a0a 2020 2020 2020 2020 7468  ath)..        th
-00020030: 7265 6164 696e 672e 5468 7265 6164 2874  reading.Thread(t
-00020040: 6172 6765 743d 7375 7065 7269 6d70 6f73  arget=superimpos
-00020050: 655f 656c 6170 7365 645f 7469 6d65 2876  e_elapsed_time(v
-00020060: 6964 656f 5f70 6174 683d 6461 7461 5f70  ideo_path=data_p
-00020070: 6174 682c 0a20 2020 2020 2020 2020 2020  ath,.           
-00020080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000200a0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-000200b0: 6e74 3d66 6f6e 742c 0a20 2020 2020 2020  nt=font,.       
-000200c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000200d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000200e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000200f0: 2020 666f 6e74 5f73 697a 653d 666f 6e74    font_size=font
-00020100: 5f73 697a 652c 0a20 2020 2020 2020 2020  _size,.         
-00020110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020140: 666f 6e74 5f63 6f6c 6f72 3d66 6f6e 745f  font_color=font_
-00020150: 636c 722c 0a20 2020 2020 2020 2020 2020  clr,.           
-00020160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020180: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-00020190: 6e74 5f62 6f72 6465 725f 636f 6c6f 723d  nt_border_color=
-000201a0: 666f 6e74 5f62 6f72 6465 725f 636c 722c  font_border_clr,
-000201b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000201c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000201d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000201e0: 2020 2020 2020 2020 2020 666f 6e74 5f62            font_b
-000201f0: 6f72 6465 725f 7769 6474 683d 666f 6e74  order_width=font
-00020200: 5f62 6f72 6465 725f 7769 6474 682c 0a20  _border_width,. 
-00020210: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020240: 2020 2020 2020 2020 7469 6d65 5f66 6f72          time_for
-00020250: 6d61 743d 7469 6d65 725f 666f 726d 6174  mat=timer_format
-00020260: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00020270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020290: 2020 2020 2020 2020 2020 2070 6f73 6974             posit
-000202a0: 696f 6e3d 6c6f 6329 292e 7374 6172 7428  ion=loc)).start(
-000202b0: 290a 0a0a 636c 6173 7320 5375 7065 7269  )...class Superi
-000202c0: 6d70 6f73 6550 726f 6772 6573 7342 6172  mposeProgressBar
-000202d0: 506f 7055 7028 506f 7055 704d 6978 696e  PopUp(PopUpMixin
-000202e0: 293a 0a20 2020 2064 6566 205f 5f69 6e69  ):.    def __ini
-000202f0: 745f 5f28 7365 6c66 293a 0a20 2020 2020  t__(self):.     
-00020300: 2020 2050 6f70 5570 4d69 7869 6e2e 5f5f     PopUpMixin.__
-00020310: 696e 6974 5f5f 2873 656c 662c 2074 6974  init__(self, tit
-00020320: 6c65 3d22 5355 5045 522d 494d 504f 5345  le="SUPER-IMPOSE
-00020330: 2050 524f 4752 4553 5320 4241 5220 4f4e   PROGRESS BAR ON
-00020340: 2056 4944 454f 5322 290a 2020 2020 2020   VIDEOS").      
-00020350: 2020 7365 6c66 2e4c 4f43 4154 494f 4e53    self.LOCATIONS
-00020360: 203d 207b 2754 4f50 273a 2027 746f 7027   = {'TOP': 'top'
-00020370: 2c20 2742 4f54 544f 4d27 3a20 2762 6f74  , 'BOTTOM': 'bot
-00020380: 746f 6d27 7d0a 2020 2020 2020 2020 7365  tom'}.        se
-00020390: 7474 696e 6773 5f66 726d 203d 2043 7265  ttings_frm = Cre
-000203a0: 6174 654c 6162 656c 4672 616d 6557 6974  ateLabelFrameWit
-000203b0: 6849 636f 6e28 7061 7265 6e74 3d73 656c  hIcon(parent=sel
-000203c0: 662e 6d61 696e 5f66 726d 2c20 6865 6164  f.main_frm, head
-000203d0: 6572 3d22 5345 5454 494e 4753 222c 2069  er="SETTINGS", i
-000203e0: 636f 6e5f 6e61 6d65 3d4b 6579 732e 444f  con_name=Keys.DO
-000203f0: 4355 4d45 4e54 4154 494f 4e2e 7661 6c75  CUMENTATION.valu
-00020400: 652c 2069 636f 6e5f 6c69 6e6b 3d4c 696e  e, icon_link=Lin
-00020410: 6b73 2e56 4944 454f 5f54 4f4f 4c53 2e76  ks.VIDEO_TOOLS.v
-00020420: 616c 7565 290a 2020 2020 2020 2020 7365  alue).        se
-00020430: 6c66 2e63 6f6c 6f72 5f64 6963 7420 3d20  lf.color_dict = 
-00020440: 6765 745f 636f 6c6f 725f 6469 6374 2829  get_color_dict()
-00020450: 0a20 2020 2020 2020 2073 697a 655f 6c73  .        size_ls
-00020460: 7420 3d20 6c69 7374 2872 616e 6765 2830  t = list(range(0
-00020470: 2c20 3131 302c 2035 2929 0a20 2020 2020  , 110, 5)).     
-00020480: 2020 2073 697a 655f 6c73 745b 305d 203d     size_lst[0] =
-00020490: 2031 0a20 2020 2020 2020 2073 656c 662e   1.        self.
-000204a0: 6261 725f 6c6f 635f 6472 6f70 646f 776e  bar_loc_dropdown
-000204b0: 203d 2044 726f 7044 6f77 6e4d 656e 7528   = DropDownMenu(
-000204c0: 7365 7474 696e 6773 5f66 726d 2c20 2250  settings_frm, "P
-000204d0: 524f 4752 4553 5320 4241 5220 4c4f 4341  ROGRESS BAR LOCA
-000204e0: 5449 4f4e 3a22 2c20 6c69 7374 2873 656c  TION:", list(sel
-000204f0: 662e 4c4f 4341 5449 4f4e 532e 6b65 7973  f.LOCATIONS.keys
-00020500: 2829 292c 206c 6162 656c 7769 6474 683d  ()), labelwidth=
-00020510: 3235 290a 2020 2020 2020 2020 7365 6c66  25).        self
-00020520: 2e62 6172 5f63 6f6c 6f72 5f64 726f 7064  .bar_color_dropd
-00020530: 6f77 6e20 3d20 4472 6f70 446f 776e 4d65  own = DropDownMe
-00020540: 6e75 2873 6574 7469 6e67 735f 6672 6d2c  nu(settings_frm,
-00020550: 2022 5052 4f47 5245 5353 2042 4152 2043   "PROGRESS BAR C
-00020560: 4f4c 4f52 3a22 2c20 6c69 7374 2873 656c  OLOR:", list(sel
-00020570: 662e 636f 6c6f 725f 6469 6374 2e6b 6579  f.color_dict.key
-00020580: 7328 2929 2c20 6c61 6265 6c77 6964 7468  s()), labelwidth
-00020590: 3d32 3529 0a20 2020 2020 2020 2073 656c  =25).        sel
-000205a0: 662e 6261 725f 7369 7a65 5f64 726f 7064  f.bar_size_dropd
-000205b0: 6f77 6e20 3d20 4472 6f70 446f 776e 4d65  own = DropDownMe
-000205c0: 6e75 2873 6574 7469 6e67 735f 6672 6d2c  nu(settings_frm,
-000205d0: 2022 5052 4f47 5245 5353 2042 4152 2048   "PROGRESS BAR H
-000205e0: 4549 4748 5420 2825 293a 222c 2073 697a  EIGHT (%):", siz
-000205f0: 655f 6c73 742c 206c 6162 656c 7769 6474  e_lst, labelwidt
-00020600: 683d 3235 290a 2020 2020 2020 2020 7365  h=25).        se
-00020610: 6c66 2e62 6172 5f63 6f6c 6f72 5f64 726f  lf.bar_color_dro
-00020620: 7064 6f77 6e2e 7365 7443 686f 6963 6573  pdown.setChoices
-00020630: 2827 5265 6427 290a 2020 2020 2020 2020  ('Red').        
-00020640: 7365 6c66 2e62 6172 5f73 697a 655f 6472  self.bar_size_dr
-00020650: 6f70 646f 776e 2e73 6574 4368 6f69 6365  opdown.setChoice
-00020660: 7328 3130 290a 2020 2020 2020 2020 7365  s(10).        se
-00020670: 6c66 2e62 6172 5f6c 6f63 5f64 726f 7064  lf.bar_loc_dropd
-00020680: 6f77 6e2e 7365 7443 686f 6963 6573 2827  own.setChoices('
-00020690: 424f 5454 4f4d 2729 0a0a 2020 2020 2020  BOTTOM')..      
-000206a0: 2020 7365 7474 696e 6773 5f66 726d 2e67    settings_frm.g
-000206b0: 7269 6428 726f 773d 302c 2063 6f6c 756d  rid(row=0, colum
-000206c0: 6e3d 302c 2073 7469 636b 793d 4e57 290a  n=0, sticky=NW).
-000206d0: 2020 2020 2020 2020 7365 6c66 2e62 6172          self.bar
-000206e0: 5f6c 6f63 5f64 726f 7064 6f77 6e2e 6772  _loc_dropdown.gr
-000206f0: 6964 2872 6f77 3d30 2c20 636f 6c75 6d6e  id(row=0, column
-00020700: 3d30 2c20 7374 6963 6b79 3d4e 5729 0a20  =0, sticky=NW). 
-00020710: 2020 2020 2020 2073 656c 662e 6261 725f         self.bar_
-00020720: 636f 6c6f 725f 6472 6f70 646f 776e 2e67  color_dropdown.g
-00020730: 7269 6428 726f 773d 312c 2063 6f6c 756d  rid(row=1, colum
-00020740: 6e3d 302c 2073 7469 636b 793d 4e57 290a  n=0, sticky=NW).
-00020750: 2020 2020 2020 2020 7365 6c66 2e62 6172          self.bar
-00020760: 5f73 697a 655f 6472 6f70 646f 776e 2e67  _size_dropdown.g
-00020770: 7269 6428 726f 773d 322c 2063 6f6c 756d  rid(row=2, colum
-00020780: 6e3d 302c 2073 7469 636b 793d 4e57 290a  n=0, sticky=NW).
-00020790: 0a20 2020 2020 2020 2073 696e 676c 655f  .        single_
-000207a0: 7669 6465 6f5f 6672 6d20 3d20 4372 6561  video_frm = Crea
-000207b0: 7465 4c61 6265 6c46 7261 6d65 5769 7468  teLabelFrameWith
-000207c0: 4963 6f6e 2870 6172 656e 743d 7365 6c66  Icon(parent=self
-000207d0: 2e6d 6169 6e5f 6672 6d2c 2068 6561 6465  .main_frm, heade
-000207e0: 723d 2253 494e 474c 4520 5649 4445 4f20  r="SINGLE VIDEO 
-000207f0: 2d20 5355 5045 5249 4d50 4f53 4520 5052  - SUPERIMPOSE PR
-00020800: 4f47 5245 5353 2042 4152 222c 2069 636f  OGRESS BAR", ico
-00020810: 6e5f 6e61 6d65 3d4b 6579 732e 444f 4355  n_name=Keys.DOCU
-00020820: 4d45 4e54 4154 494f 4e2e 7661 6c75 652c  MENTATION.value,
-00020830: 2069 636f 6e5f 6c69 6e6b 3d4c 696e 6b73   icon_link=Links
-00020840: 2e56 4944 454f 5f54 4f4f 4c53 2e76 616c  .VIDEO_TOOLS.val
-00020850: 7565 290a 2020 2020 2020 2020 7365 6c66  ue).        self
-00020860: 2e73 656c 6563 7465 645f 7669 6465 6f20  .selected_video 
-00020870: 3d20 4669 6c65 5365 6c65 6374 2873 696e  = FileSelect(sin
-00020880: 676c 655f 7669 6465 6f5f 6672 6d2c 2022  gle_video_frm, "
-00020890: 5649 4445 4f20 5041 5448 3a22 2c20 7469  VIDEO PATH:", ti
-000208a0: 746c 653d 2253 656c 6563 7420 6120 7669  tle="Select a vi
-000208b0: 6465 6f20 6669 6c65 222c 206c 626c 7769  deo file", lblwi
-000208c0: 6474 683d 3235 2c20 6669 6c65 5f74 7970  dth=25, file_typ
-000208d0: 6573 3d5b 2822 5649 4445 4f20 4649 4c45  es=[("VIDEO FILE
-000208e0: 222c 204f 7074 696f 6e73 2e41 4c4c 5f56  ", Options.ALL_V
-000208f0: 4944 454f 5f46 4f52 4d41 545f 5354 525f  IDEO_FORMAT_STR_
-00020900: 4f50 5449 4f4e 532e 7661 6c75 6529 5d29  OPTIONS.value)])
-00020910: 0a20 2020 2020 2020 2073 696e 676c 655f  .        single_
-00020920: 7669 6465 6f5f 7275 6e20 3d20 4275 7474  video_run = Butt
-00020930: 6f6e 2873 696e 676c 655f 7669 6465 6f5f  on(single_video_
-00020940: 6672 6d2c 2074 6578 743d 2252 554e 202d  frm, text="RUN -
-00020950: 2053 494e 474c 4520 5649 4445 4f22 2c20   SINGLE VIDEO", 
-00020960: 636f 6d6d 616e 643d 6c61 6d62 6461 3a20  command=lambda: 
-00020970: 7365 6c66 2e72 756e 286d 756c 7469 706c  self.run(multipl
-00020980: 653d 4661 6c73 6529 290a 0a20 2020 2020  e=False))..     
-00020990: 2020 2073 696e 676c 655f 7669 6465 6f5f     single_video_
-000209a0: 6672 6d2e 6772 6964 2872 6f77 3d31 2c20  frm.grid(row=1, 
-000209b0: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
-000209c0: 3d22 4e57 2229 0a20 2020 2020 2020 2073  ="NW").        s
-000209d0: 656c 662e 7365 6c65 6374 6564 5f76 6964  elf.selected_vid
-000209e0: 656f 2e67 7269 6428 726f 773d 302c 2063  eo.grid(row=0, c
-000209f0: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
-00020a00: 224e 5722 290a 2020 2020 2020 2020 7369  "NW").        si
-00020a10: 6e67 6c65 5f76 6964 656f 5f72 756e 2e67  ngle_video_run.g
-00020a20: 7269 6428 726f 773d 312c 2063 6f6c 756d  rid(row=1, colum
-00020a30: 6e3d 302c 2073 7469 636b 793d 224e 5722  n=0, sticky="NW"
-00020a40: 290a 0a20 2020 2020 2020 206d 756c 7469  )..        multi
-00020a50: 706c 655f 7669 6465 6f73 5f66 726d 203d  ple_videos_frm =
-00020a60: 2043 7265 6174 654c 6162 656c 4672 616d   CreateLabelFram
-00020a70: 6557 6974 6849 636f 6e28 7061 7265 6e74  eWithIcon(parent
-00020a80: 3d73 656c 662e 6d61 696e 5f66 726d 2c20  =self.main_frm, 
-00020a90: 6865 6164 6572 3d22 4d55 4c54 4950 4c45  header="MULTIPLE
-00020aa0: 2056 4944 454f 5320 2d20 5355 5045 5249   VIDEOS - SUPERI
-00020ab0: 4d50 4f53 4520 5052 4f47 5245 5353 2042  MPOSE PROGRESS B
-00020ac0: 4152 222c 2069 636f 6e5f 6e61 6d65 3d4b  AR", icon_name=K
-00020ad0: 6579 732e 444f 4355 4d45 4e54 4154 494f  eys.DOCUMENTATIO
-00020ae0: 4e2e 7661 6c75 652c 2069 636f 6e5f 6c69  N.value, icon_li
-00020af0: 6e6b 3d4c 696e 6b73 2e56 4944 454f 5f54  nk=Links.VIDEO_T
-00020b00: 4f4f 4c53 2e76 616c 7565 290a 2020 2020  OOLS.value).    
-00020b10: 2020 2020 7365 6c66 2e73 656c 6563 7465      self.selecte
-00020b20: 645f 7669 6465 6f5f 6469 7220 3d20 466f  d_video_dir = Fo
-00020b30: 6c64 6572 5365 6c65 6374 286d 756c 7469  lderSelect(multi
-00020b40: 706c 655f 7669 6465 6f73 5f66 726d 2c20  ple_videos_frm, 
-00020b50: 2256 4944 454f 2044 4952 4543 544f 5259  "VIDEO DIRECTORY
-00020b60: 2050 4154 483a 222c 2074 6974 6c65 3d22   PATH:", title="
-00020b70: 5365 6c65 6374 2061 2076 6964 656f 2064  Select a video d
-00020b80: 6972 6563 746f 7279 222c 206c 626c 7769  irectory", lblwi
-00020b90: 6474 683d 3235 290a 2020 2020 2020 2020  dth=25).        
-00020ba0: 6d75 6c74 6970 6c65 5f76 6964 656f 735f  multiple_videos_
-00020bb0: 7275 6e20 3d20 4275 7474 6f6e 286d 756c  run = Button(mul
-00020bc0: 7469 706c 655f 7669 6465 6f73 5f66 726d  tiple_videos_frm
-00020bd0: 2c20 7465 7874 3d22 5255 4e20 2d20 4d55  , text="RUN - MU
-00020be0: 4c54 4950 4c45 2056 4944 454f 5322 2c20  LTIPLE VIDEOS", 
-00020bf0: 636f 6d6d 616e 643d 6c61 6d62 6461 3a20  command=lambda: 
-00020c00: 7365 6c66 2e72 756e 286d 756c 7469 706c  self.run(multipl
-00020c10: 653d 5472 7565 2929 0a0a 2020 2020 2020  e=True))..      
-00020c20: 2020 6d75 6c74 6970 6c65 5f76 6964 656f    multiple_video
-00020c30: 735f 6672 6d2e 6772 6964 2872 6f77 3d32  s_frm.grid(row=2
-00020c40: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
-00020c50: 6b79 3d22 4e57 2229 0a20 2020 2020 2020  ky="NW").       
-00020c60: 2073 656c 662e 7365 6c65 6374 6564 5f76   self.selected_v
-00020c70: 6964 656f 5f64 6972 2e67 7269 6428 726f  ideo_dir.grid(ro
-00020c80: 773d 302c 2063 6f6c 756d 6e3d 302c 2073  w=0, column=0, s
-00020c90: 7469 636b 793d 224e 5722 290a 2020 2020  ticky="NW").    
-00020ca0: 2020 2020 6d75 6c74 6970 6c65 5f76 6964      multiple_vid
-00020cb0: 656f 735f 7275 6e2e 6772 6964 2872 6f77  eos_run.grid(row
-00020cc0: 3d31 2c20 636f 6c75 6d6e 3d30 2c20 7374  =1, column=0, st
-00020cd0: 6963 6b79 3d22 4e57 2229 0a20 2020 2020  icky="NW").     
-00020ce0: 2020 2023 7365 6c66 2e6d 6169 6e5f 6672     #self.main_fr
-00020cf0: 6d2e 6d61 696e 6c6f 6f70 2829 0a0a 2020  m.mainloop()..  
-00020d00: 2020 6465 6620 7275 6e28 7365 6c66 2c20    def run(self, 
-00020d10: 6d75 6c74 6970 6c65 3a20 626f 6f6c 293a  multiple: bool):
-00020d20: 0a20 2020 2020 2020 206c 6f63 203d 2073  .        loc = s
-00020d30: 656c 662e 6261 725f 6c6f 635f 6472 6f70  elf.bar_loc_drop
-00020d40: 646f 776e 2e67 6574 4368 6f69 6365 7328  down.getChoices(
-00020d50: 290a 2020 2020 2020 2020 6c6f 6320 3d20  ).        loc = 
-00020d60: 7365 6c66 2e4c 4f43 4154 494f 4e53 5b6c  self.LOCATIONS[l
-00020d70: 6f63 5d0a 2020 2020 2020 2020 6261 725f  oc].        bar_
-00020d80: 636c 7220 3d20 7365 6c66 2e62 6172 5f63  clr = self.bar_c
-00020d90: 6f6c 6f72 5f64 726f 7064 6f77 6e2e 6765  olor_dropdown.ge
-00020da0: 7443 686f 6963 6573 2829 0a20 2020 2020  tChoices().     
-00020db0: 2020 2062 6172 5f73 697a 6520 3d20 696e     bar_size = in
-00020dc0: 7428 7365 6c66 2e62 6172 5f73 697a 655f  t(self.bar_size_
-00020dd0: 6472 6f70 646f 776e 2e67 6574 4368 6f69  dropdown.getChoi
-00020de0: 6365 7328 2929 0a20 2020 2020 2020 2069  ces()).        i
-00020df0: 6620 6e6f 7420 6d75 6c74 6970 6c65 3a0a  f not multiple:.
-00020e00: 2020 2020 2020 2020 2020 2020 6461 7461              data
-00020e10: 5f70 6174 6820 3d20 7365 6c66 2e73 656c  _path = self.sel
-00020e20: 6563 7465 645f 7669 6465 6f2e 6669 6c65  ected_video.file
-00020e30: 5f70 6174 680a 2020 2020 2020 2020 2020  _path.          
-00020e40: 2020 6368 6563 6b5f 6669 6c65 5f65 7869    check_file_exi
-00020e50: 7374 5f61 6e64 5f72 6561 6461 626c 6528  st_and_readable(
-00020e60: 6669 6c65 5f70 6174 683d 6461 7461 5f70  file_path=data_p
-00020e70: 6174 6829 0a20 2020 2020 2020 2065 6c73  ath).        els
-00020e80: 653a 0a20 2020 2020 2020 2020 2020 2064  e:.            d
-00020e90: 6174 615f 7061 7468 203d 2073 656c 662e  ata_path = self.
-00020ea0: 7365 6c65 6374 6564 5f76 6964 656f 5f64  selected_video_d
-00020eb0: 6972 2e66 6f6c 6465 725f 7061 7468 0a20  ir.folder_path. 
-00020ec0: 2020 2020 2020 2020 2020 2063 6865 636b             check
-00020ed0: 5f69 665f 6469 725f 6578 6973 7473 2869  _if_dir_exists(i
-00020ee0: 6e5f 6469 723d 6461 7461 5f70 6174 6829  n_dir=data_path)
-00020ef0: 0a0a 2020 2020 2020 2020 7468 7265 6164  ..        thread
-00020f00: 696e 672e 5468 7265 6164 2874 6172 6765  ing.Thread(targe
-00020f10: 743d 7375 7065 7269 6d70 6f73 655f 7669  t=superimpose_vi
-00020f20: 6465 6f5f 7072 6f67 7265 7373 6261 7228  deo_progressbar(
-00020f30: 7669 6465 6f5f 7061 7468 3d64 6174 615f  video_path=data_
-00020f40: 7061 7468 2c0a 2020 2020 2020 2020 2020  path,.          
-00020f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020f80: 2020 2020 6261 725f 6865 6967 6874 3d62      bar_height=b
-00020f90: 6172 5f73 697a 652c 0a20 2020 2020 2020  ar_size,.       
-00020fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020fd0: 2020 2020 2020 2063 6f6c 6f72 3d62 6172         color=bar
-00020fe0: 5f63 6c72 2c0a 2020 2020 2020 2020 2020  _clr,.          
-00020ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021020: 2020 2020 706f 7369 7469 6f6e 3d6c 6f63      position=loc
-00021030: 2929 2e73 7461 7274 2829 0a0a 636c 6173  )).start()..clas
-00021040: 7320 5375 7065 7269 6d70 6f73 6556 6964  s SuperimposeVid
-00021050: 656f 506f 7055 7028 506f 7055 704d 6978  eoPopUp(PopUpMix
-00021060: 696e 293a 0a20 2020 2064 6566 205f 5f69  in):.    def __i
-00021070: 6e69 745f 5f28 7365 6c66 293a 0a20 2020  nit__(self):.   
-00021080: 2020 2020 2050 6f70 5570 4d69 7869 6e2e       PopUpMixin.
-00021090: 5f5f 696e 6974 5f5f 2873 656c 662c 2074  __init__(self, t
-000210a0: 6974 6c65 3d22 5355 5045 522d 494d 504f  itle="SUPER-IMPO
-000210b0: 5345 2056 4944 454f 204f 4e20 5649 4445  SE VIDEO ON VIDE
-000210c0: 4f22 290a 2020 2020 2020 2020 7365 6c66  O").        self
-000210d0: 2e4c 4f43 4154 494f 4e53 203d 207b 2754  .LOCATIONS = {'T
-000210e0: 4f50 204c 4546 5427 3a20 2774 6f70 5f6c  OP LEFT': 'top_l
-000210f0: 6566 7427 2c20 2754 4f50 2052 4947 4854  eft', 'TOP RIGHT
-00021100: 273a 2027 746f 705f 7269 6768 7427 2c20  ': 'top_right', 
-00021110: 2742 4f54 544f 4d20 4c45 4654 273a 2027  'BOTTOM LEFT': '
-00021120: 626f 7474 6f6d 5f6c 6566 7427 2c20 2742  bottom_left', 'B
-00021130: 4f54 544f 4d20 5249 4748 5427 3a20 2762  OTTOM RIGHT': 'b
-00021140: 6f74 746f 6d5f 7269 6768 7427 2c20 2743  ottom_right', 'C
-00021150: 454e 5445 5227 3a20 2763 656e 7465 7227  ENTER': 'center'
-00021160: 7d0a 2020 2020 2020 2020 7365 7474 696e  }.        settin
-00021170: 6773 5f66 726d 203d 2043 7265 6174 654c  gs_frm = CreateL
-00021180: 6162 656c 4672 616d 6557 6974 6849 636f  abelFrameWithIco
-00021190: 6e28 7061 7265 6e74 3d73 656c 662e 6d61  n(parent=self.ma
-000211a0: 696e 5f66 726d 2c20 6865 6164 6572 3d22  in_frm, header="
-000211b0: 5345 5454 494e 4753 222c 2069 636f 6e5f  SETTINGS", icon_
-000211c0: 6e61 6d65 3d4b 6579 732e 444f 4355 4d45  name=Keys.DOCUME
-000211d0: 4e54 4154 494f 4e2e 7661 6c75 652c 2069  NTATION.value, i
-000211e0: 636f 6e5f 6c69 6e6b 3d4c 696e 6b73 2e56  con_link=Links.V
-000211f0: 4944 454f 5f54 4f4f 4c53 2e76 616c 7565  IDEO_TOOLS.value
-00021200: 290a 2020 2020 2020 2020 6f70 6163 6974  ).        opacit
-00021210: 6965 7320 3d20 5b72 6f75 6e64 2878 2c20  ies = [round(x, 
-00021220: 3129 2066 6f72 2078 2069 6e20 6c69 7374  1) for x in list
-00021230: 286e 702e 6172 616e 6765 2830 2e31 2c20  (np.arange(0.1, 
-00021240: 312e 312c 2030 2e31 2929 5d0a 2020 2020  1.1, 0.1))].    
-00021250: 2020 2020 7363 616c 6573 203d 205b 726f      scales = [ro
-00021260: 756e 6428 782c 2032 2920 666f 7220 7820  und(x, 2) for x 
-00021270: 696e 206c 6973 7428 6e70 2e61 7261 6e67  in list(np.arang
-00021280: 6528 302e 3035 2c20 312e 302c 2030 2e30  e(0.05, 1.0, 0.0
-00021290: 3529 295d 0a20 2020 2020 2020 2073 656c  5))].        sel
-000212a0: 662e 6d61 696e 5f76 6964 656f 5f70 6174  f.main_video_pat
-000212b0: 6820 3d20 4669 6c65 5365 6c65 6374 2873  h = FileSelect(s
-000212c0: 6574 7469 6e67 735f 6672 6d2c 2022 4d41  ettings_frm, "MA
-000212d0: 494e 2056 4944 454f 2050 4154 483a 222c  IN VIDEO PATH:",
-000212e0: 2074 6974 6c65 3d22 5365 6c65 6374 2061   title="Select a
-000212f0: 2076 6964 656f 2066 696c 6522 2c20 6669   video file", fi
-00021300: 6c65 5f74 7970 6573 3d5b 2822 5649 4445  le_types=[("VIDE
-00021310: 4f22 2c20 4f70 7469 6f6e 732e 414c 4c5f  O", Options.ALL_
-00021320: 5649 4445 4f5f 464f 524d 4154 5f4f 5054  VIDEO_FORMAT_OPT
-00021330: 494f 4e53 2e76 616c 7565 295d 2c20 6c62  IONS.value)], lb
-00021340: 6c77 6964 7468 3d32 3529 0a20 2020 2020  lwidth=25).     
-00021350: 2020 2073 656c 662e 6f76 6572 6c61 795f     self.overlay_
-00021360: 7669 6465 6f5f 7061 7468 203d 2046 696c  video_path = Fil
-00021370: 6553 656c 6563 7428 7365 7474 696e 6773  eSelect(settings
-00021380: 5f66 726d 2c20 224f 5645 524c 4159 2056  _frm, "OVERLAY V
-00021390: 4944 454f 2050 4154 483a 222c 2074 6974  IDEO PATH:", tit
-000213a0: 6c65 3d22 5365 6c65 6374 2061 2076 6964  le="Select a vid
-000213b0: 656f 2066 696c 6522 2c20 6669 6c65 5f74  eo file", file_t
-000213c0: 7970 6573 3d5b 2822 5649 4445 4f22 2c20  ypes=[("VIDEO", 
-000213d0: 4f70 7469 6f6e 732e 414c 4c5f 5649 4445  Options.ALL_VIDE
-000213e0: 4f5f 464f 524d 4154 5f4f 5054 494f 4e53  O_FORMAT_OPTIONS
-000213f0: 2e76 616c 7565 295d 2c20 6c62 6c77 6964  .value)], lblwid
-00021400: 7468 3d32 3529 0a20 2020 2020 2020 2073  th=25).        s
-00021410: 656c 662e 6c6f 6361 7469 6f6e 5f64 726f  elf.location_dro
-00021420: 7064 6f77 6e20 3d20 4472 6f70 446f 776e  pdown = DropDown
-00021430: 4d65 6e75 2873 6574 7469 6e67 735f 6672  Menu(settings_fr
-00021440: 6d2c 2022 4f56 4552 4c41 5920 5649 4445  m, "OVERLAY VIDE
-00021450: 4f20 4c4f 4341 5449 4f4e 3a22 2c20 6c69  O LOCATION:", li
-00021460: 7374 2873 656c 662e 4c4f 4341 5449 4f4e  st(self.LOCATION
-00021470: 532e 6b65 7973 2829 292c 206c 6162 656c  S.keys()), label
-00021480: 7769 6474 683d 3235 290a 2020 2020 2020  width=25).      
-00021490: 2020 7365 6c66 2e6f 7061 6369 7479 5f64    self.opacity_d
-000214a0: 726f 7064 6f77 6e20 3d20 4472 6f70 446f  ropdown = DropDo
-000214b0: 776e 4d65 6e75 2873 6574 7469 6e67 735f  wnMenu(settings_
-000214c0: 6672 6d2c 2022 4f56 4552 4c41 5920 5649  frm, "OVERLAY VI
-000214d0: 4445 4f20 4f50 4143 4954 593a 222c 206f  DEO OPACITY:", o
-000214e0: 7061 6369 7469 6573 2c20 6c61 6265 6c77  pacities, labelw
-000214f0: 6964 7468 3d32 3529 0a20 2020 2020 2020  idth=25).       
-00021500: 2073 656c 662e 7369 7a65 5f64 726f 7064   self.size_dropd
-00021510: 6f77 6e20 3d20 4472 6f70 446f 776e 4d65  own = DropDownMe
-00021520: 6e75 2873 6574 7469 6e67 735f 6672 6d2c  nu(settings_frm,
-00021530: 2022 4f56 4552 4c41 5920 5649 4445 4f20   "OVERLAY VIDEO 
-00021540: 5343 414c 4520 2825 293a 222c 2073 6361  SCALE (%):", sca
-00021550: 6c65 732c 206c 6162 656c 7769 6474 683d  les, labelwidth=
-00021560: 3235 290a 0a20 2020 2020 2020 2073 656c  25)..        sel
-00021570: 662e 6c6f 6361 7469 6f6e 5f64 726f 7064  f.location_dropd
-00021580: 6f77 6e2e 7365 7443 686f 6963 6573 2827  own.setChoices('
-00021590: 544f 5020 4c45 4654 2729 0a20 2020 2020  TOP LEFT').     
-000215a0: 2020 2073 656c 662e 6f70 6163 6974 795f     self.opacity_
-000215b0: 6472 6f70 646f 776e 2e73 6574 4368 6f69  dropdown.setChoi
-000215c0: 6365 7328 302e 3529 0a20 2020 2020 2020  ces(0.5).       
-000215d0: 2073 656c 662e 7369 7a65 5f64 726f 7064   self.size_dropd
-000215e0: 6f77 6e2e 7365 7443 686f 6963 6573 2830  own.setChoices(0
-000215f0: 2e30 3529 0a0a 2020 2020 2020 2020 7365  .05)..        se
-00021600: 7474 696e 6773 5f66 726d 2e67 7269 6428  ttings_frm.grid(
-00021610: 726f 773d 302c 2063 6f6c 756d 6e3d 302c  row=0, column=0,
-00021620: 2073 7469 636b 793d 4e57 290a 2020 2020   sticky=NW).    
-00021630: 2020 2020 7365 6c66 2e6d 6169 6e5f 7669      self.main_vi
-00021640: 6465 6f5f 7061 7468 2e67 7269 6428 726f  deo_path.grid(ro
-00021650: 773d 302c 2063 6f6c 756d 6e3d 302c 2073  w=0, column=0, s
-00021660: 7469 636b 793d 4e57 290a 2020 2020 2020  ticky=NW).      
-00021670: 2020 7365 6c66 2e6f 7665 726c 6179 5f76    self.overlay_v
-00021680: 6964 656f 5f70 6174 682e 6772 6964 2872  ideo_path.grid(r
-00021690: 6f77 3d31 2c20 636f 6c75 6d6e 3d30 2c20  ow=1, column=0, 
-000216a0: 7374 6963 6b79 3d4e 5729 0a20 2020 2020  sticky=NW).     
-000216b0: 2020 2073 656c 662e 6c6f 6361 7469 6f6e     self.location
-000216c0: 5f64 726f 7064 6f77 6e2e 6772 6964 2872  _dropdown.grid(r
-000216d0: 6f77 3d32 2c20 636f 6c75 6d6e 3d30 2c20  ow=2, column=0, 
-000216e0: 7374 6963 6b79 3d4e 5729 0a20 2020 2020  sticky=NW).     
-000216f0: 2020 2073 656c 662e 6f70 6163 6974 795f     self.opacity_
-00021700: 6472 6f70 646f 776e 2e67 7269 6428 726f  dropdown.grid(ro
-00021710: 773d 332c 2063 6f6c 756d 6e3d 302c 2073  w=3, column=0, s
-00021720: 7469 636b 793d 4e57 290a 2020 2020 2020  ticky=NW).      
-00021730: 2020 7365 6c66 2e73 697a 655f 6472 6f70    self.size_drop
-00021740: 646f 776e 2e67 7269 6428 726f 773d 342c  down.grid(row=4,
-00021750: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
-00021760: 793d 4e57 290a 2020 2020 2020 2020 7365  y=NW).        se
-00021770: 6c66 2e63 7265 6174 655f 7275 6e5f 6672  lf.create_run_fr
-00021780: 6d28 7275 6e5f 6675 6e63 7469 6f6e 3d73  m(run_function=s
-00021790: 656c 662e 7275 6e29 0a20 2020 2020 2020  elf.run).       
-000217a0: 2023 7365 6c66 2e6d 6169 6e5f 6672 6d2e   #self.main_frm.
-000217b0: 6d61 696e 6c6f 6f70 2829 0a0a 2020 2020  mainloop()..    
-000217c0: 6465 6620 7275 6e28 7365 6c66 293a 0a20  def run(self):. 
-000217d0: 2020 2020 2020 206c 6f63 203d 2073 656c         loc = sel
-000217e0: 662e 6c6f 6361 7469 6f6e 5f64 726f 7064  f.location_dropd
-000217f0: 6f77 6e2e 6765 7443 686f 6963 6573 2829  own.getChoices()
-00021800: 0a20 2020 2020 2020 206c 6f63 203d 2073  .        loc = s
-00021810: 656c 662e 4c4f 4341 5449 4f4e 535b 6c6f  elf.LOCATIONS[lo
-00021820: 635d 0a20 2020 2020 2020 206f 7061 6369  c].        opaci
-00021830: 7479 203d 2066 6c6f 6174 2873 656c 662e  ty = float(self.
-00021840: 6f70 6163 6974 795f 6472 6f70 646f 776e  opacity_dropdown
-00021850: 2e67 6574 4368 6f69 6365 7328 2929 0a20  .getChoices()). 
-00021860: 2020 2020 2020 2073 697a 6520 3d20 666c         size = fl
-00021870: 6f61 7428 7365 6c66 2e73 697a 655f 6472  oat(self.size_dr
-00021880: 6f70 646f 776e 2e67 6574 4368 6f69 6365  opdown.getChoice
-00021890: 7328 2929 0a20 2020 2020 2020 2076 6964  s()).        vid
-000218a0: 656f 5f70 6174 6820 3d20 7365 6c66 2e6d  eo_path = self.m
-000218b0: 6169 6e5f 7669 6465 6f5f 7061 7468 2e66  ain_video_path.f
-000218c0: 696c 655f 7061 7468 0a20 2020 2020 2020  ile_path.       
-000218d0: 206f 7665 726c 6179 5f70 6174 6820 3d20   overlay_path = 
-000218e0: 7365 6c66 2e6f 7665 726c 6179 5f76 6964  self.overlay_vid
-000218f0: 656f 5f70 6174 682e 6669 6c65 5f70 6174  eo_path.file_pat
-00021900: 680a 2020 2020 2020 2020 6368 6563 6b5f  h.        check_
-00021910: 6669 6c65 5f65 7869 7374 5f61 6e64 5f72  file_exist_and_r
-00021920: 6561 6461 626c 6528 6669 6c65 5f70 6174  eadable(file_pat
-00021930: 683d 7669 6465 6f5f 7061 7468 290a 2020  h=video_path).  
-00021940: 2020 2020 2020 6368 6563 6b5f 6669 6c65        check_file
-00021950: 5f65 7869 7374 5f61 6e64 5f72 6561 6461  _exist_and_reada
-00021960: 626c 6528 6669 6c65 5f70 6174 683d 6f76  ble(file_path=ov
-00021970: 6572 6c61 795f 7061 7468 290a 2020 2020  erlay_path).    
-00021980: 2020 2020 7468 7265 6164 696e 672e 5468      threading.Th
-00021990: 7265 6164 2874 6172 6765 743d 7375 7065  read(target=supe
-000219a0: 7269 6d70 6f73 655f 6f76 6572 6c61 795f  rimpose_overlay_
-000219b0: 7669 6465 6f28 7669 6465 6f5f 7061 7468  video(video_path
-000219c0: 3d76 6964 656f 5f70 6174 682c 0a20 2020  =video_path,.   
-000219d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000219e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000219f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021a00: 2020 2020 2020 206f 7665 726c 6179 5f76         overlay_v
-00021a10: 6964 656f 5f70 6174 683d 6f76 6572 6c61  ideo_path=overla
-00021a20: 795f 7061 7468 2c0a 2020 2020 2020 2020  y_path,.        
-00021a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021a60: 2020 706f 7369 7469 6f6e 3d6c 6f63 2c0a    position=loc,.
-00021a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021aa0: 2020 2020 2020 2020 2020 6f70 6163 6974            opacit
-00021ab0: 793d 6f70 6163 6974 792c 0a20 2020 2020  y=opacity,.     
-00021ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021af0: 2020 2020 2073 6361 6c65 3d73 697a 6529       scale=size)
-00021b00: 292e 7374 6172 7428 290a 0a63 6c61 7373  ).start()..class
-00021b10: 2053 7570 6572 696d 706f 7365 5669 6465   SuperimposeVide
-00021b20: 6f4e 616d 6573 506f 7055 7028 506f 7055  oNamesPopUp(PopU
-00021b30: 704d 6978 696e 293a 0a20 2020 2064 6566  pMixin):.    def
-00021b40: 205f 5f69 6e69 745f 5f28 7365 6c66 293a   __init__(self):
-00021b50: 0a20 2020 2020 2020 2050 6f70 5570 4d69  .        PopUpMi
-00021b60: 7869 6e2e 5f5f 696e 6974 5f5f 2873 656c  xin.__init__(sel
-00021b70: 662c 2074 6974 6c65 3d22 5355 5045 522d  f, title="SUPER-
-00021b80: 494d 504f 5345 2056 4944 454f 204e 414d  IMPOSE VIDEO NAM
-00021b90: 4553 204f 4e20 5649 4445 4f53 2229 0a20  ES ON VIDEOS"). 
-00021ba0: 2020 2020 2020 2073 656c 662e 4c4f 4341         self.LOCA
-00021bb0: 5449 4f4e 5320 3d20 7b27 544f 5020 4c45  TIONS = {'TOP LE
-00021bc0: 4654 273a 2027 746f 705f 6c65 6674 272c  FT': 'top_left',
-00021bd0: 2027 544f 5020 5249 4748 5427 3a20 2774   'TOP RIGHT': 't
-00021be0: 6f70 5f72 6967 6874 272c 2027 544f 5020  op_right', 'TOP 
-00021bf0: 4d49 4444 4c45 273a 2027 746f 705f 6d69  MIDDLE': 'top_mi
-00021c00: 6464 6c65 272c 2027 424f 5454 4f4d 204c  ddle', 'BOTTOM L
-00021c10: 4546 5427 3a20 2762 6f74 746f 6d5f 6c65  EFT': 'bottom_le
-00021c20: 6674 272c 2027 424f 5454 4f4d 2052 4947  ft', 'BOTTOM RIG
-00021c30: 4854 273a 2027 626f 7474 6f6d 5f72 6967  HT': 'bottom_rig
-00021c40: 6874 272c 2027 424f 5454 4f4d 204d 4944  ht', 'BOTTOM MID
-00021c50: 444c 4527 3a20 2762 6f74 746f 6d5f 6d69  DLE': 'bottom_mi
-00021c60: 6464 6c65 277d 0a20 2020 2020 2020 2073  ddle'}.        s
-00021c70: 6574 7469 6e67 735f 6672 6d20 3d20 4372  ettings_frm = Cr
-00021c80: 6561 7465 4c61 6265 6c46 7261 6d65 5769  eateLabelFrameWi
-00021c90: 7468 4963 6f6e 2870 6172 656e 743d 7365  thIcon(parent=se
-00021ca0: 6c66 2e6d 6169 6e5f 6672 6d2c 2068 6561  lf.main_frm, hea
-00021cb0: 6465 723d 2253 4554 5449 4e47 5322 2c20  der="SETTINGS", 
-00021cc0: 6963 6f6e 5f6e 616d 653d 4b65 7973 2e44  icon_name=Keys.D
-00021cd0: 4f43 554d 454e 5441 5449 4f4e 2e76 616c  OCUMENTATION.val
-00021ce0: 7565 2c20 6963 6f6e 5f6c 696e 6b3d 4c69  ue, icon_link=Li
-00021cf0: 6e6b 732e 5649 4445 4f5f 544f 4f4c 532e  nks.VIDEO_TOOLS.
-00021d00: 7661 6c75 6529 0a20 2020 2020 2020 2073  value).        s
-00021d10: 656c 662e 636f 6c6f 725f 6469 6374 203d  elf.color_dict =
-00021d20: 2067 6574 5f63 6f6c 6f72 5f64 6963 7428   get_color_dict(
-00021d30: 290a 2020 2020 2020 2020 7365 6c66 2e66  ).        self.f
-00021d40: 6f6e 745f 6469 6374 203d 2067 6574 5f66  ont_dict = get_f
-00021d50: 6f6e 7473 2829 0a0a 2020 2020 2020 2020  onts()..        
-00021d60: 7365 6c66 2e6c 6f63 6174 696f 6e5f 6472  self.location_dr
-00021d70: 6f70 646f 776e 203d 2044 726f 7044 6f77  opdown = DropDow
-00021d80: 6e4d 656e 7528 7365 7474 696e 6773 5f66  nMenu(settings_f
-00021d90: 726d 2c20 2256 4944 454f 204e 414d 4520  rm, "VIDEO NAME 
-00021da0: 5445 5854 204c 4f43 4154 494f 4e3a 222c  TEXT LOCATION:",
-00021db0: 206c 6973 7428 7365 6c66 2e4c 4f43 4154   list(self.LOCAT
-00021dc0: 494f 4e53 2e6b 6579 7328 2929 2c20 6c61  IONS.keys()), la
-00021dd0: 6265 6c77 6964 7468 3d32 3529 0a20 2020  belwidth=25).   
-00021de0: 2020 2020 2073 656c 662e 666f 6e74 5f64       self.font_d
-00021df0: 726f 7064 6f77 6e20 3d20 4472 6f70 446f  ropdown = DropDo
-00021e00: 776e 4d65 6e75 2873 6574 7469 6e67 735f  wnMenu(settings_
-00021e10: 6672 6d2c 2022 464f 4e54 3a22 2c20 6c69  frm, "FONT:", li
-00021e20: 7374 2873 656c 662e 666f 6e74 5f64 6963  st(self.font_dic
-00021e30: 742e 6b65 7973 2829 292c 206c 6162 656c  t.keys()), label
-00021e40: 7769 6474 683d 3235 290a 2020 2020 2020  width=25).      
-00021e50: 2020 7365 6c66 2e66 6f6e 745f 7369 7a65    self.font_size
-00021e60: 5f64 726f 7064 6f77 6e20 3d20 4472 6f70  _dropdown = Drop
-00021e70: 446f 776e 4d65 6e75 2873 6574 7469 6e67  DownMenu(setting
-00021e80: 735f 6672 6d2c 2022 464f 4e54 2053 495a  s_frm, "FONT SIZ
-00021e90: 453a 222c 206c 6973 7428 7261 6e67 6528  E:", list(range(
-00021ea0: 352c 2031 3035 2c20 3529 292c 206c 6162  5, 105, 5)), lab
-00021eb0: 656c 7769 6474 683d 3235 290a 2020 2020  elwidth=25).    
-00021ec0: 2020 2020 7365 6c66 2e66 6f6e 745f 636f      self.font_co
-00021ed0: 6c6f 725f 6472 6f70 646f 776e 203d 2044  lor_dropdown = D
-00021ee0: 726f 7044 6f77 6e4d 656e 7528 7365 7474  ropDownMenu(sett
-00021ef0: 696e 6773 5f66 726d 2c20 2246 4f4e 5420  ings_frm, "FONT 
-00021f00: 434f 4c4f 523a 222c 206c 6973 7428 7365  COLOR:", list(se
-00021f10: 6c66 2e63 6f6c 6f72 5f64 6963 742e 6b65  lf.color_dict.ke
-00021f20: 7973 2829 292c 206c 6162 656c 7769 6474  ys()), labelwidt
-00021f30: 683d 3235 290a 2020 2020 2020 2020 7365  h=25).        se
-00021f40: 6c66 2e66 6f6e 745f 626f 7264 6572 5f64  lf.font_border_d
-00021f50: 726f 7064 6f77 6e20 3d20 4472 6f70 446f  ropdown = DropDo
-00021f60: 776e 4d65 6e75 2873 6574 7469 6e67 735f  wnMenu(settings_
-00021f70: 6672 6d2c 2022 464f 4e54 2042 4f52 4445  frm, "FONT BORDE
-00021f80: 5220 434f 4c4f 523a 222c 206c 6973 7428  R COLOR:", list(
-00021f90: 7365 6c66 2e63 6f6c 6f72 5f64 6963 742e  self.color_dict.
-00021fa0: 6b65 7973 2829 292c 206c 6162 656c 7769  keys()), labelwi
-00021fb0: 6474 683d 3235 290a 2020 2020 2020 2020  dth=25).        
-00021fc0: 7365 6c66 2e66 6f6e 745f 626f 7264 6572  self.font_border
-00021fd0: 5f77 6964 7468 5f64 726f 7064 6f77 6e20  _width_dropdown 
-00021fe0: 3d20 4472 6f70 446f 776e 4d65 6e75 2873  = DropDownMenu(s
-00021ff0: 6574 7469 6e67 735f 6672 6d2c 2022 464f  ettings_frm, "FO
-00022000: 4e54 2042 4f52 4445 5220 5749 4454 483a  NT BORDER WIDTH:
-00022010: 222c 206c 6973 7428 7261 6e67 6528 322c  ", list(range(2,
-00022020: 2035 322c 2032 2929 2c20 6c61 6265 6c77   52, 2)), labelw
-00022030: 6964 7468 3d32 3529 0a0a 2020 2020 2020  idth=25)..      
-00022040: 2020 7365 6c66 2e6c 6f63 6174 696f 6e5f    self.location_
-00022050: 6472 6f70 646f 776e 2e73 6574 4368 6f69  dropdown.setChoi
-00022060: 6365 7328 2754 4f50 204c 4546 5427 290a  ces('TOP LEFT').
+0001ea70: 2020 2073 696e 676c 655f 7669 6465 6f5f     single_video_
+0001ea80: 7275 6e2e 6772 6964 2872 6f77 3d31 2c20  run.grid(row=1, 
+0001ea90: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
+0001eaa0: 3d22 4e57 2229 0a0a 2020 2020 2020 2020  ="NW")..        
+0001eab0: 6d75 6c74 6970 6c65 5f76 6964 656f 735f  multiple_videos_
+0001eac0: 6672 6d20 3d20 4372 6561 7465 4c61 6265  frm = CreateLabe
+0001ead0: 6c46 7261 6d65 5769 7468 4963 6f6e 2870  lFrameWithIcon(p
+0001eae0: 6172 656e 743d 7365 6c66 2e6d 6169 6e5f  arent=self.main_
+0001eaf0: 6672 6d2c 2068 6561 6465 723d 224d 554c  frm, header="MUL
+0001eb00: 5449 504c 4520 5649 4445 4f53 202d 2053  TIPLE VIDEOS - S
+0001eb10: 5550 4552 494d 504f 5345 2057 4154 4552  UPERIMPOSE WATER
+0001eb20: 4d41 524b 222c 2069 636f 6e5f 6e61 6d65  MARK", icon_name
+0001eb30: 3d4b 6579 732e 444f 4355 4d45 4e54 4154  =Keys.DOCUMENTAT
+0001eb40: 494f 4e2e 7661 6c75 652c 2069 636f 6e5f  ION.value, icon_
+0001eb50: 6c69 6e6b 3d4c 696e 6b73 2e56 4944 454f  link=Links.VIDEO
+0001eb60: 5f54 4f4f 4c53 2e76 616c 7565 290a 2020  _TOOLS.value).  
+0001eb70: 2020 2020 2020 7365 6c66 2e73 656c 6563        self.selec
+0001eb80: 7465 645f 7669 6465 6f5f 6469 7220 3d20  ted_video_dir = 
+0001eb90: 466f 6c64 6572 5365 6c65 6374 286d 756c  FolderSelect(mul
+0001eba0: 7469 706c 655f 7669 6465 6f73 5f66 726d  tiple_videos_frm
+0001ebb0: 2c20 2256 4944 454f 2044 4952 4543 544f  , "VIDEO DIRECTO
+0001ebc0: 5259 2050 4154 483a 222c 2074 6974 6c65  RY PATH:", title
+0001ebd0: 3d22 5365 6c65 6374 2061 2076 6964 656f  ="Select a video
+0001ebe0: 2064 6972 6563 746f 7279 222c 206c 626c   directory", lbl
+0001ebf0: 7769 6474 683d 3235 290a 2020 2020 2020  width=25).      
+0001ec00: 2020 6d75 6c74 6970 6c65 5f76 6964 656f    multiple_video
+0001ec10: 735f 7275 6e20 3d20 4275 7474 6f6e 286d  s_run = Button(m
+0001ec20: 756c 7469 706c 655f 7669 6465 6f73 5f66  ultiple_videos_f
+0001ec30: 726d 2c20 7465 7874 3d22 5255 4e20 2d20  rm, text="RUN - 
+0001ec40: 4d55 4c54 4950 4c45 2056 4944 454f 5322  MULTIPLE VIDEOS"
+0001ec50: 2c20 636f 6d6d 616e 643d 6c61 6d62 6461  , command=lambda
+0001ec60: 3a20 7365 6c66 2e72 756e 286d 756c 7469  : self.run(multi
+0001ec70: 706c 653d 5472 7565 2929 0a0a 2020 2020  ple=True))..    
+0001ec80: 2020 2020 6d75 6c74 6970 6c65 5f76 6964      multiple_vid
+0001ec90: 656f 735f 6672 6d2e 6772 6964 2872 6f77  eos_frm.grid(row
+0001eca0: 3d32 2c20 636f 6c75 6d6e 3d30 2c20 7374  =2, column=0, st
+0001ecb0: 6963 6b79 3d22 4e57 2229 0a20 2020 2020  icky="NW").     
+0001ecc0: 2020 2073 656c 662e 7365 6c65 6374 6564     self.selected
+0001ecd0: 5f76 6964 656f 5f64 6972 2e67 7269 6428  _video_dir.grid(
+0001ece0: 726f 773d 302c 2063 6f6c 756d 6e3d 302c  row=0, column=0,
+0001ecf0: 2073 7469 636b 793d 224e 5722 290a 2020   sticky="NW").  
+0001ed00: 2020 2020 2020 6d75 6c74 6970 6c65 5f76        multiple_v
+0001ed10: 6964 656f 735f 7275 6e2e 6772 6964 2872  ideos_run.grid(r
+0001ed20: 6f77 3d31 2c20 636f 6c75 6d6e 3d30 2c20  ow=1, column=0, 
+0001ed30: 7374 6963 6b79 3d22 4e57 2229 0a20 2020  sticky="NW").   
+0001ed40: 2020 2020 2023 7365 6c66 2e6d 6169 6e5f       #self.main_
+0001ed50: 6672 6d2e 6d61 696e 6c6f 6f70 2829 0a0a  frm.mainloop()..
+0001ed60: 2020 2020 6465 6620 7275 6e28 7365 6c66      def run(self
+0001ed70: 2c20 6d75 6c74 6970 6c65 3a20 626f 6f6c  , multiple: bool
+0001ed80: 293a 0a20 2020 2020 2020 2069 6d67 5f70  ):.        img_p
+0001ed90: 6174 6820 3d20 7365 6c66 2e73 656c 6563  ath = self.selec
+0001eda0: 7465 645f 696d 672e 6669 6c65 5f70 6174  ted_img.file_pat
+0001edb0: 680a 2020 2020 2020 2020 6c6f 6320 3d20  h.        loc = 
+0001edc0: 7365 6c66 2e6c 6f63 6174 696f 6e5f 6472  self.location_dr
+0001edd0: 6f70 646f 776e 2e67 6574 4368 6f69 6365  opdown.getChoice
+0001ede0: 7328 290a 2020 2020 2020 2020 6c6f 6320  s().        loc 
+0001edf0: 3d20 7365 6c66 2e4c 4f43 4154 494f 4e53  = self.LOCATIONS
+0001ee00: 5b6c 6f63 5d0a 2020 2020 2020 2020 6f70  [loc].        op
+0001ee10: 6163 6974 7920 3d20 666c 6f61 7428 7365  acity = float(se
+0001ee20: 6c66 2e6f 7061 6369 7479 5f64 726f 7064  lf.opacity_dropd
+0001ee30: 6f77 6e2e 6765 7443 686f 6963 6573 2829  own.getChoices()
+0001ee40: 290a 2020 2020 2020 2020 7369 7a65 203d  ).        size =
+0001ee50: 2066 6c6f 6174 2869 6e74 2873 656c 662e   float(int(self.
+0001ee60: 7369 7a65 5f64 726f 7064 6f77 6e2e 6765  size_dropdown.ge
+0001ee70: 7443 686f 6963 6573 2829 2920 2f20 3130  tChoices()) / 10
+0001ee80: 3029 0a20 2020 2020 2020 2069 6620 7369  0).        if si
+0001ee90: 7a65 203d 3d20 312e 303a 2073 697a 6520  ze == 1.0: size 
+0001eea0: 3d20 7369 7a65 202d 2030 2e30 3031 0a20  = size - 0.001. 
+0001eeb0: 2020 2020 2020 2063 6865 636b 5f66 696c         check_fil
+0001eec0: 655f 6578 6973 745f 616e 645f 7265 6164  e_exist_and_read
+0001eed0: 6162 6c65 2866 696c 655f 7061 7468 3d69  able(file_path=i
+0001eee0: 6d67 5f70 6174 6829 0a20 2020 2020 2020  mg_path).       
+0001eef0: 2069 6620 6e6f 7420 6d75 6c74 6970 6c65   if not multiple
+0001ef00: 3a0a 2020 2020 2020 2020 2020 2020 6461  :.            da
+0001ef10: 7461 5f70 6174 6820 3d20 7365 6c66 2e73  ta_path = self.s
+0001ef20: 656c 6563 7465 645f 7669 6465 6f2e 6669  elected_video.fi
+0001ef30: 6c65 5f70 6174 680a 2020 2020 2020 2020  le_path.        
+0001ef40: 2020 2020 6368 6563 6b5f 6669 6c65 5f65      check_file_e
+0001ef50: 7869 7374 5f61 6e64 5f72 6561 6461 626c  xist_and_readabl
+0001ef60: 6528 6669 6c65 5f70 6174 683d 6461 7461  e(file_path=data
+0001ef70: 5f70 6174 6829 0a20 2020 2020 2020 2065  _path).        e
+0001ef80: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0001ef90: 2064 6174 615f 7061 7468 203d 2073 656c   data_path = sel
+0001efa0: 662e 7365 6c65 6374 6564 5f76 6964 656f  f.selected_video
+0001efb0: 5f64 6972 2e66 6f6c 6465 725f 7061 7468  _dir.folder_path
+0001efc0: 0a20 2020 2020 2020 2020 2020 2063 6865  .            che
+0001efd0: 636b 5f69 665f 6469 725f 6578 6973 7473  ck_if_dir_exists
+0001efe0: 2869 6e5f 6469 723d 6461 7461 5f70 6174  (in_dir=data_pat
+0001eff0: 6829 0a0a 2020 2020 2020 2020 7468 7265  h)..        thre
+0001f000: 6164 696e 672e 5468 7265 6164 2874 6172  ading.Thread(tar
+0001f010: 6765 743d 7761 7465 726d 6172 6b5f 7669  get=watermark_vi
+0001f020: 6465 6f28 7669 6465 6f5f 7061 7468 3d64  deo(video_path=d
+0001f030: 6174 615f 7061 7468 2c0a 2020 2020 2020  ata_path,.      
+0001f040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f060: 2020 2020 2020 2020 2020 7761 7465 726d            waterm
+0001f070: 6172 6b5f 7061 7468 3d69 6d67 5f70 6174  ark_path=img_pat
+0001f080: 682c 2070 6f73 6974 696f 6e3d 6c6f 632c  h, position=loc,
+0001f090: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001f0a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f0b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f0c0: 206f 7061 6369 7479 3d6f 7061 6369 7479   opacity=opacity
+0001f0d0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0001f0e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f0f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f100: 2020 7363 616c 653d 7369 7a65 2929 2e73    scale=size)).s
+0001f110: 7461 7274 2829 0a23 5375 7065 7269 6d70  tart().#Superimp
+0001f120: 6f73 6557 6174 6572 6d61 726b 506f 7055  oseWatermarkPopU
+0001f130: 7028 290a 0a0a 636c 6173 7320 5375 7065  p()...class Supe
+0001f140: 7269 6d70 6f73 6554 696d 6572 506f 7055  rimposeTimerPopU
+0001f150: 7028 506f 7055 704d 6978 696e 293a 0a20  p(PopUpMixin):. 
+0001f160: 2020 2064 6566 205f 5f69 6e69 745f 5f28     def __init__(
+0001f170: 7365 6c66 293a 0a20 2020 2020 2020 2050  self):.        P
+0001f180: 6f70 5570 4d69 7869 6e2e 5f5f 696e 6974  opUpMixin.__init
+0001f190: 5f5f 2873 656c 662c 2074 6974 6c65 3d22  __(self, title="
+0001f1a0: 5355 5045 522d 494d 504f 5345 2054 494d  SUPER-IMPOSE TIM
+0001f1b0: 4520 4f4e 2056 4944 454f 5322 290a 2020  E ON VIDEOS").  
+0001f1c0: 2020 2020 2020 7365 6c66 2e4c 4f43 4154        self.LOCAT
+0001f1d0: 494f 4e53 203d 207b 2754 4f50 204c 4546  IONS = {'TOP LEF
+0001f1e0: 5427 3a20 2774 6f70 5f6c 6566 7427 2c20  T': 'top_left', 
+0001f1f0: 2754 4f50 2052 4947 4854 273a 2027 746f  'TOP RIGHT': 'to
+0001f200: 705f 7269 6768 7427 2c20 2754 4f50 204d  p_right', 'TOP M
+0001f210: 4944 444c 4527 3a20 2774 6f70 5f6d 6964  IDDLE': 'top_mid
+0001f220: 646c 6527 2c20 2742 4f54 544f 4d20 4c45  dle', 'BOTTOM LE
+0001f230: 4654 273a 2027 626f 7474 6f6d 5f6c 6566  FT': 'bottom_lef
+0001f240: 7427 2c20 2742 4f54 544f 4d20 5249 4748  t', 'BOTTOM RIGH
+0001f250: 5427 3a20 2762 6f74 746f 6d5f 7269 6768  T': 'bottom_righ
+0001f260: 7427 2c20 2742 4f54 544f 4d20 4d49 4444  t', 'BOTTOM MIDD
+0001f270: 4c45 273a 2027 626f 7474 6f6d 5f6d 6964  LE': 'bottom_mid
+0001f280: 646c 6527 7d0a 2020 2020 2020 2020 7365  dle'}.        se
+0001f290: 7474 696e 6773 5f66 726d 203d 2043 7265  ttings_frm = Cre
+0001f2a0: 6174 654c 6162 656c 4672 616d 6557 6974  ateLabelFrameWit
+0001f2b0: 6849 636f 6e28 7061 7265 6e74 3d73 656c  hIcon(parent=sel
+0001f2c0: 662e 6d61 696e 5f66 726d 2c20 6865 6164  f.main_frm, head
+0001f2d0: 6572 3d22 5345 5454 494e 4753 222c 2069  er="SETTINGS", i
+0001f2e0: 636f 6e5f 6e61 6d65 3d4b 6579 732e 444f  con_name=Keys.DO
+0001f2f0: 4355 4d45 4e54 4154 494f 4e2e 7661 6c75  CUMENTATION.valu
+0001f300: 652c 2069 636f 6e5f 6c69 6e6b 3d4c 696e  e, icon_link=Lin
+0001f310: 6b73 2e56 4944 454f 5f54 4f4f 4c53 2e76  ks.VIDEO_TOOLS.v
+0001f320: 616c 7565 290a 2020 2020 2020 2020 7365  alue).        se
+0001f330: 6c66 2e63 6f6c 6f72 5f64 6963 7420 3d20  lf.color_dict = 
+0001f340: 6765 745f 636f 6c6f 725f 6469 6374 2829  get_color_dict()
+0001f350: 0a20 2020 2020 2020 2073 656c 662e 666f  .        self.fo
+0001f360: 6e74 5f64 6963 7420 3d20 6765 745f 666f  nt_dict = get_fo
+0001f370: 6e74 7328 290a 2020 2020 2020 2020 7365  nts().        se
+0001f380: 6c66 2e6c 6f63 6174 696f 6e5f 6472 6f70  lf.location_drop
+0001f390: 646f 776e 203d 2044 726f 7044 6f77 6e4d  down = DropDownM
+0001f3a0: 656e 7528 7365 7474 696e 6773 5f66 726d  enu(settings_frm
+0001f3b0: 2c20 2254 494d 4552 204c 4f43 4154 494f  , "TIMER LOCATIO
+0001f3c0: 4e3a 222c 206c 6973 7428 7365 6c66 2e4c  N:", list(self.L
+0001f3d0: 4f43 4154 494f 4e53 2e6b 6579 7328 2929  OCATIONS.keys())
+0001f3e0: 2c20 6c61 6265 6c77 6964 7468 3d32 3529  , labelwidth=25)
+0001f3f0: 0a20 2020 2020 2020 2073 656c 662e 666f  .        self.fo
+0001f400: 6e74 5f64 726f 7064 6f77 6e20 3d20 4472  nt_dropdown = Dr
+0001f410: 6f70 446f 776e 4d65 6e75 2873 6574 7469  opDownMenu(setti
+0001f420: 6e67 735f 6672 6d2c 2022 5449 4d45 5220  ngs_frm, "TIMER 
+0001f430: 464f 4e54 3a22 2c20 6c69 7374 2873 656c  FONT:", list(sel
+0001f440: 662e 666f 6e74 5f64 6963 742e 6b65 7973  f.font_dict.keys
+0001f450: 2829 292c 206c 6162 656c 7769 6474 683d  ()), labelwidth=
+0001f460: 3235 290a 2020 2020 2020 2020 7365 6c66  25).        self
+0001f470: 2e66 6f6e 745f 7369 7a65 5f64 726f 7064  .font_size_dropd
+0001f480: 6f77 6e20 3d20 4472 6f70 446f 776e 4d65  own = DropDownMe
+0001f490: 6e75 2873 6574 7469 6e67 735f 6672 6d2c  nu(settings_frm,
+0001f4a0: 2022 464f 4e54 2053 495a 453a 222c 206c   "FONT SIZE:", l
+0001f4b0: 6973 7428 7261 6e67 6528 3230 2c20 3130  ist(range(20, 10
+0001f4c0: 302c 2035 2929 2c20 6c61 6265 6c77 6964  0, 5)), labelwid
+0001f4d0: 7468 3d32 3529 0a20 2020 2020 2020 2073  th=25).        s
+0001f4e0: 656c 662e 666f 6e74 5f63 6f6c 6f72 5f64  elf.font_color_d
+0001f4f0: 726f 7064 6f77 6e20 3d20 4472 6f70 446f  ropdown = DropDo
+0001f500: 776e 4d65 6e75 2873 6574 7469 6e67 735f  wnMenu(settings_
+0001f510: 6672 6d2c 2022 464f 4e54 2043 4f4c 4f52  frm, "FONT COLOR
+0001f520: 3a22 2c20 6c69 7374 2873 656c 662e 636f  :", list(self.co
+0001f530: 6c6f 725f 6469 6374 2e6b 6579 7328 2929  lor_dict.keys())
+0001f540: 2c20 6c61 6265 6c77 6964 7468 3d32 3529  , labelwidth=25)
+0001f550: 0a20 2020 2020 2020 2073 656c 662e 666f  .        self.fo
+0001f560: 6e74 5f62 6f72 6465 725f 6472 6f70 646f  nt_border_dropdo
+0001f570: 776e 203d 2044 726f 7044 6f77 6e4d 656e  wn = DropDownMen
+0001f580: 7528 7365 7474 696e 6773 5f66 726d 2c20  u(settings_frm, 
+0001f590: 2246 4f4e 5420 424f 5244 4552 2043 4f4c  "FONT BORDER COL
+0001f5a0: 4f52 3a22 2c20 6c69 7374 2873 656c 662e  OR:", list(self.
+0001f5b0: 636f 6c6f 725f 6469 6374 2e6b 6579 7328  color_dict.keys(
+0001f5c0: 2929 2c20 6c61 6265 6c77 6964 7468 3d32  )), labelwidth=2
+0001f5d0: 3529 0a20 2020 2020 2020 2073 656c 662e  5).        self.
+0001f5e0: 666f 6e74 5f62 6f72 6465 725f 7769 6474  font_border_widt
+0001f5f0: 685f 6472 6f70 646f 776e 203d 2044 726f  h_dropdown = Dro
+0001f600: 7044 6f77 6e4d 656e 7528 7365 7474 696e  pDownMenu(settin
+0001f610: 6773 5f66 726d 2c20 2246 4f4e 5420 424f  gs_frm, "FONT BO
+0001f620: 5244 4552 2057 4944 5448 3a22 2c20 6c69  RDER WIDTH:", li
+0001f630: 7374 2872 616e 6765 2832 2c20 3532 2c20  st(range(2, 52, 
+0001f640: 3229 292c 206c 6162 656c 7769 6474 683d  2)), labelwidth=
+0001f650: 3235 290a 2020 2020 2020 2020 7365 6c66  25).        self
+0001f660: 2e74 696d 6572 5f66 6f72 6d61 745f 6472  .timer_format_dr
+0001f670: 6f70 646f 776e 203d 2044 726f 7044 6f77  opdown = DropDow
+0001f680: 6e4d 656e 7528 7365 7474 696e 6773 5f66  nMenu(settings_f
+0001f690: 726d 2c20 2254 494d 4520 464f 524d 4154  rm, "TIME FORMAT
+0001f6a0: 3a22 2c20 5b27 4d4d 3a53 5327 2c20 2748  :", ['MM:SS', 'H
+0001f6b0: 483a 4d4d 3a53 5327 2c20 2753 532e 4d4d  H:MM:SS', 'SS.MM
+0001f6c0: 4d4d 4d4d 272c 2027 4848 3a4d 4d3a 5353  MMMM', 'HH:MM:SS
+0001f6d0: 2e4d 4d4d 4d27 5d2c 206c 6162 656c 7769  .MMMM'], labelwi
+0001f6e0: 6474 683d 3235 290a 0a20 2020 2020 2020  dth=25)..       
+0001f6f0: 2073 656c 662e 6c6f 6361 7469 6f6e 5f64   self.location_d
+0001f700: 726f 7064 6f77 6e2e 7365 7443 686f 6963  ropdown.setChoic
+0001f710: 6573 2827 544f 5020 4c45 4654 2729 0a20  es('TOP LEFT'). 
+0001f720: 2020 2020 2020 2073 656c 662e 666f 6e74         self.font
+0001f730: 5f73 697a 655f 6472 6f70 646f 776e 2e73  _size_dropdown.s
+0001f740: 6574 4368 6f69 6365 7328 3230 290a 2020  etChoices(20).  
+0001f750: 2020 2020 2020 7365 6c66 2e66 6f6e 745f        self.font_
+0001f760: 6472 6f70 646f 776e 2e73 6574 4368 6f69  dropdown.setChoi
+0001f770: 6365 7328 2741 7269 616c 2729 0a20 2020  ces('Arial').   
+0001f780: 2020 2020 2073 656c 662e 666f 6e74 5f63       self.font_c
+0001f790: 6f6c 6f72 5f64 726f 7064 6f77 6e2e 7365  olor_dropdown.se
+0001f7a0: 7443 686f 6963 6573 2827 5768 6974 6527  tChoices('White'
+0001f7b0: 290a 2020 2020 2020 2020 7365 6c66 2e66  ).        self.f
+0001f7c0: 6f6e 745f 626f 7264 6572 5f64 726f 7064  ont_border_dropd
+0001f7d0: 6f77 6e2e 7365 7443 686f 6963 6573 2827  own.setChoices('
+0001f7e0: 426c 6163 6b27 290a 2020 2020 2020 2020  Black').        
+0001f7f0: 7365 6c66 2e66 6f6e 745f 626f 7264 6572  self.font_border
+0001f800: 5f77 6964 7468 5f64 726f 7064 6f77 6e2e  _width_dropdown.
+0001f810: 7365 7443 686f 6963 6573 2832 290a 2020  setChoices(2).  
+0001f820: 2020 2020 2020 7365 6c66 2e74 696d 6572        self.timer
+0001f830: 5f66 6f72 6d61 745f 6472 6f70 646f 776e  _format_dropdown
+0001f840: 2e73 6574 4368 6f69 6365 7328 2748 483a  .setChoices('HH:
+0001f850: 4d4d 3a53 532e 4d4d 4d4d 2729 0a0a 2020  MM:SS.MMMM')..  
+0001f860: 2020 2020 2020 7365 7474 696e 6773 5f66        settings_f
+0001f870: 726d 2e67 7269 6428 726f 773d 302c 2063  rm.grid(row=0, c
+0001f880: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
+0001f890: 4e57 290a 2020 2020 2020 2020 7365 6c66  NW).        self
+0001f8a0: 2e6c 6f63 6174 696f 6e5f 6472 6f70 646f  .location_dropdo
+0001f8b0: 776e 2e67 7269 6428 726f 773d 302c 2063  wn.grid(row=0, c
+0001f8c0: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
+0001f8d0: 4e57 290a 2020 2020 2020 2020 7365 6c66  NW).        self
+0001f8e0: 2e66 6f6e 745f 6472 6f70 646f 776e 2e67  .font_dropdown.g
+0001f8f0: 7269 6428 726f 773d 312c 2063 6f6c 756d  rid(row=1, colum
+0001f900: 6e3d 302c 2073 7469 636b 793d 4e57 290a  n=0, sticky=NW).
+0001f910: 2020 2020 2020 2020 7365 6c66 2e66 6f6e          self.fon
+0001f920: 745f 7369 7a65 5f64 726f 7064 6f77 6e2e  t_size_dropdown.
+0001f930: 6772 6964 2872 6f77 3d32 2c20 636f 6c75  grid(row=2, colu
+0001f940: 6d6e 3d30 2c20 7374 6963 6b79 3d4e 5729  mn=0, sticky=NW)
+0001f950: 0a20 2020 2020 2020 2073 656c 662e 666f  .        self.fo
+0001f960: 6e74 5f63 6f6c 6f72 5f64 726f 7064 6f77  nt_color_dropdow
+0001f970: 6e2e 6772 6964 2872 6f77 3d33 2c20 636f  n.grid(row=3, co
+0001f980: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d4e  lumn=0, sticky=N
+0001f990: 5729 0a20 2020 2020 2020 2073 656c 662e  W).        self.
+0001f9a0: 666f 6e74 5f62 6f72 6465 725f 6472 6f70  font_border_drop
+0001f9b0: 646f 776e 2e67 7269 6428 726f 773d 342c  down.grid(row=4,
+0001f9c0: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
+0001f9d0: 793d 4e57 290a 2020 2020 2020 2020 7365  y=NW).        se
+0001f9e0: 6c66 2e66 6f6e 745f 626f 7264 6572 5f77  lf.font_border_w
+0001f9f0: 6964 7468 5f64 726f 7064 6f77 6e2e 6772  idth_dropdown.gr
+0001fa00: 6964 2872 6f77 3d35 2c20 636f 6c75 6d6e  id(row=5, column
+0001fa10: 3d30 2c20 7374 6963 6b79 3d4e 5729 0a20  =0, sticky=NW). 
+0001fa20: 2020 2020 2020 2073 656c 662e 7469 6d65         self.time
+0001fa30: 725f 666f 726d 6174 5f64 726f 7064 6f77  r_format_dropdow
+0001fa40: 6e2e 6772 6964 2872 6f77 3d36 2c20 636f  n.grid(row=6, co
+0001fa50: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d4e  lumn=0, sticky=N
+0001fa60: 5729 0a0a 2020 2020 2020 2020 7369 6e67  W)..        sing
+0001fa70: 6c65 5f76 6964 656f 5f66 726d 203d 2043  le_video_frm = C
+0001fa80: 7265 6174 654c 6162 656c 4672 616d 6557  reateLabelFrameW
+0001fa90: 6974 6849 636f 6e28 7061 7265 6e74 3d73  ithIcon(parent=s
+0001faa0: 656c 662e 6d61 696e 5f66 726d 2c20 6865  elf.main_frm, he
+0001fab0: 6164 6572 3d22 5349 4e47 4c45 2056 4944  ader="SINGLE VID
+0001fac0: 454f 202d 2053 5550 4552 494d 504f 5345  EO - SUPERIMPOSE
+0001fad0: 2054 494d 4552 222c 2069 636f 6e5f 6e61   TIMER", icon_na
+0001fae0: 6d65 3d4b 6579 732e 444f 4355 4d45 4e54  me=Keys.DOCUMENT
+0001faf0: 4154 494f 4e2e 7661 6c75 652c 2069 636f  ATION.value, ico
+0001fb00: 6e5f 6c69 6e6b 3d4c 696e 6b73 2e56 4944  n_link=Links.VID
+0001fb10: 454f 5f54 4f4f 4c53 2e76 616c 7565 290a  EO_TOOLS.value).
+0001fb20: 2020 2020 2020 2020 7365 6c66 2e73 656c          self.sel
+0001fb30: 6563 7465 645f 7669 6465 6f20 3d20 4669  ected_video = Fi
+0001fb40: 6c65 5365 6c65 6374 2873 696e 676c 655f  leSelect(single_
+0001fb50: 7669 6465 6f5f 6672 6d2c 2022 5649 4445  video_frm, "VIDE
+0001fb60: 4f20 5041 5448 3a22 2c20 7469 746c 653d  O PATH:", title=
+0001fb70: 2253 656c 6563 7420 6120 7669 6465 6f20  "Select a video 
+0001fb80: 6669 6c65 222c 206c 626c 7769 6474 683d  file", lblwidth=
+0001fb90: 3235 2c20 6669 6c65 5f74 7970 6573 3d5b  25, file_types=[
+0001fba0: 2822 5649 4445 4f20 4649 4c45 222c 204f  ("VIDEO FILE", O
+0001fbb0: 7074 696f 6e73 2e41 4c4c 5f56 4944 454f  ptions.ALL_VIDEO
+0001fbc0: 5f46 4f52 4d41 545f 5354 525f 4f50 5449  _FORMAT_STR_OPTI
+0001fbd0: 4f4e 532e 7661 6c75 6529 5d29 0a20 2020  ONS.value)]).   
+0001fbe0: 2020 2020 2073 696e 676c 655f 7669 6465       single_vide
+0001fbf0: 6f5f 7275 6e20 3d20 4275 7474 6f6e 2873  o_run = Button(s
+0001fc00: 696e 676c 655f 7669 6465 6f5f 6672 6d2c  ingle_video_frm,
+0001fc10: 2074 6578 743d 2252 554e 202d 2053 494e   text="RUN - SIN
+0001fc20: 474c 4520 5649 4445 4f22 2c20 636f 6d6d  GLE VIDEO", comm
+0001fc30: 616e 643d 6c61 6d62 6461 3a20 7365 6c66  and=lambda: self
+0001fc40: 2e72 756e 286d 756c 7469 706c 653d 4661  .run(multiple=Fa
+0001fc50: 6c73 6529 290a 0a20 2020 2020 2020 2073  lse))..        s
+0001fc60: 696e 676c 655f 7669 6465 6f5f 6672 6d2e  ingle_video_frm.
+0001fc70: 6772 6964 2872 6f77 3d31 2c20 636f 6c75  grid(row=1, colu
+0001fc80: 6d6e 3d30 2c20 7374 6963 6b79 3d22 4e57  mn=0, sticky="NW
+0001fc90: 2229 0a20 2020 2020 2020 2073 656c 662e  ").        self.
+0001fca0: 7365 6c65 6374 6564 5f76 6964 656f 2e67  selected_video.g
+0001fcb0: 7269 6428 726f 773d 302c 2063 6f6c 756d  rid(row=0, colum
+0001fcc0: 6e3d 302c 2073 7469 636b 793d 224e 5722  n=0, sticky="NW"
+0001fcd0: 290a 2020 2020 2020 2020 7369 6e67 6c65  ).        single
+0001fce0: 5f76 6964 656f 5f72 756e 2e67 7269 6428  _video_run.grid(
+0001fcf0: 726f 773d 312c 2063 6f6c 756d 6e3d 302c  row=1, column=0,
+0001fd00: 2073 7469 636b 793d 224e 5722 290a 0a20   sticky="NW").. 
+0001fd10: 2020 2020 2020 206d 756c 7469 706c 655f         multiple_
+0001fd20: 7669 6465 6f73 5f66 726d 203d 2043 7265  videos_frm = Cre
+0001fd30: 6174 654c 6162 656c 4672 616d 6557 6974  ateLabelFrameWit
+0001fd40: 6849 636f 6e28 7061 7265 6e74 3d73 656c  hIcon(parent=sel
+0001fd50: 662e 6d61 696e 5f66 726d 2c20 6865 6164  f.main_frm, head
+0001fd60: 6572 3d22 4d55 4c54 4950 4c45 2056 4944  er="MULTIPLE VID
+0001fd70: 454f 5320 2d20 5355 5045 5249 4d50 4f53  EOS - SUPERIMPOS
+0001fd80: 4520 5449 4d45 5222 2c20 6963 6f6e 5f6e  E TIMER", icon_n
+0001fd90: 616d 653d 4b65 7973 2e44 4f43 554d 454e  ame=Keys.DOCUMEN
+0001fda0: 5441 5449 4f4e 2e76 616c 7565 2c20 6963  TATION.value, ic
+0001fdb0: 6f6e 5f6c 696e 6b3d 4c69 6e6b 732e 5649  on_link=Links.VI
+0001fdc0: 4445 4f5f 544f 4f4c 532e 7661 6c75 6529  DEO_TOOLS.value)
+0001fdd0: 0a20 2020 2020 2020 2073 656c 662e 7365  .        self.se
+0001fde0: 6c65 6374 6564 5f76 6964 656f 5f64 6972  lected_video_dir
+0001fdf0: 203d 2046 6f6c 6465 7253 656c 6563 7428   = FolderSelect(
+0001fe00: 6d75 6c74 6970 6c65 5f76 6964 656f 735f  multiple_videos_
+0001fe10: 6672 6d2c 2022 5649 4445 4f20 4449 5245  frm, "VIDEO DIRE
+0001fe20: 4354 4f52 5920 5041 5448 3a22 2c20 7469  CTORY PATH:", ti
+0001fe30: 746c 653d 2253 656c 6563 7420 6120 7669  tle="Select a vi
+0001fe40: 6465 6f20 6469 7265 6374 6f72 7922 2c20  deo directory", 
+0001fe50: 6c62 6c77 6964 7468 3d32 3529 0a20 2020  lblwidth=25).   
+0001fe60: 2020 2020 206d 756c 7469 706c 655f 7669       multiple_vi
+0001fe70: 6465 6f73 5f72 756e 203d 2042 7574 746f  deos_run = Butto
+0001fe80: 6e28 6d75 6c74 6970 6c65 5f76 6964 656f  n(multiple_video
+0001fe90: 735f 6672 6d2c 2074 6578 743d 2252 554e  s_frm, text="RUN
+0001fea0: 202d 204d 554c 5449 504c 4520 5649 4445   - MULTIPLE VIDE
+0001feb0: 4f53 222c 2063 6f6d 6d61 6e64 3d6c 616d  OS", command=lam
+0001fec0: 6264 613a 2073 656c 662e 7275 6e28 6d75  bda: self.run(mu
+0001fed0: 6c74 6970 6c65 3d54 7275 6529 290a 0a20  ltiple=True)).. 
+0001fee0: 2020 2020 2020 206d 756c 7469 706c 655f         multiple_
+0001fef0: 7669 6465 6f73 5f66 726d 2e67 7269 6428  videos_frm.grid(
+0001ff00: 726f 773d 322c 2063 6f6c 756d 6e3d 302c  row=2, column=0,
+0001ff10: 2073 7469 636b 793d 224e 5722 290a 2020   sticky="NW").  
+0001ff20: 2020 2020 2020 7365 6c66 2e73 656c 6563        self.selec
+0001ff30: 7465 645f 7669 6465 6f5f 6469 722e 6772  ted_video_dir.gr
+0001ff40: 6964 2872 6f77 3d30 2c20 636f 6c75 6d6e  id(row=0, column
+0001ff50: 3d30 2c20 7374 6963 6b79 3d22 4e57 2229  =0, sticky="NW")
+0001ff60: 0a20 2020 2020 2020 206d 756c 7469 706c  .        multipl
+0001ff70: 655f 7669 6465 6f73 5f72 756e 2e67 7269  e_videos_run.gri
+0001ff80: 6428 726f 773d 312c 2063 6f6c 756d 6e3d  d(row=1, column=
+0001ff90: 302c 2073 7469 636b 793d 224e 5722 290a  0, sticky="NW").
+0001ffa0: 2020 2020 2020 2020 2373 656c 662e 6d61          #self.ma
+0001ffb0: 696e 5f66 726d 2e6d 6169 6e6c 6f6f 7028  in_frm.mainloop(
+0001ffc0: 290a 0a20 2020 2064 6566 2072 756e 2873  )..    def run(s
+0001ffd0: 656c 662c 206d 756c 7469 706c 653a 2062  elf, multiple: b
+0001ffe0: 6f6f 6c29 3a0a 2020 2020 2020 2020 6c6f  ool):.        lo
+0001fff0: 6320 3d20 7365 6c66 2e6c 6f63 6174 696f  c = self.locatio
+00020000: 6e5f 6472 6f70 646f 776e 2e67 6574 4368  n_dropdown.getCh
+00020010: 6f69 6365 7328 290a 2020 2020 2020 2020  oices().        
+00020020: 6c6f 6320 3d20 7365 6c66 2e4c 4f43 4154  loc = self.LOCAT
+00020030: 494f 4e53 5b6c 6f63 5d0a 2020 2020 2020  IONS[loc].      
+00020040: 2020 666f 6e74 5f73 697a 6520 3d20 696e    font_size = in
+00020050: 7428 7365 6c66 2e66 6f6e 745f 7369 7a65  t(self.font_size
+00020060: 5f64 726f 7064 6f77 6e2e 6765 7443 686f  _dropdown.getCho
+00020070: 6963 6573 2829 290a 2020 2020 2020 2020  ices()).        
+00020080: 666f 6e74 203d 2073 656c 662e 666f 6e74  font = self.font
+00020090: 5f64 726f 7064 6f77 6e2e 6765 7443 686f  _dropdown.getCho
+000200a0: 6963 6573 2829 0a20 2020 2020 2020 2066  ices().        f
+000200b0: 6f6e 745f 636c 7220 3d20 7365 6c66 2e66  ont_clr = self.f
+000200c0: 6f6e 745f 636f 6c6f 725f 6472 6f70 646f  ont_color_dropdo
+000200d0: 776e 2e67 6574 4368 6f69 6365 7328 290a  wn.getChoices().
+000200e0: 2020 2020 2020 2020 666f 6e74 5f62 6f72          font_bor
+000200f0: 6465 725f 636c 7220 3d20 7365 6c66 2e66  der_clr = self.f
+00020100: 6f6e 745f 626f 7264 6572 5f64 726f 7064  ont_border_dropd
+00020110: 6f77 6e2e 6765 7443 686f 6963 6573 2829  own.getChoices()
+00020120: 0a20 2020 2020 2020 2066 6f6e 745f 626f  .        font_bo
+00020130: 7264 6572 5f77 6964 7468 203d 2069 6e74  rder_width = int
+00020140: 2873 656c 662e 666f 6e74 5f62 6f72 6465  (self.font_borde
+00020150: 725f 7769 6474 685f 6472 6f70 646f 776e  r_width_dropdown
+00020160: 2e67 6574 4368 6f69 6365 7328 2929 0a20  .getChoices()). 
+00020170: 2020 2020 2020 2074 696d 6572 5f66 6f72         timer_for
+00020180: 6d61 7420 3d20 7365 6c66 2e74 696d 6572  mat = self.timer
+00020190: 5f66 6f72 6d61 745f 6472 6f70 646f 776e  _format_dropdown
+000201a0: 2e67 6574 4368 6f69 6365 7328 290a 2020  .getChoices().  
+000201b0: 2020 2020 2020 6966 206e 6f74 206d 756c        if not mul
+000201c0: 7469 706c 653a 0a20 2020 2020 2020 2020  tiple:.         
+000201d0: 2020 2064 6174 615f 7061 7468 203d 2073     data_path = s
+000201e0: 656c 662e 7365 6c65 6374 6564 5f76 6964  elf.selected_vid
+000201f0: 656f 2e66 696c 655f 7061 7468 0a20 2020  eo.file_path.   
+00020200: 2020 2020 2020 2020 2063 6865 636b 5f66           check_f
+00020210: 696c 655f 6578 6973 745f 616e 645f 7265  ile_exist_and_re
+00020220: 6164 6162 6c65 2866 696c 655f 7061 7468  adable(file_path
+00020230: 3d64 6174 615f 7061 7468 290a 2020 2020  =data_path).    
+00020240: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00020250: 2020 2020 2020 6461 7461 5f70 6174 6820        data_path 
+00020260: 3d20 7365 6c66 2e73 656c 6563 7465 645f  = self.selected_
+00020270: 7669 6465 6f5f 6469 722e 666f 6c64 6572  video_dir.folder
+00020280: 5f70 6174 680a 2020 2020 2020 2020 2020  _path.          
+00020290: 2020 6368 6563 6b5f 6966 5f64 6972 5f65    check_if_dir_e
+000202a0: 7869 7374 7328 696e 5f64 6972 3d64 6174  xists(in_dir=dat
+000202b0: 615f 7061 7468 290a 0a20 2020 2020 2020  a_path)..       
+000202c0: 2074 6872 6561 6469 6e67 2e54 6872 6561   threading.Threa
+000202d0: 6428 7461 7267 6574 3d73 7570 6572 696d  d(target=superim
+000202e0: 706f 7365 5f65 6c61 7073 6564 5f74 696d  pose_elapsed_tim
+000202f0: 6528 7669 6465 6f5f 7061 7468 3d64 6174  e(video_path=dat
+00020300: 615f 7061 7468 2c0a 2020 2020 2020 2020  a_path,.        
+00020310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020330: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020340: 2066 6f6e 743d 666f 6e74 2c0a 2020 2020   font=font,.    
+00020350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020380: 2020 2020 2066 6f6e 745f 7369 7a65 3d66       font_size=f
+00020390: 6f6e 745f 7369 7a65 2c0a 2020 2020 2020  ont_size,.      
+000203a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000203b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000203c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000203d0: 2020 2066 6f6e 745f 636f 6c6f 723d 666f     font_color=fo
+000203e0: 6e74 5f63 6c72 2c0a 2020 2020 2020 2020  nt_clr,.        
+000203f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020420: 2066 6f6e 745f 626f 7264 6572 5f63 6f6c   font_border_col
+00020430: 6f72 3d66 6f6e 745f 626f 7264 6572 5f63  or=font_border_c
+00020440: 6c72 2c0a 2020 2020 2020 2020 2020 2020  lr,.            
+00020450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020470: 2020 2020 2020 2020 2020 2020 2066 6f6e               fon
+00020480: 745f 626f 7264 6572 5f77 6964 7468 3d66  t_border_width=f
+00020490: 6f6e 745f 626f 7264 6572 5f77 6964 7468  ont_border_width
+000204a0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000204b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000204c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000204d0: 2020 2020 2020 2020 2020 2074 696d 655f             time_
+000204e0: 666f 726d 6174 3d74 696d 6572 5f66 6f72  format=timer_for
+000204f0: 6d61 742c 0a20 2020 2020 2020 2020 2020  mat,.           
+00020500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020520: 2020 2020 2020 2020 2020 2020 2020 706f                po
+00020530: 7369 7469 6f6e 3d6c 6f63 2929 2e73 7461  sition=loc)).sta
+00020540: 7274 2829 0a0a 0a63 6c61 7373 2053 7570  rt()...class Sup
+00020550: 6572 696d 706f 7365 5072 6f67 7265 7373  erimposeProgress
+00020560: 4261 7250 6f70 5570 2850 6f70 5570 4d69  BarPopUp(PopUpMi
+00020570: 7869 6e29 3a0a 2020 2020 6465 6620 5f5f  xin):.    def __
+00020580: 696e 6974 5f5f 2873 656c 6629 3a0a 2020  init__(self):.  
+00020590: 2020 2020 2020 506f 7055 704d 6978 696e        PopUpMixin
+000205a0: 2e5f 5f69 6e69 745f 5f28 7365 6c66 2c20  .__init__(self, 
+000205b0: 7469 746c 653d 2253 5550 4552 2d49 4d50  title="SUPER-IMP
+000205c0: 4f53 4520 5052 4f47 5245 5353 2042 4152  OSE PROGRESS BAR
+000205d0: 204f 4e20 5649 4445 4f53 2229 0a20 2020   ON VIDEOS").   
+000205e0: 2020 2020 2073 656c 662e 4c4f 4341 5449       self.LOCATI
+000205f0: 4f4e 5320 3d20 7b27 544f 5027 3a20 2774  ONS = {'TOP': 't
+00020600: 6f70 272c 2027 424f 5454 4f4d 273a 2027  op', 'BOTTOM': '
+00020610: 626f 7474 6f6d 277d 0a20 2020 2020 2020  bottom'}.       
+00020620: 2073 6574 7469 6e67 735f 6672 6d20 3d20   settings_frm = 
+00020630: 4372 6561 7465 4c61 6265 6c46 7261 6d65  CreateLabelFrame
+00020640: 5769 7468 4963 6f6e 2870 6172 656e 743d  WithIcon(parent=
+00020650: 7365 6c66 2e6d 6169 6e5f 6672 6d2c 2068  self.main_frm, h
+00020660: 6561 6465 723d 2253 4554 5449 4e47 5322  eader="SETTINGS"
+00020670: 2c20 6963 6f6e 5f6e 616d 653d 4b65 7973  , icon_name=Keys
+00020680: 2e44 4f43 554d 454e 5441 5449 4f4e 2e76  .DOCUMENTATION.v
+00020690: 616c 7565 2c20 6963 6f6e 5f6c 696e 6b3d  alue, icon_link=
+000206a0: 4c69 6e6b 732e 5649 4445 4f5f 544f 4f4c  Links.VIDEO_TOOL
+000206b0: 532e 7661 6c75 6529 0a20 2020 2020 2020  S.value).       
+000206c0: 2073 656c 662e 636f 6c6f 725f 6469 6374   self.color_dict
+000206d0: 203d 2067 6574 5f63 6f6c 6f72 5f64 6963   = get_color_dic
+000206e0: 7428 290a 2020 2020 2020 2020 7369 7a65  t().        size
+000206f0: 5f6c 7374 203d 206c 6973 7428 7261 6e67  _lst = list(rang
+00020700: 6528 302c 2031 3130 2c20 3529 290a 2020  e(0, 110, 5)).  
+00020710: 2020 2020 2020 7369 7a65 5f6c 7374 5b30        size_lst[0
+00020720: 5d20 3d20 310a 2020 2020 2020 2020 7365  ] = 1.        se
+00020730: 6c66 2e62 6172 5f6c 6f63 5f64 726f 7064  lf.bar_loc_dropd
+00020740: 6f77 6e20 3d20 4472 6f70 446f 776e 4d65  own = DropDownMe
+00020750: 6e75 2873 6574 7469 6e67 735f 6672 6d2c  nu(settings_frm,
+00020760: 2022 5052 4f47 5245 5353 2042 4152 204c   "PROGRESS BAR L
+00020770: 4f43 4154 494f 4e3a 222c 206c 6973 7428  OCATION:", list(
+00020780: 7365 6c66 2e4c 4f43 4154 494f 4e53 2e6b  self.LOCATIONS.k
+00020790: 6579 7328 2929 2c20 6c61 6265 6c77 6964  eys()), labelwid
+000207a0: 7468 3d32 3529 0a20 2020 2020 2020 2073  th=25).        s
+000207b0: 656c 662e 6261 725f 636f 6c6f 725f 6472  elf.bar_color_dr
+000207c0: 6f70 646f 776e 203d 2044 726f 7044 6f77  opdown = DropDow
+000207d0: 6e4d 656e 7528 7365 7474 696e 6773 5f66  nMenu(settings_f
+000207e0: 726d 2c20 2250 524f 4752 4553 5320 4241  rm, "PROGRESS BA
+000207f0: 5220 434f 4c4f 523a 222c 206c 6973 7428  R COLOR:", list(
+00020800: 7365 6c66 2e63 6f6c 6f72 5f64 6963 742e  self.color_dict.
+00020810: 6b65 7973 2829 292c 206c 6162 656c 7769  keys()), labelwi
+00020820: 6474 683d 3235 290a 2020 2020 2020 2020  dth=25).        
+00020830: 7365 6c66 2e62 6172 5f73 697a 655f 6472  self.bar_size_dr
+00020840: 6f70 646f 776e 203d 2044 726f 7044 6f77  opdown = DropDow
+00020850: 6e4d 656e 7528 7365 7474 696e 6773 5f66  nMenu(settings_f
+00020860: 726d 2c20 2250 524f 4752 4553 5320 4241  rm, "PROGRESS BA
+00020870: 5220 4845 4947 4854 2028 2529 3a22 2c20  R HEIGHT (%):", 
+00020880: 7369 7a65 5f6c 7374 2c20 6c61 6265 6c77  size_lst, labelw
+00020890: 6964 7468 3d32 3529 0a20 2020 2020 2020  idth=25).       
+000208a0: 2073 656c 662e 6261 725f 636f 6c6f 725f   self.bar_color_
+000208b0: 6472 6f70 646f 776e 2e73 6574 4368 6f69  dropdown.setChoi
+000208c0: 6365 7328 2752 6564 2729 0a20 2020 2020  ces('Red').     
+000208d0: 2020 2073 656c 662e 6261 725f 7369 7a65     self.bar_size
+000208e0: 5f64 726f 7064 6f77 6e2e 7365 7443 686f  _dropdown.setCho
+000208f0: 6963 6573 2831 3029 0a20 2020 2020 2020  ices(10).       
+00020900: 2073 656c 662e 6261 725f 6c6f 635f 6472   self.bar_loc_dr
+00020910: 6f70 646f 776e 2e73 6574 4368 6f69 6365  opdown.setChoice
+00020920: 7328 2742 4f54 544f 4d27 290a 0a20 2020  s('BOTTOM')..   
+00020930: 2020 2020 2073 6574 7469 6e67 735f 6672       settings_fr
+00020940: 6d2e 6772 6964 2872 6f77 3d30 2c20 636f  m.grid(row=0, co
+00020950: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d4e  lumn=0, sticky=N
+00020960: 5729 0a20 2020 2020 2020 2073 656c 662e  W).        self.
+00020970: 6261 725f 6c6f 635f 6472 6f70 646f 776e  bar_loc_dropdown
+00020980: 2e67 7269 6428 726f 773d 302c 2063 6f6c  .grid(row=0, col
+00020990: 756d 6e3d 302c 2073 7469 636b 793d 4e57  umn=0, sticky=NW
+000209a0: 290a 2020 2020 2020 2020 7365 6c66 2e62  ).        self.b
+000209b0: 6172 5f63 6f6c 6f72 5f64 726f 7064 6f77  ar_color_dropdow
+000209c0: 6e2e 6772 6964 2872 6f77 3d31 2c20 636f  n.grid(row=1, co
+000209d0: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d4e  lumn=0, sticky=N
+000209e0: 5729 0a20 2020 2020 2020 2073 656c 662e  W).        self.
+000209f0: 6261 725f 7369 7a65 5f64 726f 7064 6f77  bar_size_dropdow
+00020a00: 6e2e 6772 6964 2872 6f77 3d32 2c20 636f  n.grid(row=2, co
+00020a10: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d4e  lumn=0, sticky=N
+00020a20: 5729 0a0a 2020 2020 2020 2020 7369 6e67  W)..        sing
+00020a30: 6c65 5f76 6964 656f 5f66 726d 203d 2043  le_video_frm = C
+00020a40: 7265 6174 654c 6162 656c 4672 616d 6557  reateLabelFrameW
+00020a50: 6974 6849 636f 6e28 7061 7265 6e74 3d73  ithIcon(parent=s
+00020a60: 656c 662e 6d61 696e 5f66 726d 2c20 6865  elf.main_frm, he
+00020a70: 6164 6572 3d22 5349 4e47 4c45 2056 4944  ader="SINGLE VID
+00020a80: 454f 202d 2053 5550 4552 494d 504f 5345  EO - SUPERIMPOSE
+00020a90: 2050 524f 4752 4553 5320 4241 5222 2c20   PROGRESS BAR", 
+00020aa0: 6963 6f6e 5f6e 616d 653d 4b65 7973 2e44  icon_name=Keys.D
+00020ab0: 4f43 554d 454e 5441 5449 4f4e 2e76 616c  OCUMENTATION.val
+00020ac0: 7565 2c20 6963 6f6e 5f6c 696e 6b3d 4c69  ue, icon_link=Li
+00020ad0: 6e6b 732e 5649 4445 4f5f 544f 4f4c 532e  nks.VIDEO_TOOLS.
+00020ae0: 7661 6c75 6529 0a20 2020 2020 2020 2073  value).        s
+00020af0: 656c 662e 7365 6c65 6374 6564 5f76 6964  elf.selected_vid
+00020b00: 656f 203d 2046 696c 6553 656c 6563 7428  eo = FileSelect(
+00020b10: 7369 6e67 6c65 5f76 6964 656f 5f66 726d  single_video_frm
+00020b20: 2c20 2256 4944 454f 2050 4154 483a 222c  , "VIDEO PATH:",
+00020b30: 2074 6974 6c65 3d22 5365 6c65 6374 2061   title="Select a
+00020b40: 2076 6964 656f 2066 696c 6522 2c20 6c62   video file", lb
+00020b50: 6c77 6964 7468 3d32 352c 2066 696c 655f  lwidth=25, file_
+00020b60: 7479 7065 733d 5b28 2256 4944 454f 2046  types=[("VIDEO F
+00020b70: 494c 4522 2c20 4f70 7469 6f6e 732e 414c  ILE", Options.AL
+00020b80: 4c5f 5649 4445 4f5f 464f 524d 4154 5f53  L_VIDEO_FORMAT_S
+00020b90: 5452 5f4f 5054 494f 4e53 2e76 616c 7565  TR_OPTIONS.value
+00020ba0: 295d 290a 2020 2020 2020 2020 7369 6e67  )]).        sing
+00020bb0: 6c65 5f76 6964 656f 5f72 756e 203d 2042  le_video_run = B
+00020bc0: 7574 746f 6e28 7369 6e67 6c65 5f76 6964  utton(single_vid
+00020bd0: 656f 5f66 726d 2c20 7465 7874 3d22 5255  eo_frm, text="RU
+00020be0: 4e20 2d20 5349 4e47 4c45 2056 4944 454f  N - SINGLE VIDEO
+00020bf0: 222c 2063 6f6d 6d61 6e64 3d6c 616d 6264  ", command=lambd
+00020c00: 613a 2073 656c 662e 7275 6e28 6d75 6c74  a: self.run(mult
+00020c10: 6970 6c65 3d46 616c 7365 2929 0a0a 2020  iple=False))..  
+00020c20: 2020 2020 2020 7369 6e67 6c65 5f76 6964        single_vid
+00020c30: 656f 5f66 726d 2e67 7269 6428 726f 773d  eo_frm.grid(row=
+00020c40: 312c 2063 6f6c 756d 6e3d 302c 2073 7469  1, column=0, sti
+00020c50: 636b 793d 224e 5722 290a 2020 2020 2020  cky="NW").      
+00020c60: 2020 7365 6c66 2e73 656c 6563 7465 645f    self.selected_
+00020c70: 7669 6465 6f2e 6772 6964 2872 6f77 3d30  video.grid(row=0
+00020c80: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
+00020c90: 6b79 3d22 4e57 2229 0a20 2020 2020 2020  ky="NW").       
+00020ca0: 2073 696e 676c 655f 7669 6465 6f5f 7275   single_video_ru
+00020cb0: 6e2e 6772 6964 2872 6f77 3d31 2c20 636f  n.grid(row=1, co
+00020cc0: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d22  lumn=0, sticky="
+00020cd0: 4e57 2229 0a0a 2020 2020 2020 2020 6d75  NW")..        mu
+00020ce0: 6c74 6970 6c65 5f76 6964 656f 735f 6672  ltiple_videos_fr
+00020cf0: 6d20 3d20 4372 6561 7465 4c61 6265 6c46  m = CreateLabelF
+00020d00: 7261 6d65 5769 7468 4963 6f6e 2870 6172  rameWithIcon(par
+00020d10: 656e 743d 7365 6c66 2e6d 6169 6e5f 6672  ent=self.main_fr
+00020d20: 6d2c 2068 6561 6465 723d 224d 554c 5449  m, header="MULTI
+00020d30: 504c 4520 5649 4445 4f53 202d 2053 5550  PLE VIDEOS - SUP
+00020d40: 4552 494d 504f 5345 2050 524f 4752 4553  ERIMPOSE PROGRES
+00020d50: 5320 4241 5222 2c20 6963 6f6e 5f6e 616d  S BAR", icon_nam
+00020d60: 653d 4b65 7973 2e44 4f43 554d 454e 5441  e=Keys.DOCUMENTA
+00020d70: 5449 4f4e 2e76 616c 7565 2c20 6963 6f6e  TION.value, icon
+00020d80: 5f6c 696e 6b3d 4c69 6e6b 732e 5649 4445  _link=Links.VIDE
+00020d90: 4f5f 544f 4f4c 532e 7661 6c75 6529 0a20  O_TOOLS.value). 
+00020da0: 2020 2020 2020 2073 656c 662e 7365 6c65         self.sele
+00020db0: 6374 6564 5f76 6964 656f 5f64 6972 203d  cted_video_dir =
+00020dc0: 2046 6f6c 6465 7253 656c 6563 7428 6d75   FolderSelect(mu
+00020dd0: 6c74 6970 6c65 5f76 6964 656f 735f 6672  ltiple_videos_fr
+00020de0: 6d2c 2022 5649 4445 4f20 4449 5245 4354  m, "VIDEO DIRECT
+00020df0: 4f52 5920 5041 5448 3a22 2c20 7469 746c  ORY PATH:", titl
+00020e00: 653d 2253 656c 6563 7420 6120 7669 6465  e="Select a vide
+00020e10: 6f20 6469 7265 6374 6f72 7922 2c20 6c62  o directory", lb
+00020e20: 6c77 6964 7468 3d32 3529 0a20 2020 2020  lwidth=25).     
+00020e30: 2020 206d 756c 7469 706c 655f 7669 6465     multiple_vide
+00020e40: 6f73 5f72 756e 203d 2042 7574 746f 6e28  os_run = Button(
+00020e50: 6d75 6c74 6970 6c65 5f76 6964 656f 735f  multiple_videos_
+00020e60: 6672 6d2c 2074 6578 743d 2252 554e 202d  frm, text="RUN -
+00020e70: 204d 554c 5449 504c 4520 5649 4445 4f53   MULTIPLE VIDEOS
+00020e80: 222c 2063 6f6d 6d61 6e64 3d6c 616d 6264  ", command=lambd
+00020e90: 613a 2073 656c 662e 7275 6e28 6d75 6c74  a: self.run(mult
+00020ea0: 6970 6c65 3d54 7275 6529 290a 0a20 2020  iple=True))..   
+00020eb0: 2020 2020 206d 756c 7469 706c 655f 7669       multiple_vi
+00020ec0: 6465 6f73 5f66 726d 2e67 7269 6428 726f  deos_frm.grid(ro
+00020ed0: 773d 322c 2063 6f6c 756d 6e3d 302c 2073  w=2, column=0, s
+00020ee0: 7469 636b 793d 224e 5722 290a 2020 2020  ticky="NW").    
+00020ef0: 2020 2020 7365 6c66 2e73 656c 6563 7465      self.selecte
+00020f00: 645f 7669 6465 6f5f 6469 722e 6772 6964  d_video_dir.grid
+00020f10: 2872 6f77 3d30 2c20 636f 6c75 6d6e 3d30  (row=0, column=0
+00020f20: 2c20 7374 6963 6b79 3d22 4e57 2229 0a20  , sticky="NW"). 
+00020f30: 2020 2020 2020 206d 756c 7469 706c 655f         multiple_
+00020f40: 7669 6465 6f73 5f72 756e 2e67 7269 6428  videos_run.grid(
+00020f50: 726f 773d 312c 2063 6f6c 756d 6e3d 302c  row=1, column=0,
+00020f60: 2073 7469 636b 793d 224e 5722 290a 2020   sticky="NW").  
+00020f70: 2020 2020 2020 2373 656c 662e 6d61 696e        #self.main
+00020f80: 5f66 726d 2e6d 6169 6e6c 6f6f 7028 290a  _frm.mainloop().
+00020f90: 0a20 2020 2064 6566 2072 756e 2873 656c  .    def run(sel
+00020fa0: 662c 206d 756c 7469 706c 653a 2062 6f6f  f, multiple: boo
+00020fb0: 6c29 3a0a 2020 2020 2020 2020 6c6f 6320  l):.        loc 
+00020fc0: 3d20 7365 6c66 2e62 6172 5f6c 6f63 5f64  = self.bar_loc_d
+00020fd0: 726f 7064 6f77 6e2e 6765 7443 686f 6963  ropdown.getChoic
+00020fe0: 6573 2829 0a20 2020 2020 2020 206c 6f63  es().        loc
+00020ff0: 203d 2073 656c 662e 4c4f 4341 5449 4f4e   = self.LOCATION
+00021000: 535b 6c6f 635d 0a20 2020 2020 2020 2062  S[loc].        b
+00021010: 6172 5f63 6c72 203d 2073 656c 662e 6261  ar_clr = self.ba
+00021020: 725f 636f 6c6f 725f 6472 6f70 646f 776e  r_color_dropdown
+00021030: 2e67 6574 4368 6f69 6365 7328 290a 2020  .getChoices().  
+00021040: 2020 2020 2020 6261 725f 7369 7a65 203d        bar_size =
+00021050: 2069 6e74 2873 656c 662e 6261 725f 7369   int(self.bar_si
+00021060: 7a65 5f64 726f 7064 6f77 6e2e 6765 7443  ze_dropdown.getC
+00021070: 686f 6963 6573 2829 290a 2020 2020 2020  hoices()).      
+00021080: 2020 6966 206e 6f74 206d 756c 7469 706c    if not multipl
+00021090: 653a 0a20 2020 2020 2020 2020 2020 2064  e:.            d
+000210a0: 6174 615f 7061 7468 203d 2073 656c 662e  ata_path = self.
+000210b0: 7365 6c65 6374 6564 5f76 6964 656f 2e66  selected_video.f
+000210c0: 696c 655f 7061 7468 0a20 2020 2020 2020  ile_path.       
+000210d0: 2020 2020 2063 6865 636b 5f66 696c 655f       check_file_
+000210e0: 6578 6973 745f 616e 645f 7265 6164 6162  exist_and_readab
+000210f0: 6c65 2866 696c 655f 7061 7468 3d64 6174  le(file_path=dat
+00021100: 615f 7061 7468 290a 2020 2020 2020 2020  a_path).        
+00021110: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00021120: 2020 6461 7461 5f70 6174 6820 3d20 7365    data_path = se
+00021130: 6c66 2e73 656c 6563 7465 645f 7669 6465  lf.selected_vide
+00021140: 6f5f 6469 722e 666f 6c64 6572 5f70 6174  o_dir.folder_pat
+00021150: 680a 2020 2020 2020 2020 2020 2020 6368  h.            ch
+00021160: 6563 6b5f 6966 5f64 6972 5f65 7869 7374  eck_if_dir_exist
+00021170: 7328 696e 5f64 6972 3d64 6174 615f 7061  s(in_dir=data_pa
+00021180: 7468 290a 0a20 2020 2020 2020 2074 6872  th)..        thr
+00021190: 6561 6469 6e67 2e54 6872 6561 6428 7461  eading.Thread(ta
+000211a0: 7267 6574 3d73 7570 6572 696d 706f 7365  rget=superimpose
+000211b0: 5f76 6964 656f 5f70 726f 6772 6573 7362  _video_progressb
+000211c0: 6172 2876 6964 656f 5f70 6174 683d 6461  ar(video_path=da
+000211d0: 7461 5f70 6174 682c 0a20 2020 2020 2020  ta_path,.       
+000211e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000211f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021210: 2020 2020 2020 2062 6172 5f68 6569 6768         bar_heigh
+00021220: 743d 6261 725f 7369 7a65 2c0a 2020 2020  t=bar_size,.    
+00021230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021250: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021260: 2020 2020 2020 2020 2020 636f 6c6f 723d            color=
+00021270: 6261 725f 636c 722c 0a20 2020 2020 2020  bar_clr,.       
+00021280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000212a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000212b0: 2020 2020 2020 2070 6f73 6974 696f 6e3d         position=
+000212c0: 6c6f 6329 292e 7374 6172 7428 290a 0a63  loc)).start()..c
+000212d0: 6c61 7373 2053 7570 6572 696d 706f 7365  lass Superimpose
+000212e0: 5669 6465 6f50 6f70 5570 2850 6f70 5570  VideoPopUp(PopUp
+000212f0: 4d69 7869 6e29 3a0a 2020 2020 6465 6620  Mixin):.    def 
+00021300: 5f5f 696e 6974 5f5f 2873 656c 6629 3a0a  __init__(self):.
+00021310: 2020 2020 2020 2020 506f 7055 704d 6978          PopUpMix
+00021320: 696e 2e5f 5f69 6e69 745f 5f28 7365 6c66  in.__init__(self
+00021330: 2c20 7469 746c 653d 2253 5550 4552 2d49  , title="SUPER-I
+00021340: 4d50 4f53 4520 5649 4445 4f20 4f4e 2056  MPOSE VIDEO ON V
+00021350: 4944 454f 2229 0a20 2020 2020 2020 2073  IDEO").        s
+00021360: 656c 662e 4c4f 4341 5449 4f4e 5320 3d20  elf.LOCATIONS = 
+00021370: 7b27 544f 5020 4c45 4654 273a 2027 746f  {'TOP LEFT': 'to
+00021380: 705f 6c65 6674 272c 2027 544f 5020 5249  p_left', 'TOP RI
+00021390: 4748 5427 3a20 2774 6f70 5f72 6967 6874  GHT': 'top_right
+000213a0: 272c 2027 424f 5454 4f4d 204c 4546 5427  ', 'BOTTOM LEFT'
+000213b0: 3a20 2762 6f74 746f 6d5f 6c65 6674 272c  : 'bottom_left',
+000213c0: 2027 424f 5454 4f4d 2052 4947 4854 273a   'BOTTOM RIGHT':
+000213d0: 2027 626f 7474 6f6d 5f72 6967 6874 272c   'bottom_right',
+000213e0: 2027 4345 4e54 4552 273a 2027 6365 6e74   'CENTER': 'cent
+000213f0: 6572 277d 0a20 2020 2020 2020 2073 6574  er'}.        set
+00021400: 7469 6e67 735f 6672 6d20 3d20 4372 6561  tings_frm = Crea
+00021410: 7465 4c61 6265 6c46 7261 6d65 5769 7468  teLabelFrameWith
+00021420: 4963 6f6e 2870 6172 656e 743d 7365 6c66  Icon(parent=self
+00021430: 2e6d 6169 6e5f 6672 6d2c 2068 6561 6465  .main_frm, heade
+00021440: 723d 2253 4554 5449 4e47 5322 2c20 6963  r="SETTINGS", ic
+00021450: 6f6e 5f6e 616d 653d 4b65 7973 2e44 4f43  on_name=Keys.DOC
+00021460: 554d 454e 5441 5449 4f4e 2e76 616c 7565  UMENTATION.value
+00021470: 2c20 6963 6f6e 5f6c 696e 6b3d 4c69 6e6b  , icon_link=Link
+00021480: 732e 5649 4445 4f5f 544f 4f4c 532e 7661  s.VIDEO_TOOLS.va
+00021490: 6c75 6529 0a20 2020 2020 2020 206f 7061  lue).        opa
+000214a0: 6369 7469 6573 203d 205b 726f 756e 6428  cities = [round(
+000214b0: 782c 2031 2920 666f 7220 7820 696e 206c  x, 1) for x in l
+000214c0: 6973 7428 6e70 2e61 7261 6e67 6528 302e  ist(np.arange(0.
+000214d0: 312c 2031 2e31 2c20 302e 3129 295d 0a20  1, 1.1, 0.1))]. 
+000214e0: 2020 2020 2020 2073 6361 6c65 7320 3d20         scales = 
+000214f0: 5b72 6f75 6e64 2878 2c20 3229 2066 6f72  [round(x, 2) for
+00021500: 2078 2069 6e20 6c69 7374 286e 702e 6172   x in list(np.ar
+00021510: 616e 6765 2830 2e30 352c 2031 2e30 2c20  ange(0.05, 1.0, 
+00021520: 302e 3035 2929 5d0a 2020 2020 2020 2020  0.05))].        
+00021530: 7365 6c66 2e6d 6169 6e5f 7669 6465 6f5f  self.main_video_
+00021540: 7061 7468 203d 2046 696c 6553 656c 6563  path = FileSelec
+00021550: 7428 7365 7474 696e 6773 5f66 726d 2c20  t(settings_frm, 
+00021560: 224d 4149 4e20 5649 4445 4f20 5041 5448  "MAIN VIDEO PATH
+00021570: 3a22 2c20 7469 746c 653d 2253 656c 6563  :", title="Selec
+00021580: 7420 6120 7669 6465 6f20 6669 6c65 222c  t a video file",
+00021590: 2066 696c 655f 7479 7065 733d 5b28 2256   file_types=[("V
+000215a0: 4944 454f 222c 204f 7074 696f 6e73 2e41  IDEO", Options.A
+000215b0: 4c4c 5f56 4944 454f 5f46 4f52 4d41 545f  LL_VIDEO_FORMAT_
+000215c0: 4f50 5449 4f4e 532e 7661 6c75 6529 5d2c  OPTIONS.value)],
+000215d0: 206c 626c 7769 6474 683d 3235 290a 2020   lblwidth=25).  
+000215e0: 2020 2020 2020 7365 6c66 2e6f 7665 726c        self.overl
+000215f0: 6179 5f76 6964 656f 5f70 6174 6820 3d20  ay_video_path = 
+00021600: 4669 6c65 5365 6c65 6374 2873 6574 7469  FileSelect(setti
+00021610: 6e67 735f 6672 6d2c 2022 4f56 4552 4c41  ngs_frm, "OVERLA
+00021620: 5920 5649 4445 4f20 5041 5448 3a22 2c20  Y VIDEO PATH:", 
+00021630: 7469 746c 653d 2253 656c 6563 7420 6120  title="Select a 
+00021640: 7669 6465 6f20 6669 6c65 222c 2066 696c  video file", fil
+00021650: 655f 7479 7065 733d 5b28 2256 4944 454f  e_types=[("VIDEO
+00021660: 222c 204f 7074 696f 6e73 2e41 4c4c 5f56  ", Options.ALL_V
+00021670: 4944 454f 5f46 4f52 4d41 545f 4f50 5449  IDEO_FORMAT_OPTI
+00021680: 4f4e 532e 7661 6c75 6529 5d2c 206c 626c  ONS.value)], lbl
+00021690: 7769 6474 683d 3235 290a 2020 2020 2020  width=25).      
+000216a0: 2020 7365 6c66 2e6c 6f63 6174 696f 6e5f    self.location_
+000216b0: 6472 6f70 646f 776e 203d 2044 726f 7044  dropdown = DropD
+000216c0: 6f77 6e4d 656e 7528 7365 7474 696e 6773  ownMenu(settings
+000216d0: 5f66 726d 2c20 224f 5645 524c 4159 2056  _frm, "OVERLAY V
+000216e0: 4944 454f 204c 4f43 4154 494f 4e3a 222c  IDEO LOCATION:",
+000216f0: 206c 6973 7428 7365 6c66 2e4c 4f43 4154   list(self.LOCAT
+00021700: 494f 4e53 2e6b 6579 7328 2929 2c20 6c61  IONS.keys()), la
+00021710: 6265 6c77 6964 7468 3d32 3529 0a20 2020  belwidth=25).   
+00021720: 2020 2020 2073 656c 662e 6f70 6163 6974       self.opacit
+00021730: 795f 6472 6f70 646f 776e 203d 2044 726f  y_dropdown = Dro
+00021740: 7044 6f77 6e4d 656e 7528 7365 7474 696e  pDownMenu(settin
+00021750: 6773 5f66 726d 2c20 224f 5645 524c 4159  gs_frm, "OVERLAY
+00021760: 2056 4944 454f 204f 5041 4349 5459 3a22   VIDEO OPACITY:"
+00021770: 2c20 6f70 6163 6974 6965 732c 206c 6162  , opacities, lab
+00021780: 656c 7769 6474 683d 3235 290a 2020 2020  elwidth=25).    
+00021790: 2020 2020 7365 6c66 2e73 697a 655f 6472      self.size_dr
+000217a0: 6f70 646f 776e 203d 2044 726f 7044 6f77  opdown = DropDow
+000217b0: 6e4d 656e 7528 7365 7474 696e 6773 5f66  nMenu(settings_f
+000217c0: 726d 2c20 224f 5645 524c 4159 2056 4944  rm, "OVERLAY VID
+000217d0: 454f 2053 4341 4c45 2028 2529 3a22 2c20  EO SCALE (%):", 
+000217e0: 7363 616c 6573 2c20 6c61 6265 6c77 6964  scales, labelwid
+000217f0: 7468 3d32 3529 0a0a 2020 2020 2020 2020  th=25)..        
+00021800: 7365 6c66 2e6c 6f63 6174 696f 6e5f 6472  self.location_dr
+00021810: 6f70 646f 776e 2e73 6574 4368 6f69 6365  opdown.setChoice
+00021820: 7328 2754 4f50 204c 4546 5427 290a 2020  s('TOP LEFT').  
+00021830: 2020 2020 2020 7365 6c66 2e6f 7061 6369        self.opaci
+00021840: 7479 5f64 726f 7064 6f77 6e2e 7365 7443  ty_dropdown.setC
+00021850: 686f 6963 6573 2830 2e35 290a 2020 2020  hoices(0.5).    
+00021860: 2020 2020 7365 6c66 2e73 697a 655f 6472      self.size_dr
+00021870: 6f70 646f 776e 2e73 6574 4368 6f69 6365  opdown.setChoice
+00021880: 7328 302e 3035 290a 0a20 2020 2020 2020  s(0.05)..       
+00021890: 2073 6574 7469 6e67 735f 6672 6d2e 6772   settings_frm.gr
+000218a0: 6964 2872 6f77 3d30 2c20 636f 6c75 6d6e  id(row=0, column
+000218b0: 3d30 2c20 7374 6963 6b79 3d4e 5729 0a20  =0, sticky=NW). 
+000218c0: 2020 2020 2020 2073 656c 662e 6d61 696e         self.main
+000218d0: 5f76 6964 656f 5f70 6174 682e 6772 6964  _video_path.grid
+000218e0: 2872 6f77 3d30 2c20 636f 6c75 6d6e 3d30  (row=0, column=0
+000218f0: 2c20 7374 6963 6b79 3d4e 5729 0a20 2020  , sticky=NW).   
+00021900: 2020 2020 2073 656c 662e 6f76 6572 6c61       self.overla
+00021910: 795f 7669 6465 6f5f 7061 7468 2e67 7269  y_video_path.gri
+00021920: 6428 726f 773d 312c 2063 6f6c 756d 6e3d  d(row=1, column=
+00021930: 302c 2073 7469 636b 793d 4e57 290a 2020  0, sticky=NW).  
+00021940: 2020 2020 2020 7365 6c66 2e6c 6f63 6174        self.locat
+00021950: 696f 6e5f 6472 6f70 646f 776e 2e67 7269  ion_dropdown.gri
+00021960: 6428 726f 773d 322c 2063 6f6c 756d 6e3d  d(row=2, column=
+00021970: 302c 2073 7469 636b 793d 4e57 290a 2020  0, sticky=NW).  
+00021980: 2020 2020 2020 7365 6c66 2e6f 7061 6369        self.opaci
+00021990: 7479 5f64 726f 7064 6f77 6e2e 6772 6964  ty_dropdown.grid
+000219a0: 2872 6f77 3d33 2c20 636f 6c75 6d6e 3d30  (row=3, column=0
+000219b0: 2c20 7374 6963 6b79 3d4e 5729 0a20 2020  , sticky=NW).   
+000219c0: 2020 2020 2073 656c 662e 7369 7a65 5f64       self.size_d
+000219d0: 726f 7064 6f77 6e2e 6772 6964 2872 6f77  ropdown.grid(row
+000219e0: 3d34 2c20 636f 6c75 6d6e 3d30 2c20 7374  =4, column=0, st
+000219f0: 6963 6b79 3d4e 5729 0a20 2020 2020 2020  icky=NW).       
+00021a00: 2073 656c 662e 6372 6561 7465 5f72 756e   self.create_run
+00021a10: 5f66 726d 2872 756e 5f66 756e 6374 696f  _frm(run_functio
+00021a20: 6e3d 7365 6c66 2e72 756e 290a 2020 2020  n=self.run).    
+00021a30: 2020 2020 2373 656c 662e 6d61 696e 5f66      #self.main_f
+00021a40: 726d 2e6d 6169 6e6c 6f6f 7028 290a 0a20  rm.mainloop().. 
+00021a50: 2020 2064 6566 2072 756e 2873 656c 6629     def run(self)
+00021a60: 3a0a 2020 2020 2020 2020 6c6f 6320 3d20  :.        loc = 
+00021a70: 7365 6c66 2e6c 6f63 6174 696f 6e5f 6472  self.location_dr
+00021a80: 6f70 646f 776e 2e67 6574 4368 6f69 6365  opdown.getChoice
+00021a90: 7328 290a 2020 2020 2020 2020 6c6f 6320  s().        loc 
+00021aa0: 3d20 7365 6c66 2e4c 4f43 4154 494f 4e53  = self.LOCATIONS
+00021ab0: 5b6c 6f63 5d0a 2020 2020 2020 2020 6f70  [loc].        op
+00021ac0: 6163 6974 7920 3d20 666c 6f61 7428 7365  acity = float(se
+00021ad0: 6c66 2e6f 7061 6369 7479 5f64 726f 7064  lf.opacity_dropd
+00021ae0: 6f77 6e2e 6765 7443 686f 6963 6573 2829  own.getChoices()
+00021af0: 290a 2020 2020 2020 2020 7369 7a65 203d  ).        size =
+00021b00: 2066 6c6f 6174 2873 656c 662e 7369 7a65   float(self.size
+00021b10: 5f64 726f 7064 6f77 6e2e 6765 7443 686f  _dropdown.getCho
+00021b20: 6963 6573 2829 290a 2020 2020 2020 2020  ices()).        
+00021b30: 7669 6465 6f5f 7061 7468 203d 2073 656c  video_path = sel
+00021b40: 662e 6d61 696e 5f76 6964 656f 5f70 6174  f.main_video_pat
+00021b50: 682e 6669 6c65 5f70 6174 680a 2020 2020  h.file_path.    
+00021b60: 2020 2020 6f76 6572 6c61 795f 7061 7468      overlay_path
+00021b70: 203d 2073 656c 662e 6f76 6572 6c61 795f   = self.overlay_
+00021b80: 7669 6465 6f5f 7061 7468 2e66 696c 655f  video_path.file_
+00021b90: 7061 7468 0a20 2020 2020 2020 2063 6865  path.        che
+00021ba0: 636b 5f66 696c 655f 6578 6973 745f 616e  ck_file_exist_an
+00021bb0: 645f 7265 6164 6162 6c65 2866 696c 655f  d_readable(file_
+00021bc0: 7061 7468 3d76 6964 656f 5f70 6174 6829  path=video_path)
+00021bd0: 0a20 2020 2020 2020 2063 6865 636b 5f66  .        check_f
+00021be0: 696c 655f 6578 6973 745f 616e 645f 7265  ile_exist_and_re
+00021bf0: 6164 6162 6c65 2866 696c 655f 7061 7468  adable(file_path
+00021c00: 3d6f 7665 726c 6179 5f70 6174 6829 0a20  =overlay_path). 
+00021c10: 2020 2020 2020 2074 6872 6561 6469 6e67         threading
+00021c20: 2e54 6872 6561 6428 7461 7267 6574 3d73  .Thread(target=s
+00021c30: 7570 6572 696d 706f 7365 5f6f 7665 726c  uperimpose_overl
+00021c40: 6179 5f76 6964 656f 2876 6964 656f 5f70  ay_video(video_p
+00021c50: 6174 683d 7669 6465 6f5f 7061 7468 2c0a  ath=video_path,.
+00021c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021c90: 2020 2020 2020 2020 2020 6f76 6572 6c61            overla
+00021ca0: 795f 7669 6465 6f5f 7061 7468 3d6f 7665  y_video_path=ove
+00021cb0: 726c 6179 5f70 6174 682c 0a20 2020 2020  rlay_path,.     
+00021cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021cf0: 2020 2020 2070 6f73 6974 696f 6e3d 6c6f       position=lo
+00021d00: 632c 0a20 2020 2020 2020 2020 2020 2020  c,.             
+00021d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021d30: 2020 2020 2020 2020 2020 2020 206f 7061               opa
+00021d40: 6369 7479 3d6f 7061 6369 7479 2c0a 2020  city=opacity,.  
+00021d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021d80: 2020 2020 2020 2020 7363 616c 653d 7369          scale=si
+00021d90: 7a65 2929 2e73 7461 7274 2829 0a0a 636c  ze)).start()..cl
+00021da0: 6173 7320 5375 7065 7269 6d70 6f73 6556  ass SuperimposeV
+00021db0: 6964 656f 4e61 6d65 7350 6f70 5570 2850  ideoNamesPopUp(P
+00021dc0: 6f70 5570 4d69 7869 6e29 3a0a 2020 2020  opUpMixin):.    
+00021dd0: 6465 6620 5f5f 696e 6974 5f5f 2873 656c  def __init__(sel
+00021de0: 6629 3a0a 2020 2020 2020 2020 506f 7055  f):.        PopU
+00021df0: 704d 6978 696e 2e5f 5f69 6e69 745f 5f28  pMixin.__init__(
+00021e00: 7365 6c66 2c20 7469 746c 653d 2253 5550  self, title="SUP
+00021e10: 4552 2d49 4d50 4f53 4520 5649 4445 4f20  ER-IMPOSE VIDEO 
+00021e20: 4e41 4d45 5320 4f4e 2056 4944 454f 5322  NAMES ON VIDEOS"
+00021e30: 290a 2020 2020 2020 2020 7365 6c66 2e4c  ).        self.L
+00021e40: 4f43 4154 494f 4e53 203d 207b 2754 4f50  OCATIONS = {'TOP
+00021e50: 204c 4546 5427 3a20 2774 6f70 5f6c 6566   LEFT': 'top_lef
+00021e60: 7427 2c20 2754 4f50 2052 4947 4854 273a  t', 'TOP RIGHT':
+00021e70: 2027 746f 705f 7269 6768 7427 2c20 2754   'top_right', 'T
+00021e80: 4f50 204d 4944 444c 4527 3a20 2774 6f70  OP MIDDLE': 'top
+00021e90: 5f6d 6964 646c 6527 2c20 2742 4f54 544f  _middle', 'BOTTO
+00021ea0: 4d20 4c45 4654 273a 2027 626f 7474 6f6d  M LEFT': 'bottom
+00021eb0: 5f6c 6566 7427 2c20 2742 4f54 544f 4d20  _left', 'BOTTOM 
+00021ec0: 5249 4748 5427 3a20 2762 6f74 746f 6d5f  RIGHT': 'bottom_
+00021ed0: 7269 6768 7427 2c20 2742 4f54 544f 4d20  right', 'BOTTOM 
+00021ee0: 4d49 4444 4c45 273a 2027 626f 7474 6f6d  MIDDLE': 'bottom
+00021ef0: 5f6d 6964 646c 6527 7d0a 2020 2020 2020  _middle'}.      
+00021f00: 2020 7365 7474 696e 6773 5f66 726d 203d    settings_frm =
+00021f10: 2043 7265 6174 654c 6162 656c 4672 616d   CreateLabelFram
+00021f20: 6557 6974 6849 636f 6e28 7061 7265 6e74  eWithIcon(parent
+00021f30: 3d73 656c 662e 6d61 696e 5f66 726d 2c20  =self.main_frm, 
+00021f40: 6865 6164 6572 3d22 5345 5454 494e 4753  header="SETTINGS
+00021f50: 222c 2069 636f 6e5f 6e61 6d65 3d4b 6579  ", icon_name=Key
+00021f60: 732e 444f 4355 4d45 4e54 4154 494f 4e2e  s.DOCUMENTATION.
+00021f70: 7661 6c75 652c 2069 636f 6e5f 6c69 6e6b  value, icon_link
+00021f80: 3d4c 696e 6b73 2e56 4944 454f 5f54 4f4f  =Links.VIDEO_TOO
+00021f90: 4c53 2e76 616c 7565 290a 2020 2020 2020  LS.value).      
+00021fa0: 2020 7365 6c66 2e63 6f6c 6f72 5f64 6963    self.color_dic
+00021fb0: 7420 3d20 6765 745f 636f 6c6f 725f 6469  t = get_color_di
+00021fc0: 6374 2829 0a20 2020 2020 2020 2073 656c  ct().        sel
+00021fd0: 662e 666f 6e74 5f64 6963 7420 3d20 6765  f.font_dict = ge
+00021fe0: 745f 666f 6e74 7328 290a 0a20 2020 2020  t_fonts()..     
+00021ff0: 2020 2073 656c 662e 6c6f 6361 7469 6f6e     self.location
+00022000: 5f64 726f 7064 6f77 6e20 3d20 4472 6f70  _dropdown = Drop
+00022010: 446f 776e 4d65 6e75 2873 6574 7469 6e67  DownMenu(setting
+00022020: 735f 6672 6d2c 2022 5649 4445 4f20 4e41  s_frm, "VIDEO NA
+00022030: 4d45 2054 4558 5420 4c4f 4341 5449 4f4e  ME TEXT LOCATION
+00022040: 3a22 2c20 6c69 7374 2873 656c 662e 4c4f  :", list(self.LO
+00022050: 4341 5449 4f4e 532e 6b65 7973 2829 292c  CATIONS.keys()),
+00022060: 206c 6162 656c 7769 6474 683d 3235 290a   labelwidth=25).
 00022070: 2020 2020 2020 2020 7365 6c66 2e66 6f6e          self.fon
-00022080: 745f 7369 7a65 5f64 726f 7064 6f77 6e2e  t_size_dropdown.
-00022090: 7365 7443 686f 6963 6573 2832 3029 0a20  setChoices(20). 
-000220a0: 2020 2020 2020 2073 656c 662e 666f 6e74         self.font
-000220b0: 5f64 726f 7064 6f77 6e2e 7365 7443 686f  _dropdown.setCho
-000220c0: 6963 6573 2827 4172 6961 6c27 290a 2020  ices('Arial').  
-000220d0: 2020 2020 2020 7365 6c66 2e66 6f6e 745f        self.font_
-000220e0: 636f 6c6f 725f 6472 6f70 646f 776e 2e73  color_dropdown.s
-000220f0: 6574 4368 6f69 6365 7328 2757 6869 7465  etChoices('White
-00022100: 2729 0a20 2020 2020 2020 2073 656c 662e  ').        self.
-00022110: 666f 6e74 5f62 6f72 6465 725f 6472 6f70  font_border_drop
-00022120: 646f 776e 2e73 6574 4368 6f69 6365 7328  down.setChoices(
-00022130: 2742 6c61 636b 2729 0a20 2020 2020 2020  'Black').       
-00022140: 2073 656c 662e 666f 6e74 5f62 6f72 6465   self.font_borde
-00022150: 725f 7769 6474 685f 6472 6f70 646f 776e  r_width_dropdown
-00022160: 2e73 6574 4368 6f69 6365 7328 3229 0a0a  .setChoices(2)..
-00022170: 2020 2020 2020 2020 7365 7474 696e 6773          settings
-00022180: 5f66 726d 2e67 7269 6428 726f 773d 302c  _frm.grid(row=0,
-00022190: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
-000221a0: 793d 4e57 290a 2020 2020 2020 2020 7365  y=NW).        se
-000221b0: 6c66 2e6c 6f63 6174 696f 6e5f 6472 6f70  lf.location_drop
-000221c0: 646f 776e 2e67 7269 6428 726f 773d 302c  down.grid(row=0,
-000221d0: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
-000221e0: 793d 4e57 290a 2020 2020 2020 2020 7365  y=NW).        se
-000221f0: 6c66 2e66 6f6e 745f 6472 6f70 646f 776e  lf.font_dropdown
-00022200: 2e67 7269 6428 726f 773d 312c 2063 6f6c  .grid(row=1, col
-00022210: 756d 6e3d 302c 2073 7469 636b 793d 4e57  umn=0, sticky=NW
-00022220: 290a 2020 2020 2020 2020 7365 6c66 2e66  ).        self.f
-00022230: 6f6e 745f 7369 7a65 5f64 726f 7064 6f77  ont_size_dropdow
-00022240: 6e2e 6772 6964 2872 6f77 3d32 2c20 636f  n.grid(row=2, co
-00022250: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d4e  lumn=0, sticky=N
-00022260: 5729 0a20 2020 2020 2020 2073 656c 662e  W).        self.
-00022270: 666f 6e74 5f63 6f6c 6f72 5f64 726f 7064  font_color_dropd
-00022280: 6f77 6e2e 6772 6964 2872 6f77 3d33 2c20  own.grid(row=3, 
-00022290: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
-000222a0: 3d4e 5729 0a20 2020 2020 2020 2073 656c  =NW).        sel
-000222b0: 662e 666f 6e74 5f62 6f72 6465 725f 6472  f.font_border_dr
-000222c0: 6f70 646f 776e 2e67 7269 6428 726f 773d  opdown.grid(row=
-000222d0: 342c 2063 6f6c 756d 6e3d 302c 2073 7469  4, column=0, sti
-000222e0: 636b 793d 4e57 290a 2020 2020 2020 2020  cky=NW).        
-000222f0: 7365 6c66 2e66 6f6e 745f 626f 7264 6572  self.font_border
-00022300: 5f77 6964 7468 5f64 726f 7064 6f77 6e2e  _width_dropdown.
-00022310: 6772 6964 2872 6f77 3d35 2c20 636f 6c75  grid(row=5, colu
-00022320: 6d6e 3d30 2c20 7374 6963 6b79 3d4e 5729  mn=0, sticky=NW)
-00022330: 0a0a 2020 2020 2020 2020 7369 6e67 6c65  ..        single
-00022340: 5f76 6964 656f 5f66 726d 203d 2043 7265  _video_frm = Cre
-00022350: 6174 654c 6162 656c 4672 616d 6557 6974  ateLabelFrameWit
-00022360: 6849 636f 6e28 7061 7265 6e74 3d73 656c  hIcon(parent=sel
-00022370: 662e 6d61 696e 5f66 726d 2c20 6865 6164  f.main_frm, head
-00022380: 6572 3d22 5349 4e47 4c45 2056 4944 454f  er="SINGLE VIDEO
-00022390: 202d 2053 5550 4552 494d 504f 5345 2056   - SUPERIMPOSE V
-000223a0: 4944 454f 204e 414d 4522 2c20 6963 6f6e  IDEO NAME", icon
-000223b0: 5f6e 616d 653d 4b65 7973 2e44 4f43 554d  _name=Keys.DOCUM
-000223c0: 454e 5441 5449 4f4e 2e76 616c 7565 2c20  ENTATION.value, 
-000223d0: 6963 6f6e 5f6c 696e 6b3d 4c69 6e6b 732e  icon_link=Links.
-000223e0: 5649 4445 4f5f 544f 4f4c 532e 7661 6c75  VIDEO_TOOLS.valu
-000223f0: 6529 0a20 2020 2020 2020 2073 656c 662e  e).        self.
-00022400: 7365 6c65 6374 6564 5f76 6964 656f 203d  selected_video =
-00022410: 2046 696c 6553 656c 6563 7428 7369 6e67   FileSelect(sing
-00022420: 6c65 5f76 6964 656f 5f66 726d 2c20 2256  le_video_frm, "V
-00022430: 4944 454f 2050 4154 483a 222c 2074 6974  IDEO PATH:", tit
-00022440: 6c65 3d22 5365 6c65 6374 2061 2076 6964  le="Select a vid
-00022450: 656f 2066 696c 6522 2c20 6c62 6c77 6964  eo file", lblwid
-00022460: 7468 3d32 352c 2066 696c 655f 7479 7065  th=25, file_type
-00022470: 733d 5b28 2256 4944 454f 2046 494c 4522  s=[("VIDEO FILE"
-00022480: 2c20 4f70 7469 6f6e 732e 414c 4c5f 5649  , Options.ALL_VI
-00022490: 4445 4f5f 464f 524d 4154 5f53 5452 5f4f  DEO_FORMAT_STR_O
-000224a0: 5054 494f 4e53 2e76 616c 7565 295d 290a  PTIONS.value)]).
-000224b0: 2020 2020 2020 2020 7369 6e67 6c65 5f76          single_v
-000224c0: 6964 656f 5f72 756e 203d 2042 7574 746f  ideo_run = Butto
-000224d0: 6e28 7369 6e67 6c65 5f76 6964 656f 5f66  n(single_video_f
-000224e0: 726d 2c20 7465 7874 3d22 5255 4e20 2d20  rm, text="RUN - 
-000224f0: 5349 4e47 4c45 2056 4944 454f 222c 2063  SINGLE VIDEO", c
-00022500: 6f6d 6d61 6e64 3d6c 616d 6264 613a 2073  ommand=lambda: s
-00022510: 656c 662e 7275 6e28 6d75 6c74 6970 6c65  elf.run(multiple
-00022520: 3d46 616c 7365 2929 0a0a 2020 2020 2020  =False))..      
-00022530: 2020 7369 6e67 6c65 5f76 6964 656f 5f66    single_video_f
-00022540: 726d 2e67 7269 6428 726f 773d 312c 2063  rm.grid(row=1, c
-00022550: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
-00022560: 224e 5722 290a 2020 2020 2020 2020 7365  "NW").        se
-00022570: 6c66 2e73 656c 6563 7465 645f 7669 6465  lf.selected_vide
-00022580: 6f2e 6772 6964 2872 6f77 3d30 2c20 636f  o.grid(row=0, co
-00022590: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d22  lumn=0, sticky="
-000225a0: 4e57 2229 0a20 2020 2020 2020 2073 696e  NW").        sin
-000225b0: 676c 655f 7669 6465 6f5f 7275 6e2e 6772  gle_video_run.gr
-000225c0: 6964 2872 6f77 3d31 2c20 636f 6c75 6d6e  id(row=1, column
-000225d0: 3d30 2c20 7374 6963 6b79 3d22 4e57 2229  =0, sticky="NW")
-000225e0: 0a0a 2020 2020 2020 2020 6d75 6c74 6970  ..        multip
-000225f0: 6c65 5f76 6964 656f 735f 6672 6d20 3d20  le_videos_frm = 
-00022600: 4372 6561 7465 4c61 6265 6c46 7261 6d65  CreateLabelFrame
-00022610: 5769 7468 4963 6f6e 2870 6172 656e 743d  WithIcon(parent=
-00022620: 7365 6c66 2e6d 6169 6e5f 6672 6d2c 2068  self.main_frm, h
-00022630: 6561 6465 723d 224d 554c 5449 504c 4520  eader="MULTIPLE 
-00022640: 5649 4445 4f53 202d 2053 5550 4552 494d  VIDEOS - SUPERIM
-00022650: 504f 5345 2056 4944 454f 204e 414d 4522  POSE VIDEO NAME"
-00022660: 2c20 6963 6f6e 5f6e 616d 653d 4b65 7973  , icon_name=Keys
-00022670: 2e44 4f43 554d 454e 5441 5449 4f4e 2e76  .DOCUMENTATION.v
-00022680: 616c 7565 2c20 6963 6f6e 5f6c 696e 6b3d  alue, icon_link=
-00022690: 4c69 6e6b 732e 5649 4445 4f5f 544f 4f4c  Links.VIDEO_TOOL
-000226a0: 532e 7661 6c75 6529 0a20 2020 2020 2020  S.value).       
-000226b0: 2073 656c 662e 7365 6c65 6374 6564 5f76   self.selected_v
-000226c0: 6964 656f 5f64 6972 203d 2046 6f6c 6465  ideo_dir = Folde
-000226d0: 7253 656c 6563 7428 6d75 6c74 6970 6c65  rSelect(multiple
-000226e0: 5f76 6964 656f 735f 6672 6d2c 2022 5649  _videos_frm, "VI
-000226f0: 4445 4f20 4449 5245 4354 4f52 5920 5041  DEO DIRECTORY PA
-00022700: 5448 3a22 2c20 7469 746c 653d 2253 656c  TH:", title="Sel
-00022710: 6563 7420 6120 7669 6465 6f20 6469 7265  ect a video dire
-00022720: 6374 6f72 7922 2c20 6c62 6c77 6964 7468  ctory", lblwidth
-00022730: 3d32 3529 0a20 2020 2020 2020 206d 756c  =25).        mul
-00022740: 7469 706c 655f 7669 6465 6f73 5f72 756e  tiple_videos_run
-00022750: 203d 2042 7574 746f 6e28 6d75 6c74 6970   = Button(multip
-00022760: 6c65 5f76 6964 656f 735f 6672 6d2c 2074  le_videos_frm, t
-00022770: 6578 743d 2252 554e 202d 204d 554c 5449  ext="RUN - MULTI
-00022780: 504c 4520 5649 4445 4f53 222c 2063 6f6d  PLE VIDEOS", com
-00022790: 6d61 6e64 3d6c 616d 6264 613a 2073 656c  mand=lambda: sel
-000227a0: 662e 7275 6e28 6d75 6c74 6970 6c65 3d54  f.run(multiple=T
-000227b0: 7275 6529 290a 0a20 2020 2020 2020 206d  rue))..        m
-000227c0: 756c 7469 706c 655f 7669 6465 6f73 5f66  ultiple_videos_f
-000227d0: 726d 2e67 7269 6428 726f 773d 322c 2063  rm.grid(row=2, c
-000227e0: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
-000227f0: 224e 5722 290a 2020 2020 2020 2020 7365  "NW").        se
-00022800: 6c66 2e73 656c 6563 7465 645f 7669 6465  lf.selected_vide
-00022810: 6f5f 6469 722e 6772 6964 2872 6f77 3d30  o_dir.grid(row=0
-00022820: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
-00022830: 6b79 3d22 4e57 2229 0a20 2020 2020 2020  ky="NW").       
-00022840: 206d 756c 7469 706c 655f 7669 6465 6f73   multiple_videos
-00022850: 5f72 756e 2e67 7269 6428 726f 773d 312c  _run.grid(row=1,
-00022860: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
-00022870: 793d 224e 5722 290a 2020 2020 2020 2020  y="NW").        
-00022880: 2373 656c 662e 6d61 696e 5f66 726d 2e6d  #self.main_frm.m
-00022890: 6169 6e6c 6f6f 7028 290a 0a20 2020 2064  ainloop()..    d
-000228a0: 6566 2072 756e 2873 656c 662c 206d 756c  ef run(self, mul
-000228b0: 7469 706c 653a 2062 6f6f 6c29 3a0a 2020  tiple: bool):.  
-000228c0: 2020 2020 2020 6c6f 6320 3d20 7365 6c66        loc = self
-000228d0: 2e6c 6f63 6174 696f 6e5f 6472 6f70 646f  .location_dropdo
-000228e0: 776e 2e67 6574 4368 6f69 6365 7328 290a  wn.getChoices().
-000228f0: 2020 2020 2020 2020 6c6f 6320 3d20 7365          loc = se
-00022900: 6c66 2e4c 4f43 4154 494f 4e53 5b6c 6f63  lf.LOCATIONS[loc
-00022910: 5d0a 2020 2020 2020 2020 666f 6e74 5f73  ].        font_s
-00022920: 697a 6520 3d20 696e 7428 7365 6c66 2e66  ize = int(self.f
-00022930: 6f6e 745f 7369 7a65 5f64 726f 7064 6f77  ont_size_dropdow
-00022940: 6e2e 6765 7443 686f 6963 6573 2829 290a  n.getChoices()).
-00022950: 2020 2020 2020 2020 666f 6e74 203d 2073          font = s
-00022960: 656c 662e 666f 6e74 5f64 726f 7064 6f77  elf.font_dropdow
-00022970: 6e2e 6765 7443 686f 6963 6573 2829 0a20  n.getChoices(). 
-00022980: 2020 2020 2020 2066 6f6e 745f 636c 7220         font_clr 
-00022990: 3d20 7365 6c66 2e66 6f6e 745f 636f 6c6f  = self.font_colo
-000229a0: 725f 6472 6f70 646f 776e 2e67 6574 4368  r_dropdown.getCh
-000229b0: 6f69 6365 7328 290a 2020 2020 2020 2020  oices().        
-000229c0: 666f 6e74 5f62 6f72 6465 725f 636c 7220  font_border_clr 
-000229d0: 3d20 7365 6c66 2e66 6f6e 745f 626f 7264  = self.font_bord
-000229e0: 6572 5f64 726f 7064 6f77 6e2e 6765 7443  er_dropdown.getC
-000229f0: 686f 6963 6573 2829 0a20 2020 2020 2020  hoices().       
-00022a00: 2066 6f6e 745f 626f 7264 6572 5f77 6964   font_border_wid
-00022a10: 7468 203d 2069 6e74 2873 656c 662e 666f  th = int(self.fo
-00022a20: 6e74 5f62 6f72 6465 725f 7769 6474 685f  nt_border_width_
-00022a30: 6472 6f70 646f 776e 2e67 6574 4368 6f69  dropdown.getChoi
-00022a40: 6365 7328 2929 0a20 2020 2020 2020 2069  ces()).        i
-00022a50: 6620 6e6f 7420 6d75 6c74 6970 6c65 3a0a  f not multiple:.
-00022a60: 2020 2020 2020 2020 2020 2020 6461 7461              data
-00022a70: 5f70 6174 6820 3d20 7365 6c66 2e73 656c  _path = self.sel
-00022a80: 6563 7465 645f 7669 6465 6f2e 6669 6c65  ected_video.file
-00022a90: 5f70 6174 680a 2020 2020 2020 2020 2020  _path.          
-00022aa0: 2020 6368 6563 6b5f 6669 6c65 5f65 7869    check_file_exi
-00022ab0: 7374 5f61 6e64 5f72 6561 6461 626c 6528  st_and_readable(
-00022ac0: 6669 6c65 5f70 6174 683d 6461 7461 5f70  file_path=data_p
-00022ad0: 6174 6829 0a20 2020 2020 2020 2065 6c73  ath).        els
-00022ae0: 653a 0a20 2020 2020 2020 2020 2020 2064  e:.            d
-00022af0: 6174 615f 7061 7468 203d 2073 656c 662e  ata_path = self.
-00022b00: 7365 6c65 6374 6564 5f76 6964 656f 5f64  selected_video_d
-00022b10: 6972 2e66 6f6c 6465 725f 7061 7468 0a20  ir.folder_path. 
-00022b20: 2020 2020 2020 2020 2020 2063 6865 636b             check
-00022b30: 5f69 665f 6469 725f 6578 6973 7473 2869  _if_dir_exists(i
-00022b40: 6e5f 6469 723d 6461 7461 5f70 6174 6829  n_dir=data_path)
-00022b50: 0a0a 2020 2020 2020 2020 7468 7265 6164  ..        thread
-00022b60: 696e 672e 5468 7265 6164 2874 6172 6765  ing.Thread(targe
-00022b70: 743d 7375 7065 7269 6d70 6f73 655f 7669  t=superimpose_vi
-00022b80: 6465 6f5f 6e61 6d65 7328 7669 6465 6f5f  deo_names(video_
-00022b90: 7061 7468 3d64 6174 615f 7061 7468 2c0a  path=data_path,.
-00022ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022bd0: 2020 2020 2020 2020 666f 6e74 3d66 6f6e          font=fon
-00022be0: 742c 0a20 2020 2020 2020 2020 2020 2020  t,.             
-00022bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022c10: 2020 2020 2020 2020 2020 2066 6f6e 745f             font_
-00022c20: 7369 7a65 3d66 6f6e 745f 7369 7a65 2c0a  size=font_size,.
-00022c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022c60: 2020 2020 2020 2020 666f 6e74 5f63 6f6c          font_col
-00022c70: 6f72 3d66 6f6e 745f 636c 722c 0a20 2020  or=font_clr,.   
-00022c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022cb0: 2020 2020 2066 6f6e 745f 626f 7264 6572       font_border
-00022cc0: 5f63 6f6c 6f72 3d66 6f6e 745f 626f 7264  _color=font_bord
-00022cd0: 6572 5f63 6c72 2c0a 2020 2020 2020 2020  er_clr,.        
-00022ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022d10: 666f 6e74 5f62 6f72 6465 725f 7769 6474  font_border_widt
-00022d20: 683d 666f 6e74 5f62 6f72 6465 725f 7769  h=font_border_wi
-00022d30: 6474 682c 0a20 2020 2020 2020 2020 2020  dth,.           
-00022d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022d60: 2020 2020 2020 2020 2020 2020 2070 6f73               pos
-00022d70: 6974 696f 6e3d 6c6f 6329 292e 7374 6172  ition=loc)).star
-00022d80: 7428 290a 0a63 6c61 7373 2053 7570 6572  t()..class Super
-00022d90: 696d 706f 7365 5465 7874 506f 7055 7028  imposeTextPopUp(
-00022da0: 506f 7055 704d 6978 696e 293a 0a20 2020  PopUpMixin):.   
-00022db0: 2064 6566 205f 5f69 6e69 745f 5f28 7365   def __init__(se
-00022dc0: 6c66 293a 0a20 2020 2020 2020 2050 6f70  lf):.        Pop
-00022dd0: 5570 4d69 7869 6e2e 5f5f 696e 6974 5f5f  UpMixin.__init__
-00022de0: 2873 656c 662c 2074 6974 6c65 3d22 5355  (self, title="SU
-00022df0: 5045 522d 494d 504f 5345 2054 4558 5420  PER-IMPOSE TEXT 
-00022e00: 4f4e 2056 4944 454f 5322 290a 2020 2020  ON VIDEOS").    
-00022e10: 2020 2020 7365 6c66 2e4c 4f43 4154 494f      self.LOCATIO
-00022e20: 4e53 203d 207b 2754 4f50 204c 4546 5427  NS = {'TOP LEFT'
-00022e30: 3a20 2774 6f70 5f6c 6566 7427 2c20 2754  : 'top_left', 'T
-00022e40: 4f50 2052 4947 4854 273a 2027 746f 705f  OP RIGHT': 'top_
-00022e50: 7269 6768 7427 2c20 2754 4f50 204d 4944  right', 'TOP MID
-00022e60: 444c 4527 3a20 2774 6f70 5f6d 6964 646c  DLE': 'top_middl
-00022e70: 6527 2c20 2742 4f54 544f 4d20 4c45 4654  e', 'BOTTOM LEFT
-00022e80: 273a 2027 626f 7474 6f6d 5f6c 6566 7427  ': 'bottom_left'
-00022e90: 2c20 2742 4f54 544f 4d20 5249 4748 5427  , 'BOTTOM RIGHT'
-00022ea0: 3a20 2762 6f74 746f 6d5f 7269 6768 7427  : 'bottom_right'
-00022eb0: 2c20 2742 4f54 544f 4d20 4d49 4444 4c45  , 'BOTTOM MIDDLE
-00022ec0: 273a 2027 626f 7474 6f6d 5f6d 6964 646c  ': 'bottom_middl
-00022ed0: 6527 7d0a 2020 2020 2020 2020 7365 7474  e'}.        sett
-00022ee0: 696e 6773 5f66 726d 203d 2043 7265 6174  ings_frm = Creat
-00022ef0: 654c 6162 656c 4672 616d 6557 6974 6849  eLabelFrameWithI
-00022f00: 636f 6e28 7061 7265 6e74 3d73 656c 662e  con(parent=self.
-00022f10: 6d61 696e 5f66 726d 2c20 6865 6164 6572  main_frm, header
-00022f20: 3d22 5345 5454 494e 4753 222c 2069 636f  ="SETTINGS", ico
-00022f30: 6e5f 6e61 6d65 3d4b 6579 732e 444f 4355  n_name=Keys.DOCU
-00022f40: 4d45 4e54 4154 494f 4e2e 7661 6c75 652c  MENTATION.value,
-00022f50: 2069 636f 6e5f 6c69 6e6b 3d4c 696e 6b73   icon_link=Links
-00022f60: 2e56 4944 454f 5f54 4f4f 4c53 2e76 616c  .VIDEO_TOOLS.val
-00022f70: 7565 290a 2020 2020 2020 2020 7365 6c66  ue).        self
-00022f80: 2e63 6f6c 6f72 5f64 6963 7420 3d20 6765  .color_dict = ge
-00022f90: 745f 636f 6c6f 725f 6469 6374 2829 0a20  t_color_dict(). 
-00022fa0: 2020 2020 2020 2073 656c 662e 666f 6e74         self.font
-00022fb0: 5f64 6963 7420 3d20 6765 745f 666f 6e74  _dict = get_font
-00022fc0: 7328 290a 0a20 2020 2020 2020 2073 656c  s()..        sel
-00022fd0: 662e 6c6f 6361 7469 6f6e 5f64 726f 7064  f.location_dropd
-00022fe0: 6f77 6e20 3d20 4472 6f70 446f 776e 4d65  own = DropDownMe
-00022ff0: 6e75 2873 6574 7469 6e67 735f 6672 6d2c  nu(settings_frm,
-00023000: 2022 5445 5854 204c 4f43 4154 494f 4e3a   "TEXT LOCATION:
-00023010: 222c 206c 6973 7428 7365 6c66 2e4c 4f43  ", list(self.LOC
-00023020: 4154 494f 4e53 2e6b 6579 7328 2929 2c20  ATIONS.keys()), 
-00023030: 6c61 6265 6c77 6964 7468 3d32 3529 0a20  labelwidth=25). 
-00023040: 2020 2020 2020 2073 656c 662e 7465 7874         self.text
-00023050: 5f65 6220 3d20 456e 7472 795f 426f 7828  _eb = Entry_Box(
-00023060: 7061 7265 6e74 3d73 6574 7469 6e67 735f  parent=settings_
-00023070: 6672 6d2c 206c 6162 656c 7769 6474 683d  frm, labelwidth=
-00023080: 3235 2c20 656e 7472 795f 626f 785f 7769  25, entry_box_wi
-00023090: 6474 683d 3530 2c20 6669 6c65 4465 7363  dth=50, fileDesc
-000230a0: 7269 7074 696f 6e3d 2754 4558 543a 2729  ription='TEXT:')
-000230b0: 0a20 2020 2020 2020 2073 656c 662e 666f  .        self.fo
-000230c0: 6e74 5f64 726f 7064 6f77 6e20 3d20 4472  nt_dropdown = Dr
-000230d0: 6f70 446f 776e 4d65 6e75 2873 6574 7469  opDownMenu(setti
-000230e0: 6e67 735f 6672 6d2c 2022 464f 4e54 3a22  ngs_frm, "FONT:"
-000230f0: 2c20 6c69 7374 2873 656c 662e 666f 6e74  , list(self.font
-00023100: 5f64 6963 742e 6b65 7973 2829 292c 206c  _dict.keys()), l
-00023110: 6162 656c 7769 6474 683d 3235 290a 2020  abelwidth=25).  
-00023120: 2020 2020 2020 7365 6c66 2e66 6f6e 745f        self.font_
-00023130: 7369 7a65 5f64 726f 7064 6f77 6e20 3d20  size_dropdown = 
-00023140: 4472 6f70 446f 776e 4d65 6e75 2873 6574  DropDownMenu(set
-00023150: 7469 6e67 735f 6672 6d2c 2022 464f 4e54  tings_frm, "FONT
-00023160: 2053 495a 453a 222c 206c 6973 7428 7261   SIZE:", list(ra
-00023170: 6e67 6528 352c 2031 3035 2c20 3529 292c  nge(5, 105, 5)),
-00023180: 206c 6162 656c 7769 6474 683d 3235 290a   labelwidth=25).
-00023190: 2020 2020 2020 2020 7365 6c66 2e66 6f6e          self.fon
-000231a0: 745f 636f 6c6f 725f 6472 6f70 646f 776e  t_color_dropdown
-000231b0: 203d 2044 726f 7044 6f77 6e4d 656e 7528   = DropDownMenu(
-000231c0: 7365 7474 696e 6773 5f66 726d 2c20 2246  settings_frm, "F
-000231d0: 4f4e 5420 434f 4c4f 523a 222c 206c 6973  ONT COLOR:", lis
-000231e0: 7428 7365 6c66 2e63 6f6c 6f72 5f64 6963  t(self.color_dic
-000231f0: 742e 6b65 7973 2829 292c 206c 6162 656c  t.keys()), label
-00023200: 7769 6474 683d 3235 290a 2020 2020 2020  width=25).      
-00023210: 2020 7365 6c66 2e66 6f6e 745f 626f 7264    self.font_bord
-00023220: 6572 5f64 726f 7064 6f77 6e20 3d20 4472  er_dropdown = Dr
-00023230: 6f70 446f 776e 4d65 6e75 2873 6574 7469  opDownMenu(setti
-00023240: 6e67 735f 6672 6d2c 2022 464f 4e54 2042  ngs_frm, "FONT B
-00023250: 4f52 4445 5220 434f 4c4f 523a 222c 206c  ORDER COLOR:", l
-00023260: 6973 7428 7365 6c66 2e63 6f6c 6f72 5f64  ist(self.color_d
-00023270: 6963 742e 6b65 7973 2829 292c 206c 6162  ict.keys()), lab
-00023280: 656c 7769 6474 683d 3235 290a 2020 2020  elwidth=25).    
-00023290: 2020 2020 7365 6c66 2e66 6f6e 745f 626f      self.font_bo
-000232a0: 7264 6572 5f77 6964 7468 5f64 726f 7064  rder_width_dropd
-000232b0: 6f77 6e20 3d20 4472 6f70 446f 776e 4d65  own = DropDownMe
-000232c0: 6e75 2873 6574 7469 6e67 735f 6672 6d2c  nu(settings_frm,
-000232d0: 2022 464f 4e54 2042 4f52 4445 5220 5749   "FONT BORDER WI
-000232e0: 4454 483a 222c 206c 6973 7428 7261 6e67  DTH:", list(rang
-000232f0: 6528 322c 2035 322c 2032 2929 2c20 6c61  e(2, 52, 2)), la
-00023300: 6265 6c77 6964 7468 3d32 3529 0a0a 2020  belwidth=25)..  
-00023310: 2020 2020 2020 7365 6c66 2e6c 6f63 6174        self.locat
-00023320: 696f 6e5f 6472 6f70 646f 776e 2e73 6574  ion_dropdown.set
-00023330: 4368 6f69 6365 7328 2754 4f50 204c 4546  Choices('TOP LEF
-00023340: 5427 290a 2020 2020 2020 2020 7365 6c66  T').        self
-00023350: 2e66 6f6e 745f 7369 7a65 5f64 726f 7064  .font_size_dropd
-00023360: 6f77 6e2e 7365 7443 686f 6963 6573 2832  own.setChoices(2
-00023370: 3029 0a20 2020 2020 2020 2073 656c 662e  0).        self.
-00023380: 666f 6e74 5f64 726f 7064 6f77 6e2e 7365  font_dropdown.se
-00023390: 7443 686f 6963 6573 2827 4172 6961 6c27  tChoices('Arial'
-000233a0: 290a 2020 2020 2020 2020 7365 6c66 2e66  ).        self.f
-000233b0: 6f6e 745f 636f 6c6f 725f 6472 6f70 646f  ont_color_dropdo
-000233c0: 776e 2e73 6574 4368 6f69 6365 7328 2757  wn.setChoices('W
-000233d0: 6869 7465 2729 0a20 2020 2020 2020 2073  hite').        s
-000233e0: 656c 662e 666f 6e74 5f62 6f72 6465 725f  elf.font_border_
-000233f0: 6472 6f70 646f 776e 2e73 6574 4368 6f69  dropdown.setChoi
-00023400: 6365 7328 2742 6c61 636b 2729 0a20 2020  ces('Black').   
-00023410: 2020 2020 2073 656c 662e 666f 6e74 5f62       self.font_b
-00023420: 6f72 6465 725f 7769 6474 685f 6472 6f70  order_width_drop
-00023430: 646f 776e 2e73 6574 4368 6f69 6365 7328  down.setChoices(
-00023440: 3229 0a0a 2020 2020 2020 2020 7365 7474  2)..        sett
-00023450: 696e 6773 5f66 726d 2e67 7269 6428 726f  ings_frm.grid(ro
-00023460: 773d 302c 2063 6f6c 756d 6e3d 302c 2073  w=0, column=0, s
-00023470: 7469 636b 793d 4e57 290a 2020 2020 2020  ticky=NW).      
-00023480: 2020 7365 6c66 2e6c 6f63 6174 696f 6e5f    self.location_
-00023490: 6472 6f70 646f 776e 2e67 7269 6428 726f  dropdown.grid(ro
-000234a0: 773d 302c 2063 6f6c 756d 6e3d 302c 2073  w=0, column=0, s
-000234b0: 7469 636b 793d 4e57 290a 2020 2020 2020  ticky=NW).      
-000234c0: 2020 7365 6c66 2e74 6578 745f 6562 2e67    self.text_eb.g
-000234d0: 7269 6428 726f 773d 312c 2063 6f6c 756d  rid(row=1, colum
-000234e0: 6e3d 302c 2073 7469 636b 793d 4e57 290a  n=0, sticky=NW).
-000234f0: 2020 2020 2020 2020 7365 6c66 2e66 6f6e          self.fon
-00023500: 745f 6472 6f70 646f 776e 2e67 7269 6428  t_dropdown.grid(
-00023510: 726f 773d 322c 2063 6f6c 756d 6e3d 302c  row=2, column=0,
-00023520: 2073 7469 636b 793d 4e57 290a 2020 2020   sticky=NW).    
-00023530: 2020 2020 7365 6c66 2e66 6f6e 745f 7369      self.font_si
-00023540: 7a65 5f64 726f 7064 6f77 6e2e 6772 6964  ze_dropdown.grid
-00023550: 2872 6f77 3d33 2c20 636f 6c75 6d6e 3d30  (row=3, column=0
-00023560: 2c20 7374 6963 6b79 3d4e 5729 0a20 2020  , sticky=NW).   
-00023570: 2020 2020 2073 656c 662e 666f 6e74 5f63       self.font_c
-00023580: 6f6c 6f72 5f64 726f 7064 6f77 6e2e 6772  olor_dropdown.gr
-00023590: 6964 2872 6f77 3d34 2c20 636f 6c75 6d6e  id(row=4, column
-000235a0: 3d30 2c20 7374 6963 6b79 3d4e 5729 0a20  =0, sticky=NW). 
-000235b0: 2020 2020 2020 2073 656c 662e 666f 6e74         self.font
-000235c0: 5f62 6f72 6465 725f 6472 6f70 646f 776e  _border_dropdown
-000235d0: 2e67 7269 6428 726f 773d 352c 2063 6f6c  .grid(row=5, col
-000235e0: 756d 6e3d 302c 2073 7469 636b 793d 4e57  umn=0, sticky=NW
-000235f0: 290a 2020 2020 2020 2020 7365 6c66 2e66  ).        self.f
-00023600: 6f6e 745f 626f 7264 6572 5f77 6964 7468  ont_border_width
-00023610: 5f64 726f 7064 6f77 6e2e 6772 6964 2872  _dropdown.grid(r
-00023620: 6f77 3d36 2c20 636f 6c75 6d6e 3d30 2c20  ow=6, column=0, 
-00023630: 7374 6963 6b79 3d4e 5729 0a0a 2020 2020  sticky=NW)..    
-00023640: 2020 2020 7369 6e67 6c65 5f76 6964 656f      single_video
-00023650: 5f66 726d 203d 2043 7265 6174 654c 6162  _frm = CreateLab
-00023660: 656c 4672 616d 6557 6974 6849 636f 6e28  elFrameWithIcon(
-00023670: 7061 7265 6e74 3d73 656c 662e 6d61 696e  parent=self.main
-00023680: 5f66 726d 2c20 6865 6164 6572 3d22 5349  _frm, header="SI
-00023690: 4e47 4c45 2056 4944 454f 202d 2053 5550  NGLE VIDEO - SUP
-000236a0: 4552 494d 504f 5345 2054 4558 5422 2c20  ERIMPOSE TEXT", 
-000236b0: 6963 6f6e 5f6e 616d 653d 4b65 7973 2e44  icon_name=Keys.D
-000236c0: 4f43 554d 454e 5441 5449 4f4e 2e76 616c  OCUMENTATION.val
-000236d0: 7565 2c20 6963 6f6e 5f6c 696e 6b3d 4c69  ue, icon_link=Li
-000236e0: 6e6b 732e 5649 4445 4f5f 544f 4f4c 532e  nks.VIDEO_TOOLS.
-000236f0: 7661 6c75 6529 0a20 2020 2020 2020 2073  value).        s
-00023700: 656c 662e 7365 6c65 6374 6564 5f76 6964  elf.selected_vid
-00023710: 656f 203d 2046 696c 6553 656c 6563 7428  eo = FileSelect(
-00023720: 7369 6e67 6c65 5f76 6964 656f 5f66 726d  single_video_frm
-00023730: 2c20 2256 4944 454f 2050 4154 483a 222c  , "VIDEO PATH:",
-00023740: 2074 6974 6c65 3d22 5365 6c65 6374 2061   title="Select a
-00023750: 2076 6964 656f 2066 696c 6522 2c20 6c62   video file", lb
-00023760: 6c77 6964 7468 3d32 352c 2066 696c 655f  lwidth=25, file_
-00023770: 7479 7065 733d 5b28 2256 4944 454f 2046  types=[("VIDEO F
-00023780: 494c 4522 2c20 4f70 7469 6f6e 732e 414c  ILE", Options.AL
-00023790: 4c5f 5649 4445 4f5f 464f 524d 4154 5f53  L_VIDEO_FORMAT_S
-000237a0: 5452 5f4f 5054 494f 4e53 2e76 616c 7565  TR_OPTIONS.value
-000237b0: 295d 290a 2020 2020 2020 2020 7369 6e67  )]).        sing
-000237c0: 6c65 5f76 6964 656f 5f72 756e 203d 2042  le_video_run = B
-000237d0: 7574 746f 6e28 7369 6e67 6c65 5f76 6964  utton(single_vid
-000237e0: 656f 5f66 726d 2c20 7465 7874 3d22 5255  eo_frm, text="RU
-000237f0: 4e20 2d20 5349 4e47 4c45 2056 4944 454f  N - SINGLE VIDEO
-00023800: 222c 2063 6f6d 6d61 6e64 3d6c 616d 6264  ", command=lambd
-00023810: 613a 2073 656c 662e 7275 6e28 6d75 6c74  a: self.run(mult
-00023820: 6970 6c65 3d46 616c 7365 2929 0a0a 2020  iple=False))..  
-00023830: 2020 2020 2020 7369 6e67 6c65 5f76 6964        single_vid
-00023840: 656f 5f66 726d 2e67 7269 6428 726f 773d  eo_frm.grid(row=
-00023850: 312c 2063 6f6c 756d 6e3d 302c 2073 7469  1, column=0, sti
-00023860: 636b 793d 224e 5722 290a 2020 2020 2020  cky="NW").      
-00023870: 2020 7365 6c66 2e73 656c 6563 7465 645f    self.selected_
-00023880: 7669 6465 6f2e 6772 6964 2872 6f77 3d30  video.grid(row=0
-00023890: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
-000238a0: 6b79 3d22 4e57 2229 0a20 2020 2020 2020  ky="NW").       
-000238b0: 2073 696e 676c 655f 7669 6465 6f5f 7275   single_video_ru
-000238c0: 6e2e 6772 6964 2872 6f77 3d31 2c20 636f  n.grid(row=1, co
-000238d0: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d22  lumn=0, sticky="
-000238e0: 4e57 2229 0a0a 2020 2020 2020 2020 6d75  NW")..        mu
-000238f0: 6c74 6970 6c65 5f76 6964 656f 735f 6672  ltiple_videos_fr
-00023900: 6d20 3d20 4372 6561 7465 4c61 6265 6c46  m = CreateLabelF
-00023910: 7261 6d65 5769 7468 4963 6f6e 2870 6172  rameWithIcon(par
-00023920: 656e 743d 7365 6c66 2e6d 6169 6e5f 6672  ent=self.main_fr
-00023930: 6d2c 2068 6561 6465 723d 224d 554c 5449  m, header="MULTI
-00023940: 504c 4520 5649 4445 4f53 202d 2053 5550  PLE VIDEOS - SUP
-00023950: 4552 494d 504f 5345 2054 4558 5422 2c20  ERIMPOSE TEXT", 
-00023960: 6963 6f6e 5f6e 616d 653d 4b65 7973 2e44  icon_name=Keys.D
-00023970: 4f43 554d 454e 5441 5449 4f4e 2e76 616c  OCUMENTATION.val
-00023980: 7565 2c20 6963 6f6e 5f6c 696e 6b3d 4c69  ue, icon_link=Li
-00023990: 6e6b 732e 5649 4445 4f5f 544f 4f4c 532e  nks.VIDEO_TOOLS.
-000239a0: 7661 6c75 6529 0a20 2020 2020 2020 2073  value).        s
-000239b0: 656c 662e 7365 6c65 6374 6564 5f76 6964  elf.selected_vid
-000239c0: 656f 5f64 6972 203d 2046 6f6c 6465 7253  eo_dir = FolderS
-000239d0: 656c 6563 7428 6d75 6c74 6970 6c65 5f76  elect(multiple_v
-000239e0: 6964 656f 735f 6672 6d2c 2022 5649 4445  ideos_frm, "VIDE
-000239f0: 4f20 4449 5245 4354 4f52 5920 5041 5448  O DIRECTORY PATH
-00023a00: 3a22 2c20 7469 746c 653d 2253 656c 6563  :", title="Selec
-00023a10: 7420 6120 7669 6465 6f20 6469 7265 6374  t a video direct
-00023a20: 6f72 7922 2c20 6c62 6c77 6964 7468 3d32  ory", lblwidth=2
-00023a30: 3529 0a20 2020 2020 2020 206d 756c 7469  5).        multi
-00023a40: 706c 655f 7669 6465 6f73 5f72 756e 203d  ple_videos_run =
-00023a50: 2042 7574 746f 6e28 6d75 6c74 6970 6c65   Button(multiple
-00023a60: 5f76 6964 656f 735f 6672 6d2c 2074 6578  _videos_frm, tex
-00023a70: 743d 2252 554e 202d 204d 554c 5449 504c  t="RUN - MULTIPL
-00023a80: 4520 5649 4445 4f53 222c 2063 6f6d 6d61  E VIDEOS", comma
-00023a90: 6e64 3d6c 616d 6264 613a 2073 656c 662e  nd=lambda: self.
-00023aa0: 7275 6e28 6d75 6c74 6970 6c65 3d54 7275  run(multiple=Tru
-00023ab0: 6529 290a 0a20 2020 2020 2020 206d 756c  e))..        mul
-00023ac0: 7469 706c 655f 7669 6465 6f73 5f66 726d  tiple_videos_frm
-00023ad0: 2e67 7269 6428 726f 773d 322c 2063 6f6c  .grid(row=2, col
-00023ae0: 756d 6e3d 302c 2073 7469 636b 793d 224e  umn=0, sticky="N
-00023af0: 5722 290a 2020 2020 2020 2020 7365 6c66  W").        self
-00023b00: 2e73 656c 6563 7465 645f 7669 6465 6f5f  .selected_video_
-00023b10: 6469 722e 6772 6964 2872 6f77 3d30 2c20  dir.grid(row=0, 
-00023b20: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
-00023b30: 3d22 4e57 2229 0a20 2020 2020 2020 206d  ="NW").        m
-00023b40: 756c 7469 706c 655f 7669 6465 6f73 5f72  ultiple_videos_r
-00023b50: 756e 2e67 7269 6428 726f 773d 312c 2063  un.grid(row=1, c
-00023b60: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
-00023b70: 224e 5722 290a 2020 2020 2020 2020 2373  "NW").        #s
-00023b80: 656c 662e 6d61 696e 5f66 726d 2e6d 6169  elf.main_frm.mai
-00023b90: 6e6c 6f6f 7028 290a 0a20 2020 2064 6566  nloop()..    def
-00023ba0: 2072 756e 2873 656c 662c 206d 756c 7469   run(self, multi
-00023bb0: 706c 653a 2062 6f6f 6c29 3a0a 2020 2020  ple: bool):.    
-00023bc0: 2020 2020 6c6f 6320 3d20 7365 6c66 2e6c      loc = self.l
-00023bd0: 6f63 6174 696f 6e5f 6472 6f70 646f 776e  ocation_dropdown
-00023be0: 2e67 6574 4368 6f69 6365 7328 290a 2020  .getChoices().  
-00023bf0: 2020 2020 2020 6c6f 6320 3d20 7365 6c66        loc = self
-00023c00: 2e4c 4f43 4154 494f 4e53 5b6c 6f63 5d0a  .LOCATIONS[loc].
-00023c10: 2020 2020 2020 2020 7465 7874 203d 2073          text = s
-00023c20: 656c 662e 7465 7874 5f65 622e 656e 7472  elf.text_eb.entr
-00023c30: 795f 6765 740a 2020 2020 2020 2020 6368  y_get.        ch
-00023c40: 6563 6b5f 7374 7228 6e61 6d65 3d27 7465  eck_str(name='te
-00023c50: 7874 272c 2076 616c 7565 3d74 6578 7429  xt', value=text)
-00023c60: 0a20 2020 2020 2020 2066 6f6e 7420 3d20  .        font = 
-00023c70: 7365 6c66 2e66 6f6e 745f 6472 6f70 646f  self.font_dropdo
-00023c80: 776e 2e67 6574 4368 6f69 6365 7328 290a  wn.getChoices().
-00023c90: 2020 2020 2020 2020 666f 6e74 5f73 697a          font_siz
-00023ca0: 6520 3d20 696e 7428 7365 6c66 2e66 6f6e  e = int(self.fon
-00023cb0: 745f 7369 7a65 5f64 726f 7064 6f77 6e2e  t_size_dropdown.
-00023cc0: 6765 7443 686f 6963 6573 2829 290a 2020  getChoices()).  
-00023cd0: 2020 2020 2020 666f 6e74 5f63 6c72 203d        font_clr =
-00023ce0: 2073 656c 662e 666f 6e74 5f63 6f6c 6f72   self.font_color
-00023cf0: 5f64 726f 7064 6f77 6e2e 6765 7443 686f  _dropdown.getCho
-00023d00: 6963 6573 2829 0a20 2020 2020 2020 2066  ices().        f
-00023d10: 6f6e 745f 626f 7264 6572 5f63 6c72 203d  ont_border_clr =
-00023d20: 2073 656c 662e 666f 6e74 5f62 6f72 6465   self.font_borde
-00023d30: 725f 6472 6f70 646f 776e 2e67 6574 4368  r_dropdown.getCh
-00023d40: 6f69 6365 7328 290a 2020 2020 2020 2020  oices().        
-00023d50: 666f 6e74 5f62 6f72 6465 725f 7769 6474  font_border_widt
-00023d60: 6820 3d20 696e 7428 7365 6c66 2e66 6f6e  h = int(self.fon
-00023d70: 745f 626f 7264 6572 5f77 6964 7468 5f64  t_border_width_d
-00023d80: 726f 7064 6f77 6e2e 6765 7443 686f 6963  ropdown.getChoic
-00023d90: 6573 2829 290a 2020 2020 2020 2020 6966  es()).        if
-00023da0: 206e 6f74 206d 756c 7469 706c 653a 0a20   not multiple:. 
-00023db0: 2020 2020 2020 2020 2020 2064 6174 615f             data_
-00023dc0: 7061 7468 203d 2073 656c 662e 7365 6c65  path = self.sele
-00023dd0: 6374 6564 5f76 6964 656f 2e66 696c 655f  cted_video.file_
-00023de0: 7061 7468 0a20 2020 2020 2020 2020 2020  path.           
-00023df0: 2063 6865 636b 5f66 696c 655f 6578 6973   check_file_exis
-00023e00: 745f 616e 645f 7265 6164 6162 6c65 2866  t_and_readable(f
-00023e10: 696c 655f 7061 7468 3d64 6174 615f 7061  ile_path=data_pa
-00023e20: 7468 290a 2020 2020 2020 2020 656c 7365  th).        else
-00023e30: 3a0a 2020 2020 2020 2020 2020 2020 6461  :.            da
-00023e40: 7461 5f70 6174 6820 3d20 7365 6c66 2e73  ta_path = self.s
-00023e50: 656c 6563 7465 645f 7669 6465 6f5f 6469  elected_video_di
-00023e60: 722e 666f 6c64 6572 5f70 6174 680a 2020  r.folder_path.  
-00023e70: 2020 2020 2020 2020 2020 6368 6563 6b5f            check_
-00023e80: 6966 5f64 6972 5f65 7869 7374 7328 696e  if_dir_exists(in
-00023e90: 5f64 6972 3d64 6174 615f 7061 7468 290a  _dir=data_path).
-00023ea0: 0a20 2020 2020 2020 2074 6872 6561 6469  .        threadi
-00023eb0: 6e67 2e54 6872 6561 6428 7461 7267 6574  ng.Thread(target
-00023ec0: 3d73 7570 6572 696d 706f 7365 5f66 7265  =superimpose_fre
-00023ed0: 6574 6578 7428 7669 6465 6f5f 7061 7468  etext(video_path
-00023ee0: 3d64 6174 615f 7061 7468 2c0a 2020 2020  =data_path,.    
-00023ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023f20: 2074 6578 743d 7465 7874 2c0a 2020 2020   text=text,.    
-00023f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023f60: 2066 6f6e 743d 666f 6e74 2c0a 2020 2020   font=font,.    
-00023f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023fa0: 2066 6f6e 745f 7369 7a65 3d66 6f6e 745f   font_size=font_
-00023fb0: 7369 7a65 2c0a 2020 2020 2020 2020 2020  size,.          
-00023fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023fe0: 2020 2020 2020 2020 2020 2066 6f6e 745f             font_
-00023ff0: 636f 6c6f 723d 666f 6e74 5f63 6c72 2c0a  color=font_clr,.
-00024000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024030: 2020 2020 2066 6f6e 745f 626f 7264 6572       font_border
-00024040: 5f63 6f6c 6f72 3d66 6f6e 745f 626f 7264  _color=font_bord
-00024050: 6572 5f63 6c72 2c0a 2020 2020 2020 2020  er_clr,.        
-00024060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024080: 2020 2020 2020 2020 2020 2020 2066 6f6e               fon
-00024090: 745f 626f 7264 6572 5f77 6964 7468 3d66  t_border_width=f
-000240a0: 6f6e 745f 626f 7264 6572 5f77 6964 7468  ont_border_width
-000240b0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000240c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000240d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000240e0: 2020 2020 2020 2070 6f73 6974 696f 6e3d         position=
-000240f0: 6c6f 6329 292e 7374 6172 7428 290a 0a0a  loc)).start()...
-00024100: 636c 6173 7320 426f 7842 6c75 7250 6f70  class BoxBlurPop
-00024110: 5570 2850 6f70 5570 4d69 7869 6e29 3a0a  Up(PopUpMixin):.
-00024120: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
-00024130: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-00024140: 506f 7055 704d 6978 696e 2e5f 5f69 6e69  PopUpMixin.__ini
-00024150: 745f 5f28 7365 6c66 2c20 7469 746c 653d  t__(self, title=
-00024160: 2242 4f58 2042 4c55 5220 5649 4445 4f53  "BOX BLUR VIDEOS
-00024170: 2229 0a20 2020 2020 2020 2073 6574 7469  ").        setti
-00024180: 6e67 735f 6672 6d20 3d20 4372 6561 7465  ngs_frm = Create
-00024190: 4c61 6265 6c46 7261 6d65 5769 7468 4963  LabelFrameWithIc
-000241a0: 6f6e 2870 6172 656e 743d 7365 6c66 2e6d  on(parent=self.m
-000241b0: 6169 6e5f 6672 6d2c 2068 6561 6465 723d  ain_frm, header=
-000241c0: 2253 4554 5449 4e47 5322 2c20 6963 6f6e  "SETTINGS", icon
-000241d0: 5f6e 616d 653d 4b65 7973 2e44 4f43 554d  _name=Keys.DOCUM
-000241e0: 454e 5441 5449 4f4e 2e76 616c 7565 2c20  ENTATION.value, 
-000241f0: 6963 6f6e 5f6c 696e 6b3d 4c69 6e6b 732e  icon_link=Links.
-00024200: 5649 4445 4f5f 544f 4f4c 532e 7661 6c75  VIDEO_TOOLS.valu
-00024210: 6529 0a20 2020 2020 2020 2062 6c75 725f  e).        blur_
-00024220: 6c76 6c20 3d20 5b72 6f75 6e64 2878 2c20  lvl = [round(x, 
-00024230: 3229 2066 6f72 2078 2069 6e20 6c69 7374  2) for x in list
-00024240: 286e 702e 6172 616e 6765 2830 2e30 352c  (np.arange(0.05,
-00024250: 2031 2e30 2c20 302e 3035 2929 5d0a 2020   1.0, 0.05))].  
-00024260: 2020 2020 2020 7365 6c66 2e62 6c75 725f        self.blur_
-00024270: 6c76 6c5f 6472 6f70 646f 776e 203d 2044  lvl_dropdown = D
-00024280: 726f 7044 6f77 6e4d 656e 7528 7365 7474  ropDownMenu(sett
-00024290: 696e 6773 5f66 726d 2c20 2242 4c55 5220  ings_frm, "BLUR 
-000242a0: 4c45 5645 4c3a 222c 2062 6c75 725f 6c76  LEVEL:", blur_lv
-000242b0: 6c2c 206c 6162 656c 7769 6474 683d 3235  l, labelwidth=25
-000242c0: 290a 2020 2020 2020 2020 7365 6c66 2e69  ).        self.i
-000242d0: 6e76 6572 745f 6472 6f70 646f 776e 203d  nvert_dropdown =
-000242e0: 2044 726f 7044 6f77 6e4d 656e 7528 7365   DropDownMenu(se
-000242f0: 7474 696e 6773 5f66 726d 2c20 2249 4e56  ttings_frm, "INV
-00024300: 4552 5420 424c 5552 2052 4547 494f 4e3a  ERT BLUR REGION:
-00024310: 222c 205b 2754 5255 4527 2c20 2746 414c  ", ['TRUE', 'FAL
-00024320: 5345 275d 2c20 6c61 6265 6c77 6964 7468  SE'], labelwidth
-00024330: 3d32 3529 0a0a 2020 2020 2020 2020 7365  =25)..        se
-00024340: 6c66 2e62 6c75 725f 6c76 6c5f 6472 6f70  lf.blur_lvl_drop
-00024350: 646f 776e 2e73 6574 4368 6f69 6365 7328  down.setChoices(
-00024360: 302e 3032 290a 2020 2020 2020 2020 7365  0.02).        se
-00024370: 6c66 2e69 6e76 6572 745f 6472 6f70 646f  lf.invert_dropdo
-00024380: 776e 2e73 6574 4368 6f69 6365 7328 2746  wn.setChoices('F
-00024390: 414c 5345 2729 0a20 2020 2020 2020 2073  ALSE').        s
-000243a0: 6574 7469 6e67 735f 6672 6d2e 6772 6964  ettings_frm.grid
-000243b0: 2872 6f77 3d30 2c20 636f 6c75 6d6e 3d30  (row=0, column=0
-000243c0: 2c20 7374 6963 6b79 3d4e 5729 0a20 2020  , sticky=NW).   
-000243d0: 2020 2020 2073 656c 662e 626c 7572 5f6c       self.blur_l
-000243e0: 766c 5f64 726f 7064 6f77 6e2e 6772 6964  vl_dropdown.grid
-000243f0: 2872 6f77 3d30 2c20 636f 6c75 6d6e 3d30  (row=0, column=0
-00024400: 2c20 7374 6963 6b79 3d4e 5729 0a20 2020  , sticky=NW).   
-00024410: 2020 2020 2073 656c 662e 696e 7665 7274       self.invert
-00024420: 5f64 726f 7064 6f77 6e2e 6772 6964 2872  _dropdown.grid(r
-00024430: 6f77 3d31 2c20 636f 6c75 6d6e 3d30 2c20  ow=1, column=0, 
-00024440: 7374 6963 6b79 3d4e 5729 0a0a 2020 2020  sticky=NW)..    
-00024450: 2020 2020 7369 6e67 6c65 5f76 6964 656f      single_video
-00024460: 5f66 726d 203d 2043 7265 6174 654c 6162  _frm = CreateLab
-00024470: 656c 4672 616d 6557 6974 6849 636f 6e28  elFrameWithIcon(
-00024480: 7061 7265 6e74 3d73 656c 662e 6d61 696e  parent=self.main
-00024490: 5f66 726d 2c20 6865 6164 6572 3d22 4150  _frm, header="AP
-000244a0: 504c 5920 424f 582d 424c 5552 222c 2069  PLY BOX-BLUR", i
-000244b0: 636f 6e5f 6e61 6d65 3d4b 6579 732e 444f  con_name=Keys.DO
-000244c0: 4355 4d45 4e54 4154 494f 4e2e 7661 6c75  CUMENTATION.valu
-000244d0: 652c 2069 636f 6e5f 6c69 6e6b 3d4c 696e  e, icon_link=Lin
-000244e0: 6b73 2e56 4944 454f 5f54 4f4f 4c53 2e76  ks.VIDEO_TOOLS.v
-000244f0: 616c 7565 290a 2020 2020 2020 2020 7365  alue).        se
-00024500: 6c66 2e73 656c 6563 7465 645f 7669 6465  lf.selected_vide
-00024510: 6f20 3d20 4669 6c65 5365 6c65 6374 2873  o = FileSelect(s
-00024520: 696e 676c 655f 7669 6465 6f5f 6672 6d2c  ingle_video_frm,
-00024530: 2022 5649 4445 4f20 5041 5448 3a22 2c20   "VIDEO PATH:", 
-00024540: 7469 746c 653d 2253 656c 6563 7420 6120  title="Select a 
-00024550: 7669 6465 6f20 6669 6c65 222c 206c 626c  video file", lbl
-00024560: 7769 6474 683d 3235 2c20 6669 6c65 5f74  width=25, file_t
-00024570: 7970 6573 3d5b 2822 5649 4445 4f20 4649  ypes=[("VIDEO FI
-00024580: 4c45 222c 204f 7074 696f 6e73 2e41 4c4c  LE", Options.ALL
-00024590: 5f56 4944 454f 5f46 4f52 4d41 545f 5354  _VIDEO_FORMAT_ST
-000245a0: 525f 4f50 5449 4f4e 532e 7661 6c75 6529  R_OPTIONS.value)
-000245b0: 5d29 0a20 2020 2020 2020 2073 696e 676c  ]).        singl
-000245c0: 655f 7669 6465 6f5f 7275 6e20 3d20 4275  e_video_run = Bu
-000245d0: 7474 6f6e 2873 696e 676c 655f 7669 6465  tton(single_vide
-000245e0: 6f5f 6672 6d2c 2074 6578 743d 2252 554e  o_frm, text="RUN
-000245f0: 222c 2063 6f6d 6d61 6e64 3d6c 616d 6264  ", command=lambd
-00024600: 613a 2073 656c 662e 7275 6e28 2929 0a0a  a: self.run())..
-00024610: 2020 2020 2020 2020 7369 6e67 6c65 5f76          single_v
-00024620: 6964 656f 5f66 726d 2e67 7269 6428 726f  ideo_frm.grid(ro
-00024630: 773d 312c 2063 6f6c 756d 6e3d 302c 2073  w=1, column=0, s
-00024640: 7469 636b 793d 224e 5722 290a 2020 2020  ticky="NW").    
-00024650: 2020 2020 7365 6c66 2e73 656c 6563 7465      self.selecte
-00024660: 645f 7669 6465 6f2e 6772 6964 2872 6f77  d_video.grid(row
-00024670: 3d30 2c20 636f 6c75 6d6e 3d30 2c20 7374  =0, column=0, st
-00024680: 6963 6b79 3d22 4e57 2229 0a20 2020 2020  icky="NW").     
-00024690: 2020 2073 696e 676c 655f 7669 6465 6f5f     single_video_
-000246a0: 7275 6e2e 6772 6964 2872 6f77 3d31 2c20  run.grid(row=1, 
-000246b0: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
-000246c0: 3d22 4e57 2229 0a0a 2020 2020 2020 2020  ="NW")..        
-000246d0: 2373 656c 662e 6d61 696e 5f66 726d 2e6d  #self.main_frm.m
-000246e0: 6169 6e6c 6f6f 7028 290a 0a20 2020 2064  ainloop()..    d
-000246f0: 6566 2072 756e 2873 656c 6629 3a0a 2020  ef run(self):.  
-00024700: 2020 2020 2020 7669 6465 6f5f 7061 7468        video_path
-00024710: 203d 2073 656c 662e 7365 6c65 6374 6564   = self.selected
-00024720: 5f76 6964 656f 2e66 696c 655f 7061 7468  _video.file_path
-00024730: 0a20 2020 2020 2020 2063 6865 636b 5f66  .        check_f
-00024740: 696c 655f 6578 6973 745f 616e 645f 7265  ile_exist_and_re
-00024750: 6164 6162 6c65 2866 696c 655f 7061 7468  adable(file_path
-00024760: 3d76 6964 656f 5f70 6174 6829 0a20 2020  =video_path).   
-00024770: 2020 2020 2062 6c75 725f 6c76 6c20 3d20       blur_lvl = 
-00024780: 666c 6f61 7428 7365 6c66 2e62 6c75 725f  float(self.blur_
-00024790: 6c76 6c5f 6472 6f70 646f 776e 2e67 6574  lvl_dropdown.get
-000247a0: 4368 6f69 6365 7328 2929 0a20 2020 2020  Choices()).     
-000247b0: 2020 2069 6e76 6572 7420 3d20 7374 725f     invert = str_
-000247c0: 325f 626f 6f6c 2873 656c 662e 696e 7665  2_bool(self.inve
-000247d0: 7274 5f64 726f 7064 6f77 6e2e 6765 7443  rt_dropdown.getC
-000247e0: 686f 6963 6573 2829 290a 2020 2020 2020  hoices()).      
-000247f0: 2020 7468 7265 6164 696e 672e 5468 7265    threading.Thre
-00024800: 6164 2874 6172 6765 743d 726f 695f 626c  ad(target=roi_bl
-00024810: 7572 626f 7828 7669 6465 6f5f 7061 7468  urbox(video_path
-00024820: 3d76 6964 656f 5f70 6174 682c 2062 6c75  =video_path, blu
-00024830: 725f 6c65 7665 6c3d 626c 7572 5f6c 766c  r_level=blur_lvl
-00024840: 2c20 696e 7665 7274 3d69 6e76 6572 7429  , invert=invert)
-00024850: 292e 7374 6172 7428 290a 0a63 6c61 7373  ).start()..class
-00024860: 2042 6163 6b67 726f 756e 6452 656d 6f76   BackgroundRemov
-00024870: 6572 506f 7055 7028 506f 7055 704d 6978  erPopUp(PopUpMix
-00024880: 696e 293a 0a20 2020 2064 6566 205f 5f69  in):.    def __i
-00024890: 6e69 745f 5f28 7365 6c66 293a 0a20 2020  nit__(self):.   
-000248a0: 2020 2020 2050 6f70 5570 4d69 7869 6e2e       PopUpMixin.
-000248b0: 5f5f 696e 6974 5f5f 2873 656c 662c 2074  __init__(self, t
-000248c0: 6974 6c65 3d22 5245 4d4f 5645 2042 4143  itle="REMOVE BAC
-000248d0: 4b47 524f 554e 4420 494e 2056 4944 454f  KGROUND IN VIDEO
-000248e0: 5322 290a 2020 2020 2020 2020 7365 6c66  S").        self
-000248f0: 2e63 6c72 5f64 6963 7420 3d20 6765 745f  .clr_dict = get_
-00024900: 636f 6c6f 725f 6469 6374 2829 0a20 2020  color_dict().   
-00024910: 2020 2020 2073 6574 7469 6e67 735f 6672       settings_fr
-00024920: 6d20 3d20 4372 6561 7465 4c61 6265 6c46  m = CreateLabelF
-00024930: 7261 6d65 5769 7468 4963 6f6e 2870 6172  rameWithIcon(par
-00024940: 656e 743d 7365 6c66 2e6d 6169 6e5f 6672  ent=self.main_fr
-00024950: 6d2c 2068 6561 6465 723d 2253 4554 5449  m, header="SETTI
-00024960: 4e47 5322 2c20 6963 6f6e 5f6e 616d 653d  NGS", icon_name=
-00024970: 4b65 7973 2e44 4f43 554d 454e 5441 5449  Keys.DOCUMENTATI
-00024980: 4f4e 2e76 616c 7565 2c20 6963 6f6e 5f6c  ON.value, icon_l
-00024990: 696e 6b3d 4c69 6e6b 732e 5649 4445 4f5f  ink=Links.VIDEO_
-000249a0: 544f 4f4c 532e 7661 6c75 6529 0a20 2020  TOOLS.value).   
-000249b0: 2020 2020 2073 656c 662e 7669 6465 6f5f       self.video_
-000249c0: 7061 7468 203d 2046 696c 6553 656c 6563  path = FileSelec
-000249d0: 7428 7365 7474 696e 6773 5f66 726d 2c20  t(settings_frm, 
-000249e0: 2256 4944 454f 2050 4154 483a 222c 2074  "VIDEO PATH:", t
-000249f0: 6974 6c65 3d22 5365 6c65 6374 2061 2076  itle="Select a v
-00024a00: 6964 656f 2066 696c 6522 2c20 6669 6c65  ideo file", file
-00024a10: 5f74 7970 6573 3d5b 2822 5649 4445 4f22  _types=[("VIDEO"
-00024a20: 2c20 4f70 7469 6f6e 732e 414c 4c5f 5649  , Options.ALL_VI
-00024a30: 4445 4f5f 464f 524d 4154 5f4f 5054 494f  DEO_FORMAT_OPTIO
-00024a40: 4e53 2e76 616c 7565 295d 2c20 6c62 6c77  NS.value)], lblw
-00024a50: 6964 7468 3d34 3029 0a20 2020 2020 2020  idth=40).       
-00024a60: 2073 656c 662e 6267 5f76 6964 656f 5f70   self.bg_video_p
-00024a70: 6174 6820 3d20 4669 6c65 5365 6c65 6374  ath = FileSelect
-00024a80: 2873 6574 7469 6e67 735f 6672 6d2c 2022  (settings_frm, "
-00024a90: 4241 434b 4752 4f55 4e44 2052 4546 4552  BACKGROUND REFER
-00024aa0: 454e 4345 2056 4944 454f 2050 4154 483a  ENCE VIDEO PATH:
-00024ab0: 222c 2074 6974 6c65 3d22 5365 6c65 6374  ", title="Select
-00024ac0: 2061 2076 6964 656f 2066 696c 6522 2c20   a video file", 
-00024ad0: 6669 6c65 5f74 7970 6573 3d5b 2822 5649  file_types=[("VI
-00024ae0: 4445 4f22 2c20 4f70 7469 6f6e 732e 414c  DEO", Options.AL
-00024af0: 4c5f 5649 4445 4f5f 464f 524d 4154 5f4f  L_VIDEO_FORMAT_O
-00024b00: 5054 494f 4e53 2e76 616c 7565 295d 2c20  PTIONS.value)], 
-00024b10: 6c62 6c77 6964 7468 3d34 3029 0a20 2020  lblwidth=40).   
-00024b20: 2020 2020 2073 656c 662e 6267 5f63 6c72       self.bg_clr
-00024b30: 5f64 726f 7064 6f77 6e20 3d20 4472 6f70  _dropdown = Drop
-00024b40: 446f 776e 4d65 6e75 2873 6574 7469 6e67  DownMenu(setting
-00024b50: 735f 6672 6d2c 2022 4241 434b 4752 4f55  s_frm, "BACKGROU
-00024b60: 4e44 2043 4f4c 4f52 3a22 2c20 6c69 7374  ND COLOR:", list
-00024b70: 2873 656c 662e 636c 725f 6469 6374 2e6b  (self.clr_dict.k
-00024b80: 6579 7328 2929 2c20 6c61 6265 6c77 6964  eys()), labelwid
-00024b90: 7468 3d34 3029 0a20 2020 2020 2020 2073  th=40).        s
-00024ba0: 656c 662e 6667 5f63 6c72 5f64 726f 7064  elf.fg_clr_dropd
-00024bb0: 6f77 6e20 3d20 4472 6f70 446f 776e 4d65  own = DropDownMe
-00024bc0: 6e75 2873 6574 7469 6e67 735f 6672 6d2c  nu(settings_frm,
-00024bd0: 2022 464f 5245 4752 4f55 4e44 2043 4f4c   "FOREGROUND COL
-00024be0: 4f52 3a22 2c20 6c69 7374 2873 656c 662e  OR:", list(self.
-00024bf0: 636c 725f 6469 6374 2e6b 6579 7328 2929  clr_dict.keys())
-00024c00: 2c20 6c61 6265 6c77 6964 7468 3d34 3029  , labelwidth=40)
-00024c10: 0a20 2020 2020 2020 2073 656c 662e 6267  .        self.bg
-00024c20: 5f73 7461 7274 5f65 6220 3d20 456e 7472  _start_eb = Entr
-00024c30: 795f 426f 7828 7061 7265 6e74 3d73 6574  y_Box(parent=set
-00024c40: 7469 6e67 735f 6672 6d2c 206c 6162 656c  tings_frm, label
-00024c50: 7769 6474 683d 3430 2c20 656e 7472 795f  width=40, entry_
-00024c60: 626f 785f 7769 6474 683d 3135 2c20 6669  box_width=15, fi
-00024c70: 6c65 4465 7363 7269 7074 696f 6e3d 2742  leDescription='B
-00024c80: 4143 4b47 524f 554e 4420 5649 4445 4f20  ACKGROUND VIDEO 
-00024c90: 5354 4152 5420 2846 5241 4d45 2023 204f  START (FRAME # O
-00024ca0: 5220 5449 4d45 293a 2729 0a20 2020 2020  R TIME):').     
-00024cb0: 2020 2073 656c 662e 6267 5f65 6e64 5f65     self.bg_end_e
-00024cc0: 6220 3d20 456e 7472 795f 426f 7828 7061  b = Entry_Box(pa
-00024cd0: 7265 6e74 3d73 6574 7469 6e67 735f 6672  rent=settings_fr
-00024ce0: 6d2c 206c 6162 656c 7769 6474 683d 3430  m, labelwidth=40
-00024cf0: 2c20 656e 7472 795f 626f 785f 7769 6474  , entry_box_widt
-00024d00: 683d 3135 2c20 6669 6c65 4465 7363 7269  h=15, fileDescri
-00024d10: 7074 696f 6e3d 2742 4143 4b47 524f 554e  ption='BACKGROUN
-00024d20: 4420 5649 4445 4f20 454e 4420 2846 5241  D VIDEO END (FRA
-00024d30: 4d45 2023 204f 5220 5449 4d45 293a 2729  ME # OR TIME):')
-00024d40: 0a20 2020 2020 2020 2073 656c 662e 6d75  .        self.mu
-00024d50: 6c74 6970 726f 6365 7373 696e 675f 7661  ltiprocessing_va
-00024d60: 7220 3d20 426f 6f6c 6561 6e56 6172 2829  r = BooleanVar()
-00024d70: 0a20 2020 2020 2020 2073 656c 662e 6d75  .        self.mu
-00024d80: 6c74 6970 726f 6365 7373 5f63 6220 3d20  ltiprocess_cb = 
-00024d90: 4368 6563 6b62 7574 746f 6e28 7365 7474  Checkbutton(sett
-00024da0: 696e 6773 5f66 726d 2c20 7465 7874 3d22  ings_frm, text="
-00024db0: 4d75 6c74 6970 726f 6365 7373 2076 6964  Multiprocess vid
-00024dc0: 656f 7320 2866 6173 7465 7229 222c 2076  eos (faster)", v
-00024dd0: 6172 6961 626c 653d 7365 6c66 2e6d 756c  ariable=self.mul
-00024de0: 7469 7072 6f63 6573 7369 6e67 5f76 6172  tiprocessing_var
-00024df0: 2c20 636f 6d6d 616e 643d 6c61 6d62 6461  , command=lambda
-00024e00: 3a20 7365 6c66 2e65 6e61 626c 655f 6472  : self.enable_dr
-00024e10: 6f70 646f 776e 5f66 726f 6d5f 6368 6563  opdown_from_chec
-00024e20: 6b62 6f78 2863 6865 636b 5f62 6f78 5f76  kbox(check_box_v
-00024e30: 6172 3d73 656c 662e 6d75 6c74 6970 726f  ar=self.multipro
-00024e40: 6365 7373 696e 675f 7661 722c 2064 726f  cessing_var, dro
-00024e50: 7064 6f77 6e5f 6d65 6e75 733d 5b73 656c  pdown_menus=[sel
-00024e60: 662e 6d75 6c74 6970 726f 6365 7373 5f64  f.multiprocess_d
-00024e70: 726f 7064 6f77 6e5d 2929 0a20 2020 2020  ropdown])).     
-00024e80: 2020 2073 656c 662e 6d75 6c74 6970 726f     self.multipro
-00024e90: 6365 7373 5f64 726f 7064 6f77 6e20 3d20  cess_dropdown = 
-00024ea0: 4472 6f70 446f 776e 4d65 6e75 2873 6574  DropDownMenu(set
-00024eb0: 7469 6e67 735f 6672 6d2c 2022 4350 5520  tings_frm, "CPU 
-00024ec0: 636f 7265 733a 222c 206c 6973 7428 7261  cores:", list(ra
-00024ed0: 6e67 6528 322c 2073 656c 662e 6370 755f  nge(2, self.cpu_
-00024ee0: 636e 7429 292c 2022 3132 2229 0a20 2020  cnt)), "12").   
-00024ef0: 2020 2020 2073 656c 662e 6d75 6c74 6970       self.multip
-00024f00: 726f 6365 7373 5f64 726f 7064 6f77 6e2e  rocess_dropdown.
-00024f10: 7365 7443 686f 6963 6573 2832 290a 2020  setChoices(2).  
-00024f20: 2020 2020 2020 7365 6c66 2e6d 756c 7469        self.multi
-00024f30: 7072 6f63 6573 735f 6472 6f70 646f 776e  process_dropdown
-00024f40: 2e64 6973 6162 6c65 2829 0a20 2020 2020  .disable().     
-00024f50: 2020 2073 656c 662e 6267 5f63 6c72 5f64     self.bg_clr_d
-00024f60: 726f 7064 6f77 6e2e 7365 7443 686f 6963  ropdown.setChoic
-00024f70: 6573 2827 426c 6163 6b27 290a 2020 2020  es('Black').    
-00024f80: 2020 2020 7365 6c66 2e66 675f 636c 725f      self.fg_clr_
-00024f90: 6472 6f70 646f 776e 2e73 6574 4368 6f69  dropdown.setChoi
-00024fa0: 6365 7328 2757 6869 7465 2729 0a20 2020  ces('White').   
-00024fb0: 2020 2020 2073 656c 662e 6267 5f73 7461       self.bg_sta
-00024fc0: 7274 5f65 622e 656e 7472 795f 7365 7428  rt_eb.entry_set(
-00024fd0: 2730 303a 3030 3a30 3027 290a 2020 2020  '00:00:00').    
-00024fe0: 2020 2020 7365 6c66 2e62 675f 656e 645f      self.bg_end_
-00024ff0: 6562 2e65 6e74 7279 5f73 6574 2827 3030  eb.entry_set('00
-00025000: 3a30 303a 3230 2729 0a0a 2020 2020 2020  :00:20')..      
-00025010: 2020 7365 7474 696e 6773 5f66 726d 2e67    settings_frm.g
-00025020: 7269 6428 726f 773d 302c 2063 6f6c 756d  rid(row=0, colum
-00025030: 6e3d 302c 2073 7469 636b 793d 4e57 290a  n=0, sticky=NW).
-00025040: 2020 2020 2020 2020 7365 6c66 2e76 6964          self.vid
-00025050: 656f 5f70 6174 682e 6772 6964 2872 6f77  eo_path.grid(row
-00025060: 3d30 2c20 636f 6c75 6d6e 3d30 2c20 7374  =0, column=0, st
-00025070: 6963 6b79 3d4e 5729 0a20 2020 2020 2020  icky=NW).       
-00025080: 2073 656c 662e 6267 5f76 6964 656f 5f70   self.bg_video_p
-00025090: 6174 682e 6772 6964 2872 6f77 3d31 2c20  ath.grid(row=1, 
-000250a0: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
-000250b0: 3d4e 5729 0a20 2020 2020 2020 2073 656c  =NW).        sel
-000250c0: 662e 6267 5f63 6c72 5f64 726f 7064 6f77  f.bg_clr_dropdow
-000250d0: 6e2e 6772 6964 2872 6f77 3d32 2c20 636f  n.grid(row=2, co
-000250e0: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d4e  lumn=0, sticky=N
-000250f0: 5729 0a20 2020 2020 2020 2073 656c 662e  W).        self.
-00025100: 6667 5f63 6c72 5f64 726f 7064 6f77 6e2e  fg_clr_dropdown.
-00025110: 6772 6964 2872 6f77 3d33 2c20 636f 6c75  grid(row=3, colu
-00025120: 6d6e 3d30 2c20 7374 6963 6b79 3d4e 5729  mn=0, sticky=NW)
-00025130: 0a20 2020 2020 2020 2073 656c 662e 6267  .        self.bg
-00025140: 5f73 7461 7274 5f65 622e 6772 6964 2872  _start_eb.grid(r
-00025150: 6f77 3d34 2c20 636f 6c75 6d6e 3d30 2c20  ow=4, column=0, 
-00025160: 7374 6963 6b79 3d4e 5729 0a20 2020 2020  sticky=NW).     
-00025170: 2020 2073 656c 662e 6267 5f65 6e64 5f65     self.bg_end_e
-00025180: 622e 6772 6964 2872 6f77 3d35 2c20 636f  b.grid(row=5, co
-00025190: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d4e  lumn=0, sticky=N
-000251a0: 5729 0a20 2020 2020 2020 2073 656c 662e  W).        self.
-000251b0: 6d75 6c74 6970 726f 6365 7373 5f63 622e  multiprocess_cb.
-000251c0: 6772 6964 2872 6f77 3d36 2c20 636f 6c75  grid(row=6, colu
-000251d0: 6d6e 3d30 2c20 7374 6963 6b79 3d4e 5729  mn=0, sticky=NW)
-000251e0: 0a20 2020 2020 2020 2073 656c 662e 6d75  .        self.mu
-000251f0: 6c74 6970 726f 6365 7373 5f64 726f 7064  ltiprocess_dropd
-00025200: 6f77 6e2e 6772 6964 2872 6f77 3d36 2c20  own.grid(row=6, 
-00025210: 636f 6c75 6d6e 3d31 2c20 7374 6963 6b79  column=1, sticky
-00025220: 3d4e 5729 0a20 2020 2020 2020 2073 656c  =NW).        sel
-00025230: 662e 6372 6561 7465 5f72 756e 5f66 726d  f.create_run_frm
-00025240: 2872 756e 5f66 756e 6374 696f 6e3d 7365  (run_function=se
-00025250: 6c66 2e72 756e 290a 2020 2020 2020 2020  lf.run).        
-00025260: 2373 656c 662e 6d61 696e 5f66 726d 2e6d  #self.main_frm.m
-00025270: 6169 6e6c 6f6f 7028 290a 0a20 2020 2064  ainloop()..    d
-00025280: 6566 2072 756e 2873 656c 6629 3a0a 2020  ef run(self):.  
-00025290: 2020 2020 2020 7669 6465 6f5f 7061 7468        video_path
-000252a0: 203d 2073 656c 662e 7669 6465 6f5f 7061   = self.video_pa
-000252b0: 7468 2e66 696c 655f 7061 7468 0a20 2020  th.file_path.   
-000252c0: 2020 2020 205f 203d 2067 6574 5f76 6964       _ = get_vid
-000252d0: 656f 5f6d 6574 615f 6461 7461 2876 6964  eo_meta_data(vid
-000252e0: 656f 5f70 6174 683d 7669 6465 6f5f 7061  eo_path=video_pa
-000252f0: 7468 290a 2020 2020 2020 2020 6267 5f76  th).        bg_v
-00025300: 6964 656f 203d 2073 656c 662e 6267 5f76  ideo = self.bg_v
-00025310: 6964 656f 5f70 6174 682e 6669 6c65 5f70  ideo_path.file_p
-00025320: 6174 680a 2020 2020 2020 2020 6267 5f63  ath.        bg_c
-00025330: 6c72 203d 2073 656c 662e 636f 6c6f 7273  lr = self.colors
-00025340: 5f64 6963 745b 7365 6c66 2e62 675f 636c  _dict[self.bg_cl
-00025350: 725f 6472 6f70 646f 776e 2e67 6574 4368  r_dropdown.getCh
-00025360: 6f69 6365 7328 295d 0a20 2020 2020 2020  oices()].       
-00025370: 2066 675f 636c 7220 3d20 7365 6c66 2e63   fg_clr = self.c
-00025380: 6f6c 6f72 735f 6469 6374 5b73 656c 662e  olors_dict[self.
-00025390: 6667 5f63 6c72 5f64 726f 7064 6f77 6e2e  fg_clr_dropdown.
-000253a0: 6765 7443 686f 6963 6573 2829 5d0a 2020  getChoices()].  
-000253b0: 2020 2020 2020 6966 2062 675f 636c 7220        if bg_clr 
-000253c0: 3d3d 2066 675f 636c 723a 0a20 2020 2020  == fg_clr:.     
-000253d0: 2020 2020 2020 2072 6169 7365 2044 7570         raise Dup
-000253e0: 6c69 6361 7469 6f6e 4572 726f 7228 6d73  licationError(ms
-000253f0: 673d 6627 5468 6520 6261 636b 6772 6f75  g=f'The backgrou
-00025400: 6e64 2061 6e64 2066 6f72 6567 726f 756e  nd and foregroun
-00025410: 6420 636f 6c6f 7220 6361 6e6e 6f74 2062  d color cannot b
-00025420: 6520 7468 6520 7361 6d65 2063 6f6c 6f72  e the same color
-00025430: 2028 7b66 675f 636c 727d 2927 2c20 736f   ({fg_clr})', so
-00025440: 7572 6365 3d73 656c 662e 5f5f 636c 6173  urce=self.__clas
-00025450: 735f 5f2e 5f5f 6e61 6d65 5f5f 290a 2020  s__.__name__).  
-00025460: 2020 2020 2020 6966 206e 6f74 206f 732e        if not os.
-00025470: 7061 7468 2e69 7366 696c 6528 6267 5f76  path.isfile(bg_v
-00025480: 6964 656f 293a 0a20 2020 2020 2020 2020  ideo):.         
-00025490: 2020 2062 675f 7669 6465 6f20 3d20 6465     bg_video = de
-000254a0: 6570 636f 7079 2876 6964 656f 5f70 6174  epcopy(video_pat
-000254b0: 6829 0a20 2020 2020 2020 2065 6c73 653a  h).        else:
-000254c0: 0a20 2020 2020 2020 2020 2020 205f 203d  .            _ =
-000254d0: 2067 6574 5f76 6964 656f 5f6d 6574 615f   get_video_meta_
-000254e0: 6461 7461 2876 6964 656f 5f70 6174 683d  data(video_path=
-000254f0: 6267 5f76 6964 656f 290a 2020 2020 2020  bg_video).      
-00025500: 2020 7374 6172 742c 2065 6e64 203d 2073    start, end = s
-00025510: 656c 662e 6267 5f73 7461 7274 5f65 622e  elf.bg_start_eb.
-00025520: 656e 7472 795f 6765 742e 7374 7269 7028  entry_get.strip(
-00025530: 292c 2073 656c 662e 6267 5f65 6e64 5f65  ), self.bg_end_e
-00025540: 622e 656e 7472 795f 6765 742e 7374 7269  b.entry_get.stri
-00025550: 7028 290a 2020 2020 2020 2020 696e 745f  p().        int_
-00025560: 7374 6172 742c 205f 203d 2063 6865 636b  start, _ = check
-00025570: 5f69 6e74 286e 616d 653d 2727 2c20 7661  _int(name='', va
-00025580: 6c75 653d 7374 6172 742c 206d 696e 5f76  lue=start, min_v
-00025590: 616c 7565 3d30 2c20 7261 6973 655f 6572  alue=0, raise_er
-000255a0: 726f 723d 4661 6c73 6529 0a20 2020 2020  ror=False).     
-000255b0: 2020 2069 6e74 5f65 6e64 2c20 5f20 3d20     int_end, _ = 
-000255c0: 6368 6563 6b5f 696e 7428 6e61 6d65 3d27  check_int(name='
-000255d0: 272c 2076 616c 7565 3d65 6e64 2c20 6d69  ', value=end, mi
-000255e0: 6e5f 7661 6c75 653d 302c 2072 6169 7365  n_value=0, raise
-000255f0: 5f65 7272 6f72 3d46 616c 7365 290a 2020  _error=False).  
-00025600: 2020 2020 2020 6966 2069 6e74 5f73 7461        if int_sta
-00025610: 7274 2061 6e64 2069 6e74 5f65 6e64 3a0a  rt and int_end:.
-00025620: 2020 2020 2020 2020 2020 2020 6267 5f73              bg_s
-00025630: 7461 7274 5f74 696d 652c 2062 675f 656e  tart_time, bg_en
-00025640: 645f 7469 6d65 203d 204e 6f6e 652c 204e  d_time = None, N
-00025650: 6f6e 650a 2020 2020 2020 2020 2020 2020  one.            
-00025660: 6267 5f73 7461 7274 5f66 726d 2c20 6267  bg_start_frm, bg
-00025670: 5f65 6e64 5f66 726d 203d 2069 6e74 2869  _end_frm = int(i
-00025680: 6e74 5f73 7461 7274 292c 2069 6e74 2869  nt_start), int(i
-00025690: 6e74 5f65 6e64 290a 2020 2020 2020 2020  nt_end).        
-000256a0: 2020 2020 6966 2062 675f 7374 6172 745f      if bg_start_
-000256b0: 6672 6d20 3e3d 2062 675f 656e 645f 6672  frm >= bg_end_fr
-000256c0: 6d3a 0a20 2020 2020 2020 2020 2020 2020  m:.             
-000256d0: 2020 2072 6169 7365 2049 6e76 616c 6964     raise Invalid
-000256e0: 496e 7075 7445 7272 6f72 286d 7367 3d66  InputError(msg=f
-000256f0: 2753 7461 7274 2066 7261 6d65 2068 6173  'Start frame has
-00025700: 2074 6f20 6265 2062 6566 6f72 6520 656e   to be before en
-00025710: 6420 6672 616d 6520 2873 7461 7274 3a20  d frame (start: 
-00025720: 7b62 675f 7374 6172 745f 6672 6d7d 2c20  {bg_start_frm}, 
-00025730: 656e 643a 207b 6267 5f65 6e64 5f66 726d  end: {bg_end_frm
-00025740: 7d29 272c 2073 6f75 7263 653d 7365 6c66  })', source=self
-00025750: 2e5f 5f63 6c61 7373 5f5f 2e5f 5f6e 616d  .__class__.__nam
-00025760: 655f 5f29 0a20 2020 2020 2020 2065 6c73  e__).        els
-00025770: 653a 0a20 2020 2020 2020 2020 2020 2063  e:.            c
-00025780: 6865 636b 5f69 665f 7374 7269 6e67 5f76  heck_if_string_v
-00025790: 616c 7565 5f69 735f 7661 6c69 645f 7669  alue_is_valid_vi
-000257a0: 6465 6f5f 7469 6d65 7374 616d 7028 7661  deo_timestamp(va
-000257b0: 6c75 653d 7374 6172 742c 206e 616d 653d  lue=start, name=
-000257c0: 2753 5441 5254 2046 5241 4d45 2729 0a20  'START FRAME'). 
-000257d0: 2020 2020 2020 2020 2020 2063 6865 636b             check
-000257e0: 5f69 665f 7374 7269 6e67 5f76 616c 7565  _if_string_value
-000257f0: 5f69 735f 7661 6c69 645f 7669 6465 6f5f  _is_valid_video_
-00025800: 7469 6d65 7374 616d 7028 7661 6c75 653d  timestamp(value=
-00025810: 656e 642c 206e 616d 653d 2745 4e44 2046  end, name='END F
-00025820: 5241 4d45 2729 0a20 2020 2020 2020 2020  RAME').         
-00025830: 2020 2063 6865 636b 5f74 6861 745f 6868     check_that_hh
-00025840: 6d6d 7373 5f73 7461 7274 5f69 735f 6265  mmss_start_is_be
-00025850: 666f 7265 5f65 6e64 2873 7461 7274 5f74  fore_end(start_t
-00025860: 696d 653d 7374 6172 742c 2065 6e64 5f74  ime=start, end_t
-00025870: 696d 653d 656e 642c 206e 616d 653d 2753  ime=end, name='S
-00025880: 5441 5254 2041 4e44 2045 4e44 2054 494d  TART AND END TIM
-00025890: 4527 290a 2020 2020 2020 2020 2020 2020  E').            
-000258a0: 6267 5f73 7461 7274 5f66 726d 2c20 6267  bg_start_frm, bg
-000258b0: 5f65 6e64 5f66 726d 203d 204e 6f6e 652c  _end_frm = None,
-000258c0: 204e 6f6e 650a 2020 2020 2020 2020 2020   None.          
-000258d0: 2020 6267 5f73 7461 7274 5f74 696d 652c    bg_start_time,
-000258e0: 2062 675f 656e 645f 7469 6d65 203d 2073   bg_end_time = s
-000258f0: 7461 7274 2c20 656e 640a 0a0a 2020 2020  tart, end...    
-00025900: 2020 2020 6966 206e 6f74 2073 656c 662e      if not self.
-00025910: 6d75 6c74 6970 726f 6365 7373 696e 675f  multiprocessing_
-00025920: 7661 722e 6765 7428 293a 0a20 2020 2020  var.get():.     
-00025930: 2020 2020 2020 2070 7269 6e74 2876 6964         print(vid
-00025940: 656f 5f70 6174 682c 2062 675f 7669 6465  eo_path, bg_vide
-00025950: 6f29 0a20 2020 2020 2020 2020 2020 2076  o).            v
-00025960: 6964 656f 5f62 675f 7375 6274 7261 6374  ideo_bg_subtract
-00025970: 696f 6e28 7669 6465 6f5f 7061 7468 3d76  ion(video_path=v
-00025980: 6964 656f 5f70 6174 682c 0a20 2020 2020  ideo_path,.     
-00025990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000259a0: 2020 2020 2020 2020 2020 2020 6267 5f76              bg_v
-000259b0: 6964 656f 5f70 6174 683d 6267 5f76 6964  ideo_path=bg_vid
-000259c0: 656f 2c0a 2020 2020 2020 2020 2020 2020  eo,.            
-000259d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000259e0: 2020 2020 2062 675f 7374 6172 745f 6672       bg_start_fr
-000259f0: 6d3d 6267 5f73 7461 7274 5f66 726d 2c0a  m=bg_start_frm,.
-00025a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025a20: 2062 675f 656e 645f 6672 6d3d 6267 5f65   bg_end_frm=bg_e
-00025a30: 6e64 5f66 726d 2c0a 2020 2020 2020 2020  nd_frm,.        
-00025a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025a50: 2020 2020 2020 2020 2062 675f 7374 6172           bg_star
-00025a60: 745f 7469 6d65 3d62 675f 7374 6172 745f  t_time=bg_start_
-00025a70: 7469 6d65 2c0a 2020 2020 2020 2020 2020  time,.          
-00025a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025a90: 2020 2020 2020 2062 675f 656e 645f 7469         bg_end_ti
-00025aa0: 6d65 3d62 675f 656e 645f 7469 6d65 2c0a  me=bg_end_time,.
-00025ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025ad0: 2062 675f 636f 6c6f 723d 6267 5f63 6c72   bg_color=bg_clr
-00025ae0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00025af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025b00: 2020 2066 675f 636f 6c6f 723d 6667 5f63     fg_color=fg_c
-00025b10: 6c72 290a 2020 2020 2020 2020 656c 7365  lr).        else
-00025b20: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
-00025b30: 7265 5f63 6e74 203d 2069 6e74 2873 656c  re_cnt = int(sel
-00025b40: 662e 6d75 6c74 6970 726f 6365 7373 5f64  f.multiprocess_d
-00025b50: 726f 7064 6f77 6e2e 6765 7443 686f 6963  ropdown.getChoic
-00025b60: 6573 2829 290a 2020 2020 2020 2020 2020  es()).          
-00025b70: 2020 7669 6465 6f5f 6267 5f73 7562 7374    video_bg_subst
-00025b80: 7261 6374 696f 6e5f 6d70 2876 6964 656f  raction_mp(video
-00025b90: 5f70 6174 683d 7669 6465 6f5f 7061 7468  _path=video_path
-00025ba0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00025bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025bc0: 2020 2020 2020 2062 675f 7669 6465 6f5f         bg_video_
-00025bd0: 7061 7468 3d62 675f 7669 6465 6f2c 0a20  path=bg_video,. 
-00025be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025c00: 2020 2020 6267 5f73 7461 7274 5f66 726d      bg_start_frm
-00025c10: 3d62 675f 7374 6172 745f 6672 6d2c 0a20  =bg_start_frm,. 
+00022080: 745f 6472 6f70 646f 776e 203d 2044 726f  t_dropdown = Dro
+00022090: 7044 6f77 6e4d 656e 7528 7365 7474 696e  pDownMenu(settin
+000220a0: 6773 5f66 726d 2c20 2246 4f4e 543a 222c  gs_frm, "FONT:",
+000220b0: 206c 6973 7428 7365 6c66 2e66 6f6e 745f   list(self.font_
+000220c0: 6469 6374 2e6b 6579 7328 2929 2c20 6c61  dict.keys()), la
+000220d0: 6265 6c77 6964 7468 3d32 3529 0a20 2020  belwidth=25).   
+000220e0: 2020 2020 2073 656c 662e 666f 6e74 5f73       self.font_s
+000220f0: 697a 655f 6472 6f70 646f 776e 203d 2044  ize_dropdown = D
+00022100: 726f 7044 6f77 6e4d 656e 7528 7365 7474  ropDownMenu(sett
+00022110: 696e 6773 5f66 726d 2c20 2246 4f4e 5420  ings_frm, "FONT 
+00022120: 5349 5a45 3a22 2c20 6c69 7374 2872 616e  SIZE:", list(ran
+00022130: 6765 2835 2c20 3130 352c 2035 2929 2c20  ge(5, 105, 5)), 
+00022140: 6c61 6265 6c77 6964 7468 3d32 3529 0a20  labelwidth=25). 
+00022150: 2020 2020 2020 2073 656c 662e 666f 6e74         self.font
+00022160: 5f63 6f6c 6f72 5f64 726f 7064 6f77 6e20  _color_dropdown 
+00022170: 3d20 4472 6f70 446f 776e 4d65 6e75 2873  = DropDownMenu(s
+00022180: 6574 7469 6e67 735f 6672 6d2c 2022 464f  ettings_frm, "FO
+00022190: 4e54 2043 4f4c 4f52 3a22 2c20 6c69 7374  NT COLOR:", list
+000221a0: 2873 656c 662e 636f 6c6f 725f 6469 6374  (self.color_dict
+000221b0: 2e6b 6579 7328 2929 2c20 6c61 6265 6c77  .keys()), labelw
+000221c0: 6964 7468 3d32 3529 0a20 2020 2020 2020  idth=25).       
+000221d0: 2073 656c 662e 666f 6e74 5f62 6f72 6465   self.font_borde
+000221e0: 725f 6472 6f70 646f 776e 203d 2044 726f  r_dropdown = Dro
+000221f0: 7044 6f77 6e4d 656e 7528 7365 7474 696e  pDownMenu(settin
+00022200: 6773 5f66 726d 2c20 2246 4f4e 5420 424f  gs_frm, "FONT BO
+00022210: 5244 4552 2043 4f4c 4f52 3a22 2c20 6c69  RDER COLOR:", li
+00022220: 7374 2873 656c 662e 636f 6c6f 725f 6469  st(self.color_di
+00022230: 6374 2e6b 6579 7328 2929 2c20 6c61 6265  ct.keys()), labe
+00022240: 6c77 6964 7468 3d32 3529 0a20 2020 2020  lwidth=25).     
+00022250: 2020 2073 656c 662e 666f 6e74 5f62 6f72     self.font_bor
+00022260: 6465 725f 7769 6474 685f 6472 6f70 646f  der_width_dropdo
+00022270: 776e 203d 2044 726f 7044 6f77 6e4d 656e  wn = DropDownMen
+00022280: 7528 7365 7474 696e 6773 5f66 726d 2c20  u(settings_frm, 
+00022290: 2246 4f4e 5420 424f 5244 4552 2057 4944  "FONT BORDER WID
+000222a0: 5448 3a22 2c20 6c69 7374 2872 616e 6765  TH:", list(range
+000222b0: 2832 2c20 3532 2c20 3229 292c 206c 6162  (2, 52, 2)), lab
+000222c0: 656c 7769 6474 683d 3235 290a 0a20 2020  elwidth=25)..   
+000222d0: 2020 2020 2073 656c 662e 6c6f 6361 7469       self.locati
+000222e0: 6f6e 5f64 726f 7064 6f77 6e2e 7365 7443  on_dropdown.setC
+000222f0: 686f 6963 6573 2827 544f 5020 4c45 4654  hoices('TOP LEFT
+00022300: 2729 0a20 2020 2020 2020 2073 656c 662e  ').        self.
+00022310: 666f 6e74 5f73 697a 655f 6472 6f70 646f  font_size_dropdo
+00022320: 776e 2e73 6574 4368 6f69 6365 7328 3230  wn.setChoices(20
+00022330: 290a 2020 2020 2020 2020 7365 6c66 2e66  ).        self.f
+00022340: 6f6e 745f 6472 6f70 646f 776e 2e73 6574  ont_dropdown.set
+00022350: 4368 6f69 6365 7328 2741 7269 616c 2729  Choices('Arial')
+00022360: 0a20 2020 2020 2020 2073 656c 662e 666f  .        self.fo
+00022370: 6e74 5f63 6f6c 6f72 5f64 726f 7064 6f77  nt_color_dropdow
+00022380: 6e2e 7365 7443 686f 6963 6573 2827 5768  n.setChoices('Wh
+00022390: 6974 6527 290a 2020 2020 2020 2020 7365  ite').        se
+000223a0: 6c66 2e66 6f6e 745f 626f 7264 6572 5f64  lf.font_border_d
+000223b0: 726f 7064 6f77 6e2e 7365 7443 686f 6963  ropdown.setChoic
+000223c0: 6573 2827 426c 6163 6b27 290a 2020 2020  es('Black').    
+000223d0: 2020 2020 7365 6c66 2e66 6f6e 745f 626f      self.font_bo
+000223e0: 7264 6572 5f77 6964 7468 5f64 726f 7064  rder_width_dropd
+000223f0: 6f77 6e2e 7365 7443 686f 6963 6573 2832  own.setChoices(2
+00022400: 290a 0a20 2020 2020 2020 2073 6574 7469  )..        setti
+00022410: 6e67 735f 6672 6d2e 6772 6964 2872 6f77  ngs_frm.grid(row
+00022420: 3d30 2c20 636f 6c75 6d6e 3d30 2c20 7374  =0, column=0, st
+00022430: 6963 6b79 3d4e 5729 0a20 2020 2020 2020  icky=NW).       
+00022440: 2073 656c 662e 6c6f 6361 7469 6f6e 5f64   self.location_d
+00022450: 726f 7064 6f77 6e2e 6772 6964 2872 6f77  ropdown.grid(row
+00022460: 3d30 2c20 636f 6c75 6d6e 3d30 2c20 7374  =0, column=0, st
+00022470: 6963 6b79 3d4e 5729 0a20 2020 2020 2020  icky=NW).       
+00022480: 2073 656c 662e 666f 6e74 5f64 726f 7064   self.font_dropd
+00022490: 6f77 6e2e 6772 6964 2872 6f77 3d31 2c20  own.grid(row=1, 
+000224a0: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
+000224b0: 3d4e 5729 0a20 2020 2020 2020 2073 656c  =NW).        sel
+000224c0: 662e 666f 6e74 5f73 697a 655f 6472 6f70  f.font_size_drop
+000224d0: 646f 776e 2e67 7269 6428 726f 773d 322c  down.grid(row=2,
+000224e0: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
+000224f0: 793d 4e57 290a 2020 2020 2020 2020 7365  y=NW).        se
+00022500: 6c66 2e66 6f6e 745f 636f 6c6f 725f 6472  lf.font_color_dr
+00022510: 6f70 646f 776e 2e67 7269 6428 726f 773d  opdown.grid(row=
+00022520: 332c 2063 6f6c 756d 6e3d 302c 2073 7469  3, column=0, sti
+00022530: 636b 793d 4e57 290a 2020 2020 2020 2020  cky=NW).        
+00022540: 7365 6c66 2e66 6f6e 745f 626f 7264 6572  self.font_border
+00022550: 5f64 726f 7064 6f77 6e2e 6772 6964 2872  _dropdown.grid(r
+00022560: 6f77 3d34 2c20 636f 6c75 6d6e 3d30 2c20  ow=4, column=0, 
+00022570: 7374 6963 6b79 3d4e 5729 0a20 2020 2020  sticky=NW).     
+00022580: 2020 2073 656c 662e 666f 6e74 5f62 6f72     self.font_bor
+00022590: 6465 725f 7769 6474 685f 6472 6f70 646f  der_width_dropdo
+000225a0: 776e 2e67 7269 6428 726f 773d 352c 2063  wn.grid(row=5, c
+000225b0: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
+000225c0: 4e57 290a 0a20 2020 2020 2020 2073 696e  NW)..        sin
+000225d0: 676c 655f 7669 6465 6f5f 6672 6d20 3d20  gle_video_frm = 
+000225e0: 4372 6561 7465 4c61 6265 6c46 7261 6d65  CreateLabelFrame
+000225f0: 5769 7468 4963 6f6e 2870 6172 656e 743d  WithIcon(parent=
+00022600: 7365 6c66 2e6d 6169 6e5f 6672 6d2c 2068  self.main_frm, h
+00022610: 6561 6465 723d 2253 494e 474c 4520 5649  eader="SINGLE VI
+00022620: 4445 4f20 2d20 5355 5045 5249 4d50 4f53  DEO - SUPERIMPOS
+00022630: 4520 5649 4445 4f20 4e41 4d45 222c 2069  E VIDEO NAME", i
+00022640: 636f 6e5f 6e61 6d65 3d4b 6579 732e 444f  con_name=Keys.DO
+00022650: 4355 4d45 4e54 4154 494f 4e2e 7661 6c75  CUMENTATION.valu
+00022660: 652c 2069 636f 6e5f 6c69 6e6b 3d4c 696e  e, icon_link=Lin
+00022670: 6b73 2e56 4944 454f 5f54 4f4f 4c53 2e76  ks.VIDEO_TOOLS.v
+00022680: 616c 7565 290a 2020 2020 2020 2020 7365  alue).        se
+00022690: 6c66 2e73 656c 6563 7465 645f 7669 6465  lf.selected_vide
+000226a0: 6f20 3d20 4669 6c65 5365 6c65 6374 2873  o = FileSelect(s
+000226b0: 696e 676c 655f 7669 6465 6f5f 6672 6d2c  ingle_video_frm,
+000226c0: 2022 5649 4445 4f20 5041 5448 3a22 2c20   "VIDEO PATH:", 
+000226d0: 7469 746c 653d 2253 656c 6563 7420 6120  title="Select a 
+000226e0: 7669 6465 6f20 6669 6c65 222c 206c 626c  video file", lbl
+000226f0: 7769 6474 683d 3235 2c20 6669 6c65 5f74  width=25, file_t
+00022700: 7970 6573 3d5b 2822 5649 4445 4f20 4649  ypes=[("VIDEO FI
+00022710: 4c45 222c 204f 7074 696f 6e73 2e41 4c4c  LE", Options.ALL
+00022720: 5f56 4944 454f 5f46 4f52 4d41 545f 5354  _VIDEO_FORMAT_ST
+00022730: 525f 4f50 5449 4f4e 532e 7661 6c75 6529  R_OPTIONS.value)
+00022740: 5d29 0a20 2020 2020 2020 2073 696e 676c  ]).        singl
+00022750: 655f 7669 6465 6f5f 7275 6e20 3d20 4275  e_video_run = Bu
+00022760: 7474 6f6e 2873 696e 676c 655f 7669 6465  tton(single_vide
+00022770: 6f5f 6672 6d2c 2074 6578 743d 2252 554e  o_frm, text="RUN
+00022780: 202d 2053 494e 474c 4520 5649 4445 4f22   - SINGLE VIDEO"
+00022790: 2c20 636f 6d6d 616e 643d 6c61 6d62 6461  , command=lambda
+000227a0: 3a20 7365 6c66 2e72 756e 286d 756c 7469  : self.run(multi
+000227b0: 706c 653d 4661 6c73 6529 290a 0a20 2020  ple=False))..   
+000227c0: 2020 2020 2073 696e 676c 655f 7669 6465       single_vide
+000227d0: 6f5f 6672 6d2e 6772 6964 2872 6f77 3d31  o_frm.grid(row=1
+000227e0: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
+000227f0: 6b79 3d22 4e57 2229 0a20 2020 2020 2020  ky="NW").       
+00022800: 2073 656c 662e 7365 6c65 6374 6564 5f76   self.selected_v
+00022810: 6964 656f 2e67 7269 6428 726f 773d 302c  ideo.grid(row=0,
+00022820: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
+00022830: 793d 224e 5722 290a 2020 2020 2020 2020  y="NW").        
+00022840: 7369 6e67 6c65 5f76 6964 656f 5f72 756e  single_video_run
+00022850: 2e67 7269 6428 726f 773d 312c 2063 6f6c  .grid(row=1, col
+00022860: 756d 6e3d 302c 2073 7469 636b 793d 224e  umn=0, sticky="N
+00022870: 5722 290a 0a20 2020 2020 2020 206d 756c  W")..        mul
+00022880: 7469 706c 655f 7669 6465 6f73 5f66 726d  tiple_videos_frm
+00022890: 203d 2043 7265 6174 654c 6162 656c 4672   = CreateLabelFr
+000228a0: 616d 6557 6974 6849 636f 6e28 7061 7265  ameWithIcon(pare
+000228b0: 6e74 3d73 656c 662e 6d61 696e 5f66 726d  nt=self.main_frm
+000228c0: 2c20 6865 6164 6572 3d22 4d55 4c54 4950  , header="MULTIP
+000228d0: 4c45 2056 4944 454f 5320 2d20 5355 5045  LE VIDEOS - SUPE
+000228e0: 5249 4d50 4f53 4520 5649 4445 4f20 4e41  RIMPOSE VIDEO NA
+000228f0: 4d45 222c 2069 636f 6e5f 6e61 6d65 3d4b  ME", icon_name=K
+00022900: 6579 732e 444f 4355 4d45 4e54 4154 494f  eys.DOCUMENTATIO
+00022910: 4e2e 7661 6c75 652c 2069 636f 6e5f 6c69  N.value, icon_li
+00022920: 6e6b 3d4c 696e 6b73 2e56 4944 454f 5f54  nk=Links.VIDEO_T
+00022930: 4f4f 4c53 2e76 616c 7565 290a 2020 2020  OOLS.value).    
+00022940: 2020 2020 7365 6c66 2e73 656c 6563 7465      self.selecte
+00022950: 645f 7669 6465 6f5f 6469 7220 3d20 466f  d_video_dir = Fo
+00022960: 6c64 6572 5365 6c65 6374 286d 756c 7469  lderSelect(multi
+00022970: 706c 655f 7669 6465 6f73 5f66 726d 2c20  ple_videos_frm, 
+00022980: 2256 4944 454f 2044 4952 4543 544f 5259  "VIDEO DIRECTORY
+00022990: 2050 4154 483a 222c 2074 6974 6c65 3d22   PATH:", title="
+000229a0: 5365 6c65 6374 2061 2076 6964 656f 2064  Select a video d
+000229b0: 6972 6563 746f 7279 222c 206c 626c 7769  irectory", lblwi
+000229c0: 6474 683d 3235 290a 2020 2020 2020 2020  dth=25).        
+000229d0: 6d75 6c74 6970 6c65 5f76 6964 656f 735f  multiple_videos_
+000229e0: 7275 6e20 3d20 4275 7474 6f6e 286d 756c  run = Button(mul
+000229f0: 7469 706c 655f 7669 6465 6f73 5f66 726d  tiple_videos_frm
+00022a00: 2c20 7465 7874 3d22 5255 4e20 2d20 4d55  , text="RUN - MU
+00022a10: 4c54 4950 4c45 2056 4944 454f 5322 2c20  LTIPLE VIDEOS", 
+00022a20: 636f 6d6d 616e 643d 6c61 6d62 6461 3a20  command=lambda: 
+00022a30: 7365 6c66 2e72 756e 286d 756c 7469 706c  self.run(multipl
+00022a40: 653d 5472 7565 2929 0a0a 2020 2020 2020  e=True))..      
+00022a50: 2020 6d75 6c74 6970 6c65 5f76 6964 656f    multiple_video
+00022a60: 735f 6672 6d2e 6772 6964 2872 6f77 3d32  s_frm.grid(row=2
+00022a70: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
+00022a80: 6b79 3d22 4e57 2229 0a20 2020 2020 2020  ky="NW").       
+00022a90: 2073 656c 662e 7365 6c65 6374 6564 5f76   self.selected_v
+00022aa0: 6964 656f 5f64 6972 2e67 7269 6428 726f  ideo_dir.grid(ro
+00022ab0: 773d 302c 2063 6f6c 756d 6e3d 302c 2073  w=0, column=0, s
+00022ac0: 7469 636b 793d 224e 5722 290a 2020 2020  ticky="NW").    
+00022ad0: 2020 2020 6d75 6c74 6970 6c65 5f76 6964      multiple_vid
+00022ae0: 656f 735f 7275 6e2e 6772 6964 2872 6f77  eos_run.grid(row
+00022af0: 3d31 2c20 636f 6c75 6d6e 3d30 2c20 7374  =1, column=0, st
+00022b00: 6963 6b79 3d22 4e57 2229 0a20 2020 2020  icky="NW").     
+00022b10: 2020 2023 7365 6c66 2e6d 6169 6e5f 6672     #self.main_fr
+00022b20: 6d2e 6d61 696e 6c6f 6f70 2829 0a0a 2020  m.mainloop()..  
+00022b30: 2020 6465 6620 7275 6e28 7365 6c66 2c20    def run(self, 
+00022b40: 6d75 6c74 6970 6c65 3a20 626f 6f6c 293a  multiple: bool):
+00022b50: 0a20 2020 2020 2020 206c 6f63 203d 2073  .        loc = s
+00022b60: 656c 662e 6c6f 6361 7469 6f6e 5f64 726f  elf.location_dro
+00022b70: 7064 6f77 6e2e 6765 7443 686f 6963 6573  pdown.getChoices
+00022b80: 2829 0a20 2020 2020 2020 206c 6f63 203d  ().        loc =
+00022b90: 2073 656c 662e 4c4f 4341 5449 4f4e 535b   self.LOCATIONS[
+00022ba0: 6c6f 635d 0a20 2020 2020 2020 2066 6f6e  loc].        fon
+00022bb0: 745f 7369 7a65 203d 2069 6e74 2873 656c  t_size = int(sel
+00022bc0: 662e 666f 6e74 5f73 697a 655f 6472 6f70  f.font_size_drop
+00022bd0: 646f 776e 2e67 6574 4368 6f69 6365 7328  down.getChoices(
+00022be0: 2929 0a20 2020 2020 2020 2066 6f6e 7420  )).        font 
+00022bf0: 3d20 7365 6c66 2e66 6f6e 745f 6472 6f70  = self.font_drop
+00022c00: 646f 776e 2e67 6574 4368 6f69 6365 7328  down.getChoices(
+00022c10: 290a 2020 2020 2020 2020 666f 6e74 5f63  ).        font_c
+00022c20: 6c72 203d 2073 656c 662e 666f 6e74 5f63  lr = self.font_c
+00022c30: 6f6c 6f72 5f64 726f 7064 6f77 6e2e 6765  olor_dropdown.ge
+00022c40: 7443 686f 6963 6573 2829 0a20 2020 2020  tChoices().     
+00022c50: 2020 2066 6f6e 745f 626f 7264 6572 5f63     font_border_c
+00022c60: 6c72 203d 2073 656c 662e 666f 6e74 5f62  lr = self.font_b
+00022c70: 6f72 6465 725f 6472 6f70 646f 776e 2e67  order_dropdown.g
+00022c80: 6574 4368 6f69 6365 7328 290a 2020 2020  etChoices().    
+00022c90: 2020 2020 666f 6e74 5f62 6f72 6465 725f      font_border_
+00022ca0: 7769 6474 6820 3d20 696e 7428 7365 6c66  width = int(self
+00022cb0: 2e66 6f6e 745f 626f 7264 6572 5f77 6964  .font_border_wid
+00022cc0: 7468 5f64 726f 7064 6f77 6e2e 6765 7443  th_dropdown.getC
+00022cd0: 686f 6963 6573 2829 290a 2020 2020 2020  hoices()).      
+00022ce0: 2020 6966 206e 6f74 206d 756c 7469 706c    if not multipl
+00022cf0: 653a 0a20 2020 2020 2020 2020 2020 2064  e:.            d
+00022d00: 6174 615f 7061 7468 203d 2073 656c 662e  ata_path = self.
+00022d10: 7365 6c65 6374 6564 5f76 6964 656f 2e66  selected_video.f
+00022d20: 696c 655f 7061 7468 0a20 2020 2020 2020  ile_path.       
+00022d30: 2020 2020 2063 6865 636b 5f66 696c 655f       check_file_
+00022d40: 6578 6973 745f 616e 645f 7265 6164 6162  exist_and_readab
+00022d50: 6c65 2866 696c 655f 7061 7468 3d64 6174  le(file_path=dat
+00022d60: 615f 7061 7468 290a 2020 2020 2020 2020  a_path).        
+00022d70: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00022d80: 2020 6461 7461 5f70 6174 6820 3d20 7365    data_path = se
+00022d90: 6c66 2e73 656c 6563 7465 645f 7669 6465  lf.selected_vide
+00022da0: 6f5f 6469 722e 666f 6c64 6572 5f70 6174  o_dir.folder_pat
+00022db0: 680a 2020 2020 2020 2020 2020 2020 6368  h.            ch
+00022dc0: 6563 6b5f 6966 5f64 6972 5f65 7869 7374  eck_if_dir_exist
+00022dd0: 7328 696e 5f64 6972 3d64 6174 615f 7061  s(in_dir=data_pa
+00022de0: 7468 290a 0a20 2020 2020 2020 2074 6872  th)..        thr
+00022df0: 6561 6469 6e67 2e54 6872 6561 6428 7461  eading.Thread(ta
+00022e00: 7267 6574 3d73 7570 6572 696d 706f 7365  rget=superimpose
+00022e10: 5f76 6964 656f 5f6e 616d 6573 2876 6964  _video_names(vid
+00022e20: 656f 5f70 6174 683d 6461 7461 5f70 6174  eo_path=data_pat
+00022e30: 682c 0a20 2020 2020 2020 2020 2020 2020  h,.             
+00022e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022e60: 2020 2020 2020 2020 2020 2066 6f6e 743d             font=
+00022e70: 666f 6e74 2c0a 2020 2020 2020 2020 2020  font,.          
+00022e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022ea0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+00022eb0: 6e74 5f73 697a 653d 666f 6e74 5f73 697a  nt_size=font_siz
+00022ec0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00022ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022ef0: 2020 2020 2020 2020 2020 2066 6f6e 745f             font_
+00022f00: 636f 6c6f 723d 666f 6e74 5f63 6c72 2c0a  color=font_clr,.
+00022f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022f40: 2020 2020 2020 2020 666f 6e74 5f62 6f72          font_bor
+00022f50: 6465 725f 636f 6c6f 723d 666f 6e74 5f62  der_color=font_b
+00022f60: 6f72 6465 725f 636c 722c 0a20 2020 2020  order_clr,.     
+00022f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022fa0: 2020 2066 6f6e 745f 626f 7264 6572 5f77     font_border_w
+00022fb0: 6964 7468 3d66 6f6e 745f 626f 7264 6572  idth=font_border
+00022fc0: 5f77 6964 7468 2c0a 2020 2020 2020 2020  _width,.        
+00022fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023000: 706f 7369 7469 6f6e 3d6c 6f63 2929 2e73  position=loc)).s
+00023010: 7461 7274 2829 0a0a 636c 6173 7320 5375  tart()..class Su
+00023020: 7065 7269 6d70 6f73 6554 6578 7450 6f70  perimposeTextPop
+00023030: 5570 2850 6f70 5570 4d69 7869 6e29 3a0a  Up(PopUpMixin):.
+00023040: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
+00023050: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+00023060: 506f 7055 704d 6978 696e 2e5f 5f69 6e69  PopUpMixin.__ini
+00023070: 745f 5f28 7365 6c66 2c20 7469 746c 653d  t__(self, title=
+00023080: 2253 5550 4552 2d49 4d50 4f53 4520 5445  "SUPER-IMPOSE TE
+00023090: 5854 204f 4e20 5649 4445 4f53 2229 0a20  XT ON VIDEOS"). 
+000230a0: 2020 2020 2020 2073 656c 662e 4c4f 4341         self.LOCA
+000230b0: 5449 4f4e 5320 3d20 7b27 544f 5020 4c45  TIONS = {'TOP LE
+000230c0: 4654 273a 2027 746f 705f 6c65 6674 272c  FT': 'top_left',
+000230d0: 2027 544f 5020 5249 4748 5427 3a20 2774   'TOP RIGHT': 't
+000230e0: 6f70 5f72 6967 6874 272c 2027 544f 5020  op_right', 'TOP 
+000230f0: 4d49 4444 4c45 273a 2027 746f 705f 6d69  MIDDLE': 'top_mi
+00023100: 6464 6c65 272c 2027 424f 5454 4f4d 204c  ddle', 'BOTTOM L
+00023110: 4546 5427 3a20 2762 6f74 746f 6d5f 6c65  EFT': 'bottom_le
+00023120: 6674 272c 2027 424f 5454 4f4d 2052 4947  ft', 'BOTTOM RIG
+00023130: 4854 273a 2027 626f 7474 6f6d 5f72 6967  HT': 'bottom_rig
+00023140: 6874 272c 2027 424f 5454 4f4d 204d 4944  ht', 'BOTTOM MID
+00023150: 444c 4527 3a20 2762 6f74 746f 6d5f 6d69  DLE': 'bottom_mi
+00023160: 6464 6c65 277d 0a20 2020 2020 2020 2073  ddle'}.        s
+00023170: 6574 7469 6e67 735f 6672 6d20 3d20 4372  ettings_frm = Cr
+00023180: 6561 7465 4c61 6265 6c46 7261 6d65 5769  eateLabelFrameWi
+00023190: 7468 4963 6f6e 2870 6172 656e 743d 7365  thIcon(parent=se
+000231a0: 6c66 2e6d 6169 6e5f 6672 6d2c 2068 6561  lf.main_frm, hea
+000231b0: 6465 723d 2253 4554 5449 4e47 5322 2c20  der="SETTINGS", 
+000231c0: 6963 6f6e 5f6e 616d 653d 4b65 7973 2e44  icon_name=Keys.D
+000231d0: 4f43 554d 454e 5441 5449 4f4e 2e76 616c  OCUMENTATION.val
+000231e0: 7565 2c20 6963 6f6e 5f6c 696e 6b3d 4c69  ue, icon_link=Li
+000231f0: 6e6b 732e 5649 4445 4f5f 544f 4f4c 532e  nks.VIDEO_TOOLS.
+00023200: 7661 6c75 6529 0a20 2020 2020 2020 2073  value).        s
+00023210: 656c 662e 636f 6c6f 725f 6469 6374 203d  elf.color_dict =
+00023220: 2067 6574 5f63 6f6c 6f72 5f64 6963 7428   get_color_dict(
+00023230: 290a 2020 2020 2020 2020 7365 6c66 2e66  ).        self.f
+00023240: 6f6e 745f 6469 6374 203d 2067 6574 5f66  ont_dict = get_f
+00023250: 6f6e 7473 2829 0a0a 2020 2020 2020 2020  onts()..        
+00023260: 7365 6c66 2e6c 6f63 6174 696f 6e5f 6472  self.location_dr
+00023270: 6f70 646f 776e 203d 2044 726f 7044 6f77  opdown = DropDow
+00023280: 6e4d 656e 7528 7365 7474 696e 6773 5f66  nMenu(settings_f
+00023290: 726d 2c20 2254 4558 5420 4c4f 4341 5449  rm, "TEXT LOCATI
+000232a0: 4f4e 3a22 2c20 6c69 7374 2873 656c 662e  ON:", list(self.
+000232b0: 4c4f 4341 5449 4f4e 532e 6b65 7973 2829  LOCATIONS.keys()
+000232c0: 292c 206c 6162 656c 7769 6474 683d 3235  ), labelwidth=25
+000232d0: 290a 2020 2020 2020 2020 7365 6c66 2e74  ).        self.t
+000232e0: 6578 745f 6562 203d 2045 6e74 7279 5f42  ext_eb = Entry_B
+000232f0: 6f78 2870 6172 656e 743d 7365 7474 696e  ox(parent=settin
+00023300: 6773 5f66 726d 2c20 6c61 6265 6c77 6964  gs_frm, labelwid
+00023310: 7468 3d32 352c 2065 6e74 7279 5f62 6f78  th=25, entry_box
+00023320: 5f77 6964 7468 3d35 302c 2066 696c 6544  _width=50, fileD
+00023330: 6573 6372 6970 7469 6f6e 3d27 5445 5854  escription='TEXT
+00023340: 3a27 290a 2020 2020 2020 2020 7365 6c66  :').        self
+00023350: 2e66 6f6e 745f 6472 6f70 646f 776e 203d  .font_dropdown =
+00023360: 2044 726f 7044 6f77 6e4d 656e 7528 7365   DropDownMenu(se
+00023370: 7474 696e 6773 5f66 726d 2c20 2246 4f4e  ttings_frm, "FON
+00023380: 543a 222c 206c 6973 7428 7365 6c66 2e66  T:", list(self.f
+00023390: 6f6e 745f 6469 6374 2e6b 6579 7328 2929  ont_dict.keys())
+000233a0: 2c20 6c61 6265 6c77 6964 7468 3d32 3529  , labelwidth=25)
+000233b0: 0a20 2020 2020 2020 2073 656c 662e 666f  .        self.fo
+000233c0: 6e74 5f73 697a 655f 6472 6f70 646f 776e  nt_size_dropdown
+000233d0: 203d 2044 726f 7044 6f77 6e4d 656e 7528   = DropDownMenu(
+000233e0: 7365 7474 696e 6773 5f66 726d 2c20 2246  settings_frm, "F
+000233f0: 4f4e 5420 5349 5a45 3a22 2c20 6c69 7374  ONT SIZE:", list
+00023400: 2872 616e 6765 2835 2c20 3130 352c 2035  (range(5, 105, 5
+00023410: 2929 2c20 6c61 6265 6c77 6964 7468 3d32  )), labelwidth=2
+00023420: 3529 0a20 2020 2020 2020 2073 656c 662e  5).        self.
+00023430: 666f 6e74 5f63 6f6c 6f72 5f64 726f 7064  font_color_dropd
+00023440: 6f77 6e20 3d20 4472 6f70 446f 776e 4d65  own = DropDownMe
+00023450: 6e75 2873 6574 7469 6e67 735f 6672 6d2c  nu(settings_frm,
+00023460: 2022 464f 4e54 2043 4f4c 4f52 3a22 2c20   "FONT COLOR:", 
+00023470: 6c69 7374 2873 656c 662e 636f 6c6f 725f  list(self.color_
+00023480: 6469 6374 2e6b 6579 7328 2929 2c20 6c61  dict.keys()), la
+00023490: 6265 6c77 6964 7468 3d32 3529 0a20 2020  belwidth=25).   
+000234a0: 2020 2020 2073 656c 662e 666f 6e74 5f62       self.font_b
+000234b0: 6f72 6465 725f 6472 6f70 646f 776e 203d  order_dropdown =
+000234c0: 2044 726f 7044 6f77 6e4d 656e 7528 7365   DropDownMenu(se
+000234d0: 7474 696e 6773 5f66 726d 2c20 2246 4f4e  ttings_frm, "FON
+000234e0: 5420 424f 5244 4552 2043 4f4c 4f52 3a22  T BORDER COLOR:"
+000234f0: 2c20 6c69 7374 2873 656c 662e 636f 6c6f  , list(self.colo
+00023500: 725f 6469 6374 2e6b 6579 7328 2929 2c20  r_dict.keys()), 
+00023510: 6c61 6265 6c77 6964 7468 3d32 3529 0a20  labelwidth=25). 
+00023520: 2020 2020 2020 2073 656c 662e 666f 6e74         self.font
+00023530: 5f62 6f72 6465 725f 7769 6474 685f 6472  _border_width_dr
+00023540: 6f70 646f 776e 203d 2044 726f 7044 6f77  opdown = DropDow
+00023550: 6e4d 656e 7528 7365 7474 696e 6773 5f66  nMenu(settings_f
+00023560: 726d 2c20 2246 4f4e 5420 424f 5244 4552  rm, "FONT BORDER
+00023570: 2057 4944 5448 3a22 2c20 6c69 7374 2872   WIDTH:", list(r
+00023580: 616e 6765 2832 2c20 3532 2c20 3229 292c  ange(2, 52, 2)),
+00023590: 206c 6162 656c 7769 6474 683d 3235 290a   labelwidth=25).
+000235a0: 0a20 2020 2020 2020 2073 656c 662e 6c6f  .        self.lo
+000235b0: 6361 7469 6f6e 5f64 726f 7064 6f77 6e2e  cation_dropdown.
+000235c0: 7365 7443 686f 6963 6573 2827 544f 5020  setChoices('TOP 
+000235d0: 4c45 4654 2729 0a20 2020 2020 2020 2073  LEFT').        s
+000235e0: 656c 662e 666f 6e74 5f73 697a 655f 6472  elf.font_size_dr
+000235f0: 6f70 646f 776e 2e73 6574 4368 6f69 6365  opdown.setChoice
+00023600: 7328 3230 290a 2020 2020 2020 2020 7365  s(20).        se
+00023610: 6c66 2e66 6f6e 745f 6472 6f70 646f 776e  lf.font_dropdown
+00023620: 2e73 6574 4368 6f69 6365 7328 2741 7269  .setChoices('Ari
+00023630: 616c 2729 0a20 2020 2020 2020 2073 656c  al').        sel
+00023640: 662e 666f 6e74 5f63 6f6c 6f72 5f64 726f  f.font_color_dro
+00023650: 7064 6f77 6e2e 7365 7443 686f 6963 6573  pdown.setChoices
+00023660: 2827 5768 6974 6527 290a 2020 2020 2020  ('White').      
+00023670: 2020 7365 6c66 2e66 6f6e 745f 626f 7264    self.font_bord
+00023680: 6572 5f64 726f 7064 6f77 6e2e 7365 7443  er_dropdown.setC
+00023690: 686f 6963 6573 2827 426c 6163 6b27 290a  hoices('Black').
+000236a0: 2020 2020 2020 2020 7365 6c66 2e66 6f6e          self.fon
+000236b0: 745f 626f 7264 6572 5f77 6964 7468 5f64  t_border_width_d
+000236c0: 726f 7064 6f77 6e2e 7365 7443 686f 6963  ropdown.setChoic
+000236d0: 6573 2832 290a 0a20 2020 2020 2020 2073  es(2)..        s
+000236e0: 6574 7469 6e67 735f 6672 6d2e 6772 6964  ettings_frm.grid
+000236f0: 2872 6f77 3d30 2c20 636f 6c75 6d6e 3d30  (row=0, column=0
+00023700: 2c20 7374 6963 6b79 3d4e 5729 0a20 2020  , sticky=NW).   
+00023710: 2020 2020 2073 656c 662e 6c6f 6361 7469       self.locati
+00023720: 6f6e 5f64 726f 7064 6f77 6e2e 6772 6964  on_dropdown.grid
+00023730: 2872 6f77 3d30 2c20 636f 6c75 6d6e 3d30  (row=0, column=0
+00023740: 2c20 7374 6963 6b79 3d4e 5729 0a20 2020  , sticky=NW).   
+00023750: 2020 2020 2073 656c 662e 7465 7874 5f65       self.text_e
+00023760: 622e 6772 6964 2872 6f77 3d31 2c20 636f  b.grid(row=1, co
+00023770: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d4e  lumn=0, sticky=N
+00023780: 5729 0a20 2020 2020 2020 2073 656c 662e  W).        self.
+00023790: 666f 6e74 5f64 726f 7064 6f77 6e2e 6772  font_dropdown.gr
+000237a0: 6964 2872 6f77 3d32 2c20 636f 6c75 6d6e  id(row=2, column
+000237b0: 3d30 2c20 7374 6963 6b79 3d4e 5729 0a20  =0, sticky=NW). 
+000237c0: 2020 2020 2020 2073 656c 662e 666f 6e74         self.font
+000237d0: 5f73 697a 655f 6472 6f70 646f 776e 2e67  _size_dropdown.g
+000237e0: 7269 6428 726f 773d 332c 2063 6f6c 756d  rid(row=3, colum
+000237f0: 6e3d 302c 2073 7469 636b 793d 4e57 290a  n=0, sticky=NW).
+00023800: 2020 2020 2020 2020 7365 6c66 2e66 6f6e          self.fon
+00023810: 745f 636f 6c6f 725f 6472 6f70 646f 776e  t_color_dropdown
+00023820: 2e67 7269 6428 726f 773d 342c 2063 6f6c  .grid(row=4, col
+00023830: 756d 6e3d 302c 2073 7469 636b 793d 4e57  umn=0, sticky=NW
+00023840: 290a 2020 2020 2020 2020 7365 6c66 2e66  ).        self.f
+00023850: 6f6e 745f 626f 7264 6572 5f64 726f 7064  ont_border_dropd
+00023860: 6f77 6e2e 6772 6964 2872 6f77 3d35 2c20  own.grid(row=5, 
+00023870: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
+00023880: 3d4e 5729 0a20 2020 2020 2020 2073 656c  =NW).        sel
+00023890: 662e 666f 6e74 5f62 6f72 6465 725f 7769  f.font_border_wi
+000238a0: 6474 685f 6472 6f70 646f 776e 2e67 7269  dth_dropdown.gri
+000238b0: 6428 726f 773d 362c 2063 6f6c 756d 6e3d  d(row=6, column=
+000238c0: 302c 2073 7469 636b 793d 4e57 290a 0a20  0, sticky=NW).. 
+000238d0: 2020 2020 2020 2073 696e 676c 655f 7669         single_vi
+000238e0: 6465 6f5f 6672 6d20 3d20 4372 6561 7465  deo_frm = Create
+000238f0: 4c61 6265 6c46 7261 6d65 5769 7468 4963  LabelFrameWithIc
+00023900: 6f6e 2870 6172 656e 743d 7365 6c66 2e6d  on(parent=self.m
+00023910: 6169 6e5f 6672 6d2c 2068 6561 6465 723d  ain_frm, header=
+00023920: 2253 494e 474c 4520 5649 4445 4f20 2d20  "SINGLE VIDEO - 
+00023930: 5355 5045 5249 4d50 4f53 4520 5445 5854  SUPERIMPOSE TEXT
+00023940: 222c 2069 636f 6e5f 6e61 6d65 3d4b 6579  ", icon_name=Key
+00023950: 732e 444f 4355 4d45 4e54 4154 494f 4e2e  s.DOCUMENTATION.
+00023960: 7661 6c75 652c 2069 636f 6e5f 6c69 6e6b  value, icon_link
+00023970: 3d4c 696e 6b73 2e56 4944 454f 5f54 4f4f  =Links.VIDEO_TOO
+00023980: 4c53 2e76 616c 7565 290a 2020 2020 2020  LS.value).      
+00023990: 2020 7365 6c66 2e73 656c 6563 7465 645f    self.selected_
+000239a0: 7669 6465 6f20 3d20 4669 6c65 5365 6c65  video = FileSele
+000239b0: 6374 2873 696e 676c 655f 7669 6465 6f5f  ct(single_video_
+000239c0: 6672 6d2c 2022 5649 4445 4f20 5041 5448  frm, "VIDEO PATH
+000239d0: 3a22 2c20 7469 746c 653d 2253 656c 6563  :", title="Selec
+000239e0: 7420 6120 7669 6465 6f20 6669 6c65 222c  t a video file",
+000239f0: 206c 626c 7769 6474 683d 3235 2c20 6669   lblwidth=25, fi
+00023a00: 6c65 5f74 7970 6573 3d5b 2822 5649 4445  le_types=[("VIDE
+00023a10: 4f20 4649 4c45 222c 204f 7074 696f 6e73  O FILE", Options
+00023a20: 2e41 4c4c 5f56 4944 454f 5f46 4f52 4d41  .ALL_VIDEO_FORMA
+00023a30: 545f 5354 525f 4f50 5449 4f4e 532e 7661  T_STR_OPTIONS.va
+00023a40: 6c75 6529 5d29 0a20 2020 2020 2020 2073  lue)]).        s
+00023a50: 696e 676c 655f 7669 6465 6f5f 7275 6e20  ingle_video_run 
+00023a60: 3d20 4275 7474 6f6e 2873 696e 676c 655f  = Button(single_
+00023a70: 7669 6465 6f5f 6672 6d2c 2074 6578 743d  video_frm, text=
+00023a80: 2252 554e 202d 2053 494e 474c 4520 5649  "RUN - SINGLE VI
+00023a90: 4445 4f22 2c20 636f 6d6d 616e 643d 6c61  DEO", command=la
+00023aa0: 6d62 6461 3a20 7365 6c66 2e72 756e 286d  mbda: self.run(m
+00023ab0: 756c 7469 706c 653d 4661 6c73 6529 290a  ultiple=False)).
+00023ac0: 0a20 2020 2020 2020 2073 696e 676c 655f  .        single_
+00023ad0: 7669 6465 6f5f 6672 6d2e 6772 6964 2872  video_frm.grid(r
+00023ae0: 6f77 3d31 2c20 636f 6c75 6d6e 3d30 2c20  ow=1, column=0, 
+00023af0: 7374 6963 6b79 3d22 4e57 2229 0a20 2020  sticky="NW").   
+00023b00: 2020 2020 2073 656c 662e 7365 6c65 6374       self.select
+00023b10: 6564 5f76 6964 656f 2e67 7269 6428 726f  ed_video.grid(ro
+00023b20: 773d 302c 2063 6f6c 756d 6e3d 302c 2073  w=0, column=0, s
+00023b30: 7469 636b 793d 224e 5722 290a 2020 2020  ticky="NW").    
+00023b40: 2020 2020 7369 6e67 6c65 5f76 6964 656f      single_video
+00023b50: 5f72 756e 2e67 7269 6428 726f 773d 312c  _run.grid(row=1,
+00023b60: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
+00023b70: 793d 224e 5722 290a 0a20 2020 2020 2020  y="NW")..       
+00023b80: 206d 756c 7469 706c 655f 7669 6465 6f73   multiple_videos
+00023b90: 5f66 726d 203d 2043 7265 6174 654c 6162  _frm = CreateLab
+00023ba0: 656c 4672 616d 6557 6974 6849 636f 6e28  elFrameWithIcon(
+00023bb0: 7061 7265 6e74 3d73 656c 662e 6d61 696e  parent=self.main
+00023bc0: 5f66 726d 2c20 6865 6164 6572 3d22 4d55  _frm, header="MU
+00023bd0: 4c54 4950 4c45 2056 4944 454f 5320 2d20  LTIPLE VIDEOS - 
+00023be0: 5355 5045 5249 4d50 4f53 4520 5445 5854  SUPERIMPOSE TEXT
+00023bf0: 222c 2069 636f 6e5f 6e61 6d65 3d4b 6579  ", icon_name=Key
+00023c00: 732e 444f 4355 4d45 4e54 4154 494f 4e2e  s.DOCUMENTATION.
+00023c10: 7661 6c75 652c 2069 636f 6e5f 6c69 6e6b  value, icon_link
+00023c20: 3d4c 696e 6b73 2e56 4944 454f 5f54 4f4f  =Links.VIDEO_TOO
+00023c30: 4c53 2e76 616c 7565 290a 2020 2020 2020  LS.value).      
+00023c40: 2020 7365 6c66 2e73 656c 6563 7465 645f    self.selected_
+00023c50: 7669 6465 6f5f 6469 7220 3d20 466f 6c64  video_dir = Fold
+00023c60: 6572 5365 6c65 6374 286d 756c 7469 706c  erSelect(multipl
+00023c70: 655f 7669 6465 6f73 5f66 726d 2c20 2256  e_videos_frm, "V
+00023c80: 4944 454f 2044 4952 4543 544f 5259 2050  IDEO DIRECTORY P
+00023c90: 4154 483a 222c 2074 6974 6c65 3d22 5365  ATH:", title="Se
+00023ca0: 6c65 6374 2061 2076 6964 656f 2064 6972  lect a video dir
+00023cb0: 6563 746f 7279 222c 206c 626c 7769 6474  ectory", lblwidt
+00023cc0: 683d 3235 290a 2020 2020 2020 2020 6d75  h=25).        mu
+00023cd0: 6c74 6970 6c65 5f76 6964 656f 735f 7275  ltiple_videos_ru
+00023ce0: 6e20 3d20 4275 7474 6f6e 286d 756c 7469  n = Button(multi
+00023cf0: 706c 655f 7669 6465 6f73 5f66 726d 2c20  ple_videos_frm, 
+00023d00: 7465 7874 3d22 5255 4e20 2d20 4d55 4c54  text="RUN - MULT
+00023d10: 4950 4c45 2056 4944 454f 5322 2c20 636f  IPLE VIDEOS", co
+00023d20: 6d6d 616e 643d 6c61 6d62 6461 3a20 7365  mmand=lambda: se
+00023d30: 6c66 2e72 756e 286d 756c 7469 706c 653d  lf.run(multiple=
+00023d40: 5472 7565 2929 0a0a 2020 2020 2020 2020  True))..        
+00023d50: 6d75 6c74 6970 6c65 5f76 6964 656f 735f  multiple_videos_
+00023d60: 6672 6d2e 6772 6964 2872 6f77 3d32 2c20  frm.grid(row=2, 
+00023d70: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
+00023d80: 3d22 4e57 2229 0a20 2020 2020 2020 2073  ="NW").        s
+00023d90: 656c 662e 7365 6c65 6374 6564 5f76 6964  elf.selected_vid
+00023da0: 656f 5f64 6972 2e67 7269 6428 726f 773d  eo_dir.grid(row=
+00023db0: 302c 2063 6f6c 756d 6e3d 302c 2073 7469  0, column=0, sti
+00023dc0: 636b 793d 224e 5722 290a 2020 2020 2020  cky="NW").      
+00023dd0: 2020 6d75 6c74 6970 6c65 5f76 6964 656f    multiple_video
+00023de0: 735f 7275 6e2e 6772 6964 2872 6f77 3d31  s_run.grid(row=1
+00023df0: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
+00023e00: 6b79 3d22 4e57 2229 0a20 2020 2020 2020  ky="NW").       
+00023e10: 2023 7365 6c66 2e6d 6169 6e5f 6672 6d2e   #self.main_frm.
+00023e20: 6d61 696e 6c6f 6f70 2829 0a0a 2020 2020  mainloop()..    
+00023e30: 6465 6620 7275 6e28 7365 6c66 2c20 6d75  def run(self, mu
+00023e40: 6c74 6970 6c65 3a20 626f 6f6c 293a 0a20  ltiple: bool):. 
+00023e50: 2020 2020 2020 206c 6f63 203d 2073 656c         loc = sel
+00023e60: 662e 6c6f 6361 7469 6f6e 5f64 726f 7064  f.location_dropd
+00023e70: 6f77 6e2e 6765 7443 686f 6963 6573 2829  own.getChoices()
+00023e80: 0a20 2020 2020 2020 206c 6f63 203d 2073  .        loc = s
+00023e90: 656c 662e 4c4f 4341 5449 4f4e 535b 6c6f  elf.LOCATIONS[lo
+00023ea0: 635d 0a20 2020 2020 2020 2074 6578 7420  c].        text 
+00023eb0: 3d20 7365 6c66 2e74 6578 745f 6562 2e65  = self.text_eb.e
+00023ec0: 6e74 7279 5f67 6574 0a20 2020 2020 2020  ntry_get.       
+00023ed0: 2063 6865 636b 5f73 7472 286e 616d 653d   check_str(name=
+00023ee0: 2774 6578 7427 2c20 7661 6c75 653d 7465  'text', value=te
+00023ef0: 7874 290a 2020 2020 2020 2020 666f 6e74  xt).        font
+00023f00: 203d 2073 656c 662e 666f 6e74 5f64 726f   = self.font_dro
+00023f10: 7064 6f77 6e2e 6765 7443 686f 6963 6573  pdown.getChoices
+00023f20: 2829 0a20 2020 2020 2020 2066 6f6e 745f  ().        font_
+00023f30: 7369 7a65 203d 2069 6e74 2873 656c 662e  size = int(self.
+00023f40: 666f 6e74 5f73 697a 655f 6472 6f70 646f  font_size_dropdo
+00023f50: 776e 2e67 6574 4368 6f69 6365 7328 2929  wn.getChoices())
+00023f60: 0a20 2020 2020 2020 2066 6f6e 745f 636c  .        font_cl
+00023f70: 7220 3d20 7365 6c66 2e66 6f6e 745f 636f  r = self.font_co
+00023f80: 6c6f 725f 6472 6f70 646f 776e 2e67 6574  lor_dropdown.get
+00023f90: 4368 6f69 6365 7328 290a 2020 2020 2020  Choices().      
+00023fa0: 2020 666f 6e74 5f62 6f72 6465 725f 636c    font_border_cl
+00023fb0: 7220 3d20 7365 6c66 2e66 6f6e 745f 626f  r = self.font_bo
+00023fc0: 7264 6572 5f64 726f 7064 6f77 6e2e 6765  rder_dropdown.ge
+00023fd0: 7443 686f 6963 6573 2829 0a20 2020 2020  tChoices().     
+00023fe0: 2020 2066 6f6e 745f 626f 7264 6572 5f77     font_border_w
+00023ff0: 6964 7468 203d 2069 6e74 2873 656c 662e  idth = int(self.
+00024000: 666f 6e74 5f62 6f72 6465 725f 7769 6474  font_border_widt
+00024010: 685f 6472 6f70 646f 776e 2e67 6574 4368  h_dropdown.getCh
+00024020: 6f69 6365 7328 2929 0a20 2020 2020 2020  oices()).       
+00024030: 2069 6620 6e6f 7420 6d75 6c74 6970 6c65   if not multiple
+00024040: 3a0a 2020 2020 2020 2020 2020 2020 6461  :.            da
+00024050: 7461 5f70 6174 6820 3d20 7365 6c66 2e73  ta_path = self.s
+00024060: 656c 6563 7465 645f 7669 6465 6f2e 6669  elected_video.fi
+00024070: 6c65 5f70 6174 680a 2020 2020 2020 2020  le_path.        
+00024080: 2020 2020 6368 6563 6b5f 6669 6c65 5f65      check_file_e
+00024090: 7869 7374 5f61 6e64 5f72 6561 6461 626c  xist_and_readabl
+000240a0: 6528 6669 6c65 5f70 6174 683d 6461 7461  e(file_path=data
+000240b0: 5f70 6174 6829 0a20 2020 2020 2020 2065  _path).        e
+000240c0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+000240d0: 2064 6174 615f 7061 7468 203d 2073 656c   data_path = sel
+000240e0: 662e 7365 6c65 6374 6564 5f76 6964 656f  f.selected_video
+000240f0: 5f64 6972 2e66 6f6c 6465 725f 7061 7468  _dir.folder_path
+00024100: 0a20 2020 2020 2020 2020 2020 2063 6865  .            che
+00024110: 636b 5f69 665f 6469 725f 6578 6973 7473  ck_if_dir_exists
+00024120: 2869 6e5f 6469 723d 6461 7461 5f70 6174  (in_dir=data_pat
+00024130: 6829 0a0a 2020 2020 2020 2020 7468 7265  h)..        thre
+00024140: 6164 696e 672e 5468 7265 6164 2874 6172  ading.Thread(tar
+00024150: 6765 743d 7375 7065 7269 6d70 6f73 655f  get=superimpose_
+00024160: 6672 6565 7465 7874 2876 6964 656f 5f70  freetext(video_p
+00024170: 6174 683d 6461 7461 5f70 6174 682c 0a20  ath=data_path,. 
+00024180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000241a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000241b0: 2020 2020 7465 7874 3d74 6578 742c 0a20      text=text,. 
+000241c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000241d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000241e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000241f0: 2020 2020 666f 6e74 3d66 6f6e 742c 0a20      font=font,. 
+00024200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024220: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024230: 2020 2020 666f 6e74 5f73 697a 653d 666f      font_size=fo
+00024240: 6e74 5f73 697a 652c 0a20 2020 2020 2020  nt_size,.       
+00024250: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024270: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+00024280: 6e74 5f63 6f6c 6f72 3d66 6f6e 745f 636c  nt_color=font_cl
+00024290: 722c 0a20 2020 2020 2020 2020 2020 2020  r,.             
+000242a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000242b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000242c0: 2020 2020 2020 2020 666f 6e74 5f62 6f72          font_bor
+000242d0: 6465 725f 636f 6c6f 723d 666f 6e74 5f62  der_color=font_b
+000242e0: 6f72 6465 725f 636c 722c 0a20 2020 2020  order_clr,.     
+000242f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024320: 666f 6e74 5f62 6f72 6465 725f 7769 6474  font_border_widt
+00024330: 683d 666f 6e74 5f62 6f72 6465 725f 7769  h=font_border_wi
+00024340: 6474 682c 0a20 2020 2020 2020 2020 2020  dth,.           
+00024350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024370: 2020 2020 2020 2020 2020 706f 7369 7469            positi
+00024380: 6f6e 3d6c 6f63 2929 2e73 7461 7274 2829  on=loc)).start()
+00024390: 0a0a 0a63 6c61 7373 2042 6f78 426c 7572  ...class BoxBlur
+000243a0: 506f 7055 7028 506f 7055 704d 6978 696e  PopUp(PopUpMixin
+000243b0: 293a 0a20 2020 2064 6566 205f 5f69 6e69  ):.    def __ini
+000243c0: 745f 5f28 7365 6c66 293a 0a20 2020 2020  t__(self):.     
+000243d0: 2020 2050 6f70 5570 4d69 7869 6e2e 5f5f     PopUpMixin.__
+000243e0: 696e 6974 5f5f 2873 656c 662c 2074 6974  init__(self, tit
+000243f0: 6c65 3d22 424f 5820 424c 5552 2056 4944  le="BOX BLUR VID
+00024400: 454f 5322 290a 2020 2020 2020 2020 7365  EOS").        se
+00024410: 7474 696e 6773 5f66 726d 203d 2043 7265  ttings_frm = Cre
+00024420: 6174 654c 6162 656c 4672 616d 6557 6974  ateLabelFrameWit
+00024430: 6849 636f 6e28 7061 7265 6e74 3d73 656c  hIcon(parent=sel
+00024440: 662e 6d61 696e 5f66 726d 2c20 6865 6164  f.main_frm, head
+00024450: 6572 3d22 5345 5454 494e 4753 222c 2069  er="SETTINGS", i
+00024460: 636f 6e5f 6e61 6d65 3d4b 6579 732e 444f  con_name=Keys.DO
+00024470: 4355 4d45 4e54 4154 494f 4e2e 7661 6c75  CUMENTATION.valu
+00024480: 652c 2069 636f 6e5f 6c69 6e6b 3d4c 696e  e, icon_link=Lin
+00024490: 6b73 2e56 4944 454f 5f54 4f4f 4c53 2e76  ks.VIDEO_TOOLS.v
+000244a0: 616c 7565 290a 2020 2020 2020 2020 626c  alue).        bl
+000244b0: 7572 5f6c 766c 203d 205b 726f 756e 6428  ur_lvl = [round(
+000244c0: 782c 2032 2920 666f 7220 7820 696e 206c  x, 2) for x in l
+000244d0: 6973 7428 6e70 2e61 7261 6e67 6528 302e  ist(np.arange(0.
+000244e0: 3035 2c20 312e 302c 2030 2e30 3529 295d  05, 1.0, 0.05))]
+000244f0: 0a20 2020 2020 2020 2073 656c 662e 626c  .        self.bl
+00024500: 7572 5f6c 766c 5f64 726f 7064 6f77 6e20  ur_lvl_dropdown 
+00024510: 3d20 4472 6f70 446f 776e 4d65 6e75 2873  = DropDownMenu(s
+00024520: 6574 7469 6e67 735f 6672 6d2c 2022 424c  ettings_frm, "BL
+00024530: 5552 204c 4556 454c 3a22 2c20 626c 7572  UR LEVEL:", blur
+00024540: 5f6c 766c 2c20 6c61 6265 6c77 6964 7468  _lvl, labelwidth
+00024550: 3d32 3529 0a20 2020 2020 2020 2073 656c  =25).        sel
+00024560: 662e 696e 7665 7274 5f64 726f 7064 6f77  f.invert_dropdow
+00024570: 6e20 3d20 4472 6f70 446f 776e 4d65 6e75  n = DropDownMenu
+00024580: 2873 6574 7469 6e67 735f 6672 6d2c 2022  (settings_frm, "
+00024590: 494e 5645 5254 2042 4c55 5220 5245 4749  INVERT BLUR REGI
+000245a0: 4f4e 3a22 2c20 5b27 5452 5545 272c 2027  ON:", ['TRUE', '
+000245b0: 4641 4c53 4527 5d2c 206c 6162 656c 7769  FALSE'], labelwi
+000245c0: 6474 683d 3235 290a 0a20 2020 2020 2020  dth=25)..       
+000245d0: 2073 656c 662e 626c 7572 5f6c 766c 5f64   self.blur_lvl_d
+000245e0: 726f 7064 6f77 6e2e 7365 7443 686f 6963  ropdown.setChoic
+000245f0: 6573 2830 2e30 3229 0a20 2020 2020 2020  es(0.02).       
+00024600: 2073 656c 662e 696e 7665 7274 5f64 726f   self.invert_dro
+00024610: 7064 6f77 6e2e 7365 7443 686f 6963 6573  pdown.setChoices
+00024620: 2827 4641 4c53 4527 290a 2020 2020 2020  ('FALSE').      
+00024630: 2020 7365 7474 696e 6773 5f66 726d 2e67    settings_frm.g
+00024640: 7269 6428 726f 773d 302c 2063 6f6c 756d  rid(row=0, colum
+00024650: 6e3d 302c 2073 7469 636b 793d 4e57 290a  n=0, sticky=NW).
+00024660: 2020 2020 2020 2020 7365 6c66 2e62 6c75          self.blu
+00024670: 725f 6c76 6c5f 6472 6f70 646f 776e 2e67  r_lvl_dropdown.g
+00024680: 7269 6428 726f 773d 302c 2063 6f6c 756d  rid(row=0, colum
+00024690: 6e3d 302c 2073 7469 636b 793d 4e57 290a  n=0, sticky=NW).
+000246a0: 2020 2020 2020 2020 7365 6c66 2e69 6e76          self.inv
+000246b0: 6572 745f 6472 6f70 646f 776e 2e67 7269  ert_dropdown.gri
+000246c0: 6428 726f 773d 312c 2063 6f6c 756d 6e3d  d(row=1, column=
+000246d0: 302c 2073 7469 636b 793d 4e57 290a 0a20  0, sticky=NW).. 
+000246e0: 2020 2020 2020 2073 696e 676c 655f 7669         single_vi
+000246f0: 6465 6f5f 6672 6d20 3d20 4372 6561 7465  deo_frm = Create
+00024700: 4c61 6265 6c46 7261 6d65 5769 7468 4963  LabelFrameWithIc
+00024710: 6f6e 2870 6172 656e 743d 7365 6c66 2e6d  on(parent=self.m
+00024720: 6169 6e5f 6672 6d2c 2068 6561 6465 723d  ain_frm, header=
+00024730: 2241 5050 4c59 2042 4f58 2d42 4c55 5222  "APPLY BOX-BLUR"
+00024740: 2c20 6963 6f6e 5f6e 616d 653d 4b65 7973  , icon_name=Keys
+00024750: 2e44 4f43 554d 454e 5441 5449 4f4e 2e76  .DOCUMENTATION.v
+00024760: 616c 7565 2c20 6963 6f6e 5f6c 696e 6b3d  alue, icon_link=
+00024770: 4c69 6e6b 732e 5649 4445 4f5f 544f 4f4c  Links.VIDEO_TOOL
+00024780: 532e 7661 6c75 6529 0a20 2020 2020 2020  S.value).       
+00024790: 2073 656c 662e 7365 6c65 6374 6564 5f76   self.selected_v
+000247a0: 6964 656f 203d 2046 696c 6553 656c 6563  ideo = FileSelec
+000247b0: 7428 7369 6e67 6c65 5f76 6964 656f 5f66  t(single_video_f
+000247c0: 726d 2c20 2256 4944 454f 2050 4154 483a  rm, "VIDEO PATH:
+000247d0: 222c 2074 6974 6c65 3d22 5365 6c65 6374  ", title="Select
+000247e0: 2061 2076 6964 656f 2066 696c 6522 2c20   a video file", 
+000247f0: 6c62 6c77 6964 7468 3d32 352c 2066 696c  lblwidth=25, fil
+00024800: 655f 7479 7065 733d 5b28 2256 4944 454f  e_types=[("VIDEO
+00024810: 2046 494c 4522 2c20 4f70 7469 6f6e 732e   FILE", Options.
+00024820: 414c 4c5f 5649 4445 4f5f 464f 524d 4154  ALL_VIDEO_FORMAT
+00024830: 5f53 5452 5f4f 5054 494f 4e53 2e76 616c  _STR_OPTIONS.val
+00024840: 7565 295d 290a 2020 2020 2020 2020 7369  ue)]).        si
+00024850: 6e67 6c65 5f76 6964 656f 5f72 756e 203d  ngle_video_run =
+00024860: 2042 7574 746f 6e28 7369 6e67 6c65 5f76   Button(single_v
+00024870: 6964 656f 5f66 726d 2c20 7465 7874 3d22  ideo_frm, text="
+00024880: 5255 4e22 2c20 636f 6d6d 616e 643d 6c61  RUN", command=la
+00024890: 6d62 6461 3a20 7365 6c66 2e72 756e 2829  mbda: self.run()
+000248a0: 290a 0a20 2020 2020 2020 2073 696e 676c  )..        singl
+000248b0: 655f 7669 6465 6f5f 6672 6d2e 6772 6964  e_video_frm.grid
+000248c0: 2872 6f77 3d31 2c20 636f 6c75 6d6e 3d30  (row=1, column=0
+000248d0: 2c20 7374 6963 6b79 3d22 4e57 2229 0a20  , sticky="NW"). 
+000248e0: 2020 2020 2020 2073 656c 662e 7365 6c65         self.sele
+000248f0: 6374 6564 5f76 6964 656f 2e67 7269 6428  cted_video.grid(
+00024900: 726f 773d 302c 2063 6f6c 756d 6e3d 302c  row=0, column=0,
+00024910: 2073 7469 636b 793d 224e 5722 290a 2020   sticky="NW").  
+00024920: 2020 2020 2020 7369 6e67 6c65 5f76 6964        single_vid
+00024930: 656f 5f72 756e 2e67 7269 6428 726f 773d  eo_run.grid(row=
+00024940: 312c 2063 6f6c 756d 6e3d 302c 2073 7469  1, column=0, sti
+00024950: 636b 793d 224e 5722 290a 0a20 2020 2020  cky="NW")..     
+00024960: 2020 2023 7365 6c66 2e6d 6169 6e5f 6672     #self.main_fr
+00024970: 6d2e 6d61 696e 6c6f 6f70 2829 0a0a 2020  m.mainloop()..  
+00024980: 2020 6465 6620 7275 6e28 7365 6c66 293a    def run(self):
+00024990: 0a20 2020 2020 2020 2076 6964 656f 5f70  .        video_p
+000249a0: 6174 6820 3d20 7365 6c66 2e73 656c 6563  ath = self.selec
+000249b0: 7465 645f 7669 6465 6f2e 6669 6c65 5f70  ted_video.file_p
+000249c0: 6174 680a 2020 2020 2020 2020 6368 6563  ath.        chec
+000249d0: 6b5f 6669 6c65 5f65 7869 7374 5f61 6e64  k_file_exist_and
+000249e0: 5f72 6561 6461 626c 6528 6669 6c65 5f70  _readable(file_p
+000249f0: 6174 683d 7669 6465 6f5f 7061 7468 290a  ath=video_path).
+00024a00: 2020 2020 2020 2020 626c 7572 5f6c 766c          blur_lvl
+00024a10: 203d 2066 6c6f 6174 2873 656c 662e 626c   = float(self.bl
+00024a20: 7572 5f6c 766c 5f64 726f 7064 6f77 6e2e  ur_lvl_dropdown.
+00024a30: 6765 7443 686f 6963 6573 2829 290a 2020  getChoices()).  
+00024a40: 2020 2020 2020 696e 7665 7274 203d 2073        invert = s
+00024a50: 7472 5f32 5f62 6f6f 6c28 7365 6c66 2e69  tr_2_bool(self.i
+00024a60: 6e76 6572 745f 6472 6f70 646f 776e 2e67  nvert_dropdown.g
+00024a70: 6574 4368 6f69 6365 7328 2929 0a20 2020  etChoices()).   
+00024a80: 2020 2020 2074 6872 6561 6469 6e67 2e54       threading.T
+00024a90: 6872 6561 6428 7461 7267 6574 3d72 6f69  hread(target=roi
+00024aa0: 5f62 6c75 7262 6f78 2876 6964 656f 5f70  _blurbox(video_p
+00024ab0: 6174 683d 7669 6465 6f5f 7061 7468 2c20  ath=video_path, 
+00024ac0: 626c 7572 5f6c 6576 656c 3d62 6c75 725f  blur_level=blur_
+00024ad0: 6c76 6c2c 2069 6e76 6572 743d 696e 7665  lvl, invert=inve
+00024ae0: 7274 2929 2e73 7461 7274 2829 0a0a 636c  rt)).start()..cl
+00024af0: 6173 7320 4261 636b 6772 6f75 6e64 5265  ass BackgroundRe
+00024b00: 6d6f 7665 7250 6f70 5570 2850 6f70 5570  moverPopUp(PopUp
+00024b10: 4d69 7869 6e29 3a0a 2020 2020 6465 6620  Mixin):.    def 
+00024b20: 5f5f 696e 6974 5f5f 2873 656c 6629 3a0a  __init__(self):.
+00024b30: 2020 2020 2020 2020 506f 7055 704d 6978          PopUpMix
+00024b40: 696e 2e5f 5f69 6e69 745f 5f28 7365 6c66  in.__init__(self
+00024b50: 2c20 7469 746c 653d 2252 454d 4f56 4520  , title="REMOVE 
+00024b60: 4241 434b 4752 4f55 4e44 2049 4e20 5649  BACKGROUND IN VI
+00024b70: 4445 4f53 2229 0a20 2020 2020 2020 2073  DEOS").        s
+00024b80: 656c 662e 636c 725f 6469 6374 203d 2067  elf.clr_dict = g
+00024b90: 6574 5f63 6f6c 6f72 5f64 6963 7428 290a  et_color_dict().
+00024ba0: 2020 2020 2020 2020 7365 7474 696e 6773          settings
+00024bb0: 5f66 726d 203d 2043 7265 6174 654c 6162  _frm = CreateLab
+00024bc0: 656c 4672 616d 6557 6974 6849 636f 6e28  elFrameWithIcon(
+00024bd0: 7061 7265 6e74 3d73 656c 662e 6d61 696e  parent=self.main
+00024be0: 5f66 726d 2c20 6865 6164 6572 3d22 5345  _frm, header="SE
+00024bf0: 5454 494e 4753 222c 2069 636f 6e5f 6e61  TTINGS", icon_na
+00024c00: 6d65 3d4b 6579 732e 444f 4355 4d45 4e54  me=Keys.DOCUMENT
+00024c10: 4154 494f 4e2e 7661 6c75 652c 2069 636f  ATION.value, ico
+00024c20: 6e5f 6c69 6e6b 3d4c 696e 6b73 2e56 4944  n_link=Links.VID
+00024c30: 454f 5f54 4f4f 4c53 2e76 616c 7565 290a  EO_TOOLS.value).
+00024c40: 2020 2020 2020 2020 7365 6c66 2e76 6964          self.vid
+00024c50: 656f 5f70 6174 6820 3d20 4669 6c65 5365  eo_path = FileSe
+00024c60: 6c65 6374 2873 6574 7469 6e67 735f 6672  lect(settings_fr
+00024c70: 6d2c 2022 5649 4445 4f20 5041 5448 3a22  m, "VIDEO PATH:"
+00024c80: 2c20 7469 746c 653d 2253 656c 6563 7420  , title="Select 
+00024c90: 6120 7669 6465 6f20 6669 6c65 222c 2066  a video file", f
+00024ca0: 696c 655f 7479 7065 733d 5b28 2256 4944  ile_types=[("VID
+00024cb0: 454f 222c 204f 7074 696f 6e73 2e41 4c4c  EO", Options.ALL
+00024cc0: 5f56 4944 454f 5f46 4f52 4d41 545f 4f50  _VIDEO_FORMAT_OP
+00024cd0: 5449 4f4e 532e 7661 6c75 6529 5d2c 206c  TIONS.value)], l
+00024ce0: 626c 7769 6474 683d 3430 290a 2020 2020  blwidth=40).    
+00024cf0: 2020 2020 7365 6c66 2e62 675f 7669 6465      self.bg_vide
+00024d00: 6f5f 7061 7468 203d 2046 696c 6553 656c  o_path = FileSel
+00024d10: 6563 7428 7365 7474 696e 6773 5f66 726d  ect(settings_frm
+00024d20: 2c20 2242 4143 4b47 524f 554e 4420 5245  , "BACKGROUND RE
+00024d30: 4645 5245 4e43 4520 5649 4445 4f20 5041  FERENCE VIDEO PA
+00024d40: 5448 3a22 2c20 7469 746c 653d 2253 656c  TH:", title="Sel
+00024d50: 6563 7420 6120 7669 6465 6f20 6669 6c65  ect a video file
+00024d60: 222c 2066 696c 655f 7479 7065 733d 5b28  ", file_types=[(
+00024d70: 2256 4944 454f 222c 204f 7074 696f 6e73  "VIDEO", Options
+00024d80: 2e41 4c4c 5f56 4944 454f 5f46 4f52 4d41  .ALL_VIDEO_FORMA
+00024d90: 545f 4f50 5449 4f4e 532e 7661 6c75 6529  T_OPTIONS.value)
+00024da0: 5d2c 206c 626c 7769 6474 683d 3430 290a  ], lblwidth=40).
+00024db0: 2020 2020 2020 2020 7365 6c66 2e62 675f          self.bg_
+00024dc0: 636c 725f 6472 6f70 646f 776e 203d 2044  clr_dropdown = D
+00024dd0: 726f 7044 6f77 6e4d 656e 7528 7365 7474  ropDownMenu(sett
+00024de0: 696e 6773 5f66 726d 2c20 2242 4143 4b47  ings_frm, "BACKG
+00024df0: 524f 554e 4420 434f 4c4f 523a 222c 206c  ROUND COLOR:", l
+00024e00: 6973 7428 7365 6c66 2e63 6c72 5f64 6963  ist(self.clr_dic
+00024e10: 742e 6b65 7973 2829 292c 206c 6162 656c  t.keys()), label
+00024e20: 7769 6474 683d 3430 290a 2020 2020 2020  width=40).      
+00024e30: 2020 7365 6c66 2e66 675f 636c 725f 6472    self.fg_clr_dr
+00024e40: 6f70 646f 776e 203d 2044 726f 7044 6f77  opdown = DropDow
+00024e50: 6e4d 656e 7528 7365 7474 696e 6773 5f66  nMenu(settings_f
+00024e60: 726d 2c20 2246 4f52 4547 524f 554e 4420  rm, "FOREGROUND 
+00024e70: 434f 4c4f 523a 222c 206c 6973 7428 7365  COLOR:", list(se
+00024e80: 6c66 2e63 6c72 5f64 6963 742e 6b65 7973  lf.clr_dict.keys
+00024e90: 2829 292c 206c 6162 656c 7769 6474 683d  ()), labelwidth=
+00024ea0: 3430 290a 2020 2020 2020 2020 7365 6c66  40).        self
+00024eb0: 2e62 675f 7374 6172 745f 6562 203d 2045  .bg_start_eb = E
+00024ec0: 6e74 7279 5f42 6f78 2870 6172 656e 743d  ntry_Box(parent=
+00024ed0: 7365 7474 696e 6773 5f66 726d 2c20 6c61  settings_frm, la
+00024ee0: 6265 6c77 6964 7468 3d34 302c 2065 6e74  belwidth=40, ent
+00024ef0: 7279 5f62 6f78 5f77 6964 7468 3d31 352c  ry_box_width=15,
+00024f00: 2066 696c 6544 6573 6372 6970 7469 6f6e   fileDescription
+00024f10: 3d27 4241 434b 4752 4f55 4e44 2056 4944  ='BACKGROUND VID
+00024f20: 454f 2053 5441 5254 2028 4652 414d 4520  EO START (FRAME 
+00024f30: 2320 4f52 2054 494d 4529 3a27 290a 2020  # OR TIME):').  
+00024f40: 2020 2020 2020 7365 6c66 2e62 675f 656e        self.bg_en
+00024f50: 645f 6562 203d 2045 6e74 7279 5f42 6f78  d_eb = Entry_Box
+00024f60: 2870 6172 656e 743d 7365 7474 696e 6773  (parent=settings
+00024f70: 5f66 726d 2c20 6c61 6265 6c77 6964 7468  _frm, labelwidth
+00024f80: 3d34 302c 2065 6e74 7279 5f62 6f78 5f77  =40, entry_box_w
+00024f90: 6964 7468 3d31 352c 2066 696c 6544 6573  idth=15, fileDes
+00024fa0: 6372 6970 7469 6f6e 3d27 4241 434b 4752  cription='BACKGR
+00024fb0: 4f55 4e44 2056 4944 454f 2045 4e44 2028  OUND VIDEO END (
+00024fc0: 4652 414d 4520 2320 4f52 2054 494d 4529  FRAME # OR TIME)
+00024fd0: 3a27 290a 2020 2020 2020 2020 7365 6c66  :').        self
+00024fe0: 2e6d 756c 7469 7072 6f63 6573 7369 6e67  .multiprocessing
+00024ff0: 5f76 6172 203d 2042 6f6f 6c65 616e 5661  _var = BooleanVa
+00025000: 7228 290a 2020 2020 2020 2020 7365 6c66  r().        self
+00025010: 2e6d 756c 7469 7072 6f63 6573 735f 6362  .multiprocess_cb
+00025020: 203d 2043 6865 636b 6275 7474 6f6e 2873   = Checkbutton(s
+00025030: 6574 7469 6e67 735f 6672 6d2c 2074 6578  ettings_frm, tex
+00025040: 743d 224d 756c 7469 7072 6f63 6573 7320  t="Multiprocess 
+00025050: 7669 6465 6f73 2028 6661 7374 6572 2922  videos (faster)"
+00025060: 2c20 7661 7269 6162 6c65 3d73 656c 662e  , variable=self.
+00025070: 6d75 6c74 6970 726f 6365 7373 696e 675f  multiprocessing_
+00025080: 7661 722c 2063 6f6d 6d61 6e64 3d6c 616d  var, command=lam
+00025090: 6264 613a 2073 656c 662e 656e 6162 6c65  bda: self.enable
+000250a0: 5f64 726f 7064 6f77 6e5f 6672 6f6d 5f63  _dropdown_from_c
+000250b0: 6865 636b 626f 7828 6368 6563 6b5f 626f  heckbox(check_bo
+000250c0: 785f 7661 723d 7365 6c66 2e6d 756c 7469  x_var=self.multi
+000250d0: 7072 6f63 6573 7369 6e67 5f76 6172 2c20  processing_var, 
+000250e0: 6472 6f70 646f 776e 5f6d 656e 7573 3d5b  dropdown_menus=[
+000250f0: 7365 6c66 2e6d 756c 7469 7072 6f63 6573  self.multiproces
+00025100: 735f 6472 6f70 646f 776e 5d29 290a 2020  s_dropdown])).  
+00025110: 2020 2020 2020 7365 6c66 2e6d 756c 7469        self.multi
+00025120: 7072 6f63 6573 735f 6472 6f70 646f 776e  process_dropdown
+00025130: 203d 2044 726f 7044 6f77 6e4d 656e 7528   = DropDownMenu(
+00025140: 7365 7474 696e 6773 5f66 726d 2c20 2243  settings_frm, "C
+00025150: 5055 2063 6f72 6573 3a22 2c20 6c69 7374  PU cores:", list
+00025160: 2872 616e 6765 2832 2c20 7365 6c66 2e63  (range(2, self.c
+00025170: 7075 5f63 6e74 2929 2c20 2231 3222 290a  pu_cnt)), "12").
+00025180: 2020 2020 2020 2020 7365 6c66 2e6d 756c          self.mul
+00025190: 7469 7072 6f63 6573 735f 6472 6f70 646f  tiprocess_dropdo
+000251a0: 776e 2e73 6574 4368 6f69 6365 7328 3229  wn.setChoices(2)
+000251b0: 0a20 2020 2020 2020 2073 656c 662e 6d75  .        self.mu
+000251c0: 6c74 6970 726f 6365 7373 5f64 726f 7064  ltiprocess_dropd
+000251d0: 6f77 6e2e 6469 7361 626c 6528 290a 2020  own.disable().  
+000251e0: 2020 2020 2020 7365 6c66 2e62 675f 636c        self.bg_cl
+000251f0: 725f 6472 6f70 646f 776e 2e73 6574 4368  r_dropdown.setCh
+00025200: 6f69 6365 7328 2742 6c61 636b 2729 0a20  oices('Black'). 
+00025210: 2020 2020 2020 2073 656c 662e 6667 5f63         self.fg_c
+00025220: 6c72 5f64 726f 7064 6f77 6e2e 7365 7443  lr_dropdown.setC
+00025230: 686f 6963 6573 2827 5768 6974 6527 290a  hoices('White').
+00025240: 2020 2020 2020 2020 7365 6c66 2e62 675f          self.bg_
+00025250: 7374 6172 745f 6562 2e65 6e74 7279 5f73  start_eb.entry_s
+00025260: 6574 2827 3030 3a30 303a 3030 2729 0a20  et('00:00:00'). 
+00025270: 2020 2020 2020 2073 656c 662e 6267 5f65         self.bg_e
+00025280: 6e64 5f65 622e 656e 7472 795f 7365 7428  nd_eb.entry_set(
+00025290: 2730 303a 3030 3a32 3027 290a 0a20 2020  '00:00:20')..   
+000252a0: 2020 2020 2073 6574 7469 6e67 735f 6672       settings_fr
+000252b0: 6d2e 6772 6964 2872 6f77 3d30 2c20 636f  m.grid(row=0, co
+000252c0: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d4e  lumn=0, sticky=N
+000252d0: 5729 0a20 2020 2020 2020 2073 656c 662e  W).        self.
+000252e0: 7669 6465 6f5f 7061 7468 2e67 7269 6428  video_path.grid(
+000252f0: 726f 773d 302c 2063 6f6c 756d 6e3d 302c  row=0, column=0,
+00025300: 2073 7469 636b 793d 4e57 290a 2020 2020   sticky=NW).    
+00025310: 2020 2020 7365 6c66 2e62 675f 7669 6465      self.bg_vide
+00025320: 6f5f 7061 7468 2e67 7269 6428 726f 773d  o_path.grid(row=
+00025330: 312c 2063 6f6c 756d 6e3d 302c 2073 7469  1, column=0, sti
+00025340: 636b 793d 4e57 290a 2020 2020 2020 2020  cky=NW).        
+00025350: 7365 6c66 2e62 675f 636c 725f 6472 6f70  self.bg_clr_drop
+00025360: 646f 776e 2e67 7269 6428 726f 773d 322c  down.grid(row=2,
+00025370: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
+00025380: 793d 4e57 290a 2020 2020 2020 2020 7365  y=NW).        se
+00025390: 6c66 2e66 675f 636c 725f 6472 6f70 646f  lf.fg_clr_dropdo
+000253a0: 776e 2e67 7269 6428 726f 773d 332c 2063  wn.grid(row=3, c
+000253b0: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
+000253c0: 4e57 290a 2020 2020 2020 2020 7365 6c66  NW).        self
+000253d0: 2e62 675f 7374 6172 745f 6562 2e67 7269  .bg_start_eb.gri
+000253e0: 6428 726f 773d 342c 2063 6f6c 756d 6e3d  d(row=4, column=
+000253f0: 302c 2073 7469 636b 793d 4e57 290a 2020  0, sticky=NW).  
+00025400: 2020 2020 2020 7365 6c66 2e62 675f 656e        self.bg_en
+00025410: 645f 6562 2e67 7269 6428 726f 773d 352c  d_eb.grid(row=5,
+00025420: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
+00025430: 793d 4e57 290a 2020 2020 2020 2020 7365  y=NW).        se
+00025440: 6c66 2e6d 756c 7469 7072 6f63 6573 735f  lf.multiprocess_
+00025450: 6362 2e67 7269 6428 726f 773d 362c 2063  cb.grid(row=6, c
+00025460: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
+00025470: 4e57 290a 2020 2020 2020 2020 7365 6c66  NW).        self
+00025480: 2e6d 756c 7469 7072 6f63 6573 735f 6472  .multiprocess_dr
+00025490: 6f70 646f 776e 2e67 7269 6428 726f 773d  opdown.grid(row=
+000254a0: 362c 2063 6f6c 756d 6e3d 312c 2073 7469  6, column=1, sti
+000254b0: 636b 793d 4e57 290a 2020 2020 2020 2020  cky=NW).        
+000254c0: 7365 6c66 2e63 7265 6174 655f 7275 6e5f  self.create_run_
+000254d0: 6672 6d28 7275 6e5f 6675 6e63 7469 6f6e  frm(run_function
+000254e0: 3d73 656c 662e 7275 6e29 0a20 2020 2020  =self.run).     
+000254f0: 2020 2023 7365 6c66 2e6d 6169 6e5f 6672     #self.main_fr
+00025500: 6d2e 6d61 696e 6c6f 6f70 2829 0a0a 2020  m.mainloop()..  
+00025510: 2020 6465 6620 7275 6e28 7365 6c66 293a    def run(self):
+00025520: 0a20 2020 2020 2020 2076 6964 656f 5f70  .        video_p
+00025530: 6174 6820 3d20 7365 6c66 2e76 6964 656f  ath = self.video
+00025540: 5f70 6174 682e 6669 6c65 5f70 6174 680a  _path.file_path.
+00025550: 2020 2020 2020 2020 5f20 3d20 6765 745f          _ = get_
+00025560: 7669 6465 6f5f 6d65 7461 5f64 6174 6128  video_meta_data(
+00025570: 7669 6465 6f5f 7061 7468 3d76 6964 656f  video_path=video
+00025580: 5f70 6174 6829 0a20 2020 2020 2020 2062  _path).        b
+00025590: 675f 7669 6465 6f20 3d20 7365 6c66 2e62  g_video = self.b
+000255a0: 675f 7669 6465 6f5f 7061 7468 2e66 696c  g_video_path.fil
+000255b0: 655f 7061 7468 0a20 2020 2020 2020 2062  e_path.        b
+000255c0: 675f 636c 7220 3d20 7365 6c66 2e63 6f6c  g_clr = self.col
+000255d0: 6f72 735f 6469 6374 5b73 656c 662e 6267  ors_dict[self.bg
+000255e0: 5f63 6c72 5f64 726f 7064 6f77 6e2e 6765  _clr_dropdown.ge
+000255f0: 7443 686f 6963 6573 2829 5d0a 2020 2020  tChoices()].    
+00025600: 2020 2020 6667 5f63 6c72 203d 2073 656c      fg_clr = sel
+00025610: 662e 636f 6c6f 7273 5f64 6963 745b 7365  f.colors_dict[se
+00025620: 6c66 2e66 675f 636c 725f 6472 6f70 646f  lf.fg_clr_dropdo
+00025630: 776e 2e67 6574 4368 6f69 6365 7328 295d  wn.getChoices()]
+00025640: 0a20 2020 2020 2020 2069 6620 6267 5f63  .        if bg_c
+00025650: 6c72 203d 3d20 6667 5f63 6c72 3a0a 2020  lr == fg_clr:.  
+00025660: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00025670: 4475 706c 6963 6174 696f 6e45 7272 6f72  DuplicationError
+00025680: 286d 7367 3d66 2754 6865 2062 6163 6b67  (msg=f'The backg
+00025690: 726f 756e 6420 616e 6420 666f 7265 6772  round and foregr
+000256a0: 6f75 6e64 2063 6f6c 6f72 2063 616e 6e6f  ound color canno
+000256b0: 7420 6265 2074 6865 2073 616d 6520 636f  t be the same co
+000256c0: 6c6f 7220 287b 6667 5f63 6c72 7d29 272c  lor ({fg_clr})',
+000256d0: 2073 6f75 7263 653d 7365 6c66 2e5f 5f63   source=self.__c
+000256e0: 6c61 7373 5f5f 2e5f 5f6e 616d 655f 5f29  lass__.__name__)
+000256f0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
+00025700: 6f73 2e70 6174 682e 6973 6669 6c65 2862  os.path.isfile(b
+00025710: 675f 7669 6465 6f29 3a0a 2020 2020 2020  g_video):.      
+00025720: 2020 2020 2020 6267 5f76 6964 656f 203d        bg_video =
+00025730: 2064 6565 7063 6f70 7928 7669 6465 6f5f   deepcopy(video_
+00025740: 7061 7468 290a 2020 2020 2020 2020 656c  path).        el
+00025750: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00025760: 5f20 3d20 6765 745f 7669 6465 6f5f 6d65  _ = get_video_me
+00025770: 7461 5f64 6174 6128 7669 6465 6f5f 7061  ta_data(video_pa
+00025780: 7468 3d62 675f 7669 6465 6f29 0a20 2020  th=bg_video).   
+00025790: 2020 2020 2073 7461 7274 2c20 656e 6420       start, end 
+000257a0: 3d20 7365 6c66 2e62 675f 7374 6172 745f  = self.bg_start_
+000257b0: 6562 2e65 6e74 7279 5f67 6574 2e73 7472  eb.entry_get.str
+000257c0: 6970 2829 2c20 7365 6c66 2e62 675f 656e  ip(), self.bg_en
+000257d0: 645f 6562 2e65 6e74 7279 5f67 6574 2e73  d_eb.entry_get.s
+000257e0: 7472 6970 2829 0a20 2020 2020 2020 2069  trip().        i
+000257f0: 6e74 5f73 7461 7274 2c20 5f20 3d20 6368  nt_start, _ = ch
+00025800: 6563 6b5f 696e 7428 6e61 6d65 3d27 272c  eck_int(name='',
+00025810: 2076 616c 7565 3d73 7461 7274 2c20 6d69   value=start, mi
+00025820: 6e5f 7661 6c75 653d 302c 2072 6169 7365  n_value=0, raise
+00025830: 5f65 7272 6f72 3d46 616c 7365 290a 2020  _error=False).  
+00025840: 2020 2020 2020 696e 745f 656e 642c 205f        int_end, _
+00025850: 203d 2063 6865 636b 5f69 6e74 286e 616d   = check_int(nam
+00025860: 653d 2727 2c20 7661 6c75 653d 656e 642c  e='', value=end,
+00025870: 206d 696e 5f76 616c 7565 3d30 2c20 7261   min_value=0, ra
+00025880: 6973 655f 6572 726f 723d 4661 6c73 6529  ise_error=False)
+00025890: 0a20 2020 2020 2020 2069 6620 696e 745f  .        if int_
+000258a0: 7374 6172 7420 616e 6420 696e 745f 656e  start and int_en
+000258b0: 643a 0a20 2020 2020 2020 2020 2020 2062  d:.            b
+000258c0: 675f 7374 6172 745f 7469 6d65 2c20 6267  g_start_time, bg
+000258d0: 5f65 6e64 5f74 696d 6520 3d20 4e6f 6e65  _end_time = None
+000258e0: 2c20 4e6f 6e65 0a20 2020 2020 2020 2020  , None.         
+000258f0: 2020 2062 675f 7374 6172 745f 6672 6d2c     bg_start_frm,
+00025900: 2062 675f 656e 645f 6672 6d20 3d20 696e   bg_end_frm = in
+00025910: 7428 696e 745f 7374 6172 7429 2c20 696e  t(int_start), in
+00025920: 7428 696e 745f 656e 6429 0a20 2020 2020  t(int_end).     
+00025930: 2020 2020 2020 2069 6620 6267 5f73 7461         if bg_sta
+00025940: 7274 5f66 726d 203e 3d20 6267 5f65 6e64  rt_frm >= bg_end
+00025950: 5f66 726d 3a0a 2020 2020 2020 2020 2020  _frm:.          
+00025960: 2020 2020 2020 7261 6973 6520 496e 7661        raise Inva
+00025970: 6c69 6449 6e70 7574 4572 726f 7228 6d73  lidInputError(ms
+00025980: 673d 6627 5374 6172 7420 6672 616d 6520  g=f'Start frame 
+00025990: 6861 7320 746f 2062 6520 6265 666f 7265  has to be before
+000259a0: 2065 6e64 2066 7261 6d65 2028 7374 6172   end frame (star
+000259b0: 743a 207b 6267 5f73 7461 7274 5f66 726d  t: {bg_start_frm
+000259c0: 7d2c 2065 6e64 3a20 7b62 675f 656e 645f  }, end: {bg_end_
+000259d0: 6672 6d7d 2927 2c20 736f 7572 6365 3d73  frm})', source=s
+000259e0: 656c 662e 5f5f 636c 6173 735f 5f2e 5f5f  elf.__class__.__
+000259f0: 6e61 6d65 5f5f 290a 2020 2020 2020 2020  name__).        
+00025a00: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00025a10: 2020 6368 6563 6b5f 6966 5f73 7472 696e    check_if_strin
+00025a20: 675f 7661 6c75 655f 6973 5f76 616c 6964  g_value_is_valid
+00025a30: 5f76 6964 656f 5f74 696d 6573 7461 6d70  _video_timestamp
+00025a40: 2876 616c 7565 3d73 7461 7274 2c20 6e61  (value=start, na
+00025a50: 6d65 3d27 5354 4152 5420 4652 414d 4527  me='START FRAME'
+00025a60: 290a 2020 2020 2020 2020 2020 2020 6368  ).            ch
+00025a70: 6563 6b5f 6966 5f73 7472 696e 675f 7661  eck_if_string_va
+00025a80: 6c75 655f 6973 5f76 616c 6964 5f76 6964  lue_is_valid_vid
+00025a90: 656f 5f74 696d 6573 7461 6d70 2876 616c  eo_timestamp(val
+00025aa0: 7565 3d65 6e64 2c20 6e61 6d65 3d27 454e  ue=end, name='EN
+00025ab0: 4420 4652 414d 4527 290a 2020 2020 2020  D FRAME').      
+00025ac0: 2020 2020 2020 6368 6563 6b5f 7468 6174        check_that
+00025ad0: 5f68 686d 6d73 735f 7374 6172 745f 6973  _hhmmss_start_is
+00025ae0: 5f62 6566 6f72 655f 656e 6428 7374 6172  _before_end(star
+00025af0: 745f 7469 6d65 3d73 7461 7274 2c20 656e  t_time=start, en
+00025b00: 645f 7469 6d65 3d65 6e64 2c20 6e61 6d65  d_time=end, name
+00025b10: 3d27 5354 4152 5420 414e 4420 454e 4420  ='START AND END 
+00025b20: 5449 4d45 2729 0a20 2020 2020 2020 2020  TIME').         
+00025b30: 2020 2062 675f 7374 6172 745f 6672 6d2c     bg_start_frm,
+00025b40: 2062 675f 656e 645f 6672 6d20 3d20 4e6f   bg_end_frm = No
+00025b50: 6e65 2c20 4e6f 6e65 0a20 2020 2020 2020  ne, None.       
+00025b60: 2020 2020 2062 675f 7374 6172 745f 7469       bg_start_ti
+00025b70: 6d65 2c20 6267 5f65 6e64 5f74 696d 6520  me, bg_end_time 
+00025b80: 3d20 7374 6172 742c 2065 6e64 0a0a 0a20  = start, end... 
+00025b90: 2020 2020 2020 2069 6620 6e6f 7420 7365         if not se
+00025ba0: 6c66 2e6d 756c 7469 7072 6f63 6573 7369  lf.multiprocessi
+00025bb0: 6e67 5f76 6172 2e67 6574 2829 3a0a 2020  ng_var.get():.  
+00025bc0: 2020 2020 2020 2020 2020 7072 696e 7428            print(
+00025bd0: 7669 6465 6f5f 7061 7468 2c20 6267 5f76  video_path, bg_v
+00025be0: 6964 656f 290a 2020 2020 2020 2020 2020  ideo).          
+00025bf0: 2020 7669 6465 6f5f 6267 5f73 7562 7472    video_bg_subtr
+00025c00: 6163 7469 6f6e 2876 6964 656f 5f70 6174  action(video_pat
+00025c10: 683d 7669 6465 6f5f 7061 7468 2c0a 2020  h=video_path,.  
 00025c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025c40: 2020 2020 6267 5f65 6e64 5f66 726d 3d62      bg_end_frm=b
-00025c50: 675f 656e 645f 6672 6d2c 0a20 2020 2020  g_end_frm,.     
+00025c30: 2020 2020 2020 2020 2020 2020 2020 2062                 b
+00025c40: 675f 7669 6465 6f5f 7061 7468 3d62 675f  g_video_path=bg_
+00025c50: 7669 6465 6f2c 0a20 2020 2020 2020 2020  video,.         
 00025c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025c80: 6267 5f73 7461 7274 5f74 696d 653d 6267  bg_start_time=bg
-00025c90: 5f73 7461 7274 5f74 696d 652c 0a20 2020  _start_time,.   
+00025c70: 2020 2020 2020 2020 6267 5f73 7461 7274          bg_start
+00025c80: 5f66 726d 3d62 675f 7374 6172 745f 6672  _frm=bg_start_fr
+00025c90: 6d2c 0a20 2020 2020 2020 2020 2020 2020  m,.             
 00025ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025cc0: 2020 6267 5f65 6e64 5f74 696d 653d 6267    bg_end_time=bg
-00025cd0: 5f65 6e64 5f74 696d 652c 0a20 2020 2020  _end_time,.     
-00025ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025d00: 6267 5f63 6f6c 6f72 3d62 675f 636c 722c  bg_color=bg_clr,
-00025d10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00025d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025d30: 2020 2020 2020 6667 5f63 6f6c 6f72 3d66        fg_color=f
-00025d40: 675f 636c 722c 0a20 2020 2020 2020 2020  g_clr,.         
+00025cb0: 2020 2020 6267 5f65 6e64 5f66 726d 3d62      bg_end_frm=b
+00025cc0: 675f 656e 645f 6672 6d2c 0a20 2020 2020  g_end_frm,.     
+00025cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025ce0: 2020 2020 2020 2020 2020 2020 6267 5f73              bg_s
+00025cf0: 7461 7274 5f74 696d 653d 6267 5f73 7461  tart_time=bg_sta
+00025d00: 7274 5f74 696d 652c 0a20 2020 2020 2020  rt_time,.       
+00025d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025d20: 2020 2020 2020 2020 2020 6267 5f65 6e64            bg_end
+00025d30: 5f74 696d 653d 6267 5f65 6e64 5f74 696d  _time=bg_end_tim
+00025d40: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
 00025d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025d60: 2020 2020 2020 2020 2020 2020 636f 7265              core
-00025d70: 5f63 6e74 3d63 6f72 655f 636e 7429 0a0a  _cnt=core_cnt)..
-00025d80: 0a63 6c61 7373 2052 6f74 6174 6556 6964  .class RotateVid
-00025d90: 656f 5365 7444 6567 7265 6573 506f 7055  eoSetDegreesPopU
-00025da0: 7028 506f 7055 704d 6978 696e 293a 0a20  p(PopUpMixin):. 
-00025db0: 2020 2064 6566 205f 5f69 6e69 745f 5f28     def __init__(
-00025dc0: 7365 6c66 293a 0a20 2020 2020 2020 2050  self):.        P
-00025dd0: 6f70 5570 4d69 7869 6e2e 5f5f 696e 6974  opUpMixin.__init
-00025de0: 5f5f 2873 656c 662c 2074 6974 6c65 3d22  __(self, title="
-00025df0: 524f 5441 5445 2056 4944 454f 5322 290a  ROTATE VIDEOS").
-00025e00: 2020 2020 2020 2020 7365 7474 696e 6773          settings
-00025e10: 5f66 726d 203d 2043 7265 6174 654c 6162  _frm = CreateLab
-00025e20: 656c 4672 616d 6557 6974 6849 636f 6e28  elFrameWithIcon(
-00025e30: 7061 7265 6e74 3d73 656c 662e 6d61 696e  parent=self.main
-00025e40: 5f66 726d 2c20 6865 6164 6572 3d22 5345  _frm, header="SE
-00025e50: 5454 494e 4753 222c 2069 636f 6e5f 6e61  TTINGS", icon_na
-00025e60: 6d65 3d4b 6579 732e 444f 4355 4d45 4e54  me=Keys.DOCUMENT
-00025e70: 4154 494f 4e2e 7661 6c75 652c 2069 636f  ATION.value, ico
-00025e80: 6e5f 6c69 6e6b 3d4c 696e 6b73 2e56 4944  n_link=Links.VID
-00025e90: 454f 5f54 4f4f 4c53 2e76 616c 7565 290a  EO_TOOLS.value).
-00025ea0: 2020 2020 2020 2020 7365 6c66 2e64 6567          self.deg
-00025eb0: 7265 6573 5f64 726f 7064 6f77 6e20 3d20  rees_dropdown = 
-00025ec0: 4472 6f70 446f 776e 4d65 6e75 2873 6574  DropDownMenu(set
-00025ed0: 7469 6e67 735f 6672 6d2c 2022 434c 4f43  tings_frm, "CLOC
-00025ee0: 4b57 4953 4520 4445 4752 4545 533a 222c  KWISE DEGREES:",
-00025ef0: 206c 6973 7428 7261 6e67 6528 312c 2033   list(range(1, 3
-00025f00: 3630 2c20 3129 292c 206c 6162 656c 7769  60, 1)), labelwi
-00025f10: 6474 683d 3235 290a 2020 2020 2020 2020  dth=25).        
-00025f20: 7365 6c66 2e71 7561 6c69 7479 5f64 726f  self.quality_dro
-00025f30: 7064 6f77 6e20 3d20 4472 6f70 446f 776e  pdown = DropDown
-00025f40: 4d65 6e75 2873 6574 7469 6e67 735f 6672  Menu(settings_fr
-00025f50: 6d2c 2022 4f55 5450 5554 2056 4944 454f  m, "OUTPUT VIDEO
-00025f60: 2051 5541 4c49 5459 2028 2529 3a22 2c20   QUALITY (%):", 
-00025f70: 6c69 7374 2872 616e 6765 2831 302c 2031  list(range(10, 1
-00025f80: 3130 2c20 3130 2929 2c20 6c61 6265 6c77  10, 10)), labelw
-00025f90: 6964 7468 3d32 3529 0a20 2020 2020 2020  idth=25).       
-00025fa0: 2073 656c 662e 7175 616c 6974 795f 6472   self.quality_dr
-00025fb0: 6f70 646f 776e 2e73 6574 4368 6f69 6365  opdown.setChoice
-00025fc0: 7328 3630 290a 2020 2020 2020 2020 7365  s(60).        se
-00025fd0: 6c66 2e64 6567 7265 6573 5f64 726f 7064  lf.degrees_dropd
-00025fe0: 6f77 6e2e 7365 7443 686f 6963 6573 2827  own.setChoices('
-00025ff0: 3930 2729 0a20 2020 2020 2020 2073 656c  90').        sel
-00026000: 662e 6465 6772 6565 735f 6472 6f70 646f  f.degrees_dropdo
-00026010: 776e 2e67 7269 6428 726f 773d 302c 2063  wn.grid(row=0, c
-00026020: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
-00026030: 4e57 290a 0a20 2020 2020 2020 2073 6574  NW)..        set
-00026040: 7469 6e67 735f 6672 6d2e 6772 6964 2872  tings_frm.grid(r
-00026050: 6f77 3d30 2c20 636f 6c75 6d6e 3d30 2c20  ow=0, column=0, 
-00026060: 7374 6963 6b79 3d22 4e57 2229 0a20 2020  sticky="NW").   
-00026070: 2020 2020 2073 656c 662e 6465 6772 6565       self.degree
-00026080: 735f 6472 6f70 646f 776e 2e67 7269 6428  s_dropdown.grid(
-00026090: 726f 773d 302c 2063 6f6c 756d 6e3d 302c  row=0, column=0,
-000260a0: 2073 7469 636b 793d 224e 5722 290a 2020   sticky="NW").  
-000260b0: 2020 2020 2020 7365 6c66 2e71 7561 6c69        self.quali
-000260c0: 7479 5f64 726f 7064 6f77 6e2e 6772 6964  ty_dropdown.grid
-000260d0: 2872 6f77 3d31 2c20 636f 6c75 6d6e 3d30  (row=1, column=0
-000260e0: 2c20 7374 6963 6b79 3d22 4e57 2229 0a0a  , sticky="NW")..
-000260f0: 2020 2020 2020 2020 7369 6e67 6c65 5f76          single_v
-00026100: 6964 656f 5f66 726d 203d 2043 7265 6174  ideo_frm = Creat
-00026110: 654c 6162 656c 4672 616d 6557 6974 6849  eLabelFrameWithI
-00026120: 636f 6e28 7061 7265 6e74 3d73 656c 662e  con(parent=self.
-00026130: 6d61 696e 5f66 726d 2c20 6865 6164 6572  main_frm, header
-00026140: 3d22 5349 4e47 4c45 2056 4944 454f 202d  ="SINGLE VIDEO -
-00026150: 2052 4f54 4154 4522 2c20 6963 6f6e 5f6e   ROTATE", icon_n
-00026160: 616d 653d 4b65 7973 2e44 4f43 554d 454e  ame=Keys.DOCUMEN
-00026170: 5441 5449 4f4e 2e76 616c 7565 2c20 6963  TATION.value, ic
-00026180: 6f6e 5f6c 696e 6b3d 4c69 6e6b 732e 5649  on_link=Links.VI
-00026190: 4445 4f5f 544f 4f4c 532e 7661 6c75 6529  DEO_TOOLS.value)
-000261a0: 0a20 2020 2020 2020 2073 656c 662e 7365  .        self.se
-000261b0: 6c65 6374 6564 5f76 6964 656f 203d 2046  lected_video = F
-000261c0: 696c 6553 656c 6563 7428 7369 6e67 6c65  ileSelect(single
-000261d0: 5f76 6964 656f 5f66 726d 2c20 2256 4944  _video_frm, "VID
-000261e0: 454f 2050 4154 483a 222c 2074 6974 6c65  EO PATH:", title
-000261f0: 3d22 5365 6c65 6374 2061 2076 6964 656f  ="Select a video
-00026200: 2066 696c 6522 2c20 6c62 6c77 6964 7468   file", lblwidth
-00026210: 3d32 352c 2066 696c 655f 7479 7065 733d  =25, file_types=
-00026220: 5b28 2256 4944 454f 2046 494c 4522 2c20  [("VIDEO FILE", 
-00026230: 4f70 7469 6f6e 732e 414c 4c5f 5649 4445  Options.ALL_VIDE
-00026240: 4f5f 464f 524d 4154 5f53 5452 5f4f 5054  O_FORMAT_STR_OPT
-00026250: 494f 4e53 2e76 616c 7565 295d 290a 2020  IONS.value)]).  
-00026260: 2020 2020 2020 7369 6e67 6c65 5f76 6964        single_vid
-00026270: 656f 5f72 756e 203d 2042 7574 746f 6e28  eo_run = Button(
-00026280: 7369 6e67 6c65 5f76 6964 656f 5f66 726d  single_video_frm
-00026290: 2c20 7465 7874 3d22 5255 4e20 2d20 5349  , text="RUN - SI
-000262a0: 4e47 4c45 2056 4944 454f 222c 2063 6f6d  NGLE VIDEO", com
-000262b0: 6d61 6e64 3d6c 616d 6264 613a 2073 656c  mand=lambda: sel
-000262c0: 662e 7275 6e28 6d75 6c74 6970 6c65 3d46  f.run(multiple=F
-000262d0: 616c 7365 2929 0a0a 2020 2020 2020 2020  alse))..        
-000262e0: 7369 6e67 6c65 5f76 6964 656f 5f66 726d  single_video_frm
-000262f0: 2e67 7269 6428 726f 773d 312c 2063 6f6c  .grid(row=1, col
-00026300: 756d 6e3d 302c 2073 7469 636b 793d 224e  umn=0, sticky="N
-00026310: 5722 290a 2020 2020 2020 2020 7365 6c66  W").        self
-00026320: 2e73 656c 6563 7465 645f 7669 6465 6f2e  .selected_video.
-00026330: 6772 6964 2872 6f77 3d30 2c20 636f 6c75  grid(row=0, colu
-00026340: 6d6e 3d30 2c20 7374 6963 6b79 3d22 4e57  mn=0, sticky="NW
-00026350: 2229 0a20 2020 2020 2020 2073 696e 676c  ").        singl
-00026360: 655f 7669 6465 6f5f 7275 6e2e 6772 6964  e_video_run.grid
-00026370: 2872 6f77 3d31 2c20 636f 6c75 6d6e 3d30  (row=1, column=0
-00026380: 2c20 7374 6963 6b79 3d22 4e57 2229 0a0a  , sticky="NW")..
-00026390: 2020 2020 2020 2020 6d75 6c74 6970 6c65          multiple
-000263a0: 5f76 6964 656f 735f 6672 6d20 3d20 4372  _videos_frm = Cr
-000263b0: 6561 7465 4c61 6265 6c46 7261 6d65 5769  eateLabelFrameWi
-000263c0: 7468 4963 6f6e 2870 6172 656e 743d 7365  thIcon(parent=se
-000263d0: 6c66 2e6d 6169 6e5f 6672 6d2c 2068 6561  lf.main_frm, hea
-000263e0: 6465 723d 224d 554c 5449 504c 4520 5649  der="MULTIPLE VI
-000263f0: 4445 4f53 202d 2052 4f54 4154 4522 2c20  DEOS - ROTATE", 
-00026400: 6963 6f6e 5f6e 616d 653d 4b65 7973 2e44  icon_name=Keys.D
-00026410: 4f43 554d 454e 5441 5449 4f4e 2e76 616c  OCUMENTATION.val
-00026420: 7565 2c20 6963 6f6e 5f6c 696e 6b3d 4c69  ue, icon_link=Li
-00026430: 6e6b 732e 5649 4445 4f5f 544f 4f4c 532e  nks.VIDEO_TOOLS.
-00026440: 7661 6c75 6529 0a20 2020 2020 2020 2073  value).        s
-00026450: 656c 662e 7365 6c65 6374 6564 5f76 6964  elf.selected_vid
-00026460: 656f 5f64 6972 203d 2046 6f6c 6465 7253  eo_dir = FolderS
-00026470: 656c 6563 7428 6d75 6c74 6970 6c65 5f76  elect(multiple_v
-00026480: 6964 656f 735f 6672 6d2c 2022 5649 4445  ideos_frm, "VIDE
-00026490: 4f20 4449 5245 4354 4f52 5920 5041 5448  O DIRECTORY PATH
-000264a0: 3a22 2c20 7469 746c 653d 2253 656c 6563  :", title="Selec
-000264b0: 7420 6120 7669 6465 6f20 6469 7265 6374  t a video direct
-000264c0: 6f72 7922 2c20 6c62 6c77 6964 7468 3d32  ory", lblwidth=2
-000264d0: 3529 0a20 2020 2020 2020 206d 756c 7469  5).        multi
-000264e0: 706c 655f 7669 6465 6f73 5f72 756e 203d  ple_videos_run =
-000264f0: 2042 7574 746f 6e28 6d75 6c74 6970 6c65   Button(multiple
-00026500: 5f76 6964 656f 735f 6672 6d2c 2074 6578  _videos_frm, tex
-00026510: 743d 2252 554e 202d 204d 554c 5449 504c  t="RUN - MULTIPL
-00026520: 4520 5649 4445 4f53 222c 2063 6f6d 6d61  E VIDEOS", comma
-00026530: 6e64 3d6c 616d 6264 613a 2073 656c 662e  nd=lambda: self.
-00026540: 7275 6e28 6d75 6c74 6970 6c65 3d54 7275  run(multiple=Tru
-00026550: 6529 290a 0a20 2020 2020 2020 206d 756c  e))..        mul
-00026560: 7469 706c 655f 7669 6465 6f73 5f66 726d  tiple_videos_frm
-00026570: 2e67 7269 6428 726f 773d 322c 2063 6f6c  .grid(row=2, col
-00026580: 756d 6e3d 302c 2073 7469 636b 793d 224e  umn=0, sticky="N
-00026590: 5722 290a 2020 2020 2020 2020 7365 6c66  W").        self
-000265a0: 2e73 656c 6563 7465 645f 7669 6465 6f5f  .selected_video_
-000265b0: 6469 722e 6772 6964 2872 6f77 3d30 2c20  dir.grid(row=0, 
-000265c0: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
-000265d0: 3d22 4e57 2229 0a20 2020 2020 2020 206d  ="NW").        m
-000265e0: 756c 7469 706c 655f 7669 6465 6f73 5f72  ultiple_videos_r
-000265f0: 756e 2e67 7269 6428 726f 773d 312c 2063  un.grid(row=1, c
-00026600: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
-00026610: 224e 5722 290a 0a0a 2020 2020 6465 6620  "NW")...    def 
-00026620: 7275 6e28 7365 6c66 2c20 6d75 6c74 6970  run(self, multip
-00026630: 6c65 3a20 626f 6f6c 293a 0a20 2020 2020  le: bool):.     
-00026640: 2020 2064 6567 7265 6573 203d 2069 6e74     degrees = int
-00026650: 2873 656c 662e 6465 6772 6565 735f 6472  (self.degrees_dr
-00026660: 6f70 646f 776e 2e67 6574 4368 6f69 6365  opdown.getChoice
-00026670: 7328 2929 0a20 2020 2020 2020 2071 7561  s()).        qua
-00026680: 6c69 7479 203d 2069 6e74 2873 656c 662e  lity = int(self.
-00026690: 7175 616c 6974 795f 6472 6f70 646f 776e  quality_dropdown
-000266a0: 2e67 6574 4368 6f69 6365 7328 2929 0a20  .getChoices()). 
-000266b0: 2020 2020 2020 2069 6620 6e6f 7420 6d75         if not mu
-000266c0: 6c74 6970 6c65 3a0a 2020 2020 2020 2020  ltiple:.        
-000266d0: 2020 2020 6461 7461 5f70 6174 6820 3d20      data_path = 
-000266e0: 7365 6c66 2e73 656c 6563 7465 645f 7669  self.selected_vi
-000266f0: 6465 6f2e 6669 6c65 5f70 6174 680a 2020  deo.file_path.  
-00026700: 2020 2020 2020 2020 2020 6368 6563 6b5f            check_
-00026710: 6669 6c65 5f65 7869 7374 5f61 6e64 5f72  file_exist_and_r
-00026720: 6561 6461 626c 6528 6669 6c65 5f70 6174  eadable(file_pat
-00026730: 683d 6461 7461 5f70 6174 6829 0a20 2020  h=data_path).   
-00026740: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00026750: 2020 2020 2020 2064 6174 615f 7061 7468         data_path
-00026760: 203d 2073 656c 662e 7365 6c65 6374 6564   = self.selected
-00026770: 5f76 6964 656f 5f64 6972 2e66 6f6c 6465  _video_dir.folde
-00026780: 725f 7061 7468 0a20 2020 2020 2020 2020  r_path.         
-00026790: 2020 2063 6865 636b 5f69 665f 6469 725f     check_if_dir_
-000267a0: 6578 6973 7473 2869 6e5f 6469 723d 6461  exists(in_dir=da
-000267b0: 7461 5f70 6174 6829 0a0a 2020 2020 2020  ta_path)..      
-000267c0: 2020 7468 7265 6164 696e 672e 5468 7265    threading.Thre
-000267d0: 6164 2874 6172 6765 743d 726f 7461 7465  ad(target=rotate
-000267e0: 5f76 6964 656f 2876 6964 656f 5f70 6174  _video(video_pat
-000267f0: 683d 6461 7461 5f70 6174 682c 0a20 2020  h=data_path,.   
-00026800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026820: 2020 2020 2020 2020 2020 6465 6772 6565            degree
-00026830: 733d 6465 6772 6565 732c 0a20 2020 2020  s=degrees,.     
-00026840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026860: 2020 2020 2020 2020 7175 616c 6974 793d          quality=
-00026870: 7175 616c 6974 7929 292e 7374 6172 7428  quality)).start(
-00026880: 290a 0a0a 636c 6173 7320 466c 6970 5669  )...class FlipVi
-00026890: 6465 6f73 506f 7055 7028 506f 7055 704d  deosPopUp(PopUpM
-000268a0: 6978 696e 293a 0a20 2020 2064 6566 205f  ixin):.    def _
-000268b0: 5f69 6e69 745f 5f28 7365 6c66 293a 0a20  _init__(self):. 
-000268c0: 2020 2020 2020 2050 6f70 5570 4d69 7869         PopUpMixi
-000268d0: 6e2e 5f5f 696e 6974 5f5f 2873 656c 662c  n.__init__(self,
-000268e0: 2074 6974 6c65 3d22 464c 4950 2056 4944   title="FLIP VID
-000268f0: 454f 5322 290a 2020 2020 2020 2020 7365  EOS").        se
-00026900: 7474 696e 6773 5f66 726d 203d 2043 7265  ttings_frm = Cre
-00026910: 6174 654c 6162 656c 4672 616d 6557 6974  ateLabelFrameWit
-00026920: 6849 636f 6e28 7061 7265 6e74 3d73 656c  hIcon(parent=sel
-00026930: 662e 6d61 696e 5f66 726d 2c20 6865 6164  f.main_frm, head
-00026940: 6572 3d22 5345 5454 494e 4753 222c 2069  er="SETTINGS", i
-00026950: 636f 6e5f 6e61 6d65 3d4b 6579 732e 444f  con_name=Keys.DO
-00026960: 4355 4d45 4e54 4154 494f 4e2e 7661 6c75  CUMENTATION.valu
-00026970: 652c 2069 636f 6e5f 6c69 6e6b 3d4c 696e  e, icon_link=Lin
-00026980: 6b73 2e56 4944 454f 5f54 4f4f 4c53 2e76  ks.VIDEO_TOOLS.v
-00026990: 616c 7565 290a 2020 2020 2020 2020 7365  alue).        se
-000269a0: 6c66 2e68 6f72 697a 6f6e 7461 6c5f 6472  lf.horizontal_dr
-000269b0: 6f70 646f 776e 203d 2044 726f 7044 6f77  opdown = DropDow
-000269c0: 6e4d 656e 7528 7365 7474 696e 6773 5f66  nMenu(settings_f
-000269d0: 726d 2c20 2248 4f52 495a 4f4e 5441 4c20  rm, "HORIZONTAL 
-000269e0: 464c 4950 3a22 2c20 5b27 5452 5545 272c  FLIP:", ['TRUE',
-000269f0: 2027 4641 4c53 4527 5d2c 206c 6162 656c   'FALSE'], label
-00026a00: 7769 6474 683d 3235 290a 2020 2020 2020  width=25).      
-00026a10: 2020 7365 6c66 2e76 6572 7469 6361 6c5f    self.vertical_
-00026a20: 6472 6f70 646f 776e 203d 2044 726f 7044  dropdown = DropD
-00026a30: 6f77 6e4d 656e 7528 7365 7474 696e 6773  ownMenu(settings
-00026a40: 5f66 726d 2c20 2256 4552 5449 4341 4c20  _frm, "VERTICAL 
-00026a50: 464c 4950 3a22 2c20 5b27 5452 5545 272c  FLIP:", ['TRUE',
-00026a60: 2027 4641 4c53 4527 5d2c 206c 6162 656c   'FALSE'], label
-00026a70: 7769 6474 683d 3235 290a 2020 2020 2020  width=25).      
-00026a80: 2020 7365 6c66 2e71 7561 6c69 7479 5f64    self.quality_d
-00026a90: 726f 7064 6f77 6e20 3d20 4472 6f70 446f  ropdown = DropDo
-00026aa0: 776e 4d65 6e75 2873 6574 7469 6e67 735f  wnMenu(settings_
-00026ab0: 6672 6d2c 2022 4f55 5450 5554 2056 4944  frm, "OUTPUT VID
-00026ac0: 454f 2051 5541 4c49 5459 2028 2529 3a22  EO QUALITY (%):"
-00026ad0: 2c20 6c69 7374 2872 616e 6765 2831 302c  , list(range(10,
-00026ae0: 2031 3130 2c20 3130 2929 2c20 6c61 6265   110, 10)), labe
-00026af0: 6c77 6964 7468 3d32 3529 0a0a 2020 2020  lwidth=25)..    
-00026b00: 2020 2020 7365 6c66 2e68 6f72 697a 6f6e      self.horizon
-00026b10: 7461 6c5f 6472 6f70 646f 776e 2e73 6574  tal_dropdown.set
-00026b20: 4368 6f69 6365 7328 2746 414c 5345 2729  Choices('FALSE')
-00026b30: 0a20 2020 2020 2020 2073 656c 662e 7665  .        self.ve
-00026b40: 7274 6963 616c 5f64 726f 7064 6f77 6e2e  rtical_dropdown.
-00026b50: 7365 7443 686f 6963 6573 2827 4641 4c53  setChoices('FALS
-00026b60: 4527 290a 2020 2020 2020 2020 7365 6c66  E').        self
-00026b70: 2e71 7561 6c69 7479 5f64 726f 7064 6f77  .quality_dropdow
-00026b80: 6e2e 7365 7443 686f 6963 6573 2836 3029  n.setChoices(60)
-00026b90: 0a0a 2020 2020 2020 2020 7365 7474 696e  ..        settin
-00026ba0: 6773 5f66 726d 2e67 7269 6428 726f 773d  gs_frm.grid(row=
-00026bb0: 302c 2063 6f6c 756d 6e3d 302c 2073 7469  0, column=0, sti
-00026bc0: 636b 793d 224e 5722 290a 2020 2020 2020  cky="NW").      
-00026bd0: 2020 7365 6c66 2e76 6572 7469 6361 6c5f    self.vertical_
-00026be0: 6472 6f70 646f 776e 2e67 7269 6428 726f  dropdown.grid(ro
-00026bf0: 773d 302c 2063 6f6c 756d 6e3d 302c 2073  w=0, column=0, s
-00026c00: 7469 636b 793d 224e 5722 290a 2020 2020  ticky="NW").    
-00026c10: 2020 2020 7365 6c66 2e68 6f72 697a 6f6e      self.horizon
-00026c20: 7461 6c5f 6472 6f70 646f 776e 2e67 7269  tal_dropdown.gri
-00026c30: 6428 726f 773d 312c 2063 6f6c 756d 6e3d  d(row=1, column=
-00026c40: 302c 2073 7469 636b 793d 224e 5722 290a  0, sticky="NW").
-00026c50: 2020 2020 2020 2020 7365 6c66 2e71 7561          self.qua
-00026c60: 6c69 7479 5f64 726f 7064 6f77 6e2e 6772  lity_dropdown.gr
-00026c70: 6964 2872 6f77 3d32 2c20 636f 6c75 6d6e  id(row=2, column
-00026c80: 3d30 2c20 7374 6963 6b79 3d22 4e57 2229  =0, sticky="NW")
-00026c90: 0a0a 2020 2020 2020 2020 7369 6e67 6c65  ..        single
-00026ca0: 5f76 6964 656f 5f66 726d 203d 2043 7265  _video_frm = Cre
-00026cb0: 6174 654c 6162 656c 4672 616d 6557 6974  ateLabelFrameWit
-00026cc0: 6849 636f 6e28 7061 7265 6e74 3d73 656c  hIcon(parent=sel
-00026cd0: 662e 6d61 696e 5f66 726d 2c20 6865 6164  f.main_frm, head
-00026ce0: 6572 3d22 5349 4e47 4c45 2056 4944 454f  er="SINGLE VIDEO
-00026cf0: 202d 2046 4c49 5022 2c20 6963 6f6e 5f6e   - FLIP", icon_n
-00026d00: 616d 653d 4b65 7973 2e44 4f43 554d 454e  ame=Keys.DOCUMEN
-00026d10: 5441 5449 4f4e 2e76 616c 7565 2c20 6963  TATION.value, ic
-00026d20: 6f6e 5f6c 696e 6b3d 4c69 6e6b 732e 5649  on_link=Links.VI
-00026d30: 4445 4f5f 544f 4f4c 532e 7661 6c75 6529  DEO_TOOLS.value)
-00026d40: 0a20 2020 2020 2020 2073 656c 662e 7365  .        self.se
-00026d50: 6c65 6374 6564 5f76 6964 656f 203d 2046  lected_video = F
-00026d60: 696c 6553 656c 6563 7428 7369 6e67 6c65  ileSelect(single
-00026d70: 5f76 6964 656f 5f66 726d 2c20 2256 4944  _video_frm, "VID
-00026d80: 454f 2050 4154 483a 222c 2074 6974 6c65  EO PATH:", title
-00026d90: 3d22 5365 6c65 6374 2061 2076 6964 656f  ="Select a video
-00026da0: 2066 696c 6522 2c20 6c62 6c77 6964 7468   file", lblwidth
-00026db0: 3d32 352c 2066 696c 655f 7479 7065 733d  =25, file_types=
-00026dc0: 5b28 2256 4944 454f 2046 494c 4522 2c20  [("VIDEO FILE", 
-00026dd0: 4f70 7469 6f6e 732e 414c 4c5f 5649 4445  Options.ALL_VIDE
-00026de0: 4f5f 464f 524d 4154 5f53 5452 5f4f 5054  O_FORMAT_STR_OPT
-00026df0: 494f 4e53 2e76 616c 7565 295d 290a 2020  IONS.value)]).  
-00026e00: 2020 2020 2020 7369 6e67 6c65 5f76 6964        single_vid
-00026e10: 656f 5f72 756e 203d 2042 7574 746f 6e28  eo_run = Button(
-00026e20: 7369 6e67 6c65 5f76 6964 656f 5f66 726d  single_video_frm
-00026e30: 2c20 7465 7874 3d22 5255 4e20 2d20 5349  , text="RUN - SI
-00026e40: 4e47 4c45 2056 4944 454f 222c 2063 6f6d  NGLE VIDEO", com
-00026e50: 6d61 6e64 3d6c 616d 6264 613a 2073 656c  mand=lambda: sel
-00026e60: 662e 7275 6e28 6d75 6c74 6970 6c65 3d46  f.run(multiple=F
-00026e70: 616c 7365 2929 0a0a 2020 2020 2020 2020  alse))..        
-00026e80: 7369 6e67 6c65 5f76 6964 656f 5f66 726d  single_video_frm
-00026e90: 2e67 7269 6428 726f 773d 312c 2063 6f6c  .grid(row=1, col
-00026ea0: 756d 6e3d 302c 2073 7469 636b 793d 224e  umn=0, sticky="N
-00026eb0: 5722 290a 2020 2020 2020 2020 7365 6c66  W").        self
-00026ec0: 2e73 656c 6563 7465 645f 7669 6465 6f2e  .selected_video.
-00026ed0: 6772 6964 2872 6f77 3d30 2c20 636f 6c75  grid(row=0, colu
-00026ee0: 6d6e 3d30 2c20 7374 6963 6b79 3d22 4e57  mn=0, sticky="NW
-00026ef0: 2229 0a20 2020 2020 2020 2073 696e 676c  ").        singl
-00026f00: 655f 7669 6465 6f5f 7275 6e2e 6772 6964  e_video_run.grid
-00026f10: 2872 6f77 3d31 2c20 636f 6c75 6d6e 3d30  (row=1, column=0
-00026f20: 2c20 7374 6963 6b79 3d22 4e57 2229 0a0a  , sticky="NW")..
-00026f30: 2020 2020 2020 2020 6d75 6c74 6970 6c65          multiple
-00026f40: 5f76 6964 656f 735f 6672 6d20 3d20 4372  _videos_frm = Cr
-00026f50: 6561 7465 4c61 6265 6c46 7261 6d65 5769  eateLabelFrameWi
-00026f60: 7468 4963 6f6e 2870 6172 656e 743d 7365  thIcon(parent=se
-00026f70: 6c66 2e6d 6169 6e5f 6672 6d2c 2068 6561  lf.main_frm, hea
-00026f80: 6465 723d 224d 554c 5449 504c 4520 5649  der="MULTIPLE VI
-00026f90: 4445 4f53 202d 2046 4c49 5022 2c20 6963  DEOS - FLIP", ic
-00026fa0: 6f6e 5f6e 616d 653d 4b65 7973 2e44 4f43  on_name=Keys.DOC
-00026fb0: 554d 454e 5441 5449 4f4e 2e76 616c 7565  UMENTATION.value
-00026fc0: 2c20 6963 6f6e 5f6c 696e 6b3d 4c69 6e6b  , icon_link=Link
-00026fd0: 732e 5649 4445 4f5f 544f 4f4c 532e 7661  s.VIDEO_TOOLS.va
-00026fe0: 6c75 6529 0a20 2020 2020 2020 2073 656c  lue).        sel
-00026ff0: 662e 7365 6c65 6374 6564 5f76 6964 656f  f.selected_video
-00027000: 5f64 6972 203d 2046 6f6c 6465 7253 656c  _dir = FolderSel
-00027010: 6563 7428 6d75 6c74 6970 6c65 5f76 6964  ect(multiple_vid
-00027020: 656f 735f 6672 6d2c 2022 5649 4445 4f20  eos_frm, "VIDEO 
-00027030: 4449 5245 4354 4f52 5920 5041 5448 3a22  DIRECTORY PATH:"
-00027040: 2c20 7469 746c 653d 2253 656c 6563 7420  , title="Select 
-00027050: 6120 7669 6465 6f20 6469 7265 6374 6f72  a video director
-00027060: 7922 2c20 6c62 6c77 6964 7468 3d32 3529  y", lblwidth=25)
-00027070: 0a20 2020 2020 2020 206d 756c 7469 706c  .        multipl
-00027080: 655f 7669 6465 6f73 5f72 756e 203d 2042  e_videos_run = B
-00027090: 7574 746f 6e28 6d75 6c74 6970 6c65 5f76  utton(multiple_v
-000270a0: 6964 656f 735f 6672 6d2c 2074 6578 743d  ideos_frm, text=
-000270b0: 2252 554e 202d 204d 554c 5449 504c 4520  "RUN - MULTIPLE 
-000270c0: 5649 4445 4f53 222c 2063 6f6d 6d61 6e64  VIDEOS", command
-000270d0: 3d6c 616d 6264 613a 2073 656c 662e 7275  =lambda: self.ru
-000270e0: 6e28 6d75 6c74 6970 6c65 3d54 7275 6529  n(multiple=True)
-000270f0: 290a 0a20 2020 2020 2020 206d 756c 7469  )..        multi
-00027100: 706c 655f 7669 6465 6f73 5f66 726d 2e67  ple_videos_frm.g
-00027110: 7269 6428 726f 773d 322c 2063 6f6c 756d  rid(row=2, colum
-00027120: 6e3d 302c 2073 7469 636b 793d 224e 5722  n=0, sticky="NW"
-00027130: 290a 2020 2020 2020 2020 7365 6c66 2e73  ).        self.s
-00027140: 656c 6563 7465 645f 7669 6465 6f5f 6469  elected_video_di
-00027150: 722e 6772 6964 2872 6f77 3d30 2c20 636f  r.grid(row=0, co
-00027160: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d22  lumn=0, sticky="
-00027170: 4e57 2229 0a20 2020 2020 2020 206d 756c  NW").        mul
-00027180: 7469 706c 655f 7669 6465 6f73 5f72 756e  tiple_videos_run
-00027190: 2e67 7269 6428 726f 773d 312c 2063 6f6c  .grid(row=1, col
-000271a0: 756d 6e3d 302c 2073 7469 636b 793d 224e  umn=0, sticky="N
-000271b0: 5722 290a 0a20 2020 2064 6566 2072 756e  W")..    def run
-000271c0: 2873 656c 662c 206d 756c 7469 706c 653a  (self, multiple:
-000271d0: 2062 6f6f 6c29 3a0a 2020 2020 2020 2020   bool):.        
-000271e0: 7665 7274 6963 616c 5f66 6c69 7020 3d20  vertical_flip = 
-000271f0: 7374 725f 325f 626f 6f6c 2873 656c 662e  str_2_bool(self.
-00027200: 7665 7274 6963 616c 5f64 726f 7064 6f77  vertical_dropdow
-00027210: 6e2e 6765 7443 686f 6963 6573 2829 290a  n.getChoices()).
-00027220: 2020 2020 2020 2020 686f 7269 7a6f 6e74          horizont
-00027230: 616c 5f66 6c69 7020 3d20 7374 725f 325f  al_flip = str_2_
-00027240: 626f 6f6c 2873 656c 662e 686f 7269 7a6f  bool(self.horizo
-00027250: 6e74 616c 5f64 726f 7064 6f77 6e2e 6765  ntal_dropdown.ge
-00027260: 7443 686f 6963 6573 2829 290a 2020 2020  tChoices()).    
-00027270: 2020 2020 6966 206e 6f74 2076 6572 7469      if not verti
-00027280: 6361 6c5f 666c 6970 2061 6e64 206e 6f74  cal_flip and not
-00027290: 2068 6f72 697a 6f6e 7461 6c5f 666c 6970   horizontal_flip
-000272a0: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
-000272b0: 6973 6520 496e 7661 6c69 6449 6e70 7574  ise InvalidInput
-000272c0: 4572 726f 7228 6d73 673d 2746 6c69 7020  Error(msg='Flip 
-000272d0: 7669 6465 6f73 2076 6572 7469 6361 6c6c  videos verticall
-000272e0: 7920 616e 642f 6f72 2068 6f72 697a 6f6e  y and/or horizon
-000272f0: 7461 6c6c 792e 2047 6f74 2062 6f74 6820  tally. Got both 
-00027300: 6173 2046 616c 7365 272c 2073 6f75 7263  as False', sourc
-00027310: 653d 7365 6c66 2e5f 5f63 6c61 7373 5f5f  e=self.__class__
-00027320: 2e5f 5f6e 616d 655f 5f29 0a20 2020 2020  .__name__).     
-00027330: 2020 2071 7561 6c69 7479 203d 2069 6e74     quality = int
-00027340: 2873 656c 662e 7175 616c 6974 795f 6472  (self.quality_dr
-00027350: 6f70 646f 776e 2e67 6574 4368 6f69 6365  opdown.getChoice
-00027360: 7328 2929 0a20 2020 2020 2020 2069 6620  s()).        if 
-00027370: 6e6f 7420 6d75 6c74 6970 6c65 3a0a 2020  not multiple:.  
-00027380: 2020 2020 2020 2020 2020 6461 7461 5f70            data_p
-00027390: 6174 6820 3d20 7365 6c66 2e73 656c 6563  ath = self.selec
-000273a0: 7465 645f 7669 6465 6f2e 6669 6c65 5f70  ted_video.file_p
-000273b0: 6174 680a 2020 2020 2020 2020 2020 2020  ath.            
-000273c0: 6368 6563 6b5f 6669 6c65 5f65 7869 7374  check_file_exist
-000273d0: 5f61 6e64 5f72 6561 6461 626c 6528 6669  _and_readable(fi
-000273e0: 6c65 5f70 6174 683d 6461 7461 5f70 6174  le_path=data_pat
-000273f0: 6829 0a20 2020 2020 2020 2065 6c73 653a  h).        else:
-00027400: 0a20 2020 2020 2020 2020 2020 2064 6174  .            dat
-00027410: 615f 7061 7468 203d 2073 656c 662e 7365  a_path = self.se
-00027420: 6c65 6374 6564 5f76 6964 656f 5f64 6972  lected_video_dir
-00027430: 2e66 6f6c 6465 725f 7061 7468 0a20 2020  .folder_path.   
-00027440: 2020 2020 2020 2020 2063 6865 636b 5f69           check_i
-00027450: 665f 6469 725f 6578 6973 7473 2869 6e5f  f_dir_exists(in_
-00027460: 6469 723d 6461 7461 5f70 6174 6829 0a0a  dir=data_path)..
-00027470: 2020 2020 2020 2020 7468 7265 6164 696e          threadin
-00027480: 672e 5468 7265 6164 2874 6172 6765 743d  g.Thread(target=
-00027490: 666c 6970 5f76 6964 656f 7328 7669 6465  flip_videos(vide
-000274a0: 6f5f 7061 7468 3d64 6174 615f 7061 7468  o_path=data_path
-000274b0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000274c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000274d0: 2020 2020 2020 2020 2020 2020 2020 7665                ve
-000274e0: 7274 6963 616c 5f66 6c69 703d 7665 7274  rtical_flip=vert
-000274f0: 6963 616c 5f66 6c69 702c 0a20 2020 2020  ical_flip,.     
-00027500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027520: 2020 2020 2020 2068 6f72 697a 6f6e 7461         horizonta
-00027530: 6c5f 666c 6970 3d68 6f72 697a 6f6e 7461  l_flip=horizonta
-00027540: 6c5f 666c 6970 2c0a 2020 2020 2020 2020  l_flip,.        
-00027550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027570: 2020 2020 7175 616c 6974 793d 7175 616c      quality=qual
-00027580: 6974 7929 292e 7374 6172 7428 290a 0a0a  ity)).start()...
-00027590: 636c 6173 7320 5570 7361 6d70 6c65 5669  class UpsampleVi
-000275a0: 6465 6f73 506f 7055 7028 506f 7055 704d  deosPopUp(PopUpM
-000275b0: 6978 696e 293a 0a20 2020 2064 6566 205f  ixin):.    def _
-000275c0: 5f69 6e69 745f 5f28 7365 6c66 293a 0a20  _init__(self):. 
-000275d0: 2020 2020 2020 2050 6f70 5570 4d69 7869         PopUpMixi
-000275e0: 6e2e 5f5f 696e 6974 5f5f 2873 656c 662c  n.__init__(self,
-000275f0: 2074 6974 6c65 3d22 5550 5341 4d50 4c45   title="UPSAMPLE
-00027600: 2056 4944 454f 5320 5553 494e 4720 494e   VIDEOS USING IN
-00027610: 5445 5250 4f4c 4154 494f 4e20 2857 4152  TERPOLATION (WAR
-00027620: 4e49 4e47 3a20 4c4f 4e47 2052 554e 2d54  NING: LONG RUN-T
-00027630: 494d 4553 2922 290a 2020 2020 2020 2020  IMES)").        
-00027640: 7365 7474 696e 6773 5f66 726d 203d 2043  settings_frm = C
-00027650: 7265 6174 654c 6162 656c 4672 616d 6557  reateLabelFrameW
-00027660: 6974 6849 636f 6e28 7061 7265 6e74 3d73  ithIcon(parent=s
-00027670: 656c 662e 6d61 696e 5f66 726d 2c20 6865  elf.main_frm, he
-00027680: 6164 6572 3d22 5345 5454 494e 4753 222c  ader="SETTINGS",
-00027690: 2069 636f 6e5f 6e61 6d65 3d4b 6579 732e   icon_name=Keys.
-000276a0: 444f 4355 4d45 4e54 4154 494f 4e2e 7661  DOCUMENTATION.va
-000276b0: 6c75 652c 2069 636f 6e5f 6c69 6e6b 3d4c  lue, icon_link=L
-000276c0: 696e 6b73 2e56 4944 454f 5f54 4f4f 4c53  inks.VIDEO_TOOLS
-000276d0: 2e76 616c 7565 290a 2020 2020 2020 2020  .value).        
-000276e0: 7365 6c66 2e66 7073 5f64 726f 7064 6f77  self.fps_dropdow
-000276f0: 6e20 3d20 4472 6f70 446f 776e 4d65 6e75  n = DropDownMenu
-00027700: 2873 6574 7469 6e67 735f 6672 6d2c 2022  (settings_frm, "
-00027710: 4e45 5720 4652 414d 452d 5241 5445 2028  NEW FRAME-RATE (
-00027720: 4650 5329 3a22 2c20 6c69 7374 2872 616e  FPS):", list(ran
-00027730: 6765 2831 2c20 3530 3029 292c 206c 6162  ge(1, 500)), lab
-00027740: 656c 7769 6474 683d 3235 290a 2020 2020  elwidth=25).    
-00027750: 2020 2020 7365 6c66 2e71 7561 6c69 7479      self.quality
-00027760: 5f64 726f 7064 6f77 6e20 3d20 4472 6f70  _dropdown = Drop
-00027770: 446f 776e 4d65 6e75 2873 6574 7469 6e67  DownMenu(setting
-00027780: 735f 6672 6d2c 2022 4f55 5450 5554 2056  s_frm, "OUTPUT V
-00027790: 4944 454f 2051 5541 4c49 5459 2028 2529  IDEO QUALITY (%)
-000277a0: 3a22 2c20 6c69 7374 2872 616e 6765 2831  :", list(range(1
-000277b0: 302c 2031 3130 2c20 3130 2929 2c20 6c61  0, 110, 10)), la
-000277c0: 6265 6c77 6964 7468 3d32 3529 0a0a 2020  belwidth=25)..  
-000277d0: 2020 2020 2020 7365 6c66 2e66 7073 5f64        self.fps_d
-000277e0: 726f 7064 6f77 6e2e 7365 7443 686f 6963  ropdown.setChoic
-000277f0: 6573 2836 3029 0a20 2020 2020 2020 2073  es(60).        s
-00027800: 656c 662e 7175 616c 6974 795f 6472 6f70  elf.quality_drop
-00027810: 646f 776e 2e73 6574 4368 6f69 6365 7328  down.setChoices(
-00027820: 3630 290a 2020 2020 2020 2020 7365 7474  60).        sett
-00027830: 696e 6773 5f66 726d 2e67 7269 6428 726f  ings_frm.grid(ro
-00027840: 773d 302c 2063 6f6c 756d 6e3d 302c 2073  w=0, column=0, s
-00027850: 7469 636b 793d 224e 5722 290a 2020 2020  ticky="NW").    
-00027860: 2020 2020 7365 6c66 2e66 7073 5f64 726f      self.fps_dro
-00027870: 7064 6f77 6e2e 6772 6964 2872 6f77 3d30  pdown.grid(row=0
-00027880: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
-00027890: 6b79 3d22 4e57 2229 0a20 2020 2020 2020  ky="NW").       
-000278a0: 2073 656c 662e 7175 616c 6974 795f 6472   self.quality_dr
-000278b0: 6f70 646f 776e 2e67 7269 6428 726f 773d  opdown.grid(row=
-000278c0: 312c 2063 6f6c 756d 6e3d 302c 2073 7469  1, column=0, sti
-000278d0: 636b 793d 224e 5722 290a 0a20 2020 2020  cky="NW")..     
-000278e0: 2020 2073 696e 676c 655f 7669 6465 6f5f     single_video_
-000278f0: 6672 6d20 3d20 4372 6561 7465 4c61 6265  frm = CreateLabe
-00027900: 6c46 7261 6d65 5769 7468 4963 6f6e 2870  lFrameWithIcon(p
-00027910: 6172 656e 743d 7365 6c66 2e6d 6169 6e5f  arent=self.main_
-00027920: 6672 6d2c 2068 6561 6465 723d 2253 494e  frm, header="SIN
-00027930: 474c 4520 5649 4445 4f20 2d20 5550 2d53  GLE VIDEO - UP-S
-00027940: 414d 504c 4522 2c20 6963 6f6e 5f6e 616d  AMPLE", icon_nam
-00027950: 653d 4b65 7973 2e44 4f43 554d 454e 5441  e=Keys.DOCUMENTA
-00027960: 5449 4f4e 2e76 616c 7565 2c20 6963 6f6e  TION.value, icon
-00027970: 5f6c 696e 6b3d 4c69 6e6b 732e 5649 4445  _link=Links.VIDE
-00027980: 4f5f 544f 4f4c 532e 7661 6c75 6529 0a20  O_TOOLS.value). 
-00027990: 2020 2020 2020 2073 656c 662e 7365 6c65         self.sele
-000279a0: 6374 6564 5f76 6964 656f 203d 2046 696c  cted_video = Fil
-000279b0: 6553 656c 6563 7428 7369 6e67 6c65 5f76  eSelect(single_v
-000279c0: 6964 656f 5f66 726d 2c20 2256 4944 454f  ideo_frm, "VIDEO
-000279d0: 2050 4154 483a 222c 2074 6974 6c65 3d22   PATH:", title="
-000279e0: 5365 6c65 6374 2061 2076 6964 656f 2066  Select a video f
-000279f0: 696c 6522 2c20 6c62 6c77 6964 7468 3d32  ile", lblwidth=2
-00027a00: 352c 2066 696c 655f 7479 7065 733d 5b28  5, file_types=[(
-00027a10: 2256 4944 454f 2046 494c 4522 2c20 4f70  "VIDEO FILE", Op
-00027a20: 7469 6f6e 732e 414c 4c5f 5649 4445 4f5f  tions.ALL_VIDEO_
-00027a30: 464f 524d 4154 5f53 5452 5f4f 5054 494f  FORMAT_STR_OPTIO
-00027a40: 4e53 2e76 616c 7565 295d 290a 2020 2020  NS.value)]).    
-00027a50: 2020 2020 7369 6e67 6c65 5f76 6964 656f      single_video
-00027a60: 5f72 756e 203d 2042 7574 746f 6e28 7369  _run = Button(si
-00027a70: 6e67 6c65 5f76 6964 656f 5f66 726d 2c20  ngle_video_frm, 
-00027a80: 7465 7874 3d22 5255 4e20 2d20 5349 4e47  text="RUN - SING
-00027a90: 4c45 2056 4944 454f 222c 2063 6f6d 6d61  LE VIDEO", comma
-00027aa0: 6e64 3d6c 616d 6264 613a 2073 656c 662e  nd=lambda: self.
-00027ab0: 7275 6e28 6d75 6c74 6970 6c65 3d46 616c  run(multiple=Fal
-00027ac0: 7365 2929 0a0a 2020 2020 2020 2020 7369  se))..        si
-00027ad0: 6e67 6c65 5f76 6964 656f 5f66 726d 2e67  ngle_video_frm.g
-00027ae0: 7269 6428 726f 773d 312c 2063 6f6c 756d  rid(row=1, colum
-00027af0: 6e3d 302c 2073 7469 636b 793d 224e 5722  n=0, sticky="NW"
-00027b00: 290a 2020 2020 2020 2020 7365 6c66 2e73  ).        self.s
-00027b10: 656c 6563 7465 645f 7669 6465 6f2e 6772  elected_video.gr
-00027b20: 6964 2872 6f77 3d30 2c20 636f 6c75 6d6e  id(row=0, column
-00027b30: 3d30 2c20 7374 6963 6b79 3d22 4e57 2229  =0, sticky="NW")
-00027b40: 0a20 2020 2020 2020 2073 696e 676c 655f  .        single_
-00027b50: 7669 6465 6f5f 7275 6e2e 6772 6964 2872  video_run.grid(r
-00027b60: 6f77 3d31 2c20 636f 6c75 6d6e 3d30 2c20  ow=1, column=0, 
-00027b70: 7374 6963 6b79 3d22 4e57 2229 0a0a 2020  sticky="NW")..  
-00027b80: 2020 2020 2020 6d75 6c74 6970 6c65 5f76        multiple_v
-00027b90: 6964 656f 735f 6672 6d20 3d20 4372 6561  ideos_frm = Crea
-00027ba0: 7465 4c61 6265 6c46 7261 6d65 5769 7468  teLabelFrameWith
-00027bb0: 4963 6f6e 2870 6172 656e 743d 7365 6c66  Icon(parent=self
-00027bc0: 2e6d 6169 6e5f 6672 6d2c 2068 6561 6465  .main_frm, heade
-00027bd0: 723d 224d 554c 5449 504c 4520 5649 4445  r="MULTIPLE VIDE
-00027be0: 4f53 202d 2020 5550 2d53 414d 504c 4522  OS -  UP-SAMPLE"
-00027bf0: 2c20 6963 6f6e 5f6e 616d 653d 4b65 7973  , icon_name=Keys
-00027c00: 2e44 4f43 554d 454e 5441 5449 4f4e 2e76  .DOCUMENTATION.v
-00027c10: 616c 7565 2c20 6963 6f6e 5f6c 696e 6b3d  alue, icon_link=
-00027c20: 4c69 6e6b 732e 5649 4445 4f5f 544f 4f4c  Links.VIDEO_TOOL
-00027c30: 532e 7661 6c75 6529 0a20 2020 2020 2020  S.value).       
-00027c40: 2073 656c 662e 7365 6c65 6374 6564 5f76   self.selected_v
-00027c50: 6964 656f 5f64 6972 203d 2046 6f6c 6465  ideo_dir = Folde
-00027c60: 7253 656c 6563 7428 6d75 6c74 6970 6c65  rSelect(multiple
-00027c70: 5f76 6964 656f 735f 6672 6d2c 2022 5649  _videos_frm, "VI
-00027c80: 4445 4f20 4449 5245 4354 4f52 5920 5041  DEO DIRECTORY PA
-00027c90: 5448 3a22 2c20 7469 746c 653d 2253 656c  TH:", title="Sel
-00027ca0: 6563 7420 6120 7669 6465 6f20 6469 7265  ect a video dire
-00027cb0: 6374 6f72 7922 2c20 6c62 6c77 6964 7468  ctory", lblwidth
-00027cc0: 3d32 3529 0a20 2020 2020 2020 206d 756c  =25).        mul
-00027cd0: 7469 706c 655f 7669 6465 6f73 5f72 756e  tiple_videos_run
-00027ce0: 203d 2042 7574 746f 6e28 6d75 6c74 6970   = Button(multip
-00027cf0: 6c65 5f76 6964 656f 735f 6672 6d2c 2074  le_videos_frm, t
-00027d00: 6578 743d 2252 554e 202d 204d 554c 5449  ext="RUN - MULTI
-00027d10: 504c 4520 5649 4445 4f53 222c 2063 6f6d  PLE VIDEOS", com
-00027d20: 6d61 6e64 3d6c 616d 6264 613a 2073 656c  mand=lambda: sel
-00027d30: 662e 7275 6e28 6d75 6c74 6970 6c65 3d54  f.run(multiple=T
-00027d40: 7275 6529 290a 0a20 2020 2020 2020 206d  rue))..        m
-00027d50: 756c 7469 706c 655f 7669 6465 6f73 5f66  ultiple_videos_f
-00027d60: 726d 2e67 7269 6428 726f 773d 322c 2063  rm.grid(row=2, c
-00027d70: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
-00027d80: 224e 5722 290a 2020 2020 2020 2020 7365  "NW").        se
-00027d90: 6c66 2e73 656c 6563 7465 645f 7669 6465  lf.selected_vide
-00027da0: 6f5f 6469 722e 6772 6964 2872 6f77 3d30  o_dir.grid(row=0
-00027db0: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
-00027dc0: 6b79 3d22 4e57 2229 0a20 2020 2020 2020  ky="NW").       
-00027dd0: 206d 756c 7469 706c 655f 7669 6465 6f73   multiple_videos
-00027de0: 5f72 756e 2e67 7269 6428 726f 773d 312c  _run.grid(row=1,
-00027df0: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
-00027e00: 793d 224e 5722 290a 2020 2020 2020 2020  y="NW").        
-00027e10: 7365 6c66 2e6d 6169 6e5f 6672 6d2e 6d61  self.main_frm.ma
-00027e20: 696e 6c6f 6f70 2829 0a0a 2020 2020 6465  inloop()..    de
-00027e30: 6620 7275 6e28 7365 6c66 2c20 6d75 6c74  f run(self, mult
-00027e40: 6970 6c65 3a20 626f 6f6c 293a 0a20 2020  iple: bool):.   
-00027e50: 2020 2020 2074 6172 6765 745f 6670 7320       target_fps 
-00027e60: 3d20 696e 7428 7365 6c66 2e66 7073 5f64  = int(self.fps_d
-00027e70: 726f 7064 6f77 6e2e 6765 7443 686f 6963  ropdown.getChoic
-00027e80: 6573 2829 290a 2020 2020 2020 2020 7461  es()).        ta
-00027e90: 7267 6574 5f71 7561 6c69 7479 203d 2069  rget_quality = i
-00027ea0: 6e74 2873 656c 662e 7175 616c 6974 795f  nt(self.quality_
-00027eb0: 6472 6f70 646f 776e 2e67 6574 4368 6f69  dropdown.getChoi
-00027ec0: 6365 7328 2929 0a20 2020 2020 2020 2069  ces()).        i
-00027ed0: 6620 6e6f 7420 6d75 6c74 6970 6c65 3a0a  f not multiple:.
-00027ee0: 2020 2020 2020 2020 2020 2020 6461 7461              data
-00027ef0: 5f70 6174 6820 3d20 7365 6c66 2e73 656c  _path = self.sel
-00027f00: 6563 7465 645f 7669 6465 6f2e 6669 6c65  ected_video.file
-00027f10: 5f70 6174 680a 2020 2020 2020 2020 2020  _path.          
-00027f20: 2020 6368 6563 6b5f 6669 6c65 5f65 7869    check_file_exi
-00027f30: 7374 5f61 6e64 5f72 6561 6461 626c 6528  st_and_readable(
-00027f40: 6669 6c65 5f70 6174 683d 6461 7461 5f70  file_path=data_p
-00027f50: 6174 6829 0a20 2020 2020 2020 2065 6c73  ath).        els
-00027f60: 653a 0a20 2020 2020 2020 2020 2020 2064  e:.            d
-00027f70: 6174 615f 7061 7468 203d 2073 656c 662e  ata_path = self.
-00027f80: 7365 6c65 6374 6564 5f76 6964 656f 5f64  selected_video_d
-00027f90: 6972 2e66 6f6c 6465 725f 7061 7468 0a20  ir.folder_path. 
-00027fa0: 2020 2020 2020 2020 2020 2063 6865 636b             check
-00027fb0: 5f69 665f 6469 725f 6578 6973 7473 2869  _if_dir_exists(i
-00027fc0: 6e5f 6469 723d 6461 7461 5f70 6174 6829  n_dir=data_path)
-00027fd0: 0a0a 2020 2020 2020 2020 7468 7265 6164  ..        thread
-00027fe0: 696e 672e 5468 7265 6164 2874 6172 6765  ing.Thread(targe
-00027ff0: 743d 7570 7361 6d70 6c65 5f66 7073 2876  t=upsample_fps(v
-00028000: 6964 656f 5f70 6174 683d 6461 7461 5f70  ideo_path=data_p
-00028010: 6174 682c 0a20 2020 2020 2020 2020 2020  ath,.           
-00028020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028040: 2020 6670 733d 7461 7267 6574 5f66 7073    fps=target_fps
-00028050: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00028060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028070: 2020 2020 2020 2020 2020 2020 2020 2071                 q
-00028080: 7561 6c69 7479 3d74 6172 6765 745f 7175  uality=target_qu
-00028090: 616c 6974 7929 292e 7374 6172 7428 290a  ality)).start().
-000280a0: 0a0a 0a63 6c61 7373 2052 6576 6572 7365  ...class Reverse
-000280b0: 5669 6465 6f50 6f70 5570 2850 6f70 5570  VideoPopUp(PopUp
-000280c0: 4d69 7869 6e29 3a0a 2020 2020 6465 6620  Mixin):.    def 
-000280d0: 5f5f 696e 6974 5f5f 2873 656c 6629 3a0a  __init__(self):.
-000280e0: 2020 2020 2020 2020 506f 7055 704d 6978          PopUpMix
-000280f0: 696e 2e5f 5f69 6e69 745f 5f28 7365 6c66  in.__init__(self
-00028100: 2c20 7469 746c 653d 2252 4556 4552 5345  , title="REVERSE
-00028110: 2056 4944 454f 5322 290a 2020 2020 2020   VIDEOS").      
-00028120: 2020 7365 7474 696e 6773 5f66 726d 203d    settings_frm =
-00028130: 2043 7265 6174 654c 6162 656c 4672 616d   CreateLabelFram
-00028140: 6557 6974 6849 636f 6e28 7061 7265 6e74  eWithIcon(parent
-00028150: 3d73 656c 662e 6d61 696e 5f66 726d 2c20  =self.main_frm, 
-00028160: 6865 6164 6572 3d22 5345 5454 494e 4753  header="SETTINGS
-00028170: 222c 2069 636f 6e5f 6e61 6d65 3d4b 6579  ", icon_name=Key
-00028180: 732e 444f 4355 4d45 4e54 4154 494f 4e2e  s.DOCUMENTATION.
-00028190: 7661 6c75 652c 2069 636f 6e5f 6c69 6e6b  value, icon_link
-000281a0: 3d4c 696e 6b73 2e56 4944 454f 5f54 4f4f  =Links.VIDEO_TOO
-000281b0: 4c53 2e76 616c 7565 290a 2020 2020 2020  LS.value).      
-000281c0: 2020 7365 6c66 2e4d 5034 5f43 4f44 4543    self.MP4_CODEC
-000281d0: 5f4c 4b20 3d20 7b27 4845 5643 2028 482e  _LK = {'HEVC (H.
-000281e0: 3236 3529 273a 2027 6c69 6278 3236 3527  265)': 'libx265'
-000281f0: 2c20 2748 2e32 3634 2028 4156 4329 273a  , 'H.264 (AVC)':
-00028200: 2027 6c69 6278 3236 3427 2c20 2756 5039   'libx264', 'VP9
-00028210: 273a 2027 7670 3927 7d0a 2020 2020 2020  ': 'vp9'}.      
-00028220: 2020 7365 6c66 2e71 7561 6c69 7479 5f64    self.quality_d
-00028230: 726f 7064 6f77 6e20 3d20 4472 6f70 446f  ropdown = DropDo
-00028240: 776e 4d65 6e75 2873 6574 7469 6e67 735f  wnMenu(settings_
-00028250: 6672 6d2c 2022 4f55 5450 5554 2056 4944  frm, "OUTPUT VID
-00028260: 454f 2051 5541 4c49 5459 3a22 2c20 6c69  EO QUALITY:", li
-00028270: 7374 2872 616e 6765 2831 302c 2031 3130  st(range(10, 110
-00028280: 2c20 3130 2929 2c20 6c61 6265 6c77 6964  , 10)), labelwid
-00028290: 7468 3d32 3529 0a20 2020 2020 2020 2073  th=25).        s
-000282a0: 656c 662e 7175 616c 6974 795f 6472 6f70  elf.quality_drop
-000282b0: 646f 776e 2e73 6574 4368 6f69 6365 7328  down.setChoices(
-000282c0: 3630 290a 2020 2020 2020 2020 7365 6c66  60).        self
-000282d0: 2e63 6f64 6563 5f64 726f 7064 6f77 6e20  .codec_dropdown 
-000282e0: 3d20 4472 6f70 446f 776e 4d65 6e75 2873  = DropDownMenu(s
-000282f0: 6574 7469 6e67 735f 6672 6d2c 2022 434f  ettings_frm, "CO
-00028300: 4d50 5245 5353 494f 4e20 434f 4445 433a  MPRESSION CODEC:
-00028310: 222c 206c 6973 7428 7365 6c66 2e4d 5034  ", list(self.MP4
-00028320: 5f43 4f44 4543 5f4c 4b2e 6b65 7973 2829  _CODEC_LK.keys()
-00028330: 292c 206c 6162 656c 7769 6474 683d 3235  ), labelwidth=25
-00028340: 290a 2020 2020 2020 2020 7365 6c66 2e63  ).        self.c
-00028350: 6f64 6563 5f64 726f 7064 6f77 6e2e 7365  odec_dropdown.se
-00028360: 7443 686f 6963 6573 2827 4845 5643 2028  tChoices('HEVC (
-00028370: 482e 3236 3529 2729 0a20 2020 2020 2020  H.265)').       
-00028380: 2073 6574 7469 6e67 735f 6672 6d2e 6772   settings_frm.gr
-00028390: 6964 2872 6f77 3d30 2c20 636f 6c75 6d6e  id(row=0, column
-000283a0: 3d30 2c20 7374 6963 6b79 3d4e 5729 0a20  =0, sticky=NW). 
-000283b0: 2020 2020 2020 2073 656c 662e 7175 616c         self.qual
-000283c0: 6974 795f 6472 6f70 646f 776e 2e67 7269  ity_dropdown.gri
-000283d0: 6428 726f 773d 302c 2063 6f6c 756d 6e3d  d(row=0, column=
-000283e0: 302c 2073 7469 636b 793d 4e57 290a 2020  0, sticky=NW).  
-000283f0: 2020 2020 2020 7365 6c66 2e63 6f64 6563        self.codec
-00028400: 5f64 726f 7064 6f77 6e2e 6772 6964 2872  _dropdown.grid(r
-00028410: 6f77 3d31 2c20 636f 6c75 6d6e 3d30 2c20  ow=1, column=0, 
-00028420: 7374 6963 6b79 3d4e 5729 0a0a 2020 2020  sticky=NW)..    
-00028430: 2020 2020 7369 6e67 6c65 5f76 6964 656f      single_video
-00028440: 5f66 726d 203d 2043 7265 6174 654c 6162  _frm = CreateLab
-00028450: 656c 4672 616d 6557 6974 6849 636f 6e28  elFrameWithIcon(
-00028460: 7061 7265 6e74 3d73 656c 662e 6d61 696e  parent=self.main
-00028470: 5f66 726d 2c20 6865 6164 6572 3d22 5349  _frm, header="SI
-00028480: 4e47 4c45 2056 4944 454f 202d 2052 4556  NGLE VIDEO - REV
-00028490: 4552 5345 222c 2069 636f 6e5f 6e61 6d65  ERSE", icon_name
-000284a0: 3d4b 6579 732e 444f 4355 4d45 4e54 4154  =Keys.DOCUMENTAT
-000284b0: 494f 4e2e 7661 6c75 652c 2069 636f 6e5f  ION.value, icon_
-000284c0: 6c69 6e6b 3d4c 696e 6b73 2e56 4944 454f  link=Links.VIDEO
-000284d0: 5f54 4f4f 4c53 2e76 616c 7565 290a 2020  _TOOLS.value).  
-000284e0: 2020 2020 2020 7365 6c66 2e73 656c 6563        self.selec
-000284f0: 7465 645f 7669 6465 6f20 3d20 4669 6c65  ted_video = File
-00028500: 5365 6c65 6374 2873 696e 676c 655f 7669  Select(single_vi
-00028510: 6465 6f5f 6672 6d2c 2022 5649 4445 4f20  deo_frm, "VIDEO 
-00028520: 5041 5448 3a22 2c20 7469 746c 653d 2253  PATH:", title="S
-00028530: 656c 6563 7420 6120 7669 6465 6f20 6669  elect a video fi
-00028540: 6c65 222c 206c 626c 7769 6474 683d 3235  le", lblwidth=25
-00028550: 2c20 6669 6c65 5f74 7970 6573 3d5b 2822  , file_types=[("
-00028560: 5649 4445 4f20 4649 4c45 222c 204f 7074  VIDEO FILE", Opt
-00028570: 696f 6e73 2e41 4c4c 5f56 4944 454f 5f46  ions.ALL_VIDEO_F
-00028580: 4f52 4d41 545f 5354 525f 4f50 5449 4f4e  ORMAT_STR_OPTION
-00028590: 532e 7661 6c75 6529 5d29 0a20 2020 2020  S.value)]).     
-000285a0: 2020 2073 696e 676c 655f 7669 6465 6f5f     single_video_
-000285b0: 7275 6e20 3d20 4275 7474 6f6e 2873 696e  run = Button(sin
-000285c0: 676c 655f 7669 6465 6f5f 6672 6d2c 2074  gle_video_frm, t
-000285d0: 6578 743d 2252 554e 202d 2053 494e 474c  ext="RUN - SINGL
-000285e0: 4520 5649 4445 4f22 2c20 636f 6d6d 616e  E VIDEO", comman
-000285f0: 643d 6c61 6d62 6461 3a20 7365 6c66 2e72  d=lambda: self.r
-00028600: 756e 286d 756c 7469 706c 653d 4661 6c73  un(multiple=Fals
-00028610: 6529 290a 0a20 2020 2020 2020 2073 696e  e))..        sin
-00028620: 676c 655f 7669 6465 6f5f 6672 6d2e 6772  gle_video_frm.gr
-00028630: 6964 2872 6f77 3d31 2c20 636f 6c75 6d6e  id(row=1, column
-00028640: 3d30 2c20 7374 6963 6b79 3d22 4e57 2229  =0, sticky="NW")
-00028650: 0a20 2020 2020 2020 2073 656c 662e 7365  .        self.se
-00028660: 6c65 6374 6564 5f76 6964 656f 2e67 7269  lected_video.gri
-00028670: 6428 726f 773d 302c 2063 6f6c 756d 6e3d  d(row=0, column=
-00028680: 302c 2073 7469 636b 793d 224e 5722 290a  0, sticky="NW").
-00028690: 2020 2020 2020 2020 7369 6e67 6c65 5f76          single_v
-000286a0: 6964 656f 5f72 756e 2e67 7269 6428 726f  ideo_run.grid(ro
-000286b0: 773d 312c 2063 6f6c 756d 6e3d 302c 2073  w=1, column=0, s
-000286c0: 7469 636b 793d 224e 5722 290a 0a20 2020  ticky="NW")..   
-000286d0: 2020 2020 206d 756c 7469 706c 655f 7669       multiple_vi
-000286e0: 6465 6f73 5f66 726d 203d 2043 7265 6174  deos_frm = Creat
-000286f0: 654c 6162 656c 4672 616d 6557 6974 6849  eLabelFrameWithI
-00028700: 636f 6e28 7061 7265 6e74 3d73 656c 662e  con(parent=self.
-00028710: 6d61 696e 5f66 726d 2c20 6865 6164 6572  main_frm, header
-00028720: 3d22 4d55 4c54 4950 4c45 2056 4944 454f  ="MULTIPLE VIDEO
-00028730: 5320 2d20 5245 5645 5253 4522 2c20 6963  S - REVERSE", ic
-00028740: 6f6e 5f6e 616d 653d 4b65 7973 2e44 4f43  on_name=Keys.DOC
-00028750: 554d 454e 5441 5449 4f4e 2e76 616c 7565  UMENTATION.value
-00028760: 2c20 6963 6f6e 5f6c 696e 6b3d 4c69 6e6b  , icon_link=Link
-00028770: 732e 5649 4445 4f5f 544f 4f4c 532e 7661  s.VIDEO_TOOLS.va
-00028780: 6c75 6529 0a20 2020 2020 2020 2073 656c  lue).        sel
-00028790: 662e 7365 6c65 6374 6564 5f76 6964 656f  f.selected_video
-000287a0: 5f64 6972 203d 2046 6f6c 6465 7253 656c  _dir = FolderSel
-000287b0: 6563 7428 6d75 6c74 6970 6c65 5f76 6964  ect(multiple_vid
-000287c0: 656f 735f 6672 6d2c 2022 5649 4445 4f20  eos_frm, "VIDEO 
-000287d0: 4449 5245 4354 4f52 5920 5041 5448 3a22  DIRECTORY PATH:"
-000287e0: 2c20 7469 746c 653d 2253 656c 6563 7420  , title="Select 
-000287f0: 6120 7669 6465 6f20 6469 7265 6374 6f72  a video director
-00028800: 7922 2c20 6c62 6c77 6964 7468 3d32 3529  y", lblwidth=25)
-00028810: 0a20 2020 2020 2020 206d 756c 7469 706c  .        multipl
-00028820: 655f 7669 6465 6f73 5f72 756e 203d 2042  e_videos_run = B
-00028830: 7574 746f 6e28 6d75 6c74 6970 6c65 5f76  utton(multiple_v
-00028840: 6964 656f 735f 6672 6d2c 2074 6578 743d  ideos_frm, text=
-00028850: 2252 554e 202d 204d 554c 5449 504c 4520  "RUN - MULTIPLE 
-00028860: 5649 4445 4f53 222c 2063 6f6d 6d61 6e64  VIDEOS", command
-00028870: 3d6c 616d 6264 613a 2073 656c 662e 7275  =lambda: self.ru
-00028880: 6e28 6d75 6c74 6970 6c65 3d54 7275 6529  n(multiple=True)
-00028890: 290a 0a20 2020 2020 2020 206d 756c 7469  )..        multi
-000288a0: 706c 655f 7669 6465 6f73 5f66 726d 2e67  ple_videos_frm.g
-000288b0: 7269 6428 726f 773d 322c 2063 6f6c 756d  rid(row=2, colum
-000288c0: 6e3d 302c 2073 7469 636b 793d 224e 5722  n=0, sticky="NW"
-000288d0: 290a 2020 2020 2020 2020 7365 6c66 2e73  ).        self.s
-000288e0: 656c 6563 7465 645f 7669 6465 6f5f 6469  elected_video_di
-000288f0: 722e 6772 6964 2872 6f77 3d30 2c20 636f  r.grid(row=0, co
-00028900: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d22  lumn=0, sticky="
-00028910: 4e57 2229 0a20 2020 2020 2020 206d 756c  NW").        mul
-00028920: 7469 706c 655f 7669 6465 6f73 5f72 756e  tiple_videos_run
-00028930: 2e67 7269 6428 726f 773d 312c 2063 6f6c  .grid(row=1, col
-00028940: 756d 6e3d 302c 2073 7469 636b 793d 224e  umn=0, sticky="N
-00028950: 5722 290a 2020 2020 2020 2020 2373 656c  W").        #sel
-00028960: 662e 6d61 696e 5f66 726d 2e6d 6169 6e6c  f.main_frm.mainl
-00028970: 6f6f 7028 290a 0a20 2020 2064 6566 2072  oop()..    def r
-00028980: 756e 2873 656c 662c 206d 756c 7469 706c  un(self, multipl
-00028990: 653a 2062 6f6f 6c29 3a0a 2020 2020 2020  e: bool):.      
-000289a0: 2020 7461 7267 6574 5f71 7561 6c69 7479    target_quality
-000289b0: 203d 2069 6e74 2873 656c 662e 7175 616c   = int(self.qual
-000289c0: 6974 795f 6472 6f70 646f 776e 2e67 6574  ity_dropdown.get
-000289d0: 4368 6f69 6365 7328 2929 0a20 2020 2020  Choices()).     
-000289e0: 2020 2063 6f64 6563 203d 2073 656c 662e     codec = self.
-000289f0: 4d50 345f 434f 4445 435f 4c4b 5b73 656c  MP4_CODEC_LK[sel
-00028a00: 662e 636f 6465 635f 6472 6f70 646f 776e  f.codec_dropdown
-00028a10: 2e67 6574 4368 6f69 6365 7328 295d 0a20  .getChoices()]. 
-00028a20: 2020 2020 2020 2069 6620 6e6f 7420 6d75         if not mu
-00028a30: 6c74 6970 6c65 3a0a 2020 2020 2020 2020  ltiple:.        
-00028a40: 2020 2020 6461 7461 5f70 6174 6820 3d20      data_path = 
-00028a50: 7365 6c66 2e73 656c 6563 7465 645f 7669  self.selected_vi
-00028a60: 6465 6f2e 6669 6c65 5f70 6174 680a 2020  deo.file_path.  
-00028a70: 2020 2020 2020 2020 2020 6368 6563 6b5f            check_
-00028a80: 6669 6c65 5f65 7869 7374 5f61 6e64 5f72  file_exist_and_r
-00028a90: 6561 6461 626c 6528 6669 6c65 5f70 6174  eadable(file_pat
-00028aa0: 683d 6461 7461 5f70 6174 6829 0a20 2020  h=data_path).   
-00028ab0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00028ac0: 2020 2020 2020 2064 6174 615f 7061 7468         data_path
-00028ad0: 203d 2073 656c 662e 7365 6c65 6374 6564   = self.selected
-00028ae0: 5f76 6964 656f 5f64 6972 2e66 6f6c 6465  _video_dir.folde
-00028af0: 725f 7061 7468 0a20 2020 2020 2020 2020  r_path.         
-00028b00: 2020 2063 6865 636b 5f69 665f 6469 725f     check_if_dir_
-00028b10: 6578 6973 7473 2869 6e5f 6469 723d 6461  exists(in_dir=da
-00028b20: 7461 5f70 6174 6829 0a0a 2020 2020 2020  ta_path)..      
-00028b30: 2020 7265 7665 7273 655f 7669 6465 6f73    reverse_videos
-00028b40: 2870 6174 683d 6461 7461 5f70 6174 682c  (path=data_path,
-00028b50: 2071 7561 6c69 7479 3d74 6172 6765 745f   quality=target_
-00028b60: 7175 616c 6974 792c 2063 6f64 6563 3d63  quality, codec=c
-00028b70: 6f64 6563 290a 0a63 6c61 7373 2043 6f6e  odec)..class Con
-00028b80: 7665 7274 3242 6c61 636b 5768 6974 6550  vert2BlackWhiteP
-00028b90: 6f70 5570 2850 6f70 5570 4d69 7869 6e29  opUp(PopUpMixin)
-00028ba0: 3a0a 2020 2020 6465 6620 5f5f 696e 6974  :.    def __init
-00028bb0: 5f5f 2873 656c 6629 3a0a 2020 2020 2020  __(self):.      
-00028bc0: 2020 506f 7055 704d 6978 696e 2e5f 5f69    PopUpMixin.__i
-00028bd0: 6e69 745f 5f28 7365 6c66 2c20 7469 746c  nit__(self, titl
-00028be0: 653d 2243 4f4e 5645 5254 2056 4944 454f  e="CONVERT VIDEO
-00028bf0: 5320 544f 2042 4c41 434b 2041 4e44 2057  S TO BLACK AND W
-00028c00: 4849 5445 2028 4e4f 5445 3a20 4e4f 5420  HITE (NOTE: NOT 
-00028c10: 4752 4159 5343 414c 4529 2229 0a20 2020  GRAYSCALE)").   
-00028c20: 2020 2020 2073 6574 7469 6e67 735f 6672       settings_fr
-00028c30: 6d20 3d20 4372 6561 7465 4c61 6265 6c46  m = CreateLabelF
-00028c40: 7261 6d65 5769 7468 4963 6f6e 2870 6172  rameWithIcon(par
-00028c50: 656e 743d 7365 6c66 2e6d 6169 6e5f 6672  ent=self.main_fr
-00028c60: 6d2c 2068 6561 6465 723d 2253 4554 5449  m, header="SETTI
-00028c70: 4e47 5322 2c20 6963 6f6e 5f6e 616d 653d  NGS", icon_name=
-00028c80: 4b65 7973 2e44 4f43 554d 454e 5441 5449  Keys.DOCUMENTATI
-00028c90: 4f4e 2e76 616c 7565 2c20 6963 6f6e 5f6c  ON.value, icon_l
-00028ca0: 696e 6b3d 4c69 6e6b 732e 5649 4445 4f5f  ink=Links.VIDEO_
-00028cb0: 544f 4f4c 532e 7661 6c75 6529 0a20 2020  TOOLS.value).   
-00028cc0: 2020 2020 2074 6872 6573 686f 6c64 203d       threshold =
-00028cd0: 205b 726f 756e 6428 782c 2032 2920 666f   [round(x, 2) fo
-00028ce0: 7220 7820 696e 206c 6973 7428 6e70 2e61  r x in list(np.a
-00028cf0: 7261 6e67 6528 302e 3031 2c20 312e 3031  range(0.01, 1.01
-00028d00: 2c20 302e 3031 2929 5d0a 2020 2020 2020  , 0.01))].      
-00028d10: 2020 7365 6c66 2e74 6872 6573 686f 6c64    self.threshold
-00028d20: 5f64 726f 7064 6f77 6e20 3d20 4472 6f70  _dropdown = Drop
-00028d30: 446f 776e 4d65 6e75 2873 6574 7469 6e67  DownMenu(setting
-00028d40: 735f 6672 6d2c 2022 424c 4143 4b20 5448  s_frm, "BLACK TH
-00028d50: 5245 5348 4f4c 443a 222c 2074 6872 6573  RESHOLD:", thres
-00028d60: 686f 6c64 2c20 6c61 6265 6c77 6964 7468  hold, labelwidth
-00028d70: 3d32 3529 0a20 2020 2020 2020 2073 656c  =25).        sel
-00028d80: 662e 7468 7265 7368 6f6c 645f 6472 6f70  f.threshold_drop
-00028d90: 646f 776e 2e73 6574 4368 6f69 6365 7328  down.setChoices(
-00028da0: 302e 3529 0a0a 2020 2020 2020 2020 7365  0.5)..        se
-00028db0: 7474 696e 6773 5f66 726d 2e67 7269 6428  ttings_frm.grid(
-00028dc0: 726f 773d 302c 2063 6f6c 756d 6e3d 302c  row=0, column=0,
-00028dd0: 2073 7469 636b 793d 4e57 290a 2020 2020   sticky=NW).    
-00028de0: 2020 2020 7365 6c66 2e74 6872 6573 686f      self.thresho
-00028df0: 6c64 5f64 726f 7064 6f77 6e2e 6772 6964  ld_dropdown.grid
-00028e00: 2872 6f77 3d30 2c20 636f 6c75 6d6e 3d30  (row=0, column=0
-00028e10: 2c20 7374 6963 6b79 3d4e 5729 0a0a 2020  , sticky=NW)..  
-00028e20: 2020 2020 2020 7369 6e67 6c65 5f76 6964        single_vid
-00028e30: 656f 5f66 726d 203d 2043 7265 6174 654c  eo_frm = CreateL
-00028e40: 6162 656c 4672 616d 6557 6974 6849 636f  abelFrameWithIco
-00028e50: 6e28 7061 7265 6e74 3d73 656c 662e 6d61  n(parent=self.ma
-00028e60: 696e 5f66 726d 2c20 6865 6164 6572 3d22  in_frm, header="
-00028e70: 5349 4e47 4c45 2056 4944 454f 202d 2043  SINGLE VIDEO - C
-00028e80: 4f4e 5645 5254 2054 4f20 424c 4143 4b20  ONVERT TO BLACK 
-00028e90: 2620 5748 4954 4522 2c20 6963 6f6e 5f6e  & WHITE", icon_n
-00028ea0: 616d 653d 4b65 7973 2e44 4f43 554d 454e  ame=Keys.DOCUMEN
-00028eb0: 5441 5449 4f4e 2e76 616c 7565 2c20 6963  TATION.value, ic
-00028ec0: 6f6e 5f6c 696e 6b3d 4c69 6e6b 732e 5649  on_link=Links.VI
-00028ed0: 4445 4f5f 544f 4f4c 532e 7661 6c75 6529  DEO_TOOLS.value)
-00028ee0: 0a20 2020 2020 2020 2073 656c 662e 7365  .        self.se
-00028ef0: 6c65 6374 6564 5f76 6964 656f 203d 2046  lected_video = F
-00028f00: 696c 6553 656c 6563 7428 7369 6e67 6c65  ileSelect(single
-00028f10: 5f76 6964 656f 5f66 726d 2c20 2256 4944  _video_frm, "VID
-00028f20: 454f 2050 4154 483a 222c 2074 6974 6c65  EO PATH:", title
-00028f30: 3d22 5365 6c65 6374 2061 2076 6964 656f  ="Select a video
-00028f40: 2066 696c 6522 2c20 6c62 6c77 6964 7468   file", lblwidth
-00028f50: 3d32 352c 2066 696c 655f 7479 7065 733d  =25, file_types=
-00028f60: 5b28 2256 4944 454f 2046 494c 4522 2c20  [("VIDEO FILE", 
-00028f70: 4f70 7469 6f6e 732e 414c 4c5f 5649 4445  Options.ALL_VIDE
-00028f80: 4f5f 464f 524d 4154 5f53 5452 5f4f 5054  O_FORMAT_STR_OPT
-00028f90: 494f 4e53 2e76 616c 7565 295d 290a 2020  IONS.value)]).  
-00028fa0: 2020 2020 2020 7369 6e67 6c65 5f76 6964        single_vid
-00028fb0: 656f 5f72 756e 203d 2042 7574 746f 6e28  eo_run = Button(
-00028fc0: 7369 6e67 6c65 5f76 6964 656f 5f66 726d  single_video_frm
-00028fd0: 2c20 7465 7874 3d22 5255 4e20 2d20 5349  , text="RUN - SI
-00028fe0: 4e47 4c45 2056 4944 454f 222c 2063 6f6d  NGLE VIDEO", com
-00028ff0: 6d61 6e64 3d6c 616d 6264 613a 2073 656c  mand=lambda: sel
-00029000: 662e 7275 6e28 6d75 6c74 6970 6c65 3d46  f.run(multiple=F
-00029010: 616c 7365 2929 0a0a 2020 2020 2020 2020  alse))..        
-00029020: 7369 6e67 6c65 5f76 6964 656f 5f66 726d  single_video_frm
-00029030: 2e67 7269 6428 726f 773d 312c 2063 6f6c  .grid(row=1, col
-00029040: 756d 6e3d 302c 2073 7469 636b 793d 224e  umn=0, sticky="N
-00029050: 5722 290a 2020 2020 2020 2020 7365 6c66  W").        self
-00029060: 2e73 656c 6563 7465 645f 7669 6465 6f2e  .selected_video.
-00029070: 6772 6964 2872 6f77 3d30 2c20 636f 6c75  grid(row=0, colu
-00029080: 6d6e 3d30 2c20 7374 6963 6b79 3d22 4e57  mn=0, sticky="NW
-00029090: 2229 0a20 2020 2020 2020 2073 696e 676c  ").        singl
-000290a0: 655f 7669 6465 6f5f 7275 6e2e 6772 6964  e_video_run.grid
-000290b0: 2872 6f77 3d31 2c20 636f 6c75 6d6e 3d30  (row=1, column=0
-000290c0: 2c20 7374 6963 6b79 3d22 4e57 2229 0a0a  , sticky="NW")..
-000290d0: 2020 2020 2020 2020 6d75 6c74 6970 6c65          multiple
-000290e0: 5f76 6964 656f 735f 6672 6d20 3d20 4372  _videos_frm = Cr
-000290f0: 6561 7465 4c61 6265 6c46 7261 6d65 5769  eateLabelFrameWi
-00029100: 7468 4963 6f6e 2870 6172 656e 743d 7365  thIcon(parent=se
-00029110: 6c66 2e6d 6169 6e5f 6672 6d2c 2068 6561  lf.main_frm, hea
-00029120: 6465 723d 224d 554c 5449 504c 4520 5649  der="MULTIPLE VI
-00029130: 4445 4f53 202d 2043 4f4e 5645 5254 2054  DEOS - CONVERT T
-00029140: 4f20 424c 4143 4b20 2620 5748 4954 4522  O BLACK & WHITE"
-00029150: 2c20 6963 6f6e 5f6e 616d 653d 4b65 7973  , icon_name=Keys
-00029160: 2e44 4f43 554d 454e 5441 5449 4f4e 2e76  .DOCUMENTATION.v
-00029170: 616c 7565 2c20 6963 6f6e 5f6c 696e 6b3d  alue, icon_link=
-00029180: 4c69 6e6b 732e 5649 4445 4f5f 544f 4f4c  Links.VIDEO_TOOL
-00029190: 532e 7661 6c75 6529 0a20 2020 2020 2020  S.value).       
-000291a0: 2073 656c 662e 7365 6c65 6374 6564 5f76   self.selected_v
-000291b0: 6964 656f 5f64 6972 203d 2046 6f6c 6465  ideo_dir = Folde
-000291c0: 7253 656c 6563 7428 6d75 6c74 6970 6c65  rSelect(multiple
-000291d0: 5f76 6964 656f 735f 6672 6d2c 2022 5649  _videos_frm, "VI
-000291e0: 4445 4f20 4449 5245 4354 4f52 5920 5041  DEO DIRECTORY PA
-000291f0: 5448 3a22 2c20 7469 746c 653d 2253 656c  TH:", title="Sel
-00029200: 6563 7420 6120 7669 6465 6f20 6469 7265  ect a video dire
-00029210: 6374 6f72 7922 2c20 6c62 6c77 6964 7468  ctory", lblwidth
-00029220: 3d32 3529 0a20 2020 2020 2020 206d 756c  =25).        mul
-00029230: 7469 706c 655f 7669 6465 6f73 5f72 756e  tiple_videos_run
-00029240: 203d 2042 7574 746f 6e28 6d75 6c74 6970   = Button(multip
-00029250: 6c65 5f76 6964 656f 735f 6672 6d2c 2074  le_videos_frm, t
-00029260: 6578 743d 2252 554e 202d 204d 554c 5449  ext="RUN - MULTI
-00029270: 504c 4520 5649 4445 4f53 222c 2063 6f6d  PLE VIDEOS", com
-00029280: 6d61 6e64 3d6c 616d 6264 613a 2073 656c  mand=lambda: sel
-00029290: 662e 7275 6e28 6d75 6c74 6970 6c65 3d54  f.run(multiple=T
-000292a0: 7275 6529 290a 0a20 2020 2020 2020 206d  rue))..        m
-000292b0: 756c 7469 706c 655f 7669 6465 6f73 5f66  ultiple_videos_f
-000292c0: 726d 2e67 7269 6428 726f 773d 322c 2063  rm.grid(row=2, c
-000292d0: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
-000292e0: 224e 5722 290a 2020 2020 2020 2020 7365  "NW").        se
-000292f0: 6c66 2e73 656c 6563 7465 645f 7669 6465  lf.selected_vide
-00029300: 6f5f 6469 722e 6772 6964 2872 6f77 3d30  o_dir.grid(row=0
-00029310: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
-00029320: 6b79 3d22 4e57 2229 0a20 2020 2020 2020  ky="NW").       
-00029330: 206d 756c 7469 706c 655f 7669 6465 6f73   multiple_videos
-00029340: 5f72 756e 2e67 7269 6428 726f 773d 312c  _run.grid(row=1,
-00029350: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
-00029360: 793d 224e 5722 290a 2020 2020 2020 2020  y="NW").        
-00029370: 7365 6c66 2e6d 6169 6e5f 6672 6d2e 6d61  self.main_frm.ma
-00029380: 696e 6c6f 6f70 2829 0a0a 2020 2020 6465  inloop()..    de
-00029390: 6620 7275 6e28 7365 6c66 2c20 6d75 6c74  f run(self, mult
-000293a0: 6970 6c65 3a20 626f 6f6c 293a 0a20 2020  iple: bool):.   
-000293b0: 2020 2020 2074 6872 6573 686f 6c64 203d       threshold =
-000293c0: 2066 6c6f 6174 2873 656c 662e 7468 7265   float(self.thre
-000293d0: 7368 6f6c 645f 6472 6f70 646f 776e 2e67  shold_dropdown.g
-000293e0: 6574 4368 6f69 6365 7328 2929 0a20 2020  etChoices()).   
-000293f0: 2020 2020 2069 6620 6e6f 7420 6d75 6c74       if not mult
-00029400: 6970 6c65 3a0a 2020 2020 2020 2020 2020  iple:.          
-00029410: 2020 6461 7461 5f70 6174 6820 3d20 7365    data_path = se
-00029420: 6c66 2e73 656c 6563 7465 645f 7669 6465  lf.selected_vide
-00029430: 6f2e 6669 6c65 5f70 6174 680a 2020 2020  o.file_path.    
-00029440: 2020 2020 2020 2020 6368 6563 6b5f 6669          check_fi
-00029450: 6c65 5f65 7869 7374 5f61 6e64 5f72 6561  le_exist_and_rea
-00029460: 6461 626c 6528 6669 6c65 5f70 6174 683d  dable(file_path=
-00029470: 6461 7461 5f70 6174 6829 0a20 2020 2020  data_path).     
-00029480: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00029490: 2020 2020 2064 6174 615f 7061 7468 203d       data_path =
-000294a0: 2073 656c 662e 7365 6c65 6374 6564 5f76   self.selected_v
-000294b0: 6964 656f 5f64 6972 2e66 6f6c 6465 725f  ideo_dir.folder_
-000294c0: 7061 7468 0a20 2020 2020 2020 2020 2020  path.           
-000294d0: 2063 6865 636b 5f69 665f 6469 725f 6578   check_if_dir_ex
-000294e0: 6973 7473 2869 6e5f 6469 723d 6461 7461  ists(in_dir=data
-000294f0: 5f70 6174 6829 0a0a 2020 2020 2020 2020  _path)..        
-00029500: 7468 7265 6164 696e 672e 5468 7265 6164  threading.Thread
-00029510: 2874 6172 6765 743d 7669 6465 6f5f 746f  (target=video_to
-00029520: 5f62 7728 7669 6465 6f5f 7061 7468 3d64  _bw(video_path=d
-00029530: 6174 615f 7061 7468 2c0a 2020 2020 2020  ata_path,.      
-00029540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029560: 2020 2020 2020 7468 7265 7368 6f6c 643d        threshold=
-00029570: 7468 7265 7368 6f6c 6429 292e 7374 6172  threshold)).star
-00029580: 7428 290a 0a0a 636c 6173 7320 4372 6561  t()...class Crea
-00029590: 7465 4176 6572 6167 6546 7261 6d65 506f  teAverageFramePo
-000295a0: 7055 7028 506f 7055 704d 6978 696e 293a  pUp(PopUpMixin):
-000295b0: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
-000295c0: 5f28 7365 6c66 293a 0a20 2020 2020 2020  _(self):.       
-000295d0: 2050 6f70 5570 4d69 7869 6e2e 5f5f 696e   PopUpMixin.__in
-000295e0: 6974 5f5f 2873 656c 662c 2074 6974 6c65  it__(self, title
-000295f0: 3d22 4352 4541 5445 2041 5645 5241 4745  ="CREATE AVERAGE
-00029600: 2056 4944 454f 2046 5241 4d45 2229 0a20   VIDEO FRAME"). 
-00029610: 2020 2020 2020 2073 6574 7469 6e67 735f         settings_
-00029620: 6672 6d20 3d20 4372 6561 7465 4c61 6265  frm = CreateLabe
-00029630: 6c46 7261 6d65 5769 7468 4963 6f6e 2870  lFrameWithIcon(p
-00029640: 6172 656e 743d 7365 6c66 2e6d 6169 6e5f  arent=self.main_
-00029650: 6672 6d2c 2068 6561 6465 723d 2253 4554  frm, header="SET
-00029660: 5449 4e47 5322 2c20 6963 6f6e 5f6e 616d  TINGS", icon_nam
-00029670: 653d 4b65 7973 2e44 4f43 554d 454e 5441  e=Keys.DOCUMENTA
-00029680: 5449 4f4e 2e76 616c 7565 2c20 6963 6f6e  TION.value, icon
-00029690: 5f6c 696e 6b3d 4c69 6e6b 732e 5649 4445  _link=Links.VIDE
-000296a0: 4f5f 544f 4f4c 532e 7661 6c75 6529 0a20  O_TOOLS.value). 
-000296b0: 2020 2020 2020 2073 656c 662e 7361 7665         self.save
-000296c0: 5f64 6972 203d 2046 6f6c 6465 7253 656c  _dir = FolderSel
-000296d0: 6563 7428 7365 7474 696e 6773 5f66 726d  ect(settings_frm
-000296e0: 2c20 2241 5645 5241 4745 2046 5241 4d45  , "AVERAGE FRAME
-000296f0: 2053 4156 4520 4449 5245 4354 4f52 593a   SAVE DIRECTORY:
-00029700: 222c 2074 6974 6c65 3d22 5365 6c65 6374  ", title="Select
-00029710: 2061 2076 6964 656f 2064 6972 6563 746f   a video directo
-00029720: 7279 222c 206c 626c 7769 6474 683d 3235  ry", lblwidth=25
-00029730: 290a 2020 2020 2020 2020 7365 6c66 2e73  ).        self.s
-00029740: 6563 7469 6f6e 5f73 7461 7274 5f74 696d  ection_start_tim
-00029750: 655f 6562 203d 2045 6e74 7279 5f42 6f78  e_eb = Entry_Box
-00029760: 2873 6574 7469 6e67 735f 6672 6d2c 2022  (settings_frm, "
-00029770: 5341 4d50 4c45 2053 5441 5254 2054 494d  SAMPLE START TIM
-00029780: 453a 222c 2022 3235 2229 0a20 2020 2020  E:", "25").     
-00029790: 2020 2073 656c 662e 7365 6374 696f 6e5f     self.section_
-000297a0: 656e 645f 7469 6d65 5f65 6220 3d20 456e  end_time_eb = En
-000297b0: 7472 795f 426f 7828 7365 7474 696e 6773  try_Box(settings
-000297c0: 5f66 726d 2c20 2253 414d 504c 4520 454e  _frm, "SAMPLE EN
-000297d0: 4420 5449 4d45 3a22 2c20 2232 3522 290a  D TIME:", "25").
-000297e0: 2020 2020 2020 2020 7365 6c66 2e73 6563          self.sec
-000297f0: 7469 6f6e 5f73 7461 7274 5f74 696d 655f  tion_start_time_
-00029800: 6562 2e65 6e74 7279 5f73 6574 2827 3030  eb.entry_set('00
-00029810: 3a30 303a 3030 2729 0a20 2020 2020 2020  :00:00').       
-00029820: 2073 656c 662e 7365 6374 696f 6e5f 656e   self.section_en
-00029830: 645f 7469 6d65 5f65 622e 656e 7472 795f  d_time_eb.entry_
-00029840: 7365 7428 2730 303a 3030 3a30 3027 290a  set('00:00:00').
-00029850: 0a20 2020 2020 2020 2073 6574 7469 6e67  .        setting
-00029860: 735f 6672 6d2e 6772 6964 2872 6f77 3d30  s_frm.grid(row=0
-00029870: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
-00029880: 6b79 3d4e 572c 2070 6164 793d 3130 290a  ky=NW, pady=10).
-00029890: 2020 2020 2020 2020 7365 6c66 2e73 6176          self.sav
-000298a0: 655f 6469 722e 6772 6964 2872 6f77 3d30  e_dir.grid(row=0
-000298b0: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
-000298c0: 6b79 3d4e 5729 0a20 2020 2020 2020 2073  ky=NW).        s
-000298d0: 656c 662e 7365 6374 696f 6e5f 7374 6172  elf.section_star
-000298e0: 745f 7469 6d65 5f65 622e 6772 6964 2872  t_time_eb.grid(r
-000298f0: 6f77 3d31 2c20 636f 6c75 6d6e 3d30 2c20  ow=1, column=0, 
-00029900: 7374 6963 6b79 3d4e 5729 0a20 2020 2020  sticky=NW).     
-00029910: 2020 2073 656c 662e 7365 6374 696f 6e5f     self.section_
-00029920: 656e 645f 7469 6d65 5f65 622e 6772 6964  end_time_eb.grid
-00029930: 2872 6f77 3d32 2c20 636f 6c75 6d6e 3d30  (row=2, column=0
-00029940: 2c20 7374 6963 6b79 3d4e 5729 0a0a 2020  , sticky=NW)..  
-00029950: 2020 2020 2020 7369 6e67 6c65 5f76 6964        single_vid
-00029960: 656f 5f66 726d 203d 2043 7265 6174 654c  eo_frm = CreateL
-00029970: 6162 656c 4672 616d 6557 6974 6849 636f  abelFrameWithIco
-00029980: 6e28 7061 7265 6e74 3d73 656c 662e 6d61  n(parent=self.ma
-00029990: 696e 5f66 726d 2c20 6865 6164 6572 3d22  in_frm, header="
-000299a0: 5349 4e47 4c45 2056 4944 454f 202d 2043  SINGLE VIDEO - C
-000299b0: 5245 4154 4520 4156 4552 4147 4520 4652  REATE AVERAGE FR
-000299c0: 414d 4522 2c20 6963 6f6e 5f6e 616d 653d  AME", icon_name=
-000299d0: 4b65 7973 2e44 4f43 554d 454e 5441 5449  Keys.DOCUMENTATI
-000299e0: 4f4e 2e76 616c 7565 2c20 6963 6f6e 5f6c  ON.value, icon_l
-000299f0: 696e 6b3d 4c69 6e6b 732e 5649 4445 4f5f  ink=Links.VIDEO_
-00029a00: 544f 4f4c 532e 7661 6c75 6529 0a20 2020  TOOLS.value).   
-00029a10: 2020 2020 2073 656c 662e 7365 6c65 6374       self.select
-00029a20: 6564 5f76 6964 656f 203d 2046 696c 6553  ed_video = FileS
-00029a30: 656c 6563 7428 7369 6e67 6c65 5f76 6964  elect(single_vid
-00029a40: 656f 5f66 726d 2c20 2256 4944 454f 2050  eo_frm, "VIDEO P
-00029a50: 4154 483a 222c 2074 6974 6c65 3d22 5365  ATH:", title="Se
-00029a60: 6c65 6374 2061 2076 6964 656f 2066 696c  lect a video fil
-00029a70: 6522 2c20 6c62 6c77 6964 7468 3d32 352c  e", lblwidth=25,
-00029a80: 2066 696c 655f 7479 7065 733d 5b28 2256   file_types=[("V
-00029a90: 4944 454f 2046 494c 4522 2c20 4f70 7469  IDEO FILE", Opti
-00029aa0: 6f6e 732e 414c 4c5f 5649 4445 4f5f 464f  ons.ALL_VIDEO_FO
-00029ab0: 524d 4154 5f53 5452 5f4f 5054 494f 4e53  RMAT_STR_OPTIONS
-00029ac0: 2e76 616c 7565 295d 290a 2020 2020 2020  .value)]).      
-00029ad0: 2020 7369 6e67 6c65 5f76 6964 656f 5f72    single_video_r
-00029ae0: 756e 203d 2042 7574 746f 6e28 7369 6e67  un = Button(sing
-00029af0: 6c65 5f76 6964 656f 5f66 726d 2c20 7465  le_video_frm, te
-00029b00: 7874 3d22 5255 4e20 2d20 5349 4e47 4c45  xt="RUN - SINGLE
-00029b10: 2056 4944 454f 222c 2063 6f6d 6d61 6e64   VIDEO", command
-00029b20: 3d6c 616d 6264 613a 2073 656c 662e 7275  =lambda: self.ru
-00029b30: 6e28 6d75 6c74 6970 6c65 3d46 616c 7365  n(multiple=False
-00029b40: 2929 0a0a 2020 2020 2020 2020 7369 6e67  ))..        sing
-00029b50: 6c65 5f76 6964 656f 5f66 726d 2e67 7269  le_video_frm.gri
-00029b60: 6428 726f 773d 312c 2063 6f6c 756d 6e3d  d(row=1, column=
-00029b70: 302c 2073 7469 636b 793d 224e 5722 290a  0, sticky="NW").
-00029b80: 2020 2020 2020 2020 7365 6c66 2e73 656c          self.sel
-00029b90: 6563 7465 645f 7669 6465 6f2e 6772 6964  ected_video.grid
-00029ba0: 2872 6f77 3d30 2c20 636f 6c75 6d6e 3d30  (row=0, column=0
-00029bb0: 2c20 7374 6963 6b79 3d22 4e57 2229 0a20  , sticky="NW"). 
-00029bc0: 2020 2020 2020 2073 696e 676c 655f 7669         single_vi
-00029bd0: 6465 6f5f 7275 6e2e 6772 6964 2872 6f77  deo_run.grid(row
-00029be0: 3d31 2c20 636f 6c75 6d6e 3d30 2c20 7374  =1, column=0, st
-00029bf0: 6963 6b79 3d22 4e57 2229 0a0a 2020 2020  icky="NW")..    
-00029c00: 2020 2020 6d75 6c74 6970 6c65 5f76 6964      multiple_vid
-00029c10: 656f 735f 6672 6d20 3d20 4372 6561 7465  eos_frm = Create
-00029c20: 4c61 6265 6c46 7261 6d65 5769 7468 4963  LabelFrameWithIc
-00029c30: 6f6e 2870 6172 656e 743d 7365 6c66 2e6d  on(parent=self.m
-00029c40: 6169 6e5f 6672 6d2c 2068 6561 6465 723d  ain_frm, header=
-00029c50: 224d 554c 5449 504c 4520 5649 4445 4f53  "MULTIPLE VIDEOS
-00029c60: 202d 2043 5245 4154 4520 4156 4552 4147   - CREATE AVERAG
-00029c70: 4520 4652 414d 4553 222c 2069 636f 6e5f  E FRAMES", icon_
-00029c80: 6e61 6d65 3d4b 6579 732e 444f 4355 4d45  name=Keys.DOCUME
-00029c90: 4e54 4154 494f 4e2e 7661 6c75 652c 2069  NTATION.value, i
-00029ca0: 636f 6e5f 6c69 6e6b 3d4c 696e 6b73 2e56  con_link=Links.V
-00029cb0: 4944 454f 5f54 4f4f 4c53 2e76 616c 7565  IDEO_TOOLS.value
-00029cc0: 290a 2020 2020 2020 2020 7365 6c66 2e73  ).        self.s
-00029cd0: 656c 6563 7465 645f 7669 6465 6f5f 6469  elected_video_di
-00029ce0: 7220 3d20 466f 6c64 6572 5365 6c65 6374  r = FolderSelect
-00029cf0: 286d 756c 7469 706c 655f 7669 6465 6f73  (multiple_videos
-00029d00: 5f66 726d 2c20 2256 4944 454f 2044 4952  _frm, "VIDEO DIR
-00029d10: 4543 544f 5259 2050 4154 483a 222c 2074  ECTORY PATH:", t
-00029d20: 6974 6c65 3d22 5365 6c65 6374 2061 2076  itle="Select a v
-00029d30: 6964 656f 2064 6972 6563 746f 7279 222c  ideo directory",
-00029d40: 206c 626c 7769 6474 683d 3235 290a 2020   lblwidth=25).  
-00029d50: 2020 2020 2020 6d75 6c74 6970 6c65 5f76        multiple_v
-00029d60: 6964 656f 735f 7275 6e20 3d20 4275 7474  ideos_run = Butt
-00029d70: 6f6e 286d 756c 7469 706c 655f 7669 6465  on(multiple_vide
-00029d80: 6f73 5f66 726d 2c20 7465 7874 3d22 5255  os_frm, text="RU
-00029d90: 4e20 2d20 4d55 4c54 4950 4c45 2056 4944  N - MULTIPLE VID
-00029da0: 454f 5322 2c20 636f 6d6d 616e 643d 6c61  EOS", command=la
-00029db0: 6d62 6461 3a20 7365 6c66 2e72 756e 286d  mbda: self.run(m
-00029dc0: 756c 7469 706c 653d 5472 7565 2929 0a0a  ultiple=True))..
-00029dd0: 2020 2020 2020 2020 6d75 6c74 6970 6c65          multiple
-00029de0: 5f76 6964 656f 735f 6672 6d2e 6772 6964  _videos_frm.grid
-00029df0: 2872 6f77 3d32 2c20 636f 6c75 6d6e 3d30  (row=2, column=0
-00029e00: 2c20 7374 6963 6b79 3d22 4e57 2229 0a20  , sticky="NW"). 
-00029e10: 2020 2020 2020 2073 656c 662e 7365 6c65         self.sele
-00029e20: 6374 6564 5f76 6964 656f 5f64 6972 2e67  cted_video_dir.g
+00025d60: 2020 2020 6267 5f63 6f6c 6f72 3d62 675f      bg_color=bg_
+00025d70: 636c 722c 0a20 2020 2020 2020 2020 2020  clr,.           
+00025d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025d90: 2020 2020 2020 6667 5f63 6f6c 6f72 3d66        fg_color=f
+00025da0: 675f 636c 7229 0a20 2020 2020 2020 2065  g_clr).        e
+00025db0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00025dc0: 2063 6f72 655f 636e 7420 3d20 696e 7428   core_cnt = int(
+00025dd0: 7365 6c66 2e6d 756c 7469 7072 6f63 6573  self.multiproces
+00025de0: 735f 6472 6f70 646f 776e 2e67 6574 4368  s_dropdown.getCh
+00025df0: 6f69 6365 7328 2929 0a20 2020 2020 2020  oices()).       
+00025e00: 2020 2020 2076 6964 656f 5f62 675f 7375       video_bg_su
+00025e10: 6273 7472 6163 7469 6f6e 5f6d 7028 7669  bstraction_mp(vi
+00025e20: 6465 6f5f 7061 7468 3d76 6964 656f 5f70  deo_path=video_p
+00025e30: 6174 682c 0a20 2020 2020 2020 2020 2020  ath,.           
+00025e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025e50: 2020 2020 2020 2020 2020 6267 5f76 6964            bg_vid
+00025e60: 656f 5f70 6174 683d 6267 5f76 6964 656f  eo_path=bg_video
+00025e70: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00025e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025e90: 2020 2020 2020 2062 675f 7374 6172 745f         bg_start_
+00025ea0: 6672 6d3d 6267 5f73 7461 7274 5f66 726d  frm=bg_start_frm
+00025eb0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00025ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025ed0: 2020 2020 2020 2062 675f 656e 645f 6672         bg_end_fr
+00025ee0: 6d3d 6267 5f65 6e64 5f66 726d 2c0a 2020  m=bg_end_frm,.  
+00025ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025f10: 2020 2062 675f 7374 6172 745f 7469 6d65     bg_start_time
+00025f20: 3d62 675f 7374 6172 745f 7469 6d65 2c0a  =bg_start_time,.
+00025f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025f50: 2020 2020 2062 675f 656e 645f 7469 6d65       bg_end_time
+00025f60: 3d62 675f 656e 645f 7469 6d65 2c0a 2020  =bg_end_time,.  
+00025f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025f90: 2020 2062 675f 636f 6c6f 723d 6267 5f63     bg_color=bg_c
+00025fa0: 6c72 2c0a 2020 2020 2020 2020 2020 2020  lr,.            
+00025fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025fc0: 2020 2020 2020 2020 2066 675f 636f 6c6f           fg_colo
+00025fd0: 723d 6667 5f63 6c72 2c0a 2020 2020 2020  r=fg_clr,.      
+00025fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025ff0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00026000: 6f72 655f 636e 743d 636f 7265 5f63 6e74  ore_cnt=core_cnt
+00026010: 290a 0a0a 636c 6173 7320 526f 7461 7465  )...class Rotate
+00026020: 5669 6465 6f53 6574 4465 6772 6565 7350  VideoSetDegreesP
+00026030: 6f70 5570 2850 6f70 5570 4d69 7869 6e29  opUp(PopUpMixin)
+00026040: 3a0a 2020 2020 6465 6620 5f5f 696e 6974  :.    def __init
+00026050: 5f5f 2873 656c 6629 3a0a 2020 2020 2020  __(self):.      
+00026060: 2020 506f 7055 704d 6978 696e 2e5f 5f69    PopUpMixin.__i
+00026070: 6e69 745f 5f28 7365 6c66 2c20 7469 746c  nit__(self, titl
+00026080: 653d 2252 4f54 4154 4520 5649 4445 4f53  e="ROTATE VIDEOS
+00026090: 2229 0a20 2020 2020 2020 2073 6574 7469  ").        setti
+000260a0: 6e67 735f 6672 6d20 3d20 4372 6561 7465  ngs_frm = Create
+000260b0: 4c61 6265 6c46 7261 6d65 5769 7468 4963  LabelFrameWithIc
+000260c0: 6f6e 2870 6172 656e 743d 7365 6c66 2e6d  on(parent=self.m
+000260d0: 6169 6e5f 6672 6d2c 2068 6561 6465 723d  ain_frm, header=
+000260e0: 2253 4554 5449 4e47 5322 2c20 6963 6f6e  "SETTINGS", icon
+000260f0: 5f6e 616d 653d 4b65 7973 2e44 4f43 554d  _name=Keys.DOCUM
+00026100: 454e 5441 5449 4f4e 2e76 616c 7565 2c20  ENTATION.value, 
+00026110: 6963 6f6e 5f6c 696e 6b3d 4c69 6e6b 732e  icon_link=Links.
+00026120: 5649 4445 4f5f 544f 4f4c 532e 7661 6c75  VIDEO_TOOLS.valu
+00026130: 6529 0a20 2020 2020 2020 2073 656c 662e  e).        self.
+00026140: 6465 6772 6565 735f 6472 6f70 646f 776e  degrees_dropdown
+00026150: 203d 2044 726f 7044 6f77 6e4d 656e 7528   = DropDownMenu(
+00026160: 7365 7474 696e 6773 5f66 726d 2c20 2243  settings_frm, "C
+00026170: 4c4f 434b 5749 5345 2044 4547 5245 4553  LOCKWISE DEGREES
+00026180: 3a22 2c20 6c69 7374 2872 616e 6765 2831  :", list(range(1
+00026190: 2c20 3336 302c 2031 2929 2c20 6c61 6265  , 360, 1)), labe
+000261a0: 6c77 6964 7468 3d32 3529 0a20 2020 2020  lwidth=25).     
+000261b0: 2020 2073 656c 662e 7175 616c 6974 795f     self.quality_
+000261c0: 6472 6f70 646f 776e 203d 2044 726f 7044  dropdown = DropD
+000261d0: 6f77 6e4d 656e 7528 7365 7474 696e 6773  ownMenu(settings
+000261e0: 5f66 726d 2c20 224f 5554 5055 5420 5649  _frm, "OUTPUT VI
+000261f0: 4445 4f20 5155 414c 4954 5920 2825 293a  DEO QUALITY (%):
+00026200: 222c 206c 6973 7428 7261 6e67 6528 3130  ", list(range(10
+00026210: 2c20 3131 302c 2031 3029 292c 206c 6162  , 110, 10)), lab
+00026220: 656c 7769 6474 683d 3235 290a 2020 2020  elwidth=25).    
+00026230: 2020 2020 7365 6c66 2e71 7561 6c69 7479      self.quality
+00026240: 5f64 726f 7064 6f77 6e2e 7365 7443 686f  _dropdown.setCho
+00026250: 6963 6573 2836 3029 0a20 2020 2020 2020  ices(60).       
+00026260: 2073 656c 662e 6465 6772 6565 735f 6472   self.degrees_dr
+00026270: 6f70 646f 776e 2e73 6574 4368 6f69 6365  opdown.setChoice
+00026280: 7328 2739 3027 290a 2020 2020 2020 2020  s('90').        
+00026290: 7365 6c66 2e64 6567 7265 6573 5f64 726f  self.degrees_dro
+000262a0: 7064 6f77 6e2e 6772 6964 2872 6f77 3d30  pdown.grid(row=0
+000262b0: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
+000262c0: 6b79 3d4e 5729 0a0a 2020 2020 2020 2020  ky=NW)..        
+000262d0: 7365 7474 696e 6773 5f66 726d 2e67 7269  settings_frm.gri
+000262e0: 6428 726f 773d 302c 2063 6f6c 756d 6e3d  d(row=0, column=
+000262f0: 302c 2073 7469 636b 793d 224e 5722 290a  0, sticky="NW").
+00026300: 2020 2020 2020 2020 7365 6c66 2e64 6567          self.deg
+00026310: 7265 6573 5f64 726f 7064 6f77 6e2e 6772  rees_dropdown.gr
+00026320: 6964 2872 6f77 3d30 2c20 636f 6c75 6d6e  id(row=0, column
+00026330: 3d30 2c20 7374 6963 6b79 3d22 4e57 2229  =0, sticky="NW")
+00026340: 0a20 2020 2020 2020 2073 656c 662e 7175  .        self.qu
+00026350: 616c 6974 795f 6472 6f70 646f 776e 2e67  ality_dropdown.g
+00026360: 7269 6428 726f 773d 312c 2063 6f6c 756d  rid(row=1, colum
+00026370: 6e3d 302c 2073 7469 636b 793d 224e 5722  n=0, sticky="NW"
+00026380: 290a 0a20 2020 2020 2020 2073 696e 676c  )..        singl
+00026390: 655f 7669 6465 6f5f 6672 6d20 3d20 4372  e_video_frm = Cr
+000263a0: 6561 7465 4c61 6265 6c46 7261 6d65 5769  eateLabelFrameWi
+000263b0: 7468 4963 6f6e 2870 6172 656e 743d 7365  thIcon(parent=se
+000263c0: 6c66 2e6d 6169 6e5f 6672 6d2c 2068 6561  lf.main_frm, hea
+000263d0: 6465 723d 2253 494e 474c 4520 5649 4445  der="SINGLE VIDE
+000263e0: 4f20 2d20 524f 5441 5445 222c 2069 636f  O - ROTATE", ico
+000263f0: 6e5f 6e61 6d65 3d4b 6579 732e 444f 4355  n_name=Keys.DOCU
+00026400: 4d45 4e54 4154 494f 4e2e 7661 6c75 652c  MENTATION.value,
+00026410: 2069 636f 6e5f 6c69 6e6b 3d4c 696e 6b73   icon_link=Links
+00026420: 2e56 4944 454f 5f54 4f4f 4c53 2e76 616c  .VIDEO_TOOLS.val
+00026430: 7565 290a 2020 2020 2020 2020 7365 6c66  ue).        self
+00026440: 2e73 656c 6563 7465 645f 7669 6465 6f20  .selected_video 
+00026450: 3d20 4669 6c65 5365 6c65 6374 2873 696e  = FileSelect(sin
+00026460: 676c 655f 7669 6465 6f5f 6672 6d2c 2022  gle_video_frm, "
+00026470: 5649 4445 4f20 5041 5448 3a22 2c20 7469  VIDEO PATH:", ti
+00026480: 746c 653d 2253 656c 6563 7420 6120 7669  tle="Select a vi
+00026490: 6465 6f20 6669 6c65 222c 206c 626c 7769  deo file", lblwi
+000264a0: 6474 683d 3235 2c20 6669 6c65 5f74 7970  dth=25, file_typ
+000264b0: 6573 3d5b 2822 5649 4445 4f20 4649 4c45  es=[("VIDEO FILE
+000264c0: 222c 204f 7074 696f 6e73 2e41 4c4c 5f56  ", Options.ALL_V
+000264d0: 4944 454f 5f46 4f52 4d41 545f 5354 525f  IDEO_FORMAT_STR_
+000264e0: 4f50 5449 4f4e 532e 7661 6c75 6529 5d29  OPTIONS.value)])
+000264f0: 0a20 2020 2020 2020 2073 696e 676c 655f  .        single_
+00026500: 7669 6465 6f5f 7275 6e20 3d20 4275 7474  video_run = Butt
+00026510: 6f6e 2873 696e 676c 655f 7669 6465 6f5f  on(single_video_
+00026520: 6672 6d2c 2074 6578 743d 2252 554e 202d  frm, text="RUN -
+00026530: 2053 494e 474c 4520 5649 4445 4f22 2c20   SINGLE VIDEO", 
+00026540: 636f 6d6d 616e 643d 6c61 6d62 6461 3a20  command=lambda: 
+00026550: 7365 6c66 2e72 756e 286d 756c 7469 706c  self.run(multipl
+00026560: 653d 4661 6c73 6529 290a 0a20 2020 2020  e=False))..     
+00026570: 2020 2073 696e 676c 655f 7669 6465 6f5f     single_video_
+00026580: 6672 6d2e 6772 6964 2872 6f77 3d31 2c20  frm.grid(row=1, 
+00026590: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
+000265a0: 3d22 4e57 2229 0a20 2020 2020 2020 2073  ="NW").        s
+000265b0: 656c 662e 7365 6c65 6374 6564 5f76 6964  elf.selected_vid
+000265c0: 656f 2e67 7269 6428 726f 773d 302c 2063  eo.grid(row=0, c
+000265d0: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
+000265e0: 224e 5722 290a 2020 2020 2020 2020 7369  "NW").        si
+000265f0: 6e67 6c65 5f76 6964 656f 5f72 756e 2e67  ngle_video_run.g
+00026600: 7269 6428 726f 773d 312c 2063 6f6c 756d  rid(row=1, colum
+00026610: 6e3d 302c 2073 7469 636b 793d 224e 5722  n=0, sticky="NW"
+00026620: 290a 0a20 2020 2020 2020 206d 756c 7469  )..        multi
+00026630: 706c 655f 7669 6465 6f73 5f66 726d 203d  ple_videos_frm =
+00026640: 2043 7265 6174 654c 6162 656c 4672 616d   CreateLabelFram
+00026650: 6557 6974 6849 636f 6e28 7061 7265 6e74  eWithIcon(parent
+00026660: 3d73 656c 662e 6d61 696e 5f66 726d 2c20  =self.main_frm, 
+00026670: 6865 6164 6572 3d22 4d55 4c54 4950 4c45  header="MULTIPLE
+00026680: 2056 4944 454f 5320 2d20 524f 5441 5445   VIDEOS - ROTATE
+00026690: 222c 2069 636f 6e5f 6e61 6d65 3d4b 6579  ", icon_name=Key
+000266a0: 732e 444f 4355 4d45 4e54 4154 494f 4e2e  s.DOCUMENTATION.
+000266b0: 7661 6c75 652c 2069 636f 6e5f 6c69 6e6b  value, icon_link
+000266c0: 3d4c 696e 6b73 2e56 4944 454f 5f54 4f4f  =Links.VIDEO_TOO
+000266d0: 4c53 2e76 616c 7565 290a 2020 2020 2020  LS.value).      
+000266e0: 2020 7365 6c66 2e73 656c 6563 7465 645f    self.selected_
+000266f0: 7669 6465 6f5f 6469 7220 3d20 466f 6c64  video_dir = Fold
+00026700: 6572 5365 6c65 6374 286d 756c 7469 706c  erSelect(multipl
+00026710: 655f 7669 6465 6f73 5f66 726d 2c20 2256  e_videos_frm, "V
+00026720: 4944 454f 2044 4952 4543 544f 5259 2050  IDEO DIRECTORY P
+00026730: 4154 483a 222c 2074 6974 6c65 3d22 5365  ATH:", title="Se
+00026740: 6c65 6374 2061 2076 6964 656f 2064 6972  lect a video dir
+00026750: 6563 746f 7279 222c 206c 626c 7769 6474  ectory", lblwidt
+00026760: 683d 3235 290a 2020 2020 2020 2020 6d75  h=25).        mu
+00026770: 6c74 6970 6c65 5f76 6964 656f 735f 7275  ltiple_videos_ru
+00026780: 6e20 3d20 4275 7474 6f6e 286d 756c 7469  n = Button(multi
+00026790: 706c 655f 7669 6465 6f73 5f66 726d 2c20  ple_videos_frm, 
+000267a0: 7465 7874 3d22 5255 4e20 2d20 4d55 4c54  text="RUN - MULT
+000267b0: 4950 4c45 2056 4944 454f 5322 2c20 636f  IPLE VIDEOS", co
+000267c0: 6d6d 616e 643d 6c61 6d62 6461 3a20 7365  mmand=lambda: se
+000267d0: 6c66 2e72 756e 286d 756c 7469 706c 653d  lf.run(multiple=
+000267e0: 5472 7565 2929 0a0a 2020 2020 2020 2020  True))..        
+000267f0: 6d75 6c74 6970 6c65 5f76 6964 656f 735f  multiple_videos_
+00026800: 6672 6d2e 6772 6964 2872 6f77 3d32 2c20  frm.grid(row=2, 
+00026810: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
+00026820: 3d22 4e57 2229 0a20 2020 2020 2020 2073  ="NW").        s
+00026830: 656c 662e 7365 6c65 6374 6564 5f76 6964  elf.selected_vid
+00026840: 656f 5f64 6972 2e67 7269 6428 726f 773d  eo_dir.grid(row=
+00026850: 302c 2063 6f6c 756d 6e3d 302c 2073 7469  0, column=0, sti
+00026860: 636b 793d 224e 5722 290a 2020 2020 2020  cky="NW").      
+00026870: 2020 6d75 6c74 6970 6c65 5f76 6964 656f    multiple_video
+00026880: 735f 7275 6e2e 6772 6964 2872 6f77 3d31  s_run.grid(row=1
+00026890: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
+000268a0: 6b79 3d22 4e57 2229 0a0a 0a20 2020 2064  ky="NW")...    d
+000268b0: 6566 2072 756e 2873 656c 662c 206d 756c  ef run(self, mul
+000268c0: 7469 706c 653a 2062 6f6f 6c29 3a0a 2020  tiple: bool):.  
+000268d0: 2020 2020 2020 6465 6772 6565 7320 3d20        degrees = 
+000268e0: 696e 7428 7365 6c66 2e64 6567 7265 6573  int(self.degrees
+000268f0: 5f64 726f 7064 6f77 6e2e 6765 7443 686f  _dropdown.getCho
+00026900: 6963 6573 2829 290a 2020 2020 2020 2020  ices()).        
+00026910: 7175 616c 6974 7920 3d20 696e 7428 7365  quality = int(se
+00026920: 6c66 2e71 7561 6c69 7479 5f64 726f 7064  lf.quality_dropd
+00026930: 6f77 6e2e 6765 7443 686f 6963 6573 2829  own.getChoices()
+00026940: 290a 2020 2020 2020 2020 6966 206e 6f74  ).        if not
+00026950: 206d 756c 7469 706c 653a 0a20 2020 2020   multiple:.     
+00026960: 2020 2020 2020 2064 6174 615f 7061 7468         data_path
+00026970: 203d 2073 656c 662e 7365 6c65 6374 6564   = self.selected
+00026980: 5f76 6964 656f 2e66 696c 655f 7061 7468  _video.file_path
+00026990: 0a20 2020 2020 2020 2020 2020 2063 6865  .            che
+000269a0: 636b 5f66 696c 655f 6578 6973 745f 616e  ck_file_exist_an
+000269b0: 645f 7265 6164 6162 6c65 2866 696c 655f  d_readable(file_
+000269c0: 7061 7468 3d64 6174 615f 7061 7468 290a  path=data_path).
+000269d0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+000269e0: 2020 2020 2020 2020 2020 6461 7461 5f70            data_p
+000269f0: 6174 6820 3d20 7365 6c66 2e73 656c 6563  ath = self.selec
+00026a00: 7465 645f 7669 6465 6f5f 6469 722e 666f  ted_video_dir.fo
+00026a10: 6c64 6572 5f70 6174 680a 2020 2020 2020  lder_path.      
+00026a20: 2020 2020 2020 6368 6563 6b5f 6966 5f64        check_if_d
+00026a30: 6972 5f65 7869 7374 7328 696e 5f64 6972  ir_exists(in_dir
+00026a40: 3d64 6174 615f 7061 7468 290a 0a20 2020  =data_path)..   
+00026a50: 2020 2020 2074 6872 6561 6469 6e67 2e54       threading.T
+00026a60: 6872 6561 6428 7461 7267 6574 3d72 6f74  hread(target=rot
+00026a70: 6174 655f 7669 6465 6f28 7669 6465 6f5f  ate_video(video_
+00026a80: 7061 7468 3d64 6174 615f 7061 7468 2c0a  path=data_path,.
+00026a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026ab0: 2020 2020 2020 2020 2020 2020 2064 6567               deg
+00026ac0: 7265 6573 3d64 6567 7265 6573 2c0a 2020  rees=degrees,.  
+00026ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026af0: 2020 2020 2020 2020 2020 2071 7561 6c69             quali
+00026b00: 7479 3d71 7561 6c69 7479 2929 2e73 7461  ty=quality)).sta
+00026b10: 7274 2829 0a0a 0a63 6c61 7373 2046 6c69  rt()...class Fli
+00026b20: 7056 6964 656f 7350 6f70 5570 2850 6f70  pVideosPopUp(Pop
+00026b30: 5570 4d69 7869 6e29 3a0a 2020 2020 6465  UpMixin):.    de
+00026b40: 6620 5f5f 696e 6974 5f5f 2873 656c 6629  f __init__(self)
+00026b50: 3a0a 2020 2020 2020 2020 506f 7055 704d  :.        PopUpM
+00026b60: 6978 696e 2e5f 5f69 6e69 745f 5f28 7365  ixin.__init__(se
+00026b70: 6c66 2c20 7469 746c 653d 2246 4c49 5020  lf, title="FLIP 
+00026b80: 5649 4445 4f53 2229 0a20 2020 2020 2020  VIDEOS").       
+00026b90: 2073 6574 7469 6e67 735f 6672 6d20 3d20   settings_frm = 
+00026ba0: 4372 6561 7465 4c61 6265 6c46 7261 6d65  CreateLabelFrame
+00026bb0: 5769 7468 4963 6f6e 2870 6172 656e 743d  WithIcon(parent=
+00026bc0: 7365 6c66 2e6d 6169 6e5f 6672 6d2c 2068  self.main_frm, h
+00026bd0: 6561 6465 723d 2253 4554 5449 4e47 5322  eader="SETTINGS"
+00026be0: 2c20 6963 6f6e 5f6e 616d 653d 4b65 7973  , icon_name=Keys
+00026bf0: 2e44 4f43 554d 454e 5441 5449 4f4e 2e76  .DOCUMENTATION.v
+00026c00: 616c 7565 2c20 6963 6f6e 5f6c 696e 6b3d  alue, icon_link=
+00026c10: 4c69 6e6b 732e 5649 4445 4f5f 544f 4f4c  Links.VIDEO_TOOL
+00026c20: 532e 7661 6c75 6529 0a20 2020 2020 2020  S.value).       
+00026c30: 2073 656c 662e 686f 7269 7a6f 6e74 616c   self.horizontal
+00026c40: 5f64 726f 7064 6f77 6e20 3d20 4472 6f70  _dropdown = Drop
+00026c50: 446f 776e 4d65 6e75 2873 6574 7469 6e67  DownMenu(setting
+00026c60: 735f 6672 6d2c 2022 484f 5249 5a4f 4e54  s_frm, "HORIZONT
+00026c70: 414c 2046 4c49 503a 222c 205b 2754 5255  AL FLIP:", ['TRU
+00026c80: 4527 2c20 2746 414c 5345 275d 2c20 6c61  E', 'FALSE'], la
+00026c90: 6265 6c77 6964 7468 3d32 3529 0a20 2020  belwidth=25).   
+00026ca0: 2020 2020 2073 656c 662e 7665 7274 6963       self.vertic
+00026cb0: 616c 5f64 726f 7064 6f77 6e20 3d20 4472  al_dropdown = Dr
+00026cc0: 6f70 446f 776e 4d65 6e75 2873 6574 7469  opDownMenu(setti
+00026cd0: 6e67 735f 6672 6d2c 2022 5645 5254 4943  ngs_frm, "VERTIC
+00026ce0: 414c 2046 4c49 503a 222c 205b 2754 5255  AL FLIP:", ['TRU
+00026cf0: 4527 2c20 2746 414c 5345 275d 2c20 6c61  E', 'FALSE'], la
+00026d00: 6265 6c77 6964 7468 3d32 3529 0a20 2020  belwidth=25).   
+00026d10: 2020 2020 2073 656c 662e 7175 616c 6974       self.qualit
+00026d20: 795f 6472 6f70 646f 776e 203d 2044 726f  y_dropdown = Dro
+00026d30: 7044 6f77 6e4d 656e 7528 7365 7474 696e  pDownMenu(settin
+00026d40: 6773 5f66 726d 2c20 224f 5554 5055 5420  gs_frm, "OUTPUT 
+00026d50: 5649 4445 4f20 5155 414c 4954 5920 2825  VIDEO QUALITY (%
+00026d60: 293a 222c 206c 6973 7428 7261 6e67 6528  ):", list(range(
+00026d70: 3130 2c20 3131 302c 2031 3029 292c 206c  10, 110, 10)), l
+00026d80: 6162 656c 7769 6474 683d 3235 290a 0a20  abelwidth=25).. 
+00026d90: 2020 2020 2020 2073 656c 662e 686f 7269         self.hori
+00026da0: 7a6f 6e74 616c 5f64 726f 7064 6f77 6e2e  zontal_dropdown.
+00026db0: 7365 7443 686f 6963 6573 2827 4641 4c53  setChoices('FALS
+00026dc0: 4527 290a 2020 2020 2020 2020 7365 6c66  E').        self
+00026dd0: 2e76 6572 7469 6361 6c5f 6472 6f70 646f  .vertical_dropdo
+00026de0: 776e 2e73 6574 4368 6f69 6365 7328 2746  wn.setChoices('F
+00026df0: 414c 5345 2729 0a20 2020 2020 2020 2073  ALSE').        s
+00026e00: 656c 662e 7175 616c 6974 795f 6472 6f70  elf.quality_drop
+00026e10: 646f 776e 2e73 6574 4368 6f69 6365 7328  down.setChoices(
+00026e20: 3630 290a 0a20 2020 2020 2020 2073 6574  60)..        set
+00026e30: 7469 6e67 735f 6672 6d2e 6772 6964 2872  tings_frm.grid(r
+00026e40: 6f77 3d30 2c20 636f 6c75 6d6e 3d30 2c20  ow=0, column=0, 
+00026e50: 7374 6963 6b79 3d22 4e57 2229 0a20 2020  sticky="NW").   
+00026e60: 2020 2020 2073 656c 662e 7665 7274 6963       self.vertic
+00026e70: 616c 5f64 726f 7064 6f77 6e2e 6772 6964  al_dropdown.grid
+00026e80: 2872 6f77 3d30 2c20 636f 6c75 6d6e 3d30  (row=0, column=0
+00026e90: 2c20 7374 6963 6b79 3d22 4e57 2229 0a20  , sticky="NW"). 
+00026ea0: 2020 2020 2020 2073 656c 662e 686f 7269         self.hori
+00026eb0: 7a6f 6e74 616c 5f64 726f 7064 6f77 6e2e  zontal_dropdown.
+00026ec0: 6772 6964 2872 6f77 3d31 2c20 636f 6c75  grid(row=1, colu
+00026ed0: 6d6e 3d30 2c20 7374 6963 6b79 3d22 4e57  mn=0, sticky="NW
+00026ee0: 2229 0a20 2020 2020 2020 2073 656c 662e  ").        self.
+00026ef0: 7175 616c 6974 795f 6472 6f70 646f 776e  quality_dropdown
+00026f00: 2e67 7269 6428 726f 773d 322c 2063 6f6c  .grid(row=2, col
+00026f10: 756d 6e3d 302c 2073 7469 636b 793d 224e  umn=0, sticky="N
+00026f20: 5722 290a 0a20 2020 2020 2020 2073 696e  W")..        sin
+00026f30: 676c 655f 7669 6465 6f5f 6672 6d20 3d20  gle_video_frm = 
+00026f40: 4372 6561 7465 4c61 6265 6c46 7261 6d65  CreateLabelFrame
+00026f50: 5769 7468 4963 6f6e 2870 6172 656e 743d  WithIcon(parent=
+00026f60: 7365 6c66 2e6d 6169 6e5f 6672 6d2c 2068  self.main_frm, h
+00026f70: 6561 6465 723d 2253 494e 474c 4520 5649  eader="SINGLE VI
+00026f80: 4445 4f20 2d20 464c 4950 222c 2069 636f  DEO - FLIP", ico
+00026f90: 6e5f 6e61 6d65 3d4b 6579 732e 444f 4355  n_name=Keys.DOCU
+00026fa0: 4d45 4e54 4154 494f 4e2e 7661 6c75 652c  MENTATION.value,
+00026fb0: 2069 636f 6e5f 6c69 6e6b 3d4c 696e 6b73   icon_link=Links
+00026fc0: 2e56 4944 454f 5f54 4f4f 4c53 2e76 616c  .VIDEO_TOOLS.val
+00026fd0: 7565 290a 2020 2020 2020 2020 7365 6c66  ue).        self
+00026fe0: 2e73 656c 6563 7465 645f 7669 6465 6f20  .selected_video 
+00026ff0: 3d20 4669 6c65 5365 6c65 6374 2873 696e  = FileSelect(sin
+00027000: 676c 655f 7669 6465 6f5f 6672 6d2c 2022  gle_video_frm, "
+00027010: 5649 4445 4f20 5041 5448 3a22 2c20 7469  VIDEO PATH:", ti
+00027020: 746c 653d 2253 656c 6563 7420 6120 7669  tle="Select a vi
+00027030: 6465 6f20 6669 6c65 222c 206c 626c 7769  deo file", lblwi
+00027040: 6474 683d 3235 2c20 6669 6c65 5f74 7970  dth=25, file_typ
+00027050: 6573 3d5b 2822 5649 4445 4f20 4649 4c45  es=[("VIDEO FILE
+00027060: 222c 204f 7074 696f 6e73 2e41 4c4c 5f56  ", Options.ALL_V
+00027070: 4944 454f 5f46 4f52 4d41 545f 5354 525f  IDEO_FORMAT_STR_
+00027080: 4f50 5449 4f4e 532e 7661 6c75 6529 5d29  OPTIONS.value)])
+00027090: 0a20 2020 2020 2020 2073 696e 676c 655f  .        single_
+000270a0: 7669 6465 6f5f 7275 6e20 3d20 4275 7474  video_run = Butt
+000270b0: 6f6e 2873 696e 676c 655f 7669 6465 6f5f  on(single_video_
+000270c0: 6672 6d2c 2074 6578 743d 2252 554e 202d  frm, text="RUN -
+000270d0: 2053 494e 474c 4520 5649 4445 4f22 2c20   SINGLE VIDEO", 
+000270e0: 636f 6d6d 616e 643d 6c61 6d62 6461 3a20  command=lambda: 
+000270f0: 7365 6c66 2e72 756e 286d 756c 7469 706c  self.run(multipl
+00027100: 653d 4661 6c73 6529 290a 0a20 2020 2020  e=False))..     
+00027110: 2020 2073 696e 676c 655f 7669 6465 6f5f     single_video_
+00027120: 6672 6d2e 6772 6964 2872 6f77 3d31 2c20  frm.grid(row=1, 
+00027130: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
+00027140: 3d22 4e57 2229 0a20 2020 2020 2020 2073  ="NW").        s
+00027150: 656c 662e 7365 6c65 6374 6564 5f76 6964  elf.selected_vid
+00027160: 656f 2e67 7269 6428 726f 773d 302c 2063  eo.grid(row=0, c
+00027170: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
+00027180: 224e 5722 290a 2020 2020 2020 2020 7369  "NW").        si
+00027190: 6e67 6c65 5f76 6964 656f 5f72 756e 2e67  ngle_video_run.g
+000271a0: 7269 6428 726f 773d 312c 2063 6f6c 756d  rid(row=1, colum
+000271b0: 6e3d 302c 2073 7469 636b 793d 224e 5722  n=0, sticky="NW"
+000271c0: 290a 0a20 2020 2020 2020 206d 756c 7469  )..        multi
+000271d0: 706c 655f 7669 6465 6f73 5f66 726d 203d  ple_videos_frm =
+000271e0: 2043 7265 6174 654c 6162 656c 4672 616d   CreateLabelFram
+000271f0: 6557 6974 6849 636f 6e28 7061 7265 6e74  eWithIcon(parent
+00027200: 3d73 656c 662e 6d61 696e 5f66 726d 2c20  =self.main_frm, 
+00027210: 6865 6164 6572 3d22 4d55 4c54 4950 4c45  header="MULTIPLE
+00027220: 2056 4944 454f 5320 2d20 464c 4950 222c   VIDEOS - FLIP",
+00027230: 2069 636f 6e5f 6e61 6d65 3d4b 6579 732e   icon_name=Keys.
+00027240: 444f 4355 4d45 4e54 4154 494f 4e2e 7661  DOCUMENTATION.va
+00027250: 6c75 652c 2069 636f 6e5f 6c69 6e6b 3d4c  lue, icon_link=L
+00027260: 696e 6b73 2e56 4944 454f 5f54 4f4f 4c53  inks.VIDEO_TOOLS
+00027270: 2e76 616c 7565 290a 2020 2020 2020 2020  .value).        
+00027280: 7365 6c66 2e73 656c 6563 7465 645f 7669  self.selected_vi
+00027290: 6465 6f5f 6469 7220 3d20 466f 6c64 6572  deo_dir = Folder
+000272a0: 5365 6c65 6374 286d 756c 7469 706c 655f  Select(multiple_
+000272b0: 7669 6465 6f73 5f66 726d 2c20 2256 4944  videos_frm, "VID
+000272c0: 454f 2044 4952 4543 544f 5259 2050 4154  EO DIRECTORY PAT
+000272d0: 483a 222c 2074 6974 6c65 3d22 5365 6c65  H:", title="Sele
+000272e0: 6374 2061 2076 6964 656f 2064 6972 6563  ct a video direc
+000272f0: 746f 7279 222c 206c 626c 7769 6474 683d  tory", lblwidth=
+00027300: 3235 290a 2020 2020 2020 2020 6d75 6c74  25).        mult
+00027310: 6970 6c65 5f76 6964 656f 735f 7275 6e20  iple_videos_run 
+00027320: 3d20 4275 7474 6f6e 286d 756c 7469 706c  = Button(multipl
+00027330: 655f 7669 6465 6f73 5f66 726d 2c20 7465  e_videos_frm, te
+00027340: 7874 3d22 5255 4e20 2d20 4d55 4c54 4950  xt="RUN - MULTIP
+00027350: 4c45 2056 4944 454f 5322 2c20 636f 6d6d  LE VIDEOS", comm
+00027360: 616e 643d 6c61 6d62 6461 3a20 7365 6c66  and=lambda: self
+00027370: 2e72 756e 286d 756c 7469 706c 653d 5472  .run(multiple=Tr
+00027380: 7565 2929 0a0a 2020 2020 2020 2020 6d75  ue))..        mu
+00027390: 6c74 6970 6c65 5f76 6964 656f 735f 6672  ltiple_videos_fr
+000273a0: 6d2e 6772 6964 2872 6f77 3d32 2c20 636f  m.grid(row=2, co
+000273b0: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d22  lumn=0, sticky="
+000273c0: 4e57 2229 0a20 2020 2020 2020 2073 656c  NW").        sel
+000273d0: 662e 7365 6c65 6374 6564 5f76 6964 656f  f.selected_video
+000273e0: 5f64 6972 2e67 7269 6428 726f 773d 302c  _dir.grid(row=0,
+000273f0: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
+00027400: 793d 224e 5722 290a 2020 2020 2020 2020  y="NW").        
+00027410: 6d75 6c74 6970 6c65 5f76 6964 656f 735f  multiple_videos_
+00027420: 7275 6e2e 6772 6964 2872 6f77 3d31 2c20  run.grid(row=1, 
+00027430: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
+00027440: 3d22 4e57 2229 0a0a 2020 2020 6465 6620  ="NW")..    def 
+00027450: 7275 6e28 7365 6c66 2c20 6d75 6c74 6970  run(self, multip
+00027460: 6c65 3a20 626f 6f6c 293a 0a20 2020 2020  le: bool):.     
+00027470: 2020 2076 6572 7469 6361 6c5f 666c 6970     vertical_flip
+00027480: 203d 2073 7472 5f32 5f62 6f6f 6c28 7365   = str_2_bool(se
+00027490: 6c66 2e76 6572 7469 6361 6c5f 6472 6f70  lf.vertical_drop
+000274a0: 646f 776e 2e67 6574 4368 6f69 6365 7328  down.getChoices(
+000274b0: 2929 0a20 2020 2020 2020 2068 6f72 697a  )).        horiz
+000274c0: 6f6e 7461 6c5f 666c 6970 203d 2073 7472  ontal_flip = str
+000274d0: 5f32 5f62 6f6f 6c28 7365 6c66 2e68 6f72  _2_bool(self.hor
+000274e0: 697a 6f6e 7461 6c5f 6472 6f70 646f 776e  izontal_dropdown
+000274f0: 2e67 6574 4368 6f69 6365 7328 2929 0a20  .getChoices()). 
+00027500: 2020 2020 2020 2069 6620 6e6f 7420 7665         if not ve
+00027510: 7274 6963 616c 5f66 6c69 7020 616e 6420  rtical_flip and 
+00027520: 6e6f 7420 686f 7269 7a6f 6e74 616c 5f66  not horizontal_f
+00027530: 6c69 703a 0a20 2020 2020 2020 2020 2020  lip:.           
+00027540: 2072 6169 7365 2049 6e76 616c 6964 496e   raise InvalidIn
+00027550: 7075 7445 7272 6f72 286d 7367 3d27 466c  putError(msg='Fl
+00027560: 6970 2076 6964 656f 7320 7665 7274 6963  ip videos vertic
+00027570: 616c 6c79 2061 6e64 2f6f 7220 686f 7269  ally and/or hori
+00027580: 7a6f 6e74 616c 6c79 2e20 476f 7420 626f  zontally. Got bo
+00027590: 7468 2061 7320 4661 6c73 6527 2c20 736f  th as False', so
+000275a0: 7572 6365 3d73 656c 662e 5f5f 636c 6173  urce=self.__clas
+000275b0: 735f 5f2e 5f5f 6e61 6d65 5f5f 290a 2020  s__.__name__).  
+000275c0: 2020 2020 2020 7175 616c 6974 7920 3d20        quality = 
+000275d0: 696e 7428 7365 6c66 2e71 7561 6c69 7479  int(self.quality
+000275e0: 5f64 726f 7064 6f77 6e2e 6765 7443 686f  _dropdown.getCho
+000275f0: 6963 6573 2829 290a 2020 2020 2020 2020  ices()).        
+00027600: 6966 206e 6f74 206d 756c 7469 706c 653a  if not multiple:
+00027610: 0a20 2020 2020 2020 2020 2020 2064 6174  .            dat
+00027620: 615f 7061 7468 203d 2073 656c 662e 7365  a_path = self.se
+00027630: 6c65 6374 6564 5f76 6964 656f 2e66 696c  lected_video.fil
+00027640: 655f 7061 7468 0a20 2020 2020 2020 2020  e_path.         
+00027650: 2020 2063 6865 636b 5f66 696c 655f 6578     check_file_ex
+00027660: 6973 745f 616e 645f 7265 6164 6162 6c65  ist_and_readable
+00027670: 2866 696c 655f 7061 7468 3d64 6174 615f  (file_path=data_
+00027680: 7061 7468 290a 2020 2020 2020 2020 656c  path).        el
+00027690: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+000276a0: 6461 7461 5f70 6174 6820 3d20 7365 6c66  data_path = self
+000276b0: 2e73 656c 6563 7465 645f 7669 6465 6f5f  .selected_video_
+000276c0: 6469 722e 666f 6c64 6572 5f70 6174 680a  dir.folder_path.
+000276d0: 2020 2020 2020 2020 2020 2020 6368 6563              chec
+000276e0: 6b5f 6966 5f64 6972 5f65 7869 7374 7328  k_if_dir_exists(
+000276f0: 696e 5f64 6972 3d64 6174 615f 7061 7468  in_dir=data_path
+00027700: 290a 0a20 2020 2020 2020 2074 6872 6561  )..        threa
+00027710: 6469 6e67 2e54 6872 6561 6428 7461 7267  ding.Thread(targ
+00027720: 6574 3d66 6c69 705f 7669 6465 6f73 2876  et=flip_videos(v
+00027730: 6964 656f 5f70 6174 683d 6461 7461 5f70  ideo_path=data_p
+00027740: 6174 682c 0a20 2020 2020 2020 2020 2020  ath,.           
+00027750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027770: 2076 6572 7469 6361 6c5f 666c 6970 3d76   vertical_flip=v
+00027780: 6572 7469 6361 6c5f 666c 6970 2c0a 2020  ertical_flip,.  
+00027790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000277a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000277b0: 2020 2020 2020 2020 2020 686f 7269 7a6f            horizo
+000277c0: 6e74 616c 5f66 6c69 703d 686f 7269 7a6f  ntal_flip=horizo
+000277d0: 6e74 616c 5f66 6c69 702c 0a20 2020 2020  ntal_flip,.     
+000277e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000277f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027800: 2020 2020 2020 2071 7561 6c69 7479 3d71         quality=q
+00027810: 7561 6c69 7479 2929 2e73 7461 7274 2829  uality)).start()
+00027820: 0a0a 0a63 6c61 7373 2055 7073 616d 706c  ...class Upsampl
+00027830: 6556 6964 656f 7350 6f70 5570 2850 6f70  eVideosPopUp(Pop
+00027840: 5570 4d69 7869 6e29 3a0a 2020 2020 6465  UpMixin):.    de
+00027850: 6620 5f5f 696e 6974 5f5f 2873 656c 6629  f __init__(self)
+00027860: 3a0a 2020 2020 2020 2020 506f 7055 704d  :.        PopUpM
+00027870: 6978 696e 2e5f 5f69 6e69 745f 5f28 7365  ixin.__init__(se
+00027880: 6c66 2c20 7469 746c 653d 2255 5053 414d  lf, title="UPSAM
+00027890: 504c 4520 5649 4445 4f53 2055 5349 4e47  PLE VIDEOS USING
+000278a0: 2049 4e54 4552 504f 4c41 5449 4f4e 2028   INTERPOLATION (
+000278b0: 5741 524e 494e 473a 204c 4f4e 4720 5255  WARNING: LONG RU
+000278c0: 4e2d 5449 4d45 5329 2229 0a20 2020 2020  N-TIMES)").     
+000278d0: 2020 2073 6574 7469 6e67 735f 6672 6d20     settings_frm 
+000278e0: 3d20 4372 6561 7465 4c61 6265 6c46 7261  = CreateLabelFra
+000278f0: 6d65 5769 7468 4963 6f6e 2870 6172 656e  meWithIcon(paren
+00027900: 743d 7365 6c66 2e6d 6169 6e5f 6672 6d2c  t=self.main_frm,
+00027910: 2068 6561 6465 723d 2253 4554 5449 4e47   header="SETTING
+00027920: 5322 2c20 6963 6f6e 5f6e 616d 653d 4b65  S", icon_name=Ke
+00027930: 7973 2e44 4f43 554d 454e 5441 5449 4f4e  ys.DOCUMENTATION
+00027940: 2e76 616c 7565 2c20 6963 6f6e 5f6c 696e  .value, icon_lin
+00027950: 6b3d 4c69 6e6b 732e 5649 4445 4f5f 544f  k=Links.VIDEO_TO
+00027960: 4f4c 532e 7661 6c75 6529 0a20 2020 2020  OLS.value).     
+00027970: 2020 2073 656c 662e 6670 735f 6472 6f70     self.fps_drop
+00027980: 646f 776e 203d 2044 726f 7044 6f77 6e4d  down = DropDownM
+00027990: 656e 7528 7365 7474 696e 6773 5f66 726d  enu(settings_frm
+000279a0: 2c20 224e 4557 2046 5241 4d45 2d52 4154  , "NEW FRAME-RAT
+000279b0: 4520 2846 5053 293a 222c 206c 6973 7428  E (FPS):", list(
+000279c0: 7261 6e67 6528 312c 2035 3030 2929 2c20  range(1, 500)), 
+000279d0: 6c61 6265 6c77 6964 7468 3d32 3529 0a20  labelwidth=25). 
+000279e0: 2020 2020 2020 2073 656c 662e 7175 616c         self.qual
+000279f0: 6974 795f 6472 6f70 646f 776e 203d 2044  ity_dropdown = D
+00027a00: 726f 7044 6f77 6e4d 656e 7528 7365 7474  ropDownMenu(sett
+00027a10: 696e 6773 5f66 726d 2c20 224f 5554 5055  ings_frm, "OUTPU
+00027a20: 5420 5649 4445 4f20 5155 414c 4954 5920  T VIDEO QUALITY 
+00027a30: 2825 293a 222c 206c 6973 7428 7261 6e67  (%):", list(rang
+00027a40: 6528 3130 2c20 3131 302c 2031 3029 292c  e(10, 110, 10)),
+00027a50: 206c 6162 656c 7769 6474 683d 3235 290a   labelwidth=25).
+00027a60: 0a20 2020 2020 2020 2073 656c 662e 6670  .        self.fp
+00027a70: 735f 6472 6f70 646f 776e 2e73 6574 4368  s_dropdown.setCh
+00027a80: 6f69 6365 7328 3630 290a 2020 2020 2020  oices(60).      
+00027a90: 2020 7365 6c66 2e71 7561 6c69 7479 5f64    self.quality_d
+00027aa0: 726f 7064 6f77 6e2e 7365 7443 686f 6963  ropdown.setChoic
+00027ab0: 6573 2836 3029 0a20 2020 2020 2020 2073  es(60).        s
+00027ac0: 6574 7469 6e67 735f 6672 6d2e 6772 6964  ettings_frm.grid
+00027ad0: 2872 6f77 3d30 2c20 636f 6c75 6d6e 3d30  (row=0, column=0
+00027ae0: 2c20 7374 6963 6b79 3d22 4e57 2229 0a20  , sticky="NW"). 
+00027af0: 2020 2020 2020 2073 656c 662e 6670 735f         self.fps_
+00027b00: 6472 6f70 646f 776e 2e67 7269 6428 726f  dropdown.grid(ro
+00027b10: 773d 302c 2063 6f6c 756d 6e3d 302c 2073  w=0, column=0, s
+00027b20: 7469 636b 793d 224e 5722 290a 2020 2020  ticky="NW").    
+00027b30: 2020 2020 7365 6c66 2e71 7561 6c69 7479      self.quality
+00027b40: 5f64 726f 7064 6f77 6e2e 6772 6964 2872  _dropdown.grid(r
+00027b50: 6f77 3d31 2c20 636f 6c75 6d6e 3d30 2c20  ow=1, column=0, 
+00027b60: 7374 6963 6b79 3d22 4e57 2229 0a0a 2020  sticky="NW")..  
+00027b70: 2020 2020 2020 7369 6e67 6c65 5f76 6964        single_vid
+00027b80: 656f 5f66 726d 203d 2043 7265 6174 654c  eo_frm = CreateL
+00027b90: 6162 656c 4672 616d 6557 6974 6849 636f  abelFrameWithIco
+00027ba0: 6e28 7061 7265 6e74 3d73 656c 662e 6d61  n(parent=self.ma
+00027bb0: 696e 5f66 726d 2c20 6865 6164 6572 3d22  in_frm, header="
+00027bc0: 5349 4e47 4c45 2056 4944 454f 202d 2055  SINGLE VIDEO - U
+00027bd0: 502d 5341 4d50 4c45 222c 2069 636f 6e5f  P-SAMPLE", icon_
+00027be0: 6e61 6d65 3d4b 6579 732e 444f 4355 4d45  name=Keys.DOCUME
+00027bf0: 4e54 4154 494f 4e2e 7661 6c75 652c 2069  NTATION.value, i
+00027c00: 636f 6e5f 6c69 6e6b 3d4c 696e 6b73 2e56  con_link=Links.V
+00027c10: 4944 454f 5f54 4f4f 4c53 2e76 616c 7565  IDEO_TOOLS.value
+00027c20: 290a 2020 2020 2020 2020 7365 6c66 2e73  ).        self.s
+00027c30: 656c 6563 7465 645f 7669 6465 6f20 3d20  elected_video = 
+00027c40: 4669 6c65 5365 6c65 6374 2873 696e 676c  FileSelect(singl
+00027c50: 655f 7669 6465 6f5f 6672 6d2c 2022 5649  e_video_frm, "VI
+00027c60: 4445 4f20 5041 5448 3a22 2c20 7469 746c  DEO PATH:", titl
+00027c70: 653d 2253 656c 6563 7420 6120 7669 6465  e="Select a vide
+00027c80: 6f20 6669 6c65 222c 206c 626c 7769 6474  o file", lblwidt
+00027c90: 683d 3235 2c20 6669 6c65 5f74 7970 6573  h=25, file_types
+00027ca0: 3d5b 2822 5649 4445 4f20 4649 4c45 222c  =[("VIDEO FILE",
+00027cb0: 204f 7074 696f 6e73 2e41 4c4c 5f56 4944   Options.ALL_VID
+00027cc0: 454f 5f46 4f52 4d41 545f 5354 525f 4f50  EO_FORMAT_STR_OP
+00027cd0: 5449 4f4e 532e 7661 6c75 6529 5d29 0a20  TIONS.value)]). 
+00027ce0: 2020 2020 2020 2073 696e 676c 655f 7669         single_vi
+00027cf0: 6465 6f5f 7275 6e20 3d20 4275 7474 6f6e  deo_run = Button
+00027d00: 2873 696e 676c 655f 7669 6465 6f5f 6672  (single_video_fr
+00027d10: 6d2c 2074 6578 743d 2252 554e 202d 2053  m, text="RUN - S
+00027d20: 494e 474c 4520 5649 4445 4f22 2c20 636f  INGLE VIDEO", co
+00027d30: 6d6d 616e 643d 6c61 6d62 6461 3a20 7365  mmand=lambda: se
+00027d40: 6c66 2e72 756e 286d 756c 7469 706c 653d  lf.run(multiple=
+00027d50: 4661 6c73 6529 290a 0a20 2020 2020 2020  False))..       
+00027d60: 2073 696e 676c 655f 7669 6465 6f5f 6672   single_video_fr
+00027d70: 6d2e 6772 6964 2872 6f77 3d31 2c20 636f  m.grid(row=1, co
+00027d80: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d22  lumn=0, sticky="
+00027d90: 4e57 2229 0a20 2020 2020 2020 2073 656c  NW").        sel
+00027da0: 662e 7365 6c65 6374 6564 5f76 6964 656f  f.selected_video
+00027db0: 2e67 7269 6428 726f 773d 302c 2063 6f6c  .grid(row=0, col
+00027dc0: 756d 6e3d 302c 2073 7469 636b 793d 224e  umn=0, sticky="N
+00027dd0: 5722 290a 2020 2020 2020 2020 7369 6e67  W").        sing
+00027de0: 6c65 5f76 6964 656f 5f72 756e 2e67 7269  le_video_run.gri
+00027df0: 6428 726f 773d 312c 2063 6f6c 756d 6e3d  d(row=1, column=
+00027e00: 302c 2073 7469 636b 793d 224e 5722 290a  0, sticky="NW").
+00027e10: 0a20 2020 2020 2020 206d 756c 7469 706c  .        multipl
+00027e20: 655f 7669 6465 6f73 5f66 726d 203d 2043  e_videos_frm = C
+00027e30: 7265 6174 654c 6162 656c 4672 616d 6557  reateLabelFrameW
+00027e40: 6974 6849 636f 6e28 7061 7265 6e74 3d73  ithIcon(parent=s
+00027e50: 656c 662e 6d61 696e 5f66 726d 2c20 6865  elf.main_frm, he
+00027e60: 6164 6572 3d22 4d55 4c54 4950 4c45 2056  ader="MULTIPLE V
+00027e70: 4944 454f 5320 2d20 2055 502d 5341 4d50  IDEOS -  UP-SAMP
+00027e80: 4c45 222c 2069 636f 6e5f 6e61 6d65 3d4b  LE", icon_name=K
+00027e90: 6579 732e 444f 4355 4d45 4e54 4154 494f  eys.DOCUMENTATIO
+00027ea0: 4e2e 7661 6c75 652c 2069 636f 6e5f 6c69  N.value, icon_li
+00027eb0: 6e6b 3d4c 696e 6b73 2e56 4944 454f 5f54  nk=Links.VIDEO_T
+00027ec0: 4f4f 4c53 2e76 616c 7565 290a 2020 2020  OOLS.value).    
+00027ed0: 2020 2020 7365 6c66 2e73 656c 6563 7465      self.selecte
+00027ee0: 645f 7669 6465 6f5f 6469 7220 3d20 466f  d_video_dir = Fo
+00027ef0: 6c64 6572 5365 6c65 6374 286d 756c 7469  lderSelect(multi
+00027f00: 706c 655f 7669 6465 6f73 5f66 726d 2c20  ple_videos_frm, 
+00027f10: 2256 4944 454f 2044 4952 4543 544f 5259  "VIDEO DIRECTORY
+00027f20: 2050 4154 483a 222c 2074 6974 6c65 3d22   PATH:", title="
+00027f30: 5365 6c65 6374 2061 2076 6964 656f 2064  Select a video d
+00027f40: 6972 6563 746f 7279 222c 206c 626c 7769  irectory", lblwi
+00027f50: 6474 683d 3235 290a 2020 2020 2020 2020  dth=25).        
+00027f60: 6d75 6c74 6970 6c65 5f76 6964 656f 735f  multiple_videos_
+00027f70: 7275 6e20 3d20 4275 7474 6f6e 286d 756c  run = Button(mul
+00027f80: 7469 706c 655f 7669 6465 6f73 5f66 726d  tiple_videos_frm
+00027f90: 2c20 7465 7874 3d22 5255 4e20 2d20 4d55  , text="RUN - MU
+00027fa0: 4c54 4950 4c45 2056 4944 454f 5322 2c20  LTIPLE VIDEOS", 
+00027fb0: 636f 6d6d 616e 643d 6c61 6d62 6461 3a20  command=lambda: 
+00027fc0: 7365 6c66 2e72 756e 286d 756c 7469 706c  self.run(multipl
+00027fd0: 653d 5472 7565 2929 0a0a 2020 2020 2020  e=True))..      
+00027fe0: 2020 6d75 6c74 6970 6c65 5f76 6964 656f    multiple_video
+00027ff0: 735f 6672 6d2e 6772 6964 2872 6f77 3d32  s_frm.grid(row=2
+00028000: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
+00028010: 6b79 3d22 4e57 2229 0a20 2020 2020 2020  ky="NW").       
+00028020: 2073 656c 662e 7365 6c65 6374 6564 5f76   self.selected_v
+00028030: 6964 656f 5f64 6972 2e67 7269 6428 726f  ideo_dir.grid(ro
+00028040: 773d 302c 2063 6f6c 756d 6e3d 302c 2073  w=0, column=0, s
+00028050: 7469 636b 793d 224e 5722 290a 2020 2020  ticky="NW").    
+00028060: 2020 2020 6d75 6c74 6970 6c65 5f76 6964      multiple_vid
+00028070: 656f 735f 7275 6e2e 6772 6964 2872 6f77  eos_run.grid(row
+00028080: 3d31 2c20 636f 6c75 6d6e 3d30 2c20 7374  =1, column=0, st
+00028090: 6963 6b79 3d22 4e57 2229 0a20 2020 2020  icky="NW").     
+000280a0: 2020 2073 656c 662e 6d61 696e 5f66 726d     self.main_frm
+000280b0: 2e6d 6169 6e6c 6f6f 7028 290a 0a20 2020  .mainloop()..   
+000280c0: 2064 6566 2072 756e 2873 656c 662c 206d   def run(self, m
+000280d0: 756c 7469 706c 653a 2062 6f6f 6c29 3a0a  ultiple: bool):.
+000280e0: 2020 2020 2020 2020 7461 7267 6574 5f66          target_f
+000280f0: 7073 203d 2069 6e74 2873 656c 662e 6670  ps = int(self.fp
+00028100: 735f 6472 6f70 646f 776e 2e67 6574 4368  s_dropdown.getCh
+00028110: 6f69 6365 7328 2929 0a20 2020 2020 2020  oices()).       
+00028120: 2074 6172 6765 745f 7175 616c 6974 7920   target_quality 
+00028130: 3d20 696e 7428 7365 6c66 2e71 7561 6c69  = int(self.quali
+00028140: 7479 5f64 726f 7064 6f77 6e2e 6765 7443  ty_dropdown.getC
+00028150: 686f 6963 6573 2829 290a 2020 2020 2020  hoices()).      
+00028160: 2020 6966 206e 6f74 206d 756c 7469 706c    if not multipl
+00028170: 653a 0a20 2020 2020 2020 2020 2020 2064  e:.            d
+00028180: 6174 615f 7061 7468 203d 2073 656c 662e  ata_path = self.
+00028190: 7365 6c65 6374 6564 5f76 6964 656f 2e66  selected_video.f
+000281a0: 696c 655f 7061 7468 0a20 2020 2020 2020  ile_path.       
+000281b0: 2020 2020 2063 6865 636b 5f66 696c 655f       check_file_
+000281c0: 6578 6973 745f 616e 645f 7265 6164 6162  exist_and_readab
+000281d0: 6c65 2866 696c 655f 7061 7468 3d64 6174  le(file_path=dat
+000281e0: 615f 7061 7468 290a 2020 2020 2020 2020  a_path).        
+000281f0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00028200: 2020 6461 7461 5f70 6174 6820 3d20 7365    data_path = se
+00028210: 6c66 2e73 656c 6563 7465 645f 7669 6465  lf.selected_vide
+00028220: 6f5f 6469 722e 666f 6c64 6572 5f70 6174  o_dir.folder_pat
+00028230: 680a 2020 2020 2020 2020 2020 2020 6368  h.            ch
+00028240: 6563 6b5f 6966 5f64 6972 5f65 7869 7374  eck_if_dir_exist
+00028250: 7328 696e 5f64 6972 3d64 6174 615f 7061  s(in_dir=data_pa
+00028260: 7468 290a 0a20 2020 2020 2020 2074 6872  th)..        thr
+00028270: 6561 6469 6e67 2e54 6872 6561 6428 7461  eading.Thread(ta
+00028280: 7267 6574 3d75 7073 616d 706c 655f 6670  rget=upsample_fp
+00028290: 7328 7669 6465 6f5f 7061 7468 3d64 6174  s(video_path=dat
+000282a0: 615f 7061 7468 2c0a 2020 2020 2020 2020  a_path,.        
+000282b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000282c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000282d0: 2020 2020 2066 7073 3d74 6172 6765 745f       fps=target_
+000282e0: 6670 732c 0a20 2020 2020 2020 2020 2020  fps,.           
+000282f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028310: 2020 7175 616c 6974 793d 7461 7267 6574    quality=target
+00028320: 5f71 7561 6c69 7479 2929 2e73 7461 7274  _quality)).start
+00028330: 2829 0a0a 0a0a 636c 6173 7320 5265 7665  ()....class Reve
+00028340: 7273 6556 6964 656f 506f 7055 7028 506f  rseVideoPopUp(Po
+00028350: 7055 704d 6978 696e 293a 0a20 2020 2064  pUpMixin):.    d
+00028360: 6566 205f 5f69 6e69 745f 5f28 7365 6c66  ef __init__(self
+00028370: 293a 0a20 2020 2020 2020 2050 6f70 5570  ):.        PopUp
+00028380: 4d69 7869 6e2e 5f5f 696e 6974 5f5f 2873  Mixin.__init__(s
+00028390: 656c 662c 2074 6974 6c65 3d22 5245 5645  elf, title="REVE
+000283a0: 5253 4520 5649 4445 4f53 2229 0a20 2020  RSE VIDEOS").   
+000283b0: 2020 2020 2073 6574 7469 6e67 735f 6672       settings_fr
+000283c0: 6d20 3d20 4372 6561 7465 4c61 6265 6c46  m = CreateLabelF
+000283d0: 7261 6d65 5769 7468 4963 6f6e 2870 6172  rameWithIcon(par
+000283e0: 656e 743d 7365 6c66 2e6d 6169 6e5f 6672  ent=self.main_fr
+000283f0: 6d2c 2068 6561 6465 723d 2253 4554 5449  m, header="SETTI
+00028400: 4e47 5322 2c20 6963 6f6e 5f6e 616d 653d  NGS", icon_name=
+00028410: 4b65 7973 2e44 4f43 554d 454e 5441 5449  Keys.DOCUMENTATI
+00028420: 4f4e 2e76 616c 7565 2c20 6963 6f6e 5f6c  ON.value, icon_l
+00028430: 696e 6b3d 4c69 6e6b 732e 5649 4445 4f5f  ink=Links.VIDEO_
+00028440: 544f 4f4c 532e 7661 6c75 6529 0a20 2020  TOOLS.value).   
+00028450: 2020 2020 2073 656c 662e 4d50 345f 434f       self.MP4_CO
+00028460: 4445 435f 4c4b 203d 207b 2748 4556 4320  DEC_LK = {'HEVC 
+00028470: 2848 2e32 3635 2927 3a20 276c 6962 7832  (H.265)': 'libx2
+00028480: 3635 272c 2027 482e 3236 3420 2841 5643  65', 'H.264 (AVC
+00028490: 2927 3a20 276c 6962 7832 3634 272c 2027  )': 'libx264', '
+000284a0: 5650 3927 3a20 2776 7039 277d 0a20 2020  VP9': 'vp9'}.   
+000284b0: 2020 2020 2073 656c 662e 7175 616c 6974       self.qualit
+000284c0: 795f 6472 6f70 646f 776e 203d 2044 726f  y_dropdown = Dro
+000284d0: 7044 6f77 6e4d 656e 7528 7365 7474 696e  pDownMenu(settin
+000284e0: 6773 5f66 726d 2c20 224f 5554 5055 5420  gs_frm, "OUTPUT 
+000284f0: 5649 4445 4f20 5155 414c 4954 593a 222c  VIDEO QUALITY:",
+00028500: 206c 6973 7428 7261 6e67 6528 3130 2c20   list(range(10, 
+00028510: 3131 302c 2031 3029 292c 206c 6162 656c  110, 10)), label
+00028520: 7769 6474 683d 3235 290a 2020 2020 2020  width=25).      
+00028530: 2020 7365 6c66 2e71 7561 6c69 7479 5f64    self.quality_d
+00028540: 726f 7064 6f77 6e2e 7365 7443 686f 6963  ropdown.setChoic
+00028550: 6573 2836 3029 0a20 2020 2020 2020 2073  es(60).        s
+00028560: 656c 662e 636f 6465 635f 6472 6f70 646f  elf.codec_dropdo
+00028570: 776e 203d 2044 726f 7044 6f77 6e4d 656e  wn = DropDownMen
+00028580: 7528 7365 7474 696e 6773 5f66 726d 2c20  u(settings_frm, 
+00028590: 2243 4f4d 5052 4553 5349 4f4e 2043 4f44  "COMPRESSION COD
+000285a0: 4543 3a22 2c20 6c69 7374 2873 656c 662e  EC:", list(self.
+000285b0: 4d50 345f 434f 4445 435f 4c4b 2e6b 6579  MP4_CODEC_LK.key
+000285c0: 7328 2929 2c20 6c61 6265 6c77 6964 7468  s()), labelwidth
+000285d0: 3d32 3529 0a20 2020 2020 2020 2073 656c  =25).        sel
+000285e0: 662e 636f 6465 635f 6472 6f70 646f 776e  f.codec_dropdown
+000285f0: 2e73 6574 4368 6f69 6365 7328 2748 4556  .setChoices('HEV
+00028600: 4320 2848 2e32 3635 2927 290a 2020 2020  C (H.265)').    
+00028610: 2020 2020 7365 7474 696e 6773 5f66 726d      settings_frm
+00028620: 2e67 7269 6428 726f 773d 302c 2063 6f6c  .grid(row=0, col
+00028630: 756d 6e3d 302c 2073 7469 636b 793d 4e57  umn=0, sticky=NW
+00028640: 290a 2020 2020 2020 2020 7365 6c66 2e71  ).        self.q
+00028650: 7561 6c69 7479 5f64 726f 7064 6f77 6e2e  uality_dropdown.
+00028660: 6772 6964 2872 6f77 3d30 2c20 636f 6c75  grid(row=0, colu
+00028670: 6d6e 3d30 2c20 7374 6963 6b79 3d4e 5729  mn=0, sticky=NW)
+00028680: 0a20 2020 2020 2020 2073 656c 662e 636f  .        self.co
+00028690: 6465 635f 6472 6f70 646f 776e 2e67 7269  dec_dropdown.gri
+000286a0: 6428 726f 773d 312c 2063 6f6c 756d 6e3d  d(row=1, column=
+000286b0: 302c 2073 7469 636b 793d 4e57 290a 0a20  0, sticky=NW).. 
+000286c0: 2020 2020 2020 2073 696e 676c 655f 7669         single_vi
+000286d0: 6465 6f5f 6672 6d20 3d20 4372 6561 7465  deo_frm = Create
+000286e0: 4c61 6265 6c46 7261 6d65 5769 7468 4963  LabelFrameWithIc
+000286f0: 6f6e 2870 6172 656e 743d 7365 6c66 2e6d  on(parent=self.m
+00028700: 6169 6e5f 6672 6d2c 2068 6561 6465 723d  ain_frm, header=
+00028710: 2253 494e 474c 4520 5649 4445 4f20 2d20  "SINGLE VIDEO - 
+00028720: 5245 5645 5253 4522 2c20 6963 6f6e 5f6e  REVERSE", icon_n
+00028730: 616d 653d 4b65 7973 2e44 4f43 554d 454e  ame=Keys.DOCUMEN
+00028740: 5441 5449 4f4e 2e76 616c 7565 2c20 6963  TATION.value, ic
+00028750: 6f6e 5f6c 696e 6b3d 4c69 6e6b 732e 5649  on_link=Links.VI
+00028760: 4445 4f5f 544f 4f4c 532e 7661 6c75 6529  DEO_TOOLS.value)
+00028770: 0a20 2020 2020 2020 2073 656c 662e 7365  .        self.se
+00028780: 6c65 6374 6564 5f76 6964 656f 203d 2046  lected_video = F
+00028790: 696c 6553 656c 6563 7428 7369 6e67 6c65  ileSelect(single
+000287a0: 5f76 6964 656f 5f66 726d 2c20 2256 4944  _video_frm, "VID
+000287b0: 454f 2050 4154 483a 222c 2074 6974 6c65  EO PATH:", title
+000287c0: 3d22 5365 6c65 6374 2061 2076 6964 656f  ="Select a video
+000287d0: 2066 696c 6522 2c20 6c62 6c77 6964 7468   file", lblwidth
+000287e0: 3d32 352c 2066 696c 655f 7479 7065 733d  =25, file_types=
+000287f0: 5b28 2256 4944 454f 2046 494c 4522 2c20  [("VIDEO FILE", 
+00028800: 4f70 7469 6f6e 732e 414c 4c5f 5649 4445  Options.ALL_VIDE
+00028810: 4f5f 464f 524d 4154 5f53 5452 5f4f 5054  O_FORMAT_STR_OPT
+00028820: 494f 4e53 2e76 616c 7565 295d 290a 2020  IONS.value)]).  
+00028830: 2020 2020 2020 7369 6e67 6c65 5f76 6964        single_vid
+00028840: 656f 5f72 756e 203d 2042 7574 746f 6e28  eo_run = Button(
+00028850: 7369 6e67 6c65 5f76 6964 656f 5f66 726d  single_video_frm
+00028860: 2c20 7465 7874 3d22 5255 4e20 2d20 5349  , text="RUN - SI
+00028870: 4e47 4c45 2056 4944 454f 222c 2063 6f6d  NGLE VIDEO", com
+00028880: 6d61 6e64 3d6c 616d 6264 613a 2073 656c  mand=lambda: sel
+00028890: 662e 7275 6e28 6d75 6c74 6970 6c65 3d46  f.run(multiple=F
+000288a0: 616c 7365 2929 0a0a 2020 2020 2020 2020  alse))..        
+000288b0: 7369 6e67 6c65 5f76 6964 656f 5f66 726d  single_video_frm
+000288c0: 2e67 7269 6428 726f 773d 312c 2063 6f6c  .grid(row=1, col
+000288d0: 756d 6e3d 302c 2073 7469 636b 793d 224e  umn=0, sticky="N
+000288e0: 5722 290a 2020 2020 2020 2020 7365 6c66  W").        self
+000288f0: 2e73 656c 6563 7465 645f 7669 6465 6f2e  .selected_video.
+00028900: 6772 6964 2872 6f77 3d30 2c20 636f 6c75  grid(row=0, colu
+00028910: 6d6e 3d30 2c20 7374 6963 6b79 3d22 4e57  mn=0, sticky="NW
+00028920: 2229 0a20 2020 2020 2020 2073 696e 676c  ").        singl
+00028930: 655f 7669 6465 6f5f 7275 6e2e 6772 6964  e_video_run.grid
+00028940: 2872 6f77 3d31 2c20 636f 6c75 6d6e 3d30  (row=1, column=0
+00028950: 2c20 7374 6963 6b79 3d22 4e57 2229 0a0a  , sticky="NW")..
+00028960: 2020 2020 2020 2020 6d75 6c74 6970 6c65          multiple
+00028970: 5f76 6964 656f 735f 6672 6d20 3d20 4372  _videos_frm = Cr
+00028980: 6561 7465 4c61 6265 6c46 7261 6d65 5769  eateLabelFrameWi
+00028990: 7468 4963 6f6e 2870 6172 656e 743d 7365  thIcon(parent=se
+000289a0: 6c66 2e6d 6169 6e5f 6672 6d2c 2068 6561  lf.main_frm, hea
+000289b0: 6465 723d 224d 554c 5449 504c 4520 5649  der="MULTIPLE VI
+000289c0: 4445 4f53 202d 2052 4556 4552 5345 222c  DEOS - REVERSE",
+000289d0: 2069 636f 6e5f 6e61 6d65 3d4b 6579 732e   icon_name=Keys.
+000289e0: 444f 4355 4d45 4e54 4154 494f 4e2e 7661  DOCUMENTATION.va
+000289f0: 6c75 652c 2069 636f 6e5f 6c69 6e6b 3d4c  lue, icon_link=L
+00028a00: 696e 6b73 2e56 4944 454f 5f54 4f4f 4c53  inks.VIDEO_TOOLS
+00028a10: 2e76 616c 7565 290a 2020 2020 2020 2020  .value).        
+00028a20: 7365 6c66 2e73 656c 6563 7465 645f 7669  self.selected_vi
+00028a30: 6465 6f5f 6469 7220 3d20 466f 6c64 6572  deo_dir = Folder
+00028a40: 5365 6c65 6374 286d 756c 7469 706c 655f  Select(multiple_
+00028a50: 7669 6465 6f73 5f66 726d 2c20 2256 4944  videos_frm, "VID
+00028a60: 454f 2044 4952 4543 544f 5259 2050 4154  EO DIRECTORY PAT
+00028a70: 483a 222c 2074 6974 6c65 3d22 5365 6c65  H:", title="Sele
+00028a80: 6374 2061 2076 6964 656f 2064 6972 6563  ct a video direc
+00028a90: 746f 7279 222c 206c 626c 7769 6474 683d  tory", lblwidth=
+00028aa0: 3235 290a 2020 2020 2020 2020 6d75 6c74  25).        mult
+00028ab0: 6970 6c65 5f76 6964 656f 735f 7275 6e20  iple_videos_run 
+00028ac0: 3d20 4275 7474 6f6e 286d 756c 7469 706c  = Button(multipl
+00028ad0: 655f 7669 6465 6f73 5f66 726d 2c20 7465  e_videos_frm, te
+00028ae0: 7874 3d22 5255 4e20 2d20 4d55 4c54 4950  xt="RUN - MULTIP
+00028af0: 4c45 2056 4944 454f 5322 2c20 636f 6d6d  LE VIDEOS", comm
+00028b00: 616e 643d 6c61 6d62 6461 3a20 7365 6c66  and=lambda: self
+00028b10: 2e72 756e 286d 756c 7469 706c 653d 5472  .run(multiple=Tr
+00028b20: 7565 2929 0a0a 2020 2020 2020 2020 6d75  ue))..        mu
+00028b30: 6c74 6970 6c65 5f76 6964 656f 735f 6672  ltiple_videos_fr
+00028b40: 6d2e 6772 6964 2872 6f77 3d32 2c20 636f  m.grid(row=2, co
+00028b50: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d22  lumn=0, sticky="
+00028b60: 4e57 2229 0a20 2020 2020 2020 2073 656c  NW").        sel
+00028b70: 662e 7365 6c65 6374 6564 5f76 6964 656f  f.selected_video
+00028b80: 5f64 6972 2e67 7269 6428 726f 773d 302c  _dir.grid(row=0,
+00028b90: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
+00028ba0: 793d 224e 5722 290a 2020 2020 2020 2020  y="NW").        
+00028bb0: 6d75 6c74 6970 6c65 5f76 6964 656f 735f  multiple_videos_
+00028bc0: 7275 6e2e 6772 6964 2872 6f77 3d31 2c20  run.grid(row=1, 
+00028bd0: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
+00028be0: 3d22 4e57 2229 0a20 2020 2020 2020 2023  ="NW").        #
+00028bf0: 7365 6c66 2e6d 6169 6e5f 6672 6d2e 6d61  self.main_frm.ma
+00028c00: 696e 6c6f 6f70 2829 0a0a 2020 2020 6465  inloop()..    de
+00028c10: 6620 7275 6e28 7365 6c66 2c20 6d75 6c74  f run(self, mult
+00028c20: 6970 6c65 3a20 626f 6f6c 293a 0a20 2020  iple: bool):.   
+00028c30: 2020 2020 2074 6172 6765 745f 7175 616c       target_qual
+00028c40: 6974 7920 3d20 696e 7428 7365 6c66 2e71  ity = int(self.q
+00028c50: 7561 6c69 7479 5f64 726f 7064 6f77 6e2e  uality_dropdown.
+00028c60: 6765 7443 686f 6963 6573 2829 290a 2020  getChoices()).  
+00028c70: 2020 2020 2020 636f 6465 6320 3d20 7365        codec = se
+00028c80: 6c66 2e4d 5034 5f43 4f44 4543 5f4c 4b5b  lf.MP4_CODEC_LK[
+00028c90: 7365 6c66 2e63 6f64 6563 5f64 726f 7064  self.codec_dropd
+00028ca0: 6f77 6e2e 6765 7443 686f 6963 6573 2829  own.getChoices()
+00028cb0: 5d0a 2020 2020 2020 2020 6966 206e 6f74  ].        if not
+00028cc0: 206d 756c 7469 706c 653a 0a20 2020 2020   multiple:.     
+00028cd0: 2020 2020 2020 2064 6174 615f 7061 7468         data_path
+00028ce0: 203d 2073 656c 662e 7365 6c65 6374 6564   = self.selected
+00028cf0: 5f76 6964 656f 2e66 696c 655f 7061 7468  _video.file_path
+00028d00: 0a20 2020 2020 2020 2020 2020 2063 6865  .            che
+00028d10: 636b 5f66 696c 655f 6578 6973 745f 616e  ck_file_exist_an
+00028d20: 645f 7265 6164 6162 6c65 2866 696c 655f  d_readable(file_
+00028d30: 7061 7468 3d64 6174 615f 7061 7468 290a  path=data_path).
+00028d40: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00028d50: 2020 2020 2020 2020 2020 6461 7461 5f70            data_p
+00028d60: 6174 6820 3d20 7365 6c66 2e73 656c 6563  ath = self.selec
+00028d70: 7465 645f 7669 6465 6f5f 6469 722e 666f  ted_video_dir.fo
+00028d80: 6c64 6572 5f70 6174 680a 2020 2020 2020  lder_path.      
+00028d90: 2020 2020 2020 6368 6563 6b5f 6966 5f64        check_if_d
+00028da0: 6972 5f65 7869 7374 7328 696e 5f64 6972  ir_exists(in_dir
+00028db0: 3d64 6174 615f 7061 7468 290a 0a20 2020  =data_path)..   
+00028dc0: 2020 2020 2072 6576 6572 7365 5f76 6964       reverse_vid
+00028dd0: 656f 7328 7061 7468 3d64 6174 615f 7061  eos(path=data_pa
+00028de0: 7468 2c20 7175 616c 6974 793d 7461 7267  th, quality=targ
+00028df0: 6574 5f71 7561 6c69 7479 2c20 636f 6465  et_quality, code
+00028e00: 633d 636f 6465 6329 0a0a 636c 6173 7320  c=codec)..class 
+00028e10: 436f 6e76 6572 7432 426c 6163 6b57 6869  Convert2BlackWhi
+00028e20: 7465 506f 7055 7028 506f 7055 704d 6978  tePopUp(PopUpMix
+00028e30: 696e 293a 0a20 2020 2064 6566 205f 5f69  in):.    def __i
+00028e40: 6e69 745f 5f28 7365 6c66 293a 0a20 2020  nit__(self):.   
+00028e50: 2020 2020 2050 6f70 5570 4d69 7869 6e2e       PopUpMixin.
+00028e60: 5f5f 696e 6974 5f5f 2873 656c 662c 2074  __init__(self, t
+00028e70: 6974 6c65 3d22 434f 4e56 4552 5420 5649  itle="CONVERT VI
+00028e80: 4445 4f53 2054 4f20 424c 4143 4b20 414e  DEOS TO BLACK AN
+00028e90: 4420 5748 4954 4520 284e 4f54 453a 204e  D WHITE (NOTE: N
+00028ea0: 4f54 2047 5241 5953 4341 4c45 2922 290a  OT GRAYSCALE)").
+00028eb0: 2020 2020 2020 2020 7365 7474 696e 6773          settings
+00028ec0: 5f66 726d 203d 2043 7265 6174 654c 6162  _frm = CreateLab
+00028ed0: 656c 4672 616d 6557 6974 6849 636f 6e28  elFrameWithIcon(
+00028ee0: 7061 7265 6e74 3d73 656c 662e 6d61 696e  parent=self.main
+00028ef0: 5f66 726d 2c20 6865 6164 6572 3d22 5345  _frm, header="SE
+00028f00: 5454 494e 4753 222c 2069 636f 6e5f 6e61  TTINGS", icon_na
+00028f10: 6d65 3d4b 6579 732e 444f 4355 4d45 4e54  me=Keys.DOCUMENT
+00028f20: 4154 494f 4e2e 7661 6c75 652c 2069 636f  ATION.value, ico
+00028f30: 6e5f 6c69 6e6b 3d4c 696e 6b73 2e56 4944  n_link=Links.VID
+00028f40: 454f 5f54 4f4f 4c53 2e76 616c 7565 290a  EO_TOOLS.value).
+00028f50: 2020 2020 2020 2020 7468 7265 7368 6f6c          threshol
+00028f60: 6420 3d20 5b72 6f75 6e64 2878 2c20 3229  d = [round(x, 2)
+00028f70: 2066 6f72 2078 2069 6e20 6c69 7374 286e   for x in list(n
+00028f80: 702e 6172 616e 6765 2830 2e30 312c 2031  p.arange(0.01, 1
+00028f90: 2e30 312c 2030 2e30 3129 295d 0a20 2020  .01, 0.01))].   
+00028fa0: 2020 2020 2073 656c 662e 7468 7265 7368       self.thresh
+00028fb0: 6f6c 645f 6472 6f70 646f 776e 203d 2044  old_dropdown = D
+00028fc0: 726f 7044 6f77 6e4d 656e 7528 7365 7474  ropDownMenu(sett
+00028fd0: 696e 6773 5f66 726d 2c20 2242 4c41 434b  ings_frm, "BLACK
+00028fe0: 2054 4852 4553 484f 4c44 3a22 2c20 7468   THRESHOLD:", th
+00028ff0: 7265 7368 6f6c 642c 206c 6162 656c 7769  reshold, labelwi
+00029000: 6474 683d 3235 290a 2020 2020 2020 2020  dth=25).        
+00029010: 7365 6c66 2e74 6872 6573 686f 6c64 5f64  self.threshold_d
+00029020: 726f 7064 6f77 6e2e 7365 7443 686f 6963  ropdown.setChoic
+00029030: 6573 2830 2e35 290a 0a20 2020 2020 2020  es(0.5)..       
+00029040: 2073 6574 7469 6e67 735f 6672 6d2e 6772   settings_frm.gr
+00029050: 6964 2872 6f77 3d30 2c20 636f 6c75 6d6e  id(row=0, column
+00029060: 3d30 2c20 7374 6963 6b79 3d4e 5729 0a20  =0, sticky=NW). 
+00029070: 2020 2020 2020 2073 656c 662e 7468 7265         self.thre
+00029080: 7368 6f6c 645f 6472 6f70 646f 776e 2e67  shold_dropdown.g
+00029090: 7269 6428 726f 773d 302c 2063 6f6c 756d  rid(row=0, colum
+000290a0: 6e3d 302c 2073 7469 636b 793d 4e57 290a  n=0, sticky=NW).
+000290b0: 0a20 2020 2020 2020 2073 696e 676c 655f  .        single_
+000290c0: 7669 6465 6f5f 6672 6d20 3d20 4372 6561  video_frm = Crea
+000290d0: 7465 4c61 6265 6c46 7261 6d65 5769 7468  teLabelFrameWith
+000290e0: 4963 6f6e 2870 6172 656e 743d 7365 6c66  Icon(parent=self
+000290f0: 2e6d 6169 6e5f 6672 6d2c 2068 6561 6465  .main_frm, heade
+00029100: 723d 2253 494e 474c 4520 5649 4445 4f20  r="SINGLE VIDEO 
+00029110: 2d20 434f 4e56 4552 5420 544f 2042 4c41  - CONVERT TO BLA
+00029120: 434b 2026 2057 4849 5445 222c 2069 636f  CK & WHITE", ico
+00029130: 6e5f 6e61 6d65 3d4b 6579 732e 444f 4355  n_name=Keys.DOCU
+00029140: 4d45 4e54 4154 494f 4e2e 7661 6c75 652c  MENTATION.value,
+00029150: 2069 636f 6e5f 6c69 6e6b 3d4c 696e 6b73   icon_link=Links
+00029160: 2e56 4944 454f 5f54 4f4f 4c53 2e76 616c  .VIDEO_TOOLS.val
+00029170: 7565 290a 2020 2020 2020 2020 7365 6c66  ue).        self
+00029180: 2e73 656c 6563 7465 645f 7669 6465 6f20  .selected_video 
+00029190: 3d20 4669 6c65 5365 6c65 6374 2873 696e  = FileSelect(sin
+000291a0: 676c 655f 7669 6465 6f5f 6672 6d2c 2022  gle_video_frm, "
+000291b0: 5649 4445 4f20 5041 5448 3a22 2c20 7469  VIDEO PATH:", ti
+000291c0: 746c 653d 2253 656c 6563 7420 6120 7669  tle="Select a vi
+000291d0: 6465 6f20 6669 6c65 222c 206c 626c 7769  deo file", lblwi
+000291e0: 6474 683d 3235 2c20 6669 6c65 5f74 7970  dth=25, file_typ
+000291f0: 6573 3d5b 2822 5649 4445 4f20 4649 4c45  es=[("VIDEO FILE
+00029200: 222c 204f 7074 696f 6e73 2e41 4c4c 5f56  ", Options.ALL_V
+00029210: 4944 454f 5f46 4f52 4d41 545f 5354 525f  IDEO_FORMAT_STR_
+00029220: 4f50 5449 4f4e 532e 7661 6c75 6529 5d29  OPTIONS.value)])
+00029230: 0a20 2020 2020 2020 2073 696e 676c 655f  .        single_
+00029240: 7669 6465 6f5f 7275 6e20 3d20 4275 7474  video_run = Butt
+00029250: 6f6e 2873 696e 676c 655f 7669 6465 6f5f  on(single_video_
+00029260: 6672 6d2c 2074 6578 743d 2252 554e 202d  frm, text="RUN -
+00029270: 2053 494e 474c 4520 5649 4445 4f22 2c20   SINGLE VIDEO", 
+00029280: 636f 6d6d 616e 643d 6c61 6d62 6461 3a20  command=lambda: 
+00029290: 7365 6c66 2e72 756e 286d 756c 7469 706c  self.run(multipl
+000292a0: 653d 4661 6c73 6529 290a 0a20 2020 2020  e=False))..     
+000292b0: 2020 2073 696e 676c 655f 7669 6465 6f5f     single_video_
+000292c0: 6672 6d2e 6772 6964 2872 6f77 3d31 2c20  frm.grid(row=1, 
+000292d0: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
+000292e0: 3d22 4e57 2229 0a20 2020 2020 2020 2073  ="NW").        s
+000292f0: 656c 662e 7365 6c65 6374 6564 5f76 6964  elf.selected_vid
+00029300: 656f 2e67 7269 6428 726f 773d 302c 2063  eo.grid(row=0, c
+00029310: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
+00029320: 224e 5722 290a 2020 2020 2020 2020 7369  "NW").        si
+00029330: 6e67 6c65 5f76 6964 656f 5f72 756e 2e67  ngle_video_run.g
+00029340: 7269 6428 726f 773d 312c 2063 6f6c 756d  rid(row=1, colum
+00029350: 6e3d 302c 2073 7469 636b 793d 224e 5722  n=0, sticky="NW"
+00029360: 290a 0a20 2020 2020 2020 206d 756c 7469  )..        multi
+00029370: 706c 655f 7669 6465 6f73 5f66 726d 203d  ple_videos_frm =
+00029380: 2043 7265 6174 654c 6162 656c 4672 616d   CreateLabelFram
+00029390: 6557 6974 6849 636f 6e28 7061 7265 6e74  eWithIcon(parent
+000293a0: 3d73 656c 662e 6d61 696e 5f66 726d 2c20  =self.main_frm, 
+000293b0: 6865 6164 6572 3d22 4d55 4c54 4950 4c45  header="MULTIPLE
+000293c0: 2056 4944 454f 5320 2d20 434f 4e56 4552   VIDEOS - CONVER
+000293d0: 5420 544f 2042 4c41 434b 2026 2057 4849  T TO BLACK & WHI
+000293e0: 5445 222c 2069 636f 6e5f 6e61 6d65 3d4b  TE", icon_name=K
+000293f0: 6579 732e 444f 4355 4d45 4e54 4154 494f  eys.DOCUMENTATIO
+00029400: 4e2e 7661 6c75 652c 2069 636f 6e5f 6c69  N.value, icon_li
+00029410: 6e6b 3d4c 696e 6b73 2e56 4944 454f 5f54  nk=Links.VIDEO_T
+00029420: 4f4f 4c53 2e76 616c 7565 290a 2020 2020  OOLS.value).    
+00029430: 2020 2020 7365 6c66 2e73 656c 6563 7465      self.selecte
+00029440: 645f 7669 6465 6f5f 6469 7220 3d20 466f  d_video_dir = Fo
+00029450: 6c64 6572 5365 6c65 6374 286d 756c 7469  lderSelect(multi
+00029460: 706c 655f 7669 6465 6f73 5f66 726d 2c20  ple_videos_frm, 
+00029470: 2256 4944 454f 2044 4952 4543 544f 5259  "VIDEO DIRECTORY
+00029480: 2050 4154 483a 222c 2074 6974 6c65 3d22   PATH:", title="
+00029490: 5365 6c65 6374 2061 2076 6964 656f 2064  Select a video d
+000294a0: 6972 6563 746f 7279 222c 206c 626c 7769  irectory", lblwi
+000294b0: 6474 683d 3235 290a 2020 2020 2020 2020  dth=25).        
+000294c0: 6d75 6c74 6970 6c65 5f76 6964 656f 735f  multiple_videos_
+000294d0: 7275 6e20 3d20 4275 7474 6f6e 286d 756c  run = Button(mul
+000294e0: 7469 706c 655f 7669 6465 6f73 5f66 726d  tiple_videos_frm
+000294f0: 2c20 7465 7874 3d22 5255 4e20 2d20 4d55  , text="RUN - MU
+00029500: 4c54 4950 4c45 2056 4944 454f 5322 2c20  LTIPLE VIDEOS", 
+00029510: 636f 6d6d 616e 643d 6c61 6d62 6461 3a20  command=lambda: 
+00029520: 7365 6c66 2e72 756e 286d 756c 7469 706c  self.run(multipl
+00029530: 653d 5472 7565 2929 0a0a 2020 2020 2020  e=True))..      
+00029540: 2020 6d75 6c74 6970 6c65 5f76 6964 656f    multiple_video
+00029550: 735f 6672 6d2e 6772 6964 2872 6f77 3d32  s_frm.grid(row=2
+00029560: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
+00029570: 6b79 3d22 4e57 2229 0a20 2020 2020 2020  ky="NW").       
+00029580: 2073 656c 662e 7365 6c65 6374 6564 5f76   self.selected_v
+00029590: 6964 656f 5f64 6972 2e67 7269 6428 726f  ideo_dir.grid(ro
+000295a0: 773d 302c 2063 6f6c 756d 6e3d 302c 2073  w=0, column=0, s
+000295b0: 7469 636b 793d 224e 5722 290a 2020 2020  ticky="NW").    
+000295c0: 2020 2020 6d75 6c74 6970 6c65 5f76 6964      multiple_vid
+000295d0: 656f 735f 7275 6e2e 6772 6964 2872 6f77  eos_run.grid(row
+000295e0: 3d31 2c20 636f 6c75 6d6e 3d30 2c20 7374  =1, column=0, st
+000295f0: 6963 6b79 3d22 4e57 2229 0a20 2020 2020  icky="NW").     
+00029600: 2020 2073 656c 662e 6d61 696e 5f66 726d     self.main_frm
+00029610: 2e6d 6169 6e6c 6f6f 7028 290a 0a20 2020  .mainloop()..   
+00029620: 2064 6566 2072 756e 2873 656c 662c 206d   def run(self, m
+00029630: 756c 7469 706c 653a 2062 6f6f 6c29 3a0a  ultiple: bool):.
+00029640: 2020 2020 2020 2020 7468 7265 7368 6f6c          threshol
+00029650: 6420 3d20 666c 6f61 7428 7365 6c66 2e74  d = float(self.t
+00029660: 6872 6573 686f 6c64 5f64 726f 7064 6f77  hreshold_dropdow
+00029670: 6e2e 6765 7443 686f 6963 6573 2829 290a  n.getChoices()).
+00029680: 2020 2020 2020 2020 6966 206e 6f74 206d          if not m
+00029690: 756c 7469 706c 653a 0a20 2020 2020 2020  ultiple:.       
+000296a0: 2020 2020 2064 6174 615f 7061 7468 203d       data_path =
+000296b0: 2073 656c 662e 7365 6c65 6374 6564 5f76   self.selected_v
+000296c0: 6964 656f 2e66 696c 655f 7061 7468 0a20  ideo.file_path. 
+000296d0: 2020 2020 2020 2020 2020 2063 6865 636b             check
+000296e0: 5f66 696c 655f 6578 6973 745f 616e 645f  _file_exist_and_
+000296f0: 7265 6164 6162 6c65 2866 696c 655f 7061  readable(file_pa
+00029700: 7468 3d64 6174 615f 7061 7468 290a 2020  th=data_path).  
+00029710: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00029720: 2020 2020 2020 2020 6461 7461 5f70 6174          data_pat
+00029730: 6820 3d20 7365 6c66 2e73 656c 6563 7465  h = self.selecte
+00029740: 645f 7669 6465 6f5f 6469 722e 666f 6c64  d_video_dir.fold
+00029750: 6572 5f70 6174 680a 2020 2020 2020 2020  er_path.        
+00029760: 2020 2020 6368 6563 6b5f 6966 5f64 6972      check_if_dir
+00029770: 5f65 7869 7374 7328 696e 5f64 6972 3d64  _exists(in_dir=d
+00029780: 6174 615f 7061 7468 290a 0a20 2020 2020  ata_path)..     
+00029790: 2020 2074 6872 6561 6469 6e67 2e54 6872     threading.Thr
+000297a0: 6561 6428 7461 7267 6574 3d76 6964 656f  ead(target=video
+000297b0: 5f74 6f5f 6277 2876 6964 656f 5f70 6174  _to_bw(video_pat
+000297c0: 683d 6461 7461 5f70 6174 682c 0a20 2020  h=data_path,.   
+000297d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000297e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000297f0: 2020 2020 2020 2020 2074 6872 6573 686f           thresho
+00029800: 6c64 3d74 6872 6573 686f 6c64 2929 2e73  ld=threshold)).s
+00029810: 7461 7274 2829 0a0a 0a63 6c61 7373 2043  tart()...class C
+00029820: 7265 6174 6541 7665 7261 6765 4672 616d  reateAverageFram
+00029830: 6550 6f70 5570 2850 6f70 5570 4d69 7869  ePopUp(PopUpMixi
+00029840: 6e29 3a0a 2020 2020 6465 6620 5f5f 696e  n):.    def __in
+00029850: 6974 5f5f 2873 656c 6629 3a0a 2020 2020  it__(self):.    
+00029860: 2020 2020 506f 7055 704d 6978 696e 2e5f      PopUpMixin._
+00029870: 5f69 6e69 745f 5f28 7365 6c66 2c20 7469  _init__(self, ti
+00029880: 746c 653d 2243 5245 4154 4520 4156 4552  tle="CREATE AVER
+00029890: 4147 4520 5649 4445 4f20 4652 414d 4522  AGE VIDEO FRAME"
+000298a0: 290a 2020 2020 2020 2020 7365 7474 696e  ).        settin
+000298b0: 6773 5f66 726d 203d 2043 7265 6174 654c  gs_frm = CreateL
+000298c0: 6162 656c 4672 616d 6557 6974 6849 636f  abelFrameWithIco
+000298d0: 6e28 7061 7265 6e74 3d73 656c 662e 6d61  n(parent=self.ma
+000298e0: 696e 5f66 726d 2c20 6865 6164 6572 3d22  in_frm, header="
+000298f0: 5345 5454 494e 4753 222c 2069 636f 6e5f  SETTINGS", icon_
+00029900: 6e61 6d65 3d4b 6579 732e 444f 4355 4d45  name=Keys.DOCUME
+00029910: 4e54 4154 494f 4e2e 7661 6c75 652c 2069  NTATION.value, i
+00029920: 636f 6e5f 6c69 6e6b 3d4c 696e 6b73 2e56  con_link=Links.V
+00029930: 4944 454f 5f54 4f4f 4c53 2e76 616c 7565  IDEO_TOOLS.value
+00029940: 290a 2020 2020 2020 2020 7365 6c66 2e73  ).        self.s
+00029950: 6176 655f 6469 7220 3d20 466f 6c64 6572  ave_dir = Folder
+00029960: 5365 6c65 6374 2873 6574 7469 6e67 735f  Select(settings_
+00029970: 6672 6d2c 2022 4156 4552 4147 4520 4652  frm, "AVERAGE FR
+00029980: 414d 4520 5341 5645 2044 4952 4543 544f  AME SAVE DIRECTO
+00029990: 5259 3a22 2c20 7469 746c 653d 2253 656c  RY:", title="Sel
+000299a0: 6563 7420 6120 7669 6465 6f20 6469 7265  ect a video dire
+000299b0: 6374 6f72 7922 2c20 6c62 6c77 6964 7468  ctory", lblwidth
+000299c0: 3d32 3529 0a20 2020 2020 2020 2073 656c  =25).        sel
+000299d0: 662e 7365 6374 696f 6e5f 7374 6172 745f  f.section_start_
+000299e0: 7469 6d65 5f65 6220 3d20 456e 7472 795f  time_eb = Entry_
+000299f0: 426f 7828 7365 7474 696e 6773 5f66 726d  Box(settings_frm
+00029a00: 2c20 2253 414d 504c 4520 5354 4152 5420  , "SAMPLE START 
+00029a10: 5449 4d45 3a22 2c20 2232 3522 290a 2020  TIME:", "25").  
+00029a20: 2020 2020 2020 7365 6c66 2e73 6563 7469        self.secti
+00029a30: 6f6e 5f65 6e64 5f74 696d 655f 6562 203d  on_end_time_eb =
+00029a40: 2045 6e74 7279 5f42 6f78 2873 6574 7469   Entry_Box(setti
+00029a50: 6e67 735f 6672 6d2c 2022 5341 4d50 4c45  ngs_frm, "SAMPLE
+00029a60: 2045 4e44 2054 494d 453a 222c 2022 3235   END TIME:", "25
+00029a70: 2229 0a20 2020 2020 2020 2073 656c 662e  ").        self.
+00029a80: 7365 6374 696f 6e5f 7374 6172 745f 7469  section_start_ti
+00029a90: 6d65 5f65 622e 656e 7472 795f 7365 7428  me_eb.entry_set(
+00029aa0: 2730 303a 3030 3a30 3027 290a 2020 2020  '00:00:00').    
+00029ab0: 2020 2020 7365 6c66 2e73 6563 7469 6f6e      self.section
+00029ac0: 5f65 6e64 5f74 696d 655f 6562 2e65 6e74  _end_time_eb.ent
+00029ad0: 7279 5f73 6574 2827 3030 3a30 303a 3030  ry_set('00:00:00
+00029ae0: 2729 0a0a 2020 2020 2020 2020 7365 7474  ')..        sett
+00029af0: 696e 6773 5f66 726d 2e67 7269 6428 726f  ings_frm.grid(ro
+00029b00: 773d 302c 2063 6f6c 756d 6e3d 302c 2073  w=0, column=0, s
+00029b10: 7469 636b 793d 4e57 2c20 7061 6479 3d31  ticky=NW, pady=1
+00029b20: 3029 0a20 2020 2020 2020 2073 656c 662e  0).        self.
+00029b30: 7361 7665 5f64 6972 2e67 7269 6428 726f  save_dir.grid(ro
+00029b40: 773d 302c 2063 6f6c 756d 6e3d 302c 2073  w=0, column=0, s
+00029b50: 7469 636b 793d 4e57 290a 2020 2020 2020  ticky=NW).      
+00029b60: 2020 7365 6c66 2e73 6563 7469 6f6e 5f73    self.section_s
+00029b70: 7461 7274 5f74 696d 655f 6562 2e67 7269  tart_time_eb.gri
+00029b80: 6428 726f 773d 312c 2063 6f6c 756d 6e3d  d(row=1, column=
+00029b90: 302c 2073 7469 636b 793d 4e57 290a 2020  0, sticky=NW).  
+00029ba0: 2020 2020 2020 7365 6c66 2e73 6563 7469        self.secti
+00029bb0: 6f6e 5f65 6e64 5f74 696d 655f 6562 2e67  on_end_time_eb.g
+00029bc0: 7269 6428 726f 773d 322c 2063 6f6c 756d  rid(row=2, colum
+00029bd0: 6e3d 302c 2073 7469 636b 793d 4e57 290a  n=0, sticky=NW).
+00029be0: 0a20 2020 2020 2020 2073 696e 676c 655f  .        single_
+00029bf0: 7669 6465 6f5f 6672 6d20 3d20 4372 6561  video_frm = Crea
+00029c00: 7465 4c61 6265 6c46 7261 6d65 5769 7468  teLabelFrameWith
+00029c10: 4963 6f6e 2870 6172 656e 743d 7365 6c66  Icon(parent=self
+00029c20: 2e6d 6169 6e5f 6672 6d2c 2068 6561 6465  .main_frm, heade
+00029c30: 723d 2253 494e 474c 4520 5649 4445 4f20  r="SINGLE VIDEO 
+00029c40: 2d20 4352 4541 5445 2041 5645 5241 4745  - CREATE AVERAGE
+00029c50: 2046 5241 4d45 222c 2069 636f 6e5f 6e61   FRAME", icon_na
+00029c60: 6d65 3d4b 6579 732e 444f 4355 4d45 4e54  me=Keys.DOCUMENT
+00029c70: 4154 494f 4e2e 7661 6c75 652c 2069 636f  ATION.value, ico
+00029c80: 6e5f 6c69 6e6b 3d4c 696e 6b73 2e56 4944  n_link=Links.VID
+00029c90: 454f 5f54 4f4f 4c53 2e76 616c 7565 290a  EO_TOOLS.value).
+00029ca0: 2020 2020 2020 2020 7365 6c66 2e73 656c          self.sel
+00029cb0: 6563 7465 645f 7669 6465 6f20 3d20 4669  ected_video = Fi
+00029cc0: 6c65 5365 6c65 6374 2873 696e 676c 655f  leSelect(single_
+00029cd0: 7669 6465 6f5f 6672 6d2c 2022 5649 4445  video_frm, "VIDE
+00029ce0: 4f20 5041 5448 3a22 2c20 7469 746c 653d  O PATH:", title=
+00029cf0: 2253 656c 6563 7420 6120 7669 6465 6f20  "Select a video 
+00029d00: 6669 6c65 222c 206c 626c 7769 6474 683d  file", lblwidth=
+00029d10: 3235 2c20 6669 6c65 5f74 7970 6573 3d5b  25, file_types=[
+00029d20: 2822 5649 4445 4f20 4649 4c45 222c 204f  ("VIDEO FILE", O
+00029d30: 7074 696f 6e73 2e41 4c4c 5f56 4944 454f  ptions.ALL_VIDEO
+00029d40: 5f46 4f52 4d41 545f 5354 525f 4f50 5449  _FORMAT_STR_OPTI
+00029d50: 4f4e 532e 7661 6c75 6529 5d29 0a20 2020  ONS.value)]).   
+00029d60: 2020 2020 2073 696e 676c 655f 7669 6465       single_vide
+00029d70: 6f5f 7275 6e20 3d20 4275 7474 6f6e 2873  o_run = Button(s
+00029d80: 696e 676c 655f 7669 6465 6f5f 6672 6d2c  ingle_video_frm,
+00029d90: 2074 6578 743d 2252 554e 202d 2053 494e   text="RUN - SIN
+00029da0: 474c 4520 5649 4445 4f22 2c20 636f 6d6d  GLE VIDEO", comm
+00029db0: 616e 643d 6c61 6d62 6461 3a20 7365 6c66  and=lambda: self
+00029dc0: 2e72 756e 286d 756c 7469 706c 653d 4661  .run(multiple=Fa
+00029dd0: 6c73 6529 290a 0a20 2020 2020 2020 2073  lse))..        s
+00029de0: 696e 676c 655f 7669 6465 6f5f 6672 6d2e  ingle_video_frm.
+00029df0: 6772 6964 2872 6f77 3d31 2c20 636f 6c75  grid(row=1, colu
+00029e00: 6d6e 3d30 2c20 7374 6963 6b79 3d22 4e57  mn=0, sticky="NW
+00029e10: 2229 0a20 2020 2020 2020 2073 656c 662e  ").        self.
+00029e20: 7365 6c65 6374 6564 5f76 6964 656f 2e67  selected_video.g
 00029e30: 7269 6428 726f 773d 302c 2063 6f6c 756d  rid(row=0, colum
 00029e40: 6e3d 302c 2073 7469 636b 793d 224e 5722  n=0, sticky="NW"
-00029e50: 290a 2020 2020 2020 2020 6d75 6c74 6970  ).        multip
-00029e60: 6c65 5f76 6964 656f 735f 7275 6e2e 6772  le_videos_run.gr
-00029e70: 6964 2872 6f77 3d31 2c20 636f 6c75 6d6e  id(row=1, column
-00029e80: 3d30 2c20 7374 6963 6b79 3d22 4e57 2229  =0, sticky="NW")
-00029e90: 0a20 2020 2020 2020 2073 656c 662e 6d61  .        self.ma
-00029ea0: 696e 5f66 726d 2e6d 6169 6e6c 6f6f 7028  in_frm.mainloop(
-00029eb0: 290a 0a20 2020 2064 6566 2072 756e 2873  )..    def run(s
-00029ec0: 656c 662c 206d 756c 7469 706c 653a 2062  elf, multiple: b
-00029ed0: 6f6f 6c29 3a0a 2020 2020 2020 2020 7374  ool):.        st
-00029ee0: 6172 745f 7469 6d65 203d 2073 656c 662e  art_time = self.
-00029ef0: 7365 6374 696f 6e5f 7374 6172 745f 7469  section_start_ti
-00029f00: 6d65 5f65 622e 656e 7472 795f 6765 742e  me_eb.entry_get.
-00029f10: 7374 7269 7028 290a 2020 2020 2020 2020  strip().        
-00029f20: 656e 645f 7469 6d65 203d 2073 656c 662e  end_time = self.
-00029f30: 7365 6374 696f 6e5f 656e 645f 7469 6d65  section_end_time
-00029f40: 5f65 622e 656e 7472 795f 6765 742e 7374  _eb.entry_get.st
-00029f50: 7269 7028 290a 2020 2020 2020 2020 7361  rip().        sa
-00029f60: 7665 5f64 6972 203d 2073 656c 662e 7361  ve_dir = self.sa
-00029f70: 7665 5f64 6972 2e66 6f6c 6465 725f 7061  ve_dir.folder_pa
-00029f80: 7468 0a20 2020 2020 2020 2063 6865 636b  th.        check
-00029f90: 5f69 665f 6469 725f 6578 6973 7473 2869  _if_dir_exists(i
-00029fa0: 6e5f 6469 723d 7361 7665 5f64 6972 290a  n_dir=save_dir).
-00029fb0: 2020 2020 2020 2020 6966 2028 7374 6172          if (star
-00029fc0: 745f 7469 6d65 2021 3d20 2727 2061 6e64  t_time != '' and
-00029fd0: 2065 6e64 5f74 696d 6520 3d3d 2027 2729   end_time == '')
-00029fe0: 206f 7220 2873 7461 7274 5f74 696d 6520   or (start_time 
-00029ff0: 3d3d 2027 2720 616e 6420 656e 645f 7469  == '' and end_ti
-0002a000: 6d65 2021 3d20 2727 293a 0a20 2020 2020  me != ''):.     
-0002a010: 2020 2020 2020 2072 6169 7365 2049 6e76         raise Inv
-0002a020: 616c 6964 496e 7075 7445 7272 6f72 286d  alidInputError(m
-0002a030: 7367 3d66 2742 6f74 6820 7374 6172 7420  sg=f'Both start 
-0002a040: 7469 6d65 2061 6e64 2065 6e64 2074 696d  time and end tim
-0002a050: 6520 6861 7665 2074 6f20 6265 2065 6974  e have to be eit
-0002a060: 6865 7220 7469 6d65 2d73 7461 6d70 7320  her time-stamps 
-0002a070: 6f72 2062 6c61 6e6b 2e27 2c20 736f 7572  or blank.', sour
-0002a080: 6365 3d73 656c 662e 5f5f 636c 6173 735f  ce=self.__class_
-0002a090: 5f2e 5f5f 6e61 6d65 5f5f 290a 2020 2020  _.__name__).    
-0002a0a0: 2020 2020 6966 2073 7461 7274 5f74 696d      if start_tim
-0002a0b0: 6520 213d 2027 2720 616e 6420 656e 645f  e != '' and end_
-0002a0c0: 7469 6d65 2021 3d20 2727 3a0a 2020 2020  time != '':.    
-0002a0d0: 2020 2020 2020 2020 6368 6563 6b5f 6966          check_if
-0002a0e0: 5f73 7472 696e 675f 7661 6c75 655f 6973  _string_value_is
-0002a0f0: 5f76 616c 6964 5f76 6964 656f 5f74 696d  _valid_video_tim
-0002a100: 6573 7461 6d70 2876 616c 7565 3d73 7461  estamp(value=sta
-0002a110: 7274 5f74 696d 652c 206e 616d 653d 2773  rt_time, name='s
-0002a120: 7461 7274 5f74 696d 6527 290a 2020 2020  tart_time').    
-0002a130: 2020 2020 2020 2020 6368 6563 6b5f 6966          check_if
-0002a140: 5f73 7472 696e 675f 7661 6c75 655f 6973  _string_value_is
-0002a150: 5f76 616c 6964 5f76 6964 656f 5f74 696d  _valid_video_tim
-0002a160: 6573 7461 6d70 2876 616c 7565 3d65 6e64  estamp(value=end
-0002a170: 5f74 696d 652c 206e 616d 653d 2765 6e64  _time, name='end
-0002a180: 5f74 696d 6527 290a 2020 2020 2020 2020  _time').        
-0002a190: 2020 2020 6368 6563 6b5f 7468 6174 5f68      check_that_h
-0002a1a0: 686d 6d73 735f 7374 6172 745f 6973 5f62  hmmss_start_is_b
-0002a1b0: 6566 6f72 655f 656e 6428 7374 6172 745f  efore_end(start_
-0002a1c0: 7469 6d65 3d73 7461 7274 5f74 696d 652c  time=start_time,
-0002a1d0: 2065 6e64 5f74 696d 653d 656e 645f 7469   end_time=end_ti
-0002a1e0: 6d65 2c20 6e61 6d65 3d73 656c 662e 5f5f  me, name=self.__
-0002a1f0: 636c 6173 735f 5f2e 5f5f 6e61 6d65 5f5f  class__.__name__
-0002a200: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
-0002a210: 2020 2020 2020 2020 2020 2020 7374 6172              star
-0002a220: 745f 7469 6d65 2c20 656e 645f 7469 6d65  t_time, end_time
-0002a230: 203d 204e 6f6e 652c 204e 6f6e 650a 2020   = None, None.  
-0002a240: 2020 2020 2020 6966 206e 6f74 206d 756c        if not mul
-0002a250: 7469 706c 653a 0a20 2020 2020 2020 2020  tiple:.         
-0002a260: 2020 2064 6174 615f 7061 7468 203d 2073     data_path = s
-0002a270: 656c 662e 7365 6c65 6374 6564 5f76 6964  elf.selected_vid
-0002a280: 656f 2e66 696c 655f 7061 7468 0a20 2020  eo.file_path.   
-0002a290: 2020 2020 2020 2020 2063 6865 636b 5f66           check_f
-0002a2a0: 696c 655f 6578 6973 745f 616e 645f 7265  ile_exist_and_re
-0002a2b0: 6164 6162 6c65 2866 696c 655f 7061 7468  adable(file_path
-0002a2c0: 3d64 6174 615f 7061 7468 290a 2020 2020  =data_path).    
-0002a2d0: 2020 2020 2020 2020 6461 7461 5f70 6174          data_pat
-0002a2e0: 6820 3d20 5b64 6174 615f 7061 7468 5d0a  h = [data_path].
-0002a2f0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0002a300: 2020 2020 2020 2020 2020 6461 7461 5f70            data_p
-0002a310: 6174 6820 3d20 7365 6c66 2e73 656c 6563  ath = self.selec
-0002a320: 7465 645f 7669 6465 6f5f 6469 722e 666f  ted_video_dir.fo
-0002a330: 6c64 6572 5f70 6174 680a 2020 2020 2020  lder_path.      
-0002a340: 2020 2020 2020 6368 6563 6b5f 6966 5f64        check_if_d
-0002a350: 6972 5f65 7869 7374 7328 696e 5f64 6972  ir_exists(in_dir
-0002a360: 3d64 6174 615f 7061 7468 290a 2020 2020  =data_path).    
-0002a370: 2020 2020 2020 2020 6461 7461 5f70 6174          data_pat
-0002a380: 6820 3d20 6c69 7374 2866 696e 645f 616c  h = list(find_al
-0002a390: 6c5f 7669 6465 6f73 5f69 6e5f 6469 7265  l_videos_in_dire
-0002a3a0: 6374 6f72 7928 6469 7265 6374 6f72 793d  ctory(directory=
-0002a3b0: 6461 7461 5f70 6174 682c 2061 735f 6469  data_path, as_di
-0002a3c0: 6374 3d54 7275 652c 2072 6169 7365 5f65  ct=True, raise_e
-0002a3d0: 7272 6f72 3d54 7275 6529 2e76 616c 7565  rror=True).value
-0002a3e0: 7328 2929 0a0a 2020 2020 2020 2020 666f  s())..        fo
-0002a3f0: 7220 7669 6465 6f5f 636e 742c 2076 6964  r video_cnt, vid
-0002a400: 656f 5f70 6174 6820 696e 2065 6e75 6d65  eo_path in enume
-0002a410: 7261 7465 2864 6174 615f 7061 7468 293a  rate(data_path):
-0002a420: 0a20 2020 2020 2020 2020 2020 205f 2c20  .            _, 
-0002a430: 7669 6465 6f5f 6e61 6d65 2c20 5f20 3d20  video_name, _ = 
-0002a440: 6765 745f 666e 5f65 7874 2866 696c 6570  get_fn_ext(filep
-0002a450: 6174 683d 7669 6465 6f5f 7061 7468 290a  ath=video_path).
-0002a460: 2020 2020 2020 2020 2020 2020 7361 7665              save
-0002a470: 5f70 6174 6820 3d20 6f73 2e70 6174 682e  _path = os.path.
-0002a480: 6a6f 696e 2873 6176 655f 6469 722c 2073  join(save_dir, s
-0002a490: 6176 655f 6469 722c 2066 277b 7669 6465  ave_dir, f'{vide
-0002a4a0: 6f5f 6e61 6d65 7d5f 6176 675f 6672 6d2e  o_name}_avg_frm.
-0002a4b0: 706e 6727 290a 2020 2020 2020 2020 2020  png').          
-0002a4c0: 2020 5f20 3d20 6765 745f 7669 6465 6f5f    _ = get_video_
-0002a4d0: 6d65 7461 5f64 6174 6128 7669 6465 6f5f  meta_data(video_
-0002a4e0: 7061 7468 3d76 6964 656f 5f70 6174 6829  path=video_path)
-0002a4f0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0002a500: 7374 6172 745f 7469 6d65 2021 3d20 4e6f  start_time != No
-0002a510: 6e65 2061 6e64 2065 6e64 5f74 696d 6520  ne and end_time 
-0002a520: 213d 204e 6f6e 653a 0a20 2020 2020 2020  != None:.       
-0002a530: 2020 2020 2020 2020 2063 6865 636b 5f69           check_i
-0002a540: 665f 6868 6d6d 7373 5f74 696d 6573 7461  f_hhmmss_timesta
-0002a550: 6d70 5f69 735f 7661 6c69 645f 7061 7274  mp_is_valid_part
-0002a560: 5f6f 665f 7669 6465 6f28 7469 6d65 7374  _of_video(timest
-0002a570: 616d 703d 7374 6172 745f 7469 6d65 2c20  amp=start_time, 
-0002a580: 7669 6465 6f5f 7061 7468 3d76 6964 656f  video_path=video
-0002a590: 5f70 6174 6829 0a20 2020 2020 2020 2020  _path).         
-0002a5a0: 2020 2020 2020 2063 6865 636b 5f69 665f         check_if_
-0002a5b0: 6868 6d6d 7373 5f74 696d 6573 7461 6d70  hhmmss_timestamp
-0002a5c0: 5f69 735f 7661 6c69 645f 7061 7274 5f6f  _is_valid_part_o
-0002a5d0: 665f 7669 6465 6f28 7469 6d65 7374 616d  f_video(timestam
-0002a5e0: 703d 656e 645f 7469 6d65 2c20 7669 6465  p=end_time, vide
-0002a5f0: 6f5f 7061 7468 3d76 6964 656f 5f70 6174  o_path=video_pat
-0002a600: 6829 0a0a 2020 2020 2020 2020 2020 2020  h)..            
-0002a610: 7468 7265 6164 696e 672e 5468 7265 6164  threading.Thread
-0002a620: 2874 6172 6765 743d 6372 6561 7465 5f61  (target=create_a
-0002a630: 7665 7261 6765 5f66 726d 2876 6964 656f  verage_frm(video
-0002a640: 5f70 6174 683d 7669 6465 6f5f 7061 7468  _path=video_path
-0002a650: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0002a660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a680: 2020 2020 2020 2020 2073 7461 7274 5f74           start_t
-0002a690: 696d 653d 7374 6172 745f 7469 6d65 2c0a  ime=start_time,.
-0002a6a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a6c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a6d0: 2020 2020 2020 2065 6e64 5f74 696d 653d         end_time=
-0002a6e0: 656e 645f 7469 6d65 2c0a 2020 2020 2020  end_time,.      
-0002a6f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a720: 2073 6176 655f 7061 7468 3d73 6176 655f   save_path=save_
-0002a730: 7061 7468 2c0a 2020 2020 2020 2020 2020  path,.          
-0002a740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a760: 2020 2020 2020 2020 2020 2020 2076 6572               ver
-0002a770: 626f 7365 3d54 7275 6529 292e 7374 6172  bose=True)).star
-0002a780: 7428 290a 0a63 6c61 7373 204d 616e 7561  t()..class Manua
-0002a790: 6c54 656d 706f 7261 6c4a 6f69 6e50 6f70  lTemporalJoinPop
-0002a7a0: 5570 2850 6f70 5570 4d69 7869 6e29 3a0a  Up(PopUpMixin):.
-0002a7b0: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
-0002a7c0: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-0002a7d0: 506f 7055 704d 6978 696e 2e5f 5f69 6e69  PopUpMixin.__ini
-0002a7e0: 745f 5f28 7365 6c66 2c20 7469 746c 653d  t__(self, title=
-0002a7f0: 224d 414e 5541 4c20 5445 4d50 4f52 414c  "MANUAL TEMPORAL
-0002a800: 204a 4f49 4e20 5649 4445 4f53 2229 0a20   JOIN VIDEOS"). 
-0002a810: 2020 2020 2020 2076 6964 656f 5f63 6e74         video_cnt
-0002a820: 5f66 726d 203d 2043 7265 6174 654c 6162  _frm = CreateLab
-0002a830: 656c 4672 616d 6557 6974 6849 636f 6e28  elFrameWithIcon(
-0002a840: 7061 7265 6e74 3d73 656c 662e 6d61 696e  parent=self.main
-0002a850: 5f66 726d 2c20 6865 6164 6572 3d22 4e55  _frm, header="NU
-0002a860: 4d42 4552 204f 4620 5649 4445 4f53 2054  MBER OF VIDEOS T
-0002a870: 4f20 4a4f 494e 222c 2069 636f 6e5f 6e61  O JOIN", icon_na
-0002a880: 6d65 3d4b 6579 732e 444f 4355 4d45 4e54  me=Keys.DOCUMENT
-0002a890: 4154 494f 4e2e 7661 6c75 652c 2069 636f  ATION.value, ico
-0002a8a0: 6e5f 6c69 6e6b 3d4c 696e 6b73 2e56 4944  n_link=Links.VID
-0002a8b0: 454f 5f54 4f4f 4c53 2e76 616c 7565 290a  EO_TOOLS.value).
-0002a8c0: 2020 2020 2020 2020 7365 6c66 2e76 6964          self.vid
-0002a8d0: 656f 5f63 6e74 5f64 726f 7064 6f77 6e20  eo_cnt_dropdown 
-0002a8e0: 3d20 4472 6f70 446f 776e 4d65 6e75 2876  = DropDownMenu(v
-0002a8f0: 6964 656f 5f63 6e74 5f66 726d 2c20 224e  ideo_cnt_frm, "N
-0002a900: 554d 4245 5220 4f46 2056 4944 454f 533a  UMBER OF VIDEOS:
-0002a910: 222c 206c 6973 7428 7261 6e67 6528 322c  ", list(range(2,
-0002a920: 2031 3031 2c20 3129 292c 206c 6162 656c   101, 1)), label
-0002a930: 7769 6474 683d 3235 290a 2020 2020 2020  width=25).      
-0002a940: 2020 7365 6c66 2e73 656c 6563 745f 7669    self.select_vi
-0002a950: 6465 6f5f 636e 745f 6274 6e20 3d20 4275  deo_cnt_btn = Bu
-0002a960: 7474 6f6e 2876 6964 656f 5f63 6e74 5f66  tton(video_cnt_f
-0002a970: 726d 2c20 7465 7874 3d22 5345 4c45 4354  rm, text="SELECT
-0002a980: 222c 2063 6f6d 6d61 6e64 3d6c 616d 6264  ", command=lambd
-0002a990: 613a 2073 656c 662e 7365 6c65 6374 2829  a: self.select()
-0002a9a0: 290a 2020 2020 2020 2020 7365 6c66 2e71  ).        self.q
-0002a9b0: 7561 6c69 7479 5f64 726f 7064 6f77 6e20  uality_dropdown 
-0002a9c0: 3d20 4472 6f70 446f 776e 4d65 6e75 2876  = DropDownMenu(v
-0002a9d0: 6964 656f 5f63 6e74 5f66 726d 2c20 224f  ideo_cnt_frm, "O
-0002a9e0: 5554 5055 5420 5649 4445 4f20 5155 414c  UTPUT VIDEO QUAL
-0002a9f0: 4954 593a 222c 206c 6973 7428 7261 6e67  ITY:", list(rang
-0002aa00: 6528 3130 2c20 3131 302c 2031 3029 292c  e(10, 110, 10)),
-0002aa10: 206c 6162 656c 7769 6474 683d 3235 290a   labelwidth=25).
-0002aa20: 2020 2020 2020 2020 7365 6c66 2e71 7561          self.qua
-0002aa30: 6c69 7479 5f64 726f 7064 6f77 6e2e 7365  lity_dropdown.se
-0002aa40: 7443 686f 6963 6573 2836 3029 0a20 2020  tChoices(60).   
-0002aa50: 2020 2020 2073 656c 662e 6f75 745f 666f       self.out_fo
-0002aa60: 726d 6174 5f64 726f 7064 6f77 6e20 3d20  rmat_dropdown = 
-0002aa70: 4472 6f70 446f 776e 4d65 6e75 2876 6964  DropDownMenu(vid
-0002aa80: 656f 5f63 6e74 5f66 726d 2c20 224f 5554  eo_cnt_frm, "OUT
-0002aa90: 5055 5420 5649 4445 4f20 464f 524d 4154  PUT VIDEO FORMAT
-0002aaa0: 3a22 2c20 4f70 7469 6f6e 732e 414c 4c5f  :", Options.ALL_
-0002aab0: 5649 4445 4f5f 464f 524d 4154 5f4f 5054  VIDEO_FORMAT_OPT
-0002aac0: 494f 4e53 2e76 616c 7565 2c20 6c61 6265  IONS.value, labe
-0002aad0: 6c77 6964 7468 3d32 3529 0a20 2020 2020  lwidth=25).     
-0002aae0: 2020 2073 656c 662e 6f75 745f 666f 726d     self.out_form
-0002aaf0: 6174 5f64 726f 7064 6f77 6e2e 7365 7443  at_dropdown.setC
-0002ab00: 686f 6963 6573 2827 2e6d 7034 2729 0a20  hoices('.mp4'). 
-0002ab10: 2020 2020 2020 2073 656c 662e 7669 6465         self.vide
-0002ab20: 6f5f 636e 745f 6472 6f70 646f 776e 2e73  o_cnt_dropdown.s
-0002ab30: 6574 4368 6f69 6365 7328 3229 0a20 2020  etChoices(2).   
-0002ab40: 2020 2020 2076 6964 656f 5f63 6e74 5f66       video_cnt_f
-0002ab50: 726d 2e67 7269 6428 726f 773d 302c 2063  rm.grid(row=0, c
-0002ab60: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
-0002ab70: 4e57 290a 2020 2020 2020 2020 7365 6c66  NW).        self
-0002ab80: 2e76 6964 656f 5f63 6e74 5f64 726f 7064  .video_cnt_dropd
-0002ab90: 6f77 6e2e 6772 6964 2872 6f77 3d30 2c20  own.grid(row=0, 
-0002aba0: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
-0002abb0: 3d4e 5729 0a20 2020 2020 2020 2073 656c  =NW).        sel
-0002abc0: 662e 7365 6c65 6374 5f76 6964 656f 5f63  f.select_video_c
-0002abd0: 6e74 5f62 746e 2e67 7269 6428 726f 773d  nt_btn.grid(row=
-0002abe0: 302c 2063 6f6c 756d 6e3d 312c 2073 7469  0, column=1, sti
-0002abf0: 636b 793d 4e57 290a 2020 2020 2020 2020  cky=NW).        
-0002ac00: 7365 6c66 2e71 7561 6c69 7479 5f64 726f  self.quality_dro
-0002ac10: 7064 6f77 6e2e 6772 6964 2872 6f77 3d31  pdown.grid(row=1
-0002ac20: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
-0002ac30: 6b79 3d4e 5729 0a20 2020 2020 2020 2073  ky=NW).        s
-0002ac40: 656c 662e 6f75 745f 666f 726d 6174 5f64  elf.out_format_d
-0002ac50: 726f 7064 6f77 6e2e 6772 6964 2872 6f77  ropdown.grid(row
-0002ac60: 3d32 2c20 636f 6c75 6d6e 3d30 2c20 7374  =2, column=0, st
-0002ac70: 6963 6b79 3d4e 5729 0a20 2020 2020 2020  icky=NW).       
-0002ac80: 2073 656c 662e 6d61 696e 5f66 726d 2e6d   self.main_frm.m
-0002ac90: 6169 6e6c 6f6f 7028 290a 0a20 2020 2064  ainloop()..    d
-0002aca0: 6566 2073 656c 6563 7428 7365 6c66 293a  ef select(self):
-0002acb0: 0a20 2020 2020 2020 2076 6964 656f 5f63  .        video_c
-0002acc0: 6e74 203d 2069 6e74 2873 656c 662e 7669  nt = int(self.vi
-0002acd0: 6465 6f5f 636e 745f 6472 6f70 646f 776e  deo_cnt_dropdown
-0002ace0: 2e67 6574 4368 6f69 6365 7328 2929 0a20  .getChoices()). 
-0002acf0: 2020 2020 2020 2069 6620 6861 7361 7474         if hasatt
-0002ad00: 7228 7365 6c66 2c20 2776 6964 656f 5f70  r(self, 'video_p
-0002ad10: 6174 6873 5f66 726d 2729 3a0a 2020 2020  aths_frm'):.    
-0002ad20: 2020 2020 2020 2020 7365 6c66 2e76 6964          self.vid
-0002ad30: 656f 5f70 6174 6873 5f66 726d 2e64 6573  eo_paths_frm.des
-0002ad40: 7472 6f79 2829 0a20 2020 2020 2020 2020  troy().         
-0002ad50: 2020 2073 656c 662e 7275 6e5f 6672 6d2e     self.run_frm.
-0002ad60: 6465 7374 726f 7928 290a 2020 2020 2020  destroy().      
-0002ad70: 2020 7365 6c66 2e76 6964 656f 5f70 6174    self.video_pat
-0002ad80: 6873 5f66 726d 203d 2043 7265 6174 654c  hs_frm = CreateL
-0002ad90: 6162 656c 4672 616d 6557 6974 6849 636f  abelFrameWithIco
-0002ada0: 6e28 7061 7265 6e74 3d73 656c 662e 6d61  n(parent=self.ma
-0002adb0: 696e 5f66 726d 2c20 6865 6164 6572 3d22  in_frm, header="
-0002adc0: 5649 4445 4f20 5041 5448 5322 2c20 6963  VIDEO PATHS", ic
-0002add0: 6f6e 5f6e 616d 653d 4b65 7973 2e44 4f43  on_name=Keys.DOC
-0002ade0: 554d 454e 5441 5449 4f4e 2e76 616c 7565  UMENTATION.value
-0002adf0: 2c20 6963 6f6e 5f6c 696e 6b3d 4c69 6e6b  , icon_link=Link
-0002ae00: 732e 5649 4445 4f5f 544f 4f4c 532e 7661  s.VIDEO_TOOLS.va
-0002ae10: 6c75 6529 0a20 2020 2020 2020 2073 656c  lue).        sel
-0002ae20: 662e 7669 6465 6f5f 7061 7468 735f 6672  f.video_paths_fr
-0002ae30: 6d2e 6772 6964 2872 6f77 3d31 2c20 636f  m.grid(row=1, co
-0002ae40: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d4e  lumn=0, sticky=N
-0002ae50: 5729 0a20 2020 2020 2020 2073 656c 662e  W).        self.
-0002ae60: 7669 6465 6f5f 7061 7468 7320 3d20 7b7d  video_paths = {}
-0002ae70: 0a20 2020 2020 2020 2066 6f72 2076 6964  .        for vid
-0002ae80: 656f 5f63 6e74 2069 6e20 7261 6e67 6528  eo_cnt in range(
-0002ae90: 7669 6465 6f5f 636e 7429 3a0a 2020 2020  video_cnt):.    
-0002aea0: 2020 2020 2020 2020 7365 6c66 2e76 6964          self.vid
-0002aeb0: 656f 5f70 6174 6873 5b76 6964 656f 5f63  eo_paths[video_c
-0002aec0: 6e74 5d20 3d20 4669 6c65 5365 6c65 6374  nt] = FileSelect
-0002aed0: 2873 656c 662e 7669 6465 6f5f 7061 7468  (self.video_path
-0002aee0: 735f 6672 6d2c 2066 2256 4944 454f 2050  s_frm, f"VIDEO P
-0002aef0: 4154 4820 7b76 6964 656f 5f63 6e74 2b31  ATH {video_cnt+1
-0002af00: 7d3a 222c 2074 6974 6c65 3d22 5365 6c65  }:", title="Sele
-0002af10: 6374 2061 2076 6964 656f 2066 696c 6522  ct a video file"
-0002af20: 2c20 6c62 6c77 6964 7468 3d32 352c 2066  , lblwidth=25, f
-0002af30: 696c 655f 7479 7065 733d 5b28 2256 4944  ile_types=[("VID
-0002af40: 454f 2046 494c 4522 2c20 4f70 7469 6f6e  EO FILE", Option
-0002af50: 732e 414c 4c5f 5649 4445 4f5f 464f 524d  s.ALL_VIDEO_FORM
-0002af60: 4154 5f53 5452 5f4f 5054 494f 4e53 2e76  AT_STR_OPTIONS.v
-0002af70: 616c 7565 295d 290a 2020 2020 2020 2020  alue)]).        
-0002af80: 2020 2020 7365 6c66 2e76 6964 656f 5f70      self.video_p
-0002af90: 6174 6873 5b76 6964 656f 5f63 6e74 5d2e  aths[video_cnt].
-0002afa0: 6772 6964 2872 6f77 3d76 6964 656f 5f63  grid(row=video_c
-0002afb0: 6e74 2c20 636f 6c75 6d6e 3d30 2c20 7374  nt, column=0, st
-0002afc0: 6963 6b79 3d4e 5729 0a20 2020 2020 2020  icky=NW).       
-0002afd0: 2073 656c 662e 6372 6561 7465 5f72 756e   self.create_run
-0002afe0: 5f66 726d 2872 756e 5f66 756e 6374 696f  _frm(run_functio
-0002aff0: 6e3d 7365 6c66 2e72 756e 290a 0a20 2020  n=self.run)..   
-0002b000: 2064 6566 2072 756e 2873 656c 6629 3a0a   def run(self):.
-0002b010: 2020 2020 2020 2020 7669 6465 6f5f 6669          video_fi
-0002b020: 6c65 5f70 6174 6873 2c20 6d65 7461 203d  le_paths, meta =
-0002b030: 205b 5d2c 205b 5d0a 2020 2020 2020 2020   [], [].        
-0002b040: 666f 7220 636e 742c 2076 6964 656f 5f66  for cnt, video_f
-0002b050: 696c 655f 7365 6c65 6374 2069 6e20 7365  ile_select in se
-0002b060: 6c66 2e76 6964 656f 5f70 6174 6873 2e69  lf.video_paths.i
-0002b070: 7465 6d73 2829 3a0a 2020 2020 2020 2020  tems():.        
-0002b080: 2020 2020 7669 6465 6f5f 7061 7468 203d      video_path =
-0002b090: 2076 6964 656f 5f66 696c 655f 7365 6c65   video_file_sele
-0002b0a0: 6374 2e66 696c 655f 7061 7468 0a20 2020  ct.file_path.   
-0002b0b0: 2020 2020 2020 2020 2063 6865 636b 5f66           check_f
-0002b0c0: 696c 655f 6578 6973 745f 616e 645f 7265  ile_exist_and_re
-0002b0d0: 6164 6162 6c65 2866 696c 655f 7061 7468  adable(file_path
-0002b0e0: 3d76 6964 656f 5f70 6174 6829 0a20 2020  =video_path).   
-0002b0f0: 2020 2020 2020 2020 2076 6964 656f 5f6d           video_m
-0002b100: 6574 6120 3d20 6765 745f 7669 6465 6f5f  eta = get_video_
-0002b110: 6d65 7461 5f64 6174 6128 7669 6465 6f5f  meta_data(video_
-0002b120: 7061 7468 3d76 6964 656f 5f70 6174 6829  path=video_path)
-0002b130: 0a20 2020 2020 2020 2020 2020 2076 6964  .            vid
-0002b140: 656f 5f66 696c 655f 7061 7468 732e 6170  eo_file_paths.ap
-0002b150: 7065 6e64 2876 6964 656f 5f70 6174 6829  pend(video_path)
-0002b160: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
-0002b170: 612e 6170 7065 6e64 2876 6964 656f 5f6d  a.append(video_m
-0002b180: 6574 6129 0a20 2020 2020 2020 2066 7073  eta).        fps
-0002b190: 2c20 7265 736f 6c75 7469 6f6e 7320 3d20  , resolutions = 
-0002b1a0: 5b76 5b27 6670 7327 5d20 666f 7220 7620  [v['fps'] for v 
-0002b1b0: 696e 206d 6574 615d 2c20 5b76 5b27 7265  in meta], [v['re
-0002b1c0: 736f 6c75 7469 6f6e 5f73 7472 275d 2066  solution_str'] f
-0002b1d0: 6f72 2076 2069 6e20 6d65 7461 5d0a 2020  or v in meta].  
-0002b1e0: 2020 2020 2020 756e 6971 7565 5f66 7073        unique_fps
-0002b1f0: 2c20 756e 6971 7565 5f72 6573 203d 206c  , unique_res = l
-0002b200: 6973 7428 7365 7428 6670 7329 292c 206c  ist(set(fps)), l
-0002b210: 6973 7428 7365 7428 7265 736f 6c75 7469  ist(set(resoluti
-0002b220: 6f6e 7329 290a 2020 2020 2020 2020 666f  ons)).        fo
-0002b230: 726d 6174 203d 2073 656c 662e 6f75 745f  rmat = self.out_
-0002b240: 666f 726d 6174 5f64 726f 7064 6f77 6e2e  format_dropdown.
-0002b250: 6765 7443 686f 6963 6573 2829 0a20 2020  getChoices().   
-0002b260: 2020 2020 2071 7561 6c69 7479 203d 2073       quality = s
-0002b270: 656c 662e 7175 616c 6974 795f 6472 6f70  elf.quality_drop
-0002b280: 646f 776e 2e67 6574 4368 6f69 6365 7328  down.getChoices(
-0002b290: 290a 2020 2020 2020 2020 6966 206c 656e  ).        if len
-0002b2a0: 2875 6e69 7175 655f 6670 7329 203e 2031  (unique_fps) > 1
-0002b2b0: 3a20 7261 6973 6520 5265 736f 6c75 7469  : raise Resoluti
-0002b2c0: 6f6e 4572 726f 7228 6d73 673d 6627 5468  onError(msg=f'Th
-0002b2d0: 6520 7365 6c65 6374 6564 2076 6964 656f  e selected video
-0002b2e0: 7320 636f 6e74 6169 6e20 6d6f 7265 2074  s contain more t
-0002b2f0: 6861 6e20 6f6e 6520 756e 6971 7565 2046  han one unique F
-0002b300: 5053 3a20 7b75 6e69 7175 655f 6670 737d  PS: {unique_fps}
-0002b310: 272c 2073 6f75 7263 653d 7365 6c66 2e5f  ', source=self._
-0002b320: 5f63 6c61 7373 5f5f 2e5f 5f6e 616d 655f  _class__.__name_
-0002b330: 5f29 0a20 2020 2020 2020 2069 6620 6c65  _).        if le
-0002b340: 6e28 756e 6971 7565 5f72 6573 2920 3e20  n(unique_res) > 
-0002b350: 313a 2072 6169 7365 2052 6573 6f6c 7574  1: raise Resolut
-0002b360: 696f 6e45 7272 6f72 286d 7367 3d66 2754  ionError(msg=f'T
-0002b370: 6865 2073 656c 6563 7465 6420 7669 6465  he selected vide
-0002b380: 6f73 2063 6f6e 7461 696e 206d 6f72 6520  os contain more 
-0002b390: 7468 616e 206f 6e65 2075 6e69 7175 6520  than one unique 
-0002b3a0: 7265 736f 6c75 7469 6f6e 733a 207b 756e  resolutions: {un
-0002b3b0: 6971 7565 5f72 6573 7d27 2c20 736f 7572  ique_res}', sour
-0002b3c0: 6365 3d73 656c 662e 5f5f 636c 6173 735f  ce=self.__class_
-0002b3d0: 5f2e 5f5f 6e61 6d65 5f5f 290a 2020 2020  _.__name__).    
-0002b3e0: 2020 2020 7468 7265 6164 696e 672e 5468      threading.Th
-0002b3f0: 7265 6164 2874 656d 706f 7261 6c5f 636f  read(temporal_co
-0002b400: 6e63 6174 656e 6174 696f 6e28 7669 6465  ncatenation(vide
-0002b410: 6f5f 7061 7468 733d 7669 6465 6f5f 6669  o_paths=video_fi
-0002b420: 6c65 5f70 6174 6873 2c20 7361 7665 5f66  le_paths, save_f
-0002b430: 6f72 6d61 743d 666f 726d 6174 5b31 3a5d  ormat=format[1:]
-0002b440: 2c20 7175 616c 6974 793d 7175 616c 6974  , quality=qualit
-0002b450: 7929 292e 7374 6172 7428 290a 0a63 6c61  y)).start()..cla
-0002b460: 7373 2043 726f 7373 6661 6465 5669 6465  ss CrossfadeVide
-0002b470: 6f73 506f 7055 7028 506f 7055 704d 6978  osPopUp(PopUpMix
-0002b480: 696e 293a 0a20 2020 2064 6566 205f 5f69  in):.    def __i
-0002b490: 6e69 745f 5f28 7365 6c66 293a 0a20 2020  nit__(self):.   
-0002b4a0: 2020 2020 2050 6f70 5570 4d69 7869 6e2e       PopUpMixin.
-0002b4b0: 5f5f 696e 6974 5f5f 2873 656c 662c 2074  __init__(self, t
-0002b4c0: 6974 6c65 3d22 4352 4f53 532d 4641 4445  itle="CROSS-FADE
-0002b4d0: 2056 4944 454f 5322 290a 2020 2020 2020   VIDEOS").      
-0002b4e0: 2020 6372 6f73 7366 6164 655f 6d65 7468    crossfade_meth
-0002b4f0: 6f64 7320 3d20 6765 745f 6666 6d70 6567  ods = get_ffmpeg
-0002b500: 5f63 726f 7373 6661 6465 5f6d 6574 686f  _crossfade_metho
-0002b510: 6473 2829 0a20 2020 2020 2020 2073 6574  ds().        set
-0002b520: 7469 6e67 735f 6672 6d20 3d20 4372 6561  tings_frm = Crea
-0002b530: 7465 4c61 6265 6c46 7261 6d65 5769 7468  teLabelFrameWith
-0002b540: 4963 6f6e 2870 6172 656e 743d 7365 6c66  Icon(parent=self
-0002b550: 2e6d 6169 6e5f 6672 6d2c 2068 6561 6465  .main_frm, heade
-0002b560: 723d 224e 554d 4245 5220 4f46 2056 4944  r="NUMBER OF VID
-0002b570: 454f 5320 544f 204a 4f49 4e22 2c20 6963  EOS TO JOIN", ic
-0002b580: 6f6e 5f6e 616d 653d 4b65 7973 2e44 4f43  on_name=Keys.DOC
-0002b590: 554d 454e 5441 5449 4f4e 2e76 616c 7565  UMENTATION.value
-0002b5a0: 2c20 6963 6f6e 5f6c 696e 6b3d 4c69 6e6b  , icon_link=Link
-0002b5b0: 732e 5649 4445 4f5f 544f 4f4c 532e 7661  s.VIDEO_TOOLS.va
-0002b5c0: 6c75 6529 0a20 2020 2020 2020 2073 656c  lue).        sel
-0002b5d0: 662e 7669 6465 6f5f 7061 7468 5f31 203d  f.video_path_1 =
-0002b5e0: 2046 696c 6553 656c 6563 7428 7365 7474   FileSelect(sett
-0002b5f0: 696e 6773 5f66 726d 2c20 6622 5649 4445  ings_frm, f"VIDE
-0002b600: 4f20 5041 5448 2031 3a22 2c20 7469 746c  O PATH 1:", titl
-0002b610: 653d 2253 656c 6563 7420 6120 7669 6465  e="Select a vide
-0002b620: 6f20 6669 6c65 222c 206c 626c 7769 6474  o file", lblwidt
-0002b630: 683d 3235 2c20 6669 6c65 5f74 7970 6573  h=25, file_types
-0002b640: 3d5b 2822 5649 4445 4f20 4649 4c45 222c  =[("VIDEO FILE",
-0002b650: 204f 7074 696f 6e73 2e41 4c4c 5f56 4944   Options.ALL_VID
-0002b660: 454f 5f46 4f52 4d41 545f 5354 525f 4f50  EO_FORMAT_STR_OP
-0002b670: 5449 4f4e 532e 7661 6c75 6529 5d29 0a20  TIONS.value)]). 
-0002b680: 2020 2020 2020 2073 656c 662e 7669 6465         self.vide
-0002b690: 6f5f 7061 7468 5f32 203d 2046 696c 6553  o_path_2 = FileS
-0002b6a0: 656c 6563 7428 7365 7474 696e 6773 5f66  elect(settings_f
-0002b6b0: 726d 2c20 6622 5649 4445 4f20 5041 5448  rm, f"VIDEO PATH
-0002b6c0: 2032 3a22 2c20 7469 746c 653d 2253 656c   2:", title="Sel
-0002b6d0: 6563 7420 6120 7669 6465 6f20 6669 6c65  ect a video file
-0002b6e0: 222c 206c 626c 7769 6474 683d 3235 2c20  ", lblwidth=25, 
-0002b6f0: 6669 6c65 5f74 7970 6573 3d5b 2822 5649  file_types=[("VI
-0002b700: 4445 4f20 4649 4c45 222c 204f 7074 696f  DEO FILE", Optio
-0002b710: 6e73 2e41 4c4c 5f56 4944 454f 5f46 4f52  ns.ALL_VIDEO_FOR
-0002b720: 4d41 545f 5354 525f 4f50 5449 4f4e 532e  MAT_STR_OPTIONS.
-0002b730: 7661 6c75 6529 5d29 0a20 2020 2020 2020  value)]).       
-0002b740: 2073 656c 662e 7175 616c 6974 795f 6472   self.quality_dr
-0002b750: 6f70 646f 776e 203d 2044 726f 7044 6f77  opdown = DropDow
-0002b760: 6e4d 656e 7528 7365 7474 696e 6773 5f66  nMenu(settings_f
-0002b770: 726d 2c20 224f 5554 5055 5420 5649 4445  rm, "OUTPUT VIDE
-0002b780: 4f20 5155 414c 4954 593a 222c 206c 6973  O QUALITY:", lis
-0002b790: 7428 7261 6e67 6528 3130 2c20 3131 302c  t(range(10, 110,
-0002b7a0: 2031 3029 292c 206c 6162 656c 7769 6474   10)), labelwidt
-0002b7b0: 683d 3235 290a 2020 2020 2020 2020 7365  h=25).        se
-0002b7c0: 6c66 2e6f 7574 5f66 6f72 6d61 745f 6472  lf.out_format_dr
-0002b7d0: 6f70 646f 776e 203d 2044 726f 7044 6f77  opdown = DropDow
-0002b7e0: 6e4d 656e 7528 7365 7474 696e 6773 5f66  nMenu(settings_f
-0002b7f0: 726d 2c20 224f 5554 5055 5420 5649 4445  rm, "OUTPUT VIDE
-0002b800: 4f20 464f 524d 4154 3a22 2c20 5b27 6d70  O FORMAT:", ['mp
-0002b810: 3427 2c20 2761 7669 272c 2027 7765 626d  4', 'avi', 'webm
-0002b820: 275d 2c20 6c61 6265 6c77 6964 7468 3d32  '], labelwidth=2
-0002b830: 3529 0a20 2020 2020 2020 2073 656c 662e  5).        self.
-0002b840: 6661 6465 5f6d 6574 686f 645f 6472 6f70  fade_method_drop
-0002b850: 646f 776e 203d 2044 726f 7044 6f77 6e4d  down = DropDownM
-0002b860: 656e 7528 7365 7474 696e 6773 5f66 726d  enu(settings_frm
-0002b870: 2c20 2243 524f 5353 2d46 4144 4520 4d45  , "CROSS-FADE ME
-0002b880: 5448 4f44 3a22 2c20 6372 6f73 7366 6164  THOD:", crossfad
-0002b890: 655f 6d65 7468 6f64 732c 206c 6162 656c  e_methods, label
-0002b8a0: 7769 6474 683d 3235 290a 2020 2020 2020  width=25).      
-0002b8b0: 2020 7365 6c66 2e64 7572 6174 696f 6e5f    self.duration_
-0002b8c0: 6472 6f70 646f 776e 203d 2044 726f 7044  dropdown = DropD
-0002b8d0: 6f77 6e4d 656e 7528 7365 7474 696e 6773  ownMenu(settings
-0002b8e0: 5f66 726d 2c20 2243 524f 5353 2d46 4144  _frm, "CROSS-FAD
-0002b8f0: 4520 4455 5241 5449 4f4e 3a22 2c20 6c69  E DURATION:", li
-0002b900: 7374 2872 616e 6765 2832 2c20 3232 2c20  st(range(2, 22, 
-0002b910: 3229 292c 206c 6162 656c 7769 6474 683d  2)), labelwidth=
-0002b920: 3235 290a 2020 2020 2020 2020 7365 6c66  25).        self
-0002b930: 2e6f 6666 7365 745f 6562 203d 2045 6e74  .offset_eb = Ent
-0002b940: 7279 5f42 6f78 2873 6574 7469 6e67 735f  ry_Box(settings_
-0002b950: 6672 6d2c 2022 4352 4f53 532d 4641 4445  frm, "CROSS-FADE
-0002b960: 204f 4646 5345 543a 222c 2022 3235 2229   OFFSET:", "25")
-0002b970: 0a0a 2020 2020 2020 2020 7365 6c66 2e6f  ..        self.o
-0002b980: 6666 7365 745f 6562 2e65 6e74 7279 5f73  ffset_eb.entry_s
-0002b990: 6574 2827 3030 3a30 303a 3030 2729 0a20  et('00:00:00'). 
-0002b9a0: 2020 2020 2020 2073 656c 662e 7175 616c         self.qual
-0002b9b0: 6974 795f 6472 6f70 646f 776e 2e73 6574  ity_dropdown.set
-0002b9c0: 4368 6f69 6365 7328 3630 290a 2020 2020  Choices(60).    
-0002b9d0: 2020 2020 7365 6c66 2e6f 7574 5f66 6f72      self.out_for
-0002b9e0: 6d61 745f 6472 6f70 646f 776e 2e73 6574  mat_dropdown.set
-0002b9f0: 4368 6f69 6365 7328 276d 7034 2729 0a20  Choices('mp4'). 
-0002ba00: 2020 2020 2020 2073 656c 662e 6661 6465         self.fade
-0002ba10: 5f6d 6574 686f 645f 6472 6f70 646f 776e  _method_dropdown
-0002ba20: 2e73 6574 4368 6f69 6365 7328 2766 6164  .setChoices('fad
-0002ba30: 6527 290a 2020 2020 2020 2020 7365 6c66  e').        self
-0002ba40: 2e64 7572 6174 696f 6e5f 6472 6f70 646f  .duration_dropdo
-0002ba50: 776e 2e73 6574 4368 6f69 6365 7328 3629  wn.setChoices(6)
-0002ba60: 0a20 2020 2020 2020 2073 6574 7469 6e67  .        setting
-0002ba70: 735f 6672 6d2e 6772 6964 2872 6f77 3d30  s_frm.grid(row=0
-0002ba80: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
-0002ba90: 6b79 3d4e 5729 0a20 2020 2020 2020 2073  ky=NW).        s
-0002baa0: 656c 662e 7669 6465 6f5f 7061 7468 5f31  elf.video_path_1
-0002bab0: 2e67 7269 6428 726f 773d 302c 2063 6f6c  .grid(row=0, col
-0002bac0: 756d 6e3d 302c 2073 7469 636b 793d 4e57  umn=0, sticky=NW
-0002bad0: 290a 2020 2020 2020 2020 7365 6c66 2e76  ).        self.v
-0002bae0: 6964 656f 5f70 6174 685f 322e 6772 6964  ideo_path_2.grid
-0002baf0: 2872 6f77 3d31 2c20 636f 6c75 6d6e 3d30  (row=1, column=0
-0002bb00: 2c20 7374 6963 6b79 3d4e 5729 0a20 2020  , sticky=NW).   
-0002bb10: 2020 2020 2073 656c 662e 7175 616c 6974       self.qualit
-0002bb20: 795f 6472 6f70 646f 776e 2e67 7269 6428  y_dropdown.grid(
-0002bb30: 726f 773d 322c 2063 6f6c 756d 6e3d 302c  row=2, column=0,
-0002bb40: 2073 7469 636b 793d 4e57 290a 2020 2020   sticky=NW).    
-0002bb50: 2020 2020 7365 6c66 2e6f 7574 5f66 6f72      self.out_for
-0002bb60: 6d61 745f 6472 6f70 646f 776e 2e67 7269  mat_dropdown.gri
-0002bb70: 6428 726f 773d 332c 2063 6f6c 756d 6e3d  d(row=3, column=
-0002bb80: 302c 2073 7469 636b 793d 4e57 290a 2020  0, sticky=NW).  
-0002bb90: 2020 2020 2020 7365 6c66 2e66 6164 655f        self.fade_
-0002bba0: 6d65 7468 6f64 5f64 726f 7064 6f77 6e2e  method_dropdown.
-0002bbb0: 6772 6964 2872 6f77 3d34 2c20 636f 6c75  grid(row=4, colu
-0002bbc0: 6d6e 3d30 2c20 7374 6963 6b79 3d4e 5729  mn=0, sticky=NW)
-0002bbd0: 0a20 2020 2020 2020 2073 656c 662e 6475  .        self.du
-0002bbe0: 7261 7469 6f6e 5f64 726f 7064 6f77 6e2e  ration_dropdown.
-0002bbf0: 6772 6964 2872 6f77 3d35 2c20 636f 6c75  grid(row=5, colu
-0002bc00: 6d6e 3d30 2c20 7374 6963 6b79 3d4e 5729  mn=0, sticky=NW)
-0002bc10: 0a20 2020 2020 2020 2073 656c 662e 6f66  .        self.of
-0002bc20: 6673 6574 5f65 622e 6772 6964 2872 6f77  fset_eb.grid(row
-0002bc30: 3d36 2c20 636f 6c75 6d6e 3d30 2c20 7374  =6, column=0, st
-0002bc40: 6963 6b79 3d4e 5729 0a20 2020 2020 2020  icky=NW).       
-0002bc50: 2073 656c 662e 6372 6561 7465 5f72 756e   self.create_run
-0002bc60: 5f66 726d 2872 756e 5f66 756e 6374 696f  _frm(run_functio
-0002bc70: 6e3d 7365 6c66 2e72 756e 290a 2020 2020  n=self.run).    
-0002bc80: 2020 2020 7365 6c66 2e6d 6169 6e5f 6672      self.main_fr
-0002bc90: 6d2e 6d61 696e 6c6f 6f70 2829 0a0a 2020  m.mainloop()..  
-0002bca0: 2020 6465 6620 7275 6e28 7365 6c66 293a    def run(self):
-0002bcb0: 0a20 2020 2020 2020 2076 6964 656f 5f31  .        video_1
-0002bcc0: 5f70 6174 682c 2076 6964 656f 5f32 5f70  _path, video_2_p
-0002bcd0: 6174 6820 3d20 7365 6c66 2e76 6964 656f  ath = self.video
-0002bce0: 5f70 6174 685f 312e 6669 6c65 5f70 6174  _path_1.file_pat
-0002bcf0: 682c 2073 656c 662e 7669 6465 6f5f 7061  h, self.video_pa
-0002bd00: 7468 5f32 2e66 696c 655f 7061 7468 0a20  th_2.file_path. 
-0002bd10: 2020 2020 2020 2071 7561 6c69 7479 203d         quality =
-0002bd20: 2069 6e74 2873 656c 662e 7175 616c 6974   int(self.qualit
-0002bd30: 795f 6472 6f70 646f 776e 2e67 6574 4368  y_dropdown.getCh
-0002bd40: 6f69 6365 7328 2929 0a20 2020 2020 2020  oices()).       
-0002bd50: 2066 6f72 6d61 7420 3d20 7365 6c66 2e6f   format = self.o
-0002bd60: 7574 5f66 6f72 6d61 745f 6472 6f70 646f  ut_format_dropdo
-0002bd70: 776e 2e67 6574 4368 6f69 6365 7328 290a  wn.getChoices().
-0002bd80: 2020 2020 2020 2020 6661 6465 5f6d 6574          fade_met
-0002bd90: 686f 6420 3d20 7365 6c66 2e66 6164 655f  hod = self.fade_
-0002bda0: 6d65 7468 6f64 5f64 726f 7064 6f77 6e2e  method_dropdown.
-0002bdb0: 6765 7443 686f 6963 6573 2829 0a20 2020  getChoices().   
-0002bdc0: 2020 2020 206f 6666 7365 7420 3d20 7365       offset = se
-0002bdd0: 6c66 2e6f 6666 7365 745f 6562 2e65 6e74  lf.offset_eb.ent
-0002bde0: 7279 5f67 6574 0a20 2020 2020 2020 2063  ry_get.        c
-0002bdf0: 6865 636b 5f69 665f 7374 7269 6e67 5f76  heck_if_string_v
-0002be00: 616c 7565 5f69 735f 7661 6c69 645f 7669  alue_is_valid_vi
-0002be10: 6465 6f5f 7469 6d65 7374 616d 7028 7661  deo_timestamp(va
-0002be20: 6c75 653d 6f66 6673 6574 2c20 6e61 6d65  lue=offset, name
-0002be30: 3d27 6f66 6673 6574 2729 0a20 2020 2020  ='offset').     
-0002be40: 2020 2064 7572 6174 696f 6e20 3d20 696e     duration = in
-0002be50: 7428 7365 6c66 2e64 7572 6174 696f 6e5f  t(self.duration_
-0002be60: 6472 6f70 646f 776e 2e67 6574 4368 6f69  dropdown.getChoi
-0002be70: 6365 7328 2929 0a20 2020 2020 2020 2063  ces()).        c
-0002be80: 6865 636b 5f69 665f 6868 6d6d 7373 5f74  heck_if_hhmmss_t
-0002be90: 696d 6573 7461 6d70 5f69 735f 7661 6c69  imestamp_is_vali
-0002bea0: 645f 7061 7274 5f6f 665f 7669 6465 6f28  d_part_of_video(
-0002beb0: 7469 6d65 7374 616d 703d 6f66 6673 6574  timestamp=offset
-0002bec0: 2c20 7669 6465 6f5f 7061 7468 3d76 6964  , video_path=vid
-0002bed0: 656f 5f31 5f70 6174 6829 0a20 2020 2020  eo_1_path).     
-0002bee0: 2020 206f 6666 7365 7420 3d20 7469 6d65     offset = time
-0002bef0: 7374 616d 705f 746f 5f73 6563 6f6e 6473  stamp_to_seconds
-0002bf00: 2874 696d 6573 7461 6d70 3d6f 6666 7365  (timestamp=offse
-0002bf10: 7429 0a20 2020 2020 2020 2066 6f72 2076  t).        for v
-0002bf20: 6964 656f 5f70 6174 6820 696e 205b 7669  ideo_path in [vi
-0002bf30: 6465 6f5f 315f 7061 7468 2c20 7669 6465  deo_1_path, vide
-0002bf40: 6f5f 325f 7061 7468 5d3a 0a20 2020 2020  o_2_path]:.     
-0002bf50: 2020 2020 2020 2076 6964 656f 5f6d 6574         video_met
-0002bf60: 615f 6461 7461 203d 2067 6574 5f76 6964  a_data = get_vid
-0002bf70: 656f 5f6d 6574 615f 6461 7461 2876 6964  eo_meta_data(vid
-0002bf80: 656f 5f70 6174 683d 7669 6465 6f5f 7061  eo_path=video_pa
-0002bf90: 7468 290a 2020 2020 2020 2020 2020 2020  th).            
-0002bfa0: 6966 2076 6964 656f 5f6d 6574 615f 6461  if video_meta_da
-0002bfb0: 7461 5b27 7669 6465 6f5f 6c65 6e67 7468  ta['video_length
-0002bfc0: 5f73 275d 203c 2064 7572 6174 696f 6e3a  _s'] < duration:
-0002bfd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002bfe0: 2072 6169 7365 2046 7261 6d65 5261 6e67   raise FrameRang
-0002bff0: 6545 7272 6f72 286d 7367 3d66 2756 6964  eError(msg=f'Vid
-0002c000: 656f 207b 7669 6465 6f5f 6d65 7461 5f64  eo {video_meta_d
-0002c010: 6174 615b 2276 6964 656f 5f6e 616d 6522  ata["video_name"
-0002c020: 5d7d 2069 7320 7368 6f72 7465 7220 7b76  ]} is shorter {v
-0002c030: 6964 656f 5f6d 6574 615f 6461 7461 5b22  ideo_meta_data["
-0002c040: 7669 6465 6f5f 6c65 6e67 7468 5f73 225d  video_length_s"]
-0002c050: 7d20 7468 616e 2074 6865 2063 726f 7373  } than the cross
-0002c060: 6661 6465 2064 7572 6174 696f 6e20 7b64  fade duration {d
-0002c070: 7572 6174 696f 6e7d 2e27 2c20 736f 7572  uration}.', sour
-0002c080: 6365 3d73 656c 662e 5f5f 636c 6173 735f  ce=self.__class_
-0002c090: 5f2e 5f5f 6e61 6d65 5f5f 290a 2020 2020  _.__name__).    
-0002c0a0: 2020 2020 2020 2020 6966 2076 6964 656f          if video
-0002c0b0: 5f6d 6574 615f 6461 7461 5b27 7669 6465  _meta_data['vide
-0002c0c0: 6f5f 6c65 6e67 7468 5f73 275d 203c 206f  o_length_s'] < o
-0002c0d0: 6666 7365 743a 0a20 2020 2020 2020 2020  ffset:.         
-0002c0e0: 2020 2020 2020 2072 6169 7365 2046 7261         raise Fra
-0002c0f0: 6d65 5261 6e67 6545 7272 6f72 286d 7367  meRangeError(msg
-0002c100: 3d66 2756 6964 656f 207b 7669 6465 6f5f  =f'Video {video_
-0002c110: 6d65 7461 5f64 6174 615b 2276 6964 656f  meta_data["video
-0002c120: 5f6e 616d 6522 5d7d 2069 7320 7368 6f72  _name"]} is shor
-0002c130: 7465 7220 7b76 6964 656f 5f6d 6574 615f  ter {video_meta_
-0002c140: 6461 7461 5b22 7669 6465 6f5f 6c65 6e67  data["video_leng
-0002c150: 7468 5f73 225d 7d20 7468 616e 2074 6865  th_s"]} than the
-0002c160: 2063 726f 7373 6661 6465 206f 6666 7365   crossfade offse
-0002c170: 7420 7b6f 6666 7365 747d 2e27 2c73 6f75  t {offset}.',sou
-0002c180: 7263 653d 7365 6c66 2e5f 5f63 6c61 7373  rce=self.__class
-0002c190: 5f5f 2e5f 5f6e 616d 655f 5f29 0a0a 0a20  __.__name__)... 
-0002c1a0: 2020 2020 2020 2074 6872 6561 6469 6e67         threading
-0002c1b0: 2e54 6872 6561 6428 6372 6f73 7366 6164  .Thread(crossfad
-0002c1c0: 655f 7477 6f5f 7669 6465 6f73 2876 6964  e_two_videos(vid
-0002c1d0: 656f 5f70 6174 685f 313d 7669 6465 6f5f  eo_path_1=video_
-0002c1e0: 315f 7061 7468 2c0a 2020 2020 2020 2020  1_path,.        
-0002c1f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c210: 2020 2020 2020 7669 6465 6f5f 7061 7468        video_path
-0002c220: 5f32 3d76 6964 656f 5f32 5f70 6174 682c  _2=video_2_path,
-0002c230: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002c240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c250: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-0002c260: 726f 7373 6661 6465 5f64 7572 6174 696f  rossfade_duratio
-0002c270: 6e3d 6475 7261 7469 6f6e 2c0a 2020 2020  n=duration,.    
-0002c280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c2a0: 2020 2020 2020 2020 2020 6372 6f73 7366            crossf
-0002c2b0: 6164 655f 6d65 7468 6f64 3d66 6164 655f  ade_method=fade_
-0002c2c0: 6d65 7468 6f64 2c0a 2020 2020 2020 2020  method,.        
-0002c2d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c2f0: 2020 2020 2020 6372 6f73 7366 6164 655f        crossfade_
-0002c300: 6f66 6673 6574 3d6f 6666 7365 742c 0a20  offset=offset,. 
-0002c310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c330: 2020 2020 2020 2020 2020 2020 206f 7574               out
-0002c340: 5f66 6f72 6d61 743d 666f 726d 6174 2c0a  _format=format,.
-0002c350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c370: 2020 2020 2020 2020 2020 2020 2020 7175                qu
-0002c380: 616c 6974 793d 7175 616c 6974 7929 292e  ality=quality)).
-0002c390: 7374 6172 7428 290a 0a23 4372 6f73 7366  start()..#Crossf
-0002c3a0: 6164 6556 6964 656f 7350 6f70 5570 2829  adeVideosPopUp()
-0002c3b0: 0a0a 2320 466c 6970 5669 6465 6f73 506f  ..# FlipVideosPo
-0002c3c0: 7055 7028 290a 0a23 2043 6c69 704d 756c  pUp()..# ClipMul
-0002c3d0: 7469 706c 6556 6964 656f 7342 7946 7261  tipleVideosByFra
-0002c3e0: 6d65 4e75 6d62 6572 730a 2320 436c 6970  meNumbers.# Clip
-0002c3f0: 4d75 6c74 6970 6c65 5669 6465 6f73 4279  MultipleVideosBy
-0002c400: 4672 616d 654e 756d 6265 7273 2864 6174  FrameNumbers(dat
-0002c410: 615f 6469 723d 272f 5573 6572 732f 7369  a_dir='/Users/si
-0002c420: 6d6f 6e2f 4465 736b 746f 702f 656e 7673  mon/Desktop/envs
-0002c430: 2f73 696d 6261 2f74 726f 7562 6c65 7368  /simba/troublesh
-0002c440: 6f6f 7469 6e67 2f62 6565 7062 6f6f 7031  ooting/beepboop1
-0002c450: 3734 2f70 726f 6a65 6374 5f66 6f6c 6465  74/project_folde
-0002c460: 722f 7669 6465 6f73 2f74 6573 7427 2c20  r/videos/test', 
-0002c470: 7361 7665 5f64 6972 3d27 2f55 7365 7273  save_dir='/Users
-0002c480: 2f73 696d 6f6e 2f44 6573 6b74 6f70 2f65  /simon/Desktop/e
-0002c490: 6e76 732f 7369 6d62 612f 7472 6f75 626c  nvs/simba/troubl
-0002c4a0: 6573 686f 6f74 696e 672f 6265 6570 626f  eshooting/beepbo
-0002c4b0: 6f70 3137 342f 7072 6f6a 6563 745f 666f  op174/project_fo
-0002c4c0: 6c64 6572 2f76 6964 656f 732f 636c 6970  lder/videos/clip
-0002c4d0: 7065 6427 290a                           ped').
+00029e50: 290a 2020 2020 2020 2020 7369 6e67 6c65  ).        single
+00029e60: 5f76 6964 656f 5f72 756e 2e67 7269 6428  _video_run.grid(
+00029e70: 726f 773d 312c 2063 6f6c 756d 6e3d 302c  row=1, column=0,
+00029e80: 2073 7469 636b 793d 224e 5722 290a 0a20   sticky="NW").. 
+00029e90: 2020 2020 2020 206d 756c 7469 706c 655f         multiple_
+00029ea0: 7669 6465 6f73 5f66 726d 203d 2043 7265  videos_frm = Cre
+00029eb0: 6174 654c 6162 656c 4672 616d 6557 6974  ateLabelFrameWit
+00029ec0: 6849 636f 6e28 7061 7265 6e74 3d73 656c  hIcon(parent=sel
+00029ed0: 662e 6d61 696e 5f66 726d 2c20 6865 6164  f.main_frm, head
+00029ee0: 6572 3d22 4d55 4c54 4950 4c45 2056 4944  er="MULTIPLE VID
+00029ef0: 454f 5320 2d20 4352 4541 5445 2041 5645  EOS - CREATE AVE
+00029f00: 5241 4745 2046 5241 4d45 5322 2c20 6963  RAGE FRAMES", ic
+00029f10: 6f6e 5f6e 616d 653d 4b65 7973 2e44 4f43  on_name=Keys.DOC
+00029f20: 554d 454e 5441 5449 4f4e 2e76 616c 7565  UMENTATION.value
+00029f30: 2c20 6963 6f6e 5f6c 696e 6b3d 4c69 6e6b  , icon_link=Link
+00029f40: 732e 5649 4445 4f5f 544f 4f4c 532e 7661  s.VIDEO_TOOLS.va
+00029f50: 6c75 6529 0a20 2020 2020 2020 2073 656c  lue).        sel
+00029f60: 662e 7365 6c65 6374 6564 5f76 6964 656f  f.selected_video
+00029f70: 5f64 6972 203d 2046 6f6c 6465 7253 656c  _dir = FolderSel
+00029f80: 6563 7428 6d75 6c74 6970 6c65 5f76 6964  ect(multiple_vid
+00029f90: 656f 735f 6672 6d2c 2022 5649 4445 4f20  eos_frm, "VIDEO 
+00029fa0: 4449 5245 4354 4f52 5920 5041 5448 3a22  DIRECTORY PATH:"
+00029fb0: 2c20 7469 746c 653d 2253 656c 6563 7420  , title="Select 
+00029fc0: 6120 7669 6465 6f20 6469 7265 6374 6f72  a video director
+00029fd0: 7922 2c20 6c62 6c77 6964 7468 3d32 3529  y", lblwidth=25)
+00029fe0: 0a20 2020 2020 2020 206d 756c 7469 706c  .        multipl
+00029ff0: 655f 7669 6465 6f73 5f72 756e 203d 2042  e_videos_run = B
+0002a000: 7574 746f 6e28 6d75 6c74 6970 6c65 5f76  utton(multiple_v
+0002a010: 6964 656f 735f 6672 6d2c 2074 6578 743d  ideos_frm, text=
+0002a020: 2252 554e 202d 204d 554c 5449 504c 4520  "RUN - MULTIPLE 
+0002a030: 5649 4445 4f53 222c 2063 6f6d 6d61 6e64  VIDEOS", command
+0002a040: 3d6c 616d 6264 613a 2073 656c 662e 7275  =lambda: self.ru
+0002a050: 6e28 6d75 6c74 6970 6c65 3d54 7275 6529  n(multiple=True)
+0002a060: 290a 0a20 2020 2020 2020 206d 756c 7469  )..        multi
+0002a070: 706c 655f 7669 6465 6f73 5f66 726d 2e67  ple_videos_frm.g
+0002a080: 7269 6428 726f 773d 322c 2063 6f6c 756d  rid(row=2, colum
+0002a090: 6e3d 302c 2073 7469 636b 793d 224e 5722  n=0, sticky="NW"
+0002a0a0: 290a 2020 2020 2020 2020 7365 6c66 2e73  ).        self.s
+0002a0b0: 656c 6563 7465 645f 7669 6465 6f5f 6469  elected_video_di
+0002a0c0: 722e 6772 6964 2872 6f77 3d30 2c20 636f  r.grid(row=0, co
+0002a0d0: 6c75 6d6e 3d30 2c20 7374 6963 6b79 3d22  lumn=0, sticky="
+0002a0e0: 4e57 2229 0a20 2020 2020 2020 206d 756c  NW").        mul
+0002a0f0: 7469 706c 655f 7669 6465 6f73 5f72 756e  tiple_videos_run
+0002a100: 2e67 7269 6428 726f 773d 312c 2063 6f6c  .grid(row=1, col
+0002a110: 756d 6e3d 302c 2073 7469 636b 793d 224e  umn=0, sticky="N
+0002a120: 5722 290a 2020 2020 2020 2020 7365 6c66  W").        self
+0002a130: 2e6d 6169 6e5f 6672 6d2e 6d61 696e 6c6f  .main_frm.mainlo
+0002a140: 6f70 2829 0a0a 2020 2020 6465 6620 7275  op()..    def ru
+0002a150: 6e28 7365 6c66 2c20 6d75 6c74 6970 6c65  n(self, multiple
+0002a160: 3a20 626f 6f6c 293a 0a20 2020 2020 2020  : bool):.       
+0002a170: 2073 7461 7274 5f74 696d 6520 3d20 7365   start_time = se
+0002a180: 6c66 2e73 6563 7469 6f6e 5f73 7461 7274  lf.section_start
+0002a190: 5f74 696d 655f 6562 2e65 6e74 7279 5f67  _time_eb.entry_g
+0002a1a0: 6574 2e73 7472 6970 2829 0a20 2020 2020  et.strip().     
+0002a1b0: 2020 2065 6e64 5f74 696d 6520 3d20 7365     end_time = se
+0002a1c0: 6c66 2e73 6563 7469 6f6e 5f65 6e64 5f74  lf.section_end_t
+0002a1d0: 696d 655f 6562 2e65 6e74 7279 5f67 6574  ime_eb.entry_get
+0002a1e0: 2e73 7472 6970 2829 0a20 2020 2020 2020  .strip().       
+0002a1f0: 2073 6176 655f 6469 7220 3d20 7365 6c66   save_dir = self
+0002a200: 2e73 6176 655f 6469 722e 666f 6c64 6572  .save_dir.folder
+0002a210: 5f70 6174 680a 2020 2020 2020 2020 6368  _path.        ch
+0002a220: 6563 6b5f 6966 5f64 6972 5f65 7869 7374  eck_if_dir_exist
+0002a230: 7328 696e 5f64 6972 3d73 6176 655f 6469  s(in_dir=save_di
+0002a240: 7229 0a20 2020 2020 2020 2069 6620 2873  r).        if (s
+0002a250: 7461 7274 5f74 696d 6520 213d 2027 2720  tart_time != '' 
+0002a260: 616e 6420 656e 645f 7469 6d65 203d 3d20  and end_time == 
+0002a270: 2727 2920 6f72 2028 7374 6172 745f 7469  '') or (start_ti
+0002a280: 6d65 203d 3d20 2727 2061 6e64 2065 6e64  me == '' and end
+0002a290: 5f74 696d 6520 213d 2027 2729 3a0a 2020  _time != ''):.  
+0002a2a0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0002a2b0: 496e 7661 6c69 6449 6e70 7574 4572 726f  InvalidInputErro
+0002a2c0: 7228 6d73 673d 6627 426f 7468 2073 7461  r(msg=f'Both sta
+0002a2d0: 7274 2074 696d 6520 616e 6420 656e 6420  rt time and end 
+0002a2e0: 7469 6d65 2068 6176 6520 746f 2062 6520  time have to be 
+0002a2f0: 6569 7468 6572 2074 696d 652d 7374 616d  either time-stam
+0002a300: 7073 206f 7220 626c 616e 6b2e 272c 2073  ps or blank.', s
+0002a310: 6f75 7263 653d 7365 6c66 2e5f 5f63 6c61  ource=self.__cla
+0002a320: 7373 5f5f 2e5f 5f6e 616d 655f 5f29 0a20  ss__.__name__). 
+0002a330: 2020 2020 2020 2069 6620 7374 6172 745f         if start_
+0002a340: 7469 6d65 2021 3d20 2727 2061 6e64 2065  time != '' and e
+0002a350: 6e64 5f74 696d 6520 213d 2027 273a 0a20  nd_time != '':. 
+0002a360: 2020 2020 2020 2020 2020 2063 6865 636b             check
+0002a370: 5f69 665f 7374 7269 6e67 5f76 616c 7565  _if_string_value
+0002a380: 5f69 735f 7661 6c69 645f 7669 6465 6f5f  _is_valid_video_
+0002a390: 7469 6d65 7374 616d 7028 7661 6c75 653d  timestamp(value=
+0002a3a0: 7374 6172 745f 7469 6d65 2c20 6e61 6d65  start_time, name
+0002a3b0: 3d27 7374 6172 745f 7469 6d65 2729 0a20  ='start_time'). 
+0002a3c0: 2020 2020 2020 2020 2020 2063 6865 636b             check
+0002a3d0: 5f69 665f 7374 7269 6e67 5f76 616c 7565  _if_string_value
+0002a3e0: 5f69 735f 7661 6c69 645f 7669 6465 6f5f  _is_valid_video_
+0002a3f0: 7469 6d65 7374 616d 7028 7661 6c75 653d  timestamp(value=
+0002a400: 656e 645f 7469 6d65 2c20 6e61 6d65 3d27  end_time, name='
+0002a410: 656e 645f 7469 6d65 2729 0a20 2020 2020  end_time').     
+0002a420: 2020 2020 2020 2063 6865 636b 5f74 6861         check_tha
+0002a430: 745f 6868 6d6d 7373 5f73 7461 7274 5f69  t_hhmmss_start_i
+0002a440: 735f 6265 666f 7265 5f65 6e64 2873 7461  s_before_end(sta
+0002a450: 7274 5f74 696d 653d 7374 6172 745f 7469  rt_time=start_ti
+0002a460: 6d65 2c20 656e 645f 7469 6d65 3d65 6e64  me, end_time=end
+0002a470: 5f74 696d 652c 206e 616d 653d 7365 6c66  _time, name=self
+0002a480: 2e5f 5f63 6c61 7373 5f5f 2e5f 5f6e 616d  .__class__.__nam
+0002a490: 655f 5f29 0a20 2020 2020 2020 2065 6c73  e__).        els
+0002a4a0: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
+0002a4b0: 7461 7274 5f74 696d 652c 2065 6e64 5f74  tart_time, end_t
+0002a4c0: 696d 6520 3d20 4e6f 6e65 2c20 4e6f 6e65  ime = None, None
+0002a4d0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
+0002a4e0: 6d75 6c74 6970 6c65 3a0a 2020 2020 2020  multiple:.      
+0002a4f0: 2020 2020 2020 6461 7461 5f70 6174 6820        data_path 
+0002a500: 3d20 7365 6c66 2e73 656c 6563 7465 645f  = self.selected_
+0002a510: 7669 6465 6f2e 6669 6c65 5f70 6174 680a  video.file_path.
+0002a520: 2020 2020 2020 2020 2020 2020 6368 6563              chec
+0002a530: 6b5f 6669 6c65 5f65 7869 7374 5f61 6e64  k_file_exist_and
+0002a540: 5f72 6561 6461 626c 6528 6669 6c65 5f70  _readable(file_p
+0002a550: 6174 683d 6461 7461 5f70 6174 6829 0a20  ath=data_path). 
+0002a560: 2020 2020 2020 2020 2020 2064 6174 615f             data_
+0002a570: 7061 7468 203d 205b 6461 7461 5f70 6174  path = [data_pat
+0002a580: 685d 0a20 2020 2020 2020 2065 6c73 653a  h].        else:
+0002a590: 0a20 2020 2020 2020 2020 2020 2064 6174  .            dat
+0002a5a0: 615f 7061 7468 203d 2073 656c 662e 7365  a_path = self.se
+0002a5b0: 6c65 6374 6564 5f76 6964 656f 5f64 6972  lected_video_dir
+0002a5c0: 2e66 6f6c 6465 725f 7061 7468 0a20 2020  .folder_path.   
+0002a5d0: 2020 2020 2020 2020 2063 6865 636b 5f69           check_i
+0002a5e0: 665f 6469 725f 6578 6973 7473 2869 6e5f  f_dir_exists(in_
+0002a5f0: 6469 723d 6461 7461 5f70 6174 6829 0a20  dir=data_path). 
+0002a600: 2020 2020 2020 2020 2020 2064 6174 615f             data_
+0002a610: 7061 7468 203d 206c 6973 7428 6669 6e64  path = list(find
+0002a620: 5f61 6c6c 5f76 6964 656f 735f 696e 5f64  _all_videos_in_d
+0002a630: 6972 6563 746f 7279 2864 6972 6563 746f  irectory(directo
+0002a640: 7279 3d64 6174 615f 7061 7468 2c20 6173  ry=data_path, as
+0002a650: 5f64 6963 743d 5472 7565 2c20 7261 6973  _dict=True, rais
+0002a660: 655f 6572 726f 723d 5472 7565 292e 7661  e_error=True).va
+0002a670: 6c75 6573 2829 290a 0a20 2020 2020 2020  lues())..       
+0002a680: 2066 6f72 2076 6964 656f 5f63 6e74 2c20   for video_cnt, 
+0002a690: 7669 6465 6f5f 7061 7468 2069 6e20 656e  video_path in en
+0002a6a0: 756d 6572 6174 6528 6461 7461 5f70 6174  umerate(data_pat
+0002a6b0: 6829 3a0a 2020 2020 2020 2020 2020 2020  h):.            
+0002a6c0: 5f2c 2076 6964 656f 5f6e 616d 652c 205f  _, video_name, _
+0002a6d0: 203d 2067 6574 5f66 6e5f 6578 7428 6669   = get_fn_ext(fi
+0002a6e0: 6c65 7061 7468 3d76 6964 656f 5f70 6174  lepath=video_pat
+0002a6f0: 6829 0a20 2020 2020 2020 2020 2020 2073  h).            s
+0002a700: 6176 655f 7061 7468 203d 206f 732e 7061  ave_path = os.pa
+0002a710: 7468 2e6a 6f69 6e28 7361 7665 5f64 6972  th.join(save_dir
+0002a720: 2c20 7361 7665 5f64 6972 2c20 6627 7b76  , save_dir, f'{v
+0002a730: 6964 656f 5f6e 616d 657d 5f61 7667 5f66  ideo_name}_avg_f
+0002a740: 726d 2e70 6e67 2729 0a20 2020 2020 2020  rm.png').       
+0002a750: 2020 2020 205f 203d 2067 6574 5f76 6964       _ = get_vid
+0002a760: 656f 5f6d 6574 615f 6461 7461 2876 6964  eo_meta_data(vid
+0002a770: 656f 5f70 6174 683d 7669 6465 6f5f 7061  eo_path=video_pa
+0002a780: 7468 290a 2020 2020 2020 2020 2020 2020  th).            
+0002a790: 6966 2073 7461 7274 5f74 696d 6520 213d  if start_time !=
+0002a7a0: 204e 6f6e 6520 616e 6420 656e 645f 7469   None and end_ti
+0002a7b0: 6d65 2021 3d20 4e6f 6e65 3a0a 2020 2020  me != None:.    
+0002a7c0: 2020 2020 2020 2020 2020 2020 6368 6563              chec
+0002a7d0: 6b5f 6966 5f68 686d 6d73 735f 7469 6d65  k_if_hhmmss_time
+0002a7e0: 7374 616d 705f 6973 5f76 616c 6964 5f70  stamp_is_valid_p
+0002a7f0: 6172 745f 6f66 5f76 6964 656f 2874 696d  art_of_video(tim
+0002a800: 6573 7461 6d70 3d73 7461 7274 5f74 696d  estamp=start_tim
+0002a810: 652c 2076 6964 656f 5f70 6174 683d 7669  e, video_path=vi
+0002a820: 6465 6f5f 7061 7468 290a 2020 2020 2020  deo_path).      
+0002a830: 2020 2020 2020 2020 2020 6368 6563 6b5f            check_
+0002a840: 6966 5f68 686d 6d73 735f 7469 6d65 7374  if_hhmmss_timest
+0002a850: 616d 705f 6973 5f76 616c 6964 5f70 6172  amp_is_valid_par
+0002a860: 745f 6f66 5f76 6964 656f 2874 696d 6573  t_of_video(times
+0002a870: 7461 6d70 3d65 6e64 5f74 696d 652c 2076  tamp=end_time, v
+0002a880: 6964 656f 5f70 6174 683d 7669 6465 6f5f  ideo_path=video_
+0002a890: 7061 7468 290a 0a20 2020 2020 2020 2020  path)..         
+0002a8a0: 2020 2074 6872 6561 6469 6e67 2e54 6872     threading.Thr
+0002a8b0: 6561 6428 7461 7267 6574 3d63 7265 6174  ead(target=creat
+0002a8c0: 655f 6176 6572 6167 655f 6672 6d28 7669  e_average_frm(vi
+0002a8d0: 6465 6f5f 7061 7468 3d76 6964 656f 5f70  deo_path=video_p
+0002a8e0: 6174 682c 0a20 2020 2020 2020 2020 2020  ath,.           
+0002a8f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a910: 2020 2020 2020 2020 2020 2020 7374 6172              star
+0002a920: 745f 7469 6d65 3d73 7461 7274 5f74 696d  t_time=start_tim
+0002a930: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+0002a940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a960: 2020 2020 2020 2020 2020 656e 645f 7469            end_ti
+0002a970: 6d65 3d65 6e64 5f74 696d 652c 0a20 2020  me=end_time,.   
+0002a980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a9a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a9b0: 2020 2020 7361 7665 5f70 6174 683d 7361      save_path=sa
+0002a9c0: 7665 5f70 6174 682c 0a20 2020 2020 2020  ve_path,.       
+0002a9d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a9e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a9f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002aa00: 7665 7262 6f73 653d 5472 7565 2929 2e73  verbose=True)).s
+0002aa10: 7461 7274 2829 0a0a 636c 6173 7320 4d61  tart()..class Ma
+0002aa20: 6e75 616c 5465 6d70 6f72 616c 4a6f 696e  nualTemporalJoin
+0002aa30: 506f 7055 7028 506f 7055 704d 6978 696e  PopUp(PopUpMixin
+0002aa40: 293a 0a20 2020 2064 6566 205f 5f69 6e69  ):.    def __ini
+0002aa50: 745f 5f28 7365 6c66 293a 0a20 2020 2020  t__(self):.     
+0002aa60: 2020 2050 6f70 5570 4d69 7869 6e2e 5f5f     PopUpMixin.__
+0002aa70: 696e 6974 5f5f 2873 656c 662c 2074 6974  init__(self, tit
+0002aa80: 6c65 3d22 4d41 4e55 414c 2054 454d 504f  le="MANUAL TEMPO
+0002aa90: 5241 4c20 4a4f 494e 2056 4944 454f 5322  RAL JOIN VIDEOS"
+0002aaa0: 290a 2020 2020 2020 2020 7669 6465 6f5f  ).        video_
+0002aab0: 636e 745f 6672 6d20 3d20 4372 6561 7465  cnt_frm = Create
+0002aac0: 4c61 6265 6c46 7261 6d65 5769 7468 4963  LabelFrameWithIc
+0002aad0: 6f6e 2870 6172 656e 743d 7365 6c66 2e6d  on(parent=self.m
+0002aae0: 6169 6e5f 6672 6d2c 2068 6561 6465 723d  ain_frm, header=
+0002aaf0: 224e 554d 4245 5220 4f46 2056 4944 454f  "NUMBER OF VIDEO
+0002ab00: 5320 544f 204a 4f49 4e22 2c20 6963 6f6e  S TO JOIN", icon
+0002ab10: 5f6e 616d 653d 4b65 7973 2e44 4f43 554d  _name=Keys.DOCUM
+0002ab20: 454e 5441 5449 4f4e 2e76 616c 7565 2c20  ENTATION.value, 
+0002ab30: 6963 6f6e 5f6c 696e 6b3d 4c69 6e6b 732e  icon_link=Links.
+0002ab40: 5649 4445 4f5f 544f 4f4c 532e 7661 6c75  VIDEO_TOOLS.valu
+0002ab50: 6529 0a20 2020 2020 2020 2073 656c 662e  e).        self.
+0002ab60: 7669 6465 6f5f 636e 745f 6472 6f70 646f  video_cnt_dropdo
+0002ab70: 776e 203d 2044 726f 7044 6f77 6e4d 656e  wn = DropDownMen
+0002ab80: 7528 7669 6465 6f5f 636e 745f 6672 6d2c  u(video_cnt_frm,
+0002ab90: 2022 4e55 4d42 4552 204f 4620 5649 4445   "NUMBER OF VIDE
+0002aba0: 4f53 3a22 2c20 6c69 7374 2872 616e 6765  OS:", list(range
+0002abb0: 2832 2c20 3130 312c 2031 2929 2c20 6c61  (2, 101, 1)), la
+0002abc0: 6265 6c77 6964 7468 3d32 3529 0a20 2020  belwidth=25).   
+0002abd0: 2020 2020 2073 656c 662e 7365 6c65 6374       self.select
+0002abe0: 5f76 6964 656f 5f63 6e74 5f62 746e 203d  _video_cnt_btn =
+0002abf0: 2042 7574 746f 6e28 7669 6465 6f5f 636e   Button(video_cn
+0002ac00: 745f 6672 6d2c 2074 6578 743d 2253 454c  t_frm, text="SEL
+0002ac10: 4543 5422 2c20 636f 6d6d 616e 643d 6c61  ECT", command=la
+0002ac20: 6d62 6461 3a20 7365 6c66 2e73 656c 6563  mbda: self.selec
+0002ac30: 7428 2929 0a20 2020 2020 2020 2073 656c  t()).        sel
+0002ac40: 662e 7175 616c 6974 795f 6472 6f70 646f  f.quality_dropdo
+0002ac50: 776e 203d 2044 726f 7044 6f77 6e4d 656e  wn = DropDownMen
+0002ac60: 7528 7669 6465 6f5f 636e 745f 6672 6d2c  u(video_cnt_frm,
+0002ac70: 2022 4f55 5450 5554 2056 4944 454f 2051   "OUTPUT VIDEO Q
+0002ac80: 5541 4c49 5459 3a22 2c20 6c69 7374 2872  UALITY:", list(r
+0002ac90: 616e 6765 2831 302c 2031 3130 2c20 3130  ange(10, 110, 10
+0002aca0: 2929 2c20 6c61 6265 6c77 6964 7468 3d32  )), labelwidth=2
+0002acb0: 3529 0a20 2020 2020 2020 2073 656c 662e  5).        self.
+0002acc0: 7175 616c 6974 795f 6472 6f70 646f 776e  quality_dropdown
+0002acd0: 2e73 6574 4368 6f69 6365 7328 3630 290a  .setChoices(60).
+0002ace0: 2020 2020 2020 2020 7365 6c66 2e6f 7574          self.out
+0002acf0: 5f66 6f72 6d61 745f 6472 6f70 646f 776e  _format_dropdown
+0002ad00: 203d 2044 726f 7044 6f77 6e4d 656e 7528   = DropDownMenu(
+0002ad10: 7669 6465 6f5f 636e 745f 6672 6d2c 2022  video_cnt_frm, "
+0002ad20: 4f55 5450 5554 2056 4944 454f 2046 4f52  OUTPUT VIDEO FOR
+0002ad30: 4d41 543a 222c 204f 7074 696f 6e73 2e41  MAT:", Options.A
+0002ad40: 4c4c 5f56 4944 454f 5f46 4f52 4d41 545f  LL_VIDEO_FORMAT_
+0002ad50: 4f50 5449 4f4e 532e 7661 6c75 652c 206c  OPTIONS.value, l
+0002ad60: 6162 656c 7769 6474 683d 3235 290a 2020  abelwidth=25).  
+0002ad70: 2020 2020 2020 7365 6c66 2e6f 7574 5f66        self.out_f
+0002ad80: 6f72 6d61 745f 6472 6f70 646f 776e 2e73  ormat_dropdown.s
+0002ad90: 6574 4368 6f69 6365 7328 272e 6d70 3427  etChoices('.mp4'
+0002ada0: 290a 2020 2020 2020 2020 7365 6c66 2e76  ).        self.v
+0002adb0: 6964 656f 5f63 6e74 5f64 726f 7064 6f77  ideo_cnt_dropdow
+0002adc0: 6e2e 7365 7443 686f 6963 6573 2832 290a  n.setChoices(2).
+0002add0: 2020 2020 2020 2020 7669 6465 6f5f 636e          video_cn
+0002ade0: 745f 6672 6d2e 6772 6964 2872 6f77 3d30  t_frm.grid(row=0
+0002adf0: 2c20 636f 6c75 6d6e 3d30 2c20 7374 6963  , column=0, stic
+0002ae00: 6b79 3d4e 5729 0a20 2020 2020 2020 2073  ky=NW).        s
+0002ae10: 656c 662e 7669 6465 6f5f 636e 745f 6472  elf.video_cnt_dr
+0002ae20: 6f70 646f 776e 2e67 7269 6428 726f 773d  opdown.grid(row=
+0002ae30: 302c 2063 6f6c 756d 6e3d 302c 2073 7469  0, column=0, sti
+0002ae40: 636b 793d 4e57 290a 2020 2020 2020 2020  cky=NW).        
+0002ae50: 7365 6c66 2e73 656c 6563 745f 7669 6465  self.select_vide
+0002ae60: 6f5f 636e 745f 6274 6e2e 6772 6964 2872  o_cnt_btn.grid(r
+0002ae70: 6f77 3d30 2c20 636f 6c75 6d6e 3d31 2c20  ow=0, column=1, 
+0002ae80: 7374 6963 6b79 3d4e 5729 0a20 2020 2020  sticky=NW).     
+0002ae90: 2020 2073 656c 662e 7175 616c 6974 795f     self.quality_
+0002aea0: 6472 6f70 646f 776e 2e67 7269 6428 726f  dropdown.grid(ro
+0002aeb0: 773d 312c 2063 6f6c 756d 6e3d 302c 2073  w=1, column=0, s
+0002aec0: 7469 636b 793d 4e57 290a 2020 2020 2020  ticky=NW).      
+0002aed0: 2020 7365 6c66 2e6f 7574 5f66 6f72 6d61    self.out_forma
+0002aee0: 745f 6472 6f70 646f 776e 2e67 7269 6428  t_dropdown.grid(
+0002aef0: 726f 773d 322c 2063 6f6c 756d 6e3d 302c  row=2, column=0,
+0002af00: 2073 7469 636b 793d 4e57 290a 2020 2020   sticky=NW).    
+0002af10: 2020 2020 7365 6c66 2e6d 6169 6e5f 6672      self.main_fr
+0002af20: 6d2e 6d61 696e 6c6f 6f70 2829 0a0a 2020  m.mainloop()..  
+0002af30: 2020 6465 6620 7365 6c65 6374 2873 656c    def select(sel
+0002af40: 6629 3a0a 2020 2020 2020 2020 7669 6465  f):.        vide
+0002af50: 6f5f 636e 7420 3d20 696e 7428 7365 6c66  o_cnt = int(self
+0002af60: 2e76 6964 656f 5f63 6e74 5f64 726f 7064  .video_cnt_dropd
+0002af70: 6f77 6e2e 6765 7443 686f 6963 6573 2829  own.getChoices()
+0002af80: 290a 2020 2020 2020 2020 6966 2068 6173  ).        if has
+0002af90: 6174 7472 2873 656c 662c 2027 7669 6465  attr(self, 'vide
+0002afa0: 6f5f 7061 7468 735f 6672 6d27 293a 0a20  o_paths_frm'):. 
+0002afb0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0002afc0: 7669 6465 6f5f 7061 7468 735f 6672 6d2e  video_paths_frm.
+0002afd0: 6465 7374 726f 7928 290a 2020 2020 2020  destroy().      
+0002afe0: 2020 2020 2020 7365 6c66 2e72 756e 5f66        self.run_f
+0002aff0: 726d 2e64 6573 7472 6f79 2829 0a20 2020  rm.destroy().   
+0002b000: 2020 2020 2073 656c 662e 7669 6465 6f5f       self.video_
+0002b010: 7061 7468 735f 6672 6d20 3d20 4372 6561  paths_frm = Crea
+0002b020: 7465 4c61 6265 6c46 7261 6d65 5769 7468  teLabelFrameWith
+0002b030: 4963 6f6e 2870 6172 656e 743d 7365 6c66  Icon(parent=self
+0002b040: 2e6d 6169 6e5f 6672 6d2c 2068 6561 6465  .main_frm, heade
+0002b050: 723d 2256 4944 454f 2050 4154 4853 222c  r="VIDEO PATHS",
+0002b060: 2069 636f 6e5f 6e61 6d65 3d4b 6579 732e   icon_name=Keys.
+0002b070: 444f 4355 4d45 4e54 4154 494f 4e2e 7661  DOCUMENTATION.va
+0002b080: 6c75 652c 2069 636f 6e5f 6c69 6e6b 3d4c  lue, icon_link=L
+0002b090: 696e 6b73 2e56 4944 454f 5f54 4f4f 4c53  inks.VIDEO_TOOLS
+0002b0a0: 2e76 616c 7565 290a 2020 2020 2020 2020  .value).        
+0002b0b0: 7365 6c66 2e76 6964 656f 5f70 6174 6873  self.video_paths
+0002b0c0: 5f66 726d 2e67 7269 6428 726f 773d 312c  _frm.grid(row=1,
+0002b0d0: 2063 6f6c 756d 6e3d 302c 2073 7469 636b   column=0, stick
+0002b0e0: 793d 4e57 290a 2020 2020 2020 2020 7365  y=NW).        se
+0002b0f0: 6c66 2e76 6964 656f 5f70 6174 6873 203d  lf.video_paths =
+0002b100: 207b 7d0a 2020 2020 2020 2020 666f 7220   {}.        for 
+0002b110: 7669 6465 6f5f 636e 7420 696e 2072 616e  video_cnt in ran
+0002b120: 6765 2876 6964 656f 5f63 6e74 293a 0a20  ge(video_cnt):. 
+0002b130: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0002b140: 7669 6465 6f5f 7061 7468 735b 7669 6465  video_paths[vide
+0002b150: 6f5f 636e 745d 203d 2046 696c 6553 656c  o_cnt] = FileSel
+0002b160: 6563 7428 7365 6c66 2e76 6964 656f 5f70  ect(self.video_p
+0002b170: 6174 6873 5f66 726d 2c20 6622 5649 4445  aths_frm, f"VIDE
+0002b180: 4f20 5041 5448 207b 7669 6465 6f5f 636e  O PATH {video_cn
+0002b190: 742b 317d 3a22 2c20 7469 746c 653d 2253  t+1}:", title="S
+0002b1a0: 656c 6563 7420 6120 7669 6465 6f20 6669  elect a video fi
+0002b1b0: 6c65 222c 206c 626c 7769 6474 683d 3235  le", lblwidth=25
+0002b1c0: 2c20 6669 6c65 5f74 7970 6573 3d5b 2822  , file_types=[("
+0002b1d0: 5649 4445 4f20 4649 4c45 222c 204f 7074  VIDEO FILE", Opt
+0002b1e0: 696f 6e73 2e41 4c4c 5f56 4944 454f 5f46  ions.ALL_VIDEO_F
+0002b1f0: 4f52 4d41 545f 5354 525f 4f50 5449 4f4e  ORMAT_STR_OPTION
+0002b200: 532e 7661 6c75 6529 5d29 0a20 2020 2020  S.value)]).     
+0002b210: 2020 2020 2020 2073 656c 662e 7669 6465         self.vide
+0002b220: 6f5f 7061 7468 735b 7669 6465 6f5f 636e  o_paths[video_cn
+0002b230: 745d 2e67 7269 6428 726f 773d 7669 6465  t].grid(row=vide
+0002b240: 6f5f 636e 742c 2063 6f6c 756d 6e3d 302c  o_cnt, column=0,
+0002b250: 2073 7469 636b 793d 4e57 290a 2020 2020   sticky=NW).    
+0002b260: 2020 2020 7365 6c66 2e63 7265 6174 655f      self.create_
+0002b270: 7275 6e5f 6672 6d28 7275 6e5f 6675 6e63  run_frm(run_func
+0002b280: 7469 6f6e 3d73 656c 662e 7275 6e29 0a0a  tion=self.run)..
+0002b290: 2020 2020 6465 6620 7275 6e28 7365 6c66      def run(self
+0002b2a0: 293a 0a20 2020 2020 2020 2076 6964 656f  ):.        video
+0002b2b0: 5f66 696c 655f 7061 7468 732c 206d 6574  _file_paths, met
+0002b2c0: 6120 3d20 5b5d 2c20 5b5d 0a20 2020 2020  a = [], [].     
+0002b2d0: 2020 2066 6f72 2063 6e74 2c20 7669 6465     for cnt, vide
+0002b2e0: 6f5f 6669 6c65 5f73 656c 6563 7420 696e  o_file_select in
+0002b2f0: 2073 656c 662e 7669 6465 6f5f 7061 7468   self.video_path
+0002b300: 732e 6974 656d 7328 293a 0a20 2020 2020  s.items():.     
+0002b310: 2020 2020 2020 2076 6964 656f 5f70 6174         video_pat
+0002b320: 6820 3d20 7669 6465 6f5f 6669 6c65 5f73  h = video_file_s
+0002b330: 656c 6563 742e 6669 6c65 5f70 6174 680a  elect.file_path.
+0002b340: 2020 2020 2020 2020 2020 2020 6368 6563              chec
+0002b350: 6b5f 6669 6c65 5f65 7869 7374 5f61 6e64  k_file_exist_and
+0002b360: 5f72 6561 6461 626c 6528 6669 6c65 5f70  _readable(file_p
+0002b370: 6174 683d 7669 6465 6f5f 7061 7468 290a  ath=video_path).
+0002b380: 2020 2020 2020 2020 2020 2020 7669 6465              vide
+0002b390: 6f5f 6d65 7461 203d 2067 6574 5f76 6964  o_meta = get_vid
+0002b3a0: 656f 5f6d 6574 615f 6461 7461 2876 6964  eo_meta_data(vid
+0002b3b0: 656f 5f70 6174 683d 7669 6465 6f5f 7061  eo_path=video_pa
+0002b3c0: 7468 290a 2020 2020 2020 2020 2020 2020  th).            
+0002b3d0: 7669 6465 6f5f 6669 6c65 5f70 6174 6873  video_file_paths
+0002b3e0: 2e61 7070 656e 6428 7669 6465 6f5f 7061  .append(video_pa
+0002b3f0: 7468 290a 2020 2020 2020 2020 2020 2020  th).            
+0002b400: 6d65 7461 2e61 7070 656e 6428 7669 6465  meta.append(vide
+0002b410: 6f5f 6d65 7461 290a 2020 2020 2020 2020  o_meta).        
+0002b420: 6670 732c 2072 6573 6f6c 7574 696f 6e73  fps, resolutions
+0002b430: 203d 205b 765b 2766 7073 275d 2066 6f72   = [v['fps'] for
+0002b440: 2076 2069 6e20 6d65 7461 5d2c 205b 765b   v in meta], [v[
+0002b450: 2772 6573 6f6c 7574 696f 6e5f 7374 7227  'resolution_str'
+0002b460: 5d20 666f 7220 7620 696e 206d 6574 615d  ] for v in meta]
+0002b470: 0a20 2020 2020 2020 2075 6e69 7175 655f  .        unique_
+0002b480: 6670 732c 2075 6e69 7175 655f 7265 7320  fps, unique_res 
+0002b490: 3d20 6c69 7374 2873 6574 2866 7073 2929  = list(set(fps))
+0002b4a0: 2c20 6c69 7374 2873 6574 2872 6573 6f6c  , list(set(resol
+0002b4b0: 7574 696f 6e73 2929 0a20 2020 2020 2020  utions)).       
+0002b4c0: 2066 6f72 6d61 7420 3d20 7365 6c66 2e6f   format = self.o
+0002b4d0: 7574 5f66 6f72 6d61 745f 6472 6f70 646f  ut_format_dropdo
+0002b4e0: 776e 2e67 6574 4368 6f69 6365 7328 290a  wn.getChoices().
+0002b4f0: 2020 2020 2020 2020 7175 616c 6974 7920          quality 
+0002b500: 3d20 7365 6c66 2e71 7561 6c69 7479 5f64  = self.quality_d
+0002b510: 726f 7064 6f77 6e2e 6765 7443 686f 6963  ropdown.getChoic
+0002b520: 6573 2829 0a20 2020 2020 2020 2069 6620  es().        if 
+0002b530: 6c65 6e28 756e 6971 7565 5f66 7073 2920  len(unique_fps) 
+0002b540: 3e20 313a 2072 6169 7365 2052 6573 6f6c  > 1: raise Resol
+0002b550: 7574 696f 6e45 7272 6f72 286d 7367 3d66  utionError(msg=f
+0002b560: 2754 6865 2073 656c 6563 7465 6420 7669  'The selected vi
+0002b570: 6465 6f73 2063 6f6e 7461 696e 206d 6f72  deos contain mor
+0002b580: 6520 7468 616e 206f 6e65 2075 6e69 7175  e than one uniqu
+0002b590: 6520 4650 533a 207b 756e 6971 7565 5f66  e FPS: {unique_f
+0002b5a0: 7073 7d27 2c20 736f 7572 6365 3d73 656c  ps}', source=sel
+0002b5b0: 662e 5f5f 636c 6173 735f 5f2e 5f5f 6e61  f.__class__.__na
+0002b5c0: 6d65 5f5f 290a 2020 2020 2020 2020 6966  me__).        if
+0002b5d0: 206c 656e 2875 6e69 7175 655f 7265 7329   len(unique_res)
+0002b5e0: 203e 2031 3a20 7261 6973 6520 5265 736f   > 1: raise Reso
+0002b5f0: 6c75 7469 6f6e 4572 726f 7228 6d73 673d  lutionError(msg=
+0002b600: 6627 5468 6520 7365 6c65 6374 6564 2076  f'The selected v
+0002b610: 6964 656f 7320 636f 6e74 6169 6e20 6d6f  ideos contain mo
+0002b620: 7265 2074 6861 6e20 6f6e 6520 756e 6971  re than one uniq
+0002b630: 7565 2072 6573 6f6c 7574 696f 6e73 3a20  ue resolutions: 
+0002b640: 7b75 6e69 7175 655f 7265 737d 272c 2073  {unique_res}', s
+0002b650: 6f75 7263 653d 7365 6c66 2e5f 5f63 6c61  ource=self.__cla
+0002b660: 7373 5f5f 2e5f 5f6e 616d 655f 5f29 0a20  ss__.__name__). 
+0002b670: 2020 2020 2020 2074 6872 6561 6469 6e67         threading
+0002b680: 2e54 6872 6561 6428 7465 6d70 6f72 616c  .Thread(temporal
+0002b690: 5f63 6f6e 6361 7465 6e61 7469 6f6e 2876  _concatenation(v
+0002b6a0: 6964 656f 5f70 6174 6873 3d76 6964 656f  ideo_paths=video
+0002b6b0: 5f66 696c 655f 7061 7468 732c 2073 6176  _file_paths, sav
+0002b6c0: 655f 666f 726d 6174 3d66 6f72 6d61 745b  e_format=format[
+0002b6d0: 313a 5d2c 2071 7561 6c69 7479 3d71 7561  1:], quality=qua
+0002b6e0: 6c69 7479 2929 2e73 7461 7274 2829 0a0a  lity)).start()..
+0002b6f0: 636c 6173 7320 4372 6f73 7366 6164 6556  class CrossfadeV
+0002b700: 6964 656f 7350 6f70 5570 2850 6f70 5570  ideosPopUp(PopUp
+0002b710: 4d69 7869 6e29 3a0a 2020 2020 6465 6620  Mixin):.    def 
+0002b720: 5f5f 696e 6974 5f5f 2873 656c 6629 3a0a  __init__(self):.
+0002b730: 2020 2020 2020 2020 506f 7055 704d 6978          PopUpMix
+0002b740: 696e 2e5f 5f69 6e69 745f 5f28 7365 6c66  in.__init__(self
+0002b750: 2c20 7469 746c 653d 2243 524f 5353 2d46  , title="CROSS-F
+0002b760: 4144 4520 5649 4445 4f53 2229 0a20 2020  ADE VIDEOS").   
+0002b770: 2020 2020 2063 726f 7373 6661 6465 5f6d       crossfade_m
+0002b780: 6574 686f 6473 203d 2067 6574 5f66 666d  ethods = get_ffm
+0002b790: 7065 675f 6372 6f73 7366 6164 655f 6d65  peg_crossfade_me
+0002b7a0: 7468 6f64 7328 290a 2020 2020 2020 2020  thods().        
+0002b7b0: 7365 7474 696e 6773 5f66 726d 203d 2043  settings_frm = C
+0002b7c0: 7265 6174 654c 6162 656c 4672 616d 6557  reateLabelFrameW
+0002b7d0: 6974 6849 636f 6e28 7061 7265 6e74 3d73  ithIcon(parent=s
+0002b7e0: 656c 662e 6d61 696e 5f66 726d 2c20 6865  elf.main_frm, he
+0002b7f0: 6164 6572 3d22 4e55 4d42 4552 204f 4620  ader="NUMBER OF 
+0002b800: 5649 4445 4f53 2054 4f20 4a4f 494e 222c  VIDEOS TO JOIN",
+0002b810: 2069 636f 6e5f 6e61 6d65 3d4b 6579 732e   icon_name=Keys.
+0002b820: 444f 4355 4d45 4e54 4154 494f 4e2e 7661  DOCUMENTATION.va
+0002b830: 6c75 652c 2069 636f 6e5f 6c69 6e6b 3d4c  lue, icon_link=L
+0002b840: 696e 6b73 2e56 4944 454f 5f54 4f4f 4c53  inks.VIDEO_TOOLS
+0002b850: 2e76 616c 7565 290a 2020 2020 2020 2020  .value).        
+0002b860: 7365 6c66 2e76 6964 656f 5f70 6174 685f  self.video_path_
+0002b870: 3120 3d20 4669 6c65 5365 6c65 6374 2873  1 = FileSelect(s
+0002b880: 6574 7469 6e67 735f 6672 6d2c 2066 2256  ettings_frm, f"V
+0002b890: 4944 454f 2050 4154 4820 313a 222c 2074  IDEO PATH 1:", t
+0002b8a0: 6974 6c65 3d22 5365 6c65 6374 2061 2076  itle="Select a v
+0002b8b0: 6964 656f 2066 696c 6522 2c20 6c62 6c77  ideo file", lblw
+0002b8c0: 6964 7468 3d32 352c 2066 696c 655f 7479  idth=25, file_ty
+0002b8d0: 7065 733d 5b28 2256 4944 454f 2046 494c  pes=[("VIDEO FIL
+0002b8e0: 4522 2c20 4f70 7469 6f6e 732e 414c 4c5f  E", Options.ALL_
+0002b8f0: 5649 4445 4f5f 464f 524d 4154 5f53 5452  VIDEO_FORMAT_STR
+0002b900: 5f4f 5054 494f 4e53 2e76 616c 7565 295d  _OPTIONS.value)]
+0002b910: 290a 2020 2020 2020 2020 7365 6c66 2e76  ).        self.v
+0002b920: 6964 656f 5f70 6174 685f 3220 3d20 4669  ideo_path_2 = Fi
+0002b930: 6c65 5365 6c65 6374 2873 6574 7469 6e67  leSelect(setting
+0002b940: 735f 6672 6d2c 2066 2256 4944 454f 2050  s_frm, f"VIDEO P
+0002b950: 4154 4820 323a 222c 2074 6974 6c65 3d22  ATH 2:", title="
+0002b960: 5365 6c65 6374 2061 2076 6964 656f 2066  Select a video f
+0002b970: 696c 6522 2c20 6c62 6c77 6964 7468 3d32  ile", lblwidth=2
+0002b980: 352c 2066 696c 655f 7479 7065 733d 5b28  5, file_types=[(
+0002b990: 2256 4944 454f 2046 494c 4522 2c20 4f70  "VIDEO FILE", Op
+0002b9a0: 7469 6f6e 732e 414c 4c5f 5649 4445 4f5f  tions.ALL_VIDEO_
+0002b9b0: 464f 524d 4154 5f53 5452 5f4f 5054 494f  FORMAT_STR_OPTIO
+0002b9c0: 4e53 2e76 616c 7565 295d 290a 2020 2020  NS.value)]).    
+0002b9d0: 2020 2020 7365 6c66 2e71 7561 6c69 7479      self.quality
+0002b9e0: 5f64 726f 7064 6f77 6e20 3d20 4472 6f70  _dropdown = Drop
+0002b9f0: 446f 776e 4d65 6e75 2873 6574 7469 6e67  DownMenu(setting
+0002ba00: 735f 6672 6d2c 2022 4f55 5450 5554 2056  s_frm, "OUTPUT V
+0002ba10: 4944 454f 2051 5541 4c49 5459 3a22 2c20  IDEO QUALITY:", 
+0002ba20: 6c69 7374 2872 616e 6765 2831 302c 2031  list(range(10, 1
+0002ba30: 3130 2c20 3130 2929 2c20 6c61 6265 6c77  10, 10)), labelw
+0002ba40: 6964 7468 3d32 3529 0a20 2020 2020 2020  idth=25).       
+0002ba50: 2073 656c 662e 6f75 745f 666f 726d 6174   self.out_format
+0002ba60: 5f64 726f 7064 6f77 6e20 3d20 4472 6f70  _dropdown = Drop
+0002ba70: 446f 776e 4d65 6e75 2873 6574 7469 6e67  DownMenu(setting
+0002ba80: 735f 6672 6d2c 2022 4f55 5450 5554 2056  s_frm, "OUTPUT V
+0002ba90: 4944 454f 2046 4f52 4d41 543a 222c 205b  IDEO FORMAT:", [
+0002baa0: 276d 7034 272c 2027 6176 6927 2c20 2777  'mp4', 'avi', 'w
+0002bab0: 6562 6d27 5d2c 206c 6162 656c 7769 6474  ebm'], labelwidt
+0002bac0: 683d 3235 290a 2020 2020 2020 2020 7365  h=25).        se
+0002bad0: 6c66 2e66 6164 655f 6d65 7468 6f64 5f64  lf.fade_method_d
+0002bae0: 726f 7064 6f77 6e20 3d20 4472 6f70 446f  ropdown = DropDo
+0002baf0: 776e 4d65 6e75 2873 6574 7469 6e67 735f  wnMenu(settings_
+0002bb00: 6672 6d2c 2022 4352 4f53 532d 4641 4445  frm, "CROSS-FADE
+0002bb10: 204d 4554 484f 443a 222c 2063 726f 7373   METHOD:", cross
+0002bb20: 6661 6465 5f6d 6574 686f 6473 2c20 6c61  fade_methods, la
+0002bb30: 6265 6c77 6964 7468 3d32 3529 0a20 2020  belwidth=25).   
+0002bb40: 2020 2020 2073 656c 662e 6475 7261 7469       self.durati
+0002bb50: 6f6e 5f64 726f 7064 6f77 6e20 3d20 4472  on_dropdown = Dr
+0002bb60: 6f70 446f 776e 4d65 6e75 2873 6574 7469  opDownMenu(setti
+0002bb70: 6e67 735f 6672 6d2c 2022 4352 4f53 532d  ngs_frm, "CROSS-
+0002bb80: 4641 4445 2044 5552 4154 494f 4e3a 222c  FADE DURATION:",
+0002bb90: 206c 6973 7428 7261 6e67 6528 322c 2032   list(range(2, 2
+0002bba0: 322c 2032 2929 2c20 6c61 6265 6c77 6964  2, 2)), labelwid
+0002bbb0: 7468 3d32 3529 0a20 2020 2020 2020 2073  th=25).        s
+0002bbc0: 656c 662e 6f66 6673 6574 5f65 6220 3d20  elf.offset_eb = 
+0002bbd0: 456e 7472 795f 426f 7828 7365 7474 696e  Entry_Box(settin
+0002bbe0: 6773 5f66 726d 2c20 2243 524f 5353 2d46  gs_frm, "CROSS-F
+0002bbf0: 4144 4520 4f46 4653 4554 3a22 2c20 2232  ADE OFFSET:", "2
+0002bc00: 3522 290a 0a20 2020 2020 2020 2073 656c  5")..        sel
+0002bc10: 662e 6f66 6673 6574 5f65 622e 656e 7472  f.offset_eb.entr
+0002bc20: 795f 7365 7428 2730 303a 3030 3a30 3027  y_set('00:00:00'
+0002bc30: 290a 2020 2020 2020 2020 7365 6c66 2e71  ).        self.q
+0002bc40: 7561 6c69 7479 5f64 726f 7064 6f77 6e2e  uality_dropdown.
+0002bc50: 7365 7443 686f 6963 6573 2836 3029 0a20  setChoices(60). 
+0002bc60: 2020 2020 2020 2073 656c 662e 6f75 745f         self.out_
+0002bc70: 666f 726d 6174 5f64 726f 7064 6f77 6e2e  format_dropdown.
+0002bc80: 7365 7443 686f 6963 6573 2827 6d70 3427  setChoices('mp4'
+0002bc90: 290a 2020 2020 2020 2020 7365 6c66 2e66  ).        self.f
+0002bca0: 6164 655f 6d65 7468 6f64 5f64 726f 7064  ade_method_dropd
+0002bcb0: 6f77 6e2e 7365 7443 686f 6963 6573 2827  own.setChoices('
+0002bcc0: 6661 6465 2729 0a20 2020 2020 2020 2073  fade').        s
+0002bcd0: 656c 662e 6475 7261 7469 6f6e 5f64 726f  elf.duration_dro
+0002bce0: 7064 6f77 6e2e 7365 7443 686f 6963 6573  pdown.setChoices
+0002bcf0: 2836 290a 2020 2020 2020 2020 7365 7474  (6).        sett
+0002bd00: 696e 6773 5f66 726d 2e67 7269 6428 726f  ings_frm.grid(ro
+0002bd10: 773d 302c 2063 6f6c 756d 6e3d 302c 2073  w=0, column=0, s
+0002bd20: 7469 636b 793d 4e57 290a 2020 2020 2020  ticky=NW).      
+0002bd30: 2020 7365 6c66 2e76 6964 656f 5f70 6174    self.video_pat
+0002bd40: 685f 312e 6772 6964 2872 6f77 3d30 2c20  h_1.grid(row=0, 
+0002bd50: 636f 6c75 6d6e 3d30 2c20 7374 6963 6b79  column=0, sticky
+0002bd60: 3d4e 5729 0a20 2020 2020 2020 2073 656c  =NW).        sel
+0002bd70: 662e 7669 6465 6f5f 7061 7468 5f32 2e67  f.video_path_2.g
+0002bd80: 7269 6428 726f 773d 312c 2063 6f6c 756d  rid(row=1, colum
+0002bd90: 6e3d 302c 2073 7469 636b 793d 4e57 290a  n=0, sticky=NW).
+0002bda0: 2020 2020 2020 2020 7365 6c66 2e71 7561          self.qua
+0002bdb0: 6c69 7479 5f64 726f 7064 6f77 6e2e 6772  lity_dropdown.gr
+0002bdc0: 6964 2872 6f77 3d32 2c20 636f 6c75 6d6e  id(row=2, column
+0002bdd0: 3d30 2c20 7374 6963 6b79 3d4e 5729 0a20  =0, sticky=NW). 
+0002bde0: 2020 2020 2020 2073 656c 662e 6f75 745f         self.out_
+0002bdf0: 666f 726d 6174 5f64 726f 7064 6f77 6e2e  format_dropdown.
+0002be00: 6772 6964 2872 6f77 3d33 2c20 636f 6c75  grid(row=3, colu
+0002be10: 6d6e 3d30 2c20 7374 6963 6b79 3d4e 5729  mn=0, sticky=NW)
+0002be20: 0a20 2020 2020 2020 2073 656c 662e 6661  .        self.fa
+0002be30: 6465 5f6d 6574 686f 645f 6472 6f70 646f  de_method_dropdo
+0002be40: 776e 2e67 7269 6428 726f 773d 342c 2063  wn.grid(row=4, c
+0002be50: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
+0002be60: 4e57 290a 2020 2020 2020 2020 7365 6c66  NW).        self
+0002be70: 2e64 7572 6174 696f 6e5f 6472 6f70 646f  .duration_dropdo
+0002be80: 776e 2e67 7269 6428 726f 773d 352c 2063  wn.grid(row=5, c
+0002be90: 6f6c 756d 6e3d 302c 2073 7469 636b 793d  olumn=0, sticky=
+0002bea0: 4e57 290a 2020 2020 2020 2020 7365 6c66  NW).        self
+0002beb0: 2e6f 6666 7365 745f 6562 2e67 7269 6428  .offset_eb.grid(
+0002bec0: 726f 773d 362c 2063 6f6c 756d 6e3d 302c  row=6, column=0,
+0002bed0: 2073 7469 636b 793d 4e57 290a 2020 2020   sticky=NW).    
+0002bee0: 2020 2020 7365 6c66 2e63 7265 6174 655f      self.create_
+0002bef0: 7275 6e5f 6672 6d28 7275 6e5f 6675 6e63  run_frm(run_func
+0002bf00: 7469 6f6e 3d73 656c 662e 7275 6e29 0a20  tion=self.run). 
+0002bf10: 2020 2020 2020 2073 656c 662e 6d61 696e         self.main
+0002bf20: 5f66 726d 2e6d 6169 6e6c 6f6f 7028 290a  _frm.mainloop().
+0002bf30: 0a20 2020 2064 6566 2072 756e 2873 656c  .    def run(sel
+0002bf40: 6629 3a0a 2020 2020 2020 2020 7669 6465  f):.        vide
+0002bf50: 6f5f 315f 7061 7468 2c20 7669 6465 6f5f  o_1_path, video_
+0002bf60: 325f 7061 7468 203d 2073 656c 662e 7669  2_path = self.vi
+0002bf70: 6465 6f5f 7061 7468 5f31 2e66 696c 655f  deo_path_1.file_
+0002bf80: 7061 7468 2c20 7365 6c66 2e76 6964 656f  path, self.video
+0002bf90: 5f70 6174 685f 322e 6669 6c65 5f70 6174  _path_2.file_pat
+0002bfa0: 680a 2020 2020 2020 2020 7175 616c 6974  h.        qualit
+0002bfb0: 7920 3d20 696e 7428 7365 6c66 2e71 7561  y = int(self.qua
+0002bfc0: 6c69 7479 5f64 726f 7064 6f77 6e2e 6765  lity_dropdown.ge
+0002bfd0: 7443 686f 6963 6573 2829 290a 2020 2020  tChoices()).    
+0002bfe0: 2020 2020 666f 726d 6174 203d 2073 656c      format = sel
+0002bff0: 662e 6f75 745f 666f 726d 6174 5f64 726f  f.out_format_dro
+0002c000: 7064 6f77 6e2e 6765 7443 686f 6963 6573  pdown.getChoices
+0002c010: 2829 0a20 2020 2020 2020 2066 6164 655f  ().        fade_
+0002c020: 6d65 7468 6f64 203d 2073 656c 662e 6661  method = self.fa
+0002c030: 6465 5f6d 6574 686f 645f 6472 6f70 646f  de_method_dropdo
+0002c040: 776e 2e67 6574 4368 6f69 6365 7328 290a  wn.getChoices().
+0002c050: 2020 2020 2020 2020 6f66 6673 6574 203d          offset =
+0002c060: 2073 656c 662e 6f66 6673 6574 5f65 622e   self.offset_eb.
+0002c070: 656e 7472 795f 6765 740a 2020 2020 2020  entry_get.      
+0002c080: 2020 6368 6563 6b5f 6966 5f73 7472 696e    check_if_strin
+0002c090: 675f 7661 6c75 655f 6973 5f76 616c 6964  g_value_is_valid
+0002c0a0: 5f76 6964 656f 5f74 696d 6573 7461 6d70  _video_timestamp
+0002c0b0: 2876 616c 7565 3d6f 6666 7365 742c 206e  (value=offset, n
+0002c0c0: 616d 653d 276f 6666 7365 7427 290a 2020  ame='offset').  
+0002c0d0: 2020 2020 2020 6475 7261 7469 6f6e 203d        duration =
+0002c0e0: 2069 6e74 2873 656c 662e 6475 7261 7469   int(self.durati
+0002c0f0: 6f6e 5f64 726f 7064 6f77 6e2e 6765 7443  on_dropdown.getC
+0002c100: 686f 6963 6573 2829 290a 2020 2020 2020  hoices()).      
+0002c110: 2020 6368 6563 6b5f 6966 5f68 686d 6d73    check_if_hhmms
+0002c120: 735f 7469 6d65 7374 616d 705f 6973 5f76  s_timestamp_is_v
+0002c130: 616c 6964 5f70 6172 745f 6f66 5f76 6964  alid_part_of_vid
+0002c140: 656f 2874 696d 6573 7461 6d70 3d6f 6666  eo(timestamp=off
+0002c150: 7365 742c 2076 6964 656f 5f70 6174 683d  set, video_path=
+0002c160: 7669 6465 6f5f 315f 7061 7468 290a 2020  video_1_path).  
+0002c170: 2020 2020 2020 6f66 6673 6574 203d 2074        offset = t
+0002c180: 696d 6573 7461 6d70 5f74 6f5f 7365 636f  imestamp_to_seco
+0002c190: 6e64 7328 7469 6d65 7374 616d 703d 6f66  nds(timestamp=of
+0002c1a0: 6673 6574 290a 2020 2020 2020 2020 666f  fset).        fo
+0002c1b0: 7220 7669 6465 6f5f 7061 7468 2069 6e20  r video_path in 
+0002c1c0: 5b76 6964 656f 5f31 5f70 6174 682c 2076  [video_1_path, v
+0002c1d0: 6964 656f 5f32 5f70 6174 685d 3a0a 2020  ideo_2_path]:.  
+0002c1e0: 2020 2020 2020 2020 2020 7669 6465 6f5f            video_
+0002c1f0: 6d65 7461 5f64 6174 6120 3d20 6765 745f  meta_data = get_
+0002c200: 7669 6465 6f5f 6d65 7461 5f64 6174 6128  video_meta_data(
+0002c210: 7669 6465 6f5f 7061 7468 3d76 6964 656f  video_path=video
+0002c220: 5f70 6174 6829 0a20 2020 2020 2020 2020  _path).         
+0002c230: 2020 2069 6620 7669 6465 6f5f 6d65 7461     if video_meta
+0002c240: 5f64 6174 615b 2776 6964 656f 5f6c 656e  _data['video_len
+0002c250: 6774 685f 7327 5d20 3c20 6475 7261 7469  gth_s'] < durati
+0002c260: 6f6e 3a0a 2020 2020 2020 2020 2020 2020  on:.            
+0002c270: 2020 2020 7261 6973 6520 4672 616d 6552      raise FrameR
+0002c280: 616e 6765 4572 726f 7228 6d73 673d 6627  angeError(msg=f'
+0002c290: 5669 6465 6f20 7b76 6964 656f 5f6d 6574  Video {video_met
+0002c2a0: 615f 6461 7461 5b22 7669 6465 6f5f 6e61  a_data["video_na
+0002c2b0: 6d65 225d 7d20 6973 2073 686f 7274 6572  me"]} is shorter
+0002c2c0: 207b 7669 6465 6f5f 6d65 7461 5f64 6174   {video_meta_dat
+0002c2d0: 615b 2276 6964 656f 5f6c 656e 6774 685f  a["video_length_
+0002c2e0: 7322 5d7d 2074 6861 6e20 7468 6520 6372  s"]} than the cr
+0002c2f0: 6f73 7366 6164 6520 6475 7261 7469 6f6e  ossfade duration
+0002c300: 207b 6475 7261 7469 6f6e 7d2e 272c 2073   {duration}.', s
+0002c310: 6f75 7263 653d 7365 6c66 2e5f 5f63 6c61  ource=self.__cla
+0002c320: 7373 5f5f 2e5f 5f6e 616d 655f 5f29 0a20  ss__.__name__). 
+0002c330: 2020 2020 2020 2020 2020 2069 6620 7669             if vi
+0002c340: 6465 6f5f 6d65 7461 5f64 6174 615b 2776  deo_meta_data['v
+0002c350: 6964 656f 5f6c 656e 6774 685f 7327 5d20  ideo_length_s'] 
+0002c360: 3c20 6f66 6673 6574 3a0a 2020 2020 2020  < offset:.      
+0002c370: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0002c380: 4672 616d 6552 616e 6765 4572 726f 7228  FrameRangeError(
+0002c390: 6d73 673d 6627 5669 6465 6f20 7b76 6964  msg=f'Video {vid
+0002c3a0: 656f 5f6d 6574 615f 6461 7461 5b22 7669  eo_meta_data["vi
+0002c3b0: 6465 6f5f 6e61 6d65 225d 7d20 6973 2073  deo_name"]} is s
+0002c3c0: 686f 7274 6572 207b 7669 6465 6f5f 6d65  horter {video_me
+0002c3d0: 7461 5f64 6174 615b 2276 6964 656f 5f6c  ta_data["video_l
+0002c3e0: 656e 6774 685f 7322 5d7d 2074 6861 6e20  ength_s"]} than 
+0002c3f0: 7468 6520 6372 6f73 7366 6164 6520 6f66  the crossfade of
+0002c400: 6673 6574 207b 6f66 6673 6574 7d2e 272c  fset {offset}.',
+0002c410: 736f 7572 6365 3d73 656c 662e 5f5f 636c  source=self.__cl
+0002c420: 6173 735f 5f2e 5f5f 6e61 6d65 5f5f 290a  ass__.__name__).
+0002c430: 0a0a 2020 2020 2020 2020 7468 7265 6164  ..        thread
+0002c440: 696e 672e 5468 7265 6164 2863 726f 7373  ing.Thread(cross
+0002c450: 6661 6465 5f74 776f 5f76 6964 656f 7328  fade_two_videos(
+0002c460: 7669 6465 6f5f 7061 7468 5f31 3d76 6964  video_path_1=vid
+0002c470: 656f 5f31 5f70 6174 682c 0a20 2020 2020  eo_1_path,.     
+0002c480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c4a0: 2020 2020 2020 2020 2076 6964 656f 5f70           video_p
+0002c4b0: 6174 685f 323d 7669 6465 6f5f 325f 7061  ath_2=video_2_pa
+0002c4c0: 7468 2c0a 2020 2020 2020 2020 2020 2020  th,.            
+0002c4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c4e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c4f0: 2020 6372 6f73 7366 6164 655f 6475 7261    crossfade_dura
+0002c500: 7469 6f6e 3d64 7572 6174 696f 6e2c 0a20  tion=duration,. 
+0002c510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c530: 2020 2020 2020 2020 2020 2020 2063 726f               cro
+0002c540: 7373 6661 6465 5f6d 6574 686f 643d 6661  ssfade_method=fa
+0002c550: 6465 5f6d 6574 686f 642c 0a20 2020 2020  de_method,.     
+0002c560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c580: 2020 2020 2020 2020 2063 726f 7373 6661           crossfa
+0002c590: 6465 5f6f 6666 7365 743d 6f66 6673 6574  de_offset=offset
+0002c5a0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0002c5b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c5c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c5d0: 6f75 745f 666f 726d 6174 3d66 6f72 6d61  out_format=forma
+0002c5e0: 742c 0a20 2020 2020 2020 2020 2020 2020  t,.             
+0002c5f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c610: 2071 7561 6c69 7479 3d71 7561 6c69 7479   quality=quality
+0002c620: 2929 2e73 7461 7274 2829 0a0a 2343 726f  )).start()..#Cro
+0002c630: 7373 6661 6465 5669 6465 6f73 506f 7055  ssfadeVideosPopU
+0002c640: 7028 290a 0a23 2046 6c69 7056 6964 656f  p()..# FlipVideo
+0002c650: 7350 6f70 5570 2829 0a0a 2320 436c 6970  sPopUp()..# Clip
+0002c660: 4d75 6c74 6970 6c65 5669 6465 6f73 4279  MultipleVideosBy
+0002c670: 4672 616d 654e 756d 6265 7273 0a23 2043  FrameNumbers.# C
+0002c680: 6c69 704d 756c 7469 706c 6556 6964 656f  lipMultipleVideo
+0002c690: 7342 7946 7261 6d65 4e75 6d62 6572 7328  sByFrameNumbers(
+0002c6a0: 6461 7461 5f64 6972 3d27 2f55 7365 7273  data_dir='/Users
+0002c6b0: 2f73 696d 6f6e 2f44 6573 6b74 6f70 2f65  /simon/Desktop/e
+0002c6c0: 6e76 732f 7369 6d62 612f 7472 6f75 626c  nvs/simba/troubl
+0002c6d0: 6573 686f 6f74 696e 672f 6265 6570 626f  eshooting/beepbo
+0002c6e0: 6f70 3137 342f 7072 6f6a 6563 745f 666f  op174/project_fo
+0002c6f0: 6c64 6572 2f76 6964 656f 732f 7465 7374  lder/videos/test
+0002c700: 272c 2073 6176 655f 6469 723d 272f 5573  ', save_dir='/Us
+0002c710: 6572 732f 7369 6d6f 6e2f 4465 736b 746f  ers/simon/Deskto
+0002c720: 702f 656e 7673 2f73 696d 6261 2f74 726f  p/envs/simba/tro
+0002c730: 7562 6c65 7368 6f6f 7469 6e67 2f62 6565  ubleshooting/bee
+0002c740: 7062 6f6f 7031 3734 2f70 726f 6a65 6374  pboop174/project
+0002c750: 5f66 6f6c 6465 722f 7669 6465 6f73 2f63  _folder/videos/c
+0002c760: 6c69 7070 6564 2729 0a                   lipped').
```

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/validation_plot_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/validation_plot_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/clf_by_roi_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/clf_by_roi_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/make_path_plot_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/make_path_plot_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/direction_animal_to_bodypart_settings_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/direction_animal_to_bodypart_settings_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/create_user_defined_pose_configuration_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/create_user_defined_pose_configuration_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/archive_files_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/archive_files_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/pose_bp_drop_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/pose_bp_drop_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/distance_plot_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/distance_plot_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/subset_feature_extractor_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/subset_feature_extractor_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/third_party_annotator_appender_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/third_party_annotator_appender_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/pop_ups/roi_analysis_time_bins_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/pop_ups/roi_analysis_time_bins_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/video_info_ui.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/video_info_ui.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/user_defined_pose_creator.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/user_defined_pose_creator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/create_project_ui.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/create_project_ui.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/tkinter_functions.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/tkinter_functions.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/ui/machine_model_settings_ui.py` & `Simba-UW-tf-dev-1.94.5/simba/ui/machine_model_settings_ui.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/labelling/labelling_interface.py` & `Simba-UW-tf-dev-1.94.5/simba/labelling/labelling_interface.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/labelling/targeted_annotations_clips.py` & `Simba-UW-tf-dev-1.94.5/simba/labelling/targeted_annotations_clips.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/labelling/extract_labelled_frames.py` & `Simba-UW-tf-dev-1.94.5/simba/labelling/extract_labelled_frames.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/labelling/labelling_advanced_interface.py` & `Simba-UW-tf-dev-1.94.5/simba/labelling/labelling_advanced_interface.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/labelling/play_annotation_video.py` & `Simba-UW-tf-dev-1.94.5/simba/labelling/play_annotation_video.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/dbcv_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/dbcv_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/cluster_validation_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/cluster_validation_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/enums.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/enums.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/.DS_Store` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/.DS_Store`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/cluster_video_visualizer.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/cluster_video_visualizer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/cluster_videos_popup.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/cluster_videos_popup.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/transform_cluster_popup.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/transform_cluster_popup.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/embedding_correlations_popup.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/embedding_correlations_popup.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/.DS_Store` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/.DS_Store`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/transform_dim_reduction_popup.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/transform_dim_reduction_popup.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/fit_dim_reduction_popup.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/fit_dim_reduction_popup.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/data_extractor_popup.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/data_extractor_popup.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/cluster_validation_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/cluster_validation_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/fit_cluster_popup.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/fit_cluster_popup.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/clusterer_comparison_popup.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/clusterer_comparison_popup.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/grid_search_visualizer_popup.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/grid_search_visualizer_popup.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/cluster_xai_popup.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/cluster_xai_popup.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/cluster_frequentist_stats_popup.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/cluster_frequentist_stats_popup.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/pop_ups/print_embedding_info_popup.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/pop_ups/print_embedding_info_popup.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/dataset_creator.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/dataset_creator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/unsupervised_main.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/unsupervised_main.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/grid_search_visualizers.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/grid_search_visualizers.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/data_extractor.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/data_extractor.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/outlier_detector.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/outlier_detector.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/cluster_frequentist_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/cluster_frequentist_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/embedding_correlation_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/embedding_correlation_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/cluster_xai_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/cluster_xai_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/umap_embedder.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/umap_embedder.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/clusterer_comparison_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/clusterer_comparison_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/bout_aggregator.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/bout_aggregator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/data_map.yaml` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/data_map.yaml`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/hdbscan_clusterer.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/hdbscan_clusterer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/unsupervised/tsne.py` & `Simba-UW-tf-dev-1.94.5/simba/unsupervised/tsne.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/bounding_box_tools/agg_boundary_stats.py` & `Simba-UW-tf-dev-1.94.5/simba/bounding_box_tools/agg_boundary_stats.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/bounding_box_tools/boundary_menus.py` & `Simba-UW-tf-dev-1.94.5/simba/bounding_box_tools/boundary_menus.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/bounding_box_tools/boundary_statistics.py` & `Simba-UW-tf-dev-1.94.5/simba/bounding_box_tools/boundary_statistics.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/bounding_box_tools/find_boundaries.py` & `Simba-UW-tf-dev-1.94.5/simba/bounding_box_tools/find_boundaries.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/bounding_box_tools/visualize_boundaries.py` & `Simba-UW-tf-dev-1.94.5/simba/bounding_box_tools/visualize_boundaries.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/.DS_Store` & `Simba-UW-tf-dev-1.94.5/simba/.DS_Store`

 * *Files 2% similar despite different names*

```diff
@@ -292,20 +292,20 @@
 00001230: 4c01 4d01 4f01 5001 5201 5b01 5c01 5e01  L.M.O.P.R.[.\.^.
 00001240: 5f01 6101 6a01 6b01 6c01 6e01 7701 7801  _.a.j.k.l.n.w.x.
 00001250: 7a01 7b01 7d01 8601 8701 8901 8a01 8c01  z.{.}...........
 00001260: 9501 9601 9801 9901 9b01 9c01 a501 b200  ................
 00001270: 0000 0000 0002 0100 0000 0000 0000 4900  ..............I.
 00001280: 0000 0000 0000 0000 0000 0000 0001 b300  ................
 00001290: 0000 0700 7300 6100 6e00 6400 6200 6f00  ....s.a.n.d.b.o.
-000012a0: 786d 6f44 4462 6c6f 6200 0000 08a7 61c9  xmoDDblob.....a.
-000012b0: 5ad9 03c6 4100 0000 0700 7300 6100 6e00  Z...A.....s.a.n.
+000012a0: 786d 6f44 4462 6c6f 6200 0000 0803 7572  xmoDDblob.....ur
+000012b0: de50 05c6 4100 0000 0700 7300 6100 6e00  .P..A.....s.a.n.
 000012c0: 6400 6200 6f00 786d 6f64 4462 6c6f 6200  d.b.o.xmodDblob.
-000012d0: 0000 08a7 61c9 5ad9 03c6 4100 0000 0700  ....a.Z...A.....
+000012d0: 0000 0803 7572 de50 05c6 4100 0000 0700  ....ur.P..A.....
 000012e0: 7300 6100 6e00 6400 6200 6f00 7870 6831  s.a.n.d.b.o.xph1
-000012f0: 5363 6f6d 7000 0000 0000 16c0 0000 0000  Scomp...........
+000012f0: 5363 6f6d 7000 0000 0000 1750 0000 0000  Scomp......P....
 00001300: 0700 7300 6100 6e00 6400 6200 6f00 7876  ..s.a.n.d.b.o.xv
 00001310: 5372 6e6c 6f6e 6700 0000 0100 0000 1b00  Srnlong.........
 00001320: 7400 6800 6900 7200 6400 5f00 7000 6100  t.h.i.r.d._.p.a.
 00001330: 7200 7400 7900 5f00 6c00 6100 6200 6500  r.t.y._.l.a.b.e.
 00001340: 6c00 5f00 6100 7000 7000 6500 6e00 6400  l._.a.p.p.e.n.d.
 00001350: 6500 7200 736c 6731 5363 6f6d 7000 0000  e.r.slg1Scomp...
 00001360: 0000 0347 a400 0000 1b00 7400 6800 6900  ...G......t.h.i.
@@ -320,20 +320,20 @@
 000013f0: 4462 6c6f 6200 0000 08e4 2b79 2913 eec5  Dblob.....+y)...
 00001400: 4100 0000 1b00 7400 6800 6900 7200 6400  A.....t.h.i.r.d.
 00001410: 5f00 7000 6100 7200 7400 7900 5f00 6c00  _.p.a.r.t.y._.l.
 00001420: 6100 6200 6500 6c00 5f00 6100 7000 7000  a.b.e.l._.a.p.p.
 00001430: 6500 6e00 6400 6500 7200 7370 6831 5363  e.n.d.e.r.sph1Sc
 00001440: 6f6d 7000 0000 0000 0440 0000 0000 0200  omp......@......
 00001450: 7500 696c 6731 5363 6f6d 7000 0000 0000  u.ilg1Scomp.....
-00001460: 0f55 c500 0000 0200 7500 696d 6f44 4462  .U......u.imoDDb
+00001460: 0f6e 5900 0000 0200 7500 696d 6f44 4462  .nY.....u.imoDDb
 00001470: 6c6f 6200 0000 0874 394b 535b e7c5 4100  lob....t9KS[..A.
 00001480: 0000 0200 7500 696d 6f64 4462 6c6f 6200  ....u.imodDblob.
 00001490: 0000 0874 394b 535b e7c5 4100 0000 0200  ...t9KS[..A.....
 000014a0: 7500 6970 6831 5363 6f6d 7000 0000 0000  u.iph1Scomp.....
-000014b0: 1300 0000 0000 0c00 7500 6e00 7300 7500  ........u.n.s.u.
+000014b0: 1320 0000 0000 0c00 7500 6e00 7300 7500  . ......u.n.s.u.
 000014c0: 7000 6500 7200 7600 6900 7300 6500 6462  p.e.r.v.i.s.e.db
 000014d0: 7773 7062 6c6f 6200 0000 b862 706c 6973  wspblob....bplis
 000014e0: 7430 30d6 0102 0304 0506 0708 0708 0b08  t00.............
 000014f0: 5d53 686f 7753 7461 7475 7342 6172 5b53  ]ShowStatusBar[S
 00001500: 686f 7754 6f6f 6c62 6172 5b53 686f 7754  howToolbar[ShowT
 00001510: 6162 5669 6577 5f10 1443 6f6e 7461 696e  abView_..Contain
 00001520: 6572 5368 6f77 5369 6465 6261 725c 5769  erShowSidebar\Wi
@@ -459,21 +459,21 @@
 00001ca0: 7742 6f75 6e64 735b 5368 6f77 5369 6465  wBounds[ShowSide
 00001cb0: 6261 7208 0908 095f 1018 7b7b 3135 312c  bar...._..{{151,
 00001cc0: 2039 367d 2c20 7b31 3138 302c 2035 3638   96}, {1180, 568
 00001cd0: 7d7d 0908 1523 2f3b 525f 6b6c 6d6e 6f8a  }}...#/;R_klmno.
 00001ce0: 0000 0000 0000 0101 0000 0000 0000 000d  ................
 00001cf0: 0000 0000 0000 0000 0000 0000 0000 008b  ................
 00001d00: 0000 0005 0075 0074 0069 006c 0073 6c67  .....u.t.i.l.slg
-00001d10: 3153 636f 6d70 0000 0000 0008 4344 0000  1Scomp......CD..
+00001d10: 3153 636f 6d70 0000 0000 0008 5269 0000  1Scomp......Ri..
 00001d20: 0005 0075 0074 0069 006c 0073 6d6f 4444  ...u.t.i.l.smoDD
-00001d30: 626c 6f62 0000 0008 a0b3 63ca b403 c641  blob......c....A
+00001d30: 626c 6f62 0000 0008 c55c 4ccd 1e05 c641  blob.....\L....A
 00001d40: 0000 0005 0075 0074 0069 006c 0073 6d6f  .....u.t.i.l.smo
-00001d50: 6444 626c 6f62 0000 0008 a0b3 63ca b403  dDblob......c...
+00001d50: 6444 626c 6f62 0000 0008 d310 7c46 5a04  dDblob......|FZ.
 00001d60: c641 0000 0005 0075 0074 0069 006c 0073  .A.....u.t.i.l.s
-00001d70: 7068 3153 636f 6d70 0000 0000 0009 4000  ph1Scomp......@.
+00001d70: 7068 3153 636f 6d70 0000 0000 0009 5000  ph1Scomp......P.
 00001d80: 0000 0005 0075 0074 0069 006c 0073 7653  .....u.t.i.l.svS
 00001d90: 726e 6c6f 6e67 0000 0001 0000 0010 0076  rnlong.........v
 00001da0: 0069 0064 0065 006f 005f 0070 0072 006f  .i.d.e.o._.p.r.o
 00001db0: 0063 0065 0073 0073 006f 0072 0073 6277  .c.e.s.s.o.r.sbw
 00001dc0: 7370 626c 6f62 0000 00b8 6270 6c69 7374  spblob....bplist
 00001dd0: 3030 d601 0203 0405 0607 0807 080b 085d  00.............]
 00001de0: 5368 6f77 5374 6174 7573 4261 725b 5368  ShowStatusBar[Sh
@@ -485,18 +485,18 @@
 00001e40: 392c 2033 3030 7d2c 207b 3932 302c 2034  9, 300}, {920, 4
 00001e50: 3336 7d7d 0908 1523 2f3b 525f 6b6c 6d6e  36}}...#/;R_klmn
 00001e60: 6f8a 0000 0000 0000 0101 0000 0000 0000  o...............
 00001e70: 000d 0000 0000 0000 0000 0000 0000 0000  ................
 00001e80: 008b 0000 0010 0076 0069 0064 0065 006f  .......v.i.d.e.o
 00001e90: 005f 0070 0072 006f 0063 0065 0073 0073  ._.p.r.o.c.e.s.s
 00001ea0: 006f 0072 0073 6c67 3153 636f 6d70 0000  .o.r.slg1Scomp..
-00001eb0: 0000 0008 becb 0000 0010 0076 0069 0064  ...........v.i.d
+00001eb0: 0000 0008 c1f4 0000 0010 0076 0069 0064  ...........v.i.d
 00001ec0: 0065 006f 005f 0070 0072 006f 0063 0065  .e.o._.p.r.o.c.e
 00001ed0: 0073 0073 006f 0072 0073 6d6f 4444 626c  .s.s.o.r.smoDDbl
-00001ee0: 6f62 0000 0008 278e bee2 d803 c641 0000  ob....'......A..
+00001ee0: 6f62 0000 0008 f33f 518a 5b05 c641 0000  ob.....?Q.[..A..
 00001ef0: 0010 0076 0069 0064 0065 006f 005f 0070  ...v.i.d.e.o._.p
 00001f00: 0072 006f 0063 0065 0073 0073 006f 0072  .r.o.c.e.s.s.o.r
 00001f10: 0073 6d6f 6444 626c 6f62 0000 0008 630d  .smodDblob....c.
 00001f20: ba35 c503 c641 0000 0010 0076 0069 0064  .5...A.....v.i.d
 00001f30: 0065 006f 005f 0070 0072 006f 0063 0065  .e.o._.p.r.o.c.e
 00001f40: 0073 0073 006f 0072 0073 7068 3153 636f  .s.s.o.r.sph1Sco
 00001f50: 6d70 0000 0000 0009 a000 0000 0010 0076  mp.............v
@@ -509,45 +509,45 @@
 00001fc0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
 00001fd0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
 00001fe0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
 00001ff0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
 00002000: 0000 0000 0000 0000 0000 002f 0000 000b  .........../....
 00002010: 005f 005f 0070 0079 0063 0061 0063 0068  ._._.p.y.c.a.c.h
 00002020: 0065 005f 005f 6c67 3153 636f 6d70 0000  .e._._lg1Scomp..
-00002030: 0000 0000 ed08 0000 000b 005f 005f 0070  ..........._._.p
+00002030: 0000 0000 ed6c 0000 000b 005f 005f 0070  .....l....._._.p
 00002040: 0079 0063 0061 0063 0068 0065 005f 005f  .y.c.a.c.h.e._._
-00002050: 6d6f 4444 626c 6f62 0000 0008 6356 51fb  moDDblob....cVQ.
-00002060: cd03 c641 0000 000b 005f 005f 0070 0079  ...A....._._.p.y
+00002050: 6d6f 4444 626c 6f62 0000 0008 82b4 20c7  moDDblob...... .
+00002060: d903 c641 0000 000b 005f 005f 0070 0079  ...A....._._.p.y
 00002070: 0063 0061 0063 0068 0065 005f 005f 6d6f  .c.a.c.h.e._._mo
 00002080: 6444 626c 6f62 0000 0008 cd7b 09fd 0303  dDblob.....{....
 00002090: c641 0000 000b 005f 005f 0070 0079 0063  .A....._._.p.y.c
 000020a0: 0061 0063 0068 0065 005f 005f 7068 3153  .a.c.h.e._._ph1S
 000020b0: 636f 6d70 0000 0000 0001 0000 0000 0006  comp............
 000020c0: 0061 0073 0073 0065 0074 0073 6277 7370  .a.s.s.e.t.sbwsp
 000020d0: 626c 6f62 0000 00b8 6270 6c69 7374 3030  blob....bplist00
 000020e0: d601 0203 0405 0607 0807 080b 085d 5368  .............]Sh
 000020f0: 6f77 5374 6174 7573 4261 725b 5368 6f77  owStatusBar[Show
 00002100: 546f 6f6c 6261 725b 5368 6f77 5461 6256  Toolbar[ShowTabV
 00002110: 6965 775f 1014 436f 6e74 6169 6e65 7253  iew_..ContainerS
 00002120: 686f 7753 6964 6562 6172 5c57 696e 646f  howSidebar\Windo
 00002130: 7742 6f75 6e64 735b 5368 6f77 5369 6465  wBounds[ShowSide
-00002140: 6261 7208 0908 095f 1018 7b7b 3437 342c  bar...._..{{474,
-00002150: 2033 3030 7d2c 207b 3932 302c 2034 3336   300}, {920, 436
+00002140: 6261 7208 0908 095f 1018 7b7b 3434 352c  bar...._..{{445,
+00002150: 2033 3239 7d2c 207b 3932 302c 2034 3336   329}, {920, 436
 00002160: 7d7d 0908 1523 2f3b 525f 6b6c 6d6e 6f8a  }}...#/;R_klmno.
 00002170: 0000 0000 0000 0101 0000 0000 0000 000d  ................
 00002180: 0000 0000 0000 0000 0000 0000 0000 008b  ................
 00002190: 0000 0006 0061 0073 0073 0065 0074 0073  .....a.s.s.e.t.s
-000021a0: 6c67 3153 636f 6d70 0000 0000 008a 4a3a  lg1Scomp......J:
+000021a0: 6c67 3153 636f 6d70 0000 0000 008a 5aeb  lg1Scomp......Z.
 000021b0: 0000 0006 0061 0073 0073 0065 0074 0073  .....a.s.s.e.t.s
 000021c0: 6d6f 4444 626c 6f62 0000 0008 ee16 90c8  moDDblob........
 000021d0: abba c541 0000 0006 0061 0073 0073 0065  ...A.....a.s.s.e
 000021e0: 0074 0073 6d6f 6444 626c 6f62 0000 0008  .t.smodDblob....
 000021f0: ee16 90c8 abba c541 0000 0006 0061 0073  .......A.....a.s
 00002200: 0073 0065 0074 0073 7068 3153 636f 6d70  .s.e.t.sph1Scomp
-00002210: 0000 0000 008e 7000 0000 0006 0061 0073  ......p......a.s
+00002210: 0000 0000 008e 9000 0000 0006 0061 0073  .............a.s
 00002220: 0073 0065 0074 0073 7653 726e 6c6f 6e67  .s.e.t.svSrnlong
 00002230: 0000 0001 0000 0012 0062 006f 0075 006e  .........b.o.u.n
 00002240: 0064 0069 006e 0067 005f 0062 006f 0078  .d.i.n.g._.b.o.x
 00002250: 005f 0074 006f 006f 006c 0073 6c67 3153  ._.t.o.o.l.slg1S
 00002260: 636f 6d70 0000 0000 0003 222b 0000 0012  comp......"+....
 00002270: 0062 006f 0075 006e 0064 0069 006e 0067  .b.o.u.n.d.i.n.g
 00002280: 005f 0062 006f 0078 005f 0074 006f 006f  ._.b.o.x._.t.o.o
@@ -648,16 +648,16 @@
 00002870: 6f77 426f 756e 6473 5b53 686f 7753 6964  owBounds[ShowSid
 00002880: 6562 6172 0809 0809 5f10 187b 7b32 3839  ebar...._..{{289
 00002890: 2c20 3330 307d 2c20 7b39 3230 2c20 3433  , 300}, {920, 43
 000028a0: 367d 7d09 0815 232f 3b52 5f6b 6c6d 6e6f  6}}...#/;R_klmno
 000028b0: 8a00 0000 0000 0001 0100 0000 0000 0000  ................
 000028c0: 0d00 0000 0000 0000 0000 0000 0000 0000  ................
 000028d0: 8b00 0000 0600 6d00 6900 7800 6900 6e00  ......m.i.x.i.n.
-000028e0: 736c 6731 5363 6f6d 7000 0000 0001 cec5  slg1Scomp.......
-000028f0: 5900 0000 0600 6d00 6900 7800 6900 6e00  Y.....m.i.x.i.n.
+000028e0: 736c 6731 5363 6f6d 7000 0000 0001 cf5d  slg1Scomp......]
+000028f0: b000 0000 0600 6d00 6900 7800 6900 6e00  ......m.i.x.i.n.
 00002900: 736c 7376 4362 6c6f 6200 0003 0a62 706c  slsvCblob....bpl
 00002910: 6973 7430 30d8 0102 0304 0506 0708 090a  ist00...........
 00002920: 0b1b 5556 0a58 5869 636f 6e53 697a 655f  ..UV.XXiconSize_
 00002930: 100f 7368 6f77 4963 6f6e 5072 6576 6965  ..showIconPrevie
 00002940: 7757 636f 6c75 6d6e 735f 1011 6361 6c63  wWcolumns_..calc
 00002950: 756c 6174 6541 6c6c 5369 7a65 7358 7465  ulateAllSizesXte
 00002960: 7874 5369 7a65 5a73 6f72 7443 6f6c 756d  xtSizeZsortColum
@@ -741,19 +741,19 @@
 00002e40: 015b 015d 015f 0160 0161 016a 016c 016d  .[.]._.`.a.j.l.m
 00002e50: 016e 0177 0179 017b 017c 017d 0186 0188  .n.w.y.{.|.}....
 00002e60: 0189 018a 0193 0195 0197 0198 0199 019a  ................
 00002e70: 01a3 01b0 0000 0000 0000 0201 0000 0000  ................
 00002e80: 0000 0048 0000 0000 0000 0000 0000 0000  ...H............
 00002e90: 0000 01b1 0000 0006 006d 0069 0078 0069  .........m.i.x.i
 00002ea0: 006e 0073 6d6f 4444 626c 6f62 0000 0008  .n.smoDDblob....
-00002eb0: 148c 242e 2303 c641 0000 0006 006d 0069  ..$.#..A.....m.i
+00002eb0: 2821 dd90 2d05 c641 0000 0006 006d 0069  (!..-..A.....m.i
 00002ec0: 0078 0069 006e 0073 6d6f 6444 626c 6f62  .x.i.n.smodDblob
-00002ed0: 0000 0008 359f 8d57 fcfb c541 0000 0006  ....5..W...A....
+00002ed0: 0000 0008 2821 dd90 2d05 c641 0000 0006  ....(!..-..A....
 00002ee0: 006d 0069 0078 0069 006e 0073 7068 3153  .m.i.x.i.n.sph1S
-00002ef0: 636f 6d70 0000 0000 01e1 e000 0000 0006  comp............
+00002ef0: 636f 6d70 0000 0000 01e2 7000 0000 0006  comp......p.....
 00002f00: 006d 0069 0078 0069 006e 0073 7653 726e  .m.i.x.i.n.svSrn
 00002f10: 6c6f 6e67 0000 0001 0000 0005 006d 006f  long.........m.o
 00002f20: 0064 0065 006c 6c67 3153 636f 6d70 0000  .d.e.llg1Scomp..
 00002f30: 0000 0002 17d2 0000 0005 006d 006f 0064  ...........m.o.d
 00002f40: 0065 006c 6d6f 4444 626c 6f62 0000 0008  .e.lmoDDblob....
 00002f50: 8bf2 828f 0603 c641 0000 0005 006d 006f  .......A.....m.o
 00002f60: 0064 0065 006c 6d6f 6444 626c 6f62 0000  .d.e.lmodDblob..
@@ -1014,15 +1014,15 @@
 00003f50: 6473 5b53 686f 7753 6964 6562 6172 0809  ds[ShowSidebar..
 00003f60: 0809 5f10 187b 7b31 3531 2c20 3936 7d2c  .._..{{151, 96},
 00003f70: 207b 3131 3830 2c20 3536 387d 7d09 0815   {1180, 568}}...
 00003f80: 232f 3b52 5f6b 6c6d 6e6f 8a00 0000 0000  #/;R_klmno......
 00003f90: 0001 0100 0000 0000 0000 0d00 0000 0000  ................
 00003fa0: 0000 0000 0000 0000 0000 8b00 0000 0700  ................
 00003fb0: 7300 6100 6e00 6400 6200 6f00 786c 6731  s.a.n.d.b.o.xlg1
-00003fc0: 5363 6f6d 7000 0000 0000 1088 4300 0000  Scomp.......C...
+00003fc0: 5363 6f6d 7000 0000 0000 10e7 a500 0000  Scomp...........
 00003fd0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
 00003fe0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
 00003ff0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
 00004000: 0000 0000 0000 0006 0000 0000 0000 400b  ..............@.
 00004010: 0000 0045 0000 100c 0000 040a 0000 200c  ...E.......... .
 00004020: 0000 300c 0000 0000 0000 0000 0000 0000  ..0.............
 00004030: 0000 0000 0000 0000 0000 0000 0000 0000  ................
```

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/feature_extractor_14bp.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/feature_extractor_14bp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/feature_extractor_7bp.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/feature_extractor_7bp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/doctests.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/doctests.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/fish_feature_extractor_2023_version_3.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/fish_feature_extractor_2023_version_3.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/read_in_mp.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/read_in_mp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/peaks.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/peaks.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/fish_feature_extractor_2022.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/fish_feature_extractor_2022.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/convex_hull_3_scratch_3.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/convex_hull_3_scratch_3.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/convex_hull_scratch_1.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/convex_hull_scratch_1.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/fish_feature_extractor_2023_version_2.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/fish_feature_extractor_2023_version_2.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/egocentrical_aligner.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/egocentrical_aligner.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/count_values_in_range.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/count_values_in_range.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/graph_creator.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/graph_creator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/termite_rois.csv` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/termite_rois.csv`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/mutual_exclusive.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/mutual_exclusive.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/video_color.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/video_color.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/graph_3d_plotter.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/graph_3d_plotter.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/video_rotator.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/video_rotator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/add_probability_cnt_features.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/add_probability_cnt_features.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/make_splash.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/make_splash.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/fish_feature_extractor_2023_version_5.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/fish_feature_extractor_2023_version_5.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/time_stamp_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/time_stamp_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/video_rotator_mp.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/video_rotator_mp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/fish_feature_extractor_2023_version_4.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/fish_feature_extractor_2023_version_4.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/misc/convex_hull_scratch_2.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/misc/convex_hull_scratch_2.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/feature_extractor_8bps_2_animals.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/feature_extractor_8bps_2_animals.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/.DS_Store` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/.DS_Store`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/perimeter_jit.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/perimeter_jit.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/feature_subsets.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/feature_subsets.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/feature_extractor_user_defined.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/feature_extractor_user_defined.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/feature_extractor_16bp.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/feature_extractor_16bp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/feature_extractor_9bp.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/feature_extractor_9bp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/feature_extractor_8bp.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/feature_extractor_8bp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/feature_extractor_4bp.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/feature_extractor_4bp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/feature_extractors/amber_feature_extractor.py` & `Simba-UW-tf-dev-1.94.5/simba/feature_extractors/amber_feature_extractor.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/requirements.txt` & `Simba-UW-tf-dev-1.94.5/simba/requirements.txt`

 * *Files 2% similar despite different names*

```diff
@@ -14,15 +14,16 @@
 matplotlib == 3.3.4
 numpy==1.18.1;python_version=="3.6"
 numpy==1.26.4;python_version>="3.9"
 opencv-python == 3.4.5.20;python_version=="3.6"
 opencv-python;python_version>="3.9"
 pandas==0.25.3;python_version=="3.6"
 pandas;python_version>="3.9"
-scikit-image
+scikit-image == 0.17.2;python_version=="3.6"
+scikit-image;python_version>="3.9"
 scipy
 kaleido
 seaborn == 0.11.0
 scikit-learn
 tabulate == 0.8.3;python_version=="3.6"
 tabulate == 0.9.0;python_version>="3.9"
 tqdm == 4.30.0
```

### Comparing `Simba-UW-tf-dev-1.94.4/simba/mixins/annotator_mixin.py` & `Simba-UW-tf-dev-1.94.5/simba/mixins/annotator_mixin.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/mixins/timeseries_features_mixin.py` & `Simba-UW-tf-dev-1.94.5/simba/mixins/timeseries_features_mixin.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/mixins/.DS_Store` & `Simba-UW-tf-dev-1.94.5/simba/mixins/.DS_Store`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/mixins/pop_up_mixin.py` & `Simba-UW-tf-dev-1.94.5/simba/mixins/pop_up_mixin.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/mixins/config_reader.py` & `Simba-UW-tf-dev-1.94.5/simba/mixins/config_reader.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/mixins/circular_statistics.py` & `Simba-UW-tf-dev-1.94.5/simba/mixins/circular_statistics.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/mixins/network_mixin.py` & `Simba-UW-tf-dev-1.94.5/simba/mixins/network_mixin.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/mixins/pose_importer_mixin.py` & `Simba-UW-tf-dev-1.94.5/simba/mixins/pose_importer_mixin.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/mixins/video_processing_mixin.py` & `Simba-UW-tf-dev-1.94.5/simba/mixins/video_processing_mixin.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/mixins/feature_extraction_supplement_mixin.py` & `Simba-UW-tf-dev-1.94.5/simba/mixins/feature_extraction_supplement_mixin.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/mixins/statistics_mixin.py` & `Simba-UW-tf-dev-1.94.5/simba/mixins/statistics_mixin.py`

 * *Files 1% similar despite different names*

```diff
@@ -10,16 +10,15 @@
 
 try:
     from typing import Literal
 except:
     from typing_extensions import Literal
 
 import numpy as np
-from numba import (bool_, float32, float64, int8, jit, njit, objmode, optional,
-                   prange, typed, types)
+from numba import (bool_, float32, float64, int8, jit, njit, objmode, optional, prange, typed, types)
 from scipy import stats
 from scipy.stats.distributions import chi2
 from sklearn.covariance import EllipticEnvelope
 from sklearn.ensemble import IsolationForest
 
 from simba.mixins.feature_extraction_mixin import FeatureExtractionMixin
 from simba.utils.checks import (check_float, check_int, check_str,
@@ -247,17 +246,15 @@
         >>> Statistics().rolling_cohens_d(data=sample, window_sizes=np.array([1]), fps=4)
         >>> [[0.],[0.],[0.],[0.],[0.14718302],[0.14718302],[0.14718302],[0.14718302]])
         """
 
         results = np.full((data.shape[0], time_windows.shape[0]), 0.0)
         for i in prange(time_windows.shape[0]):
             window_size = int(time_windows[i] * fps)
-            data_split = np.split(
-                data, list(range(window_size, data.shape[0], window_size))
-            )
+            data_split = np.split(data, list(range(window_size, data.shape[0], window_size)))
             for j in prange(1, len(data_split)):
                 window_start = int(window_size * j)
                 window_end = int(window_start + window_size)
                 sample_1, sample_2 = data_split[j - 1].astype(np.float32), data_split[
                     j
                 ].astype(np.float32)
                 d = (np.mean(sample_1) - np.mean(sample_2)) / (
@@ -2983,17 +2980,15 @@
         if t_f + f_t == 0.0:
             return 0.0
         else:
             return (f_t + t_f) / (2 * (t_cnt + f_cnt) + f_t + t_f)
 
     @staticmethod
     @njit([(float32[:, :], float32[:, :]), (float32[:, :], types.misc.Omitted(None))])
-    def bray_curtis_dissimilarity(
-        x: np.ndarray, w: Optional[np.ndarray] = None
-    ) -> np.ndarray:
+    def bray_curtis_dissimilarity(x: np.ndarray, w: Optional[np.ndarray] = None) -> np.ndarray:
         """
         Jitted compute of the Bray-Curtis dissimilarity matrix between samples based on feature values.
 
         The Bray-Curtis dissimilarity measures the dissimilarity between two samples based on their feature values.
         It is useful for finding similar frames based on behavior.
 
         Useful for finding similar frames based on behavior.
@@ -3657,15 +3652,15 @@
            Modified from `jqmviegas <https://github.com/jqmviegas/jqm_cvi/>`_
 
            Wiki `https://en.wikipedia.org/wiki/Dunn_index <https://en.wikipedia.org/wiki/Dunn_index>`_
 
            Uses Euclidean distances.
 
         :param np.ndarray x: 2D array representing the data points. Shape (n_samples, n_features).
-        :param np.ndarray y: 2D array representing cluster labels for each data point. Shape (n_samples,).
+        :param np.ndarray y: 1D array representing cluster labels for each data point. Shape (n_samples,).
         :return float: The Dunn index value
 
         :example:
         >>> x = np.random.randint(0, 100, (100, 2))
         >>> y = np.random.randint(0, 3, (100,))
         >>> Statistics.dunn_index(x=x, y=y)
         """
@@ -3928,14 +3923,124 @@
             source=Statistics.adjusted_mutual_info.__name__,
             accepted_ndims=(1,),
             accepted_dtypes=(np.int64, np.int32, int),
             accepted_shapes=[(x.shape[0],)],
         )
         return adjusted_mutual_info_score(labels_true=x, labels_pred=y)
 
+    @staticmethod
+    @jit(nopython=True)
+    def czebyshev_distance(sample_1: np.ndarray, sample_2: np.ndarray) -> float:
+        """
+        Calculate the Czebyshev distance between two N-dimensional samples.
+
+        The Czebyshev distance is defined as the maximum absolute difference
+        between the corresponding elements of the two arrays.
+
+        .. note::
+           Normalize arrays sample_1 and sample_2 before passing it to ensure accurate results.
+
+        .. math::
+            D_\infty(p, q) = \max_i \left| p_i - q_i \right|
+
+        :param np.ndarray sample_1: The first sample, an N-dimensional NumPy array.
+        :param np.ndarray sample_2: The second sample, an N-dimensional NumPy array.
+        :return float: The Czebyshev distance between the two samples.
+
+        :example:
+        >>> sample_1 = np.random.randint(0, 10, (10000,100))
+        >>> sample_2 = np.random.randint(0, 10, (10000,100))
+        >>> Statistics.czebyshev_distance(sample_1=sample_1, sample_2=sample_2)
+        """
+
+        c = 0.0
+        for idx in np.ndindex(sample_1.shape):
+            c = max((c, np.abs(sample_1[idx] - sample_2[idx])))
+        return c
+
+    @staticmethod
+    @njit(["(float32[:, :], float64[:], int64)", ])
+    def sliding_czebyshev_distance(x: np.ndarray, window_sizes: np.ndarray, sample_rate: float) -> np.ndarray:
+        """
+        Calculate the sliding Chebyshev distance for a given signal with different window sizes.
+
+        This function computes the sliding Chebyshev distance for a signal `x` using
+        different window sizes specified by `window_sizes`. The Chebyshev distance measures
+        the maximum absolute difference between the corresponding elements of two signals.
+
+        .. note::
+           Normalize array x before passing it to ensure accurate results.
+
+        .. math::
+           D_\infty(p, q) = \max_i \left| p_i - q_i \right|
+
+        :param np.ndarray x: Input signal, a 2D array with shape (n_samples, n_features).
+        :param np.ndarray window_sizes: Array containing window sizes for sliding computation.
+        :param float sample_rate: Sampling rate of the signal.
+        :return np.ndarray: 2D array of Chebyshev distances for each window size and position.
+
+        :example:
+        >>> sample_1 = np.random.randint(0, 10, (200,5)).astype(np.float32)
+        >>> sample_2 = np.random.randint(0, 10, (10000,100))
+        >>> Statistics.sliding_czebyshev_distance(x=sample_1, window_sizes=np.array([1.0, 2.0]), sample_rate=10.0)
+        """
+
+        result = np.full((x.shape[0], window_sizes.shape[0]), 0.0)
+        for i in range(window_sizes.shape[0]):
+            window_size = int(window_sizes[i] * sample_rate)
+            for l, r in zip(range(0, x.shape[0] + 1), range(window_size, x.shape[0] + 1)):
+                sample, c = x[l:r, :], 0.0
+                for j in range(sample.shape[1]):
+                    c = max(c, (np.abs(np.min(sample[:, j]) - np.max(sample[:, j]))))
+                result[r - 1, i] = c
+        return result
+
+    @staticmethod
+    @njit(["(int64[:], int64[:], float64[:])", "(int64[:], int64[:], types.misc.Omitted(None))",
+           "(int64[:, :], int64[:, :], float64[:])", "(int64[:, :], int64[:, :], types.misc.Omitted(None))"])
+    def sokal_michener(x: np.ndarray, y: np.ndarray, w: Optional[np.ndarray] = None) -> float:
+        """
+        Jitted compute of the Sokal-Michener dissimilarity between two binary vectors or matrices.
+
+        Higher values indicate more dissimilar vectors or matrices, while lower values indicate more similar vectors or matrices.
+
+        The Sokal-Michener dissimilarity is a measure of dissimilarity between two sets
+        based on the presence or absence of similar attributes. This implementation supports weighted dissimilarity.
+
+        .. note::
+           Adapted from `umap <https://github.com/lmcinnes/umap/blob/e7f2fb9e5e772edd5c8f38612365ec6a35a54373/umap/distances.py#L468>`_.
+
+        .. math::
+           D(x, y) = \frac{2 \cdot \sum_{i} w_i \cdot \mathbb{1}(x_i \neq y_i)}{N + \sum_{i} w_i \cdot \mathbb{1}(x_i \neq y_i)}
+
+        where:
+        - :math:`x` and :math:`y` are the binary vectors or matrices.
+        - :math:`w_i` is the weight for the i-th element.
+        - :math:`\mathbb{1}(x_i \neq y_i)` is an indicator function that is 1 if :math:`x_i \neq y_i` and 0 otherwise.
+        - :math:`N` is the total number of elements in :math:`x` or :math:`y`.
+
+        :param np.ndarray x: First binary vector or matrix.
+        :param np.ndarray y: Second binary vector or matrix.
+        :param Optional[np.ndarray] w: Optional weight vector. If None, all weights are considered as 1.
+        :return float: Sokal-Michener dissimilarity between `x` and `y`.
+
+        :example:
+        >>> x = np.random.randint(0, 2, (200,))
+        >>> y = np.random.randint(0, 2, (200,))
+        >>> sokal_michener = Statistics.sokal_michener(x=x, y=y)
+        """
+
+        if w is None:
+            w = np.ones(x.shape[0]).astype(np.float64)
+        unequal_cnt = 0.0
+        for i in np.ndindex(x.shape):
+            x_i, y_i = x[i], y[i]
+            if x_i != y_i:
+                unequal_cnt += 1 * w[i[0]]
+        return (2.0 * unequal_cnt) / (x.size + unequal_cnt)
 
 # sample_1 = np.random.random_integers(low=1, high=2, size=(10, 50)).astype(np.float64)
 # sample_2 = np.random.random_integers(low=7, high=20, size=(10, 50)).astype(np.float64)
 # data = np.vstack([sample_1, sample_2])
 # Statistics().hbos(data=data)
 
 # sample_1 = np.random.normal(loc=10, scale=2, size=1000).astype(np.float64)
```

### Comparing `Simba-UW-tf-dev-1.94.4/simba/mixins/feature_extraction_mixin.py` & `Simba-UW-tf-dev-1.94.5/simba/mixins/feature_extraction_mixin.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/mixins/plotting_mixin.py` & `Simba-UW-tf-dev-1.94.5/simba/mixins/plotting_mixin.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/mixins/image_mixin.py` & `Simba-UW-tf-dev-1.94.5/simba/mixins/image_mixin.py`

 * *Files 14% similar despite different names*

```diff
@@ -13,19 +13,20 @@
 import os
 from collections import ChainMap
 
 import cv2
 import pandas as pd
 from numba import int64, jit, njit, prange, uint8
 from shapely.geometry import Polygon
+from skimage.metrics import structural_similarity
 
 from simba.utils.checks import (check_file_exist_and_readable, check_float,
                                 check_if_dir_exists, check_if_valid_img,
                                 check_instance, check_int, check_str,
-                                check_valid_array, check_valid_lst)
+                                check_valid_array, check_valid_lst, check_valid_tuple, check_if_valid_rgb_tuple)
 from simba.utils.enums import Defaults, Formats, GeometryEnum, Options
 from simba.utils.errors import ArrayError, FrameRangeError, InvalidInputError
 from simba.utils.printing import SimbaTimer, stdout_success
 from simba.utils.read_write import (find_core_cnt,
                                     find_files_of_filetypes_in_directory,
                                     get_fn_ext, get_video_meta_data,
                                     read_frm_of_video)
@@ -766,30 +767,24 @@
         """Multiprocessing helper for ``ImageMixin().read_all_img_in_dir``"""
         results = {}
         for img_path in img_paths:
             results[get_fn_ext(filepath=img_path)[1]] = cv2.imread(img_path)
         return results
 
     @staticmethod
-    def read_all_img_in_dir(
-        dir: Union[str, os.PathLike], core_cnt: Optional[int] = -1
-    ) -> Dict[str, np.ndarray]:
+    def read_all_img_in_dir(dir: Union[str, os.PathLike], core_cnt: Optional[int] = -1) -> Dict[str, np.ndarray]:
         """
         Helper to read in all images within a directory using multiprocessing.
         Returns a dictionary with the image name as key and the images in array format as values.
 
         :example:
         >>> imgs = ImageMixin().read_all_img_in_dir(dir='/Users/simon/Desktop/envs/troubleshooting/two_black_animals_14bp/project_folder/Together_4_cropped_frames')
         """
         check_if_dir_exists(in_dir=dir)
-        file_paths = find_files_of_filetypes_in_directory(
-            directory=dir,
-            extensions=list(Options.ALL_IMAGE_FORMAT_OPTIONS.value),
-            raise_error=True,
-        )
+        file_paths = find_files_of_filetypes_in_directory(directory=dir, extensions=list(Options.ALL_IMAGE_FORMAT_OPTIONS.value), raise_error=True)
         if core_cnt == -1:
             core_cnt = find_core_cnt()[0]
         chunk_size = len(file_paths) // core_cnt
         file_paths = [
             file_paths[
                 i * chunk_size
                 + min(i, len(file_paths) % core_cnt) : (i + 1) * chunk_size
@@ -842,27 +837,40 @@
                 imgs_1[i].shape[0] * imgs_2[i].shape[1]
             )
         return results.astype(np.int64)
 
     @staticmethod
     @njit([(uint8[:, :, :, :], int64), (uint8[:, :, :], int64)])
     def img_sliding_mse(imgs: np.ndarray, slide_size: int = 1) -> np.ndarray:
-        """Pairwise comparison of images in sliding windows using mean squared errors
+        """
+        Calculate the mean squared error (MSE) between pairs of images in a sliding window manner.
+
+        This function performs pairwise comparisons of images using mean squared errors (MSE).
+        It slides a window of the specified size over the sequence of images and computes the MSE
+        between each image and the image that is `slide_size` positions before it.
+
+
+        .. image:: _static/img/img_sliding_mse.webp
+           :width: 600
+           :align: center
+
+        :param imgs: 3d or 4d A numpy array of images.
+        :param slide_size: The size of the sliding window (default is 1).
+        :return: A numpy array of MSE values for each pair of images in the sliding window.
+
 
         :example:
         >>> imgs = ImageMixin().read_all_img_in_dir(dir='/Users/simon/Desktop/envs/troubleshooting/two_black_animals_14bp/project_folder/Together_4_cropped_frames')
         >>> imgs = np.stack(imgs.values())
         >>> mse = ImageMixin().img_sliding_mse(imgs=imgs, slide_size=2)
         """
 
         results = np.full((imgs.shape[0]), 0)
         for i in prange(slide_size, imgs.shape[0]):
-            results[i] = np.sum((imgs[i - slide_size] - imgs[i]) ** 2) / float(
-                imgs[i - slide_size].shape[0] * imgs[i].shape[1]
-            )
+            results[i] = np.sum((imgs[i - slide_size] - imgs[i]) ** 2) / float(imgs[i - slide_size].shape[0] * imgs[i].shape[1])
         return results.astype(int64)
 
     @staticmethod
     def _read_img_batch_from_video_helper(
         frm_idx: np.ndarray, video_path: Union[str, os.PathLike]
     ):
         """Multiprocess helper used by read_img_batch_from_video to read in images from video file."""
@@ -928,96 +936,144 @@
             for cnt, result in enumerate(pool.imap(constants, frm_lst, chunksize=1)):
                 results.update(result)
         pool.join()
         pool.terminate()
         return results
 
     @staticmethod
-    def img_emd(
-        imgs: List[np.ndarray] = None,
-        img_1: Optional[np.ndarray] = None,
-        img_2: Optional[np.ndarray] = None,
-        lower_bound: Optional[float] = 0.5,
-    ):
+    def img_emd(imgs: List[np.ndarray] = None,
+                img_1: Optional[np.ndarray] = None,
+                img_2: Optional[np.ndarray] = None,
+                lower_bound: Optional[float] = 0.5,
+                verbose: Optional[bool] = False):
         """
         Compute Wasserstein distance between two images represented as numpy arrays.
 
+        .. note::
+           Long runtime for larger images. Consider down-sampling videos / images before caluclating wasserstein / earth mover distances.
+
+        .. image:: _static/img/img_emd.webp
+           :width: 600
+           :align: center
+
+
         :example:
         >>> img_1 = cv2.imread('/Users/simon/Desktop/envs/troubleshooting/Emergence/project_folder/videos/Example_1_frames/24.png', 0).astype(np.float32)
         >>> img_2 = cv2.imread('/Users/simon/Desktop/envs/troubleshooting/Emergence/project_folder/videos/Example_1_frames/1984.png', 0).astype(np.float32)
-        >>> img_emd(img_1=img_1, img_2=img_3, lower_bound=0.5)
+        >>> ImageMixin.img_emd(img_1=img_1, img_2=img_2, lower_bound=0.5)
         >>> 10.658767700195312
         """
-        check_float(
-            name=f"{ImageMixin.img_emd.__name__} lower bound",
-            min_value=0.0,
-            value=lower_bound,
-        )
-        if (img_1 is None and img_1 is None and imgs is None) or (
-            img_1 is not None and img_2 is None
-        ):
-            raise InvalidInputError(
-                msg="Pass img_1 and img_2 OR imgs", source=ImageMixin.__class__.__name__
-            )
+        timer = SimbaTimer(start=True)
+        check_float(name=f"{ImageMixin.img_emd.__name__} lower bound", min_value=0.0, value=lower_bound)
+        if (img_1 is None and img_1 is None and imgs is None) or (img_1 is not None and img_2 is None):
+            raise InvalidInputError(msg="Pass img_1 and img_2 OR imgs", source=ImageMixin.__class__.__name__)
         if (img_1 is not None) and (img_2 is not None):
             check_if_valid_img(data=img_1, source=ImageMixin.img_emd.__name__)
             check_if_valid_img(data=img_2, source=ImageMixin.img_emd.__name__)
             if img_1.ndim > 2:
                 img_1 = cv2.cvtColor(img_1, cv2.COLOR_BGR2GRAY)
             if img_2.ndim > 2:
                 img_2 = cv2.cvtColor(img_2, cv2.COLOR_BGR2GRAY)
         else:
-            check_valid_lst(
-                data=imgs,
-                source=ImageMixin.img_emd.__name__,
-                valid_dtypes=(np.ndarray,),
-                exact_len=2,
-            )
+            check_valid_lst(data=imgs, source=ImageMixin.img_emd.__name__, valid_dtypes=(np.ndarray,), exact_len=2,)
             check_if_valid_img(data=imgs[0], source=ImageMixin.img_emd.__name__)
             check_if_valid_img(data=imgs[1], source=ImageMixin.img_emd.__name__)
             if imgs[0].ndim > 2:
                 img_1 = cv2.cvtColor(imgs[0], cv2.COLOR_BGR2GRAY)
             if imgs[1].ndim > 2:
                 img_2 = cv2.cvtColor(imgs[1], cv2.COLOR_BGR2GRAY)
-        return cv2.EMD(
-            img_1.astype(np.float32),
-            img_2.astype(np.float32),
-            cv2.DIST_L2,
-            lowerBound=lower_bound,
-        )[0]
+        timer.stop_timer()
+        emd = cv2.EMD(img_1.astype(np.float32), img_2.astype(np.float32), cv2.DIST_L2, lowerBound=lower_bound)[0]
+        if verbose:
+            stdout_success(msg='EMD complete', elapsed_time=timer.elapsed_time_str)
+        return emd
+
+    @staticmethod
+    def create_uniform_img(size: Tuple[int, int],
+                           color: Tuple[int, int, int],
+                           save_path: Optional[Union[str, os.PathLike]] = None) -> Union[None, np.ndarray]:
+
+        """
+        Creates an image of specified size and color, and optionally saves it to a file.
+
+        .. image:: _static/img/create_uniform_img.webp
+           :width: 600
+           :align: center
+
+        :param Tuple[int, int] size: A tuple of two integers representing the width and height of the image.
+        :param Tuple[int, int, int] color: A tuple of three integers representing the RGB color (e.g., (255, 0, 0) for red).
+        :param Optional[Union[str, os.PathLike]] save_path: a string representing the file path to save the image.  If not provided, the function returns the image as a numpy array.
+        :return Union[None, np.ndarray]: If save_path is provided, the function saves the image to the specified path and returns None. f save_path is not provided, the function returns the image as a numpy ndarray.
+
+        :example:
+        >>> from simba.utils.data import create_color_palette
+        >>> clrs = create_color_palette(pallete_name='inferno', increments=4, as_int=True)
+        >>> imgs_stack = np.full((5, 10, 10, 3), -1)
+        >>> for cnt, i in enumerate(clrs): imgs_stack[cnt] = ImageMixin.create_uniform_img(size=(10, 10), color=tuple(i))
+
+        """
+
+        check_valid_tuple(x=size, accepted_lengths=(2,), valid_dtypes=(int,))
+        check_if_valid_rgb_tuple(data=color)
+        img = np.zeros((size[1], size[0], 3), dtype=np.uint8)
+        img[:] = color[::-1]
+        if save_path is not None:
+            check_if_dir_exists(in_dir=os.path.dirname(save_path))
+            cv2.imwrite(save_path, img)
+        else:
+            return img
 
     @staticmethod
     @jit(nopython=True)
     def img_matrix_mse(imgs: np.ndarray) -> np.ndarray:
         """
         Compute the mean squared error (MSE) matrix table for a stack of images.
 
         This function calculates the MSE between each pair of images in the input array
         and returns a symmetric matrix where each element (i, j) represents the MSE
         between the i-th and j-th images. Useful for image similarities and anomalities.
 
+        .. image:: _static/img/img_matrix_mse.webp
+           :width: 600
+           :align: center
+
         :param np.ndarray imgs: A stack of images represented as a numpy array.
         :return np.ndarray: The MSE matrix table.
 
         :example:
         >>> imgs = ImageMixin().read_img_batch_from_video(video_path='/Users/simon/Desktop/envs/troubleshooting/two_black_animals_14bp/videos/Together_1.avi', start_frm=0, end_frm=50)
         >>> imgs = np.stack(list(imgs.values()))
         >>> ImageMixin().img_matrix_mse(imgs=imgs)
         """
         results = np.full((imgs.shape[0], imgs.shape[0]), 0.0)
         for i in prange(imgs.shape[0]):
             for j in range(i + 1, imgs.shape[0]):
-                val = np.sum((imgs[i] - imgs[j]) ** 2) / float(
-                    imgs[i].shape[0] * imgs[j].shape[1]
-                )
+                val = np.sum((imgs[i] - imgs[j]) ** 2) / float(imgs[i].shape[0] * imgs[j].shape[1])
                 results[i, j] = val
                 results[j, i] = val
         return results.astype(np.int32)
 
     @staticmethod
+    def img_to_greyscale(img: np.ndarray) -> np.ndarray:
+        """
+        Convert a single color image to greyscale.
+
+        The function takes an RGB image and converts it to a greyscale image using a weighted sum approach.
+        If the input image is already in greyscale (2D array), it is returned as is.
+
+        :param np.ndarray img: Input image represented as a NumPy array. For a color image, the array should have three channels (RGB).
+        :return np.ndarray: The greyscale image as a 2D NumPy array.
+        """
+        check_if_valid_img(data=img, source=ImageMixin.img_to_greyscale.__name__)
+        if len(img.shape) != 2:
+            return (0.07 * img[:, :, 2] + 0.72 * img[:, :, 1] + 0.21 * img[:, :, 0]).astype(np.uint8)
+        else:
+            return img.astype(np.uint8)
+
+    @staticmethod
     @njit("(uint8[:, :, :, :],)", fastmath=True)
     def img_stack_to_greyscale(imgs: np.ndarray):
         """
         Jitted conversion of a 4D stack of color images (RGB format) to grayscale.
 
         .. image:: _static/img/img_stack_to_greyscale.png
            :width: 600
@@ -1027,23 +1083,17 @@
         :returns np.ndarray: A 3D array containing the grayscale versions of the input images. The shape of the output array is (num_images, height, width).
 
         :example:
         >>> imgs = ImageMixin().read_img_batch_from_video( video_path='/Users/simon/Desktop/envs/troubleshooting/two_black_animals_14bp/videos/Together_1.avi', start_frm=0, end_frm=100)
         >>> imgs = np.stack(list(imgs.values()))
         >>> imgs_gray = ImageMixin.img_stack_to_greyscale(imgs=imgs)
         """
-        results = np.full((imgs.shape[0], imgs.shape[1], imgs.shape[2]), np.nan).astype(
-            np.uint8
-        )
+        results = np.full((imgs.shape[0], imgs.shape[1], imgs.shape[2]), np.nan).astype(np.uint8)
         for i in prange(imgs.shape[0]):
-            vals = (
-                0.07 * imgs[i][:, :, 2]
-                + 0.72 * imgs[i][:, :, 1]
-                + 0.21 * imgs[i][:, :, 0]
-            )
+            vals = (0.07 * imgs[i][:, :, 2] + 0.72 * imgs[i][:, :, 1] + 0.21 * imgs[i][:, :, 0])
             results[i] = vals.astype(np.uint8)
         return results
 
     @staticmethod
     def _slice_shapes_in_imgs_array_helper(
         data: Tuple[np.ndarray, np.ndarray]
     ) -> List[np.ndarray]:
@@ -1064,112 +1114,88 @@
             cv2.drawContours(
                 mask, [shape - (x, y)], -1, (255, 255, 255), -1, cv2.LINE_AA
             )
             results.append(cv2.bitwise_and(roi_img, mask))
         return results
 
     @staticmethod
-    def pad_img_stack(
-        image_dict: Dict[int, np.ndarray], pad_value: Optional[int] = 0
-    ) -> Dict[int, np.ndarray]:
+    def pad_img_stack(image_dict: Dict[int, np.ndarray], pad_value: Optional[int] = 0) -> Dict[int, np.ndarray]:
         """
         Pad images in a dictionary stack to have the same dimensions (the same dimension is represented by the largest image in the stack)
 
+        .. image:: _static/img/pad_img_stack.webp
+           :width: 400
+           :align: center
+
         :param Dict[int, np.ndarray] image_dict: A dictionary mapping integer keys to numpy arrays representing images.
-        :param Optional[int] pad_value: The value used for padding. Defaults to 0 (black)
+        :param Optional[int] pad_value: The value (between 0-255) used for padding. Defaults to 0 (black)
         :return Dict[int, np.ndarray]: A dictionary mapping integer keys to numpy arrays representing padded images.
         """
-        check_instance(
-            source=ImageMixin.pad_img_stack.__name__,
-            instance=image_dict,
-            accepted_types=(dict,),
-        )
-        check_int(
-            name=f"{ImageMixin.pad_img_stack.__name__} pad_value",
-            value=pad_value,
-            max_value=255,
-            min_value=0,
-        )
+
+        check_instance(source=ImageMixin.pad_img_stack.__name__, instance=image_dict,accepted_types=(dict,))
+        check_int(name=f"{ImageMixin.pad_img_stack.__name__} pad_value", value=pad_value, max_value=255, min_value=0)
         max_height = max(image.shape[0] for image in image_dict.values())
         max_width = max(image.shape[1] for image in image_dict.values())
         padded_images = {}
         for key, image in image_dict.items():
             pad_height = max_height - image.shape[0]
             pad_width = max_width - image.shape[1]
-            padded_image = np.pad(
-                image,
-                ((0, pad_height), (0, pad_width), (0, 0)),
-                mode="constant",
-                constant_values=pad_value,
-            )
+            padded_image = np.pad(image, ((0, pad_height), (0, pad_width), (0, 0)), mode="constant", constant_values=pad_value)
             padded_images[key] = padded_image
         return padded_images
 
     @staticmethod
-    def img_stack_to_video(
-        imgs: Dict[int, np.ndarray],
-        save_path: Union[str, os.PathLike],
-        fps: int,
-        verbose: Optional[bool] = True,
-    ):
+    def img_stack_to_video(imgs: Dict[int, np.ndarray], save_path: Union[str, os.PathLike], fps: int, verbose: Optional[bool] = True):
         """
         Convert a dictionary of images into a video file.
 
         .. note::
-           The input dict can be greated with ImageMixin().slice_shapes_in_imgs()
+           The input dictionary ``imgs`` can be created with ``simba.mixins.ImageMixin.slice_shapes_in_imgs``.
 
         :param Dict[int, np.ndarray] imgs: A dictionary containing frames of the video, where the keys represent frame indices and the values are numpy arrays representing the images.
         :param Union[str, os.PathLike] save_path: The path to save the output video file.
         :param int fps: Frames per second (FPS) of the output video.
         :param Optional[bool] verbose: If True, prints progress messages. Defaults to True.
         """
 
-        check_instance(
-            source=ImageMixin.img_stack_to_video.__name__,
-            instance=imgs,
-            accepted_types=(dict,),
-        )
+        timer = SimbaTimer(start=True)
+        check_instance(source=ImageMixin.img_stack_to_video.__name__, instance=imgs, accepted_types=(dict,))
         img_sizes = set()
         for k, v in imgs.items():
             img_sizes.add(v.shape)
         if len(list(img_sizes)) > 1:
             imgs = ImageMixin.pad_img_stack(imgs)
         imgs = np.stack(imgs.values())
         fourcc = cv2.VideoWriter_fourcc(*Formats.MP4_CODEC.value)
-        writer = cv2.VideoWriter(
-            save_path, fourcc, fps, (imgs[0].shape[1], imgs[0].shape[0])
-        )
+        writer = cv2.VideoWriter(save_path, fourcc, fps, (imgs[0].shape[1], imgs[0].shape[0]))
         for i in range(imgs.shape[0]):
             if verbose:
-                print(f"Writing img {i + 1}...")
+                print(f"Writing img {i + 1} / {imgs.shape[0]}...")
             writer.write(imgs[i])
         writer.release()
-        stdout_success(msg=f"Video {save_path} complete")
+        timer.stop_timer()
+        stdout_success(msg=f"Video {save_path} complete", elapsed_time=timer.elapsed_time_str)
 
     @staticmethod
-    def _slice_shapes_in_video_file_helper(
-        data: np.ndarray, video_path: Union[str, os.PathLike], verbose: bool
-    ):
+    def _slice_shapes_in_video_file_helper(data: np.ndarray, video_path: Union[str, os.PathLike], verbose: bool):
         cap = cv2.VideoCapture(video_path)
         start_frm, current_frm, end_frm = data[0][0], data[0][0], data[-1][0]
         cap.set(1, start_frm)
         results = {}
         idx_cnt = 0
         while current_frm <= end_frm:
             if verbose:
                 print(f"Processing frame {current_frm}...")
             img = cap.read(current_frm)[1].astype(np.uint8)
             shape = np.array(data[idx_cnt][1].exterior.coords).astype(np.int64)
             shape[shape < 0] = 0
             x, y, w, h = cv2.boundingRect(shape)
             roi_img = img[y : y + h, x : x + w].copy()
             mask = np.zeros_like(roi_img, np.uint8)
-            cv2.drawContours(
-                mask, [shape - (x, y)], -1, (255, 255, 255), -1, cv2.LINE_AA
-            )
+            cv2.drawContours(mask, [shape - (x, y)], -1, (255, 255, 255), -1, cv2.LINE_AA)
             results[current_frm] = cv2.bitwise_and(roi_img, mask).astype(np.uint8)
             current_frm += 1
             idx_cnt += 1
         return results
 
     def slice_shapes_in_imgs(
         self,
@@ -1303,14 +1329,261 @@
         stdout_success(
             msg="Geometry image slicing complete.",
             elapsed_time=timer.elapsed_time_str,
             source=self.__class__.__name__,
         )
         return results
 
+    @staticmethod
+    def structural_similarity_index(img_1: np.ndarray, img_2: np.ndarray) -> float:
+        """
+        Compute the Structural Similarity Index (SSI) between two images.
+
+        The function evaluates the SSI between two input images `img_1` and `img_2`. If the images have different numbers
+        of channels, they are converted to greyscale before computing the SSI. If the images are multi-channel (e.g., RGB),
+        the SSI is computed for each channel.
+
+        .. seealso::
+           ``simba.mixins.image_mixin.ImageMixin.structural_similarity_matrix``
+           ``simba.mixins.image_mixin.ImageMixin.sliding_structural_similarity_index``
+
+        :param np.ndarray img_1: The first input image represented as a NumPy array.
+        :param np.ndarray img_2: The second input image represented as a NumPy array.
+        :return float: The SSI value representing the similarity between the two images.
+        """
+        check_if_valid_img(data=img_1, source=f'{ImageMixin.structural_similarity_index.__name__} img_1')
+        check_if_valid_img(data=img_2, source=f'{ImageMixin.structural_similarity_index.__name__} img_2')
+        multichannel = False
+        if img_1.ndim != img_2.ndim:
+            img_1 = cv2.cvtColor(img_1, cv2.COLOR_BGR2GRAY)
+            img_2 = cv2.cvtColor(img_2, cv2.COLOR_BGR2GRAY)
+        if img_1.ndim > 2: multichannel = True
+        return abs(structural_similarity(im1=img_1.astype(np.uint8), im2=img_2.astype(np.uint8), multichannel=multichannel))
+
+    @staticmethod
+    def sliding_structural_similarity_index(imgs: List[np.ndarray],
+                                            stride: Optional[int] = 1,
+                                            verbose: Optional[bool] = False) -> np.ndarray:
+
+        """
+        Computes the Structural Similarity Index (SSI) between consecutive images in an array with a specified stride.
+
+        The function evaluates the SSI between pairs of images in the input array `imgs` using a sliding window approach
+        with the specified `stride`. The SSI is computed for each pair of images and the results are stored in an output
+        array. If the images are multi-channel (e.g., RGB), the SSI is computed for each channel.
+
+        High SSI values (close to 1) indicate high similarity between images, while low SSI values (close to 0 or negative)
+        indicate low similarity.
+
+        .. seealso::
+           ``simba.mixins.image_mixin.ImageMixin.structural_similarity_matrix``
+           ``simba.mixins.image_mixin.ImageMixin.structural_similarity_index``
+
+        :param np.ndarray imgs: A list of images. Each element in the list is expected to be a numpy array representing an image.
+        :param Optional[int] stride: The number of images to skip between comparisons. Default is 1.
+        :param Optional[bool] verbose: If True, prints progress messages. Default is False.
+        :return np.ndarray: A numpy array containing the SSI values for each pair of images.
+
+        :example:
+        >>> imgs = ImageMixin.read_all_img_in_dir(dir='/Users/simon/Desktop/envs/simba/troubleshooting/RAT_NOR/project_folder/videos/examples/test')
+        >>> imgs = {k: imgs[k] for k in sorted(imgs, key=lambda x: int(x.split('.')[0]))}
+        >>> imgs = list(imgs.values())
+        >>> results = ImageMixin.sliding_structural_similarity_index(imgs=imgs, stride=1, verbose=True)
+        """
+
+        check_valid_lst(data=imgs, valid_dtypes=(np.ndarray,), min_len=2)
+        check_int(name=f'{ImageMixin.sliding_structural_similarity_index.__name__} stride', min_value=1, max_value=len(imgs), value=stride)
+        ndims, multichannel = set(), False
+        for i in imgs:
+            check_if_valid_img(data=i, source=ImageMixin.sliding_structural_similarity_index.__name__)
+            ndims.add(i.ndim)
+        if len(list(ndims)) > 1:
+            imgs = ImageMixin.img_stack_to_greyscale(imgs=imgs)
+        if imgs[0].ndim > 2: multichannel = True
+        results = np.zeros((len(imgs)), np.float32)
+        for cnt, i in enumerate(range(stride, len(imgs))):
+            img_1, img_2 = imgs[i - stride], imgs[i]
+            results[i] = structural_similarity(im1=img_1, im2=img_2, multichannel=multichannel)
+            if verbose:
+                print(f'SSI computed ({cnt + 1}/{len(imgs) - stride})')
+        return results
+
+    @staticmethod
+    def structural_similarity_matrix(imgs: List[np.array], verbose: Optional[bool] = False) -> np.array:
+        """
+        Computes a matrix of Structural Similarity Index (SSI) values for a list of images.
+
+        This function takes a list of images and computes the SSI between each pair of images and produce a symmetric matrix.
+
+        .. seealso::
+           ``simba.mixins.image_mixin.ImageMixin.sliding_structural_similarity_index``
+           ``simba.mixins.image_mixin.ImageMixin.structural_similarity_index``
+
+
+        :param List[np.array] imgs: A list of images represented as numpy arrays. If not all images are greyscale or color, they are converted and processed as greyscale.
+        :param Optional[bool] verbose: If True, prints progress messages showing which SSI values have been computed.  Default is False.
+        :return np.array: A square numpy array where the element at [i, j] represents the SSI between imgs[i] and imgs[j].
+
+        :example:
+        >>> imgs = ImageMixin.read_all_img_in_dir(dir='/Users/simon/Desktop/envs/simba/troubleshooting/RAT_NOR/project_folder/videos/examples/test')
+        >>> imgs = {k: imgs[k] for k in sorted(imgs, key=lambda x: int(x.split('.')[0]))}
+        >>> imgs = list(imgs.values())[0:10]
+        >>> results = ImageMixin.structural_similarity_matrix(imgs=imgs)
+        """
+
+        check_valid_lst(data=imgs, valid_dtypes=(np.ndarray,), min_len=2)
+        ndims, multichannel = set(), False
+        for i in imgs:
+            check_if_valid_img(data=i, source=ImageMixin.structural_similarity_matrix.__name__)
+            ndims.add(i.ndim)
+        if len(list(ndims)) > 1:
+            imgs = ImageMixin.img_stack_to_greyscale(imgs=imgs)
+        if imgs[0].ndim > 2: multichannel = True
+        results = np.ones((len(imgs), len(imgs)), np.float32)
+        for i in range(len(imgs)):
+            for j in range(i + 1, len(imgs)):
+                if verbose:
+                    print(f'SSI matrix position ({i}, {j}) complete...')
+                val = structural_similarity(im1=imgs[i], im2=imgs[j], multichannel=multichannel)
+                results[i, j] = val
+                results[j, i] = val
+        return results
+
+    @staticmethod
+    @njit(["(uint8[:, :], uint8[:, :])",
+           "(uint8[:, :, :], uint8[:, :, :])"])
+    def cross_correlation_similarity(img_1: np.ndarray, img_2: np.ndarray) -> float:
+        """
+        Computes the Normalized Cross-Correlation (NCC) similarity between two images.
+
+        The NCC measures the similarity between two images by calculating the correlation
+        coefficient of their pixel values. The output value ranges from -1 to 1, where 1 indicates perfect positive correlation, 0 indicates no correlation, and -1 indicates perfect negative correlation.
+
+        :param np.ndarray img_1: The first input image. It can be a 2D grayscale image or a 3D color image.
+        :param np.ndarray img_2:  The second input image. It must have the same dimensions as img_1.
+        :return float: The NCC value representing the similarity between the two images. Returns 0.0 if the denominator is zero, indicating no similarity.
+
+        :example:
+        >>> img_1 = cv2.imread('/Users/simon/Desktop/envs/simba/troubleshooting/RAT_NOR/project_folder/videos/examples/a.png').astype(np.uint8)
+        >>> img_2 = cv2.imread('/Users/simon/Desktop/envs/simba/troubleshooting/RAT_NOR/project_folder/videos/examples/f.png').astype(np.uint8)
+        >>> ImageMixin.cross_correlation_similarity(img_1=img_1, img_2=img_2)
+        """
+
+        img1_flat = img_1.flatten()
+        img2_flat = img_2.flatten()
+        mean_1, mean_2 = np.mean(img1_flat), np.mean(img2_flat)
+        N = np.sum((img1_flat - mean_1) * (img2_flat - mean_2))
+        D = np.sqrt(np.sum((img1_flat - mean_1) ** 2) * np.sum((img2_flat - mean_2) ** 2))
+        if D == 0:
+            return 0.0
+        else:
+            return N / D
+
+    @staticmethod
+    @njit(["(uint8[:, :, :], int64)",
+           "(uint8[:, :, :, :], int64)"])
+    def sliding_cross_correlation_similarity(imgs: np.ndarray,
+                                             stride: int) -> np.ndarray:
+        """
+        Computes the Normalized Cross-Correlation (NCC) similarity for a sequence of images using a sliding window approach.
+
+        This function calculates the NCC between each image and the image that is `stride` positions before it in the sequence. The result is an array of NCC values representing
+        the similarity between successive images.
+
+        .. seealso::
+           ``simba.mixins.image_mixin.ImageMixin.cross_correlation_similarity``
+           ``simba.mixins.image_mixin.ImageMixin.cross_correlation_matrix``
+
+        :param np.ndarray imgs: A 3D array (for grayscale images) or a 4D array (for color images) containing the sequence of images.  Each image should have the same size.
+        :param int stride: The stride length for comparing images. Determines how many steps back in the sequence each image is compared to.
+        :return np.ndarray: A 1D array of NCC values representing the similarity between each image and the image `stride` positions before it. The length of the array is the same as the number of images.
+
+        :example:
+        >>> imgs = ImageMixin.read_all_img_in_dir(dir='/Users/simon/Desktop/envs/simba/troubleshooting/RAT_NOR/project_folder/videos/08102021_DOT_Rat11_12_frames')
+        >>> imgs = {k: imgs[k] for k in sorted(imgs, key=lambda x: int(x.split('.')[0]))}
+        >>> imgs = np.stack(list(imgs.values()))
+        >>> results = ImageMixin.sliding_cross_correlation_similarity(imgs=imgs, stride=1)
+        """
+        results = np.ones((imgs.shape[0]), dtype=np.float32)
+        for i in prange(stride, imgs.shape[0]):
+            img1_flat, img2_flat = imgs[i - stride].flatten(), imgs[i].flatten()
+            mean_1, mean_2 = np.mean(img1_flat), np.mean(img2_flat)
+            N = np.sum((img1_flat - mean_1) * (img2_flat - mean_2))
+            D = np.sqrt(np.sum((img1_flat - mean_1) ** 2) * np.sum((img2_flat - mean_2) ** 2))
+            if D == 0:
+                results[i] = 0.0
+            else:
+                results[i] = N / D
+        return results
+
+    @staticmethod
+    @njit(["(uint8[:, :, :],)",
+           "(uint8[:, :, :, :],)"])
+    def cross_correlation_matrix(imgs: np.array) -> np.array:
+        """
+        Computes the cross-correlation matrix for a given array of images.
+
+        This function calculates the cross-correlation coefficient between each pair of images in the input array.
+        The cross-correlation coefficient is a measure of similarity between two images, with values ranging from
+        -1 (completely dissimilar) to 1 (identical).
+
+        The function uses the `numba` library for Just-In-Time (JIT) compilation to optimize performance, and
+        `prange` for parallel execution over the image pairs.
+
+        .. seealso::
+           ``simba.mixins.image_mixin.ImageMixin.cross_correlation_similarity``
+           ``simba.mixins.image_mixin.ImageMixin.sliding_cross_correlation_similarity``
+
+        .. note::
+           Use greyscale images for faster runtime. Ideally should be move dto GPU.
+
+
+        :param np.array imgs: A 3D (or 4D) numpy array of images where the first dimension indexes the images,
+                              and the remaining dimensions are the image dimensions (height, width, [channels]).
+                              - For grayscale images: shape should be (n_images, height, width)
+                              - For color images: shape should be (n_images, height, width, channels)
+
+        :return np.array: A 2D numpy array representing the cross-correlation matrix, where the element at [i, j]
+                          contains the cross-correlation coefficient between the i-th and j-th images.
+
+        :example:
+        >>> imgs = ImageMixin.read_all_img_in_dir(dir='/Users/simon/Desktop/envs/simba/troubleshooting/RAT_NOR/project_folder/videos/examples/test')
+        >>> imgs = ImageMixin.read_all_img_in_dir(dir='/Users/simon/Desktop/envs/simba/troubleshooting/RAT_NOR/project_folder/videos/08102021_DOT_Rat11_12_frames')
+        >>> imgs = {k: imgs[k] for k in sorted(imgs, key=lambda x: int(x.split('.')[0]))}
+        >>> imgs = np.stack(list(imgs.values()))
+        >>> imgs = ImageMixin.img_stack_to_greyscale(imgs=imgs)
+        >>> results = ImageMixin.cross_correlation_matrix(imgs=imgs)
+        """
+
+        results = np.ones((imgs.shape[0], imgs.shape[0]), dtype=np.float32)
+        for i in prange(imgs.shape[0]):
+            img1_flat = imgs[i].flatten()
+            mean_1 = np.mean(img1_flat)
+            for j in range(i + 1, imgs.shape[0]):
+                img2_flat = imgs[j].flatten()
+                mean_2 = np.mean(img2_flat)
+                N = np.sum((img1_flat - mean_1) * (img2_flat - mean_2))
+                D = np.sqrt(np.sum((img1_flat - mean_1) ** 2) * np.sum((img2_flat - mean_2) ** 2))
+                if D == 0:
+                    val = 0.0
+                else:
+                    val = N / D
+                results[i, j] = val
+                results[j, i] = val
+        return results
+
+# imgs = ImageMixin().read_all_img_in_dir(dir='/Users/simon/Desktop/envs/simba/troubleshooting/RAT_NOR/project_folder/videos/examples')
+# imgs = np.stack(imgs.values())
+# mse = ImageMixin().img_sliding_mse(imgs=imgs, slide_size=2)
+
+
+# img_1 = cv2.imread('/Users/simon/Desktop/envs/simba/troubleshooting/RAT_NOR/project_folder/videos/examples/.png', 0).astype(np.float32)
+# img_2 = cv2.imread('/Users/simon/Desktop/envs/simba/troubleshooting/RAT_NOR/project_folder/videos/examples/4.png', 0).astype(np.float32)
+# ImageMixin.img_emd(img_1=img_1, img_2=img_2, lower_bound=0.5, verbose=True)
+
     #
     # def segment_img_horizontal(img: np.ndarray, pct: int, lower: Optional[bool] = True,
     #                            both: Optional[bool] = False
 
 
 # img = cv2.imread('/Users/simon/Desktop/test.png')
 # img = ImageMixin.segment_img_vertical(img=img, pct=20, both=True)
@@ -1318,15 +1591,17 @@
 # cv2.waitKey(5000)
 
 
 # bw_img = ImageMixin.img_to_bw(img=img, invert=False)
 # cv2.imshow('sdsdf', bw_img)
 # cv2.waitKey(5000)
 
-# imgs = ImageMixin().read_img_batch_from_video( video_path='/Users/simon/Desktop/envs/troubleshooting/Emergence/project_folder/videos/Example_1.mp4', start_frm=0, end_frm=10)
+
+
+
 # imgs = np.stack(list(imgs.values()))
 # imgs_gray = ImageMixin().img_stack_to_greyscale(imgs=imgs)
 # data = pd.read_csv('/Users/simon/Desktop/envs/troubleshooting/Emergence/project_folder/csv/outlier_corrected_movement_location/Example_1.csv', nrows=11).fillna(-1)
 # nose_array, tail_array = data.loc[0:10, ['Nose_x', 'Nose_y']].values.astype(np.float32), data.loc[0:10, ['Tail_base_x', 'Tail_base_y']].values.astype(np.float32)
 # nose_shapes, tail_shapes = [], []
 # from simba.mixins.geometry_mixin import GeometryMixin
 # for frm_data in nose_array: nose_shapes.append(GeometryMixin().bodyparts_to_circle(frm_data, 80))
@@ -1378,7 +1653,20 @@
 # ImageMixin.slice_shapes_in_img(img=(img, 1))
 
 
 # img_1 = cv2.imread('/Users/simon/Desktop/envs/troubleshooting/khan/project_folder/videos/stitched_frames/0.png').astype(np.uint8)
 # img_2 = cv2.imread('/Users/simon/Desktop/envs/troubleshooting/khan/project_folder/videos/stitched_frames/1.png').astype(np.uint8)
 # ImageMixin.get_contourmatch(img_1=img_1, img_2=img_2, method='all', canny=True)
 #
+
+#
+# from simba.utils.data import create_color_palette
+# clrs = create_color_palette(pallete_name='inferno', increments=4, as_int=True)
+# imgs_stack = np.full((5, 10, 10, 3), -1)
+# for cnt, i in enumerate(clrs): imgs_stack[cnt] = ImageMixin.create_uniform_img(size=(10, 10), color=tuple(i))
+#
+#
+#
+#
+#
+# ImageMixin.img_matrix_mse(imgs=imgs_stack)
+
```

### Comparing `Simba-UW-tf-dev-1.94.4/simba/mixins/unsupervised_mixin.py` & `Simba-UW-tf-dev-1.94.5/simba/mixins/unsupervised_mixin.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/mixins/train_model_mixin.py` & `Simba-UW-tf-dev-1.94.5/simba/mixins/train_model_mixin.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/mixins/geometry_mixin.py` & `Simba-UW-tf-dev-1.94.5/simba/mixins/geometry_mixin.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/mixins/feature_extraction_circular_mixin.py` & `Simba-UW-tf-dev-1.94.5/simba/mixins/feature_extraction_circular_mixin.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/deepethogram_importer.py` & `Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/deepethogram_importer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/BORIS_appender.py` & `Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/BORIS_appender.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/observer_importer.py` & `Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/observer_importer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/.DS_Store` & `Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/.DS_Store`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/boris_source_cleaner.py` & `Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/boris_source_cleaner.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/tools.py` & `Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/tools.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/third_party_appender.py` & `Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/third_party_appender.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/ethovision_import.py` & `Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/ethovision_import.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/BENTO_appender.py` & `Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/BENTO_appender.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/third_party_label_appenders/solomon_importer.py` & `Simba-UW-tf-dev-1.94.5/simba/third_party_label_appenders/solomon_importer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/cue_light_tools/cue_light_clf_statistics.py` & `Simba-UW-tf-dev-1.94.5/simba/cue_light_tools/cue_light_clf_statistics.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/cue_light_tools/cue_light_analyzer.py` & `Simba-UW-tf-dev-1.94.5/simba/cue_light_tools/cue_light_analyzer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/cue_light_tools/cue_light_menues.py` & `Simba-UW-tf-dev-1.94.5/simba/cue_light_tools/cue_light_menues.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/cue_light_tools/cue_light_tools.py` & `Simba-UW-tf-dev-1.94.5/simba/cue_light_tools/cue_light_tools.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/cue_light_tools/cue_light_visualizer.py` & `Simba-UW-tf-dev-1.94.5/simba/cue_light_tools/cue_light_visualizer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/cue_light_tools/cue_light_movement_statistics.py` & `Simba-UW-tf-dev-1.94.5/simba/cue_light_tools/cue_light_movement_statistics.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/utils/config_creator.py` & `Simba-UW-tf-dev-1.94.5/simba/utils/config_creator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/utils/enums.py` & `Simba-UW-tf-dev-1.94.5/simba/utils/enums.py`

 * *Files 1% similar despite different names*

```diff
@@ -115,14 +115,15 @@
     CRITICAL_VALUES = Path("simba/assets/lookups/critical_values_05.pickle")
 
 
 class Formats(Enum):
     MP4_CODEC = "mp4v"
     AVI_CODEC = "XVID"
     BATCH_CODEC = "libx264"
+    NUMERIC_DTYPES = (np.float32, np.float64, np.int64, np.int32, np.int8, np.int, np.float, int, float)
     LABELFRAME_HEADER_FORMAT = ("Helvetica", 12, "bold")
     LABELFRAME_HEADER_CLICKABLE_FORMAT = ("Helvetica", 12, "bold", "underline")
     LABELFRAME_HEADER_CLICKABLE_COLOR = f"#{5:02x}{99:02x}{193:02x}"
     CSV = "csv"
     PARQUET = "parquet"
     PICKLE = "pickle"
     XLXS = "xlsx"
```

### Comparing `Simba-UW-tf-dev-1.94.4/simba/utils/custom_feature_extractor.py` & `Simba-UW-tf-dev-1.94.5/simba/utils/custom_feature_extractor.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/utils/.DS_Store` & `Simba-UW-tf-dev-1.94.5/simba/utils/.DS_Store`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/utils/warnings.py` & `Simba-UW-tf-dev-1.94.5/simba/utils/warnings.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/utils/checks.py` & `Simba-UW-tf-dev-1.94.5/simba/utils/checks.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/utils/read_write.py` & `Simba-UW-tf-dev-1.94.5/simba/utils/read_write.py`

 * *Files 0% similar despite different names*

```diff
@@ -1344,17 +1344,15 @@
         else:
             if not symlink:
                 shutil.copy(file_path, dest1)
             else:
                 try:
                     os.symlink(file_path, dest1)
                 except OSError:
-                    raise PermissionError(
-                        msg="Symbolic link privilege not held. Try running SimBA in terminal opened in admin mode"
-                    )
+                    raise PermissionError(msg="Symbolic link privilege not held. Try running SimBA in terminal opened in admin mode")
             timer.stop_timer()
             if not symlink:
                 print(
                     f"{filebasename} copied to project (Video {file_cnt + 1}/{len(video_path_lst)}, elapsed timer {timer.elapsed_time_str}s)..."
                 )
             else:
                 print(
```

### Comparing `Simba-UW-tf-dev-1.94.4/simba/utils/lookups.py` & `Simba-UW-tf-dev-1.94.5/simba/utils/lookups.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/utils/cli/cli_tools.py` & `Simba-UW-tf-dev-1.94.5/simba/utils/cli/cli_tools.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/utils/errors.py` & `Simba-UW-tf-dev-1.94.5/simba/utils/errors.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/utils/data.py` & `Simba-UW-tf-dev-1.94.5/simba/utils/data.py`

 * *Files 2% similar despite different names*

```diff
@@ -27,15 +27,15 @@
                                 check_if_dir_exists,
                                 check_if_keys_exist_in_dict,
                                 check_if_module_has_import,
                                 check_if_string_value_is_valid_video_timestamp,
                                 check_instance, check_int, check_str,
                                 check_that_column_exist,
                                 check_that_hhmmss_start_is_before_end,
-                                check_valid_array, check_valid_dataframe)
+                                check_valid_array, check_valid_dataframe, check_if_valid_rgb_tuple)
 from simba.utils.enums import ConfigKey, Dtypes, Keys, Options
 from simba.utils.errors import (BodypartColumnNotFoundError, CountError,
                                 InvalidFileTypeError, InvalidInputError,
                                 NoFilesFoundError)
 from simba.utils.printing import stdout_success, stdout_warning
 from simba.utils.read_write import (find_video_of_file, get_fn_ext,
                                     get_video_meta_data, read_config_entry,
@@ -291,27 +291,27 @@
             rgb = [i * 255 for i in rgb]
             rgb.reverse()
             currColorList.append(rgb)
         colorListofList.append(currColorList)
     return colorListofList
 
 
-def create_color_palette(
-    pallete_name: str,
-    increments: int,
-    as_rgb_ratio: Optional[bool] = False,
-    as_hex: Optional[bool] = False,
-) -> list:
+def create_color_palette(pallete_name: str,
+                         increments: int,
+                         as_rgb_ratio: Optional[bool] = False,
+                         as_hex: Optional[bool] = False,
+                         as_int: Optional[bool] = False) -> List[Union[str, float]]:
     """
     Create a list of colors in RGB from specified color palette.
 
     :param str pallete_name: Palette name (e.g., ``jet``)
     :param int increments: Numbers of colors in the color palette to create.
     :param Optional[bool] as_rgb_ratio: Return RGB to ratios. Default: False
     :param Optional[bool] as_hex: Return values as HEX. Default: False
+    :param Optional[bool] as_int: Return RGB values as integers rather than float if possible. Default: False
 
     .. note::
        If **both** as_rgb_ratio and as_hex, HEX values will be returned.
 
     :return list: Color palette values.
 
     :example:
@@ -326,21 +326,51 @@
         as_rgb_ratio = True
     cmap = cm.get_cmap(pallete_name, increments + 1)
     color_lst = []
     for i in range(cmap.N):
         rgb = list((cmap(i)[:3]))
         if not as_rgb_ratio:
             rgb = [i * 255 for i in rgb]
+            if as_int:
+                rgb = [int(x) for x in rgb]
         rgb.reverse()
         if as_hex:
             rgb = matplotlib.colors.to_hex(rgb)
         color_lst.append(rgb)
     return color_lst
 
 
+def interpolate_color_palette(start_color: Tuple[int, int, int],
+                              end_color: Tuple[int, int, int],
+                              n: Optional[int] = 10):
+    """
+    Generate a list of colors interpolated between two passed RGB colors.
+
+    :param start_color: Tuple of RGB values for the start color.
+    :param end_color: Tuple of RGB values for the end color.
+    :param n: Number of colors to generate.
+    :return: List of interpolated RGB colors.
+
+    :example:
+    >>> red, black = (255, 0, 0), (0, 0, 0)
+    >>> colors = interpolate_color_palette(start_color=red, end_color=black, n = 10)
+    """
+
+    check_if_valid_rgb_tuple(data=start_color)
+    check_if_valid_rgb_tuple(data=end_color)
+    check_int(name=f'{interpolate_color_palette.__name__} n', value=n, min_value=3)
+    return [(
+        int(start_color[0] + (end_color[0] - start_color[0]) * i / (n - 1)),
+        int(start_color[1] + (end_color[1] - start_color[1]) * i / (n - 1)),
+        int(start_color[2] + (end_color[2] - start_color[2]) * i / (n - 1))
+    ) for i in range(n)]
+
+
+
+
 def smooth_data_savitzky_golay(
     config: configparser.ConfigParser,
     file_path: Union[str, os.PathLike],
     time_window_parameter: int,
     overwrite: Optional[bool] = True,
 ) -> None:
     """
```

### Comparing `Simba-UW-tf-dev-1.94.4/simba/utils/printing.py` & `Simba-UW-tf-dev-1.94.5/simba/utils/printing.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/SimBA_logo.ico` & `Simba-UW-tf-dev-1.94.5/simba/SimBA_logo.ico`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_processors/reorganize_keypoint.py` & `Simba-UW-tf-dev-1.94.5/simba/pose_processors/reorganize_keypoint.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_processors/remove_keypoints.py` & `Simba-UW-tf-dev-1.94.5/simba/pose_processors/remove_keypoints.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_processors/pose_reset.py` & `Simba-UW-tf-dev-1.94.5/simba/pose_processors/pose_reset.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_processors/reverse_pose.py` & `Simba-UW-tf-dev-1.94.5/simba/pose_processors/reverse_pose.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/doctests.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/doctests.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/fish_feature_extractor_2023_version_3.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/fish_feature_extractor_2023_version_3.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/CLAHE.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/CLAHE.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/dprime.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/dprime.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/ffmpeg_progress_bar.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/ffmpeg_progress_bar.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/linear_fretchet.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/linear_fretchet.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/read_in_mp.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/read_in_mp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/piotr_120324 3.py.zip` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/piotr_120324 3.py.zip`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/dunn_index.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/dunn_index.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/reverse_videos.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/reverse_videos.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/superimpose_text.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/superimpose_text.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/hausdorff.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/hausdorff.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/peaks.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/peaks.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/fish_feature_extractor_2022.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/fish_feature_extractor_2022.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/colinear_features.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/colinear_features.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/spontaneous_alternation_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/spontaneous_alternation_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/horizontal_videos_concat.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/horizontal_videos_concat.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/convex_hull_3_scratch_3.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/convex_hull_3_scratch_3.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/silhouette_score.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/silhouette_score.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/two_fish_feature_extractor_040924.py.zip` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/two_fish_feature_extractor_040924.py.zip`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/cuda_jit.ipynb` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/cuda_jit.ipynb`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/convex_hull_scratch_1.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/convex_hull_scratch_1.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/directed_hausdorff.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/directed_hausdorff.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/average_frm_popup.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/average_frm_popup.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/shannon_diversity_index.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/shannon_diversity_index.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/sequential_lag_analysis.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/sequential_lag_analysis.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/wilcoxon.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/wilcoxon.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/ROI_plotter_mp.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/ROI_plotter_mp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/.DS_Store` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/.DS_Store`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/detect_scene_changes.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/detect_scene_changes.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/data.npy` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/data.npy`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/distances.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/distances.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/fish_feature_extractor_2023_version_2.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/fish_feature_extractor_2023_version_2.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/cohens_kappa.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/cohens_kappa.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/watermark.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/watermark.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/paths.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/paths.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/outliers_tietjen.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/outliers_tietjen.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/train_model.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/train_model.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/img_stack_to_bw.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/img_stack_to_bw.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/amber_tests.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/amber_tests.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/line_locate_point.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/line_locate_point.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/sorensen_dice_coefficient.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/sorensen_dice_coefficient.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/multifrm_to_points.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/multifrm_to_points.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/clean_sleap_filename.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/clean_sleap_filename.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/two_fish_feature_extractor_040924.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/two_fish_feature_extractor_040924.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/ez_path_plot.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/ez_path_plot.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/egocentrical_aligner.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/egocentrical_aligner.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/downsample_video_popup.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/downsample_video_popup.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/add_body_part.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/add_body_part.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/grubbs_test.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/grubbs_test.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/slide_circ_mean.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/slide_circ_mean.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/calinski_harabasz.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/calinski_harabasz.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/roi_feature_visualizer_example.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/roi_feature_visualizer_example.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/spontaneuous_alternation_plotter.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/spontaneuous_alternation_plotter.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/runs_test.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/runs_test.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/pct_counts_in_top_N.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/pct_counts_in_top_N.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/concordance_ratio.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/concordance_ratio.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/total_variation_distance.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/total_variation_distance.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/crop_single_polygon.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/crop_single_polygon.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/ROI_analyzer.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/ROI_analyzer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/joint_plotter.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/joint_plotter.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/segment_image_horizontal.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/segment_image_horizontal.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/clip_multiple_videos_by_frame_numbers.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/clip_multiple_videos_by_frame_numbers.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/elliptic_envelope.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/elliptic_envelope.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/roi_definition_csvs_to_h5.py.zip` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/roi_definition_csvs_to_h5.py.zip`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/add_body_part.py.zip` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/add_body_part.py.zip`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/roi_feature_visualizer_example.py.zip` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/roi_feature_visualizer_example.py.zip`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/sliding_crosscorrelation.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/sliding_crosscorrelation.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/count_values_in_range.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/count_values_in_range.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/roi_definition_csvs_to_h5.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/roi_definition_csvs_to_h5.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/distance_velocity.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/distance_velocity.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/graph_creator.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/graph_creator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/line_plot_plotly.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/line_plot_plotly.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/crossfade.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/crossfade.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/shift_geometries.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/shift_geometries.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/termite_rois.csv` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/termite_rois.csv`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/convert_to_bw.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/convert_to_bw.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/downsample_multiple_videos_popup.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/downsample_multiple_videos_popup.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/unsupervised_lof.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/unsupervised_lof.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/siegel_tukey.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/siegel_tukey.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/berger_parker.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/berger_parker.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/isolation_forest.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/isolation_forest.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/davis_bouldin.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/davis_bouldin.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/vertical_video_concatenator.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/vertical_video_concatenator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/batch_video_to_greyscale.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/batch_video_to_greyscale.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/crop_circles_pop_up.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/crop_circles_pop_up.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/heading.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/heading.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/piotr_120324 2.py.zip` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/piotr_120324 2.py.zip`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/mutual_exclusive.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/mutual_exclusive.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/mahalanobis.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/mahalanobis.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/superpixels.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/superpixels.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/img_conv.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/img_conv.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/grangercausalitytests.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/grangercausalitytests.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/multiframe_is_shape_covered.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/multiframe_is_shape_covered.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/redis.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/redis.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/video_color.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/video_color.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/graph_3d_plotter.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/graph_3d_plotter.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/blurbox.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/blurbox.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/piotr_120324.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/piotr_120324.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/video_rotator.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/video_rotator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/superimpose_frame_count.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/superimpose_frame_count.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/inset_overlay_video.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/inset_overlay_video.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/hartley_fmax.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/hartley_fmax.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/superimpose_frm_cnt.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/superimpose_frm_cnt.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/fix_clahe.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/fix_clahe.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/cochran_q.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/cochran_q.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/increase_fps.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/increase_fps.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/menhinicks_index.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/menhinicks_index.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/add_probability_cnt_features.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/add_probability_cnt_features.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/brillouins_index.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/brillouins_index.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/spontanous_alternations.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/spontanous_alternations.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/eta_squared.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/eta_squared.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/piotr_120324.py.zip` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/piotr_120324.py.zip`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/convert_to_mp4.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/convert_to_mp4.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/velocity_aggregator.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/velocity_aggregator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/make_splash.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/make_splash.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/change_img_file_format.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/change_img_file_format.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/abod.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/abod.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/fish_feature_extractor_2023_version_5.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/fish_feature_extractor_2023_version_5.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/violin.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/violin.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/bg_remover_popup.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/bg_remover_popup.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/bg_substraction.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/bg_substraction.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/simpson_diversity_index.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/simpson_diversity_index.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/clip_videos_by_frm.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/clip_videos_by_frm.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/fleiss_kappa.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/fleiss_kappa.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/piotr_120324 4.py.zip` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/piotr_120324 4.py.zip`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/convert_to_popup.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/convert_to_popup.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/rotate image.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/rotate image.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/jaccard_distance.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/jaccard_distance.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/geometry_ex.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/geometry_ex.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/time_stamp_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/time_stamp_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/line_plot.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/line_plot.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/video_rotator_mp.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/video_rotator_mp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/unsupervised_outliers.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/unsupervised_outliers.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/manhattan_distance.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/manhattan_distance.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/statistics_ex.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/statistics_ex.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/ROI_plotter.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/ROI_plotter.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/rotate.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/rotate.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/sliding_displacement.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/sliding_displacement.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/path_plots.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/path_plots.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/seekable.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/seekable.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/superimpose_popups.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/superimpose_popups.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/superimpose_elapsed_time.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/superimpose_elapsed_time.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/wald_wolfowitz.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/wald_wolfowitz.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/relative_risk.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/relative_risk.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/sliding_autoc.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/sliding_autoc.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/linestring_path.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/linestring_path.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/cronbach_alpha.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/cronbach_alpha.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/mcnamar.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/mcnamar.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/contrast.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/contrast.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/fish_feature_extractor_2023_version_4.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/fish_feature_extractor_2023_version_4.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/AmberFeatureExtractor.py.zip` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/AmberFeatureExtractor.py.zip`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/youden_j.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/youden_j.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/reverse_popup.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/reverse_popup.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/mosaic.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/mosaic.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/amber_featurizer.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/amber_featurizer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/make_path_plot.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/make_path_plot.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/margalef_diversification_index.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/margalef_diversification_index.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/biweight_midcorrelation.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/biweight_midcorrelation.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/madmedianrule.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/madmedianrule.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/adjusted_rand_score.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/adjusted_rand_score.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/convex_hull_scratch_2.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/convex_hull_scratch_2.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/plotly_gantt.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/plotly_gantt.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/sandbox/create_gif.py` & `Simba-UW-tf-dev-1.94.5/simba/sandbox/create_gif.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/directing_animals_to_bodypart_visualizer.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/directing_animals_to_bodypart_visualizer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/gantt_creator.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/gantt_creator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/tools/tkinter_tools.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/tools/tkinter_tools.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/ROI_plotter_mp.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/ROI_plotter_mp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/.DS_Store` & `Simba-UW-tf-dev-1.94.5/simba/plotting/.DS_Store`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/shap_agg_stats_visualizer.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/shap_agg_stats_visualizer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/gantt_creator_mp.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/gantt_creator_mp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/heat_mapper_clf_mp.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/heat_mapper_clf_mp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/probability_plot_creator.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/probability_plot_creator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/circular_plotting.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/circular_plotting.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/plot_clf_results.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/plot_clf_results.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/ez_path_plot.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/ez_path_plot.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/plot_clf_results_mp.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/plot_clf_results_mp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/ROI_feature_visualizer.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/ROI_feature_visualizer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/heat_mapper_location.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/heat_mapper_location.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/probability_plot_creator_mp.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/probability_plot_creator_mp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/interactive_probability_grapher.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/interactive_probability_grapher.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/plot_pose_in_dir.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/plot_pose_in_dir.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/single_run_model_validation_video.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/single_run_model_validation_video.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/frame_mergerer_ffmpeg.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/frame_mergerer_ffmpeg.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/pose_plotter_mp.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/pose_plotter_mp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/directing_animals_visualizer_mp.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/directing_animals_visualizer_mp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/clf_validator.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/clf_validator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/path_plotter_mp.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/path_plotter_mp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/ROI_feature_visualizer_mp.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/ROI_feature_visualizer_mp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/data_plotter.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/data_plotter.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/spontaneous_alternation_plotter.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/spontaneous_alternation_plotter.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/path_plotter.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/path_plotter.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/distance_plotter_mp.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/distance_plotter_mp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/ROI_plotter.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/ROI_plotter.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/geometry_plotter.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/geometry_plotter.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/clf_validator_mp.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/clf_validator_mp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/heat_mapper_clf.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/heat_mapper_clf.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/distance_plotter.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/distance_plotter.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/single_run_model_validation_video_mp.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/single_run_model_validation_video_mp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/directing_animals_visualizer.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/directing_animals_visualizer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/circular_feature_overlay_plotter.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/circular_feature_overlay_plotter.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/plotting/heat_mapper_location_mp.py` & `Simba-UW-tf-dev-1.94.5/simba/plotting/heat_mapper_location_mp.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/dash_app/SimBA_dash_app.py` & `Simba-UW-tf-dev-1.94.5/simba/dash_app/SimBA_dash_app.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/dash_app/run_dash_tkinter.py` & `Simba-UW-tf-dev-1.94.5/simba/dash_app/run_dash_tkinter.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/dash_app/dash_app.py` & `Simba-UW-tf-dev-1.94.5/simba/dash_app/dash_app.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/spontaneous_alternation_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/spontaneous_alternation_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/agg_clf_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/agg_clf_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/.DS_Store` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/.DS_Store`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/severity_bout_based_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/severity_bout_based_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/interpolation_smoothing.py` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/interpolation_smoothing.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/directing_animal_to_bodypart.py` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/directing_animal_to_bodypart.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/timebins_clf_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/timebins_clf_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/fsttc_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/fsttc_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/boolean_conditional_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/boolean_conditional_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/interpolate_pose.py` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/interpolate_pose.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/directing_other_animals_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/directing_other_animals_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/gibbs_sampler.py` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/gibbs_sampler.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/timebins_movement_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/timebins_movement_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/severity_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/severity_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/pup_retrieval_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/pup_retrieval_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/pybursts_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/pybursts_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/severity_frame_based_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/severity_frame_based_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/mutual_exclusivity_corrector.py` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/mutual_exclusivity_corrector.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/kleinberg_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/kleinberg_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/data_processors/movement_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/data_processors/movement_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/model/train_rf.py` & `Simba-UW-tf-dev-1.94.5/simba/model/train_rf.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/model/inference_batch.py` & `Simba-UW-tf-dev-1.94.5/simba/model/inference_batch.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/model/train_multiclass_rf.py` & `Simba-UW-tf-dev-1.94.5/simba/model/train_multiclass_rf.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/model/inference_multiclass_batch.py` & `Simba-UW-tf-dev-1.94.5/simba/model/inference_multiclass_batch.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/model/grid_search_multiclass_rf.py` & `Simba-UW-tf-dev-1.94.5/simba/model/grid_search_multiclass_rf.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/model/grid_search_rf.py` & `Simba-UW-tf-dev-1.94.5/simba/model/grid_search_rf.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/model/inference_validation.py` & `Simba-UW-tf-dev-1.94.5/simba/model/inference_validation.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/model/train_multilabel_rf.py` & `Simba-UW-tf-dev-1.94.5/simba/model/train_multilabel_rf.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_time_bin_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_time_bin_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/roi_tools/.DS_Store` & `Simba-UW-tf-dev-1.94.5/simba/roi_tools/.DS_Store`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_define.py` & `Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_define.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_reset.py` & `Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_reset.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_size_standardizer.py` & `Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_size_standardizer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_analyzer.py` & `Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_analyzer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_feature_analyzer.py` & `Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_feature_analyzer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_multiply.py` & `Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_multiply.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_size_calculations.py` & `Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_size_calculations.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_zoom.py` & `Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_zoom.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_directing_analyzer.py` & `Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_directing_analyzer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_move_shape.py` & `Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_move_shape.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_menus.py` & `Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_menus.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_clf_calculator.py` & `Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_clf_calculator.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/roi_tools/ROI_image.py` & `Simba-UW-tf-dev-1.94.5/simba/roi_tools/ROI_image.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_importers/sleap_csv_importer.py` & `Simba-UW-tf-dev-1.94.5/simba/pose_importers/sleap_csv_importer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_importers/misc/apt_trk_importer.py` & `Simba-UW-tf-dev-1.94.5/simba/pose_importers/misc/apt_trk_importer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_importers/read_DANNCE_mat.py` & `Simba-UW-tf-dev-1.94.5/simba/pose_importers/read_DANNCE_mat.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_importers/.DS_Store` & `Simba-UW-tf-dev-1.94.5/simba/pose_importers/.DS_Store`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_importers/sleap_h5_importer.py` & `Simba-UW-tf-dev-1.94.5/simba/pose_importers/sleap_h5_importer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_importers/madlc_importer.py` & `Simba-UW-tf-dev-1.94.5/simba/pose_importers/madlc_importer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_importers/sleap_slp_importer.py` & `Simba-UW-tf-dev-1.94.5/simba/pose_importers/sleap_slp_importer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_importers/import_mars.py` & `Simba-UW-tf-dev-1.94.5/simba/pose_importers/import_mars.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_importers/dlc_importer_csv.py` & `Simba-UW-tf-dev-1.94.5/simba/pose_importers/dlc_importer_csv.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_importers/trk_importer.py` & `Simba-UW-tf-dev-1.94.5/simba/pose_importers/trk_importer.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_configurations/.DS_Store` & `Simba-UW-tf-dev-1.94.5/simba/pose_configurations/.DS_Store`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_configurations/bp_names/bp_names.csv` & `Simba-UW-tf-dev-1.94.5/simba/pose_configurations/bp_names/bp_names.csv`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/8.png` & `Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/8.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/9.png` & `Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/9.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/12.png` & `Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/12.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/13.png` & `Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/13.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/11.png` & `Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/11.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/10.png` & `Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/10.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/4.png` & `Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/4.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/5.png` & `Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/5.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/7.png` & `Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/7.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/6.png` & `Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/6.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/2.png` & `Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/2.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/3.png` & `Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/3.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/pose_configurations/schematics/1.png` & `Simba-UW-tf-dev-1.94.5/simba/pose_configurations/schematics/1.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/video_processors/video_processing.py` & `Simba-UW-tf-dev-1.94.5/simba/video_processors/video_processing.py`

 * *Files 1% similar despite different names*

```diff
@@ -113,13660 +113,13612 @@
 00000700: 6f6b 7570 7320 696d 706f 7274 2028 6765  okups import (ge
 00000710: 745f 6666 6d70 6567 5f63 726f 7373 6661  t_ffmpeg_crossfa
 00000720: 6465 5f6d 6574 686f 6473 2c20 6765 745f  de_methods, get_
 00000730: 666f 6e74 732c 0a20 2020 2020 2020 2020  fonts,.         
 00000740: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00000750: 2020 2020 2020 2020 7065 7263 656e 745f          percent_
 00000760: 746f 5f63 7266 5f6c 6f6f 6b75 702c 2070  to_crf_lookup, p
-00000770: 6572 6365 6e74 5f74 6f5f 7176 5f6c 6b29  ercent_to_qv_lk)
-00000780: 0a66 726f 6d20 7369 6d62 612e 7574 696c  .from simba.util
-00000790: 732e 7072 696e 7469 6e67 2069 6d70 6f72  s.printing impor
-000007a0: 7420 5369 6d62 6154 696d 6572 2c20 7374  t SimbaTimer, st
-000007b0: 646f 7574 5f73 7563 6365 7373 0a66 726f  dout_success.fro
-000007c0: 6d20 7369 6d62 612e 7574 696c 732e 7265  m simba.utils.re
-000007d0: 6164 5f77 7269 7465 2069 6d70 6f72 7420  ad_write import 
-000007e0: 280a 2020 2020 6368 6563 6b5f 6966 5f68  (.    check_if_h
-000007f0: 686d 6d73 735f 7469 6d65 7374 616d 705f  hmmss_timestamp_
-00000800: 6973 5f76 616c 6964 5f70 6172 745f 6f66  is_valid_part_of
-00000810: 5f76 6964 656f 2c0a 2020 2020 636f 6e63  _video,.    conc
-00000820: 6174 656e 6174 655f 7669 6465 6f73 5f69  atenate_videos_i
-00000830: 6e5f 666f 6c64 6572 2c20 6669 6e64 5f61  n_folder, find_a
-00000840: 6c6c 5f76 6964 656f 735f 696e 5f64 6972  ll_videos_in_dir
-00000850: 6563 746f 7279 2c20 6669 6e64 5f63 6f72  ectory, find_cor
-00000860: 655f 636e 742c 0a20 2020 2066 696e 645f  e_cnt,.    find_
-00000870: 6669 6c65 735f 6f66 5f66 696c 6574 7970  files_of_filetyp
-00000880: 6573 5f69 6e5f 6469 7265 6374 6f72 792c  es_in_directory,
-00000890: 2067 6574 5f66 6e5f 6578 742c 2067 6574   get_fn_ext, get
-000008a0: 5f76 6964 656f 5f6d 6574 615f 6461 7461  _video_meta_data
-000008b0: 2c0a 2020 2020 7265 6164 5f63 6f6e 6669  ,.    read_confi
-000008c0: 675f 656e 7472 792c 2072 6561 645f 636f  g_entry, read_co
-000008d0: 6e66 6967 5f66 696c 652c 2072 6561 645f  nfig_file, read_
-000008e0: 6672 6d5f 6f66 5f76 6964 656f 290a 6672  frm_of_video).fr
-000008f0: 6f6d 2073 696d 6261 2e75 7469 6c73 2e77  om simba.utils.w
-00000900: 6172 6e69 6e67 7320 696d 706f 7274 2028  arnings import (
-00000910: 4669 6c65 4578 6973 7457 6172 6e69 6e67  FileExistWarning
-00000920: 2c20 4672 616d 6552 616e 6765 5761 726e  , FrameRangeWarn
-00000930: 696e 672c 0a20 2020 2020 2020 2020 2020  ing,.           
-00000940: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000950: 2020 2020 2020 2049 6e56 616c 6964 5573         InValidUs
-00000960: 6572 496e 7075 7457 6172 6e69 6e67 2c0a  erInputWarning,.
-00000970: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000980: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000990: 2020 5361 6d65 496e 7075 7441 6e64 4f75    SameInputAndOu
-000009a0: 7470 7574 5761 726e 696e 6729 0a66 726f  tputWarning).fro
-000009b0: 6d20 7369 6d62 612e 7669 6465 6f5f 7072  m simba.video_pr
-000009c0: 6f63 6573 736f 7273 2e65 7874 7261 6374  ocessors.extract
-000009d0: 5f66 7261 6d65 7320 696d 706f 7274 2076  _frames import v
-000009e0: 6964 656f 5f74 6f5f 6672 616d 6573 0a66  ideo_to_frames.f
-000009f0: 726f 6d20 7369 6d62 612e 7669 6465 6f5f  rom simba.video_
-00000a00: 7072 6f63 6573 736f 7273 2e72 6f69 5f73  processors.roi_s
-00000a10: 656c 6563 746f 7220 696d 706f 7274 2052  elector import R
-00000a20: 4f49 5365 6c65 6374 6f72 0a66 726f 6d20  OISelector.from 
-00000a30: 7369 6d62 612e 7669 6465 6f5f 7072 6f63  simba.video_proc
-00000a40: 6573 736f 7273 2e72 6f69 5f73 656c 6563  essors.roi_selec
-00000a50: 746f 725f 6369 7263 6c65 2069 6d70 6f72  tor_circle impor
-00000a60: 7420 524f 4953 656c 6563 746f 7243 6972  t ROISelectorCir
-00000a70: 636c 650a 6672 6f6d 2073 696d 6261 2e76  cle.from simba.v
-00000a80: 6964 656f 5f70 726f 6365 7373 6f72 732e  ideo_processors.
-00000a90: 726f 695f 7365 6c65 6374 6f72 5f70 6f6c  roi_selector_pol
-00000aa0: 7967 6f6e 2069 6d70 6f72 7420 524f 4953  ygon import ROIS
-00000ab0: 656c 6563 746f 7250 6f6c 7967 6f6e 0a0a  electorPolygon..
-00000ac0: 4d41 585f 4652 4d5f 5349 5a45 203d 2031  MAX_FRM_SIZE = 1
-00000ad0: 3038 302c 2036 3530 0a0a 6465 6620 6368  080, 650..def ch
-00000ae0: 616e 6765 5f69 6d67 5f66 6f72 6d61 7428  ange_img_format(
-00000af0: 6469 7265 6374 6f72 793a 2055 6e69 6f6e  directory: Union
-00000b00: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
-00000b10: 655d 2c0a 2020 2020 2020 2020 2020 2020  e],.            
-00000b20: 2020 2020 2020 2020 2020 6669 6c65 5f74            file_t
-00000b30: 7970 655f 696e 3a20 7374 722c 0a20 2020  ype_in: str,.   
-00000b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000b50: 2020 2066 696c 655f 7479 7065 5f6f 7574     file_type_out
-00000b60: 3a20 7374 722c 0a20 2020 2020 2020 2020  : str,.         
-00000b70: 2020 2020 2020 2020 2020 2020 2076 6572               ver
-00000b80: 626f 7365 3a20 4f70 7469 6f6e 616c 5b62  bose: Optional[b
-00000b90: 6f6f 6c5d 203d 2046 616c 7365 2920 2d3e  ool] = False) ->
-00000ba0: 204e 6f6e 653a 0a20 2020 2022 2222 0a20   None:.    """. 
-00000bb0: 2020 2043 6f6e 7665 7274 2074 6865 2066     Convert the f
-00000bc0: 696c 6520 7479 7065 206f 6620 616c 6c20  ile type of all 
-00000bd0: 696d 6167 6520 6669 6c65 7320 7769 7468  image files with
-00000be0: 696e 2061 2064 6972 6563 746f 7279 2e0a  in a directory..
-00000bf0: 0a20 2020 203a 7061 7261 6d65 7465 7220  .    :parameter 
-00000c00: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
-00000c10: 7468 4c69 6b65 5d20 6469 7265 6374 6f72  thLike] director
-00000c20: 793a 2050 6174 6820 746f 2064 6972 6563  y: Path to direc
-00000c30: 746f 7279 2068 6f6c 6469 6e67 2069 6d61  tory holding ima
-00000c40: 6765 2066 696c 6573 0a20 2020 203a 7061  ge files.    :pa
-00000c50: 7261 6d65 7465 7220 7374 7220 6669 6c65  rameter str file
-00000c60: 5f74 7970 655f 696e 3a20 496e 7075 7420  _type_in: Input 
-00000c70: 6669 6c65 2074 7970 652c 2065 2e67 2e2c  file type, e.g.,
-00000c80: 2027 626d 7027 206f 7220 2770 6e67 2e0a   'bmp' or 'png..
-00000c90: 2020 2020 3a70 6172 616d 6574 6572 2073      :parameter s
-00000ca0: 7472 2066 696c 655f 7479 7065 5f6f 7574  tr file_type_out
-00000cb0: 3a20 4f75 7470 7574 2066 696c 6520 7479  : Output file ty
-00000cc0: 7065 2c20 652e 672e 2c20 2762 6d70 2720  pe, e.g., 'bmp' 
-00000cd0: 6f72 2027 706e 672e 0a20 2020 203a 7061  or 'png..    :pa
-00000ce0: 7261 6d65 7465 7220 4f70 7469 6f6e 616c  rameter Optional
-00000cf0: 5b62 6f6f 6c5d 2076 6572 626f 7365 3a20  [bool] verbose: 
-00000d00: 4966 2054 7275 652c 2070 7269 6e74 7320  If True, prints 
-00000d10: 7072 6f67 7265 7373 2e20 4465 6661 756c  progress. Defaul
-00000d20: 7420 4661 6c73 652e 0a0a 2020 2020 3a65  t False...    :e
-00000d30: 7861 6d70 6c65 3a0a 2020 2020 3e3e 3e20  xample:.    >>> 
-00000d40: 5f20 3d20 6368 616e 6765 5f69 6d67 5f66  _ = change_img_f
-00000d50: 6f72 6d61 7428 6469 7265 6374 6f72 793d  ormat(directory=
-00000d60: 272f 5573 6572 732f 7369 6d6f 6e2f 4465  '/Users/simon/De
-00000d70: 736b 746f 702f 656e 7673 2f73 696d 6261  sktop/envs/simba
-00000d80: 2f74 726f 7562 6c65 7368 6f6f 7469 6e67  /troubleshooting
-00000d90: 2f74 776f 5f62 6c61 636b 5f61 6e69 6d61  /two_black_anima
-00000da0: 6c73 5f31 3462 702f 7465 7374 5f69 6d67  ls_14bp/test_img
-00000db0: 272c 2066 696c 655f 7479 7065 5f69 6e3d  ', file_type_in=
-00000dc0: 2770 6e67 272c 2066 696c 655f 7479 7065  'png', file_type
-00000dd0: 5f6f 7574 3d27 626d 7027 2c20 7665 7262  _out='bmp', verb
-00000de0: 6f73 653d 5472 7565 290a 0a20 2020 2022  ose=True)..    "
-00000df0: 2222 0a20 2020 2063 6865 636b 5f69 665f  "".    check_if_
-00000e00: 6469 725f 6578 6973 7473 2869 6e5f 6469  dir_exists(in_di
-00000e10: 723d 6469 7265 6374 6f72 792c 2073 6f75  r=directory, sou
-00000e20: 7263 653d 6368 616e 6765 5f69 6d67 5f66  rce=change_img_f
-00000e30: 6f72 6d61 742e 5f5f 6e61 6d65 5f5f 290a  ormat.__name__).
-00000e40: 2020 2020 6669 6c65 735f 666f 756e 6420      files_found 
-00000e50: 3d20 676c 6f62 2e67 6c6f 6228 6469 7265  = glob.glob(dire
-00000e60: 6374 6f72 7920 2b20 6622 2f2a 2e7b 6669  ctory + f"/*.{fi
-00000e70: 6c65 5f74 7970 655f 696e 7d22 290a 2020  le_type_in}").  
-00000e80: 2020 6966 206c 656e 2866 696c 6573 5f66    if len(files_f
-00000e90: 6f75 6e64 2920 3d3d 2030 3a0a 2020 2020  ound) == 0:.    
-00000ea0: 2020 2020 7261 6973 6520 4e6f 4669 6c65      raise NoFile
-00000eb0: 7346 6f75 6e64 4572 726f 7228 0a20 2020  sFoundError(.   
-00000ec0: 2020 2020 2020 2020 2066 2253 494d 4241           f"SIMBA
-00000ed0: 2045 5252 4f52 3a20 4e6f 207b 6669 6c65   ERROR: No {file
-00000ee0: 5f74 7970 655f 696e 7d20 6669 6c65 7320  _type_in} files 
-00000ef0: 2877 6974 6820 2e7b 6669 6c65 5f74 7970  (with .{file_typ
-00000f00: 655f 696e 7d20 6669 6c65 2065 7874 656e  e_in} file exten
-00000f10: 7369 6f6e 2920 666f 756e 6420 696e 2074  sion) found in t
-00000f20: 6865 207b 6469 7265 6374 6f72 797d 2064  he {directory} d
-00000f30: 6972 6563 746f 7279 222c 0a20 2020 2020  irectory",.     
-00000f40: 2020 2020 2020 2073 6f75 7263 653d 6368         source=ch
-00000f50: 616e 6765 5f69 6d67 5f66 6f72 6d61 742e  ange_img_format.
-00000f60: 5f5f 6e61 6d65 5f5f 2c0a 2020 2020 2020  __name__,.      
-00000f70: 2020 290a 2020 2020 7072 696e 7428 6622    ).    print(f"
-00000f80: 7b6c 656e 2866 696c 6573 5f66 6f75 6e64  {len(files_found
-00000f90: 297d 2069 6d61 6765 2066 696c 6573 2066  )} image files f
-00000fa0: 6f75 6e64 2069 6e20 7b64 6972 6563 746f  ound in {directo
-00000fb0: 7279 7d2e 2e2e 2229 0a20 2020 2066 6f72  ry}...").    for
-00000fc0: 2066 696c 655f 636e 742c 2066 696c 655f   file_cnt, file_
-00000fd0: 7061 7468 2069 6e20 656e 756d 6572 6174  path in enumerat
-00000fe0: 6528 6669 6c65 735f 666f 756e 6429 3a0a  e(files_found):.
-00000ff0: 2020 2020 2020 2020 6966 2076 6572 626f          if verbo
-00001000: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00001010: 7072 696e 7428 6622 436f 6e76 6572 7469  print(f"Converti
-00001020: 6e67 2066 696c 6520 7b66 696c 655f 636e  ng file {file_cn
-00001030: 742b 317d 2f7b 6c65 6e28 6669 6c65 735f  t+1}/{len(files_
-00001040: 666f 756e 6429 7d20 2e2e 2e22 290a 2020  found)} ...").  
-00001050: 2020 2020 2020 696d 203d 2049 6d61 6765        im = Image
-00001060: 2e6f 7065 6e28 6669 6c65 5f70 6174 6829  .open(file_path)
-00001070: 0a20 2020 2020 2020 2073 6176 655f 6e61  .        save_na
-00001080: 6d65 203d 2066 696c 655f 7061 7468 2e72  me = file_path.r
-00001090: 6570 6c61 6365 2822 2e22 202b 2073 7472  eplace("." + str
-000010a0: 2866 696c 655f 7479 7065 5f69 6e29 2c20  (file_type_in), 
-000010b0: 222e 2220 2b20 7374 7228 6669 6c65 5f74  "." + str(file_t
-000010c0: 7970 655f 6f75 7429 290a 2020 2020 2020  ype_out)).      
-000010d0: 2020 696d 2e73 6176 6528 7361 7665 5f6e    im.save(save_n
-000010e0: 616d 6529 0a20 2020 2020 2020 206f 732e  ame).        os.
-000010f0: 7265 6d6f 7665 2866 696c 655f 7061 7468  remove(file_path
-00001100: 290a 2020 2020 7374 646f 7574 5f73 7563  ).    stdout_suc
-00001110: 6365 7373 280a 2020 2020 2020 2020 6d73  cess(.        ms
-00001120: 673d 6622 5349 4d42 4120 434f 4d50 4c45  g=f"SIMBA COMPLE
-00001130: 5445 3a20 4669 6c65 7320 696e 207b 6469  TE: Files in {di
-00001140: 7265 6374 6f72 797d 2064 6972 6563 746f  rectory} directo
-00001150: 7279 2063 6f6e 7665 7274 6564 2074 6f20  ry converted to 
-00001160: 7b66 696c 655f 7479 7065 5f6f 7574 7d22  {file_type_out}"
-00001170: 2c0a 2020 2020 2020 2020 736f 7572 6365  ,.        source
-00001180: 3d63 6861 6e67 655f 696d 675f 666f 726d  =change_img_form
-00001190: 6174 2e5f 5f6e 616d 655f 5f2c 0a20 2020  at.__name__,.   
-000011a0: 2029 0a0a 6465 6620 636f 6e76 6572 745f   )..def convert_
-000011b0: 746f 5f6a 7065 6728 6469 7265 6374 6f72  to_jpeg(director
-000011c0: 793a 2055 6e69 6f6e 5b73 7472 2c20 6f73  y: Union[str, os
-000011d0: 2e50 6174 684c 696b 655d 2c0a 2020 2020  .PathLike],.    
-000011e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000011f0: 7175 616c 6974 793a 204f 7074 696f 6e61  quality: Optiona
-00001200: 6c5b 696e 745d 203d 2039 352c 0a20 2020  l[int] = 95,.   
-00001210: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001220: 2076 6572 626f 7365 3a20 4f70 7469 6f6e   verbose: Option
-00001230: 616c 5b62 6f6f 6c5d 203d 2046 616c 7365  al[bool] = False
-00001240: 2920 2d3e 204e 6f6e 653a 0a0a 2020 2020  ) -> None:..    
-00001250: 2222 220a 2020 2020 436f 6e76 6572 7420  """.    Convert 
-00001260: 7468 6520 6669 6c65 2074 7970 6520 6f66  the file type of
-00001270: 2061 6c6c 2069 6d61 6765 2066 696c 6573   all image files
-00001280: 2077 6974 6869 6e20 6120 6469 7265 6374   within a direct
-00001290: 6f72 7920 746f 206a 7065 6720 666f 726d  ory to jpeg form
-000012a0: 6174 206f 6620 7061 7373 6564 2071 7561  at of passed qua
-000012b0: 6c69 7479 2e0a 0a20 2020 202e 2e20 6e6f  lity...    .. no
-000012c0: 7465 3a3a 0a20 2020 2020 2020 5175 616c  te::.       Qual
-000012d0: 6974 7920 6162 6f76 6520 3935 2073 686f  ity above 95 sho
-000012e0: 756c 6420 6265 2061 766f 6964 6564 3b20  uld be avoided; 
-000012f0: 3130 3020 6469 7361 626c 6573 2070 6f72  100 disables por
-00001300: 7469 6f6e 7320 6f66 2074 6865 204a 5045  tions of the JPE
-00001310: 4720 636f 6d70 7265 7373 696f 6e20 616c  G compression al
-00001320: 676f 7269 7468 6d2c 2061 6e64 2072 6573  gorithm, and res
-00001330: 756c 7473 2069 6e20 6c61 7267 6520 6669  ults in large fi
-00001340: 6c65 7320 7769 7468 2068 6172 646c 7920  les with hardly 
-00001350: 616e 7920 6761 696e 2069 6e20 696d 6167  any gain in imag
-00001360: 6520 7175 616c 6974 790a 0a20 2020 203a  e quality..    :
-00001370: 7061 7261 6d65 7465 7220 556e 696f 6e5b  parameter Union[
-00001380: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
-00001390: 5d20 6469 7265 6374 6f72 793a 2050 6174  ] directory: Pat
-000013a0: 6820 746f 2064 6972 6563 746f 7279 2068  h to directory h
-000013b0: 6f6c 6469 6e67 2069 6d61 6765 2066 696c  olding image fil
-000013c0: 6573 0a20 2020 203a 7061 7261 6d65 7465  es.    :paramete
-000013d0: 7220 4f70 7469 6f6e 616c 5b69 6e74 5d20  r Optional[int] 
-000013e0: 7175 616c 6974 793a 2054 6865 2071 7561  quality: The qua
-000013f0: 6c69 7479 206f 6620 7468 6520 6f75 7470  lity of the outp
-00001400: 7574 2069 6d61 6765 7320 2830 2d31 3030  ut images (0-100
-00001410: 292e 0a20 2020 203a 7061 7261 6d65 7465  )..    :paramete
-00001420: 7220 4f70 7469 6f6e 616c 5b62 6f6f 6c5d  r Optional[bool]
-00001430: 2076 6572 626f 7365 3a20 4966 2054 7275   verbose: If Tru
-00001440: 652c 2070 7269 6e74 7320 7072 6f67 7265  e, prints progre
-00001450: 7373 2e20 4465 6661 756c 7420 4661 6c73  ss. Default Fals
-00001460: 652e 0a0a 2020 2020 3a65 7861 6d70 6c65  e...    :example
-00001470: 3a0a 2020 2020 3e3e 3e20 636f 6e76 6572  :.    >>> conver
-00001480: 745f 746f 5f6a 7065 6728 6469 7265 6374  t_to_jpeg(direct
-00001490: 6f72 793d 272f 5573 6572 732f 7369 6d6f  ory='/Users/simo
-000014a0: 6e2f 4465 736b 746f 702f 696d 6773 272c  n/Desktop/imgs',
-000014b0: 2066 696c 655f 7479 7065 5f69 6e3d 272e   file_type_in='.
-000014c0: 706e 6727 2c20 7175 616c 6974 793d 3135  png', quality=15
-000014d0: 290a 2020 2020 2222 220a 2020 2020 7469  ).    """.    ti
-000014e0: 6d65 7220 3d20 5369 6d62 6154 696d 6572  mer = SimbaTimer
-000014f0: 2873 7461 7274 3d54 7275 6529 0a20 2020  (start=True).   
-00001500: 2063 6865 636b 5f69 665f 6469 725f 6578   check_if_dir_ex
-00001510: 6973 7473 2869 6e5f 6469 723d 6469 7265  ists(in_dir=dire
-00001520: 6374 6f72 792c 2073 6f75 7263 653d 636f  ctory, source=co
-00001530: 6e76 6572 745f 746f 5f6a 7065 672e 5f5f  nvert_to_jpeg.__
-00001540: 6e61 6d65 5f5f 290a 2020 2020 6368 6563  name__).    chec
-00001550: 6b5f 696e 7428 6e61 6d65 3d66 277b 636f  k_int(name=f'{co
-00001560: 6e76 6572 745f 746f 5f6a 7065 672e 5f5f  nvert_to_jpeg.__
-00001570: 6e61 6d65 5f5f 7d20 7175 616c 6974 7927  name__} quality'
-00001580: 2c20 7661 6c75 653d 7175 616c 6974 792c  , value=quality,
-00001590: 206d 696e 5f76 616c 7565 3d31 2c20 6d61   min_value=1, ma
-000015a0: 785f 7661 6c75 653d 3130 3029 0a20 2020  x_value=100).   
-000015b0: 2066 696c 655f 7061 7468 7320 3d20 6669   file_paths = fi
-000015c0: 6e64 5f66 696c 6573 5f6f 665f 6669 6c65  nd_files_of_file
-000015d0: 7479 7065 735f 696e 5f64 6972 6563 746f  types_in_directo
-000015e0: 7279 2864 6972 6563 746f 7279 3d64 6972  ry(directory=dir
-000015f0: 6563 746f 7279 2c20 6578 7465 6e73 696f  ectory, extensio
-00001600: 6e73 3d4f 7074 696f 6e73 2e41 4c4c 5f49  ns=Options.ALL_I
-00001610: 4d41 4745 5f46 4f52 4d41 545f 4f50 5449  MAGE_FORMAT_OPTI
-00001620: 4f4e 532e 7661 6c75 652c 2072 6169 7365  ONS.value, raise
-00001630: 5f65 7272 6f72 3d54 7275 6529 0a20 2020  _error=True).   
-00001640: 2064 6174 6574 696d 655f 203d 2064 6174   datetime_ = dat
-00001650: 6574 696d 652e 6e6f 7728 292e 7374 7266  etime.now().strf
-00001660: 7469 6d65 2822 2559 256d 2564 2548 254d  time("%Y%m%d%H%M
-00001670: 2553 2229 0a20 2020 2070 7269 6e74 2866  %S").    print(f
-00001680: 227b 6c65 6e28 6669 6c65 5f70 6174 6873  "{len(file_paths
-00001690: 297d 2069 6d61 6765 2066 696c 6528 7329  )} image file(s)
-000016a0: 2066 6f75 6e64 2069 6e20 7b64 6972 6563   found in {direc
-000016b0: 746f 7279 7d2e 2e2e 2229 0a20 2020 2073  tory}...").    s
-000016c0: 6176 655f 6469 7220 3d20 6f73 2e70 6174  ave_dir = os.pat
-000016d0: 682e 6a6f 696e 2864 6972 6563 746f 7279  h.join(directory
-000016e0: 2c20 6627 706e 675f 7b64 6174 6574 696d  , f'png_{datetim
-000016f0: 655f 7d27 290a 2020 2020 6f73 2e6d 616b  e_}').    os.mak
-00001700: 6564 6972 7328 7361 7665 5f64 6972 290a  edirs(save_dir).
-00001710: 2020 2020 666f 7220 6669 6c65 5f63 6e74      for file_cnt
-00001720: 2c20 6669 6c65 5f70 6174 6820 696e 2065  , file_path in e
-00001730: 6e75 6d65 7261 7465 2866 696c 655f 7061  numerate(file_pa
-00001740: 7468 7329 3a0a 2020 2020 2020 2020 6469  ths):.        di
-00001750: 722c 2066 696c 655f 6e61 6d65 2c20 5f20  r, file_name, _ 
-00001760: 3d20 6765 745f 666e 5f65 7874 2866 696c  = get_fn_ext(fil
-00001770: 6570 6174 683d 6669 6c65 5f70 6174 6829  epath=file_path)
-00001780: 0a20 2020 2020 2020 2073 6176 655f 7061  .        save_pa
-00001790: 7468 203d 206f 732e 7061 7468 2e6a 6f69  th = os.path.joi
-000017a0: 6e28 7361 7665 5f64 6972 2c20 6627 7b66  n(save_dir, f'{f
-000017b0: 696c 655f 6e61 6d65 7d2e 6a70 6567 2729  ile_name}.jpeg')
-000017c0: 0a20 2020 2020 2020 2069 6620 7665 7262  .        if verb
-000017d0: 6f73 653a 0a20 2020 2020 2020 2020 2020  ose:.           
-000017e0: 2070 7269 6e74 2866 2243 6f6e 7665 7274   print(f"Convert
-000017f0: 696e 6720 6669 6c65 207b 6669 6c65 5f63  ing file {file_c
-00001800: 6e74 2b31 7d2f 7b6c 656e 2866 696c 655f  nt+1}/{len(file_
-00001810: 7061 7468 7329 7d20 2e2e 2e22 290a 2020  paths)} ...").  
-00001820: 2020 2020 2020 696d 6720 3d20 496d 6167        img = Imag
-00001830: 652e 6f70 656e 2866 696c 655f 7061 7468  e.open(file_path
-00001840: 290a 2020 2020 2020 2020 6966 2069 6d67  ).        if img
-00001850: 2e6d 6f64 6520 696e 2028 2752 4742 4127  .mode in ('RGBA'
-00001860: 2c20 274c 4127 293a 2069 6d67 203d 2069  , 'LA'): img = i
-00001870: 6d67 2e63 6f6e 7665 7274 2827 5247 4227  mg.convert('RGB'
-00001880: 290a 2020 2020 2020 2020 696d 672e 7361  ).        img.sa
-00001890: 7665 2873 6176 655f 7061 7468 2c20 666f  ve(save_path, fo
-000018a0: 726d 6174 3d27 4a50 4547 272c 2071 7561  rmat='JPEG', qua
-000018b0: 6c69 7479 3d71 7561 6c69 7479 290a 2020  lity=quality).  
-000018c0: 2020 7469 6d65 722e 7374 6f70 5f74 696d    timer.stop_tim
-000018d0: 6572 2829 0a20 2020 2073 7464 6f75 745f  er().    stdout_
-000018e0: 7375 6363 6573 7328 6d73 673d 6622 5349  success(msg=f"SI
-000018f0: 4d42 4120 434f 4d50 4c45 5445 3a20 7b6c  MBA COMPLETE: {l
-00001900: 656e 2866 696c 655f 7061 7468 7329 7d20  en(file_paths)} 
-00001910: 696d 6167 6520 6669 6c65 2873 2920 696e  image file(s) in
-00001920: 207b 6469 7265 6374 6f72 797d 2064 6972   {directory} dir
-00001930: 6563 746f 7279 2063 6f6e 7665 7274 6564  ectory converted
-00001940: 2074 6f20 6a70 6567 2061 6e64 2073 746f   to jpeg and sto
-00001950: 7265 6420 696e 207b 7361 7665 5f64 6972  red in {save_dir
-00001960: 7d20 6469 7265 6374 6f72 7922 2c20 736f  } directory", so
-00001970: 7572 6365 3d63 6f6e 7665 7274 5f74 6f5f  urce=convert_to_
-00001980: 6a70 6567 2e5f 5f6e 616d 655f 5f2c 2065  jpeg.__name__, e
-00001990: 6c61 7073 6564 5f74 696d 653d 7469 6d65  lapsed_time=time
-000019a0: 722e 656c 6170 7365 645f 7469 6d65 5f73  r.elapsed_time_s
-000019b0: 7472 290a 0a0a 6465 6620 636f 6e76 6572  tr)...def conver
-000019c0: 745f 746f 5f62 6d70 2864 6972 6563 746f  t_to_bmp(directo
-000019d0: 7279 3a20 556e 696f 6e5b 7374 722c 206f  ry: Union[str, o
-000019e0: 732e 5061 7468 4c69 6b65 5d2c 0a20 2020  s.PathLike],.   
-000019f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001a00: 7665 7262 6f73 653a 204f 7074 696f 6e61  verbose: Optiona
-00001a10: 6c5b 626f 6f6c 5d20 3d20 4661 6c73 6529  l[bool] = False)
-00001a20: 202d 3e20 4e6f 6e65 3a0a 0a20 2020 2022   -> None:..    "
-00001a30: 2222 0a20 2020 2043 6f6e 7665 7274 2069  "".    Convert i
-00001a40: 6d61 6765 7320 696e 2061 2064 6972 6563  mages in a direc
-00001a50: 746f 7279 2074 6f20 424d 5020 666f 726d  tory to BMP form
-00001a60: 6174 2e0a 0a20 2020 203a 7061 7261 6d20  at...    :param 
-00001a70: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
-00001a80: 7468 4c69 6b65 5d20 6469 7265 6374 6f72  thLike] director
-00001a90: 793a 2044 6972 6563 746f 7279 2063 6f6e  y: Directory con
-00001aa0: 7461 696e 696e 6720 7468 6520 696d 6167  taining the imag
-00001ab0: 6573 2e0a 2020 2020 3a70 6172 616d 204f  es..    :param O
-00001ac0: 7074 696f 6e61 6c5b 626f 6f6c 5d20 7665  ptional[bool] ve
-00001ad0: 7262 6f73 653a 2049 6620 5472 7565 2c20  rbose: If True, 
-00001ae0: 7072 696e 7420 636f 6e76 6572 7369 6f6e  print conversion
-00001af0: 2070 726f 6772 6573 732e 2044 6566 6175   progress. Defau
-00001b00: 6c74 2069 7320 4661 6c73 652e 0a20 2020  lt is False..   
-00001b10: 203a 7265 7475 726e 3a20 4e6f 6e65 2e0a   :return: None..
-00001b20: 2020 2020 2222 220a 0a20 2020 2074 696d      """..    tim
-00001b30: 6572 203d 2053 696d 6261 5469 6d65 7228  er = SimbaTimer(
-00001b40: 7374 6172 743d 5472 7565 290a 2020 2020  start=True).    
-00001b50: 6368 6563 6b5f 6966 5f64 6972 5f65 7869  check_if_dir_exi
-00001b60: 7374 7328 696e 5f64 6972 3d64 6972 6563  sts(in_dir=direc
-00001b70: 746f 7279 2c20 736f 7572 6365 3d63 6f6e  tory, source=con
-00001b80: 7665 7274 5f74 6f5f 626d 702e 5f5f 6e61  vert_to_bmp.__na
-00001b90: 6d65 5f5f 290a 2020 2020 6669 6c65 5f70  me__).    file_p
-00001ba0: 6174 6873 203d 2066 696e 645f 6669 6c65  aths = find_file
-00001bb0: 735f 6f66 5f66 696c 6574 7970 6573 5f69  s_of_filetypes_i
-00001bc0: 6e5f 6469 7265 6374 6f72 7928 6469 7265  n_directory(dire
-00001bd0: 6374 6f72 793d 6469 7265 6374 6f72 792c  ctory=directory,
-00001be0: 2065 7874 656e 7369 6f6e 733d 4f70 7469   extensions=Opti
-00001bf0: 6f6e 732e 414c 4c5f 494d 4147 455f 464f  ons.ALL_IMAGE_FO
-00001c00: 524d 4154 5f4f 5054 494f 4e53 2e76 616c  RMAT_OPTIONS.val
-00001c10: 7565 2c20 7261 6973 655f 6572 726f 723d  ue, raise_error=
-00001c20: 5472 7565 290a 2020 2020 6461 7465 7469  True).    dateti
-00001c30: 6d65 5f20 3d20 6461 7465 7469 6d65 2e6e  me_ = datetime.n
-00001c40: 6f77 2829 2e73 7472 6674 696d 6528 2225  ow().strftime("%
-00001c50: 5925 6d25 6425 4825 4d25 5322 290a 2020  Y%m%d%H%M%S").  
-00001c60: 2020 7072 696e 7428 6622 7b6c 656e 2866    print(f"{len(f
-00001c70: 696c 655f 7061 7468 7329 7d20 696d 6167  ile_paths)} imag
-00001c80: 6520 6669 6c65 2873 2920 666f 756e 6420  e file(s) found 
-00001c90: 696e 207b 6469 7265 6374 6f72 797d 2e2e  in {directory}..
-00001ca0: 2e22 290a 2020 2020 7361 7665 5f64 6972  .").    save_dir
-00001cb0: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
-00001cc0: 6469 7265 6374 6f72 792c 2066 2762 6d70  directory, f'bmp
-00001cd0: 5f7b 6461 7465 7469 6d65 5f7d 2729 0a20  _{datetime_}'). 
-00001ce0: 2020 206f 732e 6d61 6b65 6469 7273 2873     os.makedirs(s
-00001cf0: 6176 655f 6469 7229 0a20 2020 2066 6f72  ave_dir).    for
-00001d00: 2066 696c 655f 636e 742c 2066 696c 655f   file_cnt, file_
-00001d10: 7061 7468 2069 6e20 656e 756d 6572 6174  path in enumerat
-00001d20: 6528 6669 6c65 5f70 6174 6873 293a 0a20  e(file_paths):. 
-00001d30: 2020 2020 2020 2064 6972 2c20 6669 6c65         dir, file
-00001d40: 5f6e 616d 652c 205f 203d 2067 6574 5f66  _name, _ = get_f
-00001d50: 6e5f 6578 7428 6669 6c65 7061 7468 3d66  n_ext(filepath=f
-00001d60: 696c 655f 7061 7468 290a 2020 2020 2020  ile_path).      
-00001d70: 2020 7361 7665 5f70 6174 6820 3d20 6f73    save_path = os
-00001d80: 2e70 6174 682e 6a6f 696e 2873 6176 655f  .path.join(save_
-00001d90: 6469 722c 2066 277b 6669 6c65 5f6e 616d  dir, f'{file_nam
-00001da0: 657d 2e62 6d70 2729 0a20 2020 2020 2020  e}.bmp').       
-00001db0: 2069 6620 7665 7262 6f73 653a 0a20 2020   if verbose:.   
-00001dc0: 2020 2020 2020 2020 2070 7269 6e74 2866           print(f
-00001dd0: 2243 6f6e 7665 7274 696e 6720 6669 6c65  "Converting file
-00001de0: 207b 6669 6c65 5f63 6e74 2b31 7d2f 7b6c   {file_cnt+1}/{l
-00001df0: 656e 2866 696c 655f 7061 7468 7329 7d20  en(file_paths)} 
-00001e00: 2e2e 2e22 290a 2020 2020 2020 2020 696d  ...").        im
-00001e10: 6720 3d20 496d 6167 652e 6f70 656e 2866  g = Image.open(f
-00001e20: 696c 655f 7061 7468 290a 2020 2020 2020  ile_path).      
-00001e30: 2020 6966 2069 6d67 2e6d 6f64 6520 696e    if img.mode in
-00001e40: 2028 2752 4742 4127 2c20 274c 4127 293a   ('RGBA', 'LA'):
-00001e50: 2069 6d67 203d 2069 6d67 2e63 6f6e 7665   img = img.conve
-00001e60: 7274 2827 5247 4227 290a 2020 2020 2020  rt('RGB').      
-00001e70: 2020 696d 672e 7361 7665 2873 6176 655f    img.save(save_
-00001e80: 7061 7468 2c20 666f 726d 6174 3d27 424d  path, format='BM
-00001e90: 5027 290a 2020 2020 2020 2020 7469 6d65  P').        time
-00001ea0: 722e 7374 6f70 5f74 696d 6572 2829 0a20  r.stop_timer(). 
-00001eb0: 2020 2073 7464 6f75 745f 7375 6363 6573     stdout_succes
-00001ec0: 7328 6d73 673d 6622 5349 4d42 4120 434f  s(msg=f"SIMBA CO
-00001ed0: 4d50 4c45 5445 3a20 7b6c 656e 2866 696c  MPLETE: {len(fil
-00001ee0: 655f 7061 7468 7329 7d20 696d 6167 6520  e_paths)} image 
-00001ef0: 6669 6c65 2873 2920 696e 207b 6469 7265  file(s) in {dire
-00001f00: 6374 6f72 797d 2064 6972 6563 746f 7279  ctory} directory
-00001f10: 2063 6f6e 7665 7274 6564 2074 6f20 424d   converted to BM
-00001f20: 5020 616e 6420 7374 6f72 6564 2069 6e20  P and stored in 
-00001f30: 7b73 6176 655f 6469 727d 2064 6972 6563  {save_dir} direc
-00001f40: 746f 7279 222c 2073 6f75 7263 653d 636f  tory", source=co
-00001f50: 6e76 6572 745f 746f 5f62 6d70 2e5f 5f6e  nvert_to_bmp.__n
-00001f60: 616d 655f 5f2c 2065 6c61 7073 6564 5f74  ame__, elapsed_t
-00001f70: 696d 653d 7469 6d65 722e 656c 6170 7365  ime=timer.elapse
-00001f80: 645f 7469 6d65 5f73 7472 290a 0a0a 6465  d_time_str)...de
-00001f90: 6620 636f 6e76 6572 745f 746f 5f70 6e67  f convert_to_png
-00001fa0: 2864 6972 6563 746f 7279 3a20 556e 696f  (directory: Unio
-00001fb0: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
-00001fc0: 6b65 5d2c 0a20 2020 2020 2020 2020 2020  ke],.           
-00001fd0: 2020 2020 2020 2020 7665 7262 6f73 653a          verbose:
-00001fe0: 204f 7074 696f 6e61 6c5b 626f 6f6c 5d20   Optional[bool] 
-00001ff0: 3d20 4661 6c73 6529 202d 3e20 4e6f 6e65  = False) -> None
-00002000: 3a0a 0a20 2020 2022 2222 0a20 2020 2043  :..    """.    C
-00002010: 6f6e 7665 7274 2069 6d61 6765 7320 696e  onvert images in
-00002020: 2061 2064 6972 6563 746f 7279 2074 6f20   a directory to 
-00002030: 504e 4720 666f 726d 6174 2e0a 0a20 2020  PNG format...   
-00002040: 203a 7061 7261 6d20 556e 696f 6e5b 7374   :param Union[st
-00002050: 722c 206f 732e 5061 7468 4c69 6b65 5d20  r, os.PathLike] 
-00002060: 6469 7265 6374 6f72 793a 2044 6972 6563  directory: Direc
-00002070: 746f 7279 2063 6f6e 7461 696e 696e 6720  tory containing 
-00002080: 7468 6520 696d 6167 6573 2e0a 2020 2020  the images..    
-00002090: 3a70 6172 616d 204f 7074 696f 6e61 6c5b  :param Optional[
-000020a0: 626f 6f6c 5d20 7665 7262 6f73 653a 2049  bool] verbose: I
-000020b0: 6620 5472 7565 2c20 7072 696e 7420 636f  f True, print co
-000020c0: 6e76 6572 7369 6f6e 2070 726f 6772 6573  nversion progres
-000020d0: 732e 2044 6566 6175 6c74 2069 7320 4661  s. Default is Fa
-000020e0: 6c73 652e 0a20 2020 203a 7265 7475 726e  lse..    :return
-000020f0: 3a20 4e6f 6e65 2e0a 2020 2020 2222 220a  : None..    """.
-00002100: 0a20 2020 2074 696d 6572 203d 2053 696d  .    timer = Sim
-00002110: 6261 5469 6d65 7228 7374 6172 743d 5472  baTimer(start=Tr
-00002120: 7565 290a 2020 2020 6368 6563 6b5f 6966  ue).    check_if
-00002130: 5f64 6972 5f65 7869 7374 7328 696e 5f64  _dir_exists(in_d
-00002140: 6972 3d64 6972 6563 746f 7279 2c20 736f  ir=directory, so
-00002150: 7572 6365 3d63 6f6e 7665 7274 5f74 6f5f  urce=convert_to_
-00002160: 706e 672e 5f5f 6e61 6d65 5f5f 290a 2020  png.__name__).  
-00002170: 2020 6669 6c65 5f70 6174 6873 203d 2066    file_paths = f
-00002180: 696e 645f 6669 6c65 735f 6f66 5f66 696c  ind_files_of_fil
-00002190: 6574 7970 6573 5f69 6e5f 6469 7265 6374  etypes_in_direct
-000021a0: 6f72 7928 6469 7265 6374 6f72 793d 6469  ory(directory=di
-000021b0: 7265 6374 6f72 792c 2065 7874 656e 7369  rectory, extensi
-000021c0: 6f6e 733d 4f70 7469 6f6e 732e 414c 4c5f  ons=Options.ALL_
-000021d0: 494d 4147 455f 464f 524d 4154 5f4f 5054  IMAGE_FORMAT_OPT
-000021e0: 494f 4e53 2e76 616c 7565 2c20 7261 6973  IONS.value, rais
-000021f0: 655f 6572 726f 723d 5472 7565 290a 2020  e_error=True).  
-00002200: 2020 6461 7465 7469 6d65 5f20 3d20 6461    datetime_ = da
-00002210: 7465 7469 6d65 2e6e 6f77 2829 2e73 7472  tetime.now().str
-00002220: 6674 696d 6528 2225 5925 6d25 6425 4825  ftime("%Y%m%d%H%
-00002230: 4d25 5322 290a 2020 2020 7072 696e 7428  M%S").    print(
-00002240: 6622 7b6c 656e 2866 696c 655f 7061 7468  f"{len(file_path
-00002250: 7329 7d20 696d 6167 6520 6669 6c65 2873  s)} image file(s
-00002260: 2920 666f 756e 6420 696e 207b 6469 7265  ) found in {dire
-00002270: 6374 6f72 797d 2e2e 2e22 290a 2020 2020  ctory}...").    
-00002280: 7361 7665 5f64 6972 203d 206f 732e 7061  save_dir = os.pa
-00002290: 7468 2e6a 6f69 6e28 6469 7265 6374 6f72  th.join(director
-000022a0: 792c 2066 2770 6e67 5f7b 6461 7465 7469  y, f'png_{dateti
-000022b0: 6d65 5f7d 2729 0a20 2020 206f 732e 6d61  me_}').    os.ma
-000022c0: 6b65 6469 7273 2873 6176 655f 6469 7229  kedirs(save_dir)
-000022d0: 0a20 2020 2066 6f72 2066 696c 655f 636e  .    for file_cn
-000022e0: 742c 2066 696c 655f 7061 7468 2069 6e20  t, file_path in 
-000022f0: 656e 756d 6572 6174 6528 6669 6c65 5f70  enumerate(file_p
-00002300: 6174 6873 293a 0a20 2020 2020 2020 2064  aths):.        d
-00002310: 6972 2c20 6669 6c65 5f6e 616d 652c 205f  ir, file_name, _
-00002320: 203d 2067 6574 5f66 6e5f 6578 7428 6669   = get_fn_ext(fi
-00002330: 6c65 7061 7468 3d66 696c 655f 7061 7468  lepath=file_path
-00002340: 290a 2020 2020 2020 2020 7361 7665 5f70  ).        save_p
-00002350: 6174 6820 3d20 6f73 2e70 6174 682e 6a6f  ath = os.path.jo
-00002360: 696e 2873 6176 655f 6469 722c 2066 277b  in(save_dir, f'{
-00002370: 6669 6c65 5f6e 616d 657d 2e70 6e67 2729  file_name}.png')
-00002380: 0a20 2020 2020 2020 2069 6620 7665 7262  .        if verb
-00002390: 6f73 653a 0a20 2020 2020 2020 2020 2020  ose:.           
-000023a0: 2070 7269 6e74 2866 2243 6f6e 7665 7274   print(f"Convert
-000023b0: 696e 6720 6669 6c65 207b 6669 6c65 5f63  ing file {file_c
-000023c0: 6e74 2b31 7d2f 7b6c 656e 2866 696c 655f  nt+1}/{len(file_
-000023d0: 7061 7468 7329 7d20 2e2e 2e22 290a 2020  paths)} ...").  
-000023e0: 2020 2020 2020 696d 6720 3d20 496d 6167        img = Imag
-000023f0: 652e 6f70 656e 2866 696c 655f 7061 7468  e.open(file_path
-00002400: 290a 2020 2020 2020 2020 6966 2069 6d67  ).        if img
-00002410: 2e6d 6f64 6520 696e 2028 2752 4742 4127  .mode in ('RGBA'
-00002420: 2c20 274c 4127 293a 2069 6d67 203d 2069  , 'LA'): img = i
-00002430: 6d67 2e63 6f6e 7665 7274 2827 5247 4227  mg.convert('RGB'
-00002440: 290a 2020 2020 2020 2020 696d 672e 7361  ).        img.sa
-00002450: 7665 2873 6176 655f 7061 7468 2c20 2750  ve(save_path, 'P
-00002460: 4e47 2729 0a20 2020 2020 2020 2074 696d  NG').        tim
-00002470: 6572 2e73 746f 705f 7469 6d65 7228 290a  er.stop_timer().
-00002480: 2020 2020 7374 646f 7574 5f73 7563 6365      stdout_succe
-00002490: 7373 286d 7367 3d66 2253 494d 4241 2043  ss(msg=f"SIMBA C
-000024a0: 4f4d 504c 4554 453a 207b 6c65 6e28 6669  OMPLETE: {len(fi
-000024b0: 6c65 5f70 6174 6873 297d 2069 6d61 6765  le_paths)} image
-000024c0: 2066 696c 6528 7329 2069 6e20 7b64 6972   file(s) in {dir
-000024d0: 6563 746f 7279 7d20 6469 7265 6374 6f72  ectory} director
-000024e0: 7920 636f 6e76 6572 7465 6420 746f 2050  y converted to P
-000024f0: 4e47 2061 6e64 2073 746f 7265 6420 696e  NG and stored in
-00002500: 207b 7361 7665 5f64 6972 7d20 6469 7265   {save_dir} dire
-00002510: 6374 6f72 7922 2c20 736f 7572 6365 3d63  ctory", source=c
-00002520: 6f6e 7665 7274 5f74 6f5f 706e 672e 5f5f  onvert_to_png.__
-00002530: 6e61 6d65 5f5f 2c20 656c 6170 7365 645f  name__, elapsed_
-00002540: 7469 6d65 3d74 696d 6572 2e65 6c61 7073  time=timer.elaps
-00002550: 6564 5f74 696d 655f 7374 7229 0a0a 0a64  ed_time_str)...d
-00002560: 6566 2063 6f6e 7665 7274 5f74 6f5f 7469  ef convert_to_ti
-00002570: 6666 2864 6972 6563 746f 7279 3a20 556e  ff(directory: Un
-00002580: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
-00002590: 4c69 6b65 5d2c 0a20 2020 2020 2020 2020  Like],.         
-000025a0: 2020 2020 2020 2020 2020 2073 7461 636b             stack
-000025b0: 3a20 4f70 7469 6f6e 616c 5b62 6f6f 6c5d  : Optional[bool]
-000025c0: 203d 2046 616c 7365 2c0a 2020 2020 2020   = False,.      
-000025d0: 2020 2020 2020 2020 2020 2020 2020 636f                co
-000025e0: 6d70 7265 7373 696f 6e3a 204c 6974 6572  mpression: Liter
-000025f0: 616c 5b27 7261 7727 2c20 2774 6966 665f  al['raw', 'tiff_
-00002600: 6465 666c 6174 6527 2c20 2774 6966 665f  deflate', 'tiff_
-00002610: 6c7a 7727 5d20 3d20 2772 6177 272c 0a20  lzw'] = 'raw',. 
-00002620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002630: 2020 2076 6572 626f 7365 3a20 4f70 7469     verbose: Opti
-00002640: 6f6e 616c 5b62 6f6f 6c5d 203d 2046 616c  onal[bool] = Fal
-00002650: 7365 2920 2d3e 204e 6f6e 653a 0a20 2020  se) -> None:.   
-00002660: 2022 2222 0a20 2020 2043 6f6e 7665 7274   """.    Convert
-00002670: 2069 6d61 6765 7320 696e 2061 2064 6972   images in a dir
-00002680: 6563 746f 7279 2074 6f20 5449 4646 2066  ectory to TIFF f
-00002690: 6f72 6d61 742e 0a0a 2020 2020 3a70 6172  ormat...    :par
-000026a0: 616d 2055 6e69 6f6e 5b73 7472 2c20 6f73  am Union[str, os
-000026b0: 2e50 6174 684c 696b 655d 2064 6972 6563  .PathLike] direc
-000026c0: 746f 7279 3a20 5468 6520 6469 7265 6374  tory: The direct
-000026d0: 6f72 7920 636f 6e74 6169 6e69 6e67 2074  ory containing t
-000026e0: 6865 2069 6d61 6765 732e 0a20 2020 203a  he images..    :
-000026f0: 7061 7261 6d20 4f70 7469 6f6e 616c 5b62  param Optional[b
-00002700: 6f6f 6c5d 2073 7461 636b 3a20 4966 2054  ool] stack: If T
-00002710: 7275 652c 2063 7265 6174 6520 6120 5449  rue, create a TI
-00002720: 4646 2073 7461 636b 2066 726f 6d20 7468  FF stack from th
-00002730: 6520 696d 6167 6573 2e20 4465 6661 756c  e images. Defaul
-00002740: 7420 6973 2046 616c 7365 2e0a 2020 2020  t is False..    
-00002750: 3a70 6172 616d 204c 6974 6572 616c 5b27  :param Literal['
-00002760: 7261 7727 2c20 2774 6966 665f 6465 666c  raw', 'tiff_defl
-00002770: 6174 6527 2c20 2774 6966 665f 6c7a 7727  ate', 'tiff_lzw'
-00002780: 5d20 636f 6d70 7265 7373 696f 6e3a 2043  ] compression: C
-00002790: 6f6d 7072 6573 7369 6f6e 206d 6574 686f  ompression metho
-000027a0: 6420 666f 7220 7468 6520 5449 4646 2066  d for the TIFF f
-000027b0: 696c 652e 204f 7074 696f 6e73 2061 7265  ile. Options are
-000027c0: 2027 7261 7727 2028 6e6f 2063 6f6d 7072   'raw' (no compr
-000027d0: 6573 7369 6f6e 292c 2027 7469 6666 5f64  ession), 'tiff_d
-000027e0: 6566 6c61 7465 272c 2061 6e64 2027 7469  eflate', and 'ti
-000027f0: 6666 5f6c 7a77 272e 2044 6566 6175 6c74  ff_lzw'. Default
-00002800: 2069 7320 2772 6177 272e 0a20 2020 203a   is 'raw'..    :
-00002810: 7061 7261 6d20 4f70 7469 6f6e 616c 5b62  param Optional[b
-00002820: 6f6f 6c5d 2076 6572 626f 7365 3a20 4966  ool] verbose: If
-00002830: 2054 7275 652c 2070 7269 6e74 2063 6f6e   True, print con
-00002840: 7665 7273 696f 6e20 7072 6f67 7265 7373  version progress
-00002850: 2e20 4465 6661 756c 7420 6973 2046 616c  . Default is Fal
-00002860: 7365 2e0a 2020 2020 3a72 6574 7572 6e3a  se..    :return:
-00002870: 204e 6f6e 652e 0a0a 2020 2020 3a65 7861   None...    :exa
-00002880: 6d70 6c65 3a0a 2020 2020 3e3e 3e20 636f  mple:.    >>> co
-00002890: 6e76 6572 745f 746f 5f74 6966 6628 272f  nvert_to_tiff('/
-000028a0: 5573 6572 732f 7369 6d6f 6e2f 4465 736b  Users/simon/Desk
-000028b0: 746f 702f 696d 6773 272c 2073 7461 636b  top/imgs', stack
-000028c0: 3d54 7275 652c 2063 6f6d 7072 6573 7369  =True, compressi
-000028d0: 6f6e 3d27 7469 6666 5f6c 7a77 2729 0a0a  on='tiff_lzw')..
-000028e0: 2020 2020 2222 220a 2020 2020 7469 6d65      """.    time
-000028f0: 7220 3d20 5369 6d62 6154 696d 6572 2873  r = SimbaTimer(s
-00002900: 7461 7274 3d54 7275 6529 0a20 2020 2063  tart=True).    c
-00002910: 6865 636b 5f69 665f 6469 725f 6578 6973  heck_if_dir_exis
-00002920: 7473 2869 6e5f 6469 723d 6469 7265 6374  ts(in_dir=direct
-00002930: 6f72 792c 2073 6f75 7263 653d 636f 6e76  ory, source=conv
-00002940: 6572 745f 746f 5f74 6966 662e 5f5f 6e61  ert_to_tiff.__na
-00002950: 6d65 5f5f 290a 2020 2020 6669 6c65 5f70  me__).    file_p
-00002960: 6174 6873 203d 2066 696e 645f 6669 6c65  aths = find_file
-00002970: 735f 6f66 5f66 696c 6574 7970 6573 5f69  s_of_filetypes_i
-00002980: 6e5f 6469 7265 6374 6f72 7928 6469 7265  n_directory(dire
-00002990: 6374 6f72 793d 6469 7265 6374 6f72 792c  ctory=directory,
-000029a0: 2065 7874 656e 7369 6f6e 733d 4f70 7469   extensions=Opti
-000029b0: 6f6e 732e 414c 4c5f 494d 4147 455f 464f  ons.ALL_IMAGE_FO
-000029c0: 524d 4154 5f4f 5054 494f 4e53 2e76 616c  RMAT_OPTIONS.val
-000029d0: 7565 2c20 7261 6973 655f 6572 726f 723d  ue, raise_error=
-000029e0: 5472 7565 290a 2020 2020 6368 6563 6b5f  True).    check_
-000029f0: 7374 7228 6e61 6d65 3d66 277b 636f 6e76  str(name=f'{conv
-00002a00: 6572 745f 746f 5f74 6966 667d 2063 6f6d  ert_to_tiff} com
-00002a10: 7072 6573 7369 6f6e 272c 2076 616c 7565  pression', value
-00002a20: 3d63 6f6d 7072 6573 7369 6f6e 2c20 6f70  =compression, op
-00002a30: 7469 6f6e 733d 5b27 7261 7727 2c20 2774  tions=['raw', 't
-00002a40: 6966 665f 6465 666c 6174 6527 2c20 2774  iff_deflate', 't
-00002a50: 6966 665f 6c7a 7727 5d29 0a20 2020 2064  iff_lzw']).    d
-00002a60: 6174 6574 696d 655f 203d 2064 6174 6574  atetime_ = datet
-00002a70: 696d 652e 6e6f 7728 292e 7374 7266 7469  ime.now().strfti
-00002a80: 6d65 2822 2559 256d 2564 2548 254d 2553  me("%Y%m%d%H%M%S
-00002a90: 2229 0a20 2020 2070 7269 6e74 2866 227b  ").    print(f"{
-00002aa0: 6c65 6e28 6669 6c65 5f70 6174 6873 297d  len(file_paths)}
-00002ab0: 2069 6d61 6765 2066 696c 6528 7329 2066   image file(s) f
-00002ac0: 6f75 6e64 2069 6e20 7b64 6972 6563 746f  ound in {directo
-00002ad0: 7279 7d2e 2e2e 2229 0a20 2020 2073 6176  ry}...").    sav
-00002ae0: 655f 6469 7220 3d20 6f73 2e70 6174 682e  e_dir = os.path.
-00002af0: 6a6f 696e 2864 6972 6563 746f 7279 2c20  join(directory, 
-00002b00: 6627 7469 6666 5f7b 6461 7465 7469 6d65  f'tiff_{datetime
-00002b10: 5f7d 2729 0a20 2020 206f 732e 6d61 6b65  _}').    os.make
-00002b20: 6469 7273 2873 6176 655f 6469 7229 0a20  dirs(save_dir). 
-00002b30: 2020 2069 6620 6e6f 7420 7374 6163 6b3a     if not stack:
-00002b40: 0a20 2020 2020 2020 2066 6f72 2066 696c  .        for fil
-00002b50: 655f 636e 742c 2066 696c 655f 7061 7468  e_cnt, file_path
-00002b60: 2069 6e20 656e 756d 6572 6174 6528 6669   in enumerate(fi
-00002b70: 6c65 5f70 6174 6873 293a 0a20 2020 2020  le_paths):.     
-00002b80: 2020 2020 2020 2064 6972 2c20 6669 6c65         dir, file
-00002b90: 5f6e 616d 652c 205f 203d 2067 6574 5f66  _name, _ = get_f
-00002ba0: 6e5f 6578 7428 6669 6c65 7061 7468 3d66  n_ext(filepath=f
-00002bb0: 696c 655f 7061 7468 290a 2020 2020 2020  ile_path).      
-00002bc0: 2020 2020 2020 7361 7665 5f70 6174 6820        save_path 
-00002bd0: 3d20 6f73 2e70 6174 682e 6a6f 696e 2873  = os.path.join(s
-00002be0: 6176 655f 6469 722c 2066 277b 6669 6c65  ave_dir, f'{file
-00002bf0: 5f6e 616d 657d 2e74 6966 6627 290a 2020  _name}.tiff').  
-00002c00: 2020 2020 2020 2020 2020 6966 2076 6572            if ver
-00002c10: 626f 7365 3a0a 2020 2020 2020 2020 2020  bose:.          
-00002c20: 2020 2020 2020 7072 696e 7428 6622 436f        print(f"Co
-00002c30: 6e76 6572 7469 6e67 2066 696c 6520 7b66  nverting file {f
-00002c40: 696c 655f 636e 7420 2b20 317d 2f7b 6c65  ile_cnt + 1}/{le
-00002c50: 6e28 6669 6c65 5f70 6174 6873 297d 202e  n(file_paths)} .
-00002c60: 2e2e 2229 0a20 2020 2020 2020 2020 2020  ..").           
-00002c70: 2069 6d67 203d 2049 6d61 6765 2e6f 7065   img = Image.ope
-00002c80: 6e28 6669 6c65 5f70 6174 6829 0a20 2020  n(file_path).   
-00002c90: 2020 2020 2020 2020 2069 6620 696d 672e           if img.
-00002ca0: 6d6f 6465 2069 6e20 2827 5247 4241 272c  mode in ('RGBA',
-00002cb0: 2027 4c41 2729 3a20 696d 6720 3d20 696d   'LA'): img = im
-00002cc0: 672e 636f 6e76 6572 7428 2752 4742 2729  g.convert('RGB')
-00002cd0: 0a20 2020 2020 2020 2020 2020 2069 6d67  .            img
-00002ce0: 2e73 6176 6528 7361 7665 5f70 6174 682c  .save(save_path,
-00002cf0: 2066 6f72 6d61 743d 2754 4946 4627 2c20   format='TIFF', 
-00002d00: 636f 6d70 7265 7373 696f 6e3d 636f 6d70  compression=comp
-00002d10: 7265 7373 696f 6e29 0a20 2020 2020 2020  ression).       
-00002d20: 2020 2020 2074 696d 6572 2e73 746f 705f       timer.stop_
-00002d30: 7469 6d65 7228 290a 2020 2020 2020 2020  timer().        
-00002d40: 7374 646f 7574 5f73 7563 6365 7373 280a  stdout_success(.
-00002d50: 2020 2020 2020 2020 2020 2020 6d73 673d              msg=
-00002d60: 6622 5349 4d42 4120 434f 4d50 4c45 5445  f"SIMBA COMPLETE
-00002d70: 3a20 7b6c 656e 2866 696c 655f 7061 7468  : {len(file_path
-00002d80: 7329 7d20 696d 6167 6520 6669 6c65 2873  s)} image file(s
-00002d90: 2920 696e 207b 6469 7265 6374 6f72 797d  ) in {directory}
-00002da0: 2064 6972 6563 746f 7279 2063 6f6e 7665   directory conve
-00002db0: 7274 6564 2074 6f20 5449 4646 2061 6e64  rted to TIFF and
-00002dc0: 2073 746f 7265 6420 696e 207b 7361 7665   stored in {save
-00002dd0: 5f64 6972 7d20 6469 7265 6374 6f72 7922  _dir} directory"
-00002de0: 2c0a 2020 2020 2020 2020 2020 2020 736f  ,.            so
-00002df0: 7572 6365 3d63 6f6e 7665 7274 5f74 6f5f  urce=convert_to_
-00002e00: 7469 6666 2e5f 5f6e 616d 655f 5f2c 2065  tiff.__name__, e
-00002e10: 6c61 7073 6564 5f74 696d 653d 7469 6d65  lapsed_time=time
-00002e20: 722e 656c 6170 7365 645f 7469 6d65 5f73  r.elapsed_time_s
-00002e30: 7472 290a 2020 2020 656c 7365 3a0a 2020  tr).    else:.  
-00002e40: 2020 2020 2020 7361 7665 5f70 6174 6820        save_path 
-00002e50: 3d20 6f73 2e70 6174 682e 6a6f 696e 2873  = os.path.join(s
-00002e60: 6176 655f 6469 722c 2066 277b 6f73 2e70  ave_dir, f'{os.p
-00002e70: 6174 682e 6261 7365 6e61 6d65 2864 6972  ath.basename(dir
-00002e80: 6563 746f 7279 297d 2e74 6966 6627 290a  ectory)}.tiff').
-00002e90: 2020 2020 2020 2020 6669 6c65 5f70 6174          file_pat
-00002ea0: 6873 2e73 6f72 7428 290a 2020 2020 2020  hs.sort().      
-00002eb0: 2020 7769 7468 2049 6d61 6765 2e6f 7065    with Image.ope
-00002ec0: 6e28 6669 6c65 5f70 6174 6873 5b30 5d29  n(file_paths[0])
-00002ed0: 2061 7320 6669 7273 745f 696d 673a 0a20   as first_img:. 
-00002ee0: 2020 2020 2020 2020 2020 206d 6f64 652c             mode,
-00002ef0: 2073 697a 6520 3d20 6669 7273 745f 696d   size = first_im
-00002f00: 672e 6d6f 6465 2c20 6669 7273 745f 696d  g.mode, first_im
-00002f10: 672e 7369 7a65 0a20 2020 2020 2020 2020  g.size.         
-00002f20: 2020 2069 6d61 6765 7320 3d20 5b5d 0a20     images = []. 
-00002f30: 2020 2020 2020 2020 2020 2066 6f72 2066             for f
-00002f40: 696c 655f 636e 742c 2066 696c 6520 696e  ile_cnt, file in
-00002f50: 2065 6e75 6d65 7261 7465 2866 696c 655f   enumerate(file_
-00002f60: 7061 7468 7329 3a0a 2020 2020 2020 2020  paths):.        
-00002f70: 2020 2020 2020 2020 6966 2076 6572 626f          if verbo
-00002f80: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00002f90: 2020 2020 2020 2020 7072 696e 7428 6622          print(f"
-00002fa0: 436f 6e76 6572 7469 6e67 2066 696c 6520  Converting file 
-00002fb0: 7b66 696c 655f 636e 7420 2b20 317d 2f7b  {file_cnt + 1}/{
-00002fc0: 6c65 6e28 6669 6c65 5f70 6174 6873 297d  len(file_paths)}
-00002fd0: 202e 2e2e 2229 0a20 2020 2020 2020 2020   ...").         
-00002fe0: 2020 2020 2020 2077 6974 6820 496d 6167         with Imag
-00002ff0: 652e 6f70 656e 2866 696c 6529 2061 7320  e.open(file) as 
-00003000: 696d 673a 0a20 2020 2020 2020 2020 2020  img:.           
-00003010: 2020 2020 2020 2020 2069 6d67 203d 2069           img = i
-00003020: 6d67 2e63 6f6e 7665 7274 286d 6f64 6529  mg.convert(mode)
-00003030: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00003040: 2020 2020 2069 6d67 203d 2069 6d67 2e72       img = img.r
-00003050: 6573 697a 6528 7369 7a65 290a 2020 2020  esize(size).    
-00003060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003070: 696d 6167 6573 2e61 7070 656e 6428 696d  images.append(im
-00003080: 6729 0a20 2020 2020 2020 2069 6d61 6765  g).        image
-00003090: 735b 305d 2e73 6176 6528 7361 7665 5f70  s[0].save(save_p
-000030a0: 6174 682c 2073 6176 655f 616c 6c3d 5472  ath, save_all=Tr
-000030b0: 7565 2c20 6170 7065 6e64 5f69 6d61 6765  ue, append_image
-000030c0: 733d 696d 6167 6573 5b31 3a5d 2c20 666f  s=images[1:], fo
-000030d0: 726d 6174 3d27 5449 4646 272c 2063 6f6d  rmat='TIFF', com
-000030e0: 7072 6573 7369 6f6e 3d63 6f6d 7072 6573  pression=compres
-000030f0: 7369 6f6e 290a 2020 2020 2020 2020 7469  sion).        ti
-00003100: 6d65 722e 7374 6f70 5f74 696d 6572 2829  mer.stop_timer()
-00003110: 0a20 2020 2020 2020 2073 7464 6f75 745f  .        stdout_
-00003120: 7375 6363 6573 7328 0a20 2020 2020 2020  success(.       
-00003130: 2020 2020 206d 7367 3d66 2253 494d 4241       msg=f"SIMBA
-00003140: 2043 4f4d 504c 4554 453a 207b 6c65 6e28   COMPLETE: {len(
-00003150: 6669 6c65 5f70 6174 6873 297d 2069 6d61  file_paths)} ima
-00003160: 6765 2066 696c 6528 7329 2069 6e20 7b64  ge file(s) in {d
-00003170: 6972 6563 746f 7279 7d20 6469 7265 6374  irectory} direct
-00003180: 6f72 7920 636f 6e76 6572 7465 6420 746f  ory converted to
-00003190: 2054 4946 4620 7374 6163 6b20 616e 6420   TIFF stack and 
-000031a0: 7374 6f72 6564 2069 6e20 7b73 6176 655f  stored in {save_
-000031b0: 6469 727d 2064 6972 6563 746f 7279 222c  dir} directory",
-000031c0: 0a20 2020 2020 2020 2020 2020 2073 6f75  .            sou
-000031d0: 7263 653d 636f 6e76 6572 745f 746f 5f74  rce=convert_to_t
-000031e0: 6966 662e 5f5f 6e61 6d65 5f5f 2c20 656c  iff.__name__, el
-000031f0: 6170 7365 645f 7469 6d65 3d74 696d 6572  apsed_time=timer
-00003200: 2e65 6c61 7073 6564 5f74 696d 655f 7374  .elapsed_time_st
-00003210: 7229 0a0a 0a64 6566 2063 6f6e 7665 7274  r)...def convert
-00003220: 5f74 6f5f 7765 6270 2864 6972 6563 746f  _to_webp(directo
-00003230: 7279 3a20 556e 696f 6e5b 7374 722c 206f  ry: Union[str, o
-00003240: 732e 5061 7468 4c69 6b65 5d2c 0a20 2020  s.PathLike],.   
-00003250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003260: 2071 7561 6c69 7479 3a20 4f70 7469 6f6e   quality: Option
-00003270: 616c 5b69 6e74 5d20 3d20 3935 2c0a 2020  al[int] = 95,.  
-00003280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003290: 2020 7665 7262 6f73 653a 204f 7074 696f    verbose: Optio
-000032a0: 6e61 6c5b 626f 6f6c 5d20 3d20 5472 7565  nal[bool] = True
-000032b0: 293a 0a0a 2020 2020 2222 220a 2020 2020  ):..    """.    
-000032c0: 436f 6e76 6572 7420 7468 6520 6669 6c65  Convert the file
-000032d0: 2074 7970 6520 6f66 2061 6c6c 2069 6d61   type of all ima
-000032e0: 6765 2066 696c 6573 2077 6974 6869 6e20  ge files within 
-000032f0: 6120 6469 7265 6374 6f72 7920 746f 2057  a directory to W
-00003300: 4542 5020 666f 726d 6174 206f 6620 7061  EBP format of pa
-00003310: 7373 6564 2071 7561 6c69 7479 2e0a 0a20  ssed quality... 
-00003320: 2020 203a 7061 7261 6d65 7465 7220 556e     :parameter Un
-00003330: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
-00003340: 4c69 6b65 5d20 6469 7265 6374 6f72 793a  Like] directory:
-00003350: 2050 6174 6820 746f 2064 6972 6563 746f   Path to directo
-00003360: 7279 2068 6f6c 6469 6e67 2069 6d61 6765  ry holding image
-00003370: 2066 696c 6573 0a20 2020 203a 7061 7261   files.    :para
-00003380: 6d65 7465 7220 4f70 7469 6f6e 616c 5b69  meter Optional[i
-00003390: 6e74 5d20 7175 616c 6974 793a 2054 6865  nt] quality: The
-000033a0: 2071 7561 6c69 7479 206f 6620 7468 6520   quality of the 
-000033b0: 6f75 7470 7574 2069 6d61 6765 7320 2830  output images (0
-000033c0: 2d31 3030 292e 0a20 2020 203a 7061 7261  -100)..    :para
-000033d0: 6d65 7465 7220 4f70 7469 6f6e 616c 5b62  meter Optional[b
-000033e0: 6f6f 6c5d 2076 6572 626f 7365 3a20 4966  ool] verbose: If
-000033f0: 2054 7275 652c 2070 7269 6e74 7320 7072   True, prints pr
-00003400: 6f67 7265 7373 2e20 4465 6661 756c 7420  ogress. Default 
-00003410: 4661 6c73 652e 0a0a 2020 2020 3a65 7861  False...    :exa
-00003420: 6d70 6c65 3a0a 2020 2020 3e3e 3e20 636f  mple:.    >>> co
-00003430: 6e76 6572 745f 746f 5f77 6562 7028 272f  nvert_to_webp('/
-00003440: 5573 6572 732f 7369 6d6f 6e2f 4465 736b  Users/simon/Desk
-00003450: 746f 702f 696d 6773 272c 2071 7561 6c69  top/imgs', quali
-00003460: 7479 3d38 3029 0a20 2020 2022 2222 0a0a  ty=80).    """..
-00003470: 2020 2020 7469 6d65 7220 3d20 5369 6d62      timer = Simb
-00003480: 6154 696d 6572 2873 7461 7274 3d54 7275  aTimer(start=Tru
-00003490: 6529 0a20 2020 2063 6865 636b 5f69 665f  e).    check_if_
-000034a0: 6469 725f 6578 6973 7473 2869 6e5f 6469  dir_exists(in_di
-000034b0: 723d 6469 7265 6374 6f72 792c 2073 6f75  r=directory, sou
-000034c0: 7263 653d 636f 6e76 6572 745f 746f 5f77  rce=convert_to_w
-000034d0: 6562 702e 5f5f 6e61 6d65 5f5f 290a 2020  ebp.__name__).  
-000034e0: 2020 6368 6563 6b5f 696e 7428 6e61 6d65    check_int(name
-000034f0: 3d66 277b 636f 6e76 6572 745f 746f 5f77  =f'{convert_to_w
-00003500: 6562 702e 5f5f 6e61 6d65 5f5f 7d20 7175  ebp.__name__} qu
-00003510: 616c 6974 7927 2c20 7661 6c75 653d 7175  ality', value=qu
-00003520: 616c 6974 792c 206d 696e 5f76 616c 7565  ality, min_value
-00003530: 3d31 2c20 6d61 785f 7661 6c75 653d 3130  =1, max_value=10
-00003540: 3029 0a20 2020 2066 696c 655f 7061 7468  0).    file_path
-00003550: 7320 3d20 6669 6e64 5f66 696c 6573 5f6f  s = find_files_o
-00003560: 665f 6669 6c65 7479 7065 735f 696e 5f64  f_filetypes_in_d
-00003570: 6972 6563 746f 7279 2864 6972 6563 746f  irectory(directo
-00003580: 7279 3d64 6972 6563 746f 7279 2c20 6578  ry=directory, ex
-00003590: 7465 6e73 696f 6e73 3d4f 7074 696f 6e73  tensions=Options
-000035a0: 2e41 4c4c 5f49 4d41 4745 5f46 4f52 4d41  .ALL_IMAGE_FORMA
-000035b0: 545f 4f50 5449 4f4e 532e 7661 6c75 652c  T_OPTIONS.value,
-000035c0: 2072 6169 7365 5f65 7272 6f72 3d54 7275   raise_error=Tru
-000035d0: 6529 0a20 2020 2064 6174 6574 696d 655f  e).    datetime_
-000035e0: 203d 2064 6174 6574 696d 652e 6e6f 7728   = datetime.now(
-000035f0: 292e 7374 7266 7469 6d65 2822 2559 256d  ).strftime("%Y%m
-00003600: 2564 2548 254d 2553 2229 0a20 2020 2070  %d%H%M%S").    p
-00003610: 7269 6e74 2866 227b 6c65 6e28 6669 6c65  rint(f"{len(file
-00003620: 5f70 6174 6873 297d 2069 6d61 6765 2066  _paths)} image f
-00003630: 696c 6528 7329 2066 6f75 6e64 2069 6e20  ile(s) found in 
-00003640: 7b64 6972 6563 746f 7279 7d2e 2e2e 2229  {directory}...")
-00003650: 0a20 2020 2073 6176 655f 6469 7220 3d20  .    save_dir = 
-00003660: 6f73 2e70 6174 682e 6a6f 696e 2864 6972  os.path.join(dir
-00003670: 6563 746f 7279 2c20 6627 7765 626d 5f7b  ectory, f'webm_{
-00003680: 6461 7465 7469 6d65 5f7d 2729 0a20 2020  datetime_}').   
-00003690: 206f 732e 6d61 6b65 6469 7273 2873 6176   os.makedirs(sav
-000036a0: 655f 6469 7229 0a20 2020 2066 6f72 2066  e_dir).    for f
-000036b0: 696c 655f 636e 742c 2066 696c 655f 7061  ile_cnt, file_pa
-000036c0: 7468 2069 6e20 656e 756d 6572 6174 6528  th in enumerate(
-000036d0: 6669 6c65 5f70 6174 6873 293a 0a20 2020  file_paths):.   
-000036e0: 2020 2020 2064 6972 2c20 6669 6c65 5f6e       dir, file_n
-000036f0: 616d 652c 205f 203d 2067 6574 5f66 6e5f  ame, _ = get_fn_
-00003700: 6578 7428 6669 6c65 7061 7468 3d66 696c  ext(filepath=fil
-00003710: 655f 7061 7468 290a 2020 2020 2020 2020  e_path).        
-00003720: 7361 7665 5f70 6174 6820 3d20 6f73 2e70  save_path = os.p
-00003730: 6174 682e 6a6f 696e 2873 6176 655f 6469  ath.join(save_di
-00003740: 722c 2066 277b 6669 6c65 5f6e 616d 657d  r, f'{file_name}
-00003750: 2e77 6562 7027 290a 2020 2020 2020 2020  .webp').        
-00003760: 696d 6720 3d20 6376 322e 696d 7265 6164  img = cv2.imread
-00003770: 2866 696c 655f 7061 7468 290a 2020 2020  (file_path).    
-00003780: 2020 2020 2369 6d67 203d 2063 7632 2e63      #img = cv2.c
-00003790: 7674 436f 6c6f 7228 696d 672c 2063 7632  vtColor(img, cv2
-000037a0: 2e43 4f4c 4f52 5f42 4752 3252 4742 290a  .COLOR_BGR2RGB).
-000037b0: 2020 2020 2020 2020 6966 2076 6572 626f          if verbo
-000037c0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-000037d0: 7072 696e 7428 6622 436f 6e76 6572 7469  print(f"Converti
-000037e0: 6e67 2066 696c 6520 7b66 696c 655f 636e  ng file {file_cn
-000037f0: 742b 317d 2f7b 6c65 6e28 6669 6c65 5f70  t+1}/{len(file_p
-00003800: 6174 6873 297d 202e 2e2e 2229 0a20 2020  aths)} ...").   
-00003810: 2020 2020 2063 7632 2e69 6d77 7269 7465       cv2.imwrite
-00003820: 2873 6176 655f 7061 7468 2c20 696d 672c  (save_path, img,
-00003830: 205b 6376 322e 494d 5752 4954 455f 5745   [cv2.IMWRITE_WE
-00003840: 4250 5f51 5541 4c49 5459 2c20 7175 616c  BP_QUALITY, qual
-00003850: 6974 795d 290a 2020 2020 7469 6d65 722e  ity]).    timer.
-00003860: 7374 6f70 5f74 696d 6572 2829 0a20 2020  stop_timer().   
-00003870: 2073 7464 6f75 745f 7375 6363 6573 7328   stdout_success(
-00003880: 6d73 673d 6622 5349 4d42 4120 434f 4d50  msg=f"SIMBA COMP
-00003890: 4c45 5445 3a20 7b6c 656e 2866 696c 655f  LETE: {len(file_
-000038a0: 7061 7468 7329 7d20 696d 6167 6520 6669  paths)} image fi
-000038b0: 6c65 2873 2920 696e 207b 6469 7265 6374  le(s) in {direct
-000038c0: 6f72 797d 2064 6972 6563 746f 7279 2063  ory} directory c
-000038d0: 6f6e 7665 7274 6564 2074 6f20 5745 4250  onverted to WEBP
-000038e0: 2061 6e64 2073 746f 7265 6420 696e 207b   and stored in {
-000038f0: 7361 7665 5f64 6972 7d20 6469 7265 6374  save_dir} direct
-00003900: 6f72 7922 2c20 736f 7572 6365 3d63 6f6e  ory", source=con
-00003910: 7665 7274 5f74 6f5f 7765 6270 2e5f 5f6e  vert_to_webp.__n
-00003920: 616d 655f 5f2c 2065 6c61 7073 6564 5f74  ame__, elapsed_t
-00003930: 696d 653d 7469 6d65 722e 656c 6170 7365  ime=timer.elapse
-00003940: 645f 7469 6d65 5f73 7472 290a 0a0a 6465  d_time_str)...de
-00003950: 6620 636c 6168 655f 656e 6861 6e63 655f  f clahe_enhance_
-00003960: 7669 6465 6f28 0a20 2020 2066 696c 655f  video(.    file_
-00003970: 7061 7468 3a20 556e 696f 6e5b 7374 722c  path: Union[str,
-00003980: 206f 732e 5061 7468 4c69 6b65 5d2c 0a20   os.PathLike],. 
-00003990: 2020 2063 6c69 705f 6c69 6d69 743a 204f     clip_limit: O
-000039a0: 7074 696f 6e61 6c5b 696e 745d 203d 2032  ptional[int] = 2
-000039b0: 2c0a 2020 2020 7469 6c65 5f67 7269 645f  ,.    tile_grid_
-000039c0: 7369 7a65 3a20 4f70 7469 6f6e 616c 5b54  size: Optional[T
-000039d0: 7570 6c65 5b69 6e74 5d5d 203d 2028 3136  uple[int]] = (16
-000039e0: 2c20 3136 292c 0a20 2020 206f 7574 5f70  , 16),.    out_p
-000039f0: 6174 683a 204f 7074 696f 6e61 6c5b 556e  ath: Optional[Un
-00003a00: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
-00003a10: 4c69 6b65 5d5d 203d 204e 6f6e 6529 202d  Like]] = None) -
-00003a20: 3e20 4e6f 6e65 3a0a 0a20 2020 2022 2222  > None:..    """
-00003a30: 0a20 2020 2043 6f6e 7665 7274 2061 2073  .    Convert a s
-00003a40: 696e 676c 6520 7669 6465 6f20 6669 6c65  ingle video file
-00003a50: 2074 6f20 636c 6168 652d 656e 6861 6e63   to clahe-enhanc
-00003a60: 6564 2067 7265 7973 6361 6c65 202e 6176  ed greyscale .av
-00003a70: 6920 6669 6c65 2e20 5468 6520 7265 7375  i file. The resu
-00003a80: 6c74 2069 7320 7361 7665 6420 7769 7468  lt is saved with
-00003a90: 2070 7265 6669 780a 2020 2020 6060 434c   prefix.    ``CL
-00003aa0: 4148 455f 6060 2069 6e20 7468 6520 7361  AHE_`` in the sa
-00003ab0: 6d65 2064 6972 6563 746f 7279 2061 7320  me directory as 
-00003ac0: 696e 2074 6865 2069 6e70 7574 2066 696c  in the input fil
-00003ad0: 6520 6966 206f 7574 5f70 6174 6820 6973  e if out_path is
-00003ae0: 206e 6f74 2070 6173 7365 642e 2045 6c73   not passed. Els
-00003af0: 6520 7361 7665 6420 6174 2074 6865 206f  e saved at the o
-00003b00: 7574 5f70 6174 682e 0a0a 2020 2020 2e2e  ut_path...    ..
-00003b10: 2069 6d61 6765 3a3a 205f 7374 6174 6963   image:: _static
-00003b20: 2f69 6d67 2f63 6c61 6865 5f65 6e68 616e  /img/clahe_enhan
-00003b30: 6365 5f76 6964 656f 2e67 6966 0a20 2020  ce_video.gif.   
-00003b40: 2020 2020 3a77 6964 7468 3a20 3830 300a      :width: 800.
-00003b50: 2020 2020 2020 203a 616c 6967 6e3a 2063         :align: c
-00003b60: 656e 7465 720a 0a20 2020 203a 7061 7261  enter..    :para
-00003b70: 6d65 7465 7220 556e 696f 6e5b 7374 722c  meter Union[str,
-00003b80: 206f 732e 5061 7468 4c69 6b65 5d20 6669   os.PathLike] fi
-00003b90: 6c65 5f70 6174 683a 2050 6174 6820 746f  le_path: Path to
-00003ba0: 2076 6964 656f 2066 696c 652e 0a20 2020   video file..   
-00003bb0: 203a 7061 7261 6d65 7465 7220 4f70 7469   :parameter Opti
-00003bc0: 6f6e 616c 5b69 6e74 5d20 636c 6970 5f6c  onal[int] clip_l
-00003bd0: 696d 6974 3a20 434c 4148 4520 616d 706c  imit: CLAHE ampl
-00003be0: 6966 6963 6174 696f 6e20 6c69 6d69 742e  ification limit.
-00003bf0: 2049 6e63 6372 6561 7365 6420 636c 6970   Inccreased clip
-00003c00: 206c 696d 6974 2072 6564 7563 6520 6e6f   limit reduce no
-00003c10: 6973 6520 696e 206f 7574 7075 742e 2044  ise in output. D
-00003c20: 6566 6175 6c74 3a20 322e 0a20 2020 203a  efault: 2..    :
-00003c30: 7061 7261 6d65 7465 7220 4f70 7469 6f6e  parameter Option
-00003c40: 616c 5b54 7570 6c65 5b69 6e74 5d5d 2074  al[Tuple[int]] t
-00003c50: 696c 655f 6772 6964 5f73 697a 653a 2054  ile_grid_size: T
-00003c60: 6865 2068 6973 746f 6772 616d 206b 6572  he histogram ker
-00003c70: 6e65 6c20 7369 7a65 2e0a 0a20 2020 203a  nel size...    :
-00003c80: 6578 616d 706c 653a 0a20 2020 203e 3e3e  example:.    >>>
-00003c90: 205f 203d 2063 6c61 6865 5f65 6e68 616e   _ = clahe_enhan
-00003ca0: 6365 5f76 6964 656f 2866 696c 655f 7061  ce_video(file_pa
-00003cb0: 7468 3a20 2770 726f 6a65 6374 5f66 6f6c  th: 'project_fol
-00003cc0: 6465 722f 7669 6465 6f73 2f56 6964 656f  der/videos/Video
-00003cd0: 5f31 2e6d 7034 2729 0a20 2020 2022 2222  _1.mp4').    """
-00003ce0: 0a0a 2020 2020 6368 6563 6b5f 6669 6c65  ..    check_file
-00003cf0: 5f65 7869 7374 5f61 6e64 5f72 6561 6461  _exist_and_reada
-00003d00: 626c 6528 6669 6c65 5f70 6174 683d 6669  ble(file_path=fi
-00003d10: 6c65 5f70 6174 6829 0a20 2020 2063 6865  le_path).    che
-00003d20: 636b 5f69 6e74 286e 616d 653d 6622 7b63  ck_int(name=f"{c
-00003d30: 6c61 6865 5f65 6e68 616e 6365 5f76 6964  lahe_enhance_vid
-00003d40: 656f 2e5f 5f6e 616d 655f 5f7d 2063 6c69  eo.__name__} cli
-00003d50: 705f 6c69 6d69 7422 2c20 7661 6c75 653d  p_limit", value=
-00003d60: 636c 6970 5f6c 696d 6974 2c20 6d69 6e5f  clip_limit, min_
-00003d70: 7661 6c75 653d 3029 0a20 2020 2076 6964  value=0).    vid
-00003d80: 656f 5f6d 6574 615f 6461 7461 203d 2067  eo_meta_data = g
-00003d90: 6574 5f76 6964 656f 5f6d 6574 615f 6461  et_video_meta_da
-00003da0: 7461 2866 696c 655f 7061 7468 290a 2020  ta(file_path).  
-00003db0: 2020 6368 6563 6b5f 7661 6c69 645f 7475    check_valid_tu
-00003dc0: 706c 6528 0a20 2020 2020 2020 2078 3d74  ple(.        x=t
-00003dd0: 696c 655f 6772 6964 5f73 697a 652c 0a20  ile_grid_size,. 
-00003de0: 2020 2020 2020 2073 6f75 7263 653d 6627         source=f'
-00003df0: 7b63 6c61 6865 5f65 6e68 616e 6365 5f76  {clahe_enhance_v
-00003e00: 6964 656f 2e5f 5f6e 616d 655f 5f7d 2074  ideo.__name__} t
-00003e10: 696c 655f 6772 6964 5f73 697a 6527 2c0a  ile_grid_size',.
-00003e20: 2020 2020 2020 2020 6163 6365 7074 6564          accepted
-00003e30: 5f6c 656e 6774 6873 3d28 322c 292c 0a20  _lengths=(2,),. 
-00003e40: 2020 2020 2020 2076 616c 6964 5f64 7479         valid_dty
-00003e50: 7065 733d 2869 6e74 2c29 2c0a 2020 2020  pes=(int,),.    
-00003e60: 290a 2020 2020 6966 2028 7469 6c65 5f67  ).    if (tile_g
-00003e70: 7269 645f 7369 7a65 5b30 5d20 3e20 7669  rid_size[0] > vi
-00003e80: 6465 6f5f 6d65 7461 5f64 6174 615b 2268  deo_meta_data["h
-00003e90: 6569 6768 7422 5d29 206f 7220 280a 2020  eight"]) or (.  
-00003ea0: 2020 2020 2020 2874 696c 655f 6772 6964        (tile_grid
-00003eb0: 5f73 697a 655b 315d 203e 2076 6964 656f  _size[1] > video
-00003ec0: 5f6d 6574 615f 6461 7461 5b22 7769 6474  _meta_data["widt
-00003ed0: 6822 5d29 0a20 2020 2029 3a0a 2020 2020  h"]).    ):.    
-00003ee0: 2020 2020 7261 6973 6520 496e 7661 6c69      raise Invali
-00003ef0: 6449 6e70 7574 4572 726f 7228 0a20 2020  dInputError(.   
-00003f00: 2020 2020 2020 2020 206d 7367 3d66 2754           msg=f'T
-00003f10: 6865 2074 696c 6520 6772 6964 2073 697a  he tile grid siz
-00003f20: 6520 287b 7469 6c65 5f67 7269 645f 7369  e ({tile_grid_si
-00003f30: 7a65 7d29 2069 7320 6c61 7267 6572 2074  ze}) is larger t
-00003f40: 6861 6e20 7468 6520 7669 6465 6f20 7369  han the video si
-00003f50: 7a65 2028 7b76 6964 656f 5f6d 6574 615f  ze ({video_meta_
-00003f60: 6461 7461 5b22 7265 736f 6c75 7469 6f6e  data["resolution
-00003f70: 5f73 7472 225d 7d29 272c 0a20 2020 2020  _str"]})',.     
-00003f80: 2020 2020 2020 2073 6f75 7263 653d 636c         source=cl
-00003f90: 6168 655f 656e 6861 6e63 655f 7669 6465  ahe_enhance_vide
-00003fa0: 6f2e 5f5f 6e61 6d65 5f5f 2c0a 2020 2020  o.__name__,.    
-00003fb0: 2020 2020 290a 2020 2020 6469 722c 2066      ).    dir, f
-00003fc0: 696c 655f 6e61 6d65 2c20 6669 6c65 5f65  ile_name, file_e
-00003fd0: 7874 203d 2067 6574 5f66 6e5f 6578 7428  xt = get_fn_ext(
-00003fe0: 6669 6c65 7061 7468 3d66 696c 655f 7061  filepath=file_pa
-00003ff0: 7468 290a 2020 2020 6966 206f 7574 5f70  th).    if out_p
-00004000: 6174 6820 6973 204e 6f6e 653a 0a20 2020  ath is None:.   
-00004010: 2020 2020 2073 6176 655f 7061 7468 203d       save_path =
-00004020: 206f 732e 7061 7468 2e6a 6f69 6e28 6469   os.path.join(di
-00004030: 722c 2066 2243 4c41 4845 5f7b 6669 6c65  r, f"CLAHE_{file
-00004040: 5f6e 616d 657d 2e61 7669 2229 0a20 2020  _name}.avi").   
-00004050: 2065 6c73 653a 0a20 2020 2020 2020 2063   else:.        c
-00004060: 6865 636b 5f69 665f 6469 725f 6578 6973  heck_if_dir_exis
-00004070: 7473 2869 6e5f 6469 723d 6f73 2e70 6174  ts(in_dir=os.pat
-00004080: 682e 6469 726e 616d 6528 6f75 745f 7061  h.dirname(out_pa
-00004090: 7468 292c 2073 6f75 7263 653d 6627 7b63  th), source=f'{c
-000040a0: 6c61 6865 5f65 6e68 616e 6365 5f76 6964  lahe_enhance_vid
-000040b0: 656f 2e5f 5f6e 616d 655f 5f7d 206f 7574  eo.__name__} out
-000040c0: 5f70 6174 6827 290a 2020 2020 2020 2020  _path').        
-000040d0: 7361 7665 5f70 6174 6820 3d20 6f75 745f  save_path = out_
-000040e0: 7061 7468 0a20 2020 2066 6f75 7263 6320  path.    fourcc 
-000040f0: 3d20 6376 322e 5669 6465 6f57 7269 7465  = cv2.VideoWrite
-00004100: 725f 666f 7572 6363 282a 466f 726d 6174  r_fourcc(*Format
-00004110: 732e 4156 495f 434f 4445 432e 7661 6c75  s.AVI_CODEC.valu
-00004120: 6529 0a20 2020 2070 7269 6e74 2866 2241  e).    print(f"A
-00004130: 7070 6c79 696e 6720 434c 4148 4520 6f6e  pplying CLAHE on
-00004140: 2076 6964 656f 207b 6669 6c65 5f6e 616d   video {file_nam
-00004150: 657d 2c20 7468 6973 206d 6967 6874 2074  e}, this might t
-00004160: 616b 6520 6177 6869 6c65 2e2e 2e22 290a  ake awhile...").
-00004170: 2020 2020 6361 7020 3d20 6376 322e 5669      cap = cv2.Vi
-00004180: 6465 6f43 6170 7475 7265 2866 696c 655f  deoCapture(file_
-00004190: 7061 7468 290a 2020 2020 7772 6974 6572  path).    writer
-000041a0: 203d 2063 7632 2e56 6964 656f 5772 6974   = cv2.VideoWrit
-000041b0: 6572 280a 2020 2020 2020 2020 7361 7665  er(.        save
-000041c0: 5f70 6174 682c 0a20 2020 2020 2020 2066  _path,.        f
-000041d0: 6f75 7263 632c 0a20 2020 2020 2020 2076  ourcc,.        v
-000041e0: 6964 656f 5f6d 6574 615f 6461 7461 5b22  ideo_meta_data["
-000041f0: 6670 7322 5d2c 0a20 2020 2020 2020 2028  fps"],.        (
-00004200: 7669 6465 6f5f 6d65 7461 5f64 6174 615b  video_meta_data[
-00004210: 2277 6964 7468 225d 2c20 7669 6465 6f5f  "width"], video_
-00004220: 6d65 7461 5f64 6174 615b 2268 6569 6768  meta_data["heigh
-00004230: 7422 5d29 2c0a 2020 2020 2020 2020 302c  t"]),.        0,
-00004240: 0a20 2020 2029 0a20 2020 2063 6c61 6865  .    ).    clahe
-00004250: 5f66 696c 7465 7220 3d20 6376 322e 6372  _filter = cv2.cr
-00004260: 6561 7465 434c 4148 4528 0a20 2020 2020  eateCLAHE(.     
-00004270: 2020 2063 6c69 704c 696d 6974 3d69 6e74     clipLimit=int
-00004280: 2863 6c69 705f 6c69 6d69 7429 2c20 7469  (clip_limit), ti
-00004290: 6c65 4772 6964 5369 7a65 3d74 696c 655f  leGridSize=tile_
-000042a0: 6772 6964 5f73 697a 650a 2020 2020 290a  grid_size.    ).
-000042b0: 2020 2020 6672 6d5f 636e 7420 3d20 300a      frm_cnt = 0.
-000042c0: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-000042d0: 2077 6869 6c65 2054 7275 653a 0a20 2020   while True:.   
-000042e0: 2020 2020 2020 2020 2072 6574 2c20 696d           ret, im
-000042f0: 6720 3d20 6361 702e 7265 6164 2829 0a20  g = cap.read(). 
-00004300: 2020 2020 2020 2020 2020 2069 6620 7265             if re
-00004310: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
-00004320: 2020 2066 726d 5f63 6e74 202b 3d20 310a     frm_cnt += 1.
-00004330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004340: 696d 6720 3d20 6376 322e 6376 7443 6f6c  img = cv2.cvtCol
-00004350: 6f72 2869 6d67 2c20 6376 322e 434f 4c4f  or(img, cv2.COLO
-00004360: 525f 4247 5232 4752 4159 290a 2020 2020  R_BGR2GRAY).    
-00004370: 2020 2020 2020 2020 2020 2020 636c 6168              clah
-00004380: 655f 6672 6d20 3d20 636c 6168 655f 6669  e_frm = clahe_fi
-00004390: 6c74 6572 2e61 7070 6c79 2869 6d67 290a  lter.apply(img).
-000043a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000043b0: 7772 6974 6572 2e77 7269 7465 2863 6c61  writer.write(cla
-000043c0: 6865 5f66 726d 290a 2020 2020 2020 2020  he_frm).        
-000043d0: 2020 2020 2020 2020 7072 696e 7428 0a20          print(. 
-000043e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000043f0: 2020 2066 2243 4c41 4845 2063 6f6e 7665     f"CLAHE conve
-00004400: 7274 6564 2066 7261 6d65 207b 6672 6d5f  rted frame {frm_
-00004410: 636e 747d 2f7b 7669 6465 6f5f 6d65 7461  cnt}/{video_meta
-00004420: 5f64 6174 615b 2766 7261 6d65 5f63 6f75  _data['frame_cou
-00004430: 6e74 275d 7d20 287b 6669 6c65 5f6e 616d  nt']} ({file_nam
-00004440: 657d 292e 2e2e 220a 2020 2020 2020 2020  e})...".        
-00004450: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00004460: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00004470: 2020 2020 2020 2020 2020 2020 6272 6561              brea
-00004480: 6b0a 2020 2020 2020 2020 6361 702e 7265  k.        cap.re
-00004490: 6c65 6173 6528 290a 2020 2020 2020 2020  lease().        
-000044a0: 7772 6974 6572 2e72 656c 6561 7365 2829  writer.release()
-000044b0: 0a20 2020 2020 2020 2070 7269 6e74 2866  .        print(f
-000044c0: 2243 4c41 4845 2076 6964 656f 2063 7265  "CLAHE video cre
-000044d0: 6174 6564 3a20 7b73 6176 655f 7061 7468  ated: {save_path
-000044e0: 7d2e 2229 0a20 2020 2065 7863 6570 7420  }.").    except 
-000044f0: 4578 6365 7074 696f 6e20 6173 2073 653a  Exception as se:
-00004500: 0a20 2020 2020 2020 2070 7269 6e74 2873  .        print(s
-00004510: 652e 6172 6773 290a 2020 2020 2020 2020  e.args).        
-00004520: 7072 696e 7428 6622 434c 4148 4520 636f  print(f"CLAHE co
-00004530: 6e76 6572 7369 6f6e 2066 6169 6c65 6420  nversion failed 
-00004540: 666f 7220 7669 6465 6f20 7b66 696c 655f  for video {file_
-00004550: 6e61 6d65 7d2e 2229 0a20 2020 2020 2020  name}.").       
-00004560: 2063 6170 2e72 656c 6561 7365 2829 0a20   cap.release(). 
-00004570: 2020 2020 2020 2077 7269 7465 722e 7265         writer.re
-00004580: 6c65 6173 6528 290a 2020 2020 2020 2020  lease().        
-00004590: 7261 6973 6520 496e 7661 6c69 6456 6964  raise InvalidVid
-000045a0: 656f 4669 6c65 4572 726f 7228 0a20 2020  eoFileError(.   
-000045b0: 2020 2020 2020 2020 206d 7367 3d66 2243           msg=f"C
-000045c0: 6f75 6c64 206e 6f74 2063 6f6e 7665 7274  ould not convert
-000045d0: 2066 696c 6520 7b66 696c 655f 7061 7468   file {file_path
-000045e0: 7d20 746f 2043 4c41 4845 2065 6e68 616e  } to CLAHE enhan
-000045f0: 6365 6420 7669 6465 6f22 2c0a 2020 2020  ced video",.    
-00004600: 2020 2020 2020 2020 736f 7572 6365 3d63          source=c
-00004610: 6c61 6865 5f65 6e68 616e 6365 5f76 6964  lahe_enhance_vid
-00004620: 656f 2e5f 5f6e 616d 655f 5f2c 0a20 2020  eo.__name__,.   
-00004630: 2020 2020 2029 0a0a 0a64 6566 2065 7874       )...def ext
-00004640: 7261 6374 5f66 7261 6d65 5f72 616e 6765  ract_frame_range
-00004650: 2866 696c 655f 7061 7468 3a20 556e 696f  (file_path: Unio
-00004660: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
-00004670: 6b65 5d2c 0a20 2020 2020 2020 2020 2020  ke],.           
-00004680: 2020 2020 2020 2020 2020 2020 2073 7461               sta
-00004690: 7274 5f66 7261 6d65 3a20 696e 742c 0a20  rt_frame: int,. 
-000046a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000046b0: 2020 2020 2020 2065 6e64 5f66 7261 6d65         end_frame
-000046c0: 3a20 696e 742c 0a20 2020 2020 2020 2020  : int,.         
-000046d0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000046e0: 6176 655f 6469 723a 204f 7074 696f 6e61  ave_dir: Optiona
-000046f0: 6c5b 556e 696f 6e5b 7374 722c 206f 732e  l[Union[str, os.
-00004700: 5061 7468 4c69 6b65 5d5d 203d 204e 6f6e  PathLike]] = Non
-00004710: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-00004720: 2020 2020 2020 2020 2020 2076 6572 626f             verbo
-00004730: 7365 3a20 4f70 7469 6f6e 616c 5b62 6f6f  se: Optional[boo
-00004740: 6c5d 203d 2054 7275 6529 202d 3e20 4e6f  l] = True) -> No
-00004750: 6e65 3a0a 2020 2020 2222 220a 2020 2020  ne:.    """.    
-00004760: 4578 7472 6163 7420 6120 7573 6572 2d64  Extract a user-d
-00004770: 6566 696e 6564 2072 616e 6765 206f 6620  efined range of 
-00004780: 6672 616d 6573 2066 726f 6d20 6120 7669  frames from a vi
-00004790: 6465 6f20 6669 6c65 2074 6f20 6070 6e67  deo file to `png
-000047a0: 6020 666f 726d 6174 2e20 496d 6167 6573  ` format. Images
-000047b0: 0a20 2020 2061 7265 2073 6176 6564 2069  .    are saved i
-000047c0: 6e20 6120 666f 6c64 6572 2077 6974 6820  n a folder with 
-000047d0: 7468 6520 7375 6666 6978 2060 5f66 7261  the suffix `_fra
-000047e0: 6d65 7360 2077 6974 6869 6e20 7468 6520  mes` within the 
-000047f0: 7361 6d65 2064 6972 6563 746f 7279 2061  same directory a
-00004800: 7320 7468 6520 7669 6465 6f20 6669 6c65  s the video file
-00004810: 2e0a 0a20 2020 203a 7061 7261 6d65 7465  ...    :paramete
-00004820: 7220 556e 696f 6e5b 7374 722c 206f 732e  r Union[str, os.
-00004830: 5061 7468 4c69 6b65 5d20 6669 6c65 5f70  PathLike] file_p
-00004840: 6174 683a 2050 6174 6820 746f 2076 6964  ath: Path to vid
-00004850: 656f 2066 696c 650a 2020 2020 3a70 6172  eo file.    :par
-00004860: 616d 6574 6572 2069 6e74 2073 7461 7274  ameter int start
-00004870: 5f66 7261 6d65 3a20 4669 7273 7420 6672  _frame: First fr
-00004880: 616d 6520 696e 2072 616e 6765 2074 6f20  ame in range to 
-00004890: 6578 7472 6163 740a 2020 2020 3a70 6172  extract.    :par
-000048a0: 616d 6574 6572 2069 6e74 2065 6e64 5f66  ameter int end_f
-000048b0: 7261 6d65 3a20 4c61 7374 2066 7261 6d65  rame: Last frame
-000048c0: 2069 6e20 7261 6e67 6520 746f 2065 7874   in range to ext
-000048d0: 7261 6374 2e0a 0a20 2020 203a 6578 616d  ract...    :exam
-000048e0: 706c 653a 0a20 2020 203e 3e3e 205f 203d  ple:.    >>> _ =
-000048f0: 2065 7874 7261 6374 5f66 7261 6d65 5f72   extract_frame_r
-00004900: 616e 6765 2866 696c 655f 7061 7468 3d27  ange(file_path='
-00004910: 7072 6f6a 6563 745f 666f 6c64 6572 2f76  project_folder/v
-00004920: 6964 656f 732f 5669 6465 6f5f 312e 6d70  ideos/Video_1.mp
-00004930: 3427 2c20 7374 6172 745f 6672 616d 653d  4', start_frame=
-00004940: 3130 302c 2065 6e64 5f66 7261 6d65 3d35  100, end_frame=5
-00004950: 3030 290a 2020 2020 2222 220a 0a20 2020  00).    """..   
-00004960: 2074 696d 6572 203d 2053 696d 6261 5469   timer = SimbaTi
-00004970: 6d65 7228 7374 6172 743d 5472 7565 290a  mer(start=True).
-00004980: 2020 2020 6368 6563 6b5f 6669 6c65 5f65      check_file_e
-00004990: 7869 7374 5f61 6e64 5f72 6561 6461 626c  xist_and_readabl
-000049a0: 6528 6669 6c65 5f70 6174 683d 6669 6c65  e(file_path=file
-000049b0: 5f70 6174 6829 0a20 2020 2076 6964 656f  _path).    video
-000049c0: 5f6d 6574 615f 6461 7461 203d 2067 6574  _meta_data = get
-000049d0: 5f76 6964 656f 5f6d 6574 615f 6461 7461  _video_meta_data
-000049e0: 2866 696c 655f 7061 7468 290a 2020 2020  (file_path).    
-000049f0: 6368 6563 6b5f 696e 7428 6e61 6d65 3d22  check_int(name="
-00004a00: 7374 6172 7420 6672 616d 6522 2c20 7661  start frame", va
-00004a10: 6c75 653d 7374 6172 745f 6672 616d 652c  lue=start_frame,
-00004a20: 206d 696e 5f76 616c 7565 3d30 290a 2020   min_value=0).  
-00004a30: 2020 6669 6c65 5f64 6972 2c20 6669 6c65    file_dir, file
-00004a40: 5f6e 616d 652c 2066 696c 655f 6578 7420  _name, file_ext 
-00004a50: 3d20 6765 745f 666e 5f65 7874 2866 696c  = get_fn_ext(fil
-00004a60: 6570 6174 683d 6669 6c65 5f70 6174 6829  epath=file_path)
-00004a70: 0a20 2020 2063 6865 636b 5f69 6e74 286e  .    check_int(n
-00004a80: 616d 653d 2265 6e64 2066 7261 6d65 222c  ame="end frame",
-00004a90: 2076 616c 7565 3d65 6e64 5f66 7261 6d65   value=end_frame
-00004aa0: 2c20 6d61 785f 7661 6c75 653d 7669 6465  , max_value=vide
-00004ab0: 6f5f 6d65 7461 5f64 6174 615b 2266 7261  o_meta_data["fra
-00004ac0: 6d65 5f63 6f75 6e74 225d 290a 2020 2020  me_count"]).    
-00004ad0: 6672 616d 655f 7261 6e67 6520 3d20 6c69  frame_range = li
-00004ae0: 7374 2872 616e 6765 2869 6e74 2873 7461  st(range(int(sta
-00004af0: 7274 5f66 7261 6d65 292c 2069 6e74 2865  rt_frame), int(e
-00004b00: 6e64 5f66 7261 6d65 2920 2b20 3129 290a  nd_frame) + 1)).
-00004b10: 2020 2020 6966 2073 6176 655f 6469 7220      if save_dir 
-00004b20: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-00004b30: 2073 6176 655f 6469 7220 3d20 6f73 2e70   save_dir = os.p
-00004b40: 6174 682e 6a6f 696e 2866 696c 655f 6469  ath.join(file_di
-00004b50: 722c 2066 227b 6669 6c65 5f6e 616d 657d  r, f"{file_name}
-00004b60: 5f66 7261 6d65 7322 290a 2020 2020 656c  _frames").    el
-00004b70: 7365 3a0a 2020 2020 2020 2020 6368 6563  se:.        chec
-00004b80: 6b5f 6966 5f64 6972 5f65 7869 7374 7328  k_if_dir_exists(
-00004b90: 696e 5f64 6972 3d73 6176 655f 6469 722c  in_dir=save_dir,
-00004ba0: 2073 6f75 7263 653d 6578 7472 6163 745f   source=extract_
-00004bb0: 6672 616d 655f 7261 6e67 652e 5f5f 6e61  frame_range.__na
-00004bc0: 6d65 5f5f 290a 2020 2020 6361 7020 3d20  me__).    cap = 
-00004bd0: 6376 322e 5669 6465 6f43 6170 7475 7265  cv2.VideoCapture
-00004be0: 2866 696c 655f 7061 7468 290a 2020 2020  (file_path).    
-00004bf0: 6966 206e 6f74 206f 732e 7061 7468 2e65  if not os.path.e
-00004c00: 7869 7374 7328 7361 7665 5f64 6972 293a  xists(save_dir):
-00004c10: 0a20 2020 2020 2020 206f 732e 6d61 6b65  .        os.make
-00004c20: 6469 7273 2873 6176 655f 6469 7229 0a20  dirs(save_dir). 
-00004c30: 2020 2066 6f72 2066 726d 5f63 6e74 2c20     for frm_cnt, 
-00004c40: 6672 6d5f 6e75 6d62 6572 2069 6e20 656e  frm_number in en
-00004c50: 756d 6572 6174 6528 6672 616d 655f 7261  umerate(frame_ra
-00004c60: 6e67 6529 3a0a 2020 2020 2020 2020 6672  nge):.        fr
-00004c70: 6d5f 7469 6d65 7220 3d20 5369 6d62 6154  m_timer = SimbaT
-00004c80: 696d 6572 2873 7461 7274 3d54 7275 6529  imer(start=True)
-00004c90: 0a20 2020 2020 2020 2066 7261 6d65 203d  .        frame =
-00004ca0: 2072 6561 645f 6672 6d5f 6f66 5f76 6964   read_frm_of_vid
-00004cb0: 656f 2876 6964 656f 5f70 6174 683d 6361  eo(video_path=ca
-00004cc0: 702c 2066 7261 6d65 5f69 6e64 6578 3d66  p, frame_index=f
-00004cd0: 726d 5f63 6e74 290a 2020 2020 2020 2020  rm_cnt).        
-00004ce0: 6672 6d5f 7361 7665 5f70 6174 6820 3d20  frm_save_path = 
-00004cf0: 6f73 2e70 6174 682e 6a6f 696e 2873 6176  os.path.join(sav
-00004d00: 655f 6469 722c 2066 227b 6672 6d5f 6e75  e_dir, f"{frm_nu
-00004d10: 6d62 6572 7d2e 706e 6722 290a 2020 2020  mber}.png").    
-00004d20: 2020 2020 6376 322e 696d 7772 6974 6528      cv2.imwrite(
-00004d30: 6672 6d5f 7361 7665 5f70 6174 682c 2066  frm_save_path, f
-00004d40: 7261 6d65 290a 2020 2020 2020 2020 6672  rame).        fr
-00004d50: 6d5f 7469 6d65 722e 7374 6f70 5f74 696d  m_timer.stop_tim
-00004d60: 6572 2829 0a20 2020 2020 2020 2069 6620  er().        if 
-00004d70: 7665 7262 6f73 653a 0a20 2020 2020 2020  verbose:.       
-00004d80: 2020 2020 2070 7269 6e74 2866 2246 7261       print(f"Fra
-00004d90: 6d65 207b 6672 6d5f 6e75 6d62 6572 7d20  me {frm_number} 
-00004da0: 7361 7665 6420 2846 7261 6d65 207b 6672  saved (Frame {fr
-00004db0: 6d5f 636e 747d 2f7b 6c65 6e28 6672 616d  m_cnt}/{len(fram
-00004dc0: 655f 7261 6e67 6529 2d31 7d29 2028 656c  e_range)-1}) (el
-00004dd0: 6170 7365 6420 7469 6d65 3a20 7b66 726d  apsed time: {frm
-00004de0: 5f74 696d 6572 2e65 6c61 7073 6564 5f74  _timer.elapsed_t
-00004df0: 696d 655f 7374 727d 7329 2229 0a20 2020  ime_str}s)").   
-00004e00: 2074 696d 6572 2e73 746f 705f 7469 6d65   timer.stop_time
-00004e10: 7228 290a 2020 2020 7374 646f 7574 5f73  r().    stdout_s
-00004e20: 7563 6365 7373 286d 7367 3d66 227b 6c65  uccess(msg=f"{le
-00004e30: 6e28 6672 616d 655f 7261 6e67 6529 2d31  n(frame_range)-1
-00004e40: 7d20 6672 616d 6573 2065 7874 7261 6374  } frames extract
-00004e50: 6564 2066 6f72 2076 6964 656f 207b 6669  ed for video {fi
-00004e60: 6c65 5f6e 616d 657d 2073 6176 6564 2069  le_name} saved i
-00004e70: 6e20 7b73 6176 655f 6469 727d 222c 2065  n {save_dir}", e
-00004e80: 6c61 7073 6564 5f74 696d 653d 7469 6d65  lapsed_time=time
-00004e90: 722e 656c 6170 7365 645f 7469 6d65 5f73  r.elapsed_time_s
-00004ea0: 7472 2c20 736f 7572 6365 3d65 7874 7261  tr, source=extra
-00004eb0: 6374 5f66 7261 6d65 5f72 616e 6765 2e5f  ct_frame_range._
-00004ec0: 5f6e 616d 655f 5f29 0a0a 0a64 6566 2063  _name__)...def c
-00004ed0: 6861 6e67 655f 7369 6e67 6c65 5f76 6964  hange_single_vid
-00004ee0: 656f 5f66 7073 2866 696c 655f 7061 7468  eo_fps(file_path
-00004ef0: 3a20 556e 696f 6e5b 7374 722c 206f 732e  : Union[str, os.
-00004f00: 5061 7468 4c69 6b65 5d2c 0a20 2020 2020  PathLike],.     
-00004f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004f20: 2020 2020 2020 2066 7073 3a20 696e 742c         fps: int,
-00004f30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00004f40: 2020 2020 2020 2020 2020 2020 2067 7075               gpu
-00004f50: 3a20 4f70 7469 6f6e 616c 5b62 6f6f 6c5d  : Optional[bool]
-00004f60: 203d 2046 616c 7365 2920 2d3e 204e 6f6e   = False) -> Non
-00004f70: 653a 0a0a 2020 2020 2222 220a 2020 2020  e:..    """.    
-00004f80: 4368 616e 6765 2074 6865 2066 7073 206f  Change the fps o
-00004f90: 6620 6120 7369 6e67 6c65 2076 6964 656f  f a single video
-00004fa0: 2066 696c 652e 2052 6573 756c 7473 2061   file. Results a
-00004fb0: 7265 2073 746f 7265 6420 696e 2074 6865  re stored in the
-00004fc0: 2073 616d 6520 6469 7265 6374 6f72 7920   same directory 
-00004fd0: 6173 2069 6e20 7468 6520 696e 7075 7420  as in the input 
-00004fe0: 6669 6c65 2077 6974 680a 2020 2020 7468  file with.    th
-00004ff0: 6520 7375 6666 6978 2060 605f 6670 735f  e suffix ``_fps_
-00005000: 6e65 775f 6670 7360 602e 0a0a 2020 2020  new_fps``...    
-00005010: 2e2e 206e 6f74 653a 3a0a 2020 2020 2020  .. note::.      
-00005020: 2054 6f20 6368 616e 6765 2074 6865 2046   To change the F
-00005030: 5053 206f 6620 616c 6c20 7669 6465 6f73  PS of all videos
-00005040: 2069 6e20 6120 6469 7265 6374 6f72 792c   in a directory,
-00005050: 2075 7365 2060 6073 696d 6261 2e76 6964   use ``simba.vid
-00005060: 656f 5f70 726f 6365 7373 6f72 732e 7669  eo_processors.vi
-00005070: 6465 6f5f 7072 6f63 6573 7369 6e67 2e63  deo_processing.c
-00005080: 6861 6e67 655f 6670 735f 6f66 5f6d 756c  hange_fps_of_mul
-00005090: 7469 706c 655f 7669 6465 6f73 6060 2e0a  tiple_videos``..
-000050a0: 0a20 2020 202e 2e20 7669 6465 6f3a 3a20  .    .. video:: 
-000050b0: 5f73 7461 7469 632f 696d 672f 6368 616e  _static/img/chan
-000050c0: 6765 5f73 696e 676c 655f 7669 6465 6f5f  ge_single_video_
-000050d0: 6670 732e 7765 626d 0a20 2020 2020 2020  fps.webm.       
-000050e0: 3a6c 6f6f 703a 0a0a 2020 2020 3a70 6172  :loop:..    :par
-000050f0: 616d 2055 6e69 6f6e 5b73 7472 2c20 6f73  am Union[str, os
-00005100: 2e50 6174 684c 696b 655d 2066 696c 655f  .PathLike] file_
-00005110: 7061 7468 3a20 5061 7468 2074 6f20 7669  path: Path to vi
-00005120: 6465 6f20 6669 6c65 0a20 2020 203a 7061  deo file.    :pa
-00005130: 7261 6d20 696e 7420 6670 733a 2046 5053  ram int fps: FPS
-00005140: 206f 6620 7468 6520 6e65 7720 7669 6465   of the new vide
-00005150: 6f20 6669 6c65 2e0a 2020 2020 3a70 6172  o file..    :par
-00005160: 616d 204f 7074 696f 6e61 6c5b 626f 6f6c  am Optional[bool
-00005170: 5d20 6770 753a 2049 6620 5472 7565 2c20  ] gpu: If True, 
-00005180: 7573 6520 4e56 4944 4541 2047 5055 2063  use NVIDEA GPU c
-00005190: 6f64 6563 732e 2044 6566 6175 6c74 2046  odecs. Default F
-000051a0: 616c 7365 2e0a 0a20 2020 203a 6578 616d  alse...    :exam
-000051b0: 706c 653a 0a20 2020 203e 3e3e 205f 203d  ple:.    >>> _ =
-000051c0: 2063 6861 6e67 655f 7369 6e67 6c65 5f76   change_single_v
-000051d0: 6964 656f 5f66 7073 2866 696c 655f 7061  ideo_fps(file_pa
-000051e0: 7468 3d27 7072 6f6a 6563 745f 666f 6c64  th='project_fold
-000051f0: 6572 2f76 6964 656f 732f 5669 6465 6f5f  er/videos/Video_
-00005200: 312e 6d70 3427 2c20 6670 733d 3135 290a  1.mp4', fps=15).
-00005210: 2020 2020 2222 220a 0a20 2020 2074 696d      """..    tim
-00005220: 6572 203d 2053 696d 6261 5469 6d65 7228  er = SimbaTimer(
-00005230: 7374 6172 743d 5472 7565 290a 2020 2020  start=True).    
-00005240: 6368 6563 6b5f 6666 6d70 6567 5f61 7661  check_ffmpeg_ava
-00005250: 696c 6162 6c65 2872 6169 7365 5f65 7272  ilable(raise_err
-00005260: 6f72 3d54 7275 6529 0a20 2020 2069 6620  or=True).    if 
-00005270: 6770 7520 616e 6420 6e6f 7420 6368 6563  gpu and not chec
-00005280: 6b5f 6e76 6964 6561 5f67 7075 5f61 7661  k_nvidea_gpu_ava
-00005290: 696c 6162 6c65 2829 3a0a 2020 2020 2020  ilable():.      
-000052a0: 2020 7261 6973 6520 4646 4d50 4547 436f    raise FFMPEGCo
-000052b0: 6465 6347 5055 4572 726f 7228 6d73 673d  decGPUError(msg=
-000052c0: 224e 6f20 4750 5520 666f 756e 6420 2861  "No GPU found (a
-000052d0: 7320 6576 616c 7561 7465 6420 6279 206e  s evaluated by n
-000052e0: 7669 6465 612d 736d 6920 7265 7475 726e  videa-smi return
-000052f0: 696e 6720 4e6f 6e65 2922 2c20 736f 7572  ing None)", sour
-00005300: 6365 3d63 6861 6e67 655f 7369 6e67 6c65  ce=change_single
-00005310: 5f76 6964 656f 5f66 7073 2e5f 5f6e 616d  _video_fps.__nam
-00005320: 655f 5f29 0a20 2020 2063 6865 636b 5f66  e__).    check_f
-00005330: 696c 655f 6578 6973 745f 616e 645f 7265  ile_exist_and_re
-00005340: 6164 6162 6c65 2866 696c 655f 7061 7468  adable(file_path
-00005350: 3d66 696c 655f 7061 7468 290a 2020 2020  =file_path).    
-00005360: 6368 6563 6b5f 696e 7428 6e61 6d65 3d22  check_int(name="
-00005370: 4e65 7720 6670 7322 2c20 7661 6c75 653d  New fps", value=
-00005380: 6670 7329 0a20 2020 2076 6964 656f 5f6d  fps).    video_m
-00005390: 6574 615f 6461 7461 203d 2067 6574 5f76  eta_data = get_v
-000053a0: 6964 656f 5f6d 6574 615f 6461 7461 2876  ideo_meta_data(v
-000053b0: 6964 656f 5f70 6174 683d 6669 6c65 5f70  ideo_path=file_p
-000053c0: 6174 6829 0a20 2020 2064 6972 5f6e 616d  ath).    dir_nam
-000053d0: 652c 2066 696c 655f 6e61 6d65 2c20 6578  e, file_name, ex
-000053e0: 7420 3d20 6765 745f 666e 5f65 7874 2866  t = get_fn_ext(f
-000053f0: 696c 6570 6174 683d 6669 6c65 5f70 6174  ilepath=file_pat
-00005400: 6829 0a20 2020 2069 6620 696e 7428 6670  h).    if int(fp
-00005410: 7329 203d 3d20 696e 7428 7669 6465 6f5f  s) == int(video_
-00005420: 6d65 7461 5f64 6174 615b 2266 7073 225d  meta_data["fps"]
-00005430: 293a 0a20 2020 2020 2020 2053 616d 6549  ):.        SameI
-00005440: 6e70 7574 416e 644f 7574 7075 7457 6172  nputAndOutputWar
-00005450: 6e69 6e67 286d 7367 3d66 2254 6865 206e  ning(msg=f"The n
-00005460: 6577 2066 7073 2069 7320 7468 6520 7361  ew fps is the sa
-00005470: 6d65 2061 7320 7468 6520 696e 7075 7420  me as the input 
-00005480: 6670 7320 666f 7220 7669 6465 6f20 7b66  fps for video {f
-00005490: 696c 655f 6e61 6d65 7d20 287b 7374 7228  ile_name} ({str(
-000054a0: 6670 7329 7d29 222c 2073 6f75 7263 653d  fps)})", source=
-000054b0: 6368 616e 6765 5f73 696e 676c 655f 7669  change_single_vi
-000054c0: 6465 6f5f 6670 732e 5f5f 6e61 6d65 5f5f  deo_fps.__name__
-000054d0: 290a 2020 2020 7361 7665 5f70 6174 6820  ).    save_path 
-000054e0: 3d20 6f73 2e70 6174 682e 6a6f 696e 2864  = os.path.join(d
-000054f0: 6972 5f6e 616d 652c 2066 696c 655f 6e61  ir_name, file_na
-00005500: 6d65 202b 2066 225f 6670 735f 7b66 7073  me + f"_fps_{fps
-00005510: 7d7b 6578 747d 2229 0a20 2020 2070 7269  }{ext}").    pri
-00005520: 6e74 2866 2243 6f6e 7665 7274 696e 6720  nt(f"Converting 
-00005530: 7468 6520 4650 5320 746f 207b 6670 737d  the FPS to {fps}
-00005540: 2066 6f72 2076 6964 656f 207b 6669 6c65   for video {file
-00005550: 5f6e 616d 657d 202e 2e2e 2229 0a20 2020  _name} ...").   
-00005560: 2069 6620 6578 742e 6c6f 7765 7228 2920   if ext.lower() 
-00005570: 3d3d 2027 2e77 6562 6d27 3a0a 2020 2020  == '.webm':.    
-00005580: 2020 2020 636f 6465 6320 3d20 276c 6962      codec = 'lib
-00005590: 7670 782d 7670 3927 0a20 2020 2065 6c69  vpx-vp9'.    eli
-000055a0: 6620 6578 742e 6c6f 7765 7228 2920 3d3d  f ext.lower() ==
-000055b0: 2027 2e61 7669 273a 0a20 2020 2020 2020   '.avi':.       
-000055c0: 2063 6f64 6563 203d 2027 6d70 6567 3427   codec = 'mpeg4'
-000055d0: 0a20 2020 2065 6c73 653a 0a20 2020 2020  .    else:.     
-000055e0: 2020 2063 6f64 6563 203d 2027 6c69 6278     codec = 'libx
-000055f0: 3236 3427 0a20 2020 2069 6620 6f73 2e70  264'.    if os.p
-00005600: 6174 682e 6973 6669 6c65 2873 6176 655f  ath.isfile(save_
-00005610: 7061 7468 293a 0a20 2020 2020 2020 2046  path):.        F
-00005620: 696c 6545 7869 7374 5761 726e 696e 6728  ileExistWarning(
-00005630: 6d73 673d 6622 4f76 6572 7772 6974 696e  msg=f"Overwritin
-00005640: 6720 6578 6973 7469 6e67 2066 696c 6520  g existing file 
-00005650: 6174 207b 7361 7665 5f70 6174 687d 2e2e  at {save_path}..
-00005660: 2e22 2c20 736f 7572 6365 3d63 6861 6e67  .", source=chang
-00005670: 655f 7369 6e67 6c65 5f76 6964 656f 5f66  e_single_video_f
-00005680: 7073 2e5f 5f6e 616d 655f 5f2c 290a 2020  ps.__name__,).  
-00005690: 2020 6966 2067 7075 3a0a 2020 2020 2020    if gpu:.      
-000056a0: 2020 636f 6d6d 616e 6420 3d20 6627 6666    command = f'ff
-000056b0: 6d70 6567 202d 6877 6163 6365 6c20 6175  mpeg -hwaccel au
-000056c0: 746f 202d 633a 7620 6832 3634 5f63 7576  to -c:v h264_cuv
-000056d0: 6964 202d 6920 227b 6669 6c65 5f70 6174  id -i "{file_pat
-000056e0: 687d 2220 2d76 6620 2266 7073 3d7b 6670  h}" -vf "fps={fp
-000056f0: 737d 2220 2d63 3a76 2068 3236 345f 6e76  s}" -c:v h264_nv
-00005700: 656e 6320 2d63 3a61 2063 6f70 7920 227b  enc -c:a copy "{
-00005710: 7361 7665 5f70 6174 687d 2220 2d79 270a  save_path}" -y'.
-00005720: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00005730: 2020 636f 6d6d 616e 6420 3d20 6627 6666    command = f'ff
-00005740: 6d70 6567 202d 6920 227b 6669 6c65 5f70  mpeg -i "{file_p
-00005750: 6174 687d 2220 2d66 696c 7465 723a 7620  ath}" -filter:v 
-00005760: 6670 733d 6670 733d 7b66 7073 7d20 2d63  fps=fps={fps} -c
-00005770: 3a76 207b 636f 6465 637d 202d 633a 6120  :v {codec} -c:a 
-00005780: 6161 6320 227b 7361 7665 5f70 6174 687d  aac "{save_path}
-00005790: 2220 2d6c 6f67 6c65 7665 6c20 6572 726f  " -loglevel erro
-000057a0: 7220 2d73 7461 7473 202d 6869 6465 5f62  r -stats -hide_b
-000057b0: 616e 6e65 7220 2d79 270a 2020 2020 7375  anner -y'.    su
-000057c0: 6270 726f 6365 7373 2e63 616c 6c28 636f  bprocess.call(co
-000057d0: 6d6d 616e 642c 2073 6865 6c6c 3d54 7275  mmand, shell=Tru
-000057e0: 6529 0a20 2020 2074 696d 6572 2e73 746f  e).    timer.sto
-000057f0: 705f 7469 6d65 7228 290a 2020 2020 7374  p_timer().    st
-00005800: 646f 7574 5f73 7563 6365 7373 286d 7367  dout_success(msg
-00005810: 3d66 2753 494d 4241 2043 4f4d 504c 4554  =f'SIMBA COMPLET
-00005820: 453a 2046 5053 206f 6620 7669 6465 6f20  E: FPS of video 
-00005830: 7b66 696c 655f 6e61 6d65 7d20 6368 616e  {file_name} chan
-00005840: 6765 6420 6672 6f6d 207b 7374 7228 7669  ged from {str(vi
-00005850: 6465 6f5f 6d65 7461 5f64 6174 615b 2266  deo_meta_data["f
-00005860: 7073 225d 297d 2074 6f20 7b73 7472 2866  ps"])} to {str(f
-00005870: 7073 297d 2061 6e64 2073 6176 6564 2069  ps)} and saved i
-00005880: 6e20 6469 7265 6374 6f72 7920 7b73 6176  n directory {sav
-00005890: 655f 7061 7468 7d27 2c20 656c 6170 7365  e_path}', elapse
-000058a0: 645f 7469 6d65 3d74 696d 6572 2e65 6c61  d_time=timer.ela
-000058b0: 7073 6564 5f74 696d 655f 7374 722c 2073  psed_time_str, s
-000058c0: 6f75 7263 653d 6368 616e 6765 5f73 696e  ource=change_sin
-000058d0: 676c 655f 7669 6465 6f5f 6670 732e 5f5f  gle_video_fps.__
-000058e0: 6e61 6d65 5f5f 290a 0a0a 6465 6620 6368  name__)...def ch
-000058f0: 616e 6765 5f66 7073 5f6f 665f 6d75 6c74  ange_fps_of_mult
-00005900: 6970 6c65 5f76 6964 656f 7328 6469 7265  iple_videos(dire
-00005910: 6374 6f72 793a 2055 6e69 6f6e 5b73 7472  ctory: Union[str
-00005920: 2c20 6f73 2e50 6174 684c 696b 655d 2c0a  , os.PathLike],.
-00005930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005940: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005950: 2020 6670 733a 2069 6e74 2c0a 2020 2020    fps: int,.    
+00000770: 6572 6365 6e74 5f74 6f5f 7176 5f6c 6b2c  ercent_to_qv_lk,
+00000780: 2076 6964 656f 5f71 7561 6c69 7479 5f74   video_quality_t
+00000790: 6f5f 7072 6573 6574 5f6c 6f6f 6b75 7029  o_preset_lookup)
+000007a0: 0a66 726f 6d20 7369 6d62 612e 7574 696c  .from simba.util
+000007b0: 732e 7072 696e 7469 6e67 2069 6d70 6f72  s.printing impor
+000007c0: 7420 5369 6d62 6154 696d 6572 2c20 7374  t SimbaTimer, st
+000007d0: 646f 7574 5f73 7563 6365 7373 0a66 726f  dout_success.fro
+000007e0: 6d20 7369 6d62 612e 7574 696c 732e 7265  m simba.utils.re
+000007f0: 6164 5f77 7269 7465 2069 6d70 6f72 7420  ad_write import 
+00000800: 280a 2020 2020 6368 6563 6b5f 6966 5f68  (.    check_if_h
+00000810: 686d 6d73 735f 7469 6d65 7374 616d 705f  hmmss_timestamp_
+00000820: 6973 5f76 616c 6964 5f70 6172 745f 6f66  is_valid_part_of
+00000830: 5f76 6964 656f 2c0a 2020 2020 636f 6e63  _video,.    conc
+00000840: 6174 656e 6174 655f 7669 6465 6f73 5f69  atenate_videos_i
+00000850: 6e5f 666f 6c64 6572 2c20 6669 6e64 5f61  n_folder, find_a
+00000860: 6c6c 5f76 6964 656f 735f 696e 5f64 6972  ll_videos_in_dir
+00000870: 6563 746f 7279 2c20 6669 6e64 5f63 6f72  ectory, find_cor
+00000880: 655f 636e 742c 0a20 2020 2066 696e 645f  e_cnt,.    find_
+00000890: 6669 6c65 735f 6f66 5f66 696c 6574 7970  files_of_filetyp
+000008a0: 6573 5f69 6e5f 6469 7265 6374 6f72 792c  es_in_directory,
+000008b0: 2067 6574 5f66 6e5f 6578 742c 2067 6574   get_fn_ext, get
+000008c0: 5f76 6964 656f 5f6d 6574 615f 6461 7461  _video_meta_data
+000008d0: 2c0a 2020 2020 7265 6164 5f63 6f6e 6669  ,.    read_confi
+000008e0: 675f 656e 7472 792c 2072 6561 645f 636f  g_entry, read_co
+000008f0: 6e66 6967 5f66 696c 652c 2072 6561 645f  nfig_file, read_
+00000900: 6672 6d5f 6f66 5f76 6964 656f 290a 6672  frm_of_video).fr
+00000910: 6f6d 2073 696d 6261 2e75 7469 6c73 2e77  om simba.utils.w
+00000920: 6172 6e69 6e67 7320 696d 706f 7274 2028  arnings import (
+00000930: 4669 6c65 4578 6973 7457 6172 6e69 6e67  FileExistWarning
+00000940: 2c20 4672 616d 6552 616e 6765 5761 726e  , FrameRangeWarn
+00000950: 696e 672c 0a20 2020 2020 2020 2020 2020  ing,.           
+00000960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000970: 2020 2020 2020 2049 6e56 616c 6964 5573         InValidUs
+00000980: 6572 496e 7075 7457 6172 6e69 6e67 2c0a  erInputWarning,.
+00000990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000009a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000009b0: 2020 5361 6d65 496e 7075 7441 6e64 4f75    SameInputAndOu
+000009c0: 7470 7574 5761 726e 696e 6729 0a66 726f  tputWarning).fro
+000009d0: 6d20 7369 6d62 612e 7669 6465 6f5f 7072  m simba.video_pr
+000009e0: 6f63 6573 736f 7273 2e65 7874 7261 6374  ocessors.extract
+000009f0: 5f66 7261 6d65 7320 696d 706f 7274 2076  _frames import v
+00000a00: 6964 656f 5f74 6f5f 6672 616d 6573 0a66  ideo_to_frames.f
+00000a10: 726f 6d20 7369 6d62 612e 7669 6465 6f5f  rom simba.video_
+00000a20: 7072 6f63 6573 736f 7273 2e72 6f69 5f73  processors.roi_s
+00000a30: 656c 6563 746f 7220 696d 706f 7274 2052  elector import R
+00000a40: 4f49 5365 6c65 6374 6f72 0a66 726f 6d20  OISelector.from 
+00000a50: 7369 6d62 612e 7669 6465 6f5f 7072 6f63  simba.video_proc
+00000a60: 6573 736f 7273 2e72 6f69 5f73 656c 6563  essors.roi_selec
+00000a70: 746f 725f 6369 7263 6c65 2069 6d70 6f72  tor_circle impor
+00000a80: 7420 524f 4953 656c 6563 746f 7243 6972  t ROISelectorCir
+00000a90: 636c 650a 6672 6f6d 2073 696d 6261 2e76  cle.from simba.v
+00000aa0: 6964 656f 5f70 726f 6365 7373 6f72 732e  ideo_processors.
+00000ab0: 726f 695f 7365 6c65 6374 6f72 5f70 6f6c  roi_selector_pol
+00000ac0: 7967 6f6e 2069 6d70 6f72 7420 524f 4953  ygon import ROIS
+00000ad0: 656c 6563 746f 7250 6f6c 7967 6f6e 0a0a  electorPolygon..
+00000ae0: 4d41 585f 4652 4d5f 5349 5a45 203d 2031  MAX_FRM_SIZE = 1
+00000af0: 3038 302c 2036 3530 0a0a 6465 6620 6368  080, 650..def ch
+00000b00: 616e 6765 5f69 6d67 5f66 6f72 6d61 7428  ange_img_format(
+00000b10: 6469 7265 6374 6f72 793a 2055 6e69 6f6e  directory: Union
+00000b20: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
+00000b30: 655d 2c0a 2020 2020 2020 2020 2020 2020  e],.            
+00000b40: 2020 2020 2020 2020 2020 6669 6c65 5f74            file_t
+00000b50: 7970 655f 696e 3a20 7374 722c 0a20 2020  ype_in: str,.   
+00000b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b70: 2020 2066 696c 655f 7479 7065 5f6f 7574     file_type_out
+00000b80: 3a20 7374 722c 0a20 2020 2020 2020 2020  : str,.         
+00000b90: 2020 2020 2020 2020 2020 2020 2076 6572               ver
+00000ba0: 626f 7365 3a20 4f70 7469 6f6e 616c 5b62  bose: Optional[b
+00000bb0: 6f6f 6c5d 203d 2046 616c 7365 2920 2d3e  ool] = False) ->
+00000bc0: 204e 6f6e 653a 0a20 2020 2022 2222 0a20   None:.    """. 
+00000bd0: 2020 2043 6f6e 7665 7274 2074 6865 2066     Convert the f
+00000be0: 696c 6520 7479 7065 206f 6620 616c 6c20  ile type of all 
+00000bf0: 696d 6167 6520 6669 6c65 7320 7769 7468  image files with
+00000c00: 696e 2061 2064 6972 6563 746f 7279 2e0a  in a directory..
+00000c10: 0a20 2020 203a 7061 7261 6d65 7465 7220  .    :parameter 
+00000c20: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
+00000c30: 7468 4c69 6b65 5d20 6469 7265 6374 6f72  thLike] director
+00000c40: 793a 2050 6174 6820 746f 2064 6972 6563  y: Path to direc
+00000c50: 746f 7279 2068 6f6c 6469 6e67 2069 6d61  tory holding ima
+00000c60: 6765 2066 696c 6573 0a20 2020 203a 7061  ge files.    :pa
+00000c70: 7261 6d65 7465 7220 7374 7220 6669 6c65  rameter str file
+00000c80: 5f74 7970 655f 696e 3a20 496e 7075 7420  _type_in: Input 
+00000c90: 6669 6c65 2074 7970 652c 2065 2e67 2e2c  file type, e.g.,
+00000ca0: 2027 626d 7027 206f 7220 2770 6e67 2e0a   'bmp' or 'png..
+00000cb0: 2020 2020 3a70 6172 616d 6574 6572 2073      :parameter s
+00000cc0: 7472 2066 696c 655f 7479 7065 5f6f 7574  tr file_type_out
+00000cd0: 3a20 4f75 7470 7574 2066 696c 6520 7479  : Output file ty
+00000ce0: 7065 2c20 652e 672e 2c20 2762 6d70 2720  pe, e.g., 'bmp' 
+00000cf0: 6f72 2027 706e 672e 0a20 2020 203a 7061  or 'png..    :pa
+00000d00: 7261 6d65 7465 7220 4f70 7469 6f6e 616c  rameter Optional
+00000d10: 5b62 6f6f 6c5d 2076 6572 626f 7365 3a20  [bool] verbose: 
+00000d20: 4966 2054 7275 652c 2070 7269 6e74 7320  If True, prints 
+00000d30: 7072 6f67 7265 7373 2e20 4465 6661 756c  progress. Defaul
+00000d40: 7420 4661 6c73 652e 0a0a 2020 2020 3a65  t False...    :e
+00000d50: 7861 6d70 6c65 3a0a 2020 2020 3e3e 3e20  xample:.    >>> 
+00000d60: 5f20 3d20 6368 616e 6765 5f69 6d67 5f66  _ = change_img_f
+00000d70: 6f72 6d61 7428 6469 7265 6374 6f72 793d  ormat(directory=
+00000d80: 272f 5573 6572 732f 7369 6d6f 6e2f 4465  '/Users/simon/De
+00000d90: 736b 746f 702f 656e 7673 2f73 696d 6261  sktop/envs/simba
+00000da0: 2f74 726f 7562 6c65 7368 6f6f 7469 6e67  /troubleshooting
+00000db0: 2f74 776f 5f62 6c61 636b 5f61 6e69 6d61  /two_black_anima
+00000dc0: 6c73 5f31 3462 702f 7465 7374 5f69 6d67  ls_14bp/test_img
+00000dd0: 272c 2066 696c 655f 7479 7065 5f69 6e3d  ', file_type_in=
+00000de0: 2770 6e67 272c 2066 696c 655f 7479 7065  'png', file_type
+00000df0: 5f6f 7574 3d27 626d 7027 2c20 7665 7262  _out='bmp', verb
+00000e00: 6f73 653d 5472 7565 290a 0a20 2020 2022  ose=True)..    "
+00000e10: 2222 0a20 2020 2063 6865 636b 5f69 665f  "".    check_if_
+00000e20: 6469 725f 6578 6973 7473 2869 6e5f 6469  dir_exists(in_di
+00000e30: 723d 6469 7265 6374 6f72 792c 2073 6f75  r=directory, sou
+00000e40: 7263 653d 6368 616e 6765 5f69 6d67 5f66  rce=change_img_f
+00000e50: 6f72 6d61 742e 5f5f 6e61 6d65 5f5f 290a  ormat.__name__).
+00000e60: 2020 2020 6669 6c65 735f 666f 756e 6420      files_found 
+00000e70: 3d20 676c 6f62 2e67 6c6f 6228 6469 7265  = glob.glob(dire
+00000e80: 6374 6f72 7920 2b20 6622 2f2a 2e7b 6669  ctory + f"/*.{fi
+00000e90: 6c65 5f74 7970 655f 696e 7d22 290a 2020  le_type_in}").  
+00000ea0: 2020 6966 206c 656e 2866 696c 6573 5f66    if len(files_f
+00000eb0: 6f75 6e64 2920 3d3d 2030 3a0a 2020 2020  ound) == 0:.    
+00000ec0: 2020 2020 7261 6973 6520 4e6f 4669 6c65      raise NoFile
+00000ed0: 7346 6f75 6e64 4572 726f 7228 0a20 2020  sFoundError(.   
+00000ee0: 2020 2020 2020 2020 2066 2253 494d 4241           f"SIMBA
+00000ef0: 2045 5252 4f52 3a20 4e6f 207b 6669 6c65   ERROR: No {file
+00000f00: 5f74 7970 655f 696e 7d20 6669 6c65 7320  _type_in} files 
+00000f10: 2877 6974 6820 2e7b 6669 6c65 5f74 7970  (with .{file_typ
+00000f20: 655f 696e 7d20 6669 6c65 2065 7874 656e  e_in} file exten
+00000f30: 7369 6f6e 2920 666f 756e 6420 696e 2074  sion) found in t
+00000f40: 6865 207b 6469 7265 6374 6f72 797d 2064  he {directory} d
+00000f50: 6972 6563 746f 7279 222c 0a20 2020 2020  irectory",.     
+00000f60: 2020 2020 2020 2073 6f75 7263 653d 6368         source=ch
+00000f70: 616e 6765 5f69 6d67 5f66 6f72 6d61 742e  ange_img_format.
+00000f80: 5f5f 6e61 6d65 5f5f 2c0a 2020 2020 2020  __name__,.      
+00000f90: 2020 290a 2020 2020 7072 696e 7428 6622    ).    print(f"
+00000fa0: 7b6c 656e 2866 696c 6573 5f66 6f75 6e64  {len(files_found
+00000fb0: 297d 2069 6d61 6765 2066 696c 6573 2066  )} image files f
+00000fc0: 6f75 6e64 2069 6e20 7b64 6972 6563 746f  ound in {directo
+00000fd0: 7279 7d2e 2e2e 2229 0a20 2020 2066 6f72  ry}...").    for
+00000fe0: 2066 696c 655f 636e 742c 2066 696c 655f   file_cnt, file_
+00000ff0: 7061 7468 2069 6e20 656e 756d 6572 6174  path in enumerat
+00001000: 6528 6669 6c65 735f 666f 756e 6429 3a0a  e(files_found):.
+00001010: 2020 2020 2020 2020 6966 2076 6572 626f          if verbo
+00001020: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00001030: 7072 696e 7428 6622 436f 6e76 6572 7469  print(f"Converti
+00001040: 6e67 2066 696c 6520 7b66 696c 655f 636e  ng file {file_cn
+00001050: 742b 317d 2f7b 6c65 6e28 6669 6c65 735f  t+1}/{len(files_
+00001060: 666f 756e 6429 7d20 2e2e 2e22 290a 2020  found)} ...").  
+00001070: 2020 2020 2020 696d 203d 2049 6d61 6765        im = Image
+00001080: 2e6f 7065 6e28 6669 6c65 5f70 6174 6829  .open(file_path)
+00001090: 0a20 2020 2020 2020 2073 6176 655f 6e61  .        save_na
+000010a0: 6d65 203d 2066 696c 655f 7061 7468 2e72  me = file_path.r
+000010b0: 6570 6c61 6365 2822 2e22 202b 2073 7472  eplace("." + str
+000010c0: 2866 696c 655f 7479 7065 5f69 6e29 2c20  (file_type_in), 
+000010d0: 222e 2220 2b20 7374 7228 6669 6c65 5f74  "." + str(file_t
+000010e0: 7970 655f 6f75 7429 290a 2020 2020 2020  ype_out)).      
+000010f0: 2020 696d 2e73 6176 6528 7361 7665 5f6e    im.save(save_n
+00001100: 616d 6529 0a20 2020 2020 2020 206f 732e  ame).        os.
+00001110: 7265 6d6f 7665 2866 696c 655f 7061 7468  remove(file_path
+00001120: 290a 2020 2020 7374 646f 7574 5f73 7563  ).    stdout_suc
+00001130: 6365 7373 280a 2020 2020 2020 2020 6d73  cess(.        ms
+00001140: 673d 6622 5349 4d42 4120 434f 4d50 4c45  g=f"SIMBA COMPLE
+00001150: 5445 3a20 4669 6c65 7320 696e 207b 6469  TE: Files in {di
+00001160: 7265 6374 6f72 797d 2064 6972 6563 746f  rectory} directo
+00001170: 7279 2063 6f6e 7665 7274 6564 2074 6f20  ry converted to 
+00001180: 7b66 696c 655f 7479 7065 5f6f 7574 7d22  {file_type_out}"
+00001190: 2c0a 2020 2020 2020 2020 736f 7572 6365  ,.        source
+000011a0: 3d63 6861 6e67 655f 696d 675f 666f 726d  =change_img_form
+000011b0: 6174 2e5f 5f6e 616d 655f 5f2c 0a20 2020  at.__name__,.   
+000011c0: 2029 0a0a 6465 6620 636f 6e76 6572 745f   )..def convert_
+000011d0: 746f 5f6a 7065 6728 6469 7265 6374 6f72  to_jpeg(director
+000011e0: 793a 2055 6e69 6f6e 5b73 7472 2c20 6f73  y: Union[str, os
+000011f0: 2e50 6174 684c 696b 655d 2c0a 2020 2020  .PathLike],.    
+00001200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001210: 7175 616c 6974 793a 204f 7074 696f 6e61  quality: Optiona
+00001220: 6c5b 696e 745d 203d 2039 352c 0a20 2020  l[int] = 95,.   
+00001230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001240: 2076 6572 626f 7365 3a20 4f70 7469 6f6e   verbose: Option
+00001250: 616c 5b62 6f6f 6c5d 203d 2046 616c 7365  al[bool] = False
+00001260: 2920 2d3e 204e 6f6e 653a 0a0a 2020 2020  ) -> None:..    
+00001270: 2222 220a 2020 2020 436f 6e76 6572 7420  """.    Convert 
+00001280: 7468 6520 6669 6c65 2074 7970 6520 6f66  the file type of
+00001290: 2061 6c6c 2069 6d61 6765 2066 696c 6573   all image files
+000012a0: 2077 6974 6869 6e20 6120 6469 7265 6374   within a direct
+000012b0: 6f72 7920 746f 206a 7065 6720 666f 726d  ory to jpeg form
+000012c0: 6174 206f 6620 7061 7373 6564 2071 7561  at of passed qua
+000012d0: 6c69 7479 2e0a 0a20 2020 202e 2e20 6e6f  lity...    .. no
+000012e0: 7465 3a3a 0a20 2020 2020 2020 5175 616c  te::.       Qual
+000012f0: 6974 7920 6162 6f76 6520 3935 2073 686f  ity above 95 sho
+00001300: 756c 6420 6265 2061 766f 6964 6564 3b20  uld be avoided; 
+00001310: 3130 3020 6469 7361 626c 6573 2070 6f72  100 disables por
+00001320: 7469 6f6e 7320 6f66 2074 6865 204a 5045  tions of the JPE
+00001330: 4720 636f 6d70 7265 7373 696f 6e20 616c  G compression al
+00001340: 676f 7269 7468 6d2c 2061 6e64 2072 6573  gorithm, and res
+00001350: 756c 7473 2069 6e20 6c61 7267 6520 6669  ults in large fi
+00001360: 6c65 7320 7769 7468 2068 6172 646c 7920  les with hardly 
+00001370: 616e 7920 6761 696e 2069 6e20 696d 6167  any gain in imag
+00001380: 6520 7175 616c 6974 790a 0a20 2020 203a  e quality..    :
+00001390: 7061 7261 6d65 7465 7220 556e 696f 6e5b  parameter Union[
+000013a0: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
+000013b0: 5d20 6469 7265 6374 6f72 793a 2050 6174  ] directory: Pat
+000013c0: 6820 746f 2064 6972 6563 746f 7279 2068  h to directory h
+000013d0: 6f6c 6469 6e67 2069 6d61 6765 2066 696c  olding image fil
+000013e0: 6573 0a20 2020 203a 7061 7261 6d65 7465  es.    :paramete
+000013f0: 7220 4f70 7469 6f6e 616c 5b69 6e74 5d20  r Optional[int] 
+00001400: 7175 616c 6974 793a 2054 6865 2071 7561  quality: The qua
+00001410: 6c69 7479 206f 6620 7468 6520 6f75 7470  lity of the outp
+00001420: 7574 2069 6d61 6765 7320 2830 2d31 3030  ut images (0-100
+00001430: 292e 0a20 2020 203a 7061 7261 6d65 7465  )..    :paramete
+00001440: 7220 4f70 7469 6f6e 616c 5b62 6f6f 6c5d  r Optional[bool]
+00001450: 2076 6572 626f 7365 3a20 4966 2054 7275   verbose: If Tru
+00001460: 652c 2070 7269 6e74 7320 7072 6f67 7265  e, prints progre
+00001470: 7373 2e20 4465 6661 756c 7420 4661 6c73  ss. Default Fals
+00001480: 652e 0a0a 2020 2020 3a65 7861 6d70 6c65  e...    :example
+00001490: 3a0a 2020 2020 3e3e 3e20 636f 6e76 6572  :.    >>> conver
+000014a0: 745f 746f 5f6a 7065 6728 6469 7265 6374  t_to_jpeg(direct
+000014b0: 6f72 793d 272f 5573 6572 732f 7369 6d6f  ory='/Users/simo
+000014c0: 6e2f 4465 736b 746f 702f 696d 6773 272c  n/Desktop/imgs',
+000014d0: 2066 696c 655f 7479 7065 5f69 6e3d 272e   file_type_in='.
+000014e0: 706e 6727 2c20 7175 616c 6974 793d 3135  png', quality=15
+000014f0: 290a 2020 2020 2222 220a 2020 2020 7469  ).    """.    ti
+00001500: 6d65 7220 3d20 5369 6d62 6154 696d 6572  mer = SimbaTimer
+00001510: 2873 7461 7274 3d54 7275 6529 0a20 2020  (start=True).   
+00001520: 2063 6865 636b 5f69 665f 6469 725f 6578   check_if_dir_ex
+00001530: 6973 7473 2869 6e5f 6469 723d 6469 7265  ists(in_dir=dire
+00001540: 6374 6f72 792c 2073 6f75 7263 653d 636f  ctory, source=co
+00001550: 6e76 6572 745f 746f 5f6a 7065 672e 5f5f  nvert_to_jpeg.__
+00001560: 6e61 6d65 5f5f 290a 2020 2020 6368 6563  name__).    chec
+00001570: 6b5f 696e 7428 6e61 6d65 3d66 277b 636f  k_int(name=f'{co
+00001580: 6e76 6572 745f 746f 5f6a 7065 672e 5f5f  nvert_to_jpeg.__
+00001590: 6e61 6d65 5f5f 7d20 7175 616c 6974 7927  name__} quality'
+000015a0: 2c20 7661 6c75 653d 7175 616c 6974 792c  , value=quality,
+000015b0: 206d 696e 5f76 616c 7565 3d31 2c20 6d61   min_value=1, ma
+000015c0: 785f 7661 6c75 653d 3130 3029 0a20 2020  x_value=100).   
+000015d0: 2066 696c 655f 7061 7468 7320 3d20 6669   file_paths = fi
+000015e0: 6e64 5f66 696c 6573 5f6f 665f 6669 6c65  nd_files_of_file
+000015f0: 7479 7065 735f 696e 5f64 6972 6563 746f  types_in_directo
+00001600: 7279 2864 6972 6563 746f 7279 3d64 6972  ry(directory=dir
+00001610: 6563 746f 7279 2c20 6578 7465 6e73 696f  ectory, extensio
+00001620: 6e73 3d4f 7074 696f 6e73 2e41 4c4c 5f49  ns=Options.ALL_I
+00001630: 4d41 4745 5f46 4f52 4d41 545f 4f50 5449  MAGE_FORMAT_OPTI
+00001640: 4f4e 532e 7661 6c75 652c 2072 6169 7365  ONS.value, raise
+00001650: 5f65 7272 6f72 3d54 7275 6529 0a20 2020  _error=True).   
+00001660: 2064 6174 6574 696d 655f 203d 2064 6174   datetime_ = dat
+00001670: 6574 696d 652e 6e6f 7728 292e 7374 7266  etime.now().strf
+00001680: 7469 6d65 2822 2559 256d 2564 2548 254d  time("%Y%m%d%H%M
+00001690: 2553 2229 0a20 2020 2070 7269 6e74 2866  %S").    print(f
+000016a0: 227b 6c65 6e28 6669 6c65 5f70 6174 6873  "{len(file_paths
+000016b0: 297d 2069 6d61 6765 2066 696c 6528 7329  )} image file(s)
+000016c0: 2066 6f75 6e64 2069 6e20 7b64 6972 6563   found in {direc
+000016d0: 746f 7279 7d2e 2e2e 2229 0a20 2020 2073  tory}...").    s
+000016e0: 6176 655f 6469 7220 3d20 6f73 2e70 6174  ave_dir = os.pat
+000016f0: 682e 6a6f 696e 2864 6972 6563 746f 7279  h.join(directory
+00001700: 2c20 6627 706e 675f 7b64 6174 6574 696d  , f'png_{datetim
+00001710: 655f 7d27 290a 2020 2020 6f73 2e6d 616b  e_}').    os.mak
+00001720: 6564 6972 7328 7361 7665 5f64 6972 290a  edirs(save_dir).
+00001730: 2020 2020 666f 7220 6669 6c65 5f63 6e74      for file_cnt
+00001740: 2c20 6669 6c65 5f70 6174 6820 696e 2065  , file_path in e
+00001750: 6e75 6d65 7261 7465 2866 696c 655f 7061  numerate(file_pa
+00001760: 7468 7329 3a0a 2020 2020 2020 2020 6469  ths):.        di
+00001770: 722c 2066 696c 655f 6e61 6d65 2c20 5f20  r, file_name, _ 
+00001780: 3d20 6765 745f 666e 5f65 7874 2866 696c  = get_fn_ext(fil
+00001790: 6570 6174 683d 6669 6c65 5f70 6174 6829  epath=file_path)
+000017a0: 0a20 2020 2020 2020 2073 6176 655f 7061  .        save_pa
+000017b0: 7468 203d 206f 732e 7061 7468 2e6a 6f69  th = os.path.joi
+000017c0: 6e28 7361 7665 5f64 6972 2c20 6627 7b66  n(save_dir, f'{f
+000017d0: 696c 655f 6e61 6d65 7d2e 6a70 6567 2729  ile_name}.jpeg')
+000017e0: 0a20 2020 2020 2020 2069 6620 7665 7262  .        if verb
+000017f0: 6f73 653a 0a20 2020 2020 2020 2020 2020  ose:.           
+00001800: 2070 7269 6e74 2866 2243 6f6e 7665 7274   print(f"Convert
+00001810: 696e 6720 6669 6c65 207b 6669 6c65 5f63  ing file {file_c
+00001820: 6e74 2b31 7d2f 7b6c 656e 2866 696c 655f  nt+1}/{len(file_
+00001830: 7061 7468 7329 7d20 2e2e 2e22 290a 2020  paths)} ...").  
+00001840: 2020 2020 2020 696d 6720 3d20 496d 6167        img = Imag
+00001850: 652e 6f70 656e 2866 696c 655f 7061 7468  e.open(file_path
+00001860: 290a 2020 2020 2020 2020 6966 2069 6d67  ).        if img
+00001870: 2e6d 6f64 6520 696e 2028 2752 4742 4127  .mode in ('RGBA'
+00001880: 2c20 274c 4127 293a 2069 6d67 203d 2069  , 'LA'): img = i
+00001890: 6d67 2e63 6f6e 7665 7274 2827 5247 4227  mg.convert('RGB'
+000018a0: 290a 2020 2020 2020 2020 696d 672e 7361  ).        img.sa
+000018b0: 7665 2873 6176 655f 7061 7468 2c20 666f  ve(save_path, fo
+000018c0: 726d 6174 3d27 4a50 4547 272c 2071 7561  rmat='JPEG', qua
+000018d0: 6c69 7479 3d71 7561 6c69 7479 290a 2020  lity=quality).  
+000018e0: 2020 7469 6d65 722e 7374 6f70 5f74 696d    timer.stop_tim
+000018f0: 6572 2829 0a20 2020 2073 7464 6f75 745f  er().    stdout_
+00001900: 7375 6363 6573 7328 6d73 673d 6622 5349  success(msg=f"SI
+00001910: 4d42 4120 434f 4d50 4c45 5445 3a20 7b6c  MBA COMPLETE: {l
+00001920: 656e 2866 696c 655f 7061 7468 7329 7d20  en(file_paths)} 
+00001930: 696d 6167 6520 6669 6c65 2873 2920 696e  image file(s) in
+00001940: 207b 6469 7265 6374 6f72 797d 2064 6972   {directory} dir
+00001950: 6563 746f 7279 2063 6f6e 7665 7274 6564  ectory converted
+00001960: 2074 6f20 6a70 6567 2061 6e64 2073 746f   to jpeg and sto
+00001970: 7265 6420 696e 207b 7361 7665 5f64 6972  red in {save_dir
+00001980: 7d20 6469 7265 6374 6f72 7922 2c20 736f  } directory", so
+00001990: 7572 6365 3d63 6f6e 7665 7274 5f74 6f5f  urce=convert_to_
+000019a0: 6a70 6567 2e5f 5f6e 616d 655f 5f2c 2065  jpeg.__name__, e
+000019b0: 6c61 7073 6564 5f74 696d 653d 7469 6d65  lapsed_time=time
+000019c0: 722e 656c 6170 7365 645f 7469 6d65 5f73  r.elapsed_time_s
+000019d0: 7472 290a 0a0a 6465 6620 636f 6e76 6572  tr)...def conver
+000019e0: 745f 746f 5f62 6d70 2864 6972 6563 746f  t_to_bmp(directo
+000019f0: 7279 3a20 556e 696f 6e5b 7374 722c 206f  ry: Union[str, o
+00001a00: 732e 5061 7468 4c69 6b65 5d2c 0a20 2020  s.PathLike],.   
+00001a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001a20: 7665 7262 6f73 653a 204f 7074 696f 6e61  verbose: Optiona
+00001a30: 6c5b 626f 6f6c 5d20 3d20 4661 6c73 6529  l[bool] = False)
+00001a40: 202d 3e20 4e6f 6e65 3a0a 0a20 2020 2022   -> None:..    "
+00001a50: 2222 0a20 2020 2043 6f6e 7665 7274 2069  "".    Convert i
+00001a60: 6d61 6765 7320 696e 2061 2064 6972 6563  mages in a direc
+00001a70: 746f 7279 2074 6f20 424d 5020 666f 726d  tory to BMP form
+00001a80: 6174 2e0a 0a20 2020 203a 7061 7261 6d20  at...    :param 
+00001a90: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
+00001aa0: 7468 4c69 6b65 5d20 6469 7265 6374 6f72  thLike] director
+00001ab0: 793a 2044 6972 6563 746f 7279 2063 6f6e  y: Directory con
+00001ac0: 7461 696e 696e 6720 7468 6520 696d 6167  taining the imag
+00001ad0: 6573 2e0a 2020 2020 3a70 6172 616d 204f  es..    :param O
+00001ae0: 7074 696f 6e61 6c5b 626f 6f6c 5d20 7665  ptional[bool] ve
+00001af0: 7262 6f73 653a 2049 6620 5472 7565 2c20  rbose: If True, 
+00001b00: 7072 696e 7420 636f 6e76 6572 7369 6f6e  print conversion
+00001b10: 2070 726f 6772 6573 732e 2044 6566 6175   progress. Defau
+00001b20: 6c74 2069 7320 4661 6c73 652e 0a20 2020  lt is False..   
+00001b30: 203a 7265 7475 726e 3a20 4e6f 6e65 2e0a   :return: None..
+00001b40: 2020 2020 2222 220a 0a20 2020 2074 696d      """..    tim
+00001b50: 6572 203d 2053 696d 6261 5469 6d65 7228  er = SimbaTimer(
+00001b60: 7374 6172 743d 5472 7565 290a 2020 2020  start=True).    
+00001b70: 6368 6563 6b5f 6966 5f64 6972 5f65 7869  check_if_dir_exi
+00001b80: 7374 7328 696e 5f64 6972 3d64 6972 6563  sts(in_dir=direc
+00001b90: 746f 7279 2c20 736f 7572 6365 3d63 6f6e  tory, source=con
+00001ba0: 7665 7274 5f74 6f5f 626d 702e 5f5f 6e61  vert_to_bmp.__na
+00001bb0: 6d65 5f5f 290a 2020 2020 6669 6c65 5f70  me__).    file_p
+00001bc0: 6174 6873 203d 2066 696e 645f 6669 6c65  aths = find_file
+00001bd0: 735f 6f66 5f66 696c 6574 7970 6573 5f69  s_of_filetypes_i
+00001be0: 6e5f 6469 7265 6374 6f72 7928 6469 7265  n_directory(dire
+00001bf0: 6374 6f72 793d 6469 7265 6374 6f72 792c  ctory=directory,
+00001c00: 2065 7874 656e 7369 6f6e 733d 4f70 7469   extensions=Opti
+00001c10: 6f6e 732e 414c 4c5f 494d 4147 455f 464f  ons.ALL_IMAGE_FO
+00001c20: 524d 4154 5f4f 5054 494f 4e53 2e76 616c  RMAT_OPTIONS.val
+00001c30: 7565 2c20 7261 6973 655f 6572 726f 723d  ue, raise_error=
+00001c40: 5472 7565 290a 2020 2020 6461 7465 7469  True).    dateti
+00001c50: 6d65 5f20 3d20 6461 7465 7469 6d65 2e6e  me_ = datetime.n
+00001c60: 6f77 2829 2e73 7472 6674 696d 6528 2225  ow().strftime("%
+00001c70: 5925 6d25 6425 4825 4d25 5322 290a 2020  Y%m%d%H%M%S").  
+00001c80: 2020 7072 696e 7428 6622 7b6c 656e 2866    print(f"{len(f
+00001c90: 696c 655f 7061 7468 7329 7d20 696d 6167  ile_paths)} imag
+00001ca0: 6520 6669 6c65 2873 2920 666f 756e 6420  e file(s) found 
+00001cb0: 696e 207b 6469 7265 6374 6f72 797d 2e2e  in {directory}..
+00001cc0: 2e22 290a 2020 2020 7361 7665 5f64 6972  .").    save_dir
+00001cd0: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
+00001ce0: 6469 7265 6374 6f72 792c 2066 2762 6d70  directory, f'bmp
+00001cf0: 5f7b 6461 7465 7469 6d65 5f7d 2729 0a20  _{datetime_}'). 
+00001d00: 2020 206f 732e 6d61 6b65 6469 7273 2873     os.makedirs(s
+00001d10: 6176 655f 6469 7229 0a20 2020 2066 6f72  ave_dir).    for
+00001d20: 2066 696c 655f 636e 742c 2066 696c 655f   file_cnt, file_
+00001d30: 7061 7468 2069 6e20 656e 756d 6572 6174  path in enumerat
+00001d40: 6528 6669 6c65 5f70 6174 6873 293a 0a20  e(file_paths):. 
+00001d50: 2020 2020 2020 2064 6972 2c20 6669 6c65         dir, file
+00001d60: 5f6e 616d 652c 205f 203d 2067 6574 5f66  _name, _ = get_f
+00001d70: 6e5f 6578 7428 6669 6c65 7061 7468 3d66  n_ext(filepath=f
+00001d80: 696c 655f 7061 7468 290a 2020 2020 2020  ile_path).      
+00001d90: 2020 7361 7665 5f70 6174 6820 3d20 6f73    save_path = os
+00001da0: 2e70 6174 682e 6a6f 696e 2873 6176 655f  .path.join(save_
+00001db0: 6469 722c 2066 277b 6669 6c65 5f6e 616d  dir, f'{file_nam
+00001dc0: 657d 2e62 6d70 2729 0a20 2020 2020 2020  e}.bmp').       
+00001dd0: 2069 6620 7665 7262 6f73 653a 0a20 2020   if verbose:.   
+00001de0: 2020 2020 2020 2020 2070 7269 6e74 2866           print(f
+00001df0: 2243 6f6e 7665 7274 696e 6720 6669 6c65  "Converting file
+00001e00: 207b 6669 6c65 5f63 6e74 2b31 7d2f 7b6c   {file_cnt+1}/{l
+00001e10: 656e 2866 696c 655f 7061 7468 7329 7d20  en(file_paths)} 
+00001e20: 2e2e 2e22 290a 2020 2020 2020 2020 696d  ...").        im
+00001e30: 6720 3d20 496d 6167 652e 6f70 656e 2866  g = Image.open(f
+00001e40: 696c 655f 7061 7468 290a 2020 2020 2020  ile_path).      
+00001e50: 2020 6966 2069 6d67 2e6d 6f64 6520 696e    if img.mode in
+00001e60: 2028 2752 4742 4127 2c20 274c 4127 293a   ('RGBA', 'LA'):
+00001e70: 2069 6d67 203d 2069 6d67 2e63 6f6e 7665   img = img.conve
+00001e80: 7274 2827 5247 4227 290a 2020 2020 2020  rt('RGB').      
+00001e90: 2020 696d 672e 7361 7665 2873 6176 655f    img.save(save_
+00001ea0: 7061 7468 2c20 666f 726d 6174 3d27 424d  path, format='BM
+00001eb0: 5027 290a 2020 2020 2020 2020 7469 6d65  P').        time
+00001ec0: 722e 7374 6f70 5f74 696d 6572 2829 0a20  r.stop_timer(). 
+00001ed0: 2020 2073 7464 6f75 745f 7375 6363 6573     stdout_succes
+00001ee0: 7328 6d73 673d 6622 5349 4d42 4120 434f  s(msg=f"SIMBA CO
+00001ef0: 4d50 4c45 5445 3a20 7b6c 656e 2866 696c  MPLETE: {len(fil
+00001f00: 655f 7061 7468 7329 7d20 696d 6167 6520  e_paths)} image 
+00001f10: 6669 6c65 2873 2920 696e 207b 6469 7265  file(s) in {dire
+00001f20: 6374 6f72 797d 2064 6972 6563 746f 7279  ctory} directory
+00001f30: 2063 6f6e 7665 7274 6564 2074 6f20 424d   converted to BM
+00001f40: 5020 616e 6420 7374 6f72 6564 2069 6e20  P and stored in 
+00001f50: 7b73 6176 655f 6469 727d 2064 6972 6563  {save_dir} direc
+00001f60: 746f 7279 222c 2073 6f75 7263 653d 636f  tory", source=co
+00001f70: 6e76 6572 745f 746f 5f62 6d70 2e5f 5f6e  nvert_to_bmp.__n
+00001f80: 616d 655f 5f2c 2065 6c61 7073 6564 5f74  ame__, elapsed_t
+00001f90: 696d 653d 7469 6d65 722e 656c 6170 7365  ime=timer.elapse
+00001fa0: 645f 7469 6d65 5f73 7472 290a 0a0a 6465  d_time_str)...de
+00001fb0: 6620 636f 6e76 6572 745f 746f 5f70 6e67  f convert_to_png
+00001fc0: 2864 6972 6563 746f 7279 3a20 556e 696f  (directory: Unio
+00001fd0: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
+00001fe0: 6b65 5d2c 0a20 2020 2020 2020 2020 2020  ke],.           
+00001ff0: 2020 2020 2020 2020 7665 7262 6f73 653a          verbose:
+00002000: 204f 7074 696f 6e61 6c5b 626f 6f6c 5d20   Optional[bool] 
+00002010: 3d20 4661 6c73 6529 202d 3e20 4e6f 6e65  = False) -> None
+00002020: 3a0a 0a20 2020 2022 2222 0a20 2020 2043  :..    """.    C
+00002030: 6f6e 7665 7274 2069 6d61 6765 7320 696e  onvert images in
+00002040: 2061 2064 6972 6563 746f 7279 2074 6f20   a directory to 
+00002050: 504e 4720 666f 726d 6174 2e0a 0a20 2020  PNG format...   
+00002060: 203a 7061 7261 6d20 556e 696f 6e5b 7374   :param Union[st
+00002070: 722c 206f 732e 5061 7468 4c69 6b65 5d20  r, os.PathLike] 
+00002080: 6469 7265 6374 6f72 793a 2044 6972 6563  directory: Direc
+00002090: 746f 7279 2063 6f6e 7461 696e 696e 6720  tory containing 
+000020a0: 7468 6520 696d 6167 6573 2e0a 2020 2020  the images..    
+000020b0: 3a70 6172 616d 204f 7074 696f 6e61 6c5b  :param Optional[
+000020c0: 626f 6f6c 5d20 7665 7262 6f73 653a 2049  bool] verbose: I
+000020d0: 6620 5472 7565 2c20 7072 696e 7420 636f  f True, print co
+000020e0: 6e76 6572 7369 6f6e 2070 726f 6772 6573  nversion progres
+000020f0: 732e 2044 6566 6175 6c74 2069 7320 4661  s. Default is Fa
+00002100: 6c73 652e 0a20 2020 203a 7265 7475 726e  lse..    :return
+00002110: 3a20 4e6f 6e65 2e0a 2020 2020 2222 220a  : None..    """.
+00002120: 0a20 2020 2074 696d 6572 203d 2053 696d  .    timer = Sim
+00002130: 6261 5469 6d65 7228 7374 6172 743d 5472  baTimer(start=Tr
+00002140: 7565 290a 2020 2020 6368 6563 6b5f 6966  ue).    check_if
+00002150: 5f64 6972 5f65 7869 7374 7328 696e 5f64  _dir_exists(in_d
+00002160: 6972 3d64 6972 6563 746f 7279 2c20 736f  ir=directory, so
+00002170: 7572 6365 3d63 6f6e 7665 7274 5f74 6f5f  urce=convert_to_
+00002180: 706e 672e 5f5f 6e61 6d65 5f5f 290a 2020  png.__name__).  
+00002190: 2020 6669 6c65 5f70 6174 6873 203d 2066    file_paths = f
+000021a0: 696e 645f 6669 6c65 735f 6f66 5f66 696c  ind_files_of_fil
+000021b0: 6574 7970 6573 5f69 6e5f 6469 7265 6374  etypes_in_direct
+000021c0: 6f72 7928 6469 7265 6374 6f72 793d 6469  ory(directory=di
+000021d0: 7265 6374 6f72 792c 2065 7874 656e 7369  rectory, extensi
+000021e0: 6f6e 733d 4f70 7469 6f6e 732e 414c 4c5f  ons=Options.ALL_
+000021f0: 494d 4147 455f 464f 524d 4154 5f4f 5054  IMAGE_FORMAT_OPT
+00002200: 494f 4e53 2e76 616c 7565 2c20 7261 6973  IONS.value, rais
+00002210: 655f 6572 726f 723d 5472 7565 290a 2020  e_error=True).  
+00002220: 2020 6461 7465 7469 6d65 5f20 3d20 6461    datetime_ = da
+00002230: 7465 7469 6d65 2e6e 6f77 2829 2e73 7472  tetime.now().str
+00002240: 6674 696d 6528 2225 5925 6d25 6425 4825  ftime("%Y%m%d%H%
+00002250: 4d25 5322 290a 2020 2020 7072 696e 7428  M%S").    print(
+00002260: 6622 7b6c 656e 2866 696c 655f 7061 7468  f"{len(file_path
+00002270: 7329 7d20 696d 6167 6520 6669 6c65 2873  s)} image file(s
+00002280: 2920 666f 756e 6420 696e 207b 6469 7265  ) found in {dire
+00002290: 6374 6f72 797d 2e2e 2e22 290a 2020 2020  ctory}...").    
+000022a0: 7361 7665 5f64 6972 203d 206f 732e 7061  save_dir = os.pa
+000022b0: 7468 2e6a 6f69 6e28 6469 7265 6374 6f72  th.join(director
+000022c0: 792c 2066 2770 6e67 5f7b 6461 7465 7469  y, f'png_{dateti
+000022d0: 6d65 5f7d 2729 0a20 2020 206f 732e 6d61  me_}').    os.ma
+000022e0: 6b65 6469 7273 2873 6176 655f 6469 7229  kedirs(save_dir)
+000022f0: 0a20 2020 2066 6f72 2066 696c 655f 636e  .    for file_cn
+00002300: 742c 2066 696c 655f 7061 7468 2069 6e20  t, file_path in 
+00002310: 656e 756d 6572 6174 6528 6669 6c65 5f70  enumerate(file_p
+00002320: 6174 6873 293a 0a20 2020 2020 2020 2064  aths):.        d
+00002330: 6972 2c20 6669 6c65 5f6e 616d 652c 205f  ir, file_name, _
+00002340: 203d 2067 6574 5f66 6e5f 6578 7428 6669   = get_fn_ext(fi
+00002350: 6c65 7061 7468 3d66 696c 655f 7061 7468  lepath=file_path
+00002360: 290a 2020 2020 2020 2020 7361 7665 5f70  ).        save_p
+00002370: 6174 6820 3d20 6f73 2e70 6174 682e 6a6f  ath = os.path.jo
+00002380: 696e 2873 6176 655f 6469 722c 2066 277b  in(save_dir, f'{
+00002390: 6669 6c65 5f6e 616d 657d 2e70 6e67 2729  file_name}.png')
+000023a0: 0a20 2020 2020 2020 2069 6620 7665 7262  .        if verb
+000023b0: 6f73 653a 0a20 2020 2020 2020 2020 2020  ose:.           
+000023c0: 2070 7269 6e74 2866 2243 6f6e 7665 7274   print(f"Convert
+000023d0: 696e 6720 6669 6c65 207b 6669 6c65 5f63  ing file {file_c
+000023e0: 6e74 2b31 7d2f 7b6c 656e 2866 696c 655f  nt+1}/{len(file_
+000023f0: 7061 7468 7329 7d20 2e2e 2e22 290a 2020  paths)} ...").  
+00002400: 2020 2020 2020 696d 6720 3d20 496d 6167        img = Imag
+00002410: 652e 6f70 656e 2866 696c 655f 7061 7468  e.open(file_path
+00002420: 290a 2020 2020 2020 2020 6966 2069 6d67  ).        if img
+00002430: 2e6d 6f64 6520 696e 2028 2752 4742 4127  .mode in ('RGBA'
+00002440: 2c20 274c 4127 293a 2069 6d67 203d 2069  , 'LA'): img = i
+00002450: 6d67 2e63 6f6e 7665 7274 2827 5247 4227  mg.convert('RGB'
+00002460: 290a 2020 2020 2020 2020 696d 672e 7361  ).        img.sa
+00002470: 7665 2873 6176 655f 7061 7468 2c20 2750  ve(save_path, 'P
+00002480: 4e47 2729 0a20 2020 2020 2020 2074 696d  NG').        tim
+00002490: 6572 2e73 746f 705f 7469 6d65 7228 290a  er.stop_timer().
+000024a0: 2020 2020 7374 646f 7574 5f73 7563 6365      stdout_succe
+000024b0: 7373 286d 7367 3d66 2253 494d 4241 2043  ss(msg=f"SIMBA C
+000024c0: 4f4d 504c 4554 453a 207b 6c65 6e28 6669  OMPLETE: {len(fi
+000024d0: 6c65 5f70 6174 6873 297d 2069 6d61 6765  le_paths)} image
+000024e0: 2066 696c 6528 7329 2069 6e20 7b64 6972   file(s) in {dir
+000024f0: 6563 746f 7279 7d20 6469 7265 6374 6f72  ectory} director
+00002500: 7920 636f 6e76 6572 7465 6420 746f 2050  y converted to P
+00002510: 4e47 2061 6e64 2073 746f 7265 6420 696e  NG and stored in
+00002520: 207b 7361 7665 5f64 6972 7d20 6469 7265   {save_dir} dire
+00002530: 6374 6f72 7922 2c20 736f 7572 6365 3d63  ctory", source=c
+00002540: 6f6e 7665 7274 5f74 6f5f 706e 672e 5f5f  onvert_to_png.__
+00002550: 6e61 6d65 5f5f 2c20 656c 6170 7365 645f  name__, elapsed_
+00002560: 7469 6d65 3d74 696d 6572 2e65 6c61 7073  time=timer.elaps
+00002570: 6564 5f74 696d 655f 7374 7229 0a0a 0a64  ed_time_str)...d
+00002580: 6566 2063 6f6e 7665 7274 5f74 6f5f 7469  ef convert_to_ti
+00002590: 6666 2864 6972 6563 746f 7279 3a20 556e  ff(directory: Un
+000025a0: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+000025b0: 4c69 6b65 5d2c 0a20 2020 2020 2020 2020  Like],.         
+000025c0: 2020 2020 2020 2020 2020 2073 7461 636b             stack
+000025d0: 3a20 4f70 7469 6f6e 616c 5b62 6f6f 6c5d  : Optional[bool]
+000025e0: 203d 2046 616c 7365 2c0a 2020 2020 2020   = False,.      
+000025f0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00002600: 6d70 7265 7373 696f 6e3a 204c 6974 6572  mpression: Liter
+00002610: 616c 5b27 7261 7727 2c20 2774 6966 665f  al['raw', 'tiff_
+00002620: 6465 666c 6174 6527 2c20 2774 6966 665f  deflate', 'tiff_
+00002630: 6c7a 7727 5d20 3d20 2772 6177 272c 0a20  lzw'] = 'raw',. 
+00002640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002650: 2020 2076 6572 626f 7365 3a20 4f70 7469     verbose: Opti
+00002660: 6f6e 616c 5b62 6f6f 6c5d 203d 2046 616c  onal[bool] = Fal
+00002670: 7365 2920 2d3e 204e 6f6e 653a 0a20 2020  se) -> None:.   
+00002680: 2022 2222 0a20 2020 2043 6f6e 7665 7274   """.    Convert
+00002690: 2069 6d61 6765 7320 696e 2061 2064 6972   images in a dir
+000026a0: 6563 746f 7279 2074 6f20 5449 4646 2066  ectory to TIFF f
+000026b0: 6f72 6d61 742e 0a0a 2020 2020 3a70 6172  ormat...    :par
+000026c0: 616d 2055 6e69 6f6e 5b73 7472 2c20 6f73  am Union[str, os
+000026d0: 2e50 6174 684c 696b 655d 2064 6972 6563  .PathLike] direc
+000026e0: 746f 7279 3a20 5468 6520 6469 7265 6374  tory: The direct
+000026f0: 6f72 7920 636f 6e74 6169 6e69 6e67 2074  ory containing t
+00002700: 6865 2069 6d61 6765 732e 0a20 2020 203a  he images..    :
+00002710: 7061 7261 6d20 4f70 7469 6f6e 616c 5b62  param Optional[b
+00002720: 6f6f 6c5d 2073 7461 636b 3a20 4966 2054  ool] stack: If T
+00002730: 7275 652c 2063 7265 6174 6520 6120 5449  rue, create a TI
+00002740: 4646 2073 7461 636b 2066 726f 6d20 7468  FF stack from th
+00002750: 6520 696d 6167 6573 2e20 4465 6661 756c  e images. Defaul
+00002760: 7420 6973 2046 616c 7365 2e0a 2020 2020  t is False..    
+00002770: 3a70 6172 616d 204c 6974 6572 616c 5b27  :param Literal['
+00002780: 7261 7727 2c20 2774 6966 665f 6465 666c  raw', 'tiff_defl
+00002790: 6174 6527 2c20 2774 6966 665f 6c7a 7727  ate', 'tiff_lzw'
+000027a0: 5d20 636f 6d70 7265 7373 696f 6e3a 2043  ] compression: C
+000027b0: 6f6d 7072 6573 7369 6f6e 206d 6574 686f  ompression metho
+000027c0: 6420 666f 7220 7468 6520 5449 4646 2066  d for the TIFF f
+000027d0: 696c 652e 204f 7074 696f 6e73 2061 7265  ile. Options are
+000027e0: 2027 7261 7727 2028 6e6f 2063 6f6d 7072   'raw' (no compr
+000027f0: 6573 7369 6f6e 292c 2027 7469 6666 5f64  ession), 'tiff_d
+00002800: 6566 6c61 7465 272c 2061 6e64 2027 7469  eflate', and 'ti
+00002810: 6666 5f6c 7a77 272e 2044 6566 6175 6c74  ff_lzw'. Default
+00002820: 2069 7320 2772 6177 272e 0a20 2020 203a   is 'raw'..    :
+00002830: 7061 7261 6d20 4f70 7469 6f6e 616c 5b62  param Optional[b
+00002840: 6f6f 6c5d 2076 6572 626f 7365 3a20 4966  ool] verbose: If
+00002850: 2054 7275 652c 2070 7269 6e74 2063 6f6e   True, print con
+00002860: 7665 7273 696f 6e20 7072 6f67 7265 7373  version progress
+00002870: 2e20 4465 6661 756c 7420 6973 2046 616c  . Default is Fal
+00002880: 7365 2e0a 2020 2020 3a72 6574 7572 6e3a  se..    :return:
+00002890: 204e 6f6e 652e 0a0a 2020 2020 3a65 7861   None...    :exa
+000028a0: 6d70 6c65 3a0a 2020 2020 3e3e 3e20 636f  mple:.    >>> co
+000028b0: 6e76 6572 745f 746f 5f74 6966 6628 272f  nvert_to_tiff('/
+000028c0: 5573 6572 732f 7369 6d6f 6e2f 4465 736b  Users/simon/Desk
+000028d0: 746f 702f 696d 6773 272c 2073 7461 636b  top/imgs', stack
+000028e0: 3d54 7275 652c 2063 6f6d 7072 6573 7369  =True, compressi
+000028f0: 6f6e 3d27 7469 6666 5f6c 7a77 2729 0a0a  on='tiff_lzw')..
+00002900: 2020 2020 2222 220a 2020 2020 7469 6d65      """.    time
+00002910: 7220 3d20 5369 6d62 6154 696d 6572 2873  r = SimbaTimer(s
+00002920: 7461 7274 3d54 7275 6529 0a20 2020 2063  tart=True).    c
+00002930: 6865 636b 5f69 665f 6469 725f 6578 6973  heck_if_dir_exis
+00002940: 7473 2869 6e5f 6469 723d 6469 7265 6374  ts(in_dir=direct
+00002950: 6f72 792c 2073 6f75 7263 653d 636f 6e76  ory, source=conv
+00002960: 6572 745f 746f 5f74 6966 662e 5f5f 6e61  ert_to_tiff.__na
+00002970: 6d65 5f5f 290a 2020 2020 6669 6c65 5f70  me__).    file_p
+00002980: 6174 6873 203d 2066 696e 645f 6669 6c65  aths = find_file
+00002990: 735f 6f66 5f66 696c 6574 7970 6573 5f69  s_of_filetypes_i
+000029a0: 6e5f 6469 7265 6374 6f72 7928 6469 7265  n_directory(dire
+000029b0: 6374 6f72 793d 6469 7265 6374 6f72 792c  ctory=directory,
+000029c0: 2065 7874 656e 7369 6f6e 733d 4f70 7469   extensions=Opti
+000029d0: 6f6e 732e 414c 4c5f 494d 4147 455f 464f  ons.ALL_IMAGE_FO
+000029e0: 524d 4154 5f4f 5054 494f 4e53 2e76 616c  RMAT_OPTIONS.val
+000029f0: 7565 2c20 7261 6973 655f 6572 726f 723d  ue, raise_error=
+00002a00: 5472 7565 290a 2020 2020 6368 6563 6b5f  True).    check_
+00002a10: 7374 7228 6e61 6d65 3d66 277b 636f 6e76  str(name=f'{conv
+00002a20: 6572 745f 746f 5f74 6966 667d 2063 6f6d  ert_to_tiff} com
+00002a30: 7072 6573 7369 6f6e 272c 2076 616c 7565  pression', value
+00002a40: 3d63 6f6d 7072 6573 7369 6f6e 2c20 6f70  =compression, op
+00002a50: 7469 6f6e 733d 5b27 7261 7727 2c20 2774  tions=['raw', 't
+00002a60: 6966 665f 6465 666c 6174 6527 2c20 2774  iff_deflate', 't
+00002a70: 6966 665f 6c7a 7727 5d29 0a20 2020 2064  iff_lzw']).    d
+00002a80: 6174 6574 696d 655f 203d 2064 6174 6574  atetime_ = datet
+00002a90: 696d 652e 6e6f 7728 292e 7374 7266 7469  ime.now().strfti
+00002aa0: 6d65 2822 2559 256d 2564 2548 254d 2553  me("%Y%m%d%H%M%S
+00002ab0: 2229 0a20 2020 2070 7269 6e74 2866 227b  ").    print(f"{
+00002ac0: 6c65 6e28 6669 6c65 5f70 6174 6873 297d  len(file_paths)}
+00002ad0: 2069 6d61 6765 2066 696c 6528 7329 2066   image file(s) f
+00002ae0: 6f75 6e64 2069 6e20 7b64 6972 6563 746f  ound in {directo
+00002af0: 7279 7d2e 2e2e 2229 0a20 2020 2073 6176  ry}...").    sav
+00002b00: 655f 6469 7220 3d20 6f73 2e70 6174 682e  e_dir = os.path.
+00002b10: 6a6f 696e 2864 6972 6563 746f 7279 2c20  join(directory, 
+00002b20: 6627 7469 6666 5f7b 6461 7465 7469 6d65  f'tiff_{datetime
+00002b30: 5f7d 2729 0a20 2020 206f 732e 6d61 6b65  _}').    os.make
+00002b40: 6469 7273 2873 6176 655f 6469 7229 0a20  dirs(save_dir). 
+00002b50: 2020 2069 6620 6e6f 7420 7374 6163 6b3a     if not stack:
+00002b60: 0a20 2020 2020 2020 2066 6f72 2066 696c  .        for fil
+00002b70: 655f 636e 742c 2066 696c 655f 7061 7468  e_cnt, file_path
+00002b80: 2069 6e20 656e 756d 6572 6174 6528 6669   in enumerate(fi
+00002b90: 6c65 5f70 6174 6873 293a 0a20 2020 2020  le_paths):.     
+00002ba0: 2020 2020 2020 2064 6972 2c20 6669 6c65         dir, file
+00002bb0: 5f6e 616d 652c 205f 203d 2067 6574 5f66  _name, _ = get_f
+00002bc0: 6e5f 6578 7428 6669 6c65 7061 7468 3d66  n_ext(filepath=f
+00002bd0: 696c 655f 7061 7468 290a 2020 2020 2020  ile_path).      
+00002be0: 2020 2020 2020 7361 7665 5f70 6174 6820        save_path 
+00002bf0: 3d20 6f73 2e70 6174 682e 6a6f 696e 2873  = os.path.join(s
+00002c00: 6176 655f 6469 722c 2066 277b 6669 6c65  ave_dir, f'{file
+00002c10: 5f6e 616d 657d 2e74 6966 6627 290a 2020  _name}.tiff').  
+00002c20: 2020 2020 2020 2020 2020 6966 2076 6572            if ver
+00002c30: 626f 7365 3a0a 2020 2020 2020 2020 2020  bose:.          
+00002c40: 2020 2020 2020 7072 696e 7428 6622 436f        print(f"Co
+00002c50: 6e76 6572 7469 6e67 2066 696c 6520 7b66  nverting file {f
+00002c60: 696c 655f 636e 7420 2b20 317d 2f7b 6c65  ile_cnt + 1}/{le
+00002c70: 6e28 6669 6c65 5f70 6174 6873 297d 202e  n(file_paths)} .
+00002c80: 2e2e 2229 0a20 2020 2020 2020 2020 2020  ..").           
+00002c90: 2069 6d67 203d 2049 6d61 6765 2e6f 7065   img = Image.ope
+00002ca0: 6e28 6669 6c65 5f70 6174 6829 0a20 2020  n(file_path).   
+00002cb0: 2020 2020 2020 2020 2069 6620 696d 672e           if img.
+00002cc0: 6d6f 6465 2069 6e20 2827 5247 4241 272c  mode in ('RGBA',
+00002cd0: 2027 4c41 2729 3a20 696d 6720 3d20 696d   'LA'): img = im
+00002ce0: 672e 636f 6e76 6572 7428 2752 4742 2729  g.convert('RGB')
+00002cf0: 0a20 2020 2020 2020 2020 2020 2069 6d67  .            img
+00002d00: 2e73 6176 6528 7361 7665 5f70 6174 682c  .save(save_path,
+00002d10: 2066 6f72 6d61 743d 2754 4946 4627 2c20   format='TIFF', 
+00002d20: 636f 6d70 7265 7373 696f 6e3d 636f 6d70  compression=comp
+00002d30: 7265 7373 696f 6e29 0a20 2020 2020 2020  ression).       
+00002d40: 2020 2020 2074 696d 6572 2e73 746f 705f       timer.stop_
+00002d50: 7469 6d65 7228 290a 2020 2020 2020 2020  timer().        
+00002d60: 7374 646f 7574 5f73 7563 6365 7373 280a  stdout_success(.
+00002d70: 2020 2020 2020 2020 2020 2020 6d73 673d              msg=
+00002d80: 6622 5349 4d42 4120 434f 4d50 4c45 5445  f"SIMBA COMPLETE
+00002d90: 3a20 7b6c 656e 2866 696c 655f 7061 7468  : {len(file_path
+00002da0: 7329 7d20 696d 6167 6520 6669 6c65 2873  s)} image file(s
+00002db0: 2920 696e 207b 6469 7265 6374 6f72 797d  ) in {directory}
+00002dc0: 2064 6972 6563 746f 7279 2063 6f6e 7665   directory conve
+00002dd0: 7274 6564 2074 6f20 5449 4646 2061 6e64  rted to TIFF and
+00002de0: 2073 746f 7265 6420 696e 207b 7361 7665   stored in {save
+00002df0: 5f64 6972 7d20 6469 7265 6374 6f72 7922  _dir} directory"
+00002e00: 2c0a 2020 2020 2020 2020 2020 2020 736f  ,.            so
+00002e10: 7572 6365 3d63 6f6e 7665 7274 5f74 6f5f  urce=convert_to_
+00002e20: 7469 6666 2e5f 5f6e 616d 655f 5f2c 2065  tiff.__name__, e
+00002e30: 6c61 7073 6564 5f74 696d 653d 7469 6d65  lapsed_time=time
+00002e40: 722e 656c 6170 7365 645f 7469 6d65 5f73  r.elapsed_time_s
+00002e50: 7472 290a 2020 2020 656c 7365 3a0a 2020  tr).    else:.  
+00002e60: 2020 2020 2020 7361 7665 5f70 6174 6820        save_path 
+00002e70: 3d20 6f73 2e70 6174 682e 6a6f 696e 2873  = os.path.join(s
+00002e80: 6176 655f 6469 722c 2066 277b 6f73 2e70  ave_dir, f'{os.p
+00002e90: 6174 682e 6261 7365 6e61 6d65 2864 6972  ath.basename(dir
+00002ea0: 6563 746f 7279 297d 2e74 6966 6627 290a  ectory)}.tiff').
+00002eb0: 2020 2020 2020 2020 6669 6c65 5f70 6174          file_pat
+00002ec0: 6873 2e73 6f72 7428 290a 2020 2020 2020  hs.sort().      
+00002ed0: 2020 7769 7468 2049 6d61 6765 2e6f 7065    with Image.ope
+00002ee0: 6e28 6669 6c65 5f70 6174 6873 5b30 5d29  n(file_paths[0])
+00002ef0: 2061 7320 6669 7273 745f 696d 673a 0a20   as first_img:. 
+00002f00: 2020 2020 2020 2020 2020 206d 6f64 652c             mode,
+00002f10: 2073 697a 6520 3d20 6669 7273 745f 696d   size = first_im
+00002f20: 672e 6d6f 6465 2c20 6669 7273 745f 696d  g.mode, first_im
+00002f30: 672e 7369 7a65 0a20 2020 2020 2020 2020  g.size.         
+00002f40: 2020 2069 6d61 6765 7320 3d20 5b5d 0a20     images = []. 
+00002f50: 2020 2020 2020 2020 2020 2066 6f72 2066             for f
+00002f60: 696c 655f 636e 742c 2066 696c 6520 696e  ile_cnt, file in
+00002f70: 2065 6e75 6d65 7261 7465 2866 696c 655f   enumerate(file_
+00002f80: 7061 7468 7329 3a0a 2020 2020 2020 2020  paths):.        
+00002f90: 2020 2020 2020 2020 6966 2076 6572 626f          if verbo
+00002fa0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00002fb0: 2020 2020 2020 2020 7072 696e 7428 6622          print(f"
+00002fc0: 436f 6e76 6572 7469 6e67 2066 696c 6520  Converting file 
+00002fd0: 7b66 696c 655f 636e 7420 2b20 317d 2f7b  {file_cnt + 1}/{
+00002fe0: 6c65 6e28 6669 6c65 5f70 6174 6873 297d  len(file_paths)}
+00002ff0: 202e 2e2e 2229 0a20 2020 2020 2020 2020   ...").         
+00003000: 2020 2020 2020 2077 6974 6820 496d 6167         with Imag
+00003010: 652e 6f70 656e 2866 696c 6529 2061 7320  e.open(file) as 
+00003020: 696d 673a 0a20 2020 2020 2020 2020 2020  img:.           
+00003030: 2020 2020 2020 2020 2069 6d67 203d 2069           img = i
+00003040: 6d67 2e63 6f6e 7665 7274 286d 6f64 6529  mg.convert(mode)
+00003050: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00003060: 2020 2020 2069 6d67 203d 2069 6d67 2e72       img = img.r
+00003070: 6573 697a 6528 7369 7a65 290a 2020 2020  esize(size).    
+00003080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003090: 696d 6167 6573 2e61 7070 656e 6428 696d  images.append(im
+000030a0: 6729 0a20 2020 2020 2020 2069 6d61 6765  g).        image
+000030b0: 735b 305d 2e73 6176 6528 7361 7665 5f70  s[0].save(save_p
+000030c0: 6174 682c 2073 6176 655f 616c 6c3d 5472  ath, save_all=Tr
+000030d0: 7565 2c20 6170 7065 6e64 5f69 6d61 6765  ue, append_image
+000030e0: 733d 696d 6167 6573 5b31 3a5d 2c20 666f  s=images[1:], fo
+000030f0: 726d 6174 3d27 5449 4646 272c 2063 6f6d  rmat='TIFF', com
+00003100: 7072 6573 7369 6f6e 3d63 6f6d 7072 6573  pression=compres
+00003110: 7369 6f6e 290a 2020 2020 2020 2020 7469  sion).        ti
+00003120: 6d65 722e 7374 6f70 5f74 696d 6572 2829  mer.stop_timer()
+00003130: 0a20 2020 2020 2020 2073 7464 6f75 745f  .        stdout_
+00003140: 7375 6363 6573 7328 0a20 2020 2020 2020  success(.       
+00003150: 2020 2020 206d 7367 3d66 2253 494d 4241       msg=f"SIMBA
+00003160: 2043 4f4d 504c 4554 453a 207b 6c65 6e28   COMPLETE: {len(
+00003170: 6669 6c65 5f70 6174 6873 297d 2069 6d61  file_paths)} ima
+00003180: 6765 2066 696c 6528 7329 2069 6e20 7b64  ge file(s) in {d
+00003190: 6972 6563 746f 7279 7d20 6469 7265 6374  irectory} direct
+000031a0: 6f72 7920 636f 6e76 6572 7465 6420 746f  ory converted to
+000031b0: 2054 4946 4620 7374 6163 6b20 616e 6420   TIFF stack and 
+000031c0: 7374 6f72 6564 2069 6e20 7b73 6176 655f  stored in {save_
+000031d0: 6469 727d 2064 6972 6563 746f 7279 222c  dir} directory",
+000031e0: 0a20 2020 2020 2020 2020 2020 2073 6f75  .            sou
+000031f0: 7263 653d 636f 6e76 6572 745f 746f 5f74  rce=convert_to_t
+00003200: 6966 662e 5f5f 6e61 6d65 5f5f 2c20 656c  iff.__name__, el
+00003210: 6170 7365 645f 7469 6d65 3d74 696d 6572  apsed_time=timer
+00003220: 2e65 6c61 7073 6564 5f74 696d 655f 7374  .elapsed_time_st
+00003230: 7229 0a0a 0a64 6566 2063 6f6e 7665 7274  r)...def convert
+00003240: 5f74 6f5f 7765 6270 2864 6972 6563 746f  _to_webp(directo
+00003250: 7279 3a20 556e 696f 6e5b 7374 722c 206f  ry: Union[str, o
+00003260: 732e 5061 7468 4c69 6b65 5d2c 0a20 2020  s.PathLike],.   
+00003270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003280: 2071 7561 6c69 7479 3a20 4f70 7469 6f6e   quality: Option
+00003290: 616c 5b69 6e74 5d20 3d20 3935 2c0a 2020  al[int] = 95,.  
+000032a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000032b0: 2020 7665 7262 6f73 653a 204f 7074 696f    verbose: Optio
+000032c0: 6e61 6c5b 626f 6f6c 5d20 3d20 5472 7565  nal[bool] = True
+000032d0: 293a 0a0a 2020 2020 2222 220a 2020 2020  ):..    """.    
+000032e0: 436f 6e76 6572 7420 7468 6520 6669 6c65  Convert the file
+000032f0: 2074 7970 6520 6f66 2061 6c6c 2069 6d61   type of all ima
+00003300: 6765 2066 696c 6573 2077 6974 6869 6e20  ge files within 
+00003310: 6120 6469 7265 6374 6f72 7920 746f 2057  a directory to W
+00003320: 4542 5020 666f 726d 6174 206f 6620 7061  EBP format of pa
+00003330: 7373 6564 2071 7561 6c69 7479 2e0a 0a20  ssed quality... 
+00003340: 2020 203a 7061 7261 6d65 7465 7220 556e     :parameter Un
+00003350: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+00003360: 4c69 6b65 5d20 6469 7265 6374 6f72 793a  Like] directory:
+00003370: 2050 6174 6820 746f 2064 6972 6563 746f   Path to directo
+00003380: 7279 2068 6f6c 6469 6e67 2069 6d61 6765  ry holding image
+00003390: 2066 696c 6573 0a20 2020 203a 7061 7261   files.    :para
+000033a0: 6d65 7465 7220 4f70 7469 6f6e 616c 5b69  meter Optional[i
+000033b0: 6e74 5d20 7175 616c 6974 793a 2054 6865  nt] quality: The
+000033c0: 2071 7561 6c69 7479 206f 6620 7468 6520   quality of the 
+000033d0: 6f75 7470 7574 2069 6d61 6765 7320 2830  output images (0
+000033e0: 2d31 3030 292e 0a20 2020 203a 7061 7261  -100)..    :para
+000033f0: 6d65 7465 7220 4f70 7469 6f6e 616c 5b62  meter Optional[b
+00003400: 6f6f 6c5d 2076 6572 626f 7365 3a20 4966  ool] verbose: If
+00003410: 2054 7275 652c 2070 7269 6e74 7320 7072   True, prints pr
+00003420: 6f67 7265 7373 2e20 4465 6661 756c 7420  ogress. Default 
+00003430: 4661 6c73 652e 0a0a 2020 2020 3a65 7861  False...    :exa
+00003440: 6d70 6c65 3a0a 2020 2020 3e3e 3e20 636f  mple:.    >>> co
+00003450: 6e76 6572 745f 746f 5f77 6562 7028 272f  nvert_to_webp('/
+00003460: 5573 6572 732f 7369 6d6f 6e2f 4465 736b  Users/simon/Desk
+00003470: 746f 702f 696d 6773 272c 2071 7561 6c69  top/imgs', quali
+00003480: 7479 3d38 3029 0a20 2020 2022 2222 0a0a  ty=80).    """..
+00003490: 2020 2020 7469 6d65 7220 3d20 5369 6d62      timer = Simb
+000034a0: 6154 696d 6572 2873 7461 7274 3d54 7275  aTimer(start=Tru
+000034b0: 6529 0a20 2020 2063 6865 636b 5f69 665f  e).    check_if_
+000034c0: 6469 725f 6578 6973 7473 2869 6e5f 6469  dir_exists(in_di
+000034d0: 723d 6469 7265 6374 6f72 792c 2073 6f75  r=directory, sou
+000034e0: 7263 653d 636f 6e76 6572 745f 746f 5f77  rce=convert_to_w
+000034f0: 6562 702e 5f5f 6e61 6d65 5f5f 290a 2020  ebp.__name__).  
+00003500: 2020 6368 6563 6b5f 696e 7428 6e61 6d65    check_int(name
+00003510: 3d66 277b 636f 6e76 6572 745f 746f 5f77  =f'{convert_to_w
+00003520: 6562 702e 5f5f 6e61 6d65 5f5f 7d20 7175  ebp.__name__} qu
+00003530: 616c 6974 7927 2c20 7661 6c75 653d 7175  ality', value=qu
+00003540: 616c 6974 792c 206d 696e 5f76 616c 7565  ality, min_value
+00003550: 3d31 2c20 6d61 785f 7661 6c75 653d 3130  =1, max_value=10
+00003560: 3029 0a20 2020 2066 696c 655f 7061 7468  0).    file_path
+00003570: 7320 3d20 6669 6e64 5f66 696c 6573 5f6f  s = find_files_o
+00003580: 665f 6669 6c65 7479 7065 735f 696e 5f64  f_filetypes_in_d
+00003590: 6972 6563 746f 7279 2864 6972 6563 746f  irectory(directo
+000035a0: 7279 3d64 6972 6563 746f 7279 2c20 6578  ry=directory, ex
+000035b0: 7465 6e73 696f 6e73 3d4f 7074 696f 6e73  tensions=Options
+000035c0: 2e41 4c4c 5f49 4d41 4745 5f46 4f52 4d41  .ALL_IMAGE_FORMA
+000035d0: 545f 4f50 5449 4f4e 532e 7661 6c75 652c  T_OPTIONS.value,
+000035e0: 2072 6169 7365 5f65 7272 6f72 3d54 7275   raise_error=Tru
+000035f0: 6529 0a20 2020 2064 6174 6574 696d 655f  e).    datetime_
+00003600: 203d 2064 6174 6574 696d 652e 6e6f 7728   = datetime.now(
+00003610: 292e 7374 7266 7469 6d65 2822 2559 256d  ).strftime("%Y%m
+00003620: 2564 2548 254d 2553 2229 0a20 2020 2070  %d%H%M%S").    p
+00003630: 7269 6e74 2866 227b 6c65 6e28 6669 6c65  rint(f"{len(file
+00003640: 5f70 6174 6873 297d 2069 6d61 6765 2066  _paths)} image f
+00003650: 696c 6528 7329 2066 6f75 6e64 2069 6e20  ile(s) found in 
+00003660: 7b64 6972 6563 746f 7279 7d2e 2e2e 2229  {directory}...")
+00003670: 0a20 2020 2073 6176 655f 6469 7220 3d20  .    save_dir = 
+00003680: 6f73 2e70 6174 682e 6a6f 696e 2864 6972  os.path.join(dir
+00003690: 6563 746f 7279 2c20 6627 7765 626d 5f7b  ectory, f'webm_{
+000036a0: 6461 7465 7469 6d65 5f7d 2729 0a20 2020  datetime_}').   
+000036b0: 206f 732e 6d61 6b65 6469 7273 2873 6176   os.makedirs(sav
+000036c0: 655f 6469 7229 0a20 2020 2066 6f72 2066  e_dir).    for f
+000036d0: 696c 655f 636e 742c 2066 696c 655f 7061  ile_cnt, file_pa
+000036e0: 7468 2069 6e20 656e 756d 6572 6174 6528  th in enumerate(
+000036f0: 6669 6c65 5f70 6174 6873 293a 0a20 2020  file_paths):.   
+00003700: 2020 2020 2064 6972 2c20 6669 6c65 5f6e       dir, file_n
+00003710: 616d 652c 205f 203d 2067 6574 5f66 6e5f  ame, _ = get_fn_
+00003720: 6578 7428 6669 6c65 7061 7468 3d66 696c  ext(filepath=fil
+00003730: 655f 7061 7468 290a 2020 2020 2020 2020  e_path).        
+00003740: 7361 7665 5f70 6174 6820 3d20 6f73 2e70  save_path = os.p
+00003750: 6174 682e 6a6f 696e 2873 6176 655f 6469  ath.join(save_di
+00003760: 722c 2066 277b 6669 6c65 5f6e 616d 657d  r, f'{file_name}
+00003770: 2e77 6562 7027 290a 2020 2020 2020 2020  .webp').        
+00003780: 696d 6720 3d20 6376 322e 696d 7265 6164  img = cv2.imread
+00003790: 2866 696c 655f 7061 7468 290a 2020 2020  (file_path).    
+000037a0: 2020 2020 2369 6d67 203d 2063 7632 2e63      #img = cv2.c
+000037b0: 7674 436f 6c6f 7228 696d 672c 2063 7632  vtColor(img, cv2
+000037c0: 2e43 4f4c 4f52 5f42 4752 3252 4742 290a  .COLOR_BGR2RGB).
+000037d0: 2020 2020 2020 2020 6966 2076 6572 626f          if verbo
+000037e0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+000037f0: 7072 696e 7428 6622 436f 6e76 6572 7469  print(f"Converti
+00003800: 6e67 2066 696c 6520 7b66 696c 655f 636e  ng file {file_cn
+00003810: 742b 317d 2f7b 6c65 6e28 6669 6c65 5f70  t+1}/{len(file_p
+00003820: 6174 6873 297d 202e 2e2e 2229 0a20 2020  aths)} ...").   
+00003830: 2020 2020 2063 7632 2e69 6d77 7269 7465       cv2.imwrite
+00003840: 2873 6176 655f 7061 7468 2c20 696d 672c  (save_path, img,
+00003850: 205b 6376 322e 494d 5752 4954 455f 5745   [cv2.IMWRITE_WE
+00003860: 4250 5f51 5541 4c49 5459 2c20 7175 616c  BP_QUALITY, qual
+00003870: 6974 795d 290a 2020 2020 7469 6d65 722e  ity]).    timer.
+00003880: 7374 6f70 5f74 696d 6572 2829 0a20 2020  stop_timer().   
+00003890: 2073 7464 6f75 745f 7375 6363 6573 7328   stdout_success(
+000038a0: 6d73 673d 6622 5349 4d42 4120 434f 4d50  msg=f"SIMBA COMP
+000038b0: 4c45 5445 3a20 7b6c 656e 2866 696c 655f  LETE: {len(file_
+000038c0: 7061 7468 7329 7d20 696d 6167 6520 6669  paths)} image fi
+000038d0: 6c65 2873 2920 696e 207b 6469 7265 6374  le(s) in {direct
+000038e0: 6f72 797d 2064 6972 6563 746f 7279 2063  ory} directory c
+000038f0: 6f6e 7665 7274 6564 2074 6f20 5745 4250  onverted to WEBP
+00003900: 2061 6e64 2073 746f 7265 6420 696e 207b   and stored in {
+00003910: 7361 7665 5f64 6972 7d20 6469 7265 6374  save_dir} direct
+00003920: 6f72 7922 2c20 736f 7572 6365 3d63 6f6e  ory", source=con
+00003930: 7665 7274 5f74 6f5f 7765 6270 2e5f 5f6e  vert_to_webp.__n
+00003940: 616d 655f 5f2c 2065 6c61 7073 6564 5f74  ame__, elapsed_t
+00003950: 696d 653d 7469 6d65 722e 656c 6170 7365  ime=timer.elapse
+00003960: 645f 7469 6d65 5f73 7472 290a 0a0a 6465  d_time_str)...de
+00003970: 6620 636c 6168 655f 656e 6861 6e63 655f  f clahe_enhance_
+00003980: 7669 6465 6f28 0a20 2020 2066 696c 655f  video(.    file_
+00003990: 7061 7468 3a20 556e 696f 6e5b 7374 722c  path: Union[str,
+000039a0: 206f 732e 5061 7468 4c69 6b65 5d2c 0a20   os.PathLike],. 
+000039b0: 2020 2063 6c69 705f 6c69 6d69 743a 204f     clip_limit: O
+000039c0: 7074 696f 6e61 6c5b 696e 745d 203d 2032  ptional[int] = 2
+000039d0: 2c0a 2020 2020 7469 6c65 5f67 7269 645f  ,.    tile_grid_
+000039e0: 7369 7a65 3a20 4f70 7469 6f6e 616c 5b54  size: Optional[T
+000039f0: 7570 6c65 5b69 6e74 5d5d 203d 2028 3136  uple[int]] = (16
+00003a00: 2c20 3136 292c 0a20 2020 206f 7574 5f70  , 16),.    out_p
+00003a10: 6174 683a 204f 7074 696f 6e61 6c5b 556e  ath: Optional[Un
+00003a20: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+00003a30: 4c69 6b65 5d5d 203d 204e 6f6e 6529 202d  Like]] = None) -
+00003a40: 3e20 4e6f 6e65 3a0a 0a20 2020 2022 2222  > None:..    """
+00003a50: 0a20 2020 2043 6f6e 7665 7274 2061 2073  .    Convert a s
+00003a60: 696e 676c 6520 7669 6465 6f20 6669 6c65  ingle video file
+00003a70: 2074 6f20 636c 6168 652d 656e 6861 6e63   to clahe-enhanc
+00003a80: 6564 2067 7265 7973 6361 6c65 202e 6176  ed greyscale .av
+00003a90: 6920 6669 6c65 2e20 5468 6520 7265 7375  i file. The resu
+00003aa0: 6c74 2069 7320 7361 7665 6420 7769 7468  lt is saved with
+00003ab0: 2070 7265 6669 780a 2020 2020 6060 434c   prefix.    ``CL
+00003ac0: 4148 455f 6060 2069 6e20 7468 6520 7361  AHE_`` in the sa
+00003ad0: 6d65 2064 6972 6563 746f 7279 2061 7320  me directory as 
+00003ae0: 696e 2074 6865 2069 6e70 7574 2066 696c  in the input fil
+00003af0: 6520 6966 206f 7574 5f70 6174 6820 6973  e if out_path is
+00003b00: 206e 6f74 2070 6173 7365 642e 2045 6c73   not passed. Els
+00003b10: 6520 7361 7665 6420 6174 2074 6865 206f  e saved at the o
+00003b20: 7574 5f70 6174 682e 0a0a 2020 2020 2e2e  ut_path...    ..
+00003b30: 2069 6d61 6765 3a3a 205f 7374 6174 6963   image:: _static
+00003b40: 2f69 6d67 2f63 6c61 6865 5f65 6e68 616e  /img/clahe_enhan
+00003b50: 6365 5f76 6964 656f 2e67 6966 0a20 2020  ce_video.gif.   
+00003b60: 2020 2020 3a77 6964 7468 3a20 3830 300a      :width: 800.
+00003b70: 2020 2020 2020 203a 616c 6967 6e3a 2063         :align: c
+00003b80: 656e 7465 720a 0a20 2020 203a 7061 7261  enter..    :para
+00003b90: 6d65 7465 7220 556e 696f 6e5b 7374 722c  meter Union[str,
+00003ba0: 206f 732e 5061 7468 4c69 6b65 5d20 6669   os.PathLike] fi
+00003bb0: 6c65 5f70 6174 683a 2050 6174 6820 746f  le_path: Path to
+00003bc0: 2076 6964 656f 2066 696c 652e 0a20 2020   video file..   
+00003bd0: 203a 7061 7261 6d65 7465 7220 4f70 7469   :parameter Opti
+00003be0: 6f6e 616c 5b69 6e74 5d20 636c 6970 5f6c  onal[int] clip_l
+00003bf0: 696d 6974 3a20 434c 4148 4520 616d 706c  imit: CLAHE ampl
+00003c00: 6966 6963 6174 696f 6e20 6c69 6d69 742e  ification limit.
+00003c10: 2049 6e63 6372 6561 7365 6420 636c 6970   Inccreased clip
+00003c20: 206c 696d 6974 2072 6564 7563 6520 6e6f   limit reduce no
+00003c30: 6973 6520 696e 206f 7574 7075 742e 2044  ise in output. D
+00003c40: 6566 6175 6c74 3a20 322e 0a20 2020 203a  efault: 2..    :
+00003c50: 7061 7261 6d65 7465 7220 4f70 7469 6f6e  parameter Option
+00003c60: 616c 5b54 7570 6c65 5b69 6e74 5d5d 2074  al[Tuple[int]] t
+00003c70: 696c 655f 6772 6964 5f73 697a 653a 2054  ile_grid_size: T
+00003c80: 6865 2068 6973 746f 6772 616d 206b 6572  he histogram ker
+00003c90: 6e65 6c20 7369 7a65 2e0a 0a20 2020 203a  nel size...    :
+00003ca0: 6578 616d 706c 653a 0a20 2020 203e 3e3e  example:.    >>>
+00003cb0: 205f 203d 2063 6c61 6865 5f65 6e68 616e   _ = clahe_enhan
+00003cc0: 6365 5f76 6964 656f 2866 696c 655f 7061  ce_video(file_pa
+00003cd0: 7468 3a20 2770 726f 6a65 6374 5f66 6f6c  th: 'project_fol
+00003ce0: 6465 722f 7669 6465 6f73 2f56 6964 656f  der/videos/Video
+00003cf0: 5f31 2e6d 7034 2729 0a20 2020 2022 2222  _1.mp4').    """
+00003d00: 0a0a 2020 2020 6368 6563 6b5f 6669 6c65  ..    check_file
+00003d10: 5f65 7869 7374 5f61 6e64 5f72 6561 6461  _exist_and_reada
+00003d20: 626c 6528 6669 6c65 5f70 6174 683d 6669  ble(file_path=fi
+00003d30: 6c65 5f70 6174 6829 0a20 2020 2063 6865  le_path).    che
+00003d40: 636b 5f69 6e74 286e 616d 653d 6622 7b63  ck_int(name=f"{c
+00003d50: 6c61 6865 5f65 6e68 616e 6365 5f76 6964  lahe_enhance_vid
+00003d60: 656f 2e5f 5f6e 616d 655f 5f7d 2063 6c69  eo.__name__} cli
+00003d70: 705f 6c69 6d69 7422 2c20 7661 6c75 653d  p_limit", value=
+00003d80: 636c 6970 5f6c 696d 6974 2c20 6d69 6e5f  clip_limit, min_
+00003d90: 7661 6c75 653d 3029 0a20 2020 2076 6964  value=0).    vid
+00003da0: 656f 5f6d 6574 615f 6461 7461 203d 2067  eo_meta_data = g
+00003db0: 6574 5f76 6964 656f 5f6d 6574 615f 6461  et_video_meta_da
+00003dc0: 7461 2866 696c 655f 7061 7468 290a 2020  ta(file_path).  
+00003dd0: 2020 6368 6563 6b5f 7661 6c69 645f 7475    check_valid_tu
+00003de0: 706c 6528 0a20 2020 2020 2020 2078 3d74  ple(.        x=t
+00003df0: 696c 655f 6772 6964 5f73 697a 652c 0a20  ile_grid_size,. 
+00003e00: 2020 2020 2020 2073 6f75 7263 653d 6627         source=f'
+00003e10: 7b63 6c61 6865 5f65 6e68 616e 6365 5f76  {clahe_enhance_v
+00003e20: 6964 656f 2e5f 5f6e 616d 655f 5f7d 2074  ideo.__name__} t
+00003e30: 696c 655f 6772 6964 5f73 697a 6527 2c0a  ile_grid_size',.
+00003e40: 2020 2020 2020 2020 6163 6365 7074 6564          accepted
+00003e50: 5f6c 656e 6774 6873 3d28 322c 292c 0a20  _lengths=(2,),. 
+00003e60: 2020 2020 2020 2076 616c 6964 5f64 7479         valid_dty
+00003e70: 7065 733d 2869 6e74 2c29 2c0a 2020 2020  pes=(int,),.    
+00003e80: 290a 2020 2020 6966 2028 7469 6c65 5f67  ).    if (tile_g
+00003e90: 7269 645f 7369 7a65 5b30 5d20 3e20 7669  rid_size[0] > vi
+00003ea0: 6465 6f5f 6d65 7461 5f64 6174 615b 2268  deo_meta_data["h
+00003eb0: 6569 6768 7422 5d29 206f 7220 280a 2020  eight"]) or (.  
+00003ec0: 2020 2020 2020 2874 696c 655f 6772 6964        (tile_grid
+00003ed0: 5f73 697a 655b 315d 203e 2076 6964 656f  _size[1] > video
+00003ee0: 5f6d 6574 615f 6461 7461 5b22 7769 6474  _meta_data["widt
+00003ef0: 6822 5d29 0a20 2020 2029 3a0a 2020 2020  h"]).    ):.    
+00003f00: 2020 2020 7261 6973 6520 496e 7661 6c69      raise Invali
+00003f10: 6449 6e70 7574 4572 726f 7228 0a20 2020  dInputError(.   
+00003f20: 2020 2020 2020 2020 206d 7367 3d66 2754           msg=f'T
+00003f30: 6865 2074 696c 6520 6772 6964 2073 697a  he tile grid siz
+00003f40: 6520 287b 7469 6c65 5f67 7269 645f 7369  e ({tile_grid_si
+00003f50: 7a65 7d29 2069 7320 6c61 7267 6572 2074  ze}) is larger t
+00003f60: 6861 6e20 7468 6520 7669 6465 6f20 7369  han the video si
+00003f70: 7a65 2028 7b76 6964 656f 5f6d 6574 615f  ze ({video_meta_
+00003f80: 6461 7461 5b22 7265 736f 6c75 7469 6f6e  data["resolution
+00003f90: 5f73 7472 225d 7d29 272c 0a20 2020 2020  _str"]})',.     
+00003fa0: 2020 2020 2020 2073 6f75 7263 653d 636c         source=cl
+00003fb0: 6168 655f 656e 6861 6e63 655f 7669 6465  ahe_enhance_vide
+00003fc0: 6f2e 5f5f 6e61 6d65 5f5f 2c0a 2020 2020  o.__name__,.    
+00003fd0: 2020 2020 290a 2020 2020 6469 722c 2066      ).    dir, f
+00003fe0: 696c 655f 6e61 6d65 2c20 6669 6c65 5f65  ile_name, file_e
+00003ff0: 7874 203d 2067 6574 5f66 6e5f 6578 7428  xt = get_fn_ext(
+00004000: 6669 6c65 7061 7468 3d66 696c 655f 7061  filepath=file_pa
+00004010: 7468 290a 2020 2020 6966 206f 7574 5f70  th).    if out_p
+00004020: 6174 6820 6973 204e 6f6e 653a 0a20 2020  ath is None:.   
+00004030: 2020 2020 2073 6176 655f 7061 7468 203d       save_path =
+00004040: 206f 732e 7061 7468 2e6a 6f69 6e28 6469   os.path.join(di
+00004050: 722c 2066 2243 4c41 4845 5f7b 6669 6c65  r, f"CLAHE_{file
+00004060: 5f6e 616d 657d 2e61 7669 2229 0a20 2020  _name}.avi").   
+00004070: 2065 6c73 653a 0a20 2020 2020 2020 2063   else:.        c
+00004080: 6865 636b 5f69 665f 6469 725f 6578 6973  heck_if_dir_exis
+00004090: 7473 2869 6e5f 6469 723d 6f73 2e70 6174  ts(in_dir=os.pat
+000040a0: 682e 6469 726e 616d 6528 6f75 745f 7061  h.dirname(out_pa
+000040b0: 7468 292c 2073 6f75 7263 653d 6627 7b63  th), source=f'{c
+000040c0: 6c61 6865 5f65 6e68 616e 6365 5f76 6964  lahe_enhance_vid
+000040d0: 656f 2e5f 5f6e 616d 655f 5f7d 206f 7574  eo.__name__} out
+000040e0: 5f70 6174 6827 290a 2020 2020 2020 2020  _path').        
+000040f0: 7361 7665 5f70 6174 6820 3d20 6f75 745f  save_path = out_
+00004100: 7061 7468 0a20 2020 2066 6f75 7263 6320  path.    fourcc 
+00004110: 3d20 6376 322e 5669 6465 6f57 7269 7465  = cv2.VideoWrite
+00004120: 725f 666f 7572 6363 282a 466f 726d 6174  r_fourcc(*Format
+00004130: 732e 4156 495f 434f 4445 432e 7661 6c75  s.AVI_CODEC.valu
+00004140: 6529 0a20 2020 2070 7269 6e74 2866 2241  e).    print(f"A
+00004150: 7070 6c79 696e 6720 434c 4148 4520 6f6e  pplying CLAHE on
+00004160: 2076 6964 656f 207b 6669 6c65 5f6e 616d   video {file_nam
+00004170: 657d 2c20 7468 6973 206d 6967 6874 2074  e}, this might t
+00004180: 616b 6520 6177 6869 6c65 2e2e 2e22 290a  ake awhile...").
+00004190: 2020 2020 6361 7020 3d20 6376 322e 5669      cap = cv2.Vi
+000041a0: 6465 6f43 6170 7475 7265 2866 696c 655f  deoCapture(file_
+000041b0: 7061 7468 290a 2020 2020 7772 6974 6572  path).    writer
+000041c0: 203d 2063 7632 2e56 6964 656f 5772 6974   = cv2.VideoWrit
+000041d0: 6572 280a 2020 2020 2020 2020 7361 7665  er(.        save
+000041e0: 5f70 6174 682c 0a20 2020 2020 2020 2066  _path,.        f
+000041f0: 6f75 7263 632c 0a20 2020 2020 2020 2076  ourcc,.        v
+00004200: 6964 656f 5f6d 6574 615f 6461 7461 5b22  ideo_meta_data["
+00004210: 6670 7322 5d2c 0a20 2020 2020 2020 2028  fps"],.        (
+00004220: 7669 6465 6f5f 6d65 7461 5f64 6174 615b  video_meta_data[
+00004230: 2277 6964 7468 225d 2c20 7669 6465 6f5f  "width"], video_
+00004240: 6d65 7461 5f64 6174 615b 2268 6569 6768  meta_data["heigh
+00004250: 7422 5d29 2c0a 2020 2020 2020 2020 302c  t"]),.        0,
+00004260: 0a20 2020 2029 0a20 2020 2063 6c61 6865  .    ).    clahe
+00004270: 5f66 696c 7465 7220 3d20 6376 322e 6372  _filter = cv2.cr
+00004280: 6561 7465 434c 4148 4528 0a20 2020 2020  eateCLAHE(.     
+00004290: 2020 2063 6c69 704c 696d 6974 3d69 6e74     clipLimit=int
+000042a0: 2863 6c69 705f 6c69 6d69 7429 2c20 7469  (clip_limit), ti
+000042b0: 6c65 4772 6964 5369 7a65 3d74 696c 655f  leGridSize=tile_
+000042c0: 6772 6964 5f73 697a 650a 2020 2020 290a  grid_size.    ).
+000042d0: 2020 2020 6672 6d5f 636e 7420 3d20 300a      frm_cnt = 0.
+000042e0: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
+000042f0: 2077 6869 6c65 2054 7275 653a 0a20 2020   while True:.   
+00004300: 2020 2020 2020 2020 2072 6574 2c20 696d           ret, im
+00004310: 6720 3d20 6361 702e 7265 6164 2829 0a20  g = cap.read(). 
+00004320: 2020 2020 2020 2020 2020 2069 6620 7265             if re
+00004330: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
+00004340: 2020 2066 726d 5f63 6e74 202b 3d20 310a     frm_cnt += 1.
+00004350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004360: 696d 6720 3d20 6376 322e 6376 7443 6f6c  img = cv2.cvtCol
+00004370: 6f72 2869 6d67 2c20 6376 322e 434f 4c4f  or(img, cv2.COLO
+00004380: 525f 4247 5232 4752 4159 290a 2020 2020  R_BGR2GRAY).    
+00004390: 2020 2020 2020 2020 2020 2020 636c 6168              clah
+000043a0: 655f 6672 6d20 3d20 636c 6168 655f 6669  e_frm = clahe_fi
+000043b0: 6c74 6572 2e61 7070 6c79 2869 6d67 290a  lter.apply(img).
+000043c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000043d0: 7772 6974 6572 2e77 7269 7465 2863 6c61  writer.write(cla
+000043e0: 6865 5f66 726d 290a 2020 2020 2020 2020  he_frm).        
+000043f0: 2020 2020 2020 2020 7072 696e 7428 0a20          print(. 
+00004400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004410: 2020 2066 2243 4c41 4845 2063 6f6e 7665     f"CLAHE conve
+00004420: 7274 6564 2066 7261 6d65 207b 6672 6d5f  rted frame {frm_
+00004430: 636e 747d 2f7b 7669 6465 6f5f 6d65 7461  cnt}/{video_meta
+00004440: 5f64 6174 615b 2766 7261 6d65 5f63 6f75  _data['frame_cou
+00004450: 6e74 275d 7d20 287b 6669 6c65 5f6e 616d  nt']} ({file_nam
+00004460: 657d 292e 2e2e 220a 2020 2020 2020 2020  e})...".        
+00004470: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00004480: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00004490: 2020 2020 2020 2020 2020 2020 6272 6561              brea
+000044a0: 6b0a 2020 2020 2020 2020 6361 702e 7265  k.        cap.re
+000044b0: 6c65 6173 6528 290a 2020 2020 2020 2020  lease().        
+000044c0: 7772 6974 6572 2e72 656c 6561 7365 2829  writer.release()
+000044d0: 0a20 2020 2020 2020 2070 7269 6e74 2866  .        print(f
+000044e0: 2243 4c41 4845 2076 6964 656f 2063 7265  "CLAHE video cre
+000044f0: 6174 6564 3a20 7b73 6176 655f 7061 7468  ated: {save_path
+00004500: 7d2e 2229 0a20 2020 2065 7863 6570 7420  }.").    except 
+00004510: 4578 6365 7074 696f 6e20 6173 2073 653a  Exception as se:
+00004520: 0a20 2020 2020 2020 2070 7269 6e74 2873  .        print(s
+00004530: 652e 6172 6773 290a 2020 2020 2020 2020  e.args).        
+00004540: 7072 696e 7428 6622 434c 4148 4520 636f  print(f"CLAHE co
+00004550: 6e76 6572 7369 6f6e 2066 6169 6c65 6420  nversion failed 
+00004560: 666f 7220 7669 6465 6f20 7b66 696c 655f  for video {file_
+00004570: 6e61 6d65 7d2e 2229 0a20 2020 2020 2020  name}.").       
+00004580: 2063 6170 2e72 656c 6561 7365 2829 0a20   cap.release(). 
+00004590: 2020 2020 2020 2077 7269 7465 722e 7265         writer.re
+000045a0: 6c65 6173 6528 290a 2020 2020 2020 2020  lease().        
+000045b0: 7261 6973 6520 496e 7661 6c69 6456 6964  raise InvalidVid
+000045c0: 656f 4669 6c65 4572 726f 7228 0a20 2020  eoFileError(.   
+000045d0: 2020 2020 2020 2020 206d 7367 3d66 2243           msg=f"C
+000045e0: 6f75 6c64 206e 6f74 2063 6f6e 7665 7274  ould not convert
+000045f0: 2066 696c 6520 7b66 696c 655f 7061 7468   file {file_path
+00004600: 7d20 746f 2043 4c41 4845 2065 6e68 616e  } to CLAHE enhan
+00004610: 6365 6420 7669 6465 6f22 2c0a 2020 2020  ced video",.    
+00004620: 2020 2020 2020 2020 736f 7572 6365 3d63          source=c
+00004630: 6c61 6865 5f65 6e68 616e 6365 5f76 6964  lahe_enhance_vid
+00004640: 656f 2e5f 5f6e 616d 655f 5f2c 0a20 2020  eo.__name__,.   
+00004650: 2020 2020 2029 0a0a 0a64 6566 2065 7874       )...def ext
+00004660: 7261 6374 5f66 7261 6d65 5f72 616e 6765  ract_frame_range
+00004670: 2866 696c 655f 7061 7468 3a20 556e 696f  (file_path: Unio
+00004680: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
+00004690: 6b65 5d2c 0a20 2020 2020 2020 2020 2020  ke],.           
+000046a0: 2020 2020 2020 2020 2020 2020 2073 7461               sta
+000046b0: 7274 5f66 7261 6d65 3a20 696e 742c 0a20  rt_frame: int,. 
+000046c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000046d0: 2020 2020 2020 2065 6e64 5f66 7261 6d65         end_frame
+000046e0: 3a20 696e 742c 0a20 2020 2020 2020 2020  : int,.         
+000046f0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00004700: 6176 655f 6469 723a 204f 7074 696f 6e61  ave_dir: Optiona
+00004710: 6c5b 556e 696f 6e5b 7374 722c 206f 732e  l[Union[str, os.
+00004720: 5061 7468 4c69 6b65 5d5d 203d 204e 6f6e  PathLike]] = Non
+00004730: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00004740: 2020 2020 2020 2020 2020 2076 6572 626f             verbo
+00004750: 7365 3a20 4f70 7469 6f6e 616c 5b62 6f6f  se: Optional[boo
+00004760: 6c5d 203d 2054 7275 6529 202d 3e20 4e6f  l] = True) -> No
+00004770: 6e65 3a0a 2020 2020 2222 220a 2020 2020  ne:.    """.    
+00004780: 4578 7472 6163 7420 6120 7573 6572 2d64  Extract a user-d
+00004790: 6566 696e 6564 2072 616e 6765 206f 6620  efined range of 
+000047a0: 6672 616d 6573 2066 726f 6d20 6120 7669  frames from a vi
+000047b0: 6465 6f20 6669 6c65 2074 6f20 6070 6e67  deo file to `png
+000047c0: 6020 666f 726d 6174 2e20 496d 6167 6573  ` format. Images
+000047d0: 0a20 2020 2061 7265 2073 6176 6564 2069  .    are saved i
+000047e0: 6e20 6120 666f 6c64 6572 2077 6974 6820  n a folder with 
+000047f0: 7468 6520 7375 6666 6978 2060 5f66 7261  the suffix `_fra
+00004800: 6d65 7360 2077 6974 6869 6e20 7468 6520  mes` within the 
+00004810: 7361 6d65 2064 6972 6563 746f 7279 2061  same directory a
+00004820: 7320 7468 6520 7669 6465 6f20 6669 6c65  s the video file
+00004830: 2e0a 0a20 2020 203a 7061 7261 6d65 7465  ...    :paramete
+00004840: 7220 556e 696f 6e5b 7374 722c 206f 732e  r Union[str, os.
+00004850: 5061 7468 4c69 6b65 5d20 6669 6c65 5f70  PathLike] file_p
+00004860: 6174 683a 2050 6174 6820 746f 2076 6964  ath: Path to vid
+00004870: 656f 2066 696c 650a 2020 2020 3a70 6172  eo file.    :par
+00004880: 616d 6574 6572 2069 6e74 2073 7461 7274  ameter int start
+00004890: 5f66 7261 6d65 3a20 4669 7273 7420 6672  _frame: First fr
+000048a0: 616d 6520 696e 2072 616e 6765 2074 6f20  ame in range to 
+000048b0: 6578 7472 6163 740a 2020 2020 3a70 6172  extract.    :par
+000048c0: 616d 6574 6572 2069 6e74 2065 6e64 5f66  ameter int end_f
+000048d0: 7261 6d65 3a20 4c61 7374 2066 7261 6d65  rame: Last frame
+000048e0: 2069 6e20 7261 6e67 6520 746f 2065 7874   in range to ext
+000048f0: 7261 6374 2e0a 0a20 2020 203a 6578 616d  ract...    :exam
+00004900: 706c 653a 0a20 2020 203e 3e3e 205f 203d  ple:.    >>> _ =
+00004910: 2065 7874 7261 6374 5f66 7261 6d65 5f72   extract_frame_r
+00004920: 616e 6765 2866 696c 655f 7061 7468 3d27  ange(file_path='
+00004930: 7072 6f6a 6563 745f 666f 6c64 6572 2f76  project_folder/v
+00004940: 6964 656f 732f 5669 6465 6f5f 312e 6d70  ideos/Video_1.mp
+00004950: 3427 2c20 7374 6172 745f 6672 616d 653d  4', start_frame=
+00004960: 3130 302c 2065 6e64 5f66 7261 6d65 3d35  100, end_frame=5
+00004970: 3030 290a 2020 2020 2222 220a 0a20 2020  00).    """..   
+00004980: 2074 696d 6572 203d 2053 696d 6261 5469   timer = SimbaTi
+00004990: 6d65 7228 7374 6172 743d 5472 7565 290a  mer(start=True).
+000049a0: 2020 2020 6368 6563 6b5f 6669 6c65 5f65      check_file_e
+000049b0: 7869 7374 5f61 6e64 5f72 6561 6461 626c  xist_and_readabl
+000049c0: 6528 6669 6c65 5f70 6174 683d 6669 6c65  e(file_path=file
+000049d0: 5f70 6174 6829 0a20 2020 2076 6964 656f  _path).    video
+000049e0: 5f6d 6574 615f 6461 7461 203d 2067 6574  _meta_data = get
+000049f0: 5f76 6964 656f 5f6d 6574 615f 6461 7461  _video_meta_data
+00004a00: 2866 696c 655f 7061 7468 290a 2020 2020  (file_path).    
+00004a10: 6368 6563 6b5f 696e 7428 6e61 6d65 3d22  check_int(name="
+00004a20: 7374 6172 7420 6672 616d 6522 2c20 7661  start frame", va
+00004a30: 6c75 653d 7374 6172 745f 6672 616d 652c  lue=start_frame,
+00004a40: 206d 696e 5f76 616c 7565 3d30 290a 2020   min_value=0).  
+00004a50: 2020 6669 6c65 5f64 6972 2c20 6669 6c65    file_dir, file
+00004a60: 5f6e 616d 652c 2066 696c 655f 6578 7420  _name, file_ext 
+00004a70: 3d20 6765 745f 666e 5f65 7874 2866 696c  = get_fn_ext(fil
+00004a80: 6570 6174 683d 6669 6c65 5f70 6174 6829  epath=file_path)
+00004a90: 0a20 2020 2063 6865 636b 5f69 6e74 286e  .    check_int(n
+00004aa0: 616d 653d 2265 6e64 2066 7261 6d65 222c  ame="end frame",
+00004ab0: 2076 616c 7565 3d65 6e64 5f66 7261 6d65   value=end_frame
+00004ac0: 2c20 6d61 785f 7661 6c75 653d 7669 6465  , max_value=vide
+00004ad0: 6f5f 6d65 7461 5f64 6174 615b 2266 7261  o_meta_data["fra
+00004ae0: 6d65 5f63 6f75 6e74 225d 290a 2020 2020  me_count"]).    
+00004af0: 6672 616d 655f 7261 6e67 6520 3d20 6c69  frame_range = li
+00004b00: 7374 2872 616e 6765 2869 6e74 2873 7461  st(range(int(sta
+00004b10: 7274 5f66 7261 6d65 292c 2069 6e74 2865  rt_frame), int(e
+00004b20: 6e64 5f66 7261 6d65 2920 2b20 3129 290a  nd_frame) + 1)).
+00004b30: 2020 2020 6966 2073 6176 655f 6469 7220      if save_dir 
+00004b40: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
+00004b50: 2073 6176 655f 6469 7220 3d20 6f73 2e70   save_dir = os.p
+00004b60: 6174 682e 6a6f 696e 2866 696c 655f 6469  ath.join(file_di
+00004b70: 722c 2066 227b 6669 6c65 5f6e 616d 657d  r, f"{file_name}
+00004b80: 5f66 7261 6d65 7322 290a 2020 2020 656c  _frames").    el
+00004b90: 7365 3a0a 2020 2020 2020 2020 6368 6563  se:.        chec
+00004ba0: 6b5f 6966 5f64 6972 5f65 7869 7374 7328  k_if_dir_exists(
+00004bb0: 696e 5f64 6972 3d73 6176 655f 6469 722c  in_dir=save_dir,
+00004bc0: 2073 6f75 7263 653d 6578 7472 6163 745f   source=extract_
+00004bd0: 6672 616d 655f 7261 6e67 652e 5f5f 6e61  frame_range.__na
+00004be0: 6d65 5f5f 290a 2020 2020 6361 7020 3d20  me__).    cap = 
+00004bf0: 6376 322e 5669 6465 6f43 6170 7475 7265  cv2.VideoCapture
+00004c00: 2866 696c 655f 7061 7468 290a 2020 2020  (file_path).    
+00004c10: 6966 206e 6f74 206f 732e 7061 7468 2e65  if not os.path.e
+00004c20: 7869 7374 7328 7361 7665 5f64 6972 293a  xists(save_dir):
+00004c30: 0a20 2020 2020 2020 206f 732e 6d61 6b65  .        os.make
+00004c40: 6469 7273 2873 6176 655f 6469 7229 0a20  dirs(save_dir). 
+00004c50: 2020 2066 6f72 2066 726d 5f63 6e74 2c20     for frm_cnt, 
+00004c60: 6672 6d5f 6e75 6d62 6572 2069 6e20 656e  frm_number in en
+00004c70: 756d 6572 6174 6528 6672 616d 655f 7261  umerate(frame_ra
+00004c80: 6e67 6529 3a0a 2020 2020 2020 2020 6672  nge):.        fr
+00004c90: 6d5f 7469 6d65 7220 3d20 5369 6d62 6154  m_timer = SimbaT
+00004ca0: 696d 6572 2873 7461 7274 3d54 7275 6529  imer(start=True)
+00004cb0: 0a20 2020 2020 2020 2066 7261 6d65 203d  .        frame =
+00004cc0: 2072 6561 645f 6672 6d5f 6f66 5f76 6964   read_frm_of_vid
+00004cd0: 656f 2876 6964 656f 5f70 6174 683d 6361  eo(video_path=ca
+00004ce0: 702c 2066 7261 6d65 5f69 6e64 6578 3d66  p, frame_index=f
+00004cf0: 726d 5f63 6e74 290a 2020 2020 2020 2020  rm_cnt).        
+00004d00: 6672 6d5f 7361 7665 5f70 6174 6820 3d20  frm_save_path = 
+00004d10: 6f73 2e70 6174 682e 6a6f 696e 2873 6176  os.path.join(sav
+00004d20: 655f 6469 722c 2066 227b 6672 6d5f 6e75  e_dir, f"{frm_nu
+00004d30: 6d62 6572 7d2e 706e 6722 290a 2020 2020  mber}.png").    
+00004d40: 2020 2020 6376 322e 696d 7772 6974 6528      cv2.imwrite(
+00004d50: 6672 6d5f 7361 7665 5f70 6174 682c 2066  frm_save_path, f
+00004d60: 7261 6d65 290a 2020 2020 2020 2020 6672  rame).        fr
+00004d70: 6d5f 7469 6d65 722e 7374 6f70 5f74 696d  m_timer.stop_tim
+00004d80: 6572 2829 0a20 2020 2020 2020 2069 6620  er().        if 
+00004d90: 7665 7262 6f73 653a 0a20 2020 2020 2020  verbose:.       
+00004da0: 2020 2020 2070 7269 6e74 2866 2246 7261       print(f"Fra
+00004db0: 6d65 207b 6672 6d5f 6e75 6d62 6572 7d20  me {frm_number} 
+00004dc0: 7361 7665 6420 2846 7261 6d65 207b 6672  saved (Frame {fr
+00004dd0: 6d5f 636e 747d 2f7b 6c65 6e28 6672 616d  m_cnt}/{len(fram
+00004de0: 655f 7261 6e67 6529 2d31 7d29 2028 656c  e_range)-1}) (el
+00004df0: 6170 7365 6420 7469 6d65 3a20 7b66 726d  apsed time: {frm
+00004e00: 5f74 696d 6572 2e65 6c61 7073 6564 5f74  _timer.elapsed_t
+00004e10: 696d 655f 7374 727d 7329 2229 0a20 2020  ime_str}s)").   
+00004e20: 2074 696d 6572 2e73 746f 705f 7469 6d65   timer.stop_time
+00004e30: 7228 290a 2020 2020 7374 646f 7574 5f73  r().    stdout_s
+00004e40: 7563 6365 7373 286d 7367 3d66 227b 6c65  uccess(msg=f"{le
+00004e50: 6e28 6672 616d 655f 7261 6e67 6529 2d31  n(frame_range)-1
+00004e60: 7d20 6672 616d 6573 2065 7874 7261 6374  } frames extract
+00004e70: 6564 2066 6f72 2076 6964 656f 207b 6669  ed for video {fi
+00004e80: 6c65 5f6e 616d 657d 2073 6176 6564 2069  le_name} saved i
+00004e90: 6e20 7b73 6176 655f 6469 727d 222c 2065  n {save_dir}", e
+00004ea0: 6c61 7073 6564 5f74 696d 653d 7469 6d65  lapsed_time=time
+00004eb0: 722e 656c 6170 7365 645f 7469 6d65 5f73  r.elapsed_time_s
+00004ec0: 7472 2c20 736f 7572 6365 3d65 7874 7261  tr, source=extra
+00004ed0: 6374 5f66 7261 6d65 5f72 616e 6765 2e5f  ct_frame_range._
+00004ee0: 5f6e 616d 655f 5f29 0a0a 0a64 6566 2063  _name__)...def c
+00004ef0: 6861 6e67 655f 7369 6e67 6c65 5f76 6964  hange_single_vid
+00004f00: 656f 5f66 7073 2866 696c 655f 7061 7468  eo_fps(file_path
+00004f10: 3a20 556e 696f 6e5b 7374 722c 206f 732e  : Union[str, os.
+00004f20: 5061 7468 4c69 6b65 5d2c 0a20 2020 2020  PathLike],.     
+00004f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004f40: 2020 2020 2020 2066 7073 3a20 696e 742c         fps: int,
+00004f50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004f60: 2020 2020 2020 2020 2020 2020 2067 7075               gpu
+00004f70: 3a20 4f70 7469 6f6e 616c 5b62 6f6f 6c5d  : Optional[bool]
+00004f80: 203d 2046 616c 7365 2920 2d3e 204e 6f6e   = False) -> Non
+00004f90: 653a 0a0a 2020 2020 2222 220a 2020 2020  e:..    """.    
+00004fa0: 4368 616e 6765 2074 6865 2066 7073 206f  Change the fps o
+00004fb0: 6620 6120 7369 6e67 6c65 2076 6964 656f  f a single video
+00004fc0: 2066 696c 652e 2052 6573 756c 7473 2061   file. Results a
+00004fd0: 7265 2073 746f 7265 6420 696e 2074 6865  re stored in the
+00004fe0: 2073 616d 6520 6469 7265 6374 6f72 7920   same directory 
+00004ff0: 6173 2069 6e20 7468 6520 696e 7075 7420  as in the input 
+00005000: 6669 6c65 2077 6974 680a 2020 2020 7468  file with.    th
+00005010: 6520 7375 6666 6978 2060 605f 6670 735f  e suffix ``_fps_
+00005020: 6e65 775f 6670 7360 602e 0a0a 2020 2020  new_fps``...    
+00005030: 2e2e 206e 6f74 653a 3a0a 2020 2020 2020  .. note::.      
+00005040: 2054 6f20 6368 616e 6765 2074 6865 2046   To change the F
+00005050: 5053 206f 6620 616c 6c20 7669 6465 6f73  PS of all videos
+00005060: 2069 6e20 6120 6469 7265 6374 6f72 792c   in a directory,
+00005070: 2075 7365 2060 6073 696d 6261 2e76 6964   use ``simba.vid
+00005080: 656f 5f70 726f 6365 7373 6f72 732e 7669  eo_processors.vi
+00005090: 6465 6f5f 7072 6f63 6573 7369 6e67 2e63  deo_processing.c
+000050a0: 6861 6e67 655f 6670 735f 6f66 5f6d 756c  hange_fps_of_mul
+000050b0: 7469 706c 655f 7669 6465 6f73 6060 2e0a  tiple_videos``..
+000050c0: 0a20 2020 202e 2e20 7669 6465 6f3a 3a20  .    .. video:: 
+000050d0: 5f73 7461 7469 632f 696d 672f 6368 616e  _static/img/chan
+000050e0: 6765 5f73 696e 676c 655f 7669 6465 6f5f  ge_single_video_
+000050f0: 6670 732e 7765 626d 0a20 2020 2020 2020  fps.webm.       
+00005100: 3a6c 6f6f 703a 0a0a 2020 2020 3a70 6172  :loop:..    :par
+00005110: 616d 2055 6e69 6f6e 5b73 7472 2c20 6f73  am Union[str, os
+00005120: 2e50 6174 684c 696b 655d 2066 696c 655f  .PathLike] file_
+00005130: 7061 7468 3a20 5061 7468 2074 6f20 7669  path: Path to vi
+00005140: 6465 6f20 6669 6c65 0a20 2020 203a 7061  deo file.    :pa
+00005150: 7261 6d20 696e 7420 6670 733a 2046 5053  ram int fps: FPS
+00005160: 206f 6620 7468 6520 6e65 7720 7669 6465   of the new vide
+00005170: 6f20 6669 6c65 2e0a 2020 2020 3a70 6172  o file..    :par
+00005180: 616d 204f 7074 696f 6e61 6c5b 626f 6f6c  am Optional[bool
+00005190: 5d20 6770 753a 2049 6620 5472 7565 2c20  ] gpu: If True, 
+000051a0: 7573 6520 4e56 4944 4541 2047 5055 2063  use NVIDEA GPU c
+000051b0: 6f64 6563 732e 2044 6566 6175 6c74 2046  odecs. Default F
+000051c0: 616c 7365 2e0a 0a20 2020 203a 6578 616d  alse...    :exam
+000051d0: 706c 653a 0a20 2020 203e 3e3e 205f 203d  ple:.    >>> _ =
+000051e0: 2063 6861 6e67 655f 7369 6e67 6c65 5f76   change_single_v
+000051f0: 6964 656f 5f66 7073 2866 696c 655f 7061  ideo_fps(file_pa
+00005200: 7468 3d27 7072 6f6a 6563 745f 666f 6c64  th='project_fold
+00005210: 6572 2f76 6964 656f 732f 5669 6465 6f5f  er/videos/Video_
+00005220: 312e 6d70 3427 2c20 6670 733d 3135 290a  1.mp4', fps=15).
+00005230: 2020 2020 2222 220a 0a20 2020 2074 696d      """..    tim
+00005240: 6572 203d 2053 696d 6261 5469 6d65 7228  er = SimbaTimer(
+00005250: 7374 6172 743d 5472 7565 290a 2020 2020  start=True).    
+00005260: 6368 6563 6b5f 6666 6d70 6567 5f61 7661  check_ffmpeg_ava
+00005270: 696c 6162 6c65 2872 6169 7365 5f65 7272  ilable(raise_err
+00005280: 6f72 3d54 7275 6529 0a20 2020 2069 6620  or=True).    if 
+00005290: 6770 7520 616e 6420 6e6f 7420 6368 6563  gpu and not chec
+000052a0: 6b5f 6e76 6964 6561 5f67 7075 5f61 7661  k_nvidea_gpu_ava
+000052b0: 696c 6162 6c65 2829 3a0a 2020 2020 2020  ilable():.      
+000052c0: 2020 7261 6973 6520 4646 4d50 4547 436f    raise FFMPEGCo
+000052d0: 6465 6347 5055 4572 726f 7228 6d73 673d  decGPUError(msg=
+000052e0: 224e 6f20 4750 5520 666f 756e 6420 2861  "No GPU found (a
+000052f0: 7320 6576 616c 7561 7465 6420 6279 206e  s evaluated by n
+00005300: 7669 6465 612d 736d 6920 7265 7475 726e  videa-smi return
+00005310: 696e 6720 4e6f 6e65 2922 2c20 736f 7572  ing None)", sour
+00005320: 6365 3d63 6861 6e67 655f 7369 6e67 6c65  ce=change_single
+00005330: 5f76 6964 656f 5f66 7073 2e5f 5f6e 616d  _video_fps.__nam
+00005340: 655f 5f29 0a20 2020 2063 6865 636b 5f66  e__).    check_f
+00005350: 696c 655f 6578 6973 745f 616e 645f 7265  ile_exist_and_re
+00005360: 6164 6162 6c65 2866 696c 655f 7061 7468  adable(file_path
+00005370: 3d66 696c 655f 7061 7468 290a 2020 2020  =file_path).    
+00005380: 6368 6563 6b5f 696e 7428 6e61 6d65 3d22  check_int(name="
+00005390: 4e65 7720 6670 7322 2c20 7661 6c75 653d  New fps", value=
+000053a0: 6670 7329 0a20 2020 2076 6964 656f 5f6d  fps).    video_m
+000053b0: 6574 615f 6461 7461 203d 2067 6574 5f76  eta_data = get_v
+000053c0: 6964 656f 5f6d 6574 615f 6461 7461 2876  ideo_meta_data(v
+000053d0: 6964 656f 5f70 6174 683d 6669 6c65 5f70  ideo_path=file_p
+000053e0: 6174 6829 0a20 2020 2064 6972 5f6e 616d  ath).    dir_nam
+000053f0: 652c 2066 696c 655f 6e61 6d65 2c20 6578  e, file_name, ex
+00005400: 7420 3d20 6765 745f 666e 5f65 7874 2866  t = get_fn_ext(f
+00005410: 696c 6570 6174 683d 6669 6c65 5f70 6174  ilepath=file_pat
+00005420: 6829 0a20 2020 2069 6620 696e 7428 6670  h).    if int(fp
+00005430: 7329 203d 3d20 696e 7428 7669 6465 6f5f  s) == int(video_
+00005440: 6d65 7461 5f64 6174 615b 2266 7073 225d  meta_data["fps"]
+00005450: 293a 0a20 2020 2020 2020 2053 616d 6549  ):.        SameI
+00005460: 6e70 7574 416e 644f 7574 7075 7457 6172  nputAndOutputWar
+00005470: 6e69 6e67 286d 7367 3d66 2254 6865 206e  ning(msg=f"The n
+00005480: 6577 2066 7073 2069 7320 7468 6520 7361  ew fps is the sa
+00005490: 6d65 2061 7320 7468 6520 696e 7075 7420  me as the input 
+000054a0: 6670 7320 666f 7220 7669 6465 6f20 7b66  fps for video {f
+000054b0: 696c 655f 6e61 6d65 7d20 287b 7374 7228  ile_name} ({str(
+000054c0: 6670 7329 7d29 222c 2073 6f75 7263 653d  fps)})", source=
+000054d0: 6368 616e 6765 5f73 696e 676c 655f 7669  change_single_vi
+000054e0: 6465 6f5f 6670 732e 5f5f 6e61 6d65 5f5f  deo_fps.__name__
+000054f0: 290a 2020 2020 7361 7665 5f70 6174 6820  ).    save_path 
+00005500: 3d20 6f73 2e70 6174 682e 6a6f 696e 2864  = os.path.join(d
+00005510: 6972 5f6e 616d 652c 2066 696c 655f 6e61  ir_name, file_na
+00005520: 6d65 202b 2066 225f 6670 735f 7b66 7073  me + f"_fps_{fps
+00005530: 7d7b 6578 747d 2229 0a20 2020 2070 7269  }{ext}").    pri
+00005540: 6e74 2866 2243 6f6e 7665 7274 696e 6720  nt(f"Converting 
+00005550: 7468 6520 4650 5320 746f 207b 6670 737d  the FPS to {fps}
+00005560: 2066 6f72 2076 6964 656f 207b 6669 6c65   for video {file
+00005570: 5f6e 616d 657d 202e 2e2e 2229 0a20 2020  _name} ...").   
+00005580: 2069 6620 6578 742e 6c6f 7765 7228 2920   if ext.lower() 
+00005590: 3d3d 2027 2e77 6562 6d27 3a0a 2020 2020  == '.webm':.    
+000055a0: 2020 2020 636f 6465 6320 3d20 276c 6962      codec = 'lib
+000055b0: 7670 782d 7670 3927 0a20 2020 2065 6c69  vpx-vp9'.    eli
+000055c0: 6620 6578 742e 6c6f 7765 7228 2920 3d3d  f ext.lower() ==
+000055d0: 2027 2e61 7669 273a 0a20 2020 2020 2020   '.avi':.       
+000055e0: 2063 6f64 6563 203d 2027 6d70 6567 3427   codec = 'mpeg4'
+000055f0: 0a20 2020 2065 6c73 653a 0a20 2020 2020  .    else:.     
+00005600: 2020 2063 6f64 6563 203d 2027 6c69 6278     codec = 'libx
+00005610: 3236 3427 0a20 2020 2069 6620 6f73 2e70  264'.    if os.p
+00005620: 6174 682e 6973 6669 6c65 2873 6176 655f  ath.isfile(save_
+00005630: 7061 7468 293a 0a20 2020 2020 2020 2046  path):.        F
+00005640: 696c 6545 7869 7374 5761 726e 696e 6728  ileExistWarning(
+00005650: 6d73 673d 6622 4f76 6572 7772 6974 696e  msg=f"Overwritin
+00005660: 6720 6578 6973 7469 6e67 2066 696c 6520  g existing file 
+00005670: 6174 207b 7361 7665 5f70 6174 687d 2e2e  at {save_path}..
+00005680: 2e22 2c20 736f 7572 6365 3d63 6861 6e67  .", source=chang
+00005690: 655f 7369 6e67 6c65 5f76 6964 656f 5f66  e_single_video_f
+000056a0: 7073 2e5f 5f6e 616d 655f 5f2c 290a 2020  ps.__name__,).  
+000056b0: 2020 6966 2067 7075 3a0a 2020 2020 2020    if gpu:.      
+000056c0: 2020 636f 6d6d 616e 6420 3d20 6627 6666    command = f'ff
+000056d0: 6d70 6567 202d 6877 6163 6365 6c20 6175  mpeg -hwaccel au
+000056e0: 746f 202d 633a 7620 6832 3634 5f63 7576  to -c:v h264_cuv
+000056f0: 6964 202d 6920 227b 6669 6c65 5f70 6174  id -i "{file_pat
+00005700: 687d 2220 2d76 6620 2266 7073 3d7b 6670  h}" -vf "fps={fp
+00005710: 737d 2220 2d63 3a76 2068 3236 345f 6e76  s}" -c:v h264_nv
+00005720: 656e 6320 2d63 3a61 2063 6f70 7920 227b  enc -c:a copy "{
+00005730: 7361 7665 5f70 6174 687d 2220 2d79 270a  save_path}" -y'.
+00005740: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00005750: 2020 636f 6d6d 616e 6420 3d20 6627 6666    command = f'ff
+00005760: 6d70 6567 202d 6920 227b 6669 6c65 5f70  mpeg -i "{file_p
+00005770: 6174 687d 2220 2d66 696c 7465 723a 7620  ath}" -filter:v 
+00005780: 6670 733d 6670 733d 7b66 7073 7d20 2d63  fps=fps={fps} -c
+00005790: 3a76 207b 636f 6465 637d 202d 633a 6120  :v {codec} -c:a 
+000057a0: 6161 6320 227b 7361 7665 5f70 6174 687d  aac "{save_path}
+000057b0: 2220 2d6c 6f67 6c65 7665 6c20 6572 726f  " -loglevel erro
+000057c0: 7220 2d73 7461 7473 202d 6869 6465 5f62  r -stats -hide_b
+000057d0: 616e 6e65 7220 2d79 270a 2020 2020 7375  anner -y'.    su
+000057e0: 6270 726f 6365 7373 2e63 616c 6c28 636f  bprocess.call(co
+000057f0: 6d6d 616e 642c 2073 6865 6c6c 3d54 7275  mmand, shell=Tru
+00005800: 6529 0a20 2020 2074 696d 6572 2e73 746f  e).    timer.sto
+00005810: 705f 7469 6d65 7228 290a 2020 2020 7374  p_timer().    st
+00005820: 646f 7574 5f73 7563 6365 7373 286d 7367  dout_success(msg
+00005830: 3d66 2753 494d 4241 2043 4f4d 504c 4554  =f'SIMBA COMPLET
+00005840: 453a 2046 5053 206f 6620 7669 6465 6f20  E: FPS of video 
+00005850: 7b66 696c 655f 6e61 6d65 7d20 6368 616e  {file_name} chan
+00005860: 6765 6420 6672 6f6d 207b 7374 7228 7669  ged from {str(vi
+00005870: 6465 6f5f 6d65 7461 5f64 6174 615b 2266  deo_meta_data["f
+00005880: 7073 225d 297d 2074 6f20 7b73 7472 2866  ps"])} to {str(f
+00005890: 7073 297d 2061 6e64 2073 6176 6564 2069  ps)} and saved i
+000058a0: 6e20 6469 7265 6374 6f72 7920 7b73 6176  n directory {sav
+000058b0: 655f 7061 7468 7d27 2c20 656c 6170 7365  e_path}', elapse
+000058c0: 645f 7469 6d65 3d74 696d 6572 2e65 6c61  d_time=timer.ela
+000058d0: 7073 6564 5f74 696d 655f 7374 722c 2073  psed_time_str, s
+000058e0: 6f75 7263 653d 6368 616e 6765 5f73 696e  ource=change_sin
+000058f0: 676c 655f 7669 6465 6f5f 6670 732e 5f5f  gle_video_fps.__
+00005900: 6e61 6d65 5f5f 290a 0a0a 6465 6620 6368  name__)...def ch
+00005910: 616e 6765 5f66 7073 5f6f 665f 6d75 6c74  ange_fps_of_mult
+00005920: 6970 6c65 5f76 6964 656f 7328 6469 7265  iple_videos(dire
+00005930: 6374 6f72 793a 2055 6e69 6f6e 5b73 7472  ctory: Union[str
+00005940: 2c20 6f73 2e50 6174 684c 696b 655d 2c0a  , os.PathLike],.
+00005950: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00005960: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005970: 2020 2020 2020 2020 2020 2020 2020 6770                gp
-00005980: 753a 204f 7074 696f 6e61 6c5b 626f 6f6c  u: Optional[bool
-00005990: 5d20 3d20 4661 6c73 6529 202d 3e20 4e6f  ] = False) -> No
-000059a0: 6e65 3a0a 2020 2020 2222 220a 2020 2020  ne:.    """.    
-000059b0: 4368 616e 6765 2074 6865 2066 7073 206f  Change the fps o
-000059c0: 6620 616c 6c20 7669 6465 6f20 6669 6c65  f all video file
-000059d0: 7320 696e 2061 2066 6f6c 6465 722e 2052  s in a folder. R
-000059e0: 6573 756c 7473 2061 7265 2073 746f 7265  esults are store
-000059f0: 6420 696e 2074 6865 2073 616d 6520 6469  d in the same di
-00005a00: 7265 6374 6f72 7920 6173 2069 6e20 7468  rectory as in th
-00005a10: 6520 696e 7075 7420 6669 6c65 7320 7769  e input files wi
-00005a20: 7468 0a20 2020 2074 6865 2073 7566 6669  th.    the suffi
-00005a30: 7820 6060 5f66 7073 5f6e 6577 5f66 7073  x ``_fps_new_fps
-00005a40: 6060 2e0a 0a20 2020 203a 7061 7261 6d65  ``...    :parame
-00005a50: 7465 7220 556e 696f 6e5b 7374 722c 206f  ter Union[str, o
-00005a60: 732e 5061 7468 4c69 6b65 5d20 6469 7265  s.PathLike] dire
-00005a70: 6374 6f72 793a 2050 6174 6820 746f 2076  ctory: Path to v
-00005a80: 6964 656f 2066 696c 6520 6469 7265 6374  ideo file direct
-00005a90: 6f72 790a 2020 2020 3a70 6172 616d 6574  ory.    :paramet
-00005aa0: 6572 2069 6e74 2066 7073 3a20 4670 7320  er int fps: Fps 
-00005ab0: 6f66 2074 6865 206e 6577 2076 6964 656f  of the new video
-00005ac0: 2066 696c 6573 2e0a 2020 2020 3a70 6172   files..    :par
-00005ad0: 616d 6574 6572 204f 7074 696f 6e61 6c5b  ameter Optional[
-00005ae0: 626f 6f6c 5d20 6770 753a 2049 6620 5472  bool] gpu: If Tr
-00005af0: 7565 2c20 7573 6520 4e56 4944 4541 2047  ue, use NVIDEA G
-00005b00: 5055 2063 6f64 6563 732e 2044 6566 6175  PU codecs. Defau
-00005b10: 6c74 2046 616c 7365 2e0a 0a20 2020 203a  lt False...    :
-00005b20: 6578 616d 706c 653a 0a20 2020 203e 3e3e  example:.    >>>
-00005b30: 205f 203d 2063 6861 6e67 655f 6670 735f   _ = change_fps_
-00005b40: 6f66 5f6d 756c 7469 706c 655f 7669 6465  of_multiple_vide
-00005b50: 6f73 2864 6972 6563 746f 7279 3d27 7072  os(directory='pr
-00005b60: 6f6a 6563 745f 666f 6c64 6572 2f76 6964  oject_folder/vid
-00005b70: 656f 732f 5669 6465 6f5f 312e 6d70 3427  eos/Video_1.mp4'
-00005b80: 2c20 6670 733d 3135 290a 2020 2020 2222  , fps=15).    ""
-00005b90: 220a 0a20 2020 2074 696d 6572 203d 2053  "..    timer = S
-00005ba0: 696d 6261 5469 6d65 7228 7374 6172 743d  imbaTimer(start=
-00005bb0: 5472 7565 290a 2020 2020 6368 6563 6b5f  True).    check_
-00005bc0: 6666 6d70 6567 5f61 7661 696c 6162 6c65  ffmpeg_available
-00005bd0: 2872 6169 7365 5f65 7272 6f72 3d54 7275  (raise_error=Tru
-00005be0: 6529 0a20 2020 2069 6620 6770 7520 616e  e).    if gpu an
-00005bf0: 6420 6e6f 7420 6368 6563 6b5f 6e76 6964  d not check_nvid
-00005c00: 6561 5f67 7075 5f61 7661 696c 6162 6c65  ea_gpu_available
-00005c10: 2829 3a0a 2020 2020 2020 2020 7261 6973  ():.        rais
-00005c20: 6520 4646 4d50 4547 436f 6465 6347 5055  e FFMPEGCodecGPU
-00005c30: 4572 726f 7228 6d73 673d 224e 6f20 4750  Error(msg="No GP
-00005c40: 5520 666f 756e 6420 2861 7320 6576 616c  U found (as eval
-00005c50: 7561 7465 6420 6279 206e 7669 6465 612d  uated by nvidea-
-00005c60: 736d 6920 7265 7475 726e 696e 6720 4e6f  smi returning No
-00005c70: 6e65 2922 2c20 736f 7572 6365 3d63 6861  ne)", source=cha
-00005c80: 6e67 655f 6670 735f 6f66 5f6d 756c 7469  nge_fps_of_multi
-00005c90: 706c 655f 7669 6465 6f73 2e5f 5f6e 616d  ple_videos.__nam
-00005ca0: 655f 5f29 0a20 2020 2069 6620 6e6f 7420  e__).    if not 
-00005cb0: 6f73 2e70 6174 682e 6973 6469 7228 6469  os.path.isdir(di
-00005cc0: 7265 6374 6f72 7929 3a0a 2020 2020 2020  rectory):.      
-00005cd0: 2020 7261 6973 6520 4e6f 7444 6972 6563    raise NotDirec
-00005ce0: 746f 7279 4572 726f 7228 6d73 673d 6622  toryError(msg=f"
-00005cf0: 5349 4d42 4120 4552 524f 523a 207b 6469  SIMBA ERROR: {di
-00005d00: 7265 6374 6f72 797d 2069 7320 6e6f 7420  rectory} is not 
-00005d10: 6120 7661 6c69 6420 6469 7265 6374 6f72  a valid director
-00005d20: 7922 2c20 736f 7572 6365 3d63 6861 6e67  y", source=chang
-00005d30: 655f 6670 735f 6f66 5f6d 756c 7469 706c  e_fps_of_multipl
-00005d40: 655f 7669 6465 6f73 2e5f 5f6e 616d 655f  e_videos.__name_
-00005d50: 5f2c 290a 2020 2020 6368 6563 6b5f 696e  _,).    check_in
-00005d60: 7428 6e61 6d65 3d22 4e65 7720 6670 7322  t(name="New fps"
-00005d70: 2c20 7661 6c75 653d 6670 7329 0a20 2020  , value=fps).   
-00005d80: 2063 6865 636b 5f69 665f 6469 725f 6578   check_if_dir_ex
-00005d90: 6973 7473 2869 6e5f 6469 723d 6469 7265  ists(in_dir=dire
-00005da0: 6374 6f72 7929 0a20 2020 2076 6964 656f  ctory).    video
-00005db0: 5f70 6174 6873 203d 2066 696e 645f 616c  _paths = find_al
-00005dc0: 6c5f 7669 6465 6f73 5f69 6e5f 6469 7265  l_videos_in_dire
-00005dd0: 6374 6f72 7928 6469 7265 6374 6f72 793d  ctory(directory=
-00005de0: 6469 7265 6374 6f72 792c 2061 735f 6469  directory, as_di
-00005df0: 6374 3d54 7275 652c 2072 6169 7365 5f65  ct=True, raise_e
-00005e00: 7272 6f72 3d54 7275 6529 2e76 616c 7565  rror=True).value
-00005e10: 7328 290a 0a20 2020 2066 6f72 2066 696c  s()..    for fil
-00005e20: 655f 636e 742c 2066 696c 655f 7061 7468  e_cnt, file_path
-00005e30: 2069 6e20 656e 756d 6572 6174 6528 7669   in enumerate(vi
-00005e40: 6465 6f5f 7061 7468 7329 3a0a 2020 2020  deo_paths):.    
-00005e50: 2020 2020 7669 6465 6f5f 7469 6d65 7220      video_timer 
-00005e60: 3d20 5369 6d62 6154 696d 6572 2873 7461  = SimbaTimer(sta
-00005e70: 7274 3d54 7275 6529 0a20 2020 2020 2020  rt=True).       
-00005e80: 2064 6972 5f6e 616d 652c 2066 696c 655f   dir_name, file_
-00005e90: 6e61 6d65 2c20 6578 7420 3d20 6765 745f  name, ext = get_
-00005ea0: 666e 5f65 7874 2866 696c 6570 6174 683d  fn_ext(filepath=
-00005eb0: 6669 6c65 5f70 6174 6829 0a20 2020 2020  file_path).     
-00005ec0: 2020 2076 6964 656f 5f6d 6574 615f 6461     video_meta_da
-00005ed0: 7461 203d 2067 6574 5f76 6964 656f 5f6d  ta = get_video_m
-00005ee0: 6574 615f 6461 7461 2876 6964 656f 5f70  eta_data(video_p
-00005ef0: 6174 683d 6669 6c65 5f70 6174 6829 0a20  ath=file_path). 
-00005f00: 2020 2020 2020 2069 6620 696e 7428 6670         if int(fp
-00005f10: 7329 203d 3d20 696e 7428 7669 6465 6f5f  s) == int(video_
-00005f20: 6d65 7461 5f64 6174 615b 2266 7073 225d  meta_data["fps"]
-00005f30: 293a 0a20 2020 2020 2020 2020 2020 2053  ):.            S
-00005f40: 616d 6549 6e70 7574 416e 644f 7574 7075  ameInputAndOutpu
-00005f50: 7457 6172 6e69 6e67 286d 7367 3d66 2254  tWarning(msg=f"T
-00005f60: 6865 206e 6577 2046 5053 2028 7b66 7073  he new FPS ({fps
-00005f70: 7d29 2069 7320 7468 6520 7361 6d65 206f  }) is the same o
-00005f80: 7220 6c6f 7765 7220 7468 616e 2074 6865  r lower than the
-00005f90: 206f 7269 6769 6e61 6c20 4650 5320 287b   original FPS ({
-00005fa0: 7669 6465 6f5f 6d65 7461 5f64 6174 615b  video_meta_data[
-00005fb0: 2766 7073 275d 7d29 2066 6f72 2076 6964  'fps']}) for vid
-00005fc0: 656f 207b 6669 6c65 5f6e 616d 657d 222c  eo {file_name}",
-00005fd0: 2073 6f75 7263 653d 6368 616e 6765 5f66   source=change_f
-00005fe0: 7073 5f6f 665f 6d75 6c74 6970 6c65 5f76  ps_of_multiple_v
-00005ff0: 6964 656f 732e 5f5f 6e61 6d65 5f5f 290a  ideos.__name__).
-00006000: 2020 2020 2020 2020 7072 696e 7428 6622          print(f"
-00006010: 436f 6e76 6572 7469 6e67 2046 5053 2066  Converting FPS f
-00006020: 726f 6d20 7b76 6964 656f 5f6d 6574 615f  rom {video_meta_
-00006030: 6461 7461 5b27 6670 7327 5d7d 2074 6f20  data['fps']} to 
-00006040: 7b66 7073 7d20 666f 7220 7b66 696c 655f  {fps} for {file_
-00006050: 6e61 6d65 7d2e 2e2e 2229 0a20 2020 2020  name}...").     
-00006060: 2020 2073 6176 655f 7061 7468 203d 206f     save_path = o
-00006070: 732e 7061 7468 2e6a 6f69 6e28 6469 725f  s.path.join(dir_
-00006080: 6e61 6d65 2c20 6669 6c65 5f6e 616d 6520  name, file_name 
-00006090: 2b20 6622 5f66 7073 5f7b 6670 737d 7b65  + f"_fps_{fps}{e
-000060a0: 7874 7d22 290a 2020 2020 2020 2020 6966  xt}").        if
-000060b0: 2065 7874 2e6c 6f77 6572 2829 203d 3d20   ext.lower() == 
-000060c0: 272e 7765 626d 273a 2063 6f64 6563 203d  '.webm': codec =
-000060d0: 2027 6c69 6276 7078 2d76 7039 270a 2020   'libvpx-vp9'.  
-000060e0: 2020 2020 2020 656c 6966 2065 7874 2e6c        elif ext.l
-000060f0: 6f77 6572 2829 203d 3d20 272e 6176 6927  ower() == '.avi'
-00006100: 3a20 636f 6465 6320 3d20 276d 7065 6734  : codec = 'mpeg4
-00006110: 270a 2020 2020 2020 2020 656c 7365 3a20  '.        else: 
-00006120: 636f 6465 6320 3d20 276c 6962 7832 3634  codec = 'libx264
-00006130: 270a 2020 2020 2020 2020 6966 2067 7075  '.        if gpu
-00006140: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
-00006150: 6d6d 616e 6420 3d20 6627 6666 6d70 6567  mmand = f'ffmpeg
-00006160: 202d 6877 6163 6365 6c20 6175 746f 202d   -hwaccel auto -
-00006170: 633a 7620 6832 3634 5f63 7576 6964 202d  c:v h264_cuvid -
-00006180: 6920 227b 6669 6c65 5f70 6174 687d 2220  i "{file_path}" 
-00006190: 2d76 6620 2266 7073 3d7b 6670 737d 2220  -vf "fps={fps}" 
-000061a0: 2d63 3a76 2068 3236 345f 6e76 656e 6320  -c:v h264_nvenc 
-000061b0: 2d63 3a61 2063 6f70 7920 227b 7361 7665  -c:a copy "{save
-000061c0: 5f70 6174 687d 2220 2d79 270a 2020 2020  _path}" -y'.    
-000061d0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-000061e0: 2020 2020 2020 636f 6d6d 616e 6420 3d20        command = 
-000061f0: 6627 6666 6d70 6567 202d 6920 7b66 696c  f'ffmpeg -i {fil
-00006200: 655f 7061 7468 7d20 2d66 696c 7465 723a  e_path} -filter:
-00006210: 7620 6670 733d 6670 733d 7b66 7073 7d20  v fps=fps={fps} 
-00006220: 2d63 3a76 207b 636f 6465 637d 2022 7b73  -c:v {codec} "{s
-00006230: 6176 655f 7061 7468 7d22 202d 6c6f 676c  ave_path}" -logl
-00006240: 6576 656c 2065 7272 6f72 202d 7374 6174  evel error -stat
-00006250: 7320 2d68 6964 655f 6261 6e6e 6572 202d  s -hide_banner -
-00006260: 7927 0a20 2020 2020 2020 2073 7562 7072  y'.        subpr
-00006270: 6f63 6573 732e 6361 6c6c 2863 6f6d 6d61  ocess.call(comma
-00006280: 6e64 2c20 7368 656c 6c3d 5472 7565 290a  nd, shell=True).
-00006290: 2020 2020 2020 2020 7669 6465 6f5f 7469          video_ti
-000062a0: 6d65 722e 7374 6f70 5f74 696d 6572 2829  mer.stop_timer()
-000062b0: 0a20 2020 2020 2020 2070 7269 6e74 2866  .        print(f
-000062c0: 2256 6964 656f 207b 6669 6c65 5f6e 616d  "Video {file_nam
-000062d0: 657d 2063 6f6d 706c 6574 652e 2e2e 2028  e} complete... (
-000062e0: 656c 6170 7365 6420 7469 6d65 3a20 7b76  elapsed time: {v
-000062f0: 6964 656f 5f74 696d 6572 2e65 6c61 7073  ideo_timer.elaps
-00006300: 6564 5f74 696d 655f 7374 727d 7329 2229  ed_time_str}s)")
-00006310: 0a20 2020 2074 696d 6572 2e73 746f 705f  .    timer.stop_
-00006320: 7469 6d65 7228 290a 2020 2020 7374 646f  timer().    stdo
-00006330: 7574 5f73 7563 6365 7373 286d 7367 3d66  ut_success(msg=f
-00006340: 2253 494d 4241 2043 4f4d 504c 4554 453a  "SIMBA COMPLETE:
-00006350: 2046 5053 206f 6620 7b6c 656e 2876 6964   FPS of {len(vid
-00006360: 656f 5f70 6174 6873 297d 2076 6964 656f  eo_paths)} video
-00006370: 2873 2920 6368 616e 6765 6420 746f 207b  (s) changed to {
-00006380: 6670 737d 222c 2065 6c61 7073 6564 5f74  fps}", elapsed_t
-00006390: 696d 653d 7469 6d65 722e 656c 6170 7365  ime=timer.elapse
-000063a0: 645f 7469 6d65 5f73 7472 2c20 736f 7572  d_time_str, sour
-000063b0: 6365 3d63 6861 6e67 655f 6670 735f 6f66  ce=change_fps_of
-000063c0: 5f6d 756c 7469 706c 655f 7669 6465 6f73  _multiple_videos
-000063d0: 2e5f 5f6e 616d 655f 5f2c 290a 0a0a 6465  .__name__,)...de
-000063e0: 6620 636f 6e76 6572 745f 7669 6465 6f5f  f convert_video_
-000063f0: 706f 7765 7270 6f69 6e74 5f63 6f6d 7061  powerpoint_compa
-00006400: 7469 626c 655f 666f 726d 6174 2866 696c  tible_format(fil
-00006410: 655f 7061 7468 3a20 556e 696f 6e5b 7374  e_path: Union[st
-00006420: 722c 206f 732e 5061 7468 4c69 6b65 5d2c  r, os.PathLike],
-00006430: 2067 7075 3a20 4f70 7469 6f6e 616c 5b62   gpu: Optional[b
-00006440: 6f6f 6c5d 203d 2046 616c 7365 2920 2d3e  ool] = False) ->
-00006450: 204e 6f6e 653a 0a20 2020 2022 2222 0a20   None:.    """. 
-00006460: 2020 2043 7265 6174 6520 4d53 2050 6f77     Create MS Pow
-00006470: 6572 506f 696e 7420 636f 6d70 6174 6962  erPoint compatib
-00006480: 6c65 2063 6f70 7920 6f66 2061 2076 6964  le copy of a vid
-00006490: 656f 2066 696c 652e 2054 6865 2072 6573  eo file. The res
-000064a0: 756c 7420 6973 2073 746f 7265 6420 696e  ult is stored in
-000064b0: 2074 6865 2073 616d 6520 6469 7265 6374   the same direct
-000064c0: 6f72 7920 6173 2074 6865 0a20 2020 2069  ory as the.    i
-000064d0: 6e70 7574 2066 696c 6520 7769 7468 2074  nput file with t
-000064e0: 6865 2060 605f 706f 7765 7270 6f69 6e74  he ``_powerpoint
-000064f0: 7265 6164 7960 6020 7375 6666 6978 2e0a  ready`` suffix..
-00006500: 0a20 2020 203a 7061 7261 6d65 7465 7220  .    :parameter 
-00006510: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
-00006520: 7468 4c69 6b65 5d20 6669 6c65 5f70 6174  thLike] file_pat
-00006530: 683a 2050 6174 6820 746f 2076 6964 656f  h: Path to video
-00006540: 2066 696c 652e 0a20 2020 203a 7061 7261   file..    :para
-00006550: 6d65 7465 7220 4f70 7469 6f6e 616c 5b62  meter Optional[b
-00006560: 6f6f 6c5d 2067 7075 3a20 4966 2054 7275  ool] gpu: If Tru
-00006570: 652c 2075 7365 204e 5649 4445 4120 4750  e, use NVIDEA GP
-00006580: 5520 636f 6465 6373 2e20 4465 6661 756c  U codecs. Defaul
-00006590: 7420 4661 6c73 652e 0a0a 2020 2020 3a65  t False...    :e
-000065a0: 7861 6d70 6c65 3a0a 2020 2020 3e3e 3e20  xample:.    >>> 
-000065b0: 5f20 3d20 636f 6e76 6572 745f 7669 6465  _ = convert_vide
-000065c0: 6f5f 706f 7765 7270 6f69 6e74 5f63 6f6d  o_powerpoint_com
-000065d0: 7061 7469 626c 655f 666f 726d 6174 2866  patible_format(f
-000065e0: 696c 655f 7061 7468 3d27 7072 6f6a 6563  ile_path='projec
-000065f0: 745f 666f 6c64 6572 2f76 6964 656f 732f  t_folder/videos/
-00006600: 5669 6465 6f5f 312e 6d70 3427 290a 2020  Video_1.mp4').  
-00006610: 2020 2222 220a 0a20 2020 2063 6865 636b    """..    check
-00006620: 5f66 666d 7065 675f 6176 6169 6c61 626c  _ffmpeg_availabl
-00006630: 6528 7261 6973 655f 6572 726f 723d 5472  e(raise_error=Tr
-00006640: 7565 290a 2020 2020 6966 2067 7075 2061  ue).    if gpu a
-00006650: 6e64 206e 6f74 2063 6865 636b 5f6e 7669  nd not check_nvi
-00006660: 6465 615f 6770 755f 6176 6169 6c61 626c  dea_gpu_availabl
-00006670: 6528 293a 0a20 2020 2020 2020 2072 6169  e():.        rai
-00006680: 7365 2046 464d 5045 4743 6f64 6563 4750  se FFMPEGCodecGP
-00006690: 5545 7272 6f72 280a 2020 2020 2020 2020  UError(.        
-000066a0: 2020 2020 6d73 673d 224e 6f20 4750 5520      msg="No GPU 
-000066b0: 666f 756e 6420 2861 7320 6576 616c 7561  found (as evalua
-000066c0: 7465 6420 6279 206e 7669 6465 612d 736d  ted by nvidea-sm
-000066d0: 6920 7265 7475 726e 696e 6720 4e6f 6e65  i returning None
-000066e0: 2922 2c0a 2020 2020 2020 2020 2020 2020  )",.            
-000066f0: 736f 7572 6365 3d63 6f6e 7665 7274 5f76  source=convert_v
-00006700: 6964 656f 5f70 6f77 6572 706f 696e 745f  ideo_powerpoint_
-00006710: 636f 6d70 6174 6962 6c65 5f66 6f72 6d61  compatible_forma
-00006720: 742e 5f5f 6e61 6d65 5f5f 2c0a 2020 2020  t.__name__,.    
-00006730: 2020 2020 290a 2020 2020 7469 6d65 7220      ).    timer 
-00006740: 3d20 5369 6d62 6154 696d 6572 2873 7461  = SimbaTimer(sta
-00006750: 7274 3d54 7275 6529 0a20 2020 2063 6865  rt=True).    che
-00006760: 636b 5f66 696c 655f 6578 6973 745f 616e  ck_file_exist_an
-00006770: 645f 7265 6164 6162 6c65 2866 696c 655f  d_readable(file_
-00006780: 7061 7468 3d66 696c 655f 7061 7468 290a  path=file_path).
-00006790: 2020 2020 6469 722c 2066 696c 655f 6e61      dir, file_na
-000067a0: 6d65 2c20 6578 7420 3d20 6765 745f 666e  me, ext = get_fn
-000067b0: 5f65 7874 2866 696c 6570 6174 683d 6669  _ext(filepath=fi
-000067c0: 6c65 5f70 6174 6829 0a20 2020 2073 6176  le_path).    sav
-000067d0: 655f 6e61 6d65 203d 206f 732e 7061 7468  e_name = os.path
-000067e0: 2e6a 6f69 6e28 6469 722c 2066 696c 655f  .join(dir, file_
-000067f0: 6e61 6d65 202b 2022 5f70 6f77 6572 706f  name + "_powerpo
-00006800: 696e 7472 6561 6479 2e6d 7034 2229 0a20  intready.mp4"). 
-00006810: 2020 2069 6620 6f73 2e70 6174 682e 6973     if os.path.is
-00006820: 6669 6c65 2873 6176 655f 6e61 6d65 293a  file(save_name):
-00006830: 0a20 2020 2020 2020 2072 6169 7365 2046  .        raise F
-00006840: 696c 6545 7869 7374 4572 726f 7228 0a20  ileExistError(. 
-00006850: 2020 2020 2020 2020 2020 206d 7367 3d22             msg="
-00006860: 5349 4d42 4120 4552 524f 523a 2054 6865  SIMBA ERROR: The
-00006870: 206f 7574 6669 6c65 2066 696c 6520 616c   outfile file al
-00006880: 7265 6164 7920 6578 6973 743a 207b 7d2e  ready exist: {}.
-00006890: 222e 666f 726d 6174 2873 6176 655f 6e61  ".format(save_na
-000068a0: 6d65 292c 0a20 2020 2020 2020 2020 2020  me),.           
-000068b0: 2073 6f75 7263 653d 636f 6e76 6572 745f   source=convert_
-000068c0: 7669 6465 6f5f 706f 7765 7270 6f69 6e74  video_powerpoint
-000068d0: 5f63 6f6d 7061 7469 626c 655f 666f 726d  _compatible_form
-000068e0: 6174 2e5f 5f6e 616d 655f 5f2c 0a20 2020  at.__name__,.   
-000068f0: 2020 2020 2029 0a20 2020 2069 6620 6770       ).    if gp
-00006900: 753a 0a20 2020 2020 2020 2063 6f6d 6d61  u:.        comma
-00006910: 6e64 203d 2027 6666 6d70 6567 202d 6877  nd = 'ffmpeg -hw
-00006920: 6163 6365 6c20 6175 746f 202d 633a 7620  accel auto -c:v 
-00006930: 6832 3634 5f63 7576 6964 202d 6920 227b  h264_cuvid -i "{
-00006940: 7d22 202d 633a 7620 6832 3634 5f6e 7665  }" -c:v h264_nve
-00006950: 6e63 202d 7072 6573 6574 2073 6c6f 7720  nc -preset slow 
-00006960: 2d70 726f 6669 6c65 3a76 2068 6967 6820  -profile:v high 
-00006970: 2d6c 6576 656c 3a76 2034 2e30 202d 7069  -level:v 4.0 -pi
-00006980: 785f 666d 7420 7975 7634 3230 7020 2d63  x_fmt yuv420p -c
-00006990: 7266 2032 3220 2d63 3a61 2061 6163 2022  rf 22 -c:a aac "
-000069a0: 7b7d 2227 2e66 6f72 6d61 7428 0a20 2020  {}"'.format(.   
-000069b0: 2020 2020 2020 2020 2066 696c 655f 7061           file_pa
-000069c0: 7468 2c20 7361 7665 5f6e 616d 650a 2020  th, save_name.  
-000069d0: 2020 2020 2020 290a 2020 2020 656c 7365        ).    else
-000069e0: 3a0a 2020 2020 2020 2020 636f 6d6d 616e  :.        comman
-000069f0: 6420 3d20 6627 6666 6d70 6567 202d 6920  d = f'ffmpeg -i 
-00006a00: 227b 6669 6c65 5f70 6174 687d 2220 2d63  "{file_path}" -c
-00006a10: 3a76 206c 6962 7832 3634 202d 7072 6573  :v libx264 -pres
-00006a20: 6574 2073 6c6f 7720 2d70 726f 6669 6c65  et slow -profile
-00006a30: 3a76 2068 6967 6820 2d6c 6576 656c 3a76  :v high -level:v
-00006a40: 2034 2e30 202d 7069 785f 666d 7420 7975   4.0 -pix_fmt yu
-00006a50: 7634 3230 7020 2d63 7266 2032 3220 2d63  v420p -crf 22 -c
-00006a60: 3a76 206c 6962 7832 3634 202d 636f 6465  :v libx264 -code
-00006a70: 633a 6120 6161 6320 227b 7361 7665 5f6e  c:a aac "{save_n
-00006a80: 616d 657d 2220 2d79 270a 2020 2020 7072  ame}" -y'.    pr
-00006a90: 696e 7428 2243 7265 6174 696e 6720 7669  int("Creating vi
-00006aa0: 6465 6f20 696e 2070 6f77 6572 706f 696e  deo in powerpoin
-00006ab0: 7420 636f 6d70 6174 6962 6c65 2066 6f72  t compatible for
-00006ac0: 6d61 742e 2e2e 2022 290a 2020 2020 7375  mat... ").    su
-00006ad0: 6270 726f 6365 7373 2e63 616c 6c28 636f  bprocess.call(co
-00006ae0: 6d6d 616e 642c 2073 6865 6c6c 3d54 7275  mmand, shell=Tru
-00006af0: 652c 2073 7464 6f75 743d 7375 6270 726f  e, stdout=subpro
-00006b00: 6365 7373 2e50 4950 4529 0a20 2020 2074  cess.PIPE).    t
-00006b10: 696d 6572 2e73 746f 705f 7469 6d65 7228  imer.stop_timer(
-00006b20: 290a 2020 2020 7374 646f 7574 5f73 7563  ).    stdout_suc
-00006b30: 6365 7373 280a 2020 2020 2020 2020 6d73  cess(.        ms
-00006b40: 673d 6622 5349 4d42 4120 434f 4d50 4c45  g=f"SIMBA COMPLE
-00006b50: 5445 3a20 5669 6465 6f20 636f 6e76 6572  TE: Video conver
-00006b60: 7465 6421 207b 7361 7665 5f6e 616d 657d  ted! {save_name}
-00006b70: 2067 656e 6572 6174 6564 2122 2c0a 2020   generated!",.  
-00006b80: 2020 2020 2020 656c 6170 7365 645f 7469        elapsed_ti
-00006b90: 6d65 3d74 696d 6572 2e65 6c61 7073 6564  me=timer.elapsed
-00006ba0: 5f74 696d 655f 7374 722c 0a20 2020 2020  _time_str,.     
-00006bb0: 2020 2073 6f75 7263 653d 636f 6e76 6572     source=conver
-00006bc0: 745f 7669 6465 6f5f 706f 7765 7270 6f69  t_video_powerpoi
-00006bd0: 6e74 5f63 6f6d 7061 7469 626c 655f 666f  nt_compatible_fo
-00006be0: 726d 6174 2e5f 5f6e 616d 655f 5f2c 0a20  rmat.__name__,. 
-00006bf0: 2020 2029 0a0a 0a23 2063 6f6e 7665 7274     )...# convert
-00006c00: 5f76 6964 656f 5f70 6f77 6572 706f 696e  _video_powerpoin
-00006c10: 745f 636f 6d70 6174 6962 6c65 5f66 6f72  t_compatible_for
-00006c20: 6d61 7428 6669 6c65 5f70 6174 683d 7222  mat(file_path=r"
-00006c30: 2f55 7365 7273 2f73 696d 6f6e 2f44 6573  /Users/simon/Des
-00006c40: 6b74 6f70 2f65 6e76 732f 7369 6d62 612f  ktop/envs/simba/
-00006c50: 7472 6f75 626c 6573 686f 6f74 696e 672f  troubleshooting/
-00006c60: 6d6f 7573 655f 6f70 656e 5f66 6965 6c64  mouse_open_field
-00006c70: 2f70 726f 6a65 6374 5f66 6f6c 6465 722f  /project_folder/
-00006c80: 7669 6465 6f73 2f74 6573 742f 5349 5f44  videos/test/SI_D
-00006c90: 4159 335f 3330 385f 4344 315f 5052 4553  AY3_308_CD1_PRES
-00006ca0: 454e 545f 6670 735f 3130 5f66 7073 5f31  ENT_fps_10_fps_1
-00006cb0: 352e 6d70 3422 2c20 6770 753d 4661 6c73  5.mp4", gpu=Fals
-00006cc0: 6529 0a0a 230a 2320 6465 6620 636f 6e76  e)..#.# def conv
-00006cd0: 6572 745f 746f 5f6d 7034 2866 696c 655f  ert_to_mp4(file_
-00006ce0: 7061 7468 3a20 556e 696f 6e5b 7374 722c  path: Union[str,
-00006cf0: 206f 732e 5061 7468 4c69 6b65 5d2c 2067   os.PathLike], g
-00006d00: 7075 3a20 4f70 7469 6f6e 616c 5b62 6f6f  pu: Optional[boo
-00006d10: 6c5d 203d 2046 616c 7365 2920 2d3e 204e  l] = False) -> N
-00006d20: 6f6e 653a 0a23 2020 2020 2022 2222 0a23  one:.#     """.#
-00006d30: 2020 2020 2043 6f6e 7665 7274 2061 2076       Convert a v
-00006d40: 6964 656f 2066 696c 6520 746f 206d 7034  ideo file to mp4
-00006d50: 2066 6f72 6d61 742e 2054 6865 2072 6573   format. The res
-00006d60: 756c 7420 6973 2073 746f 7265 6420 696e  ult is stored in
-00006d70: 2074 6865 2073 616d 6520 6469 7265 6374   the same direct
-00006d80: 6f72 7920 6173 2074 6865 0a23 2020 2020  ory as the.#    
-00006d90: 2069 6e70 7574 2066 696c 6520 7769 7468   input file with
-00006da0: 2074 6865 2060 605f 636f 6e76 6572 7465   the ``_converte
-00006db0: 642e 6d70 3460 6020 7375 6666 6978 2e0a  d.mp4`` suffix..
-00006dc0: 230a 2320 2020 2020 3a70 6172 616d 6574  #.#     :paramet
-00006dd0: 6572 2055 6e69 6f6e 5b73 7472 2c20 6f73  er Union[str, os
-00006de0: 2e50 6174 684c 696b 655d 2066 696c 655f  .PathLike] file_
-00006df0: 7061 7468 3a20 5061 7468 2074 6f20 7669  path: Path to vi
-00006e00: 6465 6f20 6669 6c65 2e0a 2320 2020 2020  deo file..#     
-00006e10: 3a70 6172 616d 6574 6572 204f 7074 696f  :parameter Optio
-00006e20: 6e61 6c5b 626f 6f6c 5d20 6770 753a 2049  nal[bool] gpu: I
-00006e30: 6620 5472 7565 2c20 7573 6520 4e56 4944  f True, use NVID
-00006e40: 4541 2047 5055 2063 6f64 6563 732e 2044  EA GPU codecs. D
-00006e50: 6566 6175 6c74 2046 616c 7365 2e0a 230a  efault False..#.
-00006e60: 2320 2020 2020 3a65 7861 6d70 6c65 3a0a  #     :example:.
-00006e70: 2320 2020 2020 3e3e 3e20 5f20 3d20 636f  #     >>> _ = co
-00006e80: 6e76 6572 745f 746f 5f6d 7034 2866 696c  nvert_to_mp4(fil
-00006e90: 655f 7061 7468 3d27 7072 6f6a 6563 745f  e_path='project_
-00006ea0: 666f 6c64 6572 2f76 6964 656f 732f 5669  folder/videos/Vi
-00006eb0: 6465 6f5f 312e 6176 6927 290a 2320 2020  deo_1.avi').#   
-00006ec0: 2020 2222 220a 230a 2320 2020 2020 6368    """.#.#     ch
-00006ed0: 6563 6b5f 6666 6d70 6567 5f61 7661 696c  eck_ffmpeg_avail
-00006ee0: 6162 6c65 2872 6169 7365 5f65 7272 6f72  able(raise_error
-00006ef0: 3d54 7275 6529 0a23 2020 2020 2069 6620  =True).#     if 
-00006f00: 6770 7520 616e 6420 6e6f 7420 6368 6563  gpu and not chec
-00006f10: 6b5f 6e76 6964 6561 5f67 7075 5f61 7661  k_nvidea_gpu_ava
-00006f20: 696c 6162 6c65 2829 3a0a 2320 2020 2020  ilable():.#     
-00006f30: 2020 2020 7261 6973 6520 4646 4d50 4547      raise FFMPEG
-00006f40: 436f 6465 6347 5055 4572 726f 7228 0a23  CodecGPUError(.#
-00006f50: 2020 2020 2020 2020 2020 2020 206d 7367               msg
-00006f60: 3d22 4e6f 2047 5055 2066 6f75 6e64 2028  ="No GPU found (
-00006f70: 6173 2065 7661 6c75 6174 6564 2062 7920  as evaluated by 
-00006f80: 6e76 6964 6561 2d73 6d69 2072 6574 7572  nvidea-smi retur
-00006f90: 6e69 6e67 204e 6f6e 6529 222c 0a23 2020  ning None)",.#  
-00006fa0: 2020 2020 2020 2020 2020 2073 6f75 7263             sourc
-00006fb0: 653d 636f 6e76 6572 745f 746f 5f6d 7034  e=convert_to_mp4
-00006fc0: 2e5f 5f6e 616d 655f 5f2c 0a23 2020 2020  .__name__,.#    
-00006fd0: 2020 2020 2029 0a23 2020 2020 2074 696d       ).#     tim
-00006fe0: 6572 203d 2053 696d 6261 5469 6d65 7228  er = SimbaTimer(
-00006ff0: 7374 6172 743d 5472 7565 290a 2320 2020  start=True).#   
-00007000: 2020 6368 6563 6b5f 6669 6c65 5f65 7869    check_file_exi
-00007010: 7374 5f61 6e64 5f72 6561 6461 626c 6528  st_and_readable(
-00007020: 6669 6c65 5f70 6174 683d 6669 6c65 5f70  file_path=file_p
-00007030: 6174 6829 0a23 2020 2020 2064 6972 2c20  ath).#     dir, 
-00007040: 6669 6c65 5f6e 616d 652c 2065 7874 203d  file_name, ext =
-00007050: 2067 6574 5f66 6e5f 6578 7428 6669 6c65   get_fn_ext(file
-00007060: 7061 7468 3d66 696c 655f 7061 7468 290a  path=file_path).
-00007070: 2320 2020 2020 7361 7665 5f6e 616d 6520  #     save_name 
-00007080: 3d20 6f73 2e70 6174 682e 6a6f 696e 2864  = os.path.join(d
-00007090: 6972 2c20 6669 6c65 5f6e 616d 6520 2b20  ir, file_name + 
-000070a0: 225f 636f 6e76 6572 7465 642e 6d70 3422  "_converted.mp4"
-000070b0: 290a 2320 2020 2020 6966 206f 732e 7061  ).#     if os.pa
-000070c0: 7468 2e69 7366 696c 6528 7361 7665 5f6e  th.isfile(save_n
-000070d0: 616d 6529 3a0a 2320 2020 2020 2020 2020  ame):.#         
-000070e0: 7261 6973 6520 4669 6c65 4578 6973 7445  raise FileExistE
-000070f0: 7272 6f72 280a 2320 2020 2020 2020 2020  rror(.#         
-00007100: 2020 2020 6d73 673d 2253 494d 4241 2045      msg="SIMBA E
-00007110: 5252 4f52 3a20 5468 6520 6f75 7466 696c  RROR: The outfil
-00007120: 6520 6669 6c65 2061 6c72 6561 6479 2065  e file already e
-00007130: 7869 7374 3a20 7b7d 2e22 2e66 6f72 6d61  xist: {}.".forma
-00007140: 7428 7361 7665 5f6e 616d 6529 2c0a 2320  t(save_name),.# 
-00007150: 2020 2020 2020 2020 2020 2020 736f 7572              sour
-00007160: 6365 3d63 6f6e 7665 7274 5f74 6f5f 6d70  ce=convert_to_mp
-00007170: 342e 5f5f 6e61 6d65 5f5f 2c0a 2320 2020  4.__name__,.#   
-00007180: 2020 2020 2020 290a 2320 2020 2020 6966        ).#     if
-00007190: 2067 7075 3a0a 2320 2020 2020 2020 2020   gpu:.#         
-000071a0: 636f 6d6d 616e 6420 3d20 280a 2320 2020  command = (.#   
-000071b0: 2020 2020 2020 2020 2020 2766 666d 7065            'ffmpe
-000071c0: 6720 2d68 7761 6363 656c 2061 7574 6f20  g -hwaccel auto 
-000071d0: 2d63 3a76 2068 3236 345f 6375 7669 6420  -c:v h264_cuvid 
-000071e0: 2d69 2022 7b7d 2220 2d63 3a76 2068 3236  -i "{}" -c:v h26
-000071f0: 345f 6e76 656e 6320 227b 7d22 272e 666f  4_nvenc "{}"'.fo
-00007200: 726d 6174 280a 2320 2020 2020 2020 2020  rmat(.#         
-00007210: 2020 2020 2020 2020 6669 6c65 5f70 6174          file_pat
-00007220: 682c 2073 6176 655f 6e61 6d65 0a23 2020  h, save_name.#  
-00007230: 2020 2020 2020 2020 2020 2029 0a23 2020             ).#  
-00007240: 2020 2020 2020 2029 0a23 2020 2020 2065         ).#     e
-00007250: 6c73 653a 0a23 2020 2020 2020 2020 2063  lse:.#         c
-00007260: 6f6d 6d61 6e64 203d 2066 2766 666d 7065  ommand = f'ffmpe
-00007270: 6720 2d69 2022 7b66 696c 655f 7061 7468  g -i "{file_path
-00007280: 7d22 202d 633a 7620 6c69 6278 3236 3420  }" -c:v libx264 
-00007290: 227b 7361 7665 5f6e 616d 657d 2227 0a23  "{save_name}"'.#
-000072a0: 2020 2020 2070 7269 6e74 2822 436f 6e76       print("Conv
-000072b0: 6572 7469 6e67 2074 6f20 6d70 342e 2e2e  erting to mp4...
-000072c0: 2022 290a 2320 2020 2020 7375 6270 726f   ").#     subpro
-000072d0: 6365 7373 2e63 616c 6c28 636f 6d6d 616e  cess.call(comman
-000072e0: 642c 2073 6865 6c6c 3d54 7275 652c 2073  d, shell=True, s
-000072f0: 7464 6f75 743d 7375 6270 726f 6365 7373  tdout=subprocess
-00007300: 2e50 4950 4529 0a23 2020 2020 2074 696d  .PIPE).#     tim
-00007310: 6572 2e73 746f 705f 7469 6d65 7228 290a  er.stop_timer().
-00007320: 2320 2020 2020 7374 646f 7574 5f73 7563  #     stdout_suc
-00007330: 6365 7373 280a 2320 2020 2020 2020 2020  cess(.#         
-00007340: 6d73 673d 6622 5349 4d42 4120 434f 4d50  msg=f"SIMBA COMP
-00007350: 4c45 5445 3a20 5669 6465 6f20 636f 6e76  LETE: Video conv
-00007360: 6572 7465 6421 207b 7361 7665 5f6e 616d  erted! {save_nam
-00007370: 657d 2067 656e 6572 6174 6564 2122 2c0a  e} generated!",.
-00007380: 2320 2020 2020 2020 2020 656c 6170 7365  #         elapse
-00007390: 645f 7469 6d65 3d74 696d 6572 2e65 6c61  d_time=timer.ela
-000073a0: 7073 6564 5f74 696d 655f 7374 722c 0a23  psed_time_str,.#
-000073b0: 2020 2020 2020 2020 2073 6f75 7263 653d           source=
-000073c0: 636f 6e76 6572 745f 746f 5f6d 7034 2e5f  convert_to_mp4._
-000073d0: 5f6e 616d 655f 5f2c 0a23 2020 2020 2029  _name__,.#     )
-000073e0: 0a0a 0a64 6566 2076 6964 656f 5f74 6f5f  ...def video_to_
-000073f0: 6772 6579 7363 616c 6528 6669 6c65 5f70  greyscale(file_p
-00007400: 6174 683a 2055 6e69 6f6e 5b73 7472 2c20  ath: Union[str, 
-00007410: 6f73 2e50 6174 684c 696b 655d 2c20 6770  os.PathLike], gp
-00007420: 753a 204f 7074 696f 6e61 6c5b 626f 6f6c  u: Optional[bool
-00007430: 5d20 3d20 4661 6c73 6529 202d 3e20 4e6f  ] = False) -> No
-00007440: 6e65 3a0a 2020 2020 2222 220a 2020 2020  ne:.    """.    
-00007450: 436f 6e76 6572 7420 6120 7669 6465 6f20  Convert a video 
-00007460: 6669 6c65 2074 6f20 6772 6579 7363 616c  file to greyscal
-00007470: 6520 6d70 3420 666f 726d 6174 2e20 5468  e mp4 format. Th
-00007480: 6520 7265 7375 6c74 2069 7320 7374 6f72  e result is stor
-00007490: 6564 2069 6e20 7468 6520 7361 6d65 2064  ed in the same d
-000074a0: 6972 6563 746f 7279 2061 7320 7468 650a  irectory as the.
-000074b0: 2020 2020 696e 7075 7420 6669 6c65 2077      input file w
-000074c0: 6974 6820 7468 6520 6060 5f67 7261 7973  ith the ``_grays
-000074d0: 6361 6c65 2e6d 7034 6060 2073 7566 6669  cale.mp4`` suffi
-000074e0: 782e 0a0a 2020 2020 2e2e 2069 6d61 6765  x...    .. image
-000074f0: 3a3a 205f 7374 6174 6963 2f69 6d67 2f74  :: _static/img/t
-00007500: 6f5f 6772 6579 7363 616c 652e 6769 660a  o_greyscale.gif.
-00007510: 2020 2020 2020 203a 7769 6474 683a 2037         :width: 7
-00007520: 3030 0a20 2020 2020 2020 3a61 6c69 676e  00.       :align
-00007530: 3a20 6365 6e74 6572 0a0a 2020 2020 3a70  : center..    :p
-00007540: 6172 616d 6574 6572 2055 6e69 6f6e 5b73  arameter Union[s
-00007550: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
-00007560: 2066 696c 655f 7061 7468 3a20 5061 7468   file_path: Path
-00007570: 2074 6f20 7669 6465 6f20 6669 6c65 2e0a   to video file..
-00007580: 2020 2020 3a70 6172 616d 6574 6572 204f      :parameter O
-00007590: 7074 696f 6e61 6c5b 626f 6f6c 5d20 6770  ptional[bool] gp
-000075a0: 753a 2049 6620 5472 7565 2c20 7573 6520  u: If True, use 
-000075b0: 4e56 4944 4541 2047 5055 2063 6f64 6563  NVIDEA GPU codec
-000075c0: 732e 2044 6566 6175 6c74 2046 616c 7365  s. Default False
-000075d0: 2e0a 2020 2020 3a72 6169 7365 2046 464d  ..    :raise FFM
-000075e0: 5045 4743 6f64 6563 4750 5545 7272 6f72  PEGCodecGPUError
-000075f0: 3a20 4966 206e 6f20 4750 5520 6973 2066  : If no GPU is f
-00007600: 6f75 6e64 2061 6e64 2060 6067 7075 203d  ound and ``gpu =
-00007610: 3d20 5472 7565 6060 2e0a 2020 2020 3a72  = True``..    :r
-00007620: 6169 7365 2046 696c 6545 7869 7374 4572  aise FileExistEr
-00007630: 726f 723a 2049 6620 7669 6465 6f20 6e61  ror: If video na
-00007640: 6d65 2077 6974 6820 6060 5f67 7261 7973  me with ``_grays
-00007650: 6361 6c65 6060 2073 7566 6669 7820 616c  cale`` suffix al
-00007660: 7265 6164 7920 6578 6973 742e 0a0a 2020  ready exist...  
-00007670: 2020 3a65 7861 6d70 6c65 3a0a 2020 2020    :example:.    
-00007680: 3e3e 3e20 5f20 3d20 7669 6465 6f5f 746f  >>> _ = video_to
-00007690: 5f67 7265 7973 6361 6c65 2866 696c 655f  _greyscale(file_
-000076a0: 7061 7468 3d27 7072 6f6a 6563 745f 666f  path='project_fo
-000076b0: 6c64 6572 2f76 6964 656f 732f 5669 6465  lder/videos/Vide
-000076c0: 6f5f 312e 6176 6927 290a 2020 2020 2222  o_1.avi').    ""
-000076d0: 220a 2020 2020 6368 6563 6b5f 6666 6d70  ".    check_ffmp
-000076e0: 6567 5f61 7661 696c 6162 6c65 2872 6169  eg_available(rai
-000076f0: 7365 5f65 7272 6f72 3d54 7275 6529 0a20  se_error=True). 
-00007700: 2020 2069 6620 6770 7520 616e 6420 6e6f     if gpu and no
-00007710: 7420 6368 6563 6b5f 6e76 6964 6561 5f67  t check_nvidea_g
-00007720: 7075 5f61 7661 696c 6162 6c65 2829 3a0a  pu_available():.
-00007730: 2020 2020 2020 2020 7261 6973 6520 4646          raise FF
-00007740: 4d50 4547 436f 6465 6347 5055 4572 726f  MPEGCodecGPUErro
-00007750: 7228 0a20 2020 2020 2020 2020 2020 206d  r(.            m
-00007760: 7367 3d22 4e6f 2047 5055 2066 6f75 6e64  sg="No GPU found
-00007770: 2028 6173 2065 7661 6c75 6174 6564 2062   (as evaluated b
-00007780: 7920 6e76 6964 6561 2d73 6d69 2072 6574  y nvidea-smi ret
-00007790: 7572 6e69 6e67 204e 6f6e 6529 222c 0a20  urning None)",. 
-000077a0: 2020 2020 2020 2020 2020 2073 6f75 7263             sourc
-000077b0: 653d 7669 6465 6f5f 746f 5f67 7265 7973  e=video_to_greys
-000077c0: 6361 6c65 2e5f 5f6e 616d 655f 5f2c 0a20  cale.__name__,. 
-000077d0: 2020 2020 2020 2029 0a20 2020 2074 696d         ).    tim
-000077e0: 6572 203d 2053 696d 6261 5469 6d65 7228  er = SimbaTimer(
-000077f0: 7374 6172 743d 5472 7565 290a 2020 2020  start=True).    
-00007800: 6368 6563 6b5f 6669 6c65 5f65 7869 7374  check_file_exist
-00007810: 5f61 6e64 5f72 6561 6461 626c 6528 6669  _and_readable(fi
-00007820: 6c65 5f70 6174 683d 6669 6c65 5f70 6174  le_path=file_pat
-00007830: 6829 0a20 2020 2064 6972 2c20 6669 6c65  h).    dir, file
-00007840: 5f6e 616d 652c 2065 7874 203d 2067 6574  _name, ext = get
-00007850: 5f66 6e5f 6578 7428 6669 6c65 7061 7468  _fn_ext(filepath
-00007860: 3d66 696c 655f 7061 7468 290a 2020 2020  =file_path).    
-00007870: 7361 7665 5f6e 616d 6520 3d20 6f73 2e70  save_name = os.p
-00007880: 6174 682e 6a6f 696e 2864 6972 2c20 6669  ath.join(dir, fi
-00007890: 6c65 5f6e 616d 6520 2b20 225f 6772 6179  le_name + "_gray
-000078a0: 7363 616c 652e 6d70 3422 290a 2020 2020  scale.mp4").    
-000078b0: 6966 206f 732e 7061 7468 2e69 7366 696c  if os.path.isfil
-000078c0: 6528 7361 7665 5f6e 616d 6529 3a0a 2020  e(save_name):.  
-000078d0: 2020 2020 2020 7261 6973 6520 4669 6c65        raise File
-000078e0: 4578 6973 7445 7272 6f72 280a 2020 2020  ExistError(.    
-000078f0: 2020 2020 2020 2020 6d73 673d 2253 494d          msg="SIM
-00007900: 4241 2045 5252 4f52 3a20 5468 6520 6f75  BA ERROR: The ou
-00007910: 7466 696c 6520 6669 6c65 2061 6c72 6561  tfile file alrea
-00007920: 6479 2065 7869 7374 3a20 7b7d 2e22 2e66  dy exist: {}.".f
-00007930: 6f72 6d61 7428 7361 7665 5f6e 616d 6529  ormat(save_name)
-00007940: 2c0a 2020 2020 2020 2020 2020 2020 736f  ,.            so
-00007950: 7572 6365 3d76 6964 656f 5f74 6f5f 6772  urce=video_to_gr
-00007960: 6579 7363 616c 652e 5f5f 6e61 6d65 5f5f  eyscale.__name__
-00007970: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
-00007980: 6966 2067 7075 3a0a 2020 2020 2020 2020  if gpu:.        
-00007990: 636f 6d6d 616e 6420 3d20 6627 6666 6d70  command = f'ffmp
-000079a0: 6567 202d 6877 6163 6365 6c20 6175 746f  eg -hwaccel auto
-000079b0: 202d 633a 7620 6832 3634 5f63 7576 6964   -c:v h264_cuvid
-000079c0: 202d 6920 227b 6669 6c65 5f70 6174 687d   -i "{file_path}
-000079d0: 2220 2d76 6620 2268 7775 706c 6f61 645f  " -vf "hwupload_
-000079e0: 6375 6461 2c68 7764 6f77 6e6c 6f61 642c  cuda,hwdownload,
-000079f0: 666f 726d 6174 3d6e 7631 322c 666f 726d  format=nv12,form
-00007a00: 6174 3d67 7261 7922 202d 633a 7620 6832  at=gray" -c:v h2
-00007a10: 3634 5f6e 7665 6e63 202d 633a 6120 636f  64_nvenc -c:a co
-00007a20: 7079 2022 7b73 6176 655f 6e61 6d65 7d22  py "{save_name}"
-00007a30: 270a 2020 2020 656c 7365 3a0a 2020 2020  '.    else:.    
-00007a40: 2020 2020 636f 6d6d 616e 6420 3d20 6627      command = f'
-00007a50: 6666 6d70 6567 202d 6920 227b 6669 6c65  ffmpeg -i "{file
-00007a60: 5f70 6174 687d 2220 2d76 6620 666f 726d  _path}" -vf form
-00007a70: 6174 3d67 7261 7920 2d63 3a76 206c 6962  at=gray -c:v lib
-00007a80: 7832 3634 2022 7b73 6176 655f 6e61 6d65  x264 "{save_name
-00007a90: 7d22 270a 2020 2020 7072 696e 7428 6622  }"'.    print(f"
-00007aa0: 436f 6e76 6572 7469 6e67 207b 6669 6c65  Converting {file
-00007ab0: 5f6e 616d 657d 2074 6f20 6772 6579 7363  _name} to greysc
-00007ac0: 616c 652e 2e2e 2022 290a 2020 2020 7375  ale... ").    su
-00007ad0: 6270 726f 6365 7373 2e63 616c 6c28 636f  bprocess.call(co
-00007ae0: 6d6d 616e 642c 2073 6865 6c6c 3d54 7275  mmand, shell=Tru
-00007af0: 652c 2073 7464 6f75 743d 7375 6270 726f  e, stdout=subpro
-00007b00: 6365 7373 2e50 4950 4529 0a20 2020 2074  cess.PIPE).    t
-00007b10: 696d 6572 2e73 746f 705f 7469 6d65 7228  imer.stop_timer(
-00007b20: 290a 2020 2020 7374 646f 7574 5f73 7563  ).    stdout_suc
-00007b30: 6365 7373 280a 2020 2020 2020 2020 6d73  cess(.        ms
-00007b40: 673d 6622 5349 4d42 4120 434f 4d50 4c45  g=f"SIMBA COMPLE
-00007b50: 5445 3a20 5669 6465 6f20 636f 6e76 6572  TE: Video conver
-00007b60: 7465 6421 207b 7361 7665 5f6e 616d 657d  ted! {save_name}
-00007b70: 2067 656e 6572 6174 6564 2122 2c0a 2020   generated!",.  
-00007b80: 2020 2020 2020 656c 6170 7365 645f 7469        elapsed_ti
-00007b90: 6d65 3d74 696d 6572 2e65 6c61 7073 6564  me=timer.elapsed
-00007ba0: 5f74 696d 655f 7374 722c 0a20 2020 2020  _time_str,.     
-00007bb0: 2020 2073 6f75 7263 653d 7669 6465 6f5f     source=video_
-00007bc0: 746f 5f67 7265 7973 6361 6c65 2e5f 5f6e  to_greyscale.__n
-00007bd0: 616d 655f 5f2c 0a20 2020 2029 0a0a 0a64  ame__,.    )...d
-00007be0: 6566 2062 6174 6368 5f76 6964 656f 5f74  ef batch_video_t
-00007bf0: 6f5f 6772 6579 7363 616c 6528 6469 7265  o_greyscale(dire
-00007c00: 6374 6f72 793a 2055 6e69 6f6e 5b73 7472  ctory: Union[str
-00007c10: 2c20 6f73 2e50 6174 684c 696b 655d 2c20  , os.PathLike], 
-00007c20: 6770 753a 204f 7074 696f 6e61 6c5b 626f  gpu: Optional[bo
-00007c30: 6f6c 5d20 3d20 4661 6c73 6529 202d 3e20  ol] = False) -> 
-00007c40: 4e6f 6e65 3a0a 2020 2020 2222 220a 2020  None:.    """.  
-00007c50: 2020 436f 6e76 6572 7420 6120 6469 7265    Convert a dire
-00007c60: 6374 6f72 7920 6f66 2076 6964 656f 2066  ctory of video f
-00007c70: 696c 6520 746f 2067 7265 7973 6361 6c65  ile to greyscale
-00007c80: 206d 7034 2066 6f72 6d61 742e 2054 6865   mp4 format. The
-00007c90: 2072 6573 756c 7473 2061 7265 2073 746f   results are sto
-00007ca0: 7265 6420 696e 2074 6865 2073 616d 6520  red in the same 
-00007cb0: 6469 7265 6374 6f72 7920 6173 2074 6865  directory as the
-00007cc0: 0a20 2020 2069 6e70 7574 2066 696c 6573  .    input files
-00007cd0: 2077 6974 6820 7468 6520 6060 5f67 7261   with the ``_gra
-00007ce0: 7973 6361 6c65 2e6d 7034 6060 2073 7566  yscale.mp4`` suf
-00007cf0: 6669 782e 0a0a 2020 2020 2e2e 2069 6d61  fix...    .. ima
-00007d00: 6765 3a3a 205f 7374 6174 6963 2f69 6d67  ge:: _static/img
-00007d10: 2f74 6f5f 6772 6579 7363 616c 652e 6769  /to_greyscale.gi
-00007d20: 660a 2020 2020 2020 203a 7769 6474 683a  f.       :width:
-00007d30: 2037 3030 0a20 2020 2020 2020 3a61 6c69   700.       :ali
-00007d40: 676e 3a20 6365 6e74 6572 0a0a 2020 2020  gn: center..    
-00007d50: 3a70 6172 616d 6574 6572 2055 6e69 6f6e  :parameter Union
-00007d60: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
-00007d70: 655d 2064 6972 6563 746f 7279 3a20 5061  e] directory: Pa
-00007d80: 7468 2074 6f20 6469 7265 6374 6f72 7920  th to directory 
-00007d90: 686f 6c64 696e 6720 7669 6465 6f20 6669  holding video fi
-00007da0: 6c65 7320 696e 2063 6f6c 6f72 2e0a 2020  les in color..  
-00007db0: 2020 3a70 6172 616d 6574 6572 204f 7074    :parameter Opt
-00007dc0: 696f 6e61 6c5b 626f 6f6c 5d20 6770 753a  ional[bool] gpu:
-00007dd0: 2049 6620 5472 7565 2c20 7573 6520 4e56   If True, use NV
-00007de0: 4944 4541 2047 5055 2063 6f64 6563 732e  IDEA GPU codecs.
-00007df0: 2044 6566 6175 6c74 2046 616c 7365 2e0a   Default False..
-00007e00: 2020 2020 3a72 6169 7365 2046 464d 5045      :raise FFMPE
-00007e10: 4743 6f64 6563 4750 5545 7272 6f72 3a20  GCodecGPUError: 
-00007e20: 4966 206e 6f20 4750 5520 6973 2066 6f75  If no GPU is fou
-00007e30: 6e64 2061 6e64 2060 6067 7075 203d 3d20  nd and ``gpu == 
-00007e40: 5472 7565 6060 2e0a 0a20 2020 203a 6578  True``...    :ex
-00007e50: 616d 706c 653a 0a20 2020 203e 3e3e 205f  ample:.    >>> _
-00007e60: 203d 2062 6174 6368 5f76 6964 656f 5f74   = batch_video_t
-00007e70: 6f5f 6772 6579 7363 616c 6528 6469 7265  o_greyscale(dire
-00007e80: 6374 6f72 793d 272f 5573 6572 732f 7369  ctory='/Users/si
-00007e90: 6d6f 6e2f 4465 736b 746f 702f 656e 7673  mon/Desktop/envs
-00007ea0: 2f73 696d 6261 2f74 726f 7562 6c65 7368  /simba/troublesh
-00007eb0: 6f6f 7469 6e67 2f6d 6f75 7365 5f6f 7065  ooting/mouse_ope
-00007ec0: 6e5f 6669 656c 642f 7072 6f6a 6563 745f  n_field/project_
-00007ed0: 666f 6c64 6572 2f76 6964 656f 732f 7465  folder/videos/te
-00007ee0: 7374 5f32 2729 0a20 2020 2022 2222 0a20  st_2').    """. 
-00007ef0: 2020 2063 6865 636b 5f66 666d 7065 675f     check_ffmpeg_
-00007f00: 6176 6169 6c61 626c 6528 7261 6973 655f  available(raise_
-00007f10: 6572 726f 723d 5472 7565 290a 2020 2020  error=True).    
-00007f20: 6966 2067 7075 2061 6e64 206e 6f74 2063  if gpu and not c
-00007f30: 6865 636b 5f6e 7669 6465 615f 6770 755f  heck_nvidea_gpu_
-00007f40: 6176 6169 6c61 626c 6528 293a 0a20 2020  available():.   
-00007f50: 2020 2020 2072 6169 7365 2046 464d 5045       raise FFMPE
-00007f60: 4743 6f64 6563 4750 5545 7272 6f72 280a  GCodecGPUError(.
-00007f70: 2020 2020 2020 2020 2020 2020 6d73 673d              msg=
-00007f80: 224e 6f20 4750 5520 666f 756e 6420 2861  "No GPU found (a
-00007f90: 7320 6576 616c 7561 7465 6420 6279 206e  s evaluated by n
-00007fa0: 7669 6465 612d 736d 6920 7265 7475 726e  videa-smi return
-00007fb0: 696e 6720 4e6f 6e65 2922 2c0a 2020 2020  ing None)",.    
-00007fc0: 2020 2020 2020 2020 736f 7572 6365 3d62          source=b
-00007fd0: 6174 6368 5f76 6964 656f 5f74 6f5f 6772  atch_video_to_gr
-00007fe0: 6579 7363 616c 652e 5f5f 6e61 6d65 5f5f  eyscale.__name__
-00007ff0: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
-00008000: 7469 6d65 7220 3d20 5369 6d62 6154 696d  timer = SimbaTim
-00008010: 6572 2873 7461 7274 3d54 7275 6529 0a20  er(start=True). 
-00008020: 2020 2063 6865 636b 5f69 665f 6469 725f     check_if_dir_
-00008030: 6578 6973 7473 2869 6e5f 6469 723d 6469  exists(in_dir=di
-00008040: 7265 6374 6f72 792c 2073 6f75 7263 653d  rectory, source=
-00008050: 6261 7463 685f 7669 6465 6f5f 746f 5f67  batch_video_to_g
-00008060: 7265 7973 6361 6c65 2e5f 5f6e 616d 655f  reyscale.__name_
-00008070: 5f29 0a20 2020 2076 6964 656f 5f70 6174  _).    video_pat
-00008080: 6873 203d 2066 696e 645f 616c 6c5f 7669  hs = find_all_vi
-00008090: 6465 6f73 5f69 6e5f 6469 7265 6374 6f72  deos_in_director
-000080a0: 7928 0a20 2020 2020 2020 2064 6972 6563  y(.        direc
-000080b0: 746f 7279 3d64 6972 6563 746f 7279 2c20  tory=directory, 
-000080c0: 6173 5f64 6963 743d 5472 7565 2c20 7261  as_dict=True, ra
-000080d0: 6973 655f 6572 726f 723d 5472 7565 0a20  ise_error=True. 
-000080e0: 2020 2029 0a20 2020 2066 6f72 2066 696c     ).    for fil
-000080f0: 655f 636e 742c 2028 6669 6c65 5f6e 616d  e_cnt, (file_nam
-00008100: 652c 2066 696c 655f 7061 7468 2920 696e  e, file_path) in
-00008110: 2065 6e75 6d65 7261 7465 2876 6964 656f   enumerate(video
-00008120: 5f70 6174 6873 2e69 7465 6d73 2829 293a  _paths.items()):
-00008130: 0a20 2020 2020 2020 2076 6964 656f 5f74  .        video_t
-00008140: 696d 6572 203d 2053 696d 6261 5469 6d65  imer = SimbaTime
-00008150: 7228 7374 6172 743d 5472 7565 290a 2020  r(start=True).  
-00008160: 2020 2020 2020 696e 5f64 6972 2c20 5f2c        in_dir, _,
-00008170: 205f 203d 2067 6574 5f66 6e5f 6578 7428   _ = get_fn_ext(
-00008180: 6669 6c65 7061 7468 3d66 696c 655f 7061  filepath=file_pa
-00008190: 7468 290a 2020 2020 2020 2020 7361 7665  th).        save
-000081a0: 5f6e 616d 6520 3d20 6f73 2e70 6174 682e  _name = os.path.
-000081b0: 6a6f 696e 2869 6e5f 6469 722c 2066 227b  join(in_dir, f"{
-000081c0: 6669 6c65 5f6e 616d 657d 5f67 7261 7973  file_name}_grays
-000081d0: 6361 6c65 2e6d 7034 2229 0a20 2020 2020  cale.mp4").     
-000081e0: 2020 2069 6620 6770 753a 0a20 2020 2020     if gpu:.     
-000081f0: 2020 2020 2020 2063 6f6d 6d61 6e64 203d         command =
-00008200: 2066 2766 666d 7065 6720 2d68 7761 6363   f'ffmpeg -hwacc
-00008210: 656c 2061 7574 6f20 2d63 3a76 2068 3236  el auto -c:v h26
-00008220: 345f 6375 7669 6420 2d69 2022 7b66 696c  4_cuvid -i "{fil
-00008230: 655f 7061 7468 7d22 202d 7666 2022 6877  e_path}" -vf "hw
-00008240: 7570 6c6f 6164 5f63 7564 612c 6877 646f  upload_cuda,hwdo
-00008250: 776e 6c6f 6164 2c66 6f72 6d61 743d 6e76  wnload,format=nv
-00008260: 3132 2c66 6f72 6d61 743d 6772 6179 2220  12,format=gray" 
-00008270: 2d63 3a76 2068 3236 345f 6e76 656e 6320  -c:v h264_nvenc 
-00008280: 2d63 3a61 2063 6f70 7920 227b 7361 7665  -c:a copy "{save
-00008290: 5f6e 616d 657d 2220 2d79 270a 2020 2020  _name}" -y'.    
-000082a0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-000082b0: 2020 2020 2020 636f 6d6d 616e 6420 3d20        command = 
-000082c0: 6627 6666 6d70 6567 202d 6920 227b 6669  f'ffmpeg -i "{fi
-000082d0: 6c65 5f70 6174 687d 2220 2d76 6620 666f  le_path}" -vf fo
-000082e0: 726d 6174 3d67 7261 7920 2d63 3a76 206c  rmat=gray -c:v l
-000082f0: 6962 7832 3634 2022 7b73 6176 655f 6e61  ibx264 "{save_na
-00008300: 6d65 7d22 202d 6869 6465 5f62 616e 6e65  me}" -hide_banne
-00008310: 7220 2d6c 6f67 6c65 7665 6c20 6572 726f  r -loglevel erro
-00008320: 7220 2d79 270a 2020 2020 2020 2020 7072  r -y'.        pr
-00008330: 696e 7428 0a20 2020 2020 2020 2020 2020  int(.           
-00008340: 2066 2243 6f6e 7665 7274 696e 6720 7b66   f"Converting {f
-00008350: 696c 655f 6e61 6d65 7d20 746f 2067 7265  ile_name} to gre
-00008360: 7973 6361 6c65 2028 5669 6465 6f20 7b66  yscale (Video {f
-00008370: 696c 655f 636e 742b 317d 2f7b 6c65 6e28  ile_cnt+1}/{len(
-00008380: 6c69 7374 2876 6964 656f 5f70 6174 6873  list(video_paths
-00008390: 2e6b 6579 7328 2929 297d 292e 2e2e 2022  .keys()))})... "
-000083a0: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
-000083b0: 2020 2073 7562 7072 6f63 6573 732e 6361     subprocess.ca
-000083c0: 6c6c 2863 6f6d 6d61 6e64 2c20 7368 656c  ll(command, shel
-000083d0: 6c3d 5472 7565 2c20 7374 646f 7574 3d73  l=True, stdout=s
-000083e0: 7562 7072 6f63 6573 732e 5049 5045 290a  ubprocess.PIPE).
-000083f0: 2020 2020 2020 2020 7669 6465 6f5f 7469          video_ti
-00008400: 6d65 722e 7374 6f70 5f74 696d 6572 2829  mer.stop_timer()
-00008410: 0a20 2020 2020 2020 2070 7269 6e74 280a  .        print(.
-00008420: 2020 2020 2020 2020 2020 2020 6622 5669              f"Vi
-00008430: 6465 6f20 7b73 6176 655f 6e61 6d65 7d20  deo {save_name} 
-00008440: 636f 6d70 6c65 7465 2c20 2865 6c61 7073  complete, (elaps
-00008450: 6564 2074 696d 653a 207b 7669 6465 6f5f  ed time: {video_
-00008460: 7469 6d65 722e 656c 6170 7365 645f 7469  timer.elapsed_ti
-00008470: 6d65 5f73 7472 7d73 2922 0a20 2020 2020  me_str}s)".     
-00008480: 2020 2029 0a20 2020 2074 696d 6572 2e73     ).    timer.s
-00008490: 746f 705f 7469 6d65 7228 290a 2020 2020  top_timer().    
-000084a0: 7374 646f 7574 5f73 7563 6365 7373 280a  stdout_success(.
-000084b0: 2020 2020 2020 2020 6d73 673d 6622 7b6c          msg=f"{l
-000084c0: 656e 286c 6973 7428 7669 6465 6f5f 7061  en(list(video_pa
-000084d0: 7468 732e 6b65 7973 2829 2929 7d20 7669  ths.keys()))} vi
-000084e0: 6465 6f28 7329 2063 6f6e 7665 7274 6564  deo(s) converted
-000084f0: 2074 6f20 6772 6573 7973 6361 6c65 2120   to gresyscale! 
-00008500: 5361 7665 6420 696e 207b 6469 7265 6374  Saved in {direct
-00008510: 6f72 797d 2077 6974 6820 275f 6772 6579  ory} with '_grey
-00008520: 7363 616c 6527 2073 7566 6669 7822 2c0a  scale' suffix",.
-00008530: 2020 2020 2020 2020 656c 6170 7365 645f          elapsed_
-00008540: 7469 6d65 3d74 696d 6572 2e65 6c61 7073  time=timer.elaps
-00008550: 6564 5f74 696d 655f 7374 722c 0a20 2020  ed_time_str,.   
-00008560: 2020 2020 2073 6f75 7263 653d 6261 7463       source=batc
-00008570: 685f 7669 6465 6f5f 746f 5f67 7265 7973  h_video_to_greys
-00008580: 6361 6c65 2e5f 5f6e 616d 655f 5f2c 0a20  cale.__name__,. 
-00008590: 2020 2029 0a0a 0a64 6566 2073 7570 6572     )...def super
-000085a0: 696d 706f 7365 5f66 7261 6d65 5f63 6f75  impose_frame_cou
-000085b0: 6e74 2866 696c 655f 7061 7468 3a20 556e  nt(file_path: Un
-000085c0: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
-000085d0: 4c69 6b65 5d2c 0a20 2020 2020 2020 2020  Like],.         
-000085e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000085f0: 2020 2067 7075 3a20 4f70 7469 6f6e 616c     gpu: Optional
-00008600: 5b62 6f6f 6c5d 203d 2046 616c 7365 2c0a  [bool] = False,.
-00008610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008620: 2020 2020 2020 2020 2020 2020 666f 6e74              font
-00008630: 3a20 4f70 7469 6f6e 616c 5b73 7472 5d20  : Optional[str] 
-00008640: 3d20 2741 7269 616c 272c 0a20 2020 2020  = 'Arial',.     
-00008650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008660: 2020 2020 2020 2066 6f6e 745f 636f 6c6f         font_colo
-00008670: 723a 204f 7074 696f 6e61 6c5b 7374 725d  r: Optional[str]
-00008680: 203d 2027 626c 6163 6b27 2c0a 2020 2020   = 'black',.    
-00008690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000086a0: 2020 2020 2020 2020 6267 5f63 6f6c 6f72          bg_color
-000086b0: 3a20 4f70 7469 6f6e 616c 5b73 7472 5d20  : Optional[str] 
-000086c0: 3d20 2777 6869 7465 272c 0a20 2020 2020  = 'white',.     
-000086d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000086e0: 2020 2020 2020 2066 6f6e 7473 697a 653a         fontsize:
-000086f0: 204f 7074 696f 6e61 6c5b 696e 745d 203d   Optional[int] =
-00008700: 2032 3029 202d 3e20 4e6f 6e65 3a0a 2020   20) -> None:.  
-00008710: 2020 2222 220a 2020 2020 5375 7065 7269    """.    Superi
-00008720: 6d70 6f73 6520 6672 616d 6520 636f 756e  mpose frame coun
-00008730: 7420 6f6e 2061 2076 6964 656f 2066 696c  t on a video fil
-00008740: 652e 2054 6865 2072 6573 756c 7420 6973  e. The result is
-00008750: 2073 746f 7265 6420 696e 2074 6865 2073   stored in the s
-00008760: 616d 6520 6469 7265 6374 6f72 7920 6173  ame directory as
-00008770: 2074 6865 0a20 2020 2069 6e70 7574 2066   the.    input f
-00008780: 696c 6520 7769 7468 2074 6865 2060 605f  ile with the ``_
-00008790: 6672 616d 655f 6e6f 2e6d 7034 6060 2073  frame_no.mp4`` s
-000087a0: 7566 6669 782e 0a0a 2020 2020 2e2e 2069  uffix...    .. i
-000087b0: 6d61 6765 3a3a 205f 7374 6174 6963 2f69  mage:: _static/i
-000087c0: 6d67 2f73 7570 6572 696d 706f 7365 5f66  mg/superimpose_f
-000087d0: 7261 6d65 5f63 6f75 6e74 2e70 6e67 0a20  rame_count.png. 
-000087e0: 2020 2020 2020 3a77 6964 7468 3a20 3730        :width: 70
-000087f0: 300a 2020 2020 2020 203a 616c 6967 6e3a  0.       :align:
-00008800: 2063 656e 7465 720a 0a20 2020 202e 2e20   center..    .. 
-00008810: 696d 6167 653a 3a20 5f73 7461 7469 632f  image:: _static/
-00008820: 696d 672f 7375 7065 7269 6d70 6f73 655f  img/superimpose_
-00008830: 6672 616d 655f 636f 756e 742e 6769 660a  frame_count.gif.
-00008840: 2020 2020 2020 203a 7769 6474 683a 2035         :width: 5
-00008850: 3030 0a20 2020 2020 2020 3a61 6c69 676e  00.       :align
-00008860: 3a20 6365 6e74 6572 0a0a 2020 2020 3a70  : center..    :p
-00008870: 6172 616d 6574 6572 2055 6e69 6f6e 5b73  arameter Union[s
-00008880: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
-00008890: 2066 696c 655f 7061 7468 3a20 5061 7468   file_path: Path
-000088a0: 2074 6f20 7669 6465 6f20 6669 6c65 2e0a   to video file..
-000088b0: 2020 2020 3a70 6172 616d 6574 6572 204f      :parameter O
-000088c0: 7074 696f 6e61 6c5b 626f 6f6c 5d20 6770  ptional[bool] gp
-000088d0: 753a 2049 6620 5472 7565 2c20 7573 6520  u: If True, use 
-000088e0: 4e56 4944 4541 2047 5055 2063 6f64 6563  NVIDEA GPU codec
-000088f0: 732e 2044 6566 6175 6c74 2046 616c 7365  s. Default False
-00008900: 2e0a 2020 2020 3a70 6172 616d 6574 6572  ..    :parameter
-00008910: 204f 7074 696f 6e61 6c5b 696e 745d 2066   Optional[int] f
-00008920: 6f6e 7473 697a 653a 2054 6865 2073 697a  ontsize: The siz
-00008930: 6520 6f66 2074 6865 2066 6f6e 7420 7265  e of the font re
-00008940: 7072 6573 6574 6e74 696e 6720 7468 6520  presetnting the 
-00008950: 6375 7272 656e 7420 6672 616d 652e 2044  current frame. D
-00008960: 6566 6175 6c74 3a20 3230 2e0a 2020 2020  efault: 20..    
-00008970: 3a70 6172 616d 6574 6572 204f 7074 696f  :parameter Optio
-00008980: 6e61 6c5b 7374 725d 2066 6f6e 745f 636f  nal[str] font_co
-00008990: 6c6f 723a 2054 6865 2063 6f6c 6f72 206f  lor: The color o
-000089a0: 6620 6672 616d 6520 6e75 6d62 6572 2074  f frame number t
-000089b0: 6578 742e 2044 6566 6175 6c74 3a20 2742  ext. Default: 'B
-000089c0: 6c61 636b 272e 0a20 2020 203a 7061 7261  lack'..    :para
-000089d0: 6d65 7465 7220 4f70 7469 6f6e 616c 5b73  meter Optional[s
-000089e0: 7472 5d20 6267 5f63 6f6c 6f72 3a20 5468  tr] bg_color: Th
-000089f0: 6520 636f 6c6f 7220 6f66 2074 6865 2062  e color of the b
-00008a00: 6f78 2077 6869 6368 2074 6865 2066 7261  ox which the fra
-00008a10: 6d65 206e 756d 6265 7220 6973 2070 7269  me number is pri
-00008a20: 6e74 6564 2069 6e2e 2044 6566 6175 6c74  nted in. Default
-00008a30: 3a20 2757 6869 7465 272e 0a20 2020 203a  : 'White'..    :
-00008a40: 7061 7261 6d65 7465 7220 4f70 7469 6f6e  parameter Option
-00008a50: 616c 5b73 7472 5d20 666f 6e74 3a20 5468  al[str] font: Th
-00008a60: 6520 666f 6e74 2074 6f20 7573 6520 666f  e font to use fo
-00008a70: 7220 7468 6520 6672 616d 6520 6e75 6d62  r the frame numb
-00008a80: 6572 2e20 4465 6661 756c 7420 4172 6961  er. Default Aria
-00008a90: 6c2e 0a0a 0a20 2020 203a 6578 616d 706c  l....    :exampl
-00008aa0: 653a 0a20 2020 203e 3e3e 205f 203d 2073  e:.    >>> _ = s
-00008ab0: 7570 6572 696d 706f 7365 5f66 7261 6d65  uperimpose_frame
-00008ac0: 5f63 6f75 6e74 2866 696c 655f 7061 7468  _count(file_path
-00008ad0: 3d27 7072 6f6a 6563 745f 666f 6c64 6572  ='project_folder
-00008ae0: 2f76 6964 656f 732f 5669 6465 6f5f 312e  /videos/Video_1.
-00008af0: 6176 6927 290a 2020 2020 2222 220a 0a20  avi').    """.. 
-00008b00: 2020 2074 696d 6572 203d 2053 696d 6261     timer = Simba
-00008b10: 5469 6d65 7228 7374 6172 743d 5472 7565  Timer(start=True
-00008b20: 290a 2020 2020 6368 6563 6b5f 6666 6d70  ).    check_ffmp
-00008b30: 6567 5f61 7661 696c 6162 6c65 2872 6169  eg_available(rai
-00008b40: 7365 5f65 7272 6f72 3d54 7275 6529 0a20  se_error=True). 
-00008b50: 2020 2063 6865 636b 5f69 6e74 286e 616d     check_int(nam
-00008b60: 653d 6627 7b73 7570 6572 696d 706f 7365  e=f'{superimpose
-00008b70: 5f66 7261 6d65 5f63 6f75 6e74 2e5f 5f6e  _frame_count.__n
-00008b80: 616d 655f 5f7d 2066 6f6e 7473 697a 6527  ame__} fontsize'
-00008b90: 2c20 7661 6c75 653d 666f 6e74 7369 7a65  , value=fontsize
-00008ba0: 2c20 6d69 6e5f 7661 6c75 653d 3129 0a20  , min_value=1). 
-00008bb0: 2020 2066 6f6e 745f 636f 6c6f 7220 3d20     font_color = 
-00008bc0: 2727 2e6a 6f69 6e28 6669 6c74 6572 2873  ''.join(filter(s
-00008bd0: 7472 2e69 7361 6c6e 756d 2c20 666f 6e74  tr.isalnum, font
-00008be0: 5f63 6f6c 6f72 2929 2e6c 6f77 6572 2829  _color)).lower()
-00008bf0: 0a20 2020 2062 675f 636f 6c6f 7220 3d20  .    bg_color = 
-00008c00: 2727 2e6a 6f69 6e28 6669 6c74 6572 2873  ''.join(filter(s
-00008c10: 7472 2e69 7361 6c6e 756d 2c20 6267 5f63  tr.isalnum, bg_c
-00008c20: 6f6c 6f72 2929 2e6c 6f77 6572 2829 0a20  olor)).lower(). 
-00008c30: 2020 2066 6f6e 745f 6469 6374 203d 2067     font_dict = g
-00008c40: 6574 5f66 6f6e 7473 2829 0a20 2020 2063  et_fonts().    c
-00008c50: 6865 636b 5f73 7472 286e 616d 653d 2766  heck_str(name='f
-00008c60: 6f6e 7427 2c20 7661 6c75 653d 666f 6e74  ont', value=font
-00008c70: 2c20 6f70 7469 6f6e 733d 7475 706c 6528  , options=tuple(
-00008c80: 666f 6e74 5f64 6963 742e 6b65 7973 2829  font_dict.keys()
-00008c90: 2929 0a20 2020 2066 6f6e 745f 7061 7468  )).    font_path
-00008ca0: 203d 2066 6f6e 745f 6469 6374 5b66 6f6e   = font_dict[fon
-00008cb0: 745d 0a20 2020 2063 6865 636b 5f66 696c  t].    check_fil
-00008cc0: 655f 6578 6973 745f 616e 645f 7265 6164  e_exist_and_read
-00008cd0: 6162 6c65 2866 696c 655f 7061 7468 3d66  able(file_path=f
-00008ce0: 696c 655f 7061 7468 290a 2020 2020 6469  ile_path).    di
-00008cf0: 722c 2066 696c 655f 6e61 6d65 2c20 6578  r, file_name, ex
-00008d00: 7420 3d20 6765 745f 666e 5f65 7874 2866  t = get_fn_ext(f
-00008d10: 696c 6570 6174 683d 6669 6c65 5f70 6174  ilepath=file_pat
-00008d20: 6829 0a20 2020 2073 6176 655f 6e61 6d65  h).    save_name
-00008d30: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
-00008d40: 6469 722c 2066 227b 6669 6c65 5f6e 616d  dir, f"{file_nam
-00008d50: 657d 5f66 7261 6d65 5f6e 6f2e 6d70 3422  e}_frame_no.mp4"
-00008d60: 290a 2020 2020 6966 2067 7075 3a0a 2020  ).    if gpu:.  
-00008d70: 2020 2020 2020 636d 6420 3d20 6627 2727        cmd = f'''
-00008d80: 6666 6d70 6567 202d 6877 6163 6365 6c20  ffmpeg -hwaccel 
-00008d90: 6175 746f 202d 633a 7620 6832 3634 5f63  auto -c:v h264_c
-00008da0: 7576 6964 202d 6920 227b 6669 6c65 5f70  uvid -i "{file_p
-00008db0: 6174 687d 2220 2d76 6620 2264 7261 7774  ath}" -vf "drawt
-00008dc0: 6578 743d 666f 6e74 6669 6c65 3d27 7b66  ext=fontfile='{f
-00008dd0: 6f6e 745f 7061 7468 7d27 3a74 6578 743d  ont_path}':text=
-00008de0: 257b 7b6e 7d7d 3a78 3d28 772d 7477 292f  %{{n}}:x=(w-tw)/
-00008df0: 323a 793d 682d 7468 2d31 303a 666f 6e74  2:y=h-th-10:font
-00008e00: 636f 6c6f 723d 7b66 6f6e 745f 636f 6c6f  color={font_colo
-00008e10: 727d 3a66 6f6e 7473 697a 653d 7b66 6f6e  r}:fontsize={fon
-00008e20: 7473 697a 657d 3a62 6f78 3d31 3a62 6f78  tsize}:box=1:box
-00008e30: 636f 6c6f 723d 7b62 675f 636f 6c6f 727d  color={bg_color}
-00008e40: 4030 2e35 2220 2d63 3a76 2068 3236 345f  @0.5" -c:v h264_
-00008e50: 6e76 656e 6320 2d63 3a61 2063 6f70 7920  nvenc -c:a copy 
-00008e60: 2d6c 6f67 6c65 7665 6c20 6572 726f 7220  -loglevel error 
-00008e70: 2d73 7461 7473 2022 7b73 6176 655f 6e61  -stats "{save_na
-00008e80: 6d65 7d22 202d 7927 2727 0a20 2020 2065  me}" -y'''.    e
-00008e90: 6c73 653a 0a20 2020 2020 2020 2063 6d64  lse:.        cmd
-00008ea0: 203d 2066 2727 2766 666d 7065 6720 2d79   = f'''ffmpeg -y
-00008eb0: 202d 6920 227b 6669 6c65 5f70 6174 687d   -i "{file_path}
-00008ec0: 2220 2d76 6620 2264 7261 7774 6578 743d  " -vf "drawtext=
-00008ed0: 666f 6e74 6669 6c65 3d27 7b66 6f6e 745f  fontfile='{font_
-00008ee0: 7061 7468 7d27 3a20 7465 7874 3d27 257b  path}': text='%{
-00008ef0: 7b66 7261 6d65 5f6e 756d 7d7d 273a 2073  {frame_num}}': s
-00008f00: 7461 7274 5f6e 756d 6265 723d 303a 2078  tart_number=0: x
-00008f10: 3d28 772d 7477 292f 323a 2079 3d68 2d74  =(w-tw)/2: y=h-t
-00008f20: 682d 3130 3a20 666f 6e74 636f 6c6f 723d  h-10: fontcolor=
-00008f30: 7b66 6f6e 745f 636f 6c6f 727d 3a20 666f  {font_color}: fo
-00008f40: 6e74 7369 7a65 3d7b 666f 6e74 7369 7a65  ntsize={fontsize
-00008f50: 7d3a 2062 6f78 3d31 3a20 626f 7863 6f6c  }: box=1: boxcol
-00008f60: 6f72 3d7b 6267 5f63 6f6c 6f72 7d3a 2062  or={bg_color}: b
-00008f70: 6f78 626f 7264 6572 773d 3522 202d 633a  oxborderw=5" -c:
-00008f80: 6120 636f 7079 202d 6c6f 676c 6576 656c  a copy -loglevel
-00008f90: 2065 7272 6f72 202d 7374 6174 7320 227b   error -stats "{
-00008fa0: 7361 7665 5f6e 616d 657d 2227 2727 0a20  save_name}"'''. 
-00008fb0: 2020 2073 7562 7072 6f63 6573 732e 6361     subprocess.ca
-00008fc0: 6c6c 2863 6d64 2c20 7368 656c 6c3d 5472  ll(cmd, shell=Tr
+00005970: 2020 6670 733a 2069 6e74 2c0a 2020 2020    fps: int,.    
+00005980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005990: 2020 2020 2020 2020 2020 2020 2020 6770                gp
+000059a0: 753a 204f 7074 696f 6e61 6c5b 626f 6f6c  u: Optional[bool
+000059b0: 5d20 3d20 4661 6c73 6529 202d 3e20 4e6f  ] = False) -> No
+000059c0: 6e65 3a0a 2020 2020 2222 220a 2020 2020  ne:.    """.    
+000059d0: 4368 616e 6765 2074 6865 2066 7073 206f  Change the fps o
+000059e0: 6620 616c 6c20 7669 6465 6f20 6669 6c65  f all video file
+000059f0: 7320 696e 2061 2066 6f6c 6465 722e 2052  s in a folder. R
+00005a00: 6573 756c 7473 2061 7265 2073 746f 7265  esults are store
+00005a10: 6420 696e 2074 6865 2073 616d 6520 6469  d in the same di
+00005a20: 7265 6374 6f72 7920 6173 2069 6e20 7468  rectory as in th
+00005a30: 6520 696e 7075 7420 6669 6c65 7320 7769  e input files wi
+00005a40: 7468 0a20 2020 2074 6865 2073 7566 6669  th.    the suffi
+00005a50: 7820 6060 5f66 7073 5f6e 6577 5f66 7073  x ``_fps_new_fps
+00005a60: 6060 2e0a 0a20 2020 203a 7061 7261 6d65  ``...    :parame
+00005a70: 7465 7220 556e 696f 6e5b 7374 722c 206f  ter Union[str, o
+00005a80: 732e 5061 7468 4c69 6b65 5d20 6469 7265  s.PathLike] dire
+00005a90: 6374 6f72 793a 2050 6174 6820 746f 2076  ctory: Path to v
+00005aa0: 6964 656f 2066 696c 6520 6469 7265 6374  ideo file direct
+00005ab0: 6f72 790a 2020 2020 3a70 6172 616d 6574  ory.    :paramet
+00005ac0: 6572 2069 6e74 2066 7073 3a20 4670 7320  er int fps: Fps 
+00005ad0: 6f66 2074 6865 206e 6577 2076 6964 656f  of the new video
+00005ae0: 2066 696c 6573 2e0a 2020 2020 3a70 6172   files..    :par
+00005af0: 616d 6574 6572 204f 7074 696f 6e61 6c5b  ameter Optional[
+00005b00: 626f 6f6c 5d20 6770 753a 2049 6620 5472  bool] gpu: If Tr
+00005b10: 7565 2c20 7573 6520 4e56 4944 4541 2047  ue, use NVIDEA G
+00005b20: 5055 2063 6f64 6563 732e 2044 6566 6175  PU codecs. Defau
+00005b30: 6c74 2046 616c 7365 2e0a 0a20 2020 203a  lt False...    :
+00005b40: 6578 616d 706c 653a 0a20 2020 203e 3e3e  example:.    >>>
+00005b50: 205f 203d 2063 6861 6e67 655f 6670 735f   _ = change_fps_
+00005b60: 6f66 5f6d 756c 7469 706c 655f 7669 6465  of_multiple_vide
+00005b70: 6f73 2864 6972 6563 746f 7279 3d27 7072  os(directory='pr
+00005b80: 6f6a 6563 745f 666f 6c64 6572 2f76 6964  oject_folder/vid
+00005b90: 656f 732f 5669 6465 6f5f 312e 6d70 3427  eos/Video_1.mp4'
+00005ba0: 2c20 6670 733d 3135 290a 2020 2020 2222  , fps=15).    ""
+00005bb0: 220a 0a20 2020 2074 696d 6572 203d 2053  "..    timer = S
+00005bc0: 696d 6261 5469 6d65 7228 7374 6172 743d  imbaTimer(start=
+00005bd0: 5472 7565 290a 2020 2020 6368 6563 6b5f  True).    check_
+00005be0: 6666 6d70 6567 5f61 7661 696c 6162 6c65  ffmpeg_available
+00005bf0: 2872 6169 7365 5f65 7272 6f72 3d54 7275  (raise_error=Tru
+00005c00: 6529 0a20 2020 2069 6620 6770 7520 616e  e).    if gpu an
+00005c10: 6420 6e6f 7420 6368 6563 6b5f 6e76 6964  d not check_nvid
+00005c20: 6561 5f67 7075 5f61 7661 696c 6162 6c65  ea_gpu_available
+00005c30: 2829 3a0a 2020 2020 2020 2020 7261 6973  ():.        rais
+00005c40: 6520 4646 4d50 4547 436f 6465 6347 5055  e FFMPEGCodecGPU
+00005c50: 4572 726f 7228 6d73 673d 224e 6f20 4750  Error(msg="No GP
+00005c60: 5520 666f 756e 6420 2861 7320 6576 616c  U found (as eval
+00005c70: 7561 7465 6420 6279 206e 7669 6465 612d  uated by nvidea-
+00005c80: 736d 6920 7265 7475 726e 696e 6720 4e6f  smi returning No
+00005c90: 6e65 2922 2c20 736f 7572 6365 3d63 6861  ne)", source=cha
+00005ca0: 6e67 655f 6670 735f 6f66 5f6d 756c 7469  nge_fps_of_multi
+00005cb0: 706c 655f 7669 6465 6f73 2e5f 5f6e 616d  ple_videos.__nam
+00005cc0: 655f 5f29 0a20 2020 2069 6620 6e6f 7420  e__).    if not 
+00005cd0: 6f73 2e70 6174 682e 6973 6469 7228 6469  os.path.isdir(di
+00005ce0: 7265 6374 6f72 7929 3a0a 2020 2020 2020  rectory):.      
+00005cf0: 2020 7261 6973 6520 4e6f 7444 6972 6563    raise NotDirec
+00005d00: 746f 7279 4572 726f 7228 6d73 673d 6622  toryError(msg=f"
+00005d10: 5349 4d42 4120 4552 524f 523a 207b 6469  SIMBA ERROR: {di
+00005d20: 7265 6374 6f72 797d 2069 7320 6e6f 7420  rectory} is not 
+00005d30: 6120 7661 6c69 6420 6469 7265 6374 6f72  a valid director
+00005d40: 7922 2c20 736f 7572 6365 3d63 6861 6e67  y", source=chang
+00005d50: 655f 6670 735f 6f66 5f6d 756c 7469 706c  e_fps_of_multipl
+00005d60: 655f 7669 6465 6f73 2e5f 5f6e 616d 655f  e_videos.__name_
+00005d70: 5f2c 290a 2020 2020 6368 6563 6b5f 696e  _,).    check_in
+00005d80: 7428 6e61 6d65 3d22 4e65 7720 6670 7322  t(name="New fps"
+00005d90: 2c20 7661 6c75 653d 6670 7329 0a20 2020  , value=fps).   
+00005da0: 2063 6865 636b 5f69 665f 6469 725f 6578   check_if_dir_ex
+00005db0: 6973 7473 2869 6e5f 6469 723d 6469 7265  ists(in_dir=dire
+00005dc0: 6374 6f72 7929 0a20 2020 2076 6964 656f  ctory).    video
+00005dd0: 5f70 6174 6873 203d 2066 696e 645f 616c  _paths = find_al
+00005de0: 6c5f 7669 6465 6f73 5f69 6e5f 6469 7265  l_videos_in_dire
+00005df0: 6374 6f72 7928 6469 7265 6374 6f72 793d  ctory(directory=
+00005e00: 6469 7265 6374 6f72 792c 2061 735f 6469  directory, as_di
+00005e10: 6374 3d54 7275 652c 2072 6169 7365 5f65  ct=True, raise_e
+00005e20: 7272 6f72 3d54 7275 6529 2e76 616c 7565  rror=True).value
+00005e30: 7328 290a 0a20 2020 2066 6f72 2066 696c  s()..    for fil
+00005e40: 655f 636e 742c 2066 696c 655f 7061 7468  e_cnt, file_path
+00005e50: 2069 6e20 656e 756d 6572 6174 6528 7669   in enumerate(vi
+00005e60: 6465 6f5f 7061 7468 7329 3a0a 2020 2020  deo_paths):.    
+00005e70: 2020 2020 7669 6465 6f5f 7469 6d65 7220      video_timer 
+00005e80: 3d20 5369 6d62 6154 696d 6572 2873 7461  = SimbaTimer(sta
+00005e90: 7274 3d54 7275 6529 0a20 2020 2020 2020  rt=True).       
+00005ea0: 2064 6972 5f6e 616d 652c 2066 696c 655f   dir_name, file_
+00005eb0: 6e61 6d65 2c20 6578 7420 3d20 6765 745f  name, ext = get_
+00005ec0: 666e 5f65 7874 2866 696c 6570 6174 683d  fn_ext(filepath=
+00005ed0: 6669 6c65 5f70 6174 6829 0a20 2020 2020  file_path).     
+00005ee0: 2020 2076 6964 656f 5f6d 6574 615f 6461     video_meta_da
+00005ef0: 7461 203d 2067 6574 5f76 6964 656f 5f6d  ta = get_video_m
+00005f00: 6574 615f 6461 7461 2876 6964 656f 5f70  eta_data(video_p
+00005f10: 6174 683d 6669 6c65 5f70 6174 6829 0a20  ath=file_path). 
+00005f20: 2020 2020 2020 2069 6620 696e 7428 6670         if int(fp
+00005f30: 7329 203d 3d20 696e 7428 7669 6465 6f5f  s) == int(video_
+00005f40: 6d65 7461 5f64 6174 615b 2266 7073 225d  meta_data["fps"]
+00005f50: 293a 0a20 2020 2020 2020 2020 2020 2053  ):.            S
+00005f60: 616d 6549 6e70 7574 416e 644f 7574 7075  ameInputAndOutpu
+00005f70: 7457 6172 6e69 6e67 286d 7367 3d66 2254  tWarning(msg=f"T
+00005f80: 6865 206e 6577 2046 5053 2028 7b66 7073  he new FPS ({fps
+00005f90: 7d29 2069 7320 7468 6520 7361 6d65 206f  }) is the same o
+00005fa0: 7220 6c6f 7765 7220 7468 616e 2074 6865  r lower than the
+00005fb0: 206f 7269 6769 6e61 6c20 4650 5320 287b   original FPS ({
+00005fc0: 7669 6465 6f5f 6d65 7461 5f64 6174 615b  video_meta_data[
+00005fd0: 2766 7073 275d 7d29 2066 6f72 2076 6964  'fps']}) for vid
+00005fe0: 656f 207b 6669 6c65 5f6e 616d 657d 222c  eo {file_name}",
+00005ff0: 2073 6f75 7263 653d 6368 616e 6765 5f66   source=change_f
+00006000: 7073 5f6f 665f 6d75 6c74 6970 6c65 5f76  ps_of_multiple_v
+00006010: 6964 656f 732e 5f5f 6e61 6d65 5f5f 290a  ideos.__name__).
+00006020: 2020 2020 2020 2020 7072 696e 7428 6622          print(f"
+00006030: 436f 6e76 6572 7469 6e67 2046 5053 2066  Converting FPS f
+00006040: 726f 6d20 7b76 6964 656f 5f6d 6574 615f  rom {video_meta_
+00006050: 6461 7461 5b27 6670 7327 5d7d 2074 6f20  data['fps']} to 
+00006060: 7b66 7073 7d20 666f 7220 7b66 696c 655f  {fps} for {file_
+00006070: 6e61 6d65 7d2e 2e2e 2229 0a20 2020 2020  name}...").     
+00006080: 2020 2073 6176 655f 7061 7468 203d 206f     save_path = o
+00006090: 732e 7061 7468 2e6a 6f69 6e28 6469 725f  s.path.join(dir_
+000060a0: 6e61 6d65 2c20 6669 6c65 5f6e 616d 6520  name, file_name 
+000060b0: 2b20 6622 5f66 7073 5f7b 6670 737d 7b65  + f"_fps_{fps}{e
+000060c0: 7874 7d22 290a 2020 2020 2020 2020 6966  xt}").        if
+000060d0: 2065 7874 2e6c 6f77 6572 2829 203d 3d20   ext.lower() == 
+000060e0: 272e 7765 626d 273a 2063 6f64 6563 203d  '.webm': codec =
+000060f0: 2027 6c69 6276 7078 2d76 7039 270a 2020   'libvpx-vp9'.  
+00006100: 2020 2020 2020 656c 6966 2065 7874 2e6c        elif ext.l
+00006110: 6f77 6572 2829 203d 3d20 272e 6176 6927  ower() == '.avi'
+00006120: 3a20 636f 6465 6320 3d20 276d 7065 6734  : codec = 'mpeg4
+00006130: 270a 2020 2020 2020 2020 656c 7365 3a20  '.        else: 
+00006140: 636f 6465 6320 3d20 276c 6962 7832 3634  codec = 'libx264
+00006150: 270a 2020 2020 2020 2020 6966 2067 7075  '.        if gpu
+00006160: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
+00006170: 6d6d 616e 6420 3d20 6627 6666 6d70 6567  mmand = f'ffmpeg
+00006180: 202d 6877 6163 6365 6c20 6175 746f 202d   -hwaccel auto -
+00006190: 633a 7620 6832 3634 5f63 7576 6964 202d  c:v h264_cuvid -
+000061a0: 6920 227b 6669 6c65 5f70 6174 687d 2220  i "{file_path}" 
+000061b0: 2d76 6620 2266 7073 3d7b 6670 737d 2220  -vf "fps={fps}" 
+000061c0: 2d63 3a76 2068 3236 345f 6e76 656e 6320  -c:v h264_nvenc 
+000061d0: 2d63 3a61 2063 6f70 7920 227b 7361 7665  -c:a copy "{save
+000061e0: 5f70 6174 687d 2220 2d79 270a 2020 2020  _path}" -y'.    
+000061f0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00006200: 2020 2020 2020 636f 6d6d 616e 6420 3d20        command = 
+00006210: 6627 6666 6d70 6567 202d 6920 7b66 696c  f'ffmpeg -i {fil
+00006220: 655f 7061 7468 7d20 2d66 696c 7465 723a  e_path} -filter:
+00006230: 7620 6670 733d 6670 733d 7b66 7073 7d20  v fps=fps={fps} 
+00006240: 2d63 3a76 207b 636f 6465 637d 2022 7b73  -c:v {codec} "{s
+00006250: 6176 655f 7061 7468 7d22 202d 6c6f 676c  ave_path}" -logl
+00006260: 6576 656c 2065 7272 6f72 202d 7374 6174  evel error -stat
+00006270: 7320 2d68 6964 655f 6261 6e6e 6572 202d  s -hide_banner -
+00006280: 7927 0a20 2020 2020 2020 2073 7562 7072  y'.        subpr
+00006290: 6f63 6573 732e 6361 6c6c 2863 6f6d 6d61  ocess.call(comma
+000062a0: 6e64 2c20 7368 656c 6c3d 5472 7565 290a  nd, shell=True).
+000062b0: 2020 2020 2020 2020 7669 6465 6f5f 7469          video_ti
+000062c0: 6d65 722e 7374 6f70 5f74 696d 6572 2829  mer.stop_timer()
+000062d0: 0a20 2020 2020 2020 2070 7269 6e74 2866  .        print(f
+000062e0: 2256 6964 656f 207b 6669 6c65 5f6e 616d  "Video {file_nam
+000062f0: 657d 2063 6f6d 706c 6574 652e 2e2e 2028  e} complete... (
+00006300: 656c 6170 7365 6420 7469 6d65 3a20 7b76  elapsed time: {v
+00006310: 6964 656f 5f74 696d 6572 2e65 6c61 7073  ideo_timer.elaps
+00006320: 6564 5f74 696d 655f 7374 727d 7329 2229  ed_time_str}s)")
+00006330: 0a20 2020 2074 696d 6572 2e73 746f 705f  .    timer.stop_
+00006340: 7469 6d65 7228 290a 2020 2020 7374 646f  timer().    stdo
+00006350: 7574 5f73 7563 6365 7373 286d 7367 3d66  ut_success(msg=f
+00006360: 2253 494d 4241 2043 4f4d 504c 4554 453a  "SIMBA COMPLETE:
+00006370: 2046 5053 206f 6620 7b6c 656e 2876 6964   FPS of {len(vid
+00006380: 656f 5f70 6174 6873 297d 2076 6964 656f  eo_paths)} video
+00006390: 2873 2920 6368 616e 6765 6420 746f 207b  (s) changed to {
+000063a0: 6670 737d 222c 2065 6c61 7073 6564 5f74  fps}", elapsed_t
+000063b0: 696d 653d 7469 6d65 722e 656c 6170 7365  ime=timer.elapse
+000063c0: 645f 7469 6d65 5f73 7472 2c20 736f 7572  d_time_str, sour
+000063d0: 6365 3d63 6861 6e67 655f 6670 735f 6f66  ce=change_fps_of
+000063e0: 5f6d 756c 7469 706c 655f 7669 6465 6f73  _multiple_videos
+000063f0: 2e5f 5f6e 616d 655f 5f2c 290a 0a0a 6465  .__name__,)...de
+00006400: 6620 636f 6e76 6572 745f 7669 6465 6f5f  f convert_video_
+00006410: 706f 7765 7270 6f69 6e74 5f63 6f6d 7061  powerpoint_compa
+00006420: 7469 626c 655f 666f 726d 6174 2866 696c  tible_format(fil
+00006430: 655f 7061 7468 3a20 556e 696f 6e5b 7374  e_path: Union[st
+00006440: 722c 206f 732e 5061 7468 4c69 6b65 5d2c  r, os.PathLike],
+00006450: 2067 7075 3a20 4f70 7469 6f6e 616c 5b62   gpu: Optional[b
+00006460: 6f6f 6c5d 203d 2046 616c 7365 2920 2d3e  ool] = False) ->
+00006470: 204e 6f6e 653a 0a20 2020 2022 2222 0a20   None:.    """. 
+00006480: 2020 2043 7265 6174 6520 4d53 2050 6f77     Create MS Pow
+00006490: 6572 506f 696e 7420 636f 6d70 6174 6962  erPoint compatib
+000064a0: 6c65 2063 6f70 7920 6f66 2061 2076 6964  le copy of a vid
+000064b0: 656f 2066 696c 652e 2054 6865 2072 6573  eo file. The res
+000064c0: 756c 7420 6973 2073 746f 7265 6420 696e  ult is stored in
+000064d0: 2074 6865 2073 616d 6520 6469 7265 6374   the same direct
+000064e0: 6f72 7920 6173 2074 6865 0a20 2020 2069  ory as the.    i
+000064f0: 6e70 7574 2066 696c 6520 7769 7468 2074  nput file with t
+00006500: 6865 2060 605f 706f 7765 7270 6f69 6e74  he ``_powerpoint
+00006510: 7265 6164 7960 6020 7375 6666 6978 2e0a  ready`` suffix..
+00006520: 0a20 2020 203a 7061 7261 6d65 7465 7220  .    :parameter 
+00006530: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
+00006540: 7468 4c69 6b65 5d20 6669 6c65 5f70 6174  thLike] file_pat
+00006550: 683a 2050 6174 6820 746f 2076 6964 656f  h: Path to video
+00006560: 2066 696c 652e 0a20 2020 203a 7061 7261   file..    :para
+00006570: 6d65 7465 7220 4f70 7469 6f6e 616c 5b62  meter Optional[b
+00006580: 6f6f 6c5d 2067 7075 3a20 4966 2054 7275  ool] gpu: If Tru
+00006590: 652c 2075 7365 204e 5649 4445 4120 4750  e, use NVIDEA GP
+000065a0: 5520 636f 6465 6373 2e20 4465 6661 756c  U codecs. Defaul
+000065b0: 7420 4661 6c73 652e 0a0a 2020 2020 3a65  t False...    :e
+000065c0: 7861 6d70 6c65 3a0a 2020 2020 3e3e 3e20  xample:.    >>> 
+000065d0: 5f20 3d20 636f 6e76 6572 745f 7669 6465  _ = convert_vide
+000065e0: 6f5f 706f 7765 7270 6f69 6e74 5f63 6f6d  o_powerpoint_com
+000065f0: 7061 7469 626c 655f 666f 726d 6174 2866  patible_format(f
+00006600: 696c 655f 7061 7468 3d27 7072 6f6a 6563  ile_path='projec
+00006610: 745f 666f 6c64 6572 2f76 6964 656f 732f  t_folder/videos/
+00006620: 5669 6465 6f5f 312e 6d70 3427 290a 2020  Video_1.mp4').  
+00006630: 2020 2222 220a 0a20 2020 2063 6865 636b    """..    check
+00006640: 5f66 666d 7065 675f 6176 6169 6c61 626c  _ffmpeg_availabl
+00006650: 6528 7261 6973 655f 6572 726f 723d 5472  e(raise_error=Tr
+00006660: 7565 290a 2020 2020 6966 2067 7075 2061  ue).    if gpu a
+00006670: 6e64 206e 6f74 2063 6865 636b 5f6e 7669  nd not check_nvi
+00006680: 6465 615f 6770 755f 6176 6169 6c61 626c  dea_gpu_availabl
+00006690: 6528 293a 0a20 2020 2020 2020 2072 6169  e():.        rai
+000066a0: 7365 2046 464d 5045 4743 6f64 6563 4750  se FFMPEGCodecGP
+000066b0: 5545 7272 6f72 280a 2020 2020 2020 2020  UError(.        
+000066c0: 2020 2020 6d73 673d 224e 6f20 4750 5520      msg="No GPU 
+000066d0: 666f 756e 6420 2861 7320 6576 616c 7561  found (as evalua
+000066e0: 7465 6420 6279 206e 7669 6465 612d 736d  ted by nvidea-sm
+000066f0: 6920 7265 7475 726e 696e 6720 4e6f 6e65  i returning None
+00006700: 2922 2c0a 2020 2020 2020 2020 2020 2020  )",.            
+00006710: 736f 7572 6365 3d63 6f6e 7665 7274 5f76  source=convert_v
+00006720: 6964 656f 5f70 6f77 6572 706f 696e 745f  ideo_powerpoint_
+00006730: 636f 6d70 6174 6962 6c65 5f66 6f72 6d61  compatible_forma
+00006740: 742e 5f5f 6e61 6d65 5f5f 2c0a 2020 2020  t.__name__,.    
+00006750: 2020 2020 290a 2020 2020 7469 6d65 7220      ).    timer 
+00006760: 3d20 5369 6d62 6154 696d 6572 2873 7461  = SimbaTimer(sta
+00006770: 7274 3d54 7275 6529 0a20 2020 2063 6865  rt=True).    che
+00006780: 636b 5f66 696c 655f 6578 6973 745f 616e  ck_file_exist_an
+00006790: 645f 7265 6164 6162 6c65 2866 696c 655f  d_readable(file_
+000067a0: 7061 7468 3d66 696c 655f 7061 7468 290a  path=file_path).
+000067b0: 2020 2020 6469 722c 2066 696c 655f 6e61      dir, file_na
+000067c0: 6d65 2c20 6578 7420 3d20 6765 745f 666e  me, ext = get_fn
+000067d0: 5f65 7874 2866 696c 6570 6174 683d 6669  _ext(filepath=fi
+000067e0: 6c65 5f70 6174 6829 0a20 2020 2073 6176  le_path).    sav
+000067f0: 655f 6e61 6d65 203d 206f 732e 7061 7468  e_name = os.path
+00006800: 2e6a 6f69 6e28 6469 722c 2066 696c 655f  .join(dir, file_
+00006810: 6e61 6d65 202b 2022 5f70 6f77 6572 706f  name + "_powerpo
+00006820: 696e 7472 6561 6479 2e6d 7034 2229 0a20  intready.mp4"). 
+00006830: 2020 2069 6620 6f73 2e70 6174 682e 6973     if os.path.is
+00006840: 6669 6c65 2873 6176 655f 6e61 6d65 293a  file(save_name):
+00006850: 0a20 2020 2020 2020 2072 6169 7365 2046  .        raise F
+00006860: 696c 6545 7869 7374 4572 726f 7228 0a20  ileExistError(. 
+00006870: 2020 2020 2020 2020 2020 206d 7367 3d22             msg="
+00006880: 5349 4d42 4120 4552 524f 523a 2054 6865  SIMBA ERROR: The
+00006890: 206f 7574 6669 6c65 2066 696c 6520 616c   outfile file al
+000068a0: 7265 6164 7920 6578 6973 743a 207b 7d2e  ready exist: {}.
+000068b0: 222e 666f 726d 6174 2873 6176 655f 6e61  ".format(save_na
+000068c0: 6d65 292c 0a20 2020 2020 2020 2020 2020  me),.           
+000068d0: 2073 6f75 7263 653d 636f 6e76 6572 745f   source=convert_
+000068e0: 7669 6465 6f5f 706f 7765 7270 6f69 6e74  video_powerpoint
+000068f0: 5f63 6f6d 7061 7469 626c 655f 666f 726d  _compatible_form
+00006900: 6174 2e5f 5f6e 616d 655f 5f2c 0a20 2020  at.__name__,.   
+00006910: 2020 2020 2029 0a20 2020 2069 6620 6770       ).    if gp
+00006920: 753a 0a20 2020 2020 2020 2063 6f6d 6d61  u:.        comma
+00006930: 6e64 203d 2027 6666 6d70 6567 202d 6877  nd = 'ffmpeg -hw
+00006940: 6163 6365 6c20 6175 746f 202d 633a 7620  accel auto -c:v 
+00006950: 6832 3634 5f63 7576 6964 202d 6920 227b  h264_cuvid -i "{
+00006960: 7d22 202d 633a 7620 6832 3634 5f6e 7665  }" -c:v h264_nve
+00006970: 6e63 202d 7072 6573 6574 2073 6c6f 7720  nc -preset slow 
+00006980: 2d70 726f 6669 6c65 3a76 2068 6967 6820  -profile:v high 
+00006990: 2d6c 6576 656c 3a76 2034 2e30 202d 7069  -level:v 4.0 -pi
+000069a0: 785f 666d 7420 7975 7634 3230 7020 2d63  x_fmt yuv420p -c
+000069b0: 7266 2032 3220 2d63 3a61 2061 6163 2022  rf 22 -c:a aac "
+000069c0: 7b7d 2227 2e66 6f72 6d61 7428 0a20 2020  {}"'.format(.   
+000069d0: 2020 2020 2020 2020 2066 696c 655f 7061           file_pa
+000069e0: 7468 2c20 7361 7665 5f6e 616d 650a 2020  th, save_name.  
+000069f0: 2020 2020 2020 290a 2020 2020 656c 7365        ).    else
+00006a00: 3a0a 2020 2020 2020 2020 636f 6d6d 616e  :.        comman
+00006a10: 6420 3d20 6627 6666 6d70 6567 202d 6920  d = f'ffmpeg -i 
+00006a20: 227b 6669 6c65 5f70 6174 687d 2220 2d63  "{file_path}" -c
+00006a30: 3a76 206c 6962 7832 3634 202d 7072 6573  :v libx264 -pres
+00006a40: 6574 2073 6c6f 7720 2d70 726f 6669 6c65  et slow -profile
+00006a50: 3a76 2068 6967 6820 2d6c 6576 656c 3a76  :v high -level:v
+00006a60: 2034 2e30 202d 7069 785f 666d 7420 7975   4.0 -pix_fmt yu
+00006a70: 7634 3230 7020 2d63 7266 2032 3220 2d63  v420p -crf 22 -c
+00006a80: 3a76 206c 6962 7832 3634 202d 636f 6465  :v libx264 -code
+00006a90: 633a 6120 6161 6320 227b 7361 7665 5f6e  c:a aac "{save_n
+00006aa0: 616d 657d 2220 2d79 270a 2020 2020 7072  ame}" -y'.    pr
+00006ab0: 696e 7428 2243 7265 6174 696e 6720 7669  int("Creating vi
+00006ac0: 6465 6f20 696e 2070 6f77 6572 706f 696e  deo in powerpoin
+00006ad0: 7420 636f 6d70 6174 6962 6c65 2066 6f72  t compatible for
+00006ae0: 6d61 742e 2e2e 2022 290a 2020 2020 7375  mat... ").    su
+00006af0: 6270 726f 6365 7373 2e63 616c 6c28 636f  bprocess.call(co
+00006b00: 6d6d 616e 642c 2073 6865 6c6c 3d54 7275  mmand, shell=Tru
+00006b10: 652c 2073 7464 6f75 743d 7375 6270 726f  e, stdout=subpro
+00006b20: 6365 7373 2e50 4950 4529 0a20 2020 2074  cess.PIPE).    t
+00006b30: 696d 6572 2e73 746f 705f 7469 6d65 7228  imer.stop_timer(
+00006b40: 290a 2020 2020 7374 646f 7574 5f73 7563  ).    stdout_suc
+00006b50: 6365 7373 280a 2020 2020 2020 2020 6d73  cess(.        ms
+00006b60: 673d 6622 5349 4d42 4120 434f 4d50 4c45  g=f"SIMBA COMPLE
+00006b70: 5445 3a20 5669 6465 6f20 636f 6e76 6572  TE: Video conver
+00006b80: 7465 6421 207b 7361 7665 5f6e 616d 657d  ted! {save_name}
+00006b90: 2067 656e 6572 6174 6564 2122 2c0a 2020   generated!",.  
+00006ba0: 2020 2020 2020 656c 6170 7365 645f 7469        elapsed_ti
+00006bb0: 6d65 3d74 696d 6572 2e65 6c61 7073 6564  me=timer.elapsed
+00006bc0: 5f74 696d 655f 7374 722c 0a20 2020 2020  _time_str,.     
+00006bd0: 2020 2073 6f75 7263 653d 636f 6e76 6572     source=conver
+00006be0: 745f 7669 6465 6f5f 706f 7765 7270 6f69  t_video_powerpoi
+00006bf0: 6e74 5f63 6f6d 7061 7469 626c 655f 666f  nt_compatible_fo
+00006c00: 726d 6174 2e5f 5f6e 616d 655f 5f2c 0a20  rmat.__name__,. 
+00006c10: 2020 2029 0a0a 0a0a 6465 6620 7669 6465     )....def vide
+00006c20: 6f5f 746f 5f67 7265 7973 6361 6c65 2866  o_to_greyscale(f
+00006c30: 696c 655f 7061 7468 3a20 556e 696f 6e5b  ile_path: Union[
+00006c40: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
+00006c50: 5d2c 2067 7075 3a20 4f70 7469 6f6e 616c  ], gpu: Optional
+00006c60: 5b62 6f6f 6c5d 203d 2046 616c 7365 2920  [bool] = False) 
+00006c70: 2d3e 204e 6f6e 653a 0a20 2020 2022 2222  -> None:.    """
+00006c80: 0a20 2020 2043 6f6e 7665 7274 2061 2076  .    Convert a v
+00006c90: 6964 656f 2066 696c 6520 746f 2067 7265  ideo file to gre
+00006ca0: 7973 6361 6c65 206d 7034 2066 6f72 6d61  yscale mp4 forma
+00006cb0: 742e 2054 6865 2072 6573 756c 7420 6973  t. The result is
+00006cc0: 2073 746f 7265 6420 696e 2074 6865 2073   stored in the s
+00006cd0: 616d 6520 6469 7265 6374 6f72 7920 6173  ame directory as
+00006ce0: 2074 6865 0a20 2020 2069 6e70 7574 2066   the.    input f
+00006cf0: 696c 6520 7769 7468 2074 6865 2060 605f  ile with the ``_
+00006d00: 6772 6179 7363 616c 652e 6d70 3460 6020  grayscale.mp4`` 
+00006d10: 7375 6666 6978 2e0a 0a20 2020 202e 2e20  suffix...    .. 
+00006d20: 696d 6167 653a 3a20 5f73 7461 7469 632f  image:: _static/
+00006d30: 696d 672f 746f 5f67 7265 7973 6361 6c65  img/to_greyscale
+00006d40: 2e67 6966 0a20 2020 2020 2020 3a77 6964  .gif.       :wid
+00006d50: 7468 3a20 3730 300a 2020 2020 2020 203a  th: 700.       :
+00006d60: 616c 6967 6e3a 2063 656e 7465 720a 0a20  align: center.. 
+00006d70: 2020 203a 7061 7261 6d65 7465 7220 556e     :parameter Un
+00006d80: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+00006d90: 4c69 6b65 5d20 6669 6c65 5f70 6174 683a  Like] file_path:
+00006da0: 2050 6174 6820 746f 2076 6964 656f 2066   Path to video f
+00006db0: 696c 652e 0a20 2020 203a 7061 7261 6d65  ile..    :parame
+00006dc0: 7465 7220 4f70 7469 6f6e 616c 5b62 6f6f  ter Optional[boo
+00006dd0: 6c5d 2067 7075 3a20 4966 2054 7275 652c  l] gpu: If True,
+00006de0: 2075 7365 204e 5649 4445 4120 4750 5520   use NVIDEA GPU 
+00006df0: 636f 6465 6373 2e20 4465 6661 756c 7420  codecs. Default 
+00006e00: 4661 6c73 652e 0a20 2020 203a 7261 6973  False..    :rais
+00006e10: 6520 4646 4d50 4547 436f 6465 6347 5055  e FFMPEGCodecGPU
+00006e20: 4572 726f 723a 2049 6620 6e6f 2047 5055  Error: If no GPU
+00006e30: 2069 7320 666f 756e 6420 616e 6420 6060   is found and ``
+00006e40: 6770 7520 3d3d 2054 7275 6560 602e 0a20  gpu == True``.. 
+00006e50: 2020 203a 7261 6973 6520 4669 6c65 4578     :raise FileEx
+00006e60: 6973 7445 7272 6f72 3a20 4966 2076 6964  istError: If vid
+00006e70: 656f 206e 616d 6520 7769 7468 2060 605f  eo name with ``_
+00006e80: 6772 6179 7363 616c 6560 6020 7375 6666  grayscale`` suff
+00006e90: 6978 2061 6c72 6561 6479 2065 7869 7374  ix already exist
+00006ea0: 2e0a 0a20 2020 203a 6578 616d 706c 653a  ...    :example:
+00006eb0: 0a20 2020 203e 3e3e 205f 203d 2076 6964  .    >>> _ = vid
+00006ec0: 656f 5f74 6f5f 6772 6579 7363 616c 6528  eo_to_greyscale(
+00006ed0: 6669 6c65 5f70 6174 683d 2770 726f 6a65  file_path='proje
+00006ee0: 6374 5f66 6f6c 6465 722f 7669 6465 6f73  ct_folder/videos
+00006ef0: 2f56 6964 656f 5f31 2e61 7669 2729 0a20  /Video_1.avi'). 
+00006f00: 2020 2022 2222 0a20 2020 2063 6865 636b     """.    check
+00006f10: 5f66 666d 7065 675f 6176 6169 6c61 626c  _ffmpeg_availabl
+00006f20: 6528 7261 6973 655f 6572 726f 723d 5472  e(raise_error=Tr
+00006f30: 7565 290a 2020 2020 6966 2067 7075 2061  ue).    if gpu a
+00006f40: 6e64 206e 6f74 2063 6865 636b 5f6e 7669  nd not check_nvi
+00006f50: 6465 615f 6770 755f 6176 6169 6c61 626c  dea_gpu_availabl
+00006f60: 6528 293a 0a20 2020 2020 2020 2072 6169  e():.        rai
+00006f70: 7365 2046 464d 5045 4743 6f64 6563 4750  se FFMPEGCodecGP
+00006f80: 5545 7272 6f72 280a 2020 2020 2020 2020  UError(.        
+00006f90: 2020 2020 6d73 673d 224e 6f20 4750 5520      msg="No GPU 
+00006fa0: 666f 756e 6420 2861 7320 6576 616c 7561  found (as evalua
+00006fb0: 7465 6420 6279 206e 7669 6465 612d 736d  ted by nvidea-sm
+00006fc0: 6920 7265 7475 726e 696e 6720 4e6f 6e65  i returning None
+00006fd0: 2922 2c0a 2020 2020 2020 2020 2020 2020  )",.            
+00006fe0: 736f 7572 6365 3d76 6964 656f 5f74 6f5f  source=video_to_
+00006ff0: 6772 6579 7363 616c 652e 5f5f 6e61 6d65  greyscale.__name
+00007000: 5f5f 2c0a 2020 2020 2020 2020 290a 2020  __,.        ).  
+00007010: 2020 7469 6d65 7220 3d20 5369 6d62 6154    timer = SimbaT
+00007020: 696d 6572 2873 7461 7274 3d54 7275 6529  imer(start=True)
+00007030: 0a20 2020 2063 6865 636b 5f66 696c 655f  .    check_file_
+00007040: 6578 6973 745f 616e 645f 7265 6164 6162  exist_and_readab
+00007050: 6c65 2866 696c 655f 7061 7468 3d66 696c  le(file_path=fil
+00007060: 655f 7061 7468 290a 2020 2020 6469 722c  e_path).    dir,
+00007070: 2066 696c 655f 6e61 6d65 2c20 6578 7420   file_name, ext 
+00007080: 3d20 6765 745f 666e 5f65 7874 2866 696c  = get_fn_ext(fil
+00007090: 6570 6174 683d 6669 6c65 5f70 6174 6829  epath=file_path)
+000070a0: 0a20 2020 2073 6176 655f 6e61 6d65 203d  .    save_name =
+000070b0: 206f 732e 7061 7468 2e6a 6f69 6e28 6469   os.path.join(di
+000070c0: 722c 2066 696c 655f 6e61 6d65 202b 2022  r, file_name + "
+000070d0: 5f67 7261 7973 6361 6c65 2e6d 7034 2229  _grayscale.mp4")
+000070e0: 0a20 2020 2069 6620 6f73 2e70 6174 682e  .    if os.path.
+000070f0: 6973 6669 6c65 2873 6176 655f 6e61 6d65  isfile(save_name
+00007100: 293a 0a20 2020 2020 2020 2072 6169 7365  ):.        raise
+00007110: 2046 696c 6545 7869 7374 4572 726f 7228   FileExistError(
+00007120: 0a20 2020 2020 2020 2020 2020 206d 7367  .            msg
+00007130: 3d22 5349 4d42 4120 4552 524f 523a 2054  ="SIMBA ERROR: T
+00007140: 6865 206f 7574 6669 6c65 2066 696c 6520  he outfile file 
+00007150: 616c 7265 6164 7920 6578 6973 743a 207b  already exist: {
+00007160: 7d2e 222e 666f 726d 6174 2873 6176 655f  }.".format(save_
+00007170: 6e61 6d65 292c 0a20 2020 2020 2020 2020  name),.         
+00007180: 2020 2073 6f75 7263 653d 7669 6465 6f5f     source=video_
+00007190: 746f 5f67 7265 7973 6361 6c65 2e5f 5f6e  to_greyscale.__n
+000071a0: 616d 655f 5f2c 0a20 2020 2020 2020 2029  ame__,.        )
+000071b0: 0a20 2020 2069 6620 6770 753a 0a20 2020  .    if gpu:.   
+000071c0: 2020 2020 2063 6f6d 6d61 6e64 203d 2066       command = f
+000071d0: 2766 666d 7065 6720 2d68 7761 6363 656c  'ffmpeg -hwaccel
+000071e0: 2061 7574 6f20 2d63 3a76 2068 3236 345f   auto -c:v h264_
+000071f0: 6375 7669 6420 2d69 2022 7b66 696c 655f  cuvid -i "{file_
+00007200: 7061 7468 7d22 202d 7666 2022 6877 7570  path}" -vf "hwup
+00007210: 6c6f 6164 5f63 7564 612c 6877 646f 776e  load_cuda,hwdown
+00007220: 6c6f 6164 2c66 6f72 6d61 743d 6e76 3132  load,format=nv12
+00007230: 2c66 6f72 6d61 743d 6772 6179 2220 2d63  ,format=gray" -c
+00007240: 3a76 2068 3236 345f 6e76 656e 6320 2d63  :v h264_nvenc -c
+00007250: 3a61 2063 6f70 7920 227b 7361 7665 5f6e  :a copy "{save_n
+00007260: 616d 657d 2227 0a20 2020 2065 6c73 653a  ame}"'.    else:
+00007270: 0a20 2020 2020 2020 2063 6f6d 6d61 6e64  .        command
+00007280: 203d 2066 2766 666d 7065 6720 2d69 2022   = f'ffmpeg -i "
+00007290: 7b66 696c 655f 7061 7468 7d22 202d 7666  {file_path}" -vf
+000072a0: 2066 6f72 6d61 743d 6772 6179 202d 633a   format=gray -c:
+000072b0: 7620 6c69 6278 3236 3420 227b 7361 7665  v libx264 "{save
+000072c0: 5f6e 616d 657d 2227 0a20 2020 2070 7269  _name}"'.    pri
+000072d0: 6e74 2866 2243 6f6e 7665 7274 696e 6720  nt(f"Converting 
+000072e0: 7b66 696c 655f 6e61 6d65 7d20 746f 2067  {file_name} to g
+000072f0: 7265 7973 6361 6c65 2e2e 2e20 2229 0a20  reyscale... "). 
+00007300: 2020 2073 7562 7072 6f63 6573 732e 6361     subprocess.ca
+00007310: 6c6c 2863 6f6d 6d61 6e64 2c20 7368 656c  ll(command, shel
+00007320: 6c3d 5472 7565 2c20 7374 646f 7574 3d73  l=True, stdout=s
+00007330: 7562 7072 6f63 6573 732e 5049 5045 290a  ubprocess.PIPE).
+00007340: 2020 2020 7469 6d65 722e 7374 6f70 5f74      timer.stop_t
+00007350: 696d 6572 2829 0a20 2020 2073 7464 6f75  imer().    stdou
+00007360: 745f 7375 6363 6573 7328 0a20 2020 2020  t_success(.     
+00007370: 2020 206d 7367 3d66 2253 494d 4241 2043     msg=f"SIMBA C
+00007380: 4f4d 504c 4554 453a 2056 6964 656f 2063  OMPLETE: Video c
+00007390: 6f6e 7665 7274 6564 2120 7b73 6176 655f  onverted! {save_
+000073a0: 6e61 6d65 7d20 6765 6e65 7261 7465 6421  name} generated!
+000073b0: 222c 0a20 2020 2020 2020 2065 6c61 7073  ",.        elaps
+000073c0: 6564 5f74 696d 653d 7469 6d65 722e 656c  ed_time=timer.el
+000073d0: 6170 7365 645f 7469 6d65 5f73 7472 2c0a  apsed_time_str,.
+000073e0: 2020 2020 2020 2020 736f 7572 6365 3d76          source=v
+000073f0: 6964 656f 5f74 6f5f 6772 6579 7363 616c  ideo_to_greyscal
+00007400: 652e 5f5f 6e61 6d65 5f5f 2c0a 2020 2020  e.__name__,.    
+00007410: 290a 0a0a 6465 6620 6261 7463 685f 7669  )...def batch_vi
+00007420: 6465 6f5f 746f 5f67 7265 7973 6361 6c65  deo_to_greyscale
+00007430: 2864 6972 6563 746f 7279 3a20 556e 696f  (directory: Unio
+00007440: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
+00007450: 6b65 5d2c 2067 7075 3a20 4f70 7469 6f6e  ke], gpu: Option
+00007460: 616c 5b62 6f6f 6c5d 203d 2046 616c 7365  al[bool] = False
+00007470: 2920 2d3e 204e 6f6e 653a 0a20 2020 2022  ) -> None:.    "
+00007480: 2222 0a20 2020 2043 6f6e 7665 7274 2061  "".    Convert a
+00007490: 2064 6972 6563 746f 7279 206f 6620 7669   directory of vi
+000074a0: 6465 6f20 6669 6c65 2074 6f20 6772 6579  deo file to grey
+000074b0: 7363 616c 6520 6d70 3420 666f 726d 6174  scale mp4 format
+000074c0: 2e20 5468 6520 7265 7375 6c74 7320 6172  . The results ar
+000074d0: 6520 7374 6f72 6564 2069 6e20 7468 6520  e stored in the 
+000074e0: 7361 6d65 2064 6972 6563 746f 7279 2061  same directory a
+000074f0: 7320 7468 650a 2020 2020 696e 7075 7420  s the.    input 
+00007500: 6669 6c65 7320 7769 7468 2074 6865 2060  files with the `
+00007510: 605f 6772 6179 7363 616c 652e 6d70 3460  `_grayscale.mp4`
+00007520: 6020 7375 6666 6978 2e0a 0a20 2020 202e  ` suffix...    .
+00007530: 2e20 696d 6167 653a 3a20 5f73 7461 7469  . image:: _stati
+00007540: 632f 696d 672f 746f 5f67 7265 7973 6361  c/img/to_greysca
+00007550: 6c65 2e67 6966 0a20 2020 2020 2020 3a77  le.gif.       :w
+00007560: 6964 7468 3a20 3730 300a 2020 2020 2020  idth: 700.      
+00007570: 203a 616c 6967 6e3a 2063 656e 7465 720a   :align: center.
+00007580: 0a20 2020 203a 7061 7261 6d65 7465 7220  .    :parameter 
+00007590: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
+000075a0: 7468 4c69 6b65 5d20 6469 7265 6374 6f72  thLike] director
+000075b0: 793a 2050 6174 6820 746f 2064 6972 6563  y: Path to direc
+000075c0: 746f 7279 2068 6f6c 6469 6e67 2076 6964  tory holding vid
+000075d0: 656f 2066 696c 6573 2069 6e20 636f 6c6f  eo files in colo
+000075e0: 722e 0a20 2020 203a 7061 7261 6d65 7465  r..    :paramete
+000075f0: 7220 4f70 7469 6f6e 616c 5b62 6f6f 6c5d  r Optional[bool]
+00007600: 2067 7075 3a20 4966 2054 7275 652c 2075   gpu: If True, u
+00007610: 7365 204e 5649 4445 4120 4750 5520 636f  se NVIDEA GPU co
+00007620: 6465 6373 2e20 4465 6661 756c 7420 4661  decs. Default Fa
+00007630: 6c73 652e 0a20 2020 203a 7261 6973 6520  lse..    :raise 
+00007640: 4646 4d50 4547 436f 6465 6347 5055 4572  FFMPEGCodecGPUEr
+00007650: 726f 723a 2049 6620 6e6f 2047 5055 2069  ror: If no GPU i
+00007660: 7320 666f 756e 6420 616e 6420 6060 6770  s found and ``gp
+00007670: 7520 3d3d 2054 7275 6560 602e 0a0a 2020  u == True``...  
+00007680: 2020 3a65 7861 6d70 6c65 3a0a 2020 2020    :example:.    
+00007690: 3e3e 3e20 5f20 3d20 6261 7463 685f 7669  >>> _ = batch_vi
+000076a0: 6465 6f5f 746f 5f67 7265 7973 6361 6c65  deo_to_greyscale
+000076b0: 2864 6972 6563 746f 7279 3d27 2f55 7365  (directory='/Use
+000076c0: 7273 2f73 696d 6f6e 2f44 6573 6b74 6f70  rs/simon/Desktop
+000076d0: 2f65 6e76 732f 7369 6d62 612f 7472 6f75  /envs/simba/trou
+000076e0: 626c 6573 686f 6f74 696e 672f 6d6f 7573  bleshooting/mous
+000076f0: 655f 6f70 656e 5f66 6965 6c64 2f70 726f  e_open_field/pro
+00007700: 6a65 6374 5f66 6f6c 6465 722f 7669 6465  ject_folder/vide
+00007710: 6f73 2f74 6573 745f 3227 290a 2020 2020  os/test_2').    
+00007720: 2222 220a 2020 2020 6368 6563 6b5f 6666  """.    check_ff
+00007730: 6d70 6567 5f61 7661 696c 6162 6c65 2872  mpeg_available(r
+00007740: 6169 7365 5f65 7272 6f72 3d54 7275 6529  aise_error=True)
+00007750: 0a20 2020 2069 6620 6770 7520 616e 6420  .    if gpu and 
+00007760: 6e6f 7420 6368 6563 6b5f 6e76 6964 6561  not check_nvidea
+00007770: 5f67 7075 5f61 7661 696c 6162 6c65 2829  _gpu_available()
+00007780: 3a0a 2020 2020 2020 2020 7261 6973 6520  :.        raise 
+00007790: 4646 4d50 4547 436f 6465 6347 5055 4572  FFMPEGCodecGPUEr
+000077a0: 726f 7228 0a20 2020 2020 2020 2020 2020  ror(.           
+000077b0: 206d 7367 3d22 4e6f 2047 5055 2066 6f75   msg="No GPU fou
+000077c0: 6e64 2028 6173 2065 7661 6c75 6174 6564  nd (as evaluated
+000077d0: 2062 7920 6e76 6964 6561 2d73 6d69 2072   by nvidea-smi r
+000077e0: 6574 7572 6e69 6e67 204e 6f6e 6529 222c  eturning None)",
+000077f0: 0a20 2020 2020 2020 2020 2020 2073 6f75  .            sou
+00007800: 7263 653d 6261 7463 685f 7669 6465 6f5f  rce=batch_video_
+00007810: 746f 5f67 7265 7973 6361 6c65 2e5f 5f6e  to_greyscale.__n
+00007820: 616d 655f 5f2c 0a20 2020 2020 2020 2029  ame__,.        )
+00007830: 0a20 2020 2074 696d 6572 203d 2053 696d  .    timer = Sim
+00007840: 6261 5469 6d65 7228 7374 6172 743d 5472  baTimer(start=Tr
+00007850: 7565 290a 2020 2020 6368 6563 6b5f 6966  ue).    check_if
+00007860: 5f64 6972 5f65 7869 7374 7328 696e 5f64  _dir_exists(in_d
+00007870: 6972 3d64 6972 6563 746f 7279 2c20 736f  ir=directory, so
+00007880: 7572 6365 3d62 6174 6368 5f76 6964 656f  urce=batch_video
+00007890: 5f74 6f5f 6772 6579 7363 616c 652e 5f5f  _to_greyscale.__
+000078a0: 6e61 6d65 5f5f 290a 2020 2020 7669 6465  name__).    vide
+000078b0: 6f5f 7061 7468 7320 3d20 6669 6e64 5f61  o_paths = find_a
+000078c0: 6c6c 5f76 6964 656f 735f 696e 5f64 6972  ll_videos_in_dir
+000078d0: 6563 746f 7279 280a 2020 2020 2020 2020  ectory(.        
+000078e0: 6469 7265 6374 6f72 793d 6469 7265 6374  directory=direct
+000078f0: 6f72 792c 2061 735f 6469 6374 3d54 7275  ory, as_dict=Tru
+00007900: 652c 2072 6169 7365 5f65 7272 6f72 3d54  e, raise_error=T
+00007910: 7275 650a 2020 2020 290a 2020 2020 666f  rue.    ).    fo
+00007920: 7220 6669 6c65 5f63 6e74 2c20 2866 696c  r file_cnt, (fil
+00007930: 655f 6e61 6d65 2c20 6669 6c65 5f70 6174  e_name, file_pat
+00007940: 6829 2069 6e20 656e 756d 6572 6174 6528  h) in enumerate(
+00007950: 7669 6465 6f5f 7061 7468 732e 6974 656d  video_paths.item
+00007960: 7328 2929 3a0a 2020 2020 2020 2020 7669  s()):.        vi
+00007970: 6465 6f5f 7469 6d65 7220 3d20 5369 6d62  deo_timer = Simb
+00007980: 6154 696d 6572 2873 7461 7274 3d54 7275  aTimer(start=Tru
+00007990: 6529 0a20 2020 2020 2020 2069 6e5f 6469  e).        in_di
+000079a0: 722c 205f 2c20 5f20 3d20 6765 745f 666e  r, _, _ = get_fn
+000079b0: 5f65 7874 2866 696c 6570 6174 683d 6669  _ext(filepath=fi
+000079c0: 6c65 5f70 6174 6829 0a20 2020 2020 2020  le_path).       
+000079d0: 2073 6176 655f 6e61 6d65 203d 206f 732e   save_name = os.
+000079e0: 7061 7468 2e6a 6f69 6e28 696e 5f64 6972  path.join(in_dir
+000079f0: 2c20 6622 7b66 696c 655f 6e61 6d65 7d5f  , f"{file_name}_
+00007a00: 6772 6179 7363 616c 652e 6d70 3422 290a  grayscale.mp4").
+00007a10: 2020 2020 2020 2020 6966 2067 7075 3a0a          if gpu:.
+00007a20: 2020 2020 2020 2020 2020 2020 636f 6d6d              comm
+00007a30: 616e 6420 3d20 6627 6666 6d70 6567 202d  and = f'ffmpeg -
+00007a40: 6877 6163 6365 6c20 6175 746f 202d 633a  hwaccel auto -c:
+00007a50: 7620 6832 3634 5f63 7576 6964 202d 6920  v h264_cuvid -i 
+00007a60: 227b 6669 6c65 5f70 6174 687d 2220 2d76  "{file_path}" -v
+00007a70: 6620 2268 7775 706c 6f61 645f 6375 6461  f "hwupload_cuda
+00007a80: 2c68 7764 6f77 6e6c 6f61 642c 666f 726d  ,hwdownload,form
+00007a90: 6174 3d6e 7631 322c 666f 726d 6174 3d67  at=nv12,format=g
+00007aa0: 7261 7922 202d 633a 7620 6832 3634 5f6e  ray" -c:v h264_n
+00007ab0: 7665 6e63 202d 633a 6120 636f 7079 2022  venc -c:a copy "
+00007ac0: 7b73 6176 655f 6e61 6d65 7d22 202d 7927  {save_name}" -y'
+00007ad0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+00007ae0: 2020 2020 2020 2020 2020 2063 6f6d 6d61             comma
+00007af0: 6e64 203d 2066 2766 666d 7065 6720 2d69  nd = f'ffmpeg -i
+00007b00: 2022 7b66 696c 655f 7061 7468 7d22 202d   "{file_path}" -
+00007b10: 7666 2066 6f72 6d61 743d 6772 6179 202d  vf format=gray -
+00007b20: 633a 7620 6c69 6278 3236 3420 227b 7361  c:v libx264 "{sa
+00007b30: 7665 5f6e 616d 657d 2220 2d68 6964 655f  ve_name}" -hide_
+00007b40: 6261 6e6e 6572 202d 6c6f 676c 6576 656c  banner -loglevel
+00007b50: 2065 7272 6f72 202d 7927 0a20 2020 2020   error -y'.     
+00007b60: 2020 2070 7269 6e74 280a 2020 2020 2020     print(.      
+00007b70: 2020 2020 2020 6622 436f 6e76 6572 7469        f"Converti
+00007b80: 6e67 207b 6669 6c65 5f6e 616d 657d 2074  ng {file_name} t
+00007b90: 6f20 6772 6579 7363 616c 6520 2856 6964  o greyscale (Vid
+00007ba0: 656f 207b 6669 6c65 5f63 6e74 2b31 7d2f  eo {file_cnt+1}/
+00007bb0: 7b6c 656e 286c 6973 7428 7669 6465 6f5f  {len(list(video_
+00007bc0: 7061 7468 732e 6b65 7973 2829 2929 7d29  paths.keys()))})
+00007bd0: 2e2e 2e20 220a 2020 2020 2020 2020 290a  ... ".        ).
+00007be0: 2020 2020 2020 2020 7375 6270 726f 6365          subproce
+00007bf0: 7373 2e63 616c 6c28 636f 6d6d 616e 642c  ss.call(command,
+00007c00: 2073 6865 6c6c 3d54 7275 652c 2073 7464   shell=True, std
+00007c10: 6f75 743d 7375 6270 726f 6365 7373 2e50  out=subprocess.P
+00007c20: 4950 4529 0a20 2020 2020 2020 2076 6964  IPE).        vid
+00007c30: 656f 5f74 696d 6572 2e73 746f 705f 7469  eo_timer.stop_ti
+00007c40: 6d65 7228 290a 2020 2020 2020 2020 7072  mer().        pr
+00007c50: 696e 7428 0a20 2020 2020 2020 2020 2020  int(.           
+00007c60: 2066 2256 6964 656f 207b 7361 7665 5f6e   f"Video {save_n
+00007c70: 616d 657d 2063 6f6d 706c 6574 652c 2028  ame} complete, (
+00007c80: 656c 6170 7365 6420 7469 6d65 3a20 7b76  elapsed time: {v
+00007c90: 6964 656f 5f74 696d 6572 2e65 6c61 7073  ideo_timer.elaps
+00007ca0: 6564 5f74 696d 655f 7374 727d 7329 220a  ed_time_str}s)".
+00007cb0: 2020 2020 2020 2020 290a 2020 2020 7469          ).    ti
+00007cc0: 6d65 722e 7374 6f70 5f74 696d 6572 2829  mer.stop_timer()
+00007cd0: 0a20 2020 2073 7464 6f75 745f 7375 6363  .    stdout_succ
+00007ce0: 6573 7328 0a20 2020 2020 2020 206d 7367  ess(.        msg
+00007cf0: 3d66 227b 6c65 6e28 6c69 7374 2876 6964  =f"{len(list(vid
+00007d00: 656f 5f70 6174 6873 2e6b 6579 7328 2929  eo_paths.keys())
+00007d10: 297d 2076 6964 656f 2873 2920 636f 6e76  )} video(s) conv
+00007d20: 6572 7465 6420 746f 2067 7265 7379 7363  erted to gresysc
+00007d30: 616c 6521 2053 6176 6564 2069 6e20 7b64  ale! Saved in {d
+00007d40: 6972 6563 746f 7279 7d20 7769 7468 2027  irectory} with '
+00007d50: 5f67 7265 7973 6361 6c65 2720 7375 6666  _greyscale' suff
+00007d60: 6978 222c 0a20 2020 2020 2020 2065 6c61  ix",.        ela
+00007d70: 7073 6564 5f74 696d 653d 7469 6d65 722e  psed_time=timer.
+00007d80: 656c 6170 7365 645f 7469 6d65 5f73 7472  elapsed_time_str
+00007d90: 2c0a 2020 2020 2020 2020 736f 7572 6365  ,.        source
+00007da0: 3d62 6174 6368 5f76 6964 656f 5f74 6f5f  =batch_video_to_
+00007db0: 6772 6579 7363 616c 652e 5f5f 6e61 6d65  greyscale.__name
+00007dc0: 5f5f 2c0a 2020 2020 290a 0a0a 6465 6620  __,.    )...def 
+00007dd0: 7375 7065 7269 6d70 6f73 655f 6672 616d  superimpose_fram
+00007de0: 655f 636f 756e 7428 6669 6c65 5f70 6174  e_count(file_pat
+00007df0: 683a 2055 6e69 6f6e 5b73 7472 2c20 6f73  h: Union[str, os
+00007e00: 2e50 6174 684c 696b 655d 2c0a 2020 2020  .PathLike],.    
+00007e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007e20: 2020 2020 2020 2020 6770 753a 204f 7074          gpu: Opt
+00007e30: 696f 6e61 6c5b 626f 6f6c 5d20 3d20 4661  ional[bool] = Fa
+00007e40: 6c73 652c 0a20 2020 2020 2020 2020 2020  lse,.           
+00007e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007e60: 2066 6f6e 743a 204f 7074 696f 6e61 6c5b   font: Optional[
+00007e70: 7374 725d 203d 2027 4172 6961 6c27 2c0a  str] = 'Arial',.
+00007e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007e90: 2020 2020 2020 2020 2020 2020 666f 6e74              font
+00007ea0: 5f63 6f6c 6f72 3a20 4f70 7469 6f6e 616c  _color: Optional
+00007eb0: 5b73 7472 5d20 3d20 2762 6c61 636b 272c  [str] = 'black',
+00007ec0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007ed0: 2020 2020 2020 2020 2020 2020 2062 675f               bg_
+00007ee0: 636f 6c6f 723a 204f 7074 696f 6e61 6c5b  color: Optional[
+00007ef0: 7374 725d 203d 2027 7768 6974 6527 2c0a  str] = 'white',.
+00007f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007f10: 2020 2020 2020 2020 2020 2020 666f 6e74              font
+00007f20: 7369 7a65 3a20 4f70 7469 6f6e 616c 5b69  size: Optional[i
+00007f30: 6e74 5d20 3d20 3230 2920 2d3e 204e 6f6e  nt] = 20) -> Non
+00007f40: 653a 0a20 2020 2022 2222 0a20 2020 2053  e:.    """.    S
+00007f50: 7570 6572 696d 706f 7365 2066 7261 6d65  uperimpose frame
+00007f60: 2063 6f75 6e74 206f 6e20 6120 7669 6465   count on a vide
+00007f70: 6f20 6669 6c65 2e20 5468 6520 7265 7375  o file. The resu
+00007f80: 6c74 2069 7320 7374 6f72 6564 2069 6e20  lt is stored in 
+00007f90: 7468 6520 7361 6d65 2064 6972 6563 746f  the same directo
+00007fa0: 7279 2061 7320 7468 650a 2020 2020 696e  ry as the.    in
+00007fb0: 7075 7420 6669 6c65 2077 6974 6820 7468  put file with th
+00007fc0: 6520 6060 5f66 7261 6d65 5f6e 6f2e 6d70  e ``_frame_no.mp
+00007fd0: 3460 6020 7375 6666 6978 2e0a 0a20 2020  4`` suffix...   
+00007fe0: 202e 2e20 696d 6167 653a 3a20 5f73 7461   .. image:: _sta
+00007ff0: 7469 632f 696d 672f 7375 7065 7269 6d70  tic/img/superimp
+00008000: 6f73 655f 6672 616d 655f 636f 756e 742e  ose_frame_count.
+00008010: 706e 670a 2020 2020 2020 203a 7769 6474  png.       :widt
+00008020: 683a 2037 3030 0a20 2020 2020 2020 3a61  h: 700.       :a
+00008030: 6c69 676e 3a20 6365 6e74 6572 0a0a 2020  lign: center..  
+00008040: 2020 2e2e 2069 6d61 6765 3a3a 205f 7374    .. image:: _st
+00008050: 6174 6963 2f69 6d67 2f73 7570 6572 696d  atic/img/superim
+00008060: 706f 7365 5f66 7261 6d65 5f63 6f75 6e74  pose_frame_count
+00008070: 2e67 6966 0a20 2020 2020 2020 3a77 6964  .gif.       :wid
+00008080: 7468 3a20 3530 300a 2020 2020 2020 203a  th: 500.       :
+00008090: 616c 6967 6e3a 2063 656e 7465 720a 0a20  align: center.. 
+000080a0: 2020 203a 7061 7261 6d65 7465 7220 556e     :parameter Un
+000080b0: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+000080c0: 4c69 6b65 5d20 6669 6c65 5f70 6174 683a  Like] file_path:
+000080d0: 2050 6174 6820 746f 2076 6964 656f 2066   Path to video f
+000080e0: 696c 652e 0a20 2020 203a 7061 7261 6d65  ile..    :parame
+000080f0: 7465 7220 4f70 7469 6f6e 616c 5b62 6f6f  ter Optional[boo
+00008100: 6c5d 2067 7075 3a20 4966 2054 7275 652c  l] gpu: If True,
+00008110: 2075 7365 204e 5649 4445 4120 4750 5520   use NVIDEA GPU 
+00008120: 636f 6465 6373 2e20 4465 6661 756c 7420  codecs. Default 
+00008130: 4661 6c73 652e 0a20 2020 203a 7061 7261  False..    :para
+00008140: 6d65 7465 7220 4f70 7469 6f6e 616c 5b69  meter Optional[i
+00008150: 6e74 5d20 666f 6e74 7369 7a65 3a20 5468  nt] fontsize: Th
+00008160: 6520 7369 7a65 206f 6620 7468 6520 666f  e size of the fo
+00008170: 6e74 2072 6570 7265 7365 746e 7469 6e67  nt represetnting
+00008180: 2074 6865 2063 7572 7265 6e74 2066 7261   the current fra
+00008190: 6d65 2e20 4465 6661 756c 743a 2032 302e  me. Default: 20.
+000081a0: 0a20 2020 203a 7061 7261 6d65 7465 7220  .    :parameter 
+000081b0: 4f70 7469 6f6e 616c 5b73 7472 5d20 666f  Optional[str] fo
+000081c0: 6e74 5f63 6f6c 6f72 3a20 5468 6520 636f  nt_color: The co
+000081d0: 6c6f 7220 6f66 2066 7261 6d65 206e 756d  lor of frame num
+000081e0: 6265 7220 7465 7874 2e20 4465 6661 756c  ber text. Defaul
+000081f0: 743a 2027 426c 6163 6b27 2e0a 2020 2020  t: 'Black'..    
+00008200: 3a70 6172 616d 6574 6572 204f 7074 696f  :parameter Optio
+00008210: 6e61 6c5b 7374 725d 2062 675f 636f 6c6f  nal[str] bg_colo
+00008220: 723a 2054 6865 2063 6f6c 6f72 206f 6620  r: The color of 
+00008230: 7468 6520 626f 7820 7768 6963 6820 7468  the box which th
+00008240: 6520 6672 616d 6520 6e75 6d62 6572 2069  e frame number i
+00008250: 7320 7072 696e 7465 6420 696e 2e20 4465  s printed in. De
+00008260: 6661 756c 743a 2027 5768 6974 6527 2e0a  fault: 'White'..
+00008270: 2020 2020 3a70 6172 616d 6574 6572 204f      :parameter O
+00008280: 7074 696f 6e61 6c5b 7374 725d 2066 6f6e  ptional[str] fon
+00008290: 743a 2054 6865 2066 6f6e 7420 746f 2075  t: The font to u
+000082a0: 7365 2066 6f72 2074 6865 2066 7261 6d65  se for the frame
+000082b0: 206e 756d 6265 722e 2044 6566 6175 6c74   number. Default
+000082c0: 2041 7269 616c 2e0a 0a0a 2020 2020 3a65   Arial....    :e
+000082d0: 7861 6d70 6c65 3a0a 2020 2020 3e3e 3e20  xample:.    >>> 
+000082e0: 5f20 3d20 7375 7065 7269 6d70 6f73 655f  _ = superimpose_
+000082f0: 6672 616d 655f 636f 756e 7428 6669 6c65  frame_count(file
+00008300: 5f70 6174 683d 2770 726f 6a65 6374 5f66  _path='project_f
+00008310: 6f6c 6465 722f 7669 6465 6f73 2f56 6964  older/videos/Vid
+00008320: 656f 5f31 2e61 7669 2729 0a20 2020 2022  eo_1.avi').    "
+00008330: 2222 0a0a 2020 2020 7469 6d65 7220 3d20  ""..    timer = 
+00008340: 5369 6d62 6154 696d 6572 2873 7461 7274  SimbaTimer(start
+00008350: 3d54 7275 6529 0a20 2020 2063 6865 636b  =True).    check
+00008360: 5f66 666d 7065 675f 6176 6169 6c61 626c  _ffmpeg_availabl
+00008370: 6528 7261 6973 655f 6572 726f 723d 5472  e(raise_error=Tr
+00008380: 7565 290a 2020 2020 6368 6563 6b5f 696e  ue).    check_in
+00008390: 7428 6e61 6d65 3d66 277b 7375 7065 7269  t(name=f'{superi
+000083a0: 6d70 6f73 655f 6672 616d 655f 636f 756e  mpose_frame_coun
+000083b0: 742e 5f5f 6e61 6d65 5f5f 7d20 666f 6e74  t.__name__} font
+000083c0: 7369 7a65 272c 2076 616c 7565 3d66 6f6e  size', value=fon
+000083d0: 7473 697a 652c 206d 696e 5f76 616c 7565  tsize, min_value
+000083e0: 3d31 290a 2020 2020 666f 6e74 5f63 6f6c  =1).    font_col
+000083f0: 6f72 203d 2027 272e 6a6f 696e 2866 696c  or = ''.join(fil
+00008400: 7465 7228 7374 722e 6973 616c 6e75 6d2c  ter(str.isalnum,
+00008410: 2066 6f6e 745f 636f 6c6f 7229 292e 6c6f   font_color)).lo
+00008420: 7765 7228 290a 2020 2020 6267 5f63 6f6c  wer().    bg_col
+00008430: 6f72 203d 2027 272e 6a6f 696e 2866 696c  or = ''.join(fil
+00008440: 7465 7228 7374 722e 6973 616c 6e75 6d2c  ter(str.isalnum,
+00008450: 2062 675f 636f 6c6f 7229 292e 6c6f 7765   bg_color)).lowe
+00008460: 7228 290a 2020 2020 666f 6e74 5f64 6963  r().    font_dic
+00008470: 7420 3d20 6765 745f 666f 6e74 7328 290a  t = get_fonts().
+00008480: 2020 2020 6368 6563 6b5f 7374 7228 6e61      check_str(na
+00008490: 6d65 3d27 666f 6e74 272c 2076 616c 7565  me='font', value
+000084a0: 3d66 6f6e 742c 206f 7074 696f 6e73 3d74  =font, options=t
+000084b0: 7570 6c65 2866 6f6e 745f 6469 6374 2e6b  uple(font_dict.k
+000084c0: 6579 7328 2929 290a 2020 2020 666f 6e74  eys())).    font
+000084d0: 5f70 6174 6820 3d20 666f 6e74 5f64 6963  _path = font_dic
+000084e0: 745b 666f 6e74 5d0a 2020 2020 6368 6563  t[font].    chec
+000084f0: 6b5f 6669 6c65 5f65 7869 7374 5f61 6e64  k_file_exist_and
+00008500: 5f72 6561 6461 626c 6528 6669 6c65 5f70  _readable(file_p
+00008510: 6174 683d 6669 6c65 5f70 6174 6829 0a20  ath=file_path). 
+00008520: 2020 2064 6972 2c20 6669 6c65 5f6e 616d     dir, file_nam
+00008530: 652c 2065 7874 203d 2067 6574 5f66 6e5f  e, ext = get_fn_
+00008540: 6578 7428 6669 6c65 7061 7468 3d66 696c  ext(filepath=fil
+00008550: 655f 7061 7468 290a 2020 2020 7361 7665  e_path).    save
+00008560: 5f6e 616d 6520 3d20 6f73 2e70 6174 682e  _name = os.path.
+00008570: 6a6f 696e 2864 6972 2c20 6622 7b66 696c  join(dir, f"{fil
+00008580: 655f 6e61 6d65 7d5f 6672 616d 655f 6e6f  e_name}_frame_no
+00008590: 2e6d 7034 2229 0a20 2020 2069 6620 6770  .mp4").    if gp
+000085a0: 753a 0a20 2020 2020 2020 2063 6d64 203d  u:.        cmd =
+000085b0: 2066 2727 2766 666d 7065 6720 2d68 7761   f'''ffmpeg -hwa
+000085c0: 6363 656c 2061 7574 6f20 2d63 3a76 2068  ccel auto -c:v h
+000085d0: 3236 345f 6375 7669 6420 2d69 2022 7b66  264_cuvid -i "{f
+000085e0: 696c 655f 7061 7468 7d22 202d 7666 2022  ile_path}" -vf "
+000085f0: 6472 6177 7465 7874 3d66 6f6e 7466 696c  drawtext=fontfil
+00008600: 653d 277b 666f 6e74 5f70 6174 687d 273a  e='{font_path}':
+00008610: 7465 7874 3d25 7b7b 6e7d 7d3a 783d 2877  text=%{{n}}:x=(w
+00008620: 2d74 7729 2f32 3a79 3d68 2d74 682d 3130  -tw)/2:y=h-th-10
+00008630: 3a66 6f6e 7463 6f6c 6f72 3d7b 666f 6e74  :fontcolor={font
+00008640: 5f63 6f6c 6f72 7d3a 666f 6e74 7369 7a65  _color}:fontsize
+00008650: 3d7b 666f 6e74 7369 7a65 7d3a 626f 783d  ={fontsize}:box=
+00008660: 313a 626f 7863 6f6c 6f72 3d7b 6267 5f63  1:boxcolor={bg_c
+00008670: 6f6c 6f72 7d40 302e 3522 202d 633a 7620  olor}@0.5" -c:v 
+00008680: 6832 3634 5f6e 7665 6e63 202d 633a 6120  h264_nvenc -c:a 
+00008690: 636f 7079 202d 6c6f 676c 6576 656c 2065  copy -loglevel e
+000086a0: 7272 6f72 202d 7374 6174 7320 227b 7361  rror -stats "{sa
+000086b0: 7665 5f6e 616d 657d 2220 2d79 2727 270a  ve_name}" -y'''.
+000086c0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+000086d0: 2020 636d 6420 3d20 6627 2727 6666 6d70    cmd = f'''ffmp
+000086e0: 6567 202d 7920 2d69 2022 7b66 696c 655f  eg -y -i "{file_
+000086f0: 7061 7468 7d22 202d 7666 2022 6472 6177  path}" -vf "draw
+00008700: 7465 7874 3d66 6f6e 7466 696c 653d 277b  text=fontfile='{
+00008710: 666f 6e74 5f70 6174 687d 273a 2074 6578  font_path}': tex
+00008720: 743d 2725 7b7b 6672 616d 655f 6e75 6d7d  t='%{{frame_num}
+00008730: 7d27 3a20 7374 6172 745f 6e75 6d62 6572  }': start_number
+00008740: 3d30 3a20 783d 2877 2d74 7729 2f32 3a20  =0: x=(w-tw)/2: 
+00008750: 793d 682d 7468 2d31 303a 2066 6f6e 7463  y=h-th-10: fontc
+00008760: 6f6c 6f72 3d7b 666f 6e74 5f63 6f6c 6f72  olor={font_color
+00008770: 7d3a 2066 6f6e 7473 697a 653d 7b66 6f6e  }: fontsize={fon
+00008780: 7473 697a 657d 3a20 626f 783d 313a 2062  tsize}: box=1: b
+00008790: 6f78 636f 6c6f 723d 7b62 675f 636f 6c6f  oxcolor={bg_colo
+000087a0: 727d 3a20 626f 7862 6f72 6465 7277 3d35  r}: boxborderw=5
+000087b0: 2220 2d63 3a61 2063 6f70 7920 2d6c 6f67  " -c:a copy -log
+000087c0: 6c65 7665 6c20 6572 726f 7220 2d73 7461  level error -sta
+000087d0: 7473 2022 7b73 6176 655f 6e61 6d65 7d22  ts "{save_name}"
+000087e0: 2727 270a 2020 2020 7375 6270 726f 6365  '''.    subproce
+000087f0: 7373 2e63 616c 6c28 636d 642c 2073 6865  ss.call(cmd, she
+00008800: 6c6c 3d54 7275 652c 2073 7464 6f75 743d  ll=True, stdout=
+00008810: 7375 6270 726f 6365 7373 2e50 4950 4529  subprocess.PIPE)
+00008820: 0a20 2020 2074 696d 6572 2e73 746f 705f  .    timer.stop_
+00008830: 7469 6d65 7228 290a 2020 2020 7374 646f  timer().    stdo
+00008840: 7574 5f73 7563 6365 7373 286d 7367 3d66  ut_success(msg=f
+00008850: 2253 7570 6572 696d 706f 7365 6420 7669  "Superimposed vi
+00008860: 6465 6f20 636f 6e76 6572 7465 6421 207b  deo converted! {
+00008870: 7361 7665 5f6e 616d 657d 2067 656e 6572  save_name} gener
+00008880: 6174 6564 2122 2c20 656c 6170 7365 645f  ated!", elapsed_
+00008890: 7469 6d65 3d74 696d 6572 2e65 6c61 7073  time=timer.elaps
+000088a0: 6564 5f74 696d 655f 7374 7229 0a0a 2373  ed_time_str)..#s
+000088b0: 7570 6572 696d 706f 7365 5f66 7261 6d65  uperimpose_frame
+000088c0: 5f63 6f75 6e74 2866 696c 655f 7061 7468  _count(file_path
+000088d0: 3d27 2f55 7365 7273 2f73 696d 6f6e 2f44  ='/Users/simon/D
+000088e0: 6f77 6e6c 6f61 6473 2f31 5f4c 485f 305f  ownloads/1_LH_0_
+000088f0: 332e 6d70 3427 2c20 666f 6e74 7369 7a65  3.mp4', fontsize
+00008900: 3d39 3029 0a0a 6465 6620 7265 6d6f 7665  =90)..def remove
+00008910: 5f62 6567 696e 6e69 6e67 5f6f 665f 7669  _beginning_of_vi
+00008920: 6465 6f28 6669 6c65 5f70 6174 683a 2055  deo(file_path: U
+00008930: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
+00008940: 684c 696b 655d 2c20 7469 6d65 3a20 696e  hLike], time: in
+00008950: 742c 2067 7075 3a20 4f70 7469 6f6e 616c  t, gpu: Optional
+00008960: 5b62 6f6f 6c5d 203d 2046 616c 7365 2920  [bool] = False) 
+00008970: 2d3e 204e 6f6e 653a 0a20 2020 2022 2222  -> None:.    """
+00008980: 0a20 2020 2052 656d 6f76 6520 4e20 7365  .    Remove N se
+00008990: 636f 6e64 7320 6672 6f6d 2074 6865 2062  conds from the b
+000089a0: 6567 696e 6e69 6e67 206f 6620 6120 7669  eginning of a vi
+000089b0: 6465 6f20 6669 6c65 2e20 5468 6520 7265  deo file. The re
+000089c0: 7375 6c74 2069 7320 7374 6f72 6564 2069  sult is stored i
+000089d0: 6e20 7468 6520 7361 6d65 2064 6972 6563  n the same direc
+000089e0: 746f 7279 2061 7320 7468 650a 2020 2020  tory as the.    
+000089f0: 696e 7075 7420 6669 6c65 2077 6974 6820  input file with 
+00008a00: 7468 6520 6060 5f73 686f 7274 656e 2e6d  the ``_shorten.m
+00008a10: 7034 6060 2073 7566 6669 782e 0a0a 2020  p4`` suffix...  
+00008a20: 2020 3a70 6172 616d 6574 6572 2055 6e69    :parameter Uni
+00008a30: 6f6e 5b73 7472 2c20 6f73 2e50 6174 684c  on[str, os.PathL
+00008a40: 696b 655d 2066 696c 655f 7061 7468 3a20  ike] file_path: 
+00008a50: 5061 7468 2074 6f20 7669 6465 6f20 6669  Path to video fi
+00008a60: 6c65 0a20 2020 203a 7061 7261 6d65 7465  le.    :paramete
+00008a70: 7220 696e 7420 7469 6d65 3a20 4e75 6d62  r int time: Numb
+00008a80: 6572 206f 6620 7365 636f 6e64 7320 746f  er of seconds to
+00008a90: 2072 656d 6f76 6520 6672 6f6d 2074 6865   remove from the
+00008aa0: 2062 6567 696e 6e69 6e67 206f 6620 7468   beginning of th
+00008ab0: 6520 7669 6465 6f2e 0a20 2020 203a 7061  e video..    :pa
+00008ac0: 7261 6d65 7465 7220 4f70 7469 6f6e 616c  rameter Optional
+00008ad0: 5b62 6f6f 6c5d 2067 7075 3a20 4966 2054  [bool] gpu: If T
+00008ae0: 7275 652c 2075 7365 204e 5649 4445 4120  rue, use NVIDEA 
+00008af0: 4750 5520 636f 6465 6373 2e20 4465 6661  GPU codecs. Defa
+00008b00: 756c 7420 4661 6c73 652e 0a0a 2020 2020  ult False...    
+00008b10: 3a65 7861 6d70 6c65 3a0a 2020 2020 3e3e  :example:.    >>
+00008b20: 3e20 5f20 3d20 7265 6d6f 7665 5f62 6567  > _ = remove_beg
+00008b30: 696e 6e69 6e67 5f6f 665f 7669 6465 6f28  inning_of_video(
+00008b40: 6669 6c65 5f70 6174 683d 2770 726f 6a65  file_path='proje
+00008b50: 6374 5f66 6f6c 6465 722f 7669 6465 6f73  ct_folder/videos
+00008b60: 2f56 6964 656f 5f31 2e61 7669 272c 2074  /Video_1.avi', t
+00008b70: 696d 653d 3130 290a 2020 2020 2222 220a  ime=10).    """.
+00008b80: 0a20 2020 2063 6865 636b 5f66 666d 7065  .    check_ffmpe
+00008b90: 675f 6176 6169 6c61 626c 6528 7261 6973  g_available(rais
+00008ba0: 655f 6572 726f 723d 5472 7565 290a 2020  e_error=True).  
+00008bb0: 2020 7469 6d65 7220 3d20 5369 6d62 6154    timer = SimbaT
+00008bc0: 696d 6572 2873 7461 7274 3d54 7275 6529  imer(start=True)
+00008bd0: 0a20 2020 2063 6865 636b 5f66 696c 655f  .    check_file_
+00008be0: 6578 6973 745f 616e 645f 7265 6164 6162  exist_and_readab
+00008bf0: 6c65 2866 696c 655f 7061 7468 3d66 696c  le(file_path=fil
+00008c00: 655f 7061 7468 290a 2020 2020 6368 6563  e_path).    chec
+00008c10: 6b5f 696e 7428 6e61 6d65 3d22 4375 7420  k_int(name="Cut 
+00008c20: 7469 6d65 222c 2076 616c 7565 3d74 696d  time", value=tim
+00008c30: 6529 0a20 2020 2064 6972 2c20 6669 6c65  e).    dir, file
+00008c40: 5f6e 616d 652c 2065 7874 203d 2067 6574  _name, ext = get
+00008c50: 5f66 6e5f 6578 7428 6669 6c65 7061 7468  _fn_ext(filepath
+00008c60: 3d66 696c 655f 7061 7468 290a 2020 2020  =file_path).    
+00008c70: 7361 7665 5f6e 616d 6520 3d20 6f73 2e70  save_name = os.p
+00008c80: 6174 682e 6a6f 696e 2864 6972 2c20 6669  ath.join(dir, fi
+00008c90: 6c65 5f6e 616d 6520 2b20 225f 7368 6f72  le_name + "_shor
+00008ca0: 7465 6e2e 6d70 3422 290a 2020 2020 6966  ten.mp4").    if
+00008cb0: 206f 732e 7061 7468 2e69 7366 696c 6528   os.path.isfile(
+00008cc0: 7361 7665 5f6e 616d 6529 3a0a 2020 2020  save_name):.    
+00008cd0: 2020 2020 7261 6973 6520 4669 6c65 4578      raise FileEx
+00008ce0: 6973 7445 7272 6f72 280a 2020 2020 2020  istError(.      
+00008cf0: 2020 2020 2020 6d73 673d 2253 494d 4241        msg="SIMBA
+00008d00: 2045 5252 4f52 3a20 5468 6520 6f75 7466   ERROR: The outf
+00008d10: 696c 6520 6669 6c65 2061 6c72 6561 6479  ile file already
+00008d20: 2065 7869 7374 3a20 7b7d 2e22 2e66 6f72   exist: {}.".for
+00008d30: 6d61 7428 7361 7665 5f6e 616d 6529 2c0a  mat(save_name),.
+00008d40: 2020 2020 2020 2020 2020 2020 736f 7572              sour
+00008d50: 6365 3d72 656d 6f76 655f 6265 6769 6e6e  ce=remove_beginn
+00008d60: 696e 675f 6f66 5f76 6964 656f 2e5f 5f6e  ing_of_video.__n
+00008d70: 616d 655f 5f2c 0a20 2020 2020 2020 2029  ame__,.        )
+00008d80: 0a20 2020 2069 6620 6770 753a 0a20 2020  .    if gpu:.   
+00008d90: 2020 2020 2069 6620 6e6f 7420 6368 6563       if not chec
+00008da0: 6b5f 6e76 6964 6561 5f67 7075 5f61 7661  k_nvidea_gpu_ava
+00008db0: 696c 6162 6c65 2829 3a0a 2020 2020 2020  ilable():.      
+00008dc0: 2020 2020 2020 7261 6973 6520 4646 4d50        raise FFMP
+00008dd0: 4547 436f 6465 6347 5055 4572 726f 7228  EGCodecGPUError(
+00008de0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008df0: 206d 7367 3d22 4e6f 2047 5055 2066 6f75   msg="No GPU fou
+00008e00: 6e64 2028 6173 2065 7661 6c75 6174 6564  nd (as evaluated
+00008e10: 2062 7920 6e76 6964 6561 2d73 6d69 2072   by nvidea-smi r
+00008e20: 6574 7572 6e69 6e67 204e 6f6e 6529 222c  eturning None)",
+00008e30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008e40: 2073 6f75 7263 653d 7265 6d6f 7665 5f62   source=remove_b
+00008e50: 6567 696e 6e69 6e67 5f6f 665f 7669 6465  eginning_of_vide
+00008e60: 6f2e 5f5f 6e61 6d65 5f5f 2c0a 2020 2020  o.__name__,.    
+00008e70: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00008e80: 2020 636f 6d6d 616e 6420 3d20 2766 666d    command = 'ffm
+00008e90: 7065 6720 2d68 7761 6363 656c 2061 7574  peg -hwaccel aut
+00008ea0: 6f20 2d63 3a76 2068 3236 345f 6375 7669  o -c:v h264_cuvi
+00008eb0: 6420 2d73 7320 7b7d 202d 6920 227b 7d22  d -ss {} -i "{}"
+00008ec0: 202d 633a 7620 6832 3634 5f6e 7665 6e63   -c:v h264_nvenc
+00008ed0: 202d 633a 6120 6161 6320 227b 7d22 272e   -c:a aac "{}"'.
+00008ee0: 666f 726d 6174 280a 2020 2020 2020 2020  format(.        
+00008ef0: 2020 2020 696e 7428 7469 6d65 292c 2066      int(time), f
+00008f00: 696c 655f 7061 7468 2c20 7361 7665 5f6e  ile_path, save_n
+00008f10: 616d 650a 2020 2020 2020 2020 290a 2020  ame.        ).  
+00008f20: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00008f30: 636f 6d6d 616e 6420 3d20 6627 6666 6d70  command = f'ffmp
+00008f40: 6567 202d 7373 207b 696e 7428 7469 6d65  eg -ss {int(time
+00008f50: 297d 202d 6920 227b 6669 6c65 5f70 6174  )} -i "{file_pat
+00008f60: 687d 2220 2d63 3a76 206c 6962 7832 3634  h}" -c:v libx264
+00008f70: 202d 633a 6120 6161 6320 227b 7361 7665   -c:a aac "{save
+00008f80: 5f6e 616d 657d 2227 0a20 2020 2070 7269  _name}"'.    pri
+00008f90: 6e74 2822 5368 6f72 7465 6e69 6e67 2076  nt("Shortening v
+00008fa0: 6964 656f 2e2e 2e20 2229 0a20 2020 2073  ideo... ").    s
+00008fb0: 7562 7072 6f63 6573 732e 6361 6c6c 2863  ubprocess.call(c
+00008fc0: 6f6d 6d61 6e64 2c20 7368 656c 6c3d 5472  ommand, shell=Tr
 00008fd0: 7565 2c20 7374 646f 7574 3d73 7562 7072  ue, stdout=subpr
 00008fe0: 6f63 6573 732e 5049 5045 290a 2020 2020  ocess.PIPE).    
 00008ff0: 7469 6d65 722e 7374 6f70 5f74 696d 6572  timer.stop_timer
 00009000: 2829 0a20 2020 2073 7464 6f75 745f 7375  ().    stdout_su
-00009010: 6363 6573 7328 6d73 673d 6622 5375 7065  ccess(msg=f"Supe
-00009020: 7269 6d70 6f73 6564 2076 6964 656f 2063  rimposed video c
-00009030: 6f6e 7665 7274 6564 2120 7b73 6176 655f  onverted! {save_
-00009040: 6e61 6d65 7d20 6765 6e65 7261 7465 6421  name} generated!
-00009050: 222c 2065 6c61 7073 6564 5f74 696d 653d  ", elapsed_time=
-00009060: 7469 6d65 722e 656c 6170 7365 645f 7469  timer.elapsed_ti
-00009070: 6d65 5f73 7472 290a 0a23 7375 7065 7269  me_str)..#superi
-00009080: 6d70 6f73 655f 6672 616d 655f 636f 756e  mpose_frame_coun
-00009090: 7428 6669 6c65 5f70 6174 683d 272f 5573  t(file_path='/Us
-000090a0: 6572 732f 7369 6d6f 6e2f 446f 776e 6c6f  ers/simon/Downlo
-000090b0: 6164 732f 315f 4c48 5f30 5f33 2e6d 7034  ads/1_LH_0_3.mp4
-000090c0: 272c 2066 6f6e 7473 697a 653d 3930 290a  ', fontsize=90).
-000090d0: 0a64 6566 2072 656d 6f76 655f 6265 6769  .def remove_begi
-000090e0: 6e6e 696e 675f 6f66 5f76 6964 656f 280a  nning_of_video(.
-000090f0: 2020 2020 6669 6c65 5f70 6174 683a 2055      file_path: U
-00009100: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
-00009110: 684c 696b 655d 2c20 7469 6d65 3a20 696e  hLike], time: in
-00009120: 742c 2067 7075 3a20 4f70 7469 6f6e 616c  t, gpu: Optional
-00009130: 5b62 6f6f 6c5d 203d 2046 616c 7365 0a29  [bool] = False.)
-00009140: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2222   -> None:.    ""
-00009150: 220a 2020 2020 5265 6d6f 7665 204e 2073  ".    Remove N s
-00009160: 6563 6f6e 6473 2066 726f 6d20 7468 6520  econds from the 
-00009170: 6265 6769 6e6e 696e 6720 6f66 2061 2076  beginning of a v
-00009180: 6964 656f 2066 696c 652e 2054 6865 2072  ideo file. The r
-00009190: 6573 756c 7420 6973 2073 746f 7265 6420  esult is stored 
-000091a0: 696e 2074 6865 2073 616d 6520 6469 7265  in the same dire
-000091b0: 6374 6f72 7920 6173 2074 6865 0a20 2020  ctory as the.   
-000091c0: 2069 6e70 7574 2066 696c 6520 7769 7468   input file with
-000091d0: 2074 6865 2060 605f 7368 6f72 7465 6e2e   the ``_shorten.
-000091e0: 6d70 3460 6020 7375 6666 6978 2e0a 0a20  mp4`` suffix... 
-000091f0: 2020 203a 7061 7261 6d65 7465 7220 556e     :parameter Un
-00009200: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
-00009210: 4c69 6b65 5d20 6669 6c65 5f70 6174 683a  Like] file_path:
-00009220: 2050 6174 6820 746f 2076 6964 656f 2066   Path to video f
-00009230: 696c 650a 2020 2020 3a70 6172 616d 6574  ile.    :paramet
-00009240: 6572 2069 6e74 2074 696d 653a 204e 756d  er int time: Num
-00009250: 6265 7220 6f66 2073 6563 6f6e 6473 2074  ber of seconds t
-00009260: 6f20 7265 6d6f 7665 2066 726f 6d20 7468  o remove from th
-00009270: 6520 6265 6769 6e6e 696e 6720 6f66 2074  e beginning of t
-00009280: 6865 2076 6964 656f 2e0a 2020 2020 3a70  he video..    :p
-00009290: 6172 616d 6574 6572 204f 7074 696f 6e61  arameter Optiona
-000092a0: 6c5b 626f 6f6c 5d20 6770 753a 2049 6620  l[bool] gpu: If 
-000092b0: 5472 7565 2c20 7573 6520 4e56 4944 4541  True, use NVIDEA
-000092c0: 2047 5055 2063 6f64 6563 732e 2044 6566   GPU codecs. Def
-000092d0: 6175 6c74 2046 616c 7365 2e0a 0a20 2020  ault False...   
-000092e0: 203a 6578 616d 706c 653a 0a20 2020 203e   :example:.    >
-000092f0: 3e3e 205f 203d 2072 656d 6f76 655f 6265  >> _ = remove_be
-00009300: 6769 6e6e 696e 675f 6f66 5f76 6964 656f  ginning_of_video
-00009310: 2866 696c 655f 7061 7468 3d27 7072 6f6a  (file_path='proj
-00009320: 6563 745f 666f 6c64 6572 2f76 6964 656f  ect_folder/video
-00009330: 732f 5669 6465 6f5f 312e 6176 6927 2c20  s/Video_1.avi', 
-00009340: 7469 6d65 3d31 3029 0a20 2020 2022 2222  time=10).    """
-00009350: 0a0a 2020 2020 6368 6563 6b5f 6666 6d70  ..    check_ffmp
-00009360: 6567 5f61 7661 696c 6162 6c65 2872 6169  eg_available(rai
-00009370: 7365 5f65 7272 6f72 3d54 7275 6529 0a20  se_error=True). 
-00009380: 2020 2074 696d 6572 203d 2053 696d 6261     timer = Simba
-00009390: 5469 6d65 7228 7374 6172 743d 5472 7565  Timer(start=True
-000093a0: 290a 2020 2020 6368 6563 6b5f 6669 6c65  ).    check_file
-000093b0: 5f65 7869 7374 5f61 6e64 5f72 6561 6461  _exist_and_reada
-000093c0: 626c 6528 6669 6c65 5f70 6174 683d 6669  ble(file_path=fi
-000093d0: 6c65 5f70 6174 6829 0a20 2020 2063 6865  le_path).    che
-000093e0: 636b 5f69 6e74 286e 616d 653d 2243 7574  ck_int(name="Cut
-000093f0: 2074 696d 6522 2c20 7661 6c75 653d 7469   time", value=ti
-00009400: 6d65 290a 2020 2020 6469 722c 2066 696c  me).    dir, fil
-00009410: 655f 6e61 6d65 2c20 6578 7420 3d20 6765  e_name, ext = ge
-00009420: 745f 666e 5f65 7874 2866 696c 6570 6174  t_fn_ext(filepat
-00009430: 683d 6669 6c65 5f70 6174 6829 0a20 2020  h=file_path).   
-00009440: 2073 6176 655f 6e61 6d65 203d 206f 732e   save_name = os.
-00009450: 7061 7468 2e6a 6f69 6e28 6469 722c 2066  path.join(dir, f
-00009460: 696c 655f 6e61 6d65 202b 2022 5f73 686f  ile_name + "_sho
-00009470: 7274 656e 2e6d 7034 2229 0a20 2020 2069  rten.mp4").    i
-00009480: 6620 6f73 2e70 6174 682e 6973 6669 6c65  f os.path.isfile
-00009490: 2873 6176 655f 6e61 6d65 293a 0a20 2020  (save_name):.   
-000094a0: 2020 2020 2072 6169 7365 2046 696c 6545       raise FileE
-000094b0: 7869 7374 4572 726f 7228 0a20 2020 2020  xistError(.     
-000094c0: 2020 2020 2020 206d 7367 3d22 5349 4d42         msg="SIMB
-000094d0: 4120 4552 524f 523a 2054 6865 206f 7574  A ERROR: The out
-000094e0: 6669 6c65 2066 696c 6520 616c 7265 6164  file file alread
-000094f0: 7920 6578 6973 743a 207b 7d2e 222e 666f  y exist: {}.".fo
-00009500: 726d 6174 2873 6176 655f 6e61 6d65 292c  rmat(save_name),
-00009510: 0a20 2020 2020 2020 2020 2020 2073 6f75  .            sou
-00009520: 7263 653d 7265 6d6f 7665 5f62 6567 696e  rce=remove_begin
-00009530: 6e69 6e67 5f6f 665f 7669 6465 6f2e 5f5f  ning_of_video.__
-00009540: 6e61 6d65 5f5f 2c0a 2020 2020 2020 2020  name__,.        
-00009550: 290a 2020 2020 6966 2067 7075 3a0a 2020  ).    if gpu:.  
-00009560: 2020 2020 2020 6966 206e 6f74 2063 6865        if not che
-00009570: 636b 5f6e 7669 6465 615f 6770 755f 6176  ck_nvidea_gpu_av
-00009580: 6169 6c61 626c 6528 293a 0a20 2020 2020  ailable():.     
-00009590: 2020 2020 2020 2072 6169 7365 2046 464d         raise FFM
-000095a0: 5045 4743 6f64 6563 4750 5545 7272 6f72  PEGCodecGPUError
-000095b0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-000095c0: 2020 6d73 673d 224e 6f20 4750 5520 666f    msg="No GPU fo
-000095d0: 756e 6420 2861 7320 6576 616c 7561 7465  und (as evaluate
-000095e0: 6420 6279 206e 7669 6465 612d 736d 6920  d by nvidea-smi 
-000095f0: 7265 7475 726e 696e 6720 4e6f 6e65 2922  returning None)"
-00009600: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00009610: 2020 736f 7572 6365 3d72 656d 6f76 655f    source=remove_
-00009620: 6265 6769 6e6e 696e 675f 6f66 5f76 6964  beginning_of_vid
-00009630: 656f 2e5f 5f6e 616d 655f 5f2c 0a20 2020  eo.__name__,.   
-00009640: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-00009650: 2020 2063 6f6d 6d61 6e64 203d 2027 6666     command = 'ff
-00009660: 6d70 6567 202d 6877 6163 6365 6c20 6175  mpeg -hwaccel au
-00009670: 746f 202d 633a 7620 6832 3634 5f63 7576  to -c:v h264_cuv
-00009680: 6964 202d 7373 207b 7d20 2d69 2022 7b7d  id -ss {} -i "{}
-00009690: 2220 2d63 3a76 2068 3236 345f 6e76 656e  " -c:v h264_nven
-000096a0: 6320 2d63 3a61 2061 6163 2022 7b7d 2227  c -c:a aac "{}"'
-000096b0: 2e66 6f72 6d61 7428 0a20 2020 2020 2020  .format(.       
-000096c0: 2020 2020 2069 6e74 2874 696d 6529 2c20       int(time), 
-000096d0: 6669 6c65 5f70 6174 682c 2073 6176 655f  file_path, save_
-000096e0: 6e61 6d65 0a20 2020 2020 2020 2029 0a20  name.        ). 
-000096f0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00009700: 2063 6f6d 6d61 6e64 203d 2066 2766 666d   command = f'ffm
-00009710: 7065 6720 2d73 7320 7b69 6e74 2874 696d  peg -ss {int(tim
-00009720: 6529 7d20 2d69 2022 7b66 696c 655f 7061  e)} -i "{file_pa
-00009730: 7468 7d22 202d 633a 7620 6c69 6278 3236  th}" -c:v libx26
-00009740: 3420 2d63 3a61 2061 6163 2022 7b73 6176  4 -c:a aac "{sav
-00009750: 655f 6e61 6d65 7d22 270a 2020 2020 7072  e_name}"'.    pr
-00009760: 696e 7428 2253 686f 7274 656e 696e 6720  int("Shortening 
-00009770: 7669 6465 6f2e 2e2e 2022 290a 2020 2020  video... ").    
-00009780: 7375 6270 726f 6365 7373 2e63 616c 6c28  subprocess.call(
-00009790: 636f 6d6d 616e 642c 2073 6865 6c6c 3d54  command, shell=T
-000097a0: 7275 652c 2073 7464 6f75 743d 7375 6270  rue, stdout=subp
-000097b0: 726f 6365 7373 2e50 4950 4529 0a20 2020  rocess.PIPE).   
-000097c0: 2074 696d 6572 2e73 746f 705f 7469 6d65   timer.stop_time
-000097d0: 7228 290a 2020 2020 7374 646f 7574 5f73  r().    stdout_s
-000097e0: 7563 6365 7373 280a 2020 2020 2020 2020  uccess(.        
-000097f0: 6d73 673d 6622 5349 4d42 4120 434f 4d50  msg=f"SIMBA COMP
-00009800: 4c45 5445 3a20 5669 6465 6f20 636f 6e76  LETE: Video conv
-00009810: 6572 7465 6421 207b 7361 7665 5f6e 616d  erted! {save_nam
-00009820: 657d 2067 656e 6572 6174 6564 2122 2c0a  e} generated!",.
-00009830: 2020 2020 2020 2020 656c 6170 7365 645f          elapsed_
-00009840: 7469 6d65 3d74 696d 6572 2e65 6c61 7073  time=timer.elaps
-00009850: 6564 5f74 696d 655f 7374 722c 0a20 2020  ed_time_str,.   
-00009860: 2020 2020 2073 6f75 7263 653d 7265 6d6f       source=remo
-00009870: 7665 5f62 6567 696e 6e69 6e67 5f6f 665f  ve_beginning_of_
-00009880: 7669 6465 6f2e 5f5f 6e61 6d65 5f5f 2c0a  video.__name__,.
-00009890: 2020 2020 290a 0a0a 2320 7265 6d6f 7665      )...# remove
-000098a0: 5f62 6567 696e 6e69 6e67 5f6f 665f 7669  _beginning_of_vi
-000098b0: 6465 6f28 6669 6c65 5f70 6174 683d 7227  deo(file_path=r'
-000098c0: 2f55 7365 7273 2f73 696d 6f6e 2f44 6573  /Users/simon/Des
-000098d0: 6b74 6f70 2f65 6e76 732f 7369 6d62 612f  ktop/envs/simba/
-000098e0: 7472 6f75 626c 6573 686f 6f74 696e 672f  troubleshooting/
-000098f0: 6d6f 7573 655f 6f70 656e 5f66 6965 6c64  mouse_open_field
-00009900: 2f70 726f 6a65 6374 5f66 6f6c 6465 722f  /project_folder/
-00009910: 7669 6465 6f73 2f53 495f 4441 5933 5f33  videos/SI_DAY3_3
-00009920: 3038 5f43 4431 5f50 5245 5345 4e54 5f66  08_CD1_PRESENT_f
-00009930: 7261 6d65 5f6e 6f2e 6d70 3427 2c20 7469  rame_no.mp4', ti
-00009940: 6d65 3d31 302c 2067 7075 3d46 616c 7365  me=10, gpu=False
-00009950: 290a 0a0a 6465 6620 636c 6970 5f76 6964  )...def clip_vid
-00009960: 656f 5f69 6e5f 7261 6e67 6528 6669 6c65  eo_in_range(file
-00009970: 5f70 6174 683a 2055 6e69 6f6e 5b73 7472  _path: Union[str
-00009980: 2c20 6f73 2e50 6174 684c 696b 655d 2c0a  , os.PathLike],.
-00009990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000099a0: 2020 2020 2020 2020 7374 6172 745f 7469          start_ti
-000099b0: 6d65 3a20 7374 722c 0a20 2020 2020 2020  me: str,.       
-000099c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000099d0: 2065 6e64 5f74 696d 653a 2073 7472 2c0a   end_time: str,.
-000099e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000099f0: 2020 2020 2020 2020 6f75 745f 6469 723a          out_dir:
-00009a00: 204f 7074 696f 6e61 6c5b 556e 696f 6e5b   Optional[Union[
-00009a10: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
-00009a20: 5d5d 203d 204e 6f6e 652c 0a20 2020 2020  ]] = None,.     
-00009a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009a40: 2020 206f 7665 7277 7269 7465 3a20 4f70     overwrite: Op
-00009a50: 7469 6f6e 616c 5b62 6f6f 6c5d 203d 2046  tional[bool] = F
-00009a60: 616c 7365 2c0a 2020 2020 2020 2020 2020  alse,.          
-00009a70: 2020 2020 2020 2020 2020 2020 2020 696e                in
-00009a80: 636c 7564 655f 636c 6970 5f74 696d 655f  clude_clip_time_
-00009a90: 696e 5f66 696c 656e 616d 653a 204f 7074  in_filename: Opt
-00009aa0: 696f 6e61 6c5b 626f 6f6c 5d20 3d20 4661  ional[bool] = Fa
-00009ab0: 6c73 652c 0a20 2020 2020 2020 2020 2020  lse,.           
-00009ac0: 2020 2020 2020 2020 2020 2020 2067 7075               gpu
-00009ad0: 3a20 4f70 7469 6f6e 616c 5b62 6f6f 6c5d  : Optional[bool]
-00009ae0: 203d 2046 616c 7365 2920 2d3e 204e 6f6e   = False) -> Non
-00009af0: 653a 0a20 2020 2022 2222 0a20 2020 2043  e:.    """.    C
-00009b00: 6c69 7020 7669 6465 6f20 7769 7468 696e  lip video within
-00009b10: 2061 2073 7065 6369 6669 6320 7261 6e67   a specific rang
-00009b20: 652e 2054 6865 2072 6573 756c 7420 6973  e. The result is
-00009b30: 2073 746f 7265 6420 696e 2074 6865 2073   stored in the s
-00009b40: 616d 6520 6469 7265 6374 6f72 7920 6173  ame directory as
-00009b50: 2074 6865 0a20 2020 2069 6e70 7574 2066   the.    input f
-00009b60: 696c 6520 7769 7468 2074 6865 2060 605f  ile with the ``_
-00009b70: 636c 6970 7065 642e 6d70 3460 6020 7375  clipped.mp4`` su
-00009b80: 6666 6978 2e0a 0a20 2020 203a 7061 7261  ffix...    :para
-00009b90: 6d65 7465 7220 556e 696f 6e5b 7374 722c  meter Union[str,
-00009ba0: 206f 732e 5061 7468 4c69 6b65 5d20 6669   os.PathLike] fi
-00009bb0: 6c65 5f70 6174 683a 2050 6174 6820 746f  le_path: Path to
-00009bc0: 2076 6964 656f 2066 696c 650a 2020 2020   video file.    
-00009bd0: 3a70 6172 616d 6574 6572 2073 7472 2073  :parameter str s
-00009be0: 7461 7274 5f74 696d 653a 2053 7461 7274  tart_time: Start
-00009bf0: 2074 696d 6520 696e 2048 483a 4d4d 3a53   time in HH:MM:S
-00009c00: 5320 666f 726d 6174 2e0a 2020 2020 3a70  S format..    :p
-00009c10: 6172 616d 6574 6572 2073 7472 2065 6e64  arameter str end
-00009c20: 5f74 696d 653a 2045 6e64 2074 696d 6520  _time: End time 
-00009c30: 696e 2048 483a 4d4d 3a53 5320 666f 726d  in HH:MM:SS form
-00009c40: 6174 2e0a 2020 2020 3a70 6172 616d 6574  at..    :paramet
-00009c50: 6572 204f 7074 696f 6e61 6c5b 556e 696f  er Optional[Unio
-00009c60: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
-00009c70: 6b65 5d5d 206f 7574 5f64 6972 3a20 4966  ke]] out_dir: If
-00009c80: 204e 6f6e 652c 2074 6865 6e20 7468 6520   None, then the 
-00009c90: 636c 6970 2077 696c 6c20 6265 2073 746f  clip will be sto
-00009ca0: 7265 6420 696e 2074 6865 2073 616d 6520  red in the same 
-00009cb0: 6469 7220 6173 2074 6865 2069 6e70 7574  dir as the input
-00009cc0: 2076 6964 656f 2e20 4966 2064 6972 6563   video. If direc
-00009cd0: 746f 7279 2c20 7468 656e 2074 6865 206c  tory, then the l
-00009ce0: 6f63 6174 696f 6e20 6f66 2074 6865 206f  ocation of the o
-00009cf0: 7574 7075 7420 6669 6c65 732e 0a20 2020  utput files..   
-00009d00: 203a 7061 7261 6d65 7465 7220 4f70 7469   :parameter Opti
-00009d10: 6f6e 616c 5b62 6f6f 6c5d 2069 6e63 6c75  onal[bool] inclu
-00009d20: 6465 5f63 6c69 705f 7469 6d65 5f69 6e5f  de_clip_time_in_
-00009d30: 6669 6c65 6e61 6d65 3a20 4966 2054 7275  filename: If Tru
-00009d40: 652c 2069 6e63 6c75 6465 2074 6865 2063  e, include the c
-00009d50: 6c69 7020 7374 6172 7420 616e 6420 656e  lip start and en
-00009d60: 6420 696e 2048 482d 4d4d 2d53 5320 666f  d in HH-MM-SS fo
-00009d70: 726d 6174 2061 7320 7375 6666 6978 2069  rmat as suffix i
-00009d80: 6e20 7468 6520 6669 6c65 6e61 6d65 2e20  n the filename. 
-00009d90: 4966 2046 616c 7365 2c20 7468 656e 2075  If False, then u
-00009da0: 7365 2069 6e74 6567 6572 2073 7566 6669  se integer suffi
-00009db0: 6320 7265 7072 6573 656e 7469 6e67 2074  c representing t
-00009dc0: 6865 2063 6f75 6e74 2e0a 2020 2020 3a70  he count..    :p
-00009dd0: 6172 616d 6574 6572 204f 7074 696f 6e61  arameter Optiona
-00009de0: 6c5b 626f 6f6c 5d20 6f76 6572 7772 6974  l[bool] overwrit
-00009df0: 653a 2049 6620 5472 7565 2c20 7468 6520  e: If True, the 
-00009e00: 6f76 6572 7772 6974 6520 6f75 7470 7574  overwrite output
-00009e10: 2066 696c 6520 6966 2070 6174 6820 616c   file if path al
-00009e20: 7265 6164 7920 6578 6973 742e 2049 6620  ready exist. If 
-00009e30: 4661 6c73 652c 2074 6865 6e20 7261 6973  False, then rais
-00009e40: 6520 4669 6c65 4578 6973 7445 7272 6f72  e FileExistError
-00009e50: 2e0a 2020 2020 3a70 6172 616d 6574 6572  ..    :parameter
-00009e60: 204f 7074 696f 6e61 6c5b 626f 6f6c 5d20   Optional[bool] 
-00009e70: 6770 753a 2049 6620 5472 7565 2c20 7573  gpu: If True, us
-00009e80: 6520 4e56 4944 4541 2047 5055 2063 6f64  e NVIDEA GPU cod
-00009e90: 6563 732e 2044 6566 6175 6c74 2046 616c  ecs. Default Fal
-00009ea0: 7365 2e0a 0a20 2020 203a 6578 616d 706c  se...    :exampl
-00009eb0: 653a 0a20 2020 203e 3e3e 205f 203d 2063  e:.    >>> _ = c
-00009ec0: 6c69 705f 7669 6465 6f5f 696e 5f72 616e  lip_video_in_ran
-00009ed0: 6765 2866 696c 655f 7061 7468 3d27 7072  ge(file_path='pr
-00009ee0: 6f6a 6563 745f 666f 6c64 6572 2f76 6964  oject_folder/vid
-00009ef0: 656f 732f 5669 6465 6f5f 312e 6176 6927  eos/Video_1.avi'
-00009f00: 2c20 7374 6172 745f 7469 6d65 3d27 3030  , start_time='00
-00009f10: 3a30 303a 3035 272c 2065 6e64 5f74 696d  :00:05', end_tim
-00009f20: 653d 2730 303a 3030 3a31 3027 290a 2020  e='00:00:10').  
-00009f30: 2020 2222 220a 0a20 2020 2063 6865 636b    """..    check
-00009f40: 5f66 666d 7065 675f 6176 6169 6c61 626c  _ffmpeg_availabl
-00009f50: 6528 7261 6973 655f 6572 726f 723d 5472  e(raise_error=Tr
-00009f60: 7565 290a 2020 2020 6966 2067 7075 2061  ue).    if gpu a
-00009f70: 6e64 206e 6f74 2063 6865 636b 5f6e 7669  nd not check_nvi
-00009f80: 6465 615f 6770 755f 6176 6169 6c61 626c  dea_gpu_availabl
-00009f90: 6528 293a 0a20 2020 2020 2020 2072 6169  e():.        rai
-00009fa0: 7365 2046 464d 5045 4743 6f64 6563 4750  se FFMPEGCodecGP
-00009fb0: 5545 7272 6f72 280a 2020 2020 2020 2020  UError(.        
-00009fc0: 2020 2020 6d73 673d 224e 6f20 4750 5520      msg="No GPU 
-00009fd0: 666f 756e 6420 2861 7320 6576 616c 7561  found (as evalua
-00009fe0: 7465 6420 6279 206e 7669 6465 612d 736d  ted by nvidea-sm
-00009ff0: 6920 7265 7475 726e 696e 6720 4e6f 6e65  i returning None
-0000a000: 2922 2c0a 2020 2020 2020 2020 2020 2020  )",.            
-0000a010: 736f 7572 6365 3d63 6c69 705f 7669 6465  source=clip_vide
-0000a020: 6f5f 696e 5f72 616e 6765 2e5f 5f6e 616d  o_in_range.__nam
-0000a030: 655f 5f2c 0a20 2020 2020 2020 2029 0a20  e__,.        ). 
-0000a040: 2020 2074 696d 6572 203d 2053 696d 6261     timer = Simba
-0000a050: 5469 6d65 7228 7374 6172 743d 5472 7565  Timer(start=True
-0000a060: 290a 2020 2020 6368 6563 6b5f 6669 6c65  ).    check_file
-0000a070: 5f65 7869 7374 5f61 6e64 5f72 6561 6461  _exist_and_reada
-0000a080: 626c 6528 6669 6c65 5f70 6174 683d 6669  ble(file_path=fi
-0000a090: 6c65 5f70 6174 6829 0a20 2020 2064 6972  le_path).    dir
-0000a0a0: 2c20 6669 6c65 5f6e 616d 652c 2065 7874  , file_name, ext
-0000a0b0: 203d 2067 6574 5f66 6e5f 6578 7428 6669   = get_fn_ext(fi
-0000a0c0: 6c65 7061 7468 3d66 696c 655f 7061 7468  lepath=file_path
-0000a0d0: 290a 2020 2020 6966 206f 7574 5f64 6972  ).    if out_dir
-0000a0e0: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
-0000a0f0: 2020 2020 2020 6368 6563 6b5f 6966 5f64        check_if_d
-0000a100: 6972 5f65 7869 7374 7328 696e 5f64 6972  ir_exists(in_dir
-0000a110: 3d6f 7574 5f64 6972 290a 2020 2020 2020  =out_dir).      
-0000a120: 2020 6469 7220 3d20 6f75 745f 6469 720a    dir = out_dir.
-0000a130: 2020 2020 6368 6563 6b5f 6966 5f73 7472      check_if_str
-0000a140: 696e 675f 7661 6c75 655f 6973 5f76 616c  ing_value_is_val
-0000a150: 6964 5f76 6964 656f 5f74 696d 6573 7461  id_video_timesta
-0000a160: 6d70 2876 616c 7565 3d73 7461 7274 5f74  mp(value=start_t
-0000a170: 696d 652c 206e 616d 653d 2253 5441 5254  ime, name="START
-0000a180: 2054 494d 4522 290a 2020 2020 6368 6563   TIME").    chec
-0000a190: 6b5f 6966 5f73 7472 696e 675f 7661 6c75  k_if_string_valu
-0000a1a0: 655f 6973 5f76 616c 6964 5f76 6964 656f  e_is_valid_video
-0000a1b0: 5f74 696d 6573 7461 6d70 2876 616c 7565  _timestamp(value
-0000a1c0: 3d65 6e64 5f74 696d 652c 206e 616d 653d  =end_time, name=
-0000a1d0: 2245 4e44 2054 494d 4522 290a 2020 2020  "END TIME").    
-0000a1e0: 6368 6563 6b5f 7468 6174 5f68 686d 6d73  check_that_hhmms
-0000a1f0: 735f 7374 6172 745f 6973 5f62 6566 6f72  s_start_is_befor
-0000a200: 655f 656e 6428 0a20 2020 2020 2020 2073  e_end(.        s
-0000a210: 7461 7274 5f74 696d 653d 7374 6172 745f  tart_time=start_
-0000a220: 7469 6d65 2c20 656e 645f 7469 6d65 3d65  time, end_time=e
-0000a230: 6e64 5f74 696d 652c 206e 616d 653d 6622  nd_time, name=f"
-0000a240: 7b66 696c 655f 6e61 6d65 7d20 7469 6d65  {file_name} time
-0000a250: 7374 616d 7073 220a 2020 2020 290a 2020  stamps".    ).  
-0000a260: 2020 6966 206e 6f74 2069 6e63 6c75 6465    if not include
-0000a270: 5f63 6c69 705f 7469 6d65 5f69 6e5f 6669  _clip_time_in_fi
-0000a280: 6c65 6e61 6d65 3a0a 2020 2020 2020 2020  lename:.        
-0000a290: 7361 7665 5f6e 616d 6520 3d20 6f73 2e70  save_name = os.p
-0000a2a0: 6174 682e 6a6f 696e 2864 6972 2c20 6669  ath.join(dir, fi
-0000a2b0: 6c65 5f6e 616d 6520 2b20 225f 636c 6970  le_name + "_clip
-0000a2c0: 7065 642e 6d70 3422 290a 2020 2020 656c  ped.mp4").    el
-0000a2d0: 7365 3a0a 2020 2020 2020 2020 7361 7665  se:.        save
-0000a2e0: 5f6e 616d 6520 3d20 6f73 2e70 6174 682e  _name = os.path.
-0000a2f0: 6a6f 696e 280a 2020 2020 2020 2020 2020  join(.          
-0000a300: 2020 6469 722c 0a20 2020 2020 2020 2020    dir,.         
-0000a310: 2020 2066 696c 655f 6e61 6d65 0a20 2020     file_name.   
-0000a320: 2020 2020 2020 2020 202b 2066 275f 7b73           + f'_{s
-0000a330: 7461 7274 5f74 696d 652e 7265 706c 6163  tart_time.replac
-0000a340: 6528 223a 222c 2022 2d22 297d 5f7b 656e  e(":", "-")}_{en
-0000a350: 645f 7469 6d65 2e72 6570 6c61 6365 2822  d_time.replace("
-0000a360: 3a22 2c20 222d 2229 7d2e 6d70 3427 2c0a  :", "-")}.mp4',.
-0000a370: 2020 2020 2020 2020 290a 2020 2020 6966          ).    if
-0000a380: 206f 732e 7061 7468 2e69 7366 696c 6528   os.path.isfile(
-0000a390: 7361 7665 5f6e 616d 6529 2061 6e64 2028  save_name) and (
-0000a3a0: 6e6f 7420 6f76 6572 7772 6974 6529 3a0a  not overwrite):.
-0000a3b0: 2020 2020 2020 2020 7261 6973 6520 4669          raise Fi
-0000a3c0: 6c65 4578 6973 7445 7272 6f72 280a 2020  leExistError(.  
-0000a3d0: 2020 2020 2020 2020 2020 6d73 673d 6622            msg=f"
-0000a3e0: 5349 4d42 4120 4552 524f 523a 2054 6865  SIMBA ERROR: The
-0000a3f0: 206f 7574 6669 6c65 2066 696c 6520 616c   outfile file al
-0000a400: 7265 6164 7920 6578 6973 743a 207b 7361  ready exist: {sa
-0000a410: 7665 5f6e 616d 657d 2e22 2c0a 2020 2020  ve_name}.",.    
-0000a420: 2020 2020 2020 2020 736f 7572 6365 3d63          source=c
-0000a430: 6c69 705f 7669 6465 6f5f 696e 5f72 616e  lip_video_in_ran
-0000a440: 6765 2e5f 5f6e 616d 655f 5f2c 0a20 2020  ge.__name__,.   
-0000a450: 2020 2020 2029 0a20 2020 2069 6620 6770       ).    if gp
-0000a460: 753a 0a20 2020 2020 2020 2063 6f6d 6d61  u:.        comma
-0000a470: 6e64 203d 2066 2766 666d 7065 6720 2d68  nd = f'ffmpeg -h
-0000a480: 7761 6363 656c 2061 7574 6f20 2d63 3a76  waccel auto -c:v
-0000a490: 2068 3236 345f 6375 7669 6420 2d69 2022   h264_cuvid -i "
-0000a4a0: 7b66 696c 655f 7061 7468 7d22 202d 7373  {file_path}" -ss
-0000a4b0: 207b 7374 6172 745f 7469 6d65 7d20 2d74   {start_time} -t
-0000a4c0: 6f20 7b65 6e64 5f74 696d 657d 202d 6173  o {end_time} -as
-0000a4d0: 796e 6320 3120 227b 7361 7665 5f6e 616d  ync 1 "{save_nam
-0000a4e0: 657d 2220 2d79 270a 2020 2020 656c 7365  e}" -y'.    else
-0000a4f0: 3a0a 2020 2020 2020 2020 636f 6d6d 616e  :.        comman
-0000a500: 6420 3d20 6627 6666 6d70 6567 202d 6920  d = f'ffmpeg -i 
-0000a510: 227b 6669 6c65 5f70 6174 687d 2220 2d73  "{file_path}" -s
-0000a520: 7320 7b73 7461 7274 5f74 696d 657d 202d  s {start_time} -
-0000a530: 746f 207b 656e 645f 7469 6d65 7d20 2d61  to {end_time} -a
-0000a540: 7379 6e63 2031 202d 633a 7620 6c69 6276  sync 1 -c:v libv
-0000a550: 7078 2d76 7039 2022 7b73 6176 655f 6e61  px-vp9 "{save_na
-0000a560: 6d65 7d22 202d 7927 0a20 2020 2070 7269  me}" -y'.    pri
-0000a570: 6e74 2866 2243 6c69 7070 696e 6720 7669  nt(f"Clipping vi
-0000a580: 6465 6f20 7b66 696c 655f 6e61 6d65 7d20  deo {file_name} 
-0000a590: 6265 7477 6565 6e20 7b73 7461 7274 5f74  between {start_t
-0000a5a0: 696d 657d 2061 6e64 207b 656e 645f 7469  ime} and {end_ti
-0000a5b0: 6d65 7d2e 2e2e 2022 290a 2020 2020 7375  me}... ").    su
-0000a5c0: 6270 726f 6365 7373 2e63 616c 6c28 636f  bprocess.call(co
-0000a5d0: 6d6d 616e 642c 2073 6865 6c6c 3d54 7275  mmand, shell=Tru
-0000a5e0: 652c 2073 7464 6f75 743d 7375 6270 726f  e, stdout=subpro
-0000a5f0: 6365 7373 2e50 4950 4529 0a20 2020 2074  cess.PIPE).    t
-0000a600: 696d 6572 2e73 746f 705f 7469 6d65 7228  imer.stop_timer(
-0000a610: 290a 2020 2020 7374 646f 7574 5f73 7563  ).    stdout_suc
-0000a620: 6365 7373 280a 2020 2020 2020 2020 6d73  cess(.        ms
-0000a630: 673d 6622 5669 6465 6f20 636f 6e76 6572  g=f"Video conver
-0000a640: 7465 6421 207b 7361 7665 5f6e 616d 657d  ted! {save_name}
-0000a650: 2067 656e 6572 6174 6564 2122 2c0a 2020   generated!",.  
-0000a660: 2020 2020 2020 656c 6170 7365 645f 7469        elapsed_ti
-0000a670: 6d65 3d74 696d 6572 2e65 6c61 7073 6564  me=timer.elapsed
-0000a680: 5f74 696d 655f 7374 722c 0a20 2020 2020  _time_str,.     
-0000a690: 2020 2073 6f75 7263 653d 636c 6970 5f76     source=clip_v
-0000a6a0: 6964 656f 5f69 6e5f 7261 6e67 652e 5f5f  ideo_in_range.__
-0000a6b0: 6e61 6d65 5f5f 2c0a 2020 2020 290a 0a0a  name__,.    )...
-0000a6c0: 6465 6620 646f 776e 7361 6d70 6c65 5f76  def downsample_v
-0000a6d0: 6964 656f 280a 2020 2020 6669 6c65 5f70  ideo(.    file_p
-0000a6e0: 6174 683a 2055 6e69 6f6e 5b73 7472 2c20  ath: Union[str, 
-0000a6f0: 6f73 2e50 6174 684c 696b 655d 2c0a 2020  os.PathLike],.  
-0000a700: 2020 7669 6465 6f5f 6865 6967 6874 3a20    video_height: 
-0000a710: 696e 742c 0a20 2020 2076 6964 656f 5f77  int,.    video_w
-0000a720: 6964 7468 3a20 696e 742c 0a20 2020 2067  idth: int,.    g
-0000a730: 7075 3a20 4f70 7469 6f6e 616c 5b62 6f6f  pu: Optional[boo
-0000a740: 6c5d 203d 2046 616c 7365 2c0a 2920 2d3e  l] = False,.) ->
-0000a750: 204e 6f6e 653a 0a20 2020 2022 2222 0a20   None:.    """. 
-0000a760: 2020 2044 6f77 6e2d 7361 6d70 6c65 2061     Down-sample a
-0000a770: 2076 6964 656f 2066 696c 652e 2054 6865   video file. The
-0000a780: 2072 6573 756c 7420 6973 2073 746f 7265   result is store
-0000a790: 6420 696e 2074 6865 2073 616d 6520 6469  d in the same di
-0000a7a0: 7265 6374 6f72 7920 6173 2074 6865 0a20  rectory as the. 
-0000a7b0: 2020 2069 6e70 7574 2066 696c 6520 7769     input file wi
-0000a7c0: 7468 2074 6865 2060 605f 646f 776e 7361  th the ``_downsa
-0000a7d0: 6d70 6c65 642e 6d70 3460 6020 7375 6666  mpled.mp4`` suff
-0000a7e0: 6978 2e0a 0a20 2020 203a 7061 7261 6d65  ix...    :parame
-0000a7f0: 7465 7220 556e 696f 6e5b 7374 722c 206f  ter Union[str, o
-0000a800: 732e 5061 7468 4c69 6b65 5d20 6669 6c65  s.PathLike] file
-0000a810: 5f70 6174 683a 2050 6174 6820 746f 2076  _path: Path to v
-0000a820: 6964 656f 2066 696c 652e 0a20 2020 203a  ideo file..    :
-0000a830: 7061 7261 6d65 7465 7220 696e 7420 7669  parameter int vi
-0000a840: 6465 6f5f 6865 6967 6874 3a20 6865 6967  deo_height: heig
-0000a850: 6874 206f 6620 6e65 7720 7669 6465 6f2e  ht of new video.
-0000a860: 0a20 2020 203a 7061 7261 6d65 7465 7220  .    :parameter 
-0000a870: 696e 7420 7669 6465 6f5f 7769 6474 683a  int video_width:
-0000a880: 2077 6964 7468 206f 6620 6e65 7720 7669   width of new vi
-0000a890: 6465 6f2e 0a20 2020 203a 7061 7261 6d65  deo..    :parame
-0000a8a0: 7465 7220 4f70 7469 6f6e 616c 5b62 6f6f  ter Optional[boo
-0000a8b0: 6c5d 2067 7075 3a20 4966 2054 7275 652c  l] gpu: If True,
-0000a8c0: 2075 7365 204e 5649 4445 4120 4750 5520   use NVIDEA GPU 
-0000a8d0: 636f 6465 6373 2e20 4465 6661 756c 7420  codecs. Default 
-0000a8e0: 4661 6c73 652e 0a0a 2020 2020 3a65 7861  False...    :exa
-0000a8f0: 6d70 6c65 3a0a 2020 2020 3e3e 3e20 5f20  mple:.    >>> _ 
-0000a900: 3d20 646f 776e 7361 6d70 6c65 5f76 6964  = downsample_vid
-0000a910: 656f 2866 696c 655f 7061 7468 3d27 7072  eo(file_path='pr
-0000a920: 6f6a 6563 745f 666f 6c64 6572 2f76 6964  oject_folder/vid
-0000a930: 656f 732f 5669 6465 6f5f 312e 6176 6927  eos/Video_1.avi'
-0000a940: 2c20 7669 6465 6f5f 6865 6967 6874 3d36  , video_height=6
-0000a950: 3030 2c20 7669 6465 6f5f 7769 6474 683d  00, video_width=
-0000a960: 3430 3029 0a20 2020 2022 2222 0a20 2020  400).    """.   
-0000a970: 2063 6865 636b 5f66 666d 7065 675f 6176   check_ffmpeg_av
-0000a980: 6169 6c61 626c 6528 7261 6973 655f 6572  ailable(raise_er
-0000a990: 726f 723d 5472 7565 290a 2020 2020 6966  ror=True).    if
-0000a9a0: 2067 7075 2061 6e64 206e 6f74 2063 6865   gpu and not che
-0000a9b0: 636b 5f6e 7669 6465 615f 6770 755f 6176  ck_nvidea_gpu_av
-0000a9c0: 6169 6c61 626c 6528 293a 0a20 2020 2020  ailable():.     
-0000a9d0: 2020 2072 6169 7365 2046 464d 5045 4743     raise FFMPEGC
-0000a9e0: 6f64 6563 4750 5545 7272 6f72 280a 2020  odecGPUError(.  
-0000a9f0: 2020 2020 2020 2020 2020 6d73 673d 224e            msg="N
-0000aa00: 6f20 4750 5520 666f 756e 6420 2861 7320  o GPU found (as 
-0000aa10: 6576 616c 7561 7465 6420 6279 206e 7669  evaluated by nvi
-0000aa20: 6465 612d 736d 6920 7265 7475 726e 696e  dea-smi returnin
-0000aa30: 6720 4e6f 6e65 2922 2c0a 2020 2020 2020  g None)",.      
-0000aa40: 2020 2020 2020 736f 7572 6365 3d64 6f77        source=dow
-0000aa50: 6e73 616d 706c 655f 7669 6465 6f2e 5f5f  nsample_video.__
-0000aa60: 6e61 6d65 5f5f 2c0a 2020 2020 2020 2020  name__,.        
-0000aa70: 290a 2020 2020 7469 6d65 7220 3d20 5369  ).    timer = Si
-0000aa80: 6d62 6154 696d 6572 2873 7461 7274 3d54  mbaTimer(start=T
-0000aa90: 7275 6529 0a20 2020 2063 6865 636b 5f69  rue).    check_i
-0000aaa0: 6e74 286e 616d 653d 2256 6964 656f 2068  nt(name="Video h
-0000aab0: 6569 6768 7422 2c20 7661 6c75 653d 7669  eight", value=vi
-0000aac0: 6465 6f5f 6865 6967 6874 290a 2020 2020  deo_height).    
-0000aad0: 6368 6563 6b5f 696e 7428 6e61 6d65 3d22  check_int(name="
-0000aae0: 5669 6465 6f20 7769 6474 6822 2c20 7661  Video width", va
-0000aaf0: 6c75 653d 7669 6465 6f5f 7769 6474 6829  lue=video_width)
-0000ab00: 0a20 2020 2063 6865 636b 5f66 696c 655f  .    check_file_
-0000ab10: 6578 6973 745f 616e 645f 7265 6164 6162  exist_and_readab
-0000ab20: 6c65 2866 696c 655f 7061 7468 3d66 696c  le(file_path=fil
-0000ab30: 655f 7061 7468 290a 2020 2020 6469 722c  e_path).    dir,
-0000ab40: 2066 696c 655f 6e61 6d65 2c20 6578 7420   file_name, ext 
-0000ab50: 3d20 6765 745f 666e 5f65 7874 2866 696c  = get_fn_ext(fil
-0000ab60: 6570 6174 683d 6669 6c65 5f70 6174 6829  epath=file_path)
-0000ab70: 0a20 2020 2073 6176 655f 6e61 6d65 203d  .    save_name =
-0000ab80: 206f 732e 7061 7468 2e6a 6f69 6e28 6469   os.path.join(di
-0000ab90: 722c 2066 696c 655f 6e61 6d65 202b 2022  r, file_name + "
-0000aba0: 5f64 6f77 6e73 616d 706c 6564 2e6d 7034  _downsampled.mp4
-0000abb0: 2229 0a20 2020 2069 6620 6f73 2e70 6174  ").    if os.pat
-0000abc0: 682e 6973 6669 6c65 2873 6176 655f 6e61  h.isfile(save_na
-0000abd0: 6d65 293a 0a20 2020 2020 2020 2072 6169  me):.        rai
-0000abe0: 7365 2046 696c 6545 7869 7374 4572 726f  se FileExistErro
-0000abf0: 7228 0a20 2020 2020 2020 2020 2020 2022  r(.            "
-0000ac00: 5349 4d42 4120 4552 524f 523a 2054 6865  SIMBA ERROR: The
-0000ac10: 206f 7574 6669 6c65 2066 696c 6520 616c   outfile file al
-0000ac20: 7265 6164 7920 6578 6973 743a 207b 7d2e  ready exist: {}.
-0000ac30: 222e 666f 726d 6174 2873 6176 655f 6e61  ".format(save_na
-0000ac40: 6d65 292c 0a20 2020 2020 2020 2020 2020  me),.           
-0000ac50: 2073 6f75 7263 653d 646f 776e 7361 6d70   source=downsamp
-0000ac60: 6c65 5f76 6964 656f 2e5f 5f6e 616d 655f  le_video.__name_
-0000ac70: 5f2c 0a20 2020 2020 2020 2029 0a20 2020  _,.        ).   
-0000ac80: 2069 6620 6770 753a 0a20 2020 2020 2020   if gpu:.       
-0000ac90: 2063 6f6d 6d61 6e64 203d 2066 2766 666d   command = f'ffm
-0000aca0: 7065 6720 2d79 202d 6877 6163 6365 6c20  peg -y -hwaccel 
-0000acb0: 6175 746f 202d 633a 7620 6832 3634 5f63  auto -c:v h264_c
-0000acc0: 7576 6964 202d 6920 227b 6669 6c65 5f70  uvid -i "{file_p
-0000acd0: 6174 687d 2220 2d76 6620 2273 6361 6c65  ath}" -vf "scale
-0000ace0: 3d77 3d7b 7669 6465 6f5f 7769 6474 687d  =w={video_width}
-0000acf0: 3a68 3d7b 7669 6465 6f5f 6865 6967 6874  :h={video_height
-0000ad00: 7d3a 666f 7263 655f 6f72 6967 696e 616c  }:force_original
-0000ad10: 5f61 7370 6563 745f 7261 7469 6f3d 6465  _aspect_ratio=de
-0000ad20: 6372 6561 7365 3a66 6c61 6773 3d62 6963  crease:flags=bic
-0000ad30: 7562 6963 2220 2d63 3a76 2068 3236 345f  ubic" -c:v h264_
-0000ad40: 6e76 656e 6320 227b 7361 7665 5f6e 616d  nvenc "{save_nam
-0000ad50: 657d 2227 0a20 2020 2065 6c73 653a 0a20  e}"'.    else:. 
-0000ad60: 2020 2020 2020 2063 6f6d 6d61 6e64 203d         command =
-0000ad70: 2066 2766 666d 7065 6720 2d69 2022 7b66   f'ffmpeg -i "{f
-0000ad80: 696c 655f 7061 7468 7d22 202d 7666 2073  ile_path}" -vf s
-0000ad90: 6361 6c65 3d7b 7669 6465 6f5f 7769 6474  cale={video_widt
-0000ada0: 687d 3a7b 7669 6465 6f5f 6865 6967 6874  h}:{video_height
-0000adb0: 7d20 2d63 3a76 206c 6962 7832 3634 2022  } -c:v libx264 "
-0000adc0: 7b73 6176 655f 6e61 6d65 7d22 202d 6c6f  {save_name}" -lo
-0000add0: 676c 6576 656c 2065 7272 6f72 202d 7374  glevel error -st
-0000ade0: 6174 7320 2d68 6964 655f 6261 6e6e 6572  ats -hide_banner
-0000adf0: 270a 2020 2020 7072 696e 7428 2244 6f77  '.    print("Dow
-0000ae00: 6e2d 7361 6d70 6c69 6e67 2076 6964 656f  n-sampling video
-0000ae10: 2e2e 2e20 2229 0a20 2020 2073 7562 7072  ... ").    subpr
-0000ae20: 6f63 6573 732e 6361 6c6c 2863 6f6d 6d61  ocess.call(comma
-0000ae30: 6e64 2c20 7368 656c 6c3d 5472 7565 2c20  nd, shell=True, 
-0000ae40: 7374 646f 7574 3d73 7562 7072 6f63 6573  stdout=subproces
-0000ae50: 732e 5049 5045 290a 2020 2020 7469 6d65  s.PIPE).    time
-0000ae60: 722e 7374 6f70 5f74 696d 6572 2829 0a20  r.stop_timer(). 
-0000ae70: 2020 2073 7464 6f75 745f 7375 6363 6573     stdout_succes
-0000ae80: 7328 0a20 2020 2020 2020 206d 7367 3d66  s(.        msg=f
-0000ae90: 2253 494d 4241 2043 4f4d 504c 4554 453a  "SIMBA COMPLETE:
-0000aea0: 2056 6964 656f 2063 6f6e 7665 7274 6564   Video converted
-0000aeb0: 2120 7b73 6176 655f 6e61 6d65 7d20 6765  ! {save_name} ge
-0000aec0: 6e65 7261 7465 6421 222c 0a20 2020 2020  nerated!",.     
-0000aed0: 2020 2065 6c61 7073 6564 5f74 696d 653d     elapsed_time=
-0000aee0: 7469 6d65 722e 656c 6170 7365 645f 7469  timer.elapsed_ti
-0000aef0: 6d65 5f73 7472 2c0a 2020 2020 2020 2020  me_str,.        
-0000af00: 736f 7572 6365 3d64 6f77 6e73 616d 706c  source=downsampl
-0000af10: 655f 7669 6465 6f2e 5f5f 6e61 6d65 5f5f  e_video.__name__
-0000af20: 2c0a 2020 2020 290a 0a0a 6465 6620 6769  ,.    )...def gi
-0000af30: 665f 6372 6561 746f 7228 6669 6c65 5f70  f_creator(file_p
-0000af40: 6174 683a 2055 6e69 6f6e 5b73 7472 2c20  ath: Union[str, 
-0000af50: 6f73 2e50 6174 684c 696b 655d 2c0a 2020  os.PathLike],.  
-0000af60: 2020 2020 2020 2020 2020 2020 2020 7374                st
-0000af70: 6172 745f 7469 6d65 3a20 696e 742c 0a20  art_time: int,. 
-0000af80: 2020 2020 2020 2020 2020 2020 2020 2064                 d
-0000af90: 7572 6174 696f 6e3a 2069 6e74 2c0a 2020  uration: int,.  
-0000afa0: 2020 2020 2020 2020 2020 2020 2020 7769                wi
-0000afb0: 6474 683a 204f 7074 696f 6e61 6c5b 696e  dth: Optional[in
-0000afc0: 745d 203d 204e 6f6e 652c 0a20 2020 2020  t] = None,.     
-0000afd0: 2020 2020 2020 2020 2020 2071 7561 6c69             quali
-0000afe0: 7479 3a20 4f70 7469 6f6e 616c 5b69 6e74  ty: Optional[int
-0000aff0: 5d20 3d20 3130 302c 0a20 2020 2020 2020  ] = 100,.       
-0000b000: 2020 2020 2020 2020 2066 7073 3a20 4f70           fps: Op
-0000b010: 7469 6f6e 616c 5b69 6e74 5d20 3d20 3135  tional[int] = 15
-0000b020: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000b030: 2020 6770 753a 204f 7074 696f 6e61 6c5b    gpu: Optional[
-0000b040: 626f 6f6c 5d20 3d20 4661 6c73 6529 202d  bool] = False) -
-0000b050: 3e20 4e6f 6e65 3a0a 2020 2020 2222 220a  > None:.    """.
-0000b060: 2020 2020 4372 6561 7465 2061 2073 616d      Create a sam
-0000b070: 706c 6520 6769 6620 6672 6f6d 2061 2076  ple gif from a v
-0000b080: 6964 656f 2066 696c 652e 2054 6865 2072  ideo file. The r
-0000b090: 6573 756c 7420 6973 2073 746f 7265 6420  esult is stored 
-0000b0a0: 696e 2074 6865 2073 616d 6520 6469 7265  in the same dire
-0000b0b0: 6374 6f72 7920 6173 2074 6865 0a20 2020  ctory as the.   
-0000b0c0: 2069 6e70 7574 2066 696c 6520 7769 7468   input file with
-0000b0d0: 2074 6865 2060 602e 6769 6660 6020 6669   the ``.gif`` fi
-0000b0e0: 6c65 2d65 6e64 696e 672e 0a0a 2020 2020  le-ending...    
-0000b0f0: 2e2e 206e 6f74 653a 3a0a 2020 2020 2020  .. note::.      
-0000b100: 2054 6865 2068 6569 6768 7420 6973 2061   The height is a
-0000b110: 7574 6f2d 636f 6d70 7574 6564 2074 6f20  uto-computed to 
-0000b120: 7265 7461 696e 2061 7370 6563 7420 7261  retain aspect ra
-0000b130: 7469 6f0a 0a20 2020 203a 7061 7261 6d20  tio..    :param 
-0000b140: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
-0000b150: 7468 4c69 6b65 5d20 6669 6c65 5f70 6174  thLike] file_pat
-0000b160: 683a 2050 6174 6820 746f 2076 6964 656f  h: Path to video
-0000b170: 2066 696c 652e 0a20 2020 203a 7061 7261   file..    :para
-0000b180: 6d20 696e 7420 7374 6172 745f 7469 6d65  m int start_time
-0000b190: 3a20 5374 6172 7420 7469 6d65 206f 6620  : Start time of 
-0000b1a0: 7468 6520 6769 6620 696e 2072 656c 6174  the gif in relat
-0000b1b0: 696f 6e20 746f 2074 6865 2076 6964 656f  ion to the video
-0000b1c0: 2069 6e20 7365 636f 6e64 732e 0a20 2020   in seconds..   
-0000b1d0: 203a 7061 7261 6d20 696e 7420 6475 7261   :param int dura
-0000b1e0: 7469 6f6e 3a20 4475 7261 7469 6f6e 206f  tion: Duration o
-0000b1f0: 6620 7468 6520 6769 662e 0a20 2020 203a  f the gif..    :
-0000b200: 7061 7261 6d20 696e 7420 7769 6474 683a  param int width:
-0000b210: 2057 6964 7468 206f 6620 7468 6520 6769   Width of the gi
-0000b220: 662e 2049 6620 4e6f 6e65 2c20 7468 656e  f. If None, then
-0000b230: 2072 6574 6169 6e73 2074 6865 2077 6964   retains the wid
-0000b240: 7468 2061 6e64 2068 6569 6768 7420 6f66  th and height of
-0000b250: 2074 6865 2069 6e70 7574 2076 6964 656f   the input video
-0000b260: 2e0a 2020 2020 3a70 6172 616d 2069 6e74  ..    :param int
-0000b270: 2066 7073 3a20 4650 5320 6f66 2074 6865   fps: FPS of the
-0000b280: 2067 6966 2e20 4465 6661 756c 7473 2074   gif. Defaults t
-0000b290: 6f20 3135 2e0a 2020 2020 3a70 6172 616d  o 15..    :param
-0000b2a0: 2069 6e74 2071 7561 6c69 7479 3a20 5175   int quality: Qu
-0000b2b0: 616c 6974 7920 6f66 2074 6865 2047 4946  ality of the GIF
-0000b2c0: 206f 6e20 7363 616c 6520 312d 3130 302e   on scale 1-100.
-0000b2d0: 2053 6d61 6c6c 6572 2076 616c 7565 7320   Smaller values 
-0000b2e0: 6769 7665 7320 736d 616c 6c65 7220 4749  gives smaller GI
-0000b2f0: 4673 2062 7920 6669 6c65 7369 7a65 2077  Fs by filesize w
-0000b300: 6974 6820 776f 7273 6520 7175 616c 6974  ith worse qualit
-0000b310: 792e 2044 6566 6175 6c74 3a20 3130 302e  y. Default: 100.
-0000b320: 0a20 2020 203a 7061 7261 6d20 4f70 7469  .    :param Opti
-0000b330: 6f6e 616c 5b62 6f6f 6c5d 2067 7075 3a20  onal[bool] gpu: 
-0000b340: 4966 2054 7275 652c 2075 7365 204e 5649  If True, use NVI
-0000b350: 4445 4120 4750 5520 636f 6465 6373 2e20  DEA GPU codecs. 
-0000b360: 4465 6661 756c 7420 4661 6c73 652e 0a0a  Default False...
-0000b370: 2020 2020 3a65 7861 6d70 6c65 3a0a 2020      :example:.  
-0000b380: 2020 3e3e 3e20 5f20 3d20 6769 665f 6372    >>> _ = gif_cr
-0000b390: 6561 746f 7228 6669 6c65 5f70 6174 683d  eator(file_path=
-0000b3a0: 2770 726f 6a65 6374 5f66 6f6c 6465 722f  'project_folder/
-0000b3b0: 7669 6465 6f73 2f56 6964 656f 5f31 2e61  videos/Video_1.a
-0000b3c0: 7669 272c 2073 7461 7274 5f74 696d 653d  vi', start_time=
-0000b3d0: 352c 2064 7572 6174 696f 6e3d 3130 2c20  5, duration=10, 
-0000b3e0: 7769 6474 683d 3630 3029 0a20 2020 2022  width=600).    "
-0000b3f0: 2222 0a0a 2020 2020 6368 6563 6b5f 6666  ""..    check_ff
-0000b400: 6d70 6567 5f61 7661 696c 6162 6c65 2872  mpeg_available(r
-0000b410: 6169 7365 5f65 7272 6f72 3d54 7275 6529  aise_error=True)
-0000b420: 0a20 2020 2069 6620 6770 7520 616e 6420  .    if gpu and 
-0000b430: 6e6f 7420 6368 6563 6b5f 6e76 6964 6561  not check_nvidea
-0000b440: 5f67 7075 5f61 7661 696c 6162 6c65 2829  _gpu_available()
-0000b450: 3a0a 2020 2020 2020 2020 7261 6973 6520  :.        raise 
-0000b460: 4646 4d50 4547 436f 6465 6347 5055 4572  FFMPEGCodecGPUEr
-0000b470: 726f 7228 6d73 673d 224e 5649 4445 4120  ror(msg="NVIDEA 
-0000b480: 4750 5520 6e6f 7420 6176 6169 6c61 626c  GPU not availabl
-0000b490: 6520 2861 7320 6576 616c 7561 7465 6420  e (as evaluated 
-0000b4a0: 6279 206e 7669 6465 612d 736d 6920 7265  by nvidea-smi re
-0000b4b0: 7475 726e 696e 6720 4e6f 6e65 222c 2073  turning None", s
-0000b4c0: 6f75 7263 653d 6769 665f 6372 6561 746f  ource=gif_creato
-0000b4d0: 722e 5f5f 6e61 6d65 5f5f 290a 2020 2020  r.__name__).    
-0000b4e0: 7469 6d65 7220 3d20 5369 6d62 6154 696d  timer = SimbaTim
-0000b4f0: 6572 2873 7461 7274 3d54 7275 6529 0a20  er(start=True). 
-0000b500: 2020 2063 6865 636b 5f66 696c 655f 6578     check_file_ex
-0000b510: 6973 745f 616e 645f 7265 6164 6162 6c65  ist_and_readable
-0000b520: 2866 696c 655f 7061 7468 3d66 696c 655f  (file_path=file_
-0000b530: 7061 7468 290a 2020 2020 6368 6563 6b5f  path).    check_
-0000b540: 696e 7428 6e61 6d65 3d22 5374 6172 7420  int(name="Start 
-0000b550: 7469 6d65 222c 2076 616c 7565 3d73 7461  time", value=sta
-0000b560: 7274 5f74 696d 652c 206d 696e 5f76 616c  rt_time, min_val
-0000b570: 7565 3d30 290a 2020 2020 6368 6563 6b5f  ue=0).    check_
-0000b580: 696e 7428 6e61 6d65 3d22 4475 7261 7469  int(name="Durati
-0000b590: 6f6e 222c 2076 616c 7565 3d64 7572 6174  on", value=durat
-0000b5a0: 696f 6e2c 206d 696e 5f76 616c 7565 3d31  ion, min_value=1
-0000b5b0: 290a 2020 2020 7669 6465 6f5f 6d65 7461  ).    video_meta
-0000b5c0: 5f64 6174 6120 3d20 6765 745f 7669 6465  _data = get_vide
-0000b5d0: 6f5f 6d65 7461 5f64 6174 6128 6669 6c65  o_meta_data(file
-0000b5e0: 5f70 6174 6829 0a20 2020 2069 6620 7769  _path).    if wi
-0000b5f0: 6474 6820 6973 204e 6f6e 653a 0a20 2020  dth is None:.   
-0000b600: 2020 2020 2077 6964 7468 203d 2076 6964       width = vid
-0000b610: 656f 5f6d 6574 615f 6461 7461 5b27 7769  eo_meta_data['wi
-0000b620: 6474 6827 5d0a 2020 2020 6368 6563 6b5f  dth'].    check_
-0000b630: 696e 7428 6e61 6d65 3d22 5769 6474 6822  int(name="Width"
-0000b640: 2c20 7661 6c75 653d 7769 6474 682c 206d  , value=width, m
-0000b650: 696e 5f76 616c 7565 3d32 290a 2020 2020  in_value=2).    
-0000b660: 6368 6563 6b5f 696e 7428 6e61 6d65 3d22  check_int(name="
-0000b670: 4650 5322 2c20 7661 6c75 653d 6670 732c  FPS", value=fps,
-0000b680: 206d 696e 5f76 616c 7565 3d31 290a 2020   min_value=1).  
-0000b690: 2020 6368 6563 6b5f 696e 7428 6e61 6d65    check_int(name
-0000b6a0: 3d22 5155 414c 4954 5922 2c20 7661 6c75  ="QUALITY", valu
-0000b6b0: 653d 7175 616c 6974 792c 206d 696e 5f76  e=quality, min_v
-0000b6c0: 616c 7565 3d31 2c20 6d61 785f 7661 6c75  alue=1, max_valu
-0000b6d0: 653d 3130 3029 0a20 2020 2071 7561 6c69  e=100).    quali
-0000b6e0: 7479 203d 2069 6e74 2828 7175 616c 6974  ty = int((qualit
-0000b6f0: 7920 2d20 3129 202f 2028 3130 3020 2d20  y - 1) / (100 - 
-0000b700: 3129 202a 2028 3235 3620 2d20 3129 202b  1) * (256 - 1) +
-0000b710: 2031 290a 2020 2020 6966 2077 6964 7468   1).    if width
-0000b720: 2025 2032 2021 3d20 303a 2077 6964 7468   % 2 != 0: width
-0000b730: 202d 3d20 310a 2020 2020 6966 2071 7561   -= 1.    if qua
-0000b740: 6c69 7479 203d 3d20 313a 2071 7561 6c69  lity == 1: quali
-0000b750: 7479 202b 3d20 310a 2020 2020 6966 2028  ty += 1.    if (
-0000b760: 696e 7428 7374 6172 745f 7469 6d65 2920  int(start_time) 
-0000b770: 2b20 696e 7428 6475 7261 7469 6f6e 2929  + int(duration))
-0000b780: 203e 2076 6964 656f 5f6d 6574 615f 6461   > video_meta_da
-0000b790: 7461 5b22 7669 6465 6f5f 6c65 6e67 7468  ta["video_length
-0000b7a0: 5f73 225d 3a0a 2020 2020 2020 2020 7261  _s"]:.        ra
-0000b7b0: 6973 6520 4672 616d 6552 616e 6765 4572  ise FrameRangeEr
-0000b7c0: 726f 7228 6d73 673d 6627 5468 6520 656e  ror(msg=f'The en
-0000b7d0: 6420 6f66 2074 6865 2067 6966 2028 7374  d of the gif (st
-0000b7e0: 6172 7420 7469 6d65 3a20 7b73 7461 7274  art time: {start
-0000b7f0: 5f74 696d 657d 202b 2064 7572 6174 696f  _time} + duratio
-0000b800: 6e3a 207b 6475 7261 7469 6f6e 7d29 2069  n: {duration}) i
-0000b810: 7320 6c6f 6e67 6572 2074 6861 6e20 7468  s longer than th
-0000b820: 6520 7b66 696c 655f 7061 7468 7d20 7669  e {file_path} vi
-0000b830: 6465 6f3a 207b 7669 6465 6f5f 6d65 7461  deo: {video_meta
-0000b840: 5f64 6174 615b 2276 6964 656f 5f6c 656e  _data["video_len
-0000b850: 6774 685f 7322 5d7d 7327 2c20 736f 7572  gth_s"]}s', sour
-0000b860: 6365 3d67 6966 5f63 7265 6174 6f72 2e5f  ce=gif_creator._
-0000b870: 5f6e 616d 655f 5f29 0a20 2020 2064 6972  _name__).    dir
-0000b880: 2c20 6669 6c65 5f6e 616d 652c 2065 7874  , file_name, ext
-0000b890: 203d 2067 6574 5f66 6e5f 6578 7428 6669   = get_fn_ext(fi
-0000b8a0: 6c65 7061 7468 3d66 696c 655f 7061 7468  lepath=file_path
-0000b8b0: 290a 2020 2020 7361 7665 5f6e 616d 6520  ).    save_name 
-0000b8c0: 3d20 6f73 2e70 6174 682e 6a6f 696e 2864  = os.path.join(d
-0000b8d0: 6972 2c20 6622 7b66 696c 655f 6e61 6d65  ir, f"{file_name
-0000b8e0: 7d2e 6769 6622 290a 2020 2020 6966 2067  }.gif").    if g
-0000b8f0: 7075 3a0a 2020 2020 2020 2020 636f 6d6d  pu:.        comm
-0000b900: 616e 6420 3d20 6627 6666 6d70 6567 202d  and = f'ffmpeg -
-0000b910: 6877 6163 6365 6c20 6175 746f 202d 633a  hwaccel auto -c:
-0000b920: 7620 6832 3634 5f63 7576 6964 202d 7373  v h264_cuvid -ss
-0000b930: 207b 7374 6172 745f 7469 6d65 7d20 2d69   {start_time} -i
-0000b940: 2022 7b66 696c 655f 7061 7468 7d22 202d   "{file_path}" -
-0000b950: 746f 207b 6475 7261 7469 6f6e 7d20 2d76  to {duration} -v
-0000b960: 6620 2266 7073 3d31 302c 7363 616c 653d  f "fps=10,scale=
-0000b970: 7b77 6964 7468 7d3a 2d31 2220 2d63 3a76  {width}:-1" -c:v
-0000b980: 2067 6966 202d 7069 785f 666d 7420 7267   gif -pix_fmt rg
-0000b990: 6232 3420 2d79 2022 7b73 6176 655f 6e61  b24 -y "{save_na
-0000b9a0: 6d65 7d22 202d 7927 0a20 2020 2065 6c73  me}" -y'.    els
-0000b9b0: 653a 0a20 2020 2020 2020 2063 6f6d 6d61  e:.        comma
-0000b9c0: 6e64 203d 2066 2766 666d 7065 6720 2d73  nd = f'ffmpeg -s
-0000b9d0: 7320 7b73 7461 7274 5f74 696d 657d 202d  s {start_time} -
-0000b9e0: 7420 7b64 7572 6174 696f 6e7d 202d 6920  t {duration} -i 
-0000b9f0: 227b 6669 6c65 5f70 6174 687d 2220 2d66  "{file_path}" -f
-0000ba00: 696c 7465 725f 636f 6d70 6c65 7820 225b  ilter_complex "[
-0000ba10: 303a 765d 2066 7073 3d7b 6670 737d 2c73  0:v] fps={fps},s
-0000ba20: 6361 6c65 3d77 3d7b 7769 6474 687d 3a68  cale=w={width}:h
-0000ba30: 3d2d 313a 666c 6167 733d 6c61 6e63 7a6f  =-1:flags=lanczo
-0000ba40: 732c 7370 6c69 7420 5b61 5d5b 625d 3b5b  s,split [a][b];[
-0000ba50: 615d 2070 616c 6574 7465 6765 6e3d 7374  a] palettegen=st
-0000ba60: 6174 735f 6d6f 6465 3d73 696e 676c 653a  ats_mode=single:
-0000ba70: 6d61 785f 636f 6c6f 7273 3d7b 7175 616c  max_colors={qual
-0000ba80: 6974 797d 205b 705d 3b5b 625d 5b70 5d20  ity} [p];[b][p] 
-0000ba90: 7061 6c65 7474 6575 7365 3d64 6974 6865  paletteuse=dithe
-0000baa0: 723d 6261 7965 723a 6261 7965 725f 7363  r=bayer:bayer_sc
-0000bab0: 616c 653d 3322 2022 7b73 6176 655f 6e61  ale=3" "{save_na
-0000bac0: 6d65 7d22 202d 6c6f 676c 6576 656c 2065  me}" -loglevel e
-0000bad0: 7272 6f72 202d 7374 6174 7320 2d68 6964  rror -stats -hid
-0000bae0: 655f 6261 6e6e 6572 202d 7927 0a20 2020  e_banner -y'.   
-0000baf0: 2070 7269 6e74 2822 4372 6561 7469 6e67   print("Creating
-0000bb00: 2067 6966 2073 616d 706c 652e 2e2e 2022   gif sample... "
-0000bb10: 290a 2020 2020 7375 6270 726f 6365 7373  ).    subprocess
-0000bb20: 2e63 616c 6c28 636f 6d6d 616e 642c 2073  .call(command, s
-0000bb30: 6865 6c6c 3d54 7275 652c 2073 7464 6f75  hell=True, stdou
-0000bb40: 743d 7375 6270 726f 6365 7373 2e50 4950  t=subprocess.PIP
-0000bb50: 4529 0a20 2020 2074 696d 6572 2e73 746f  E).    timer.sto
-0000bb60: 705f 7469 6d65 7228 290a 2020 2020 7374  p_timer().    st
-0000bb70: 646f 7574 5f73 7563 6365 7373 286d 7367  dout_success(msg
-0000bb80: 3d66 2253 494d 4241 2043 4f4d 504c 4554  =f"SIMBA COMPLET
-0000bb90: 453a 2056 6964 656f 2063 6f6e 7665 7274  E: Video convert
-0000bba0: 6564 2120 7b73 6176 655f 6e61 6d65 7d20  ed! {save_name} 
-0000bbb0: 6765 6e65 7261 7465 6421 222c 2065 6c61  generated!", ela
-0000bbc0: 7073 6564 5f74 696d 653d 7469 6d65 722e  psed_time=timer.
-0000bbd0: 656c 6170 7365 645f 7469 6d65 5f73 7472  elapsed_time_str
-0000bbe0: 2c20 736f 7572 6365 3d67 6966 5f63 7265  , source=gif_cre
-0000bbf0: 6174 6f72 2e5f 5f6e 616d 655f 5f29 0a0a  ator.__name__)..
-0000bc00: 0a23 2067 6966 5f63 7265 6174 6f72 2866  .# gif_creator(f
-0000bc10: 696c 655f 7061 7468 3d72 272f 5573 6572  ile_path=r'/User
-0000bc20: 732f 7369 6d6f 6e2f 4465 736b 746f 702f  s/simon/Desktop/
-0000bc30: 656e 7673 2f73 696d 6261 2f74 726f 7562  envs/simba/troub
-0000bc40: 6c65 7368 6f6f 7469 6e67 2f6d 6f75 7365  leshooting/mouse
-0000bc50: 5f6f 7065 6e5f 6669 656c 642f 7072 6f6a  _open_field/proj
-0000bc60: 6563 745f 666f 6c64 6572 2f76 6964 656f  ect_folder/video
-0000bc70: 732f 5349 5f44 4159 335f 3330 385f 4344  s/SI_DAY3_308_CD
-0000bc80: 315f 5052 4553 454e 542e 6d70 3427 2c20  1_PRESENT.mp4', 
-0000bc90: 7374 6172 745f 7469 6d65 3d35 2c20 6475  start_time=5, du
-0000bca0: 7261 7469 6f6e 3d31 352c 2077 6964 7468  ration=15, width
-0000bcb0: 3d36 3030 2c20 6770 753d 4661 6c73 6529  =600, gpu=False)
-0000bcc0: 0a0a 0a64 6566 2062 6174 6368 5f63 6f6e  ...def batch_con
-0000bcd0: 7665 7274 5f76 6964 656f 5f66 6f72 6d61  vert_video_forma
-0000bce0: 7428 0a20 2020 2064 6972 6563 746f 7279  t(.    directory
-0000bcf0: 3a20 556e 696f 6e5b 7374 722c 206f 732e  : Union[str, os.
-0000bd00: 5061 7468 4c69 6b65 5d2c 0a20 2020 2069  PathLike],.    i
-0000bd10: 6e70 7574 5f66 6f72 6d61 743a 2073 7472  nput_format: str
-0000bd20: 2c0a 2020 2020 6f75 7470 7574 5f66 6f72  ,.    output_for
-0000bd30: 6d61 743a 2073 7472 2c0a 2020 2020 6770  mat: str,.    gp
-0000bd40: 753a 204f 7074 696f 6e61 6c5b 626f 6f6c  u: Optional[bool
-0000bd50: 5d20 3d20 4661 6c73 652c 0a29 202d 3e20  ] = False,.) -> 
-0000bd60: 4e6f 6e65 3a0a 2020 2020 2222 220a 2020  None:.    """.  
-0000bd70: 2020 4261 7463 6820 636f 6e76 6572 7420    Batch convert 
-0000bd80: 616c 6c20 7669 6465 6f73 2069 6e20 6120  all videos in a 
-0000bd90: 666f 6c64 6572 206f 6620 7370 6563 6966  folder of specif
-0000bda0: 6963 2066 6f72 6d61 7420 696e 746f 2061  ic format into a
-0000bdb0: 2064 6966 6665 7265 6e74 2076 6964 656f   different video
-0000bdc0: 2066 6f72 6d61 742e 2054 6865 2072 6573   format. The res
-0000bdd0: 756c 7473 2061 7265 0a20 2020 2073 746f  ults are.    sto
-0000bde0: 7265 6420 696e 2074 6865 2073 616d 6520  red in the same 
-0000bdf0: 6469 7265 6374 6f72 7920 6173 2074 6865  directory as the
-0000be00: 2069 6e70 7574 2066 696c 6573 2e0a 0a20   input files... 
-0000be10: 2020 203a 7061 7261 6d65 7465 7220 556e     :parameter Un
-0000be20: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
-0000be30: 4c69 6b65 5d20 6469 7265 6374 6f72 793a  Like] directory:
-0000be40: 2050 6174 6820 746f 2076 6964 656f 2066   Path to video f
-0000be50: 696c 6520 6469 7265 6374 6f72 792e 0a20  ile directory.. 
-0000be60: 2020 203a 7061 7261 6d65 7465 7220 7374     :parameter st
-0000be70: 7220 696e 7075 745f 666f 726d 6174 3a20  r input_format: 
-0000be80: 466f 726d 6174 206f 6620 7468 6520 696e  Format of the in
-0000be90: 7075 7420 6669 6c65 7320 2865 2e67 2e2c  put files (e.g.,
-0000bea0: 2061 7669 292e 0a20 2020 203a 7061 7261   avi)..    :para
-0000beb0: 6d65 7465 7220 7374 7220 6f75 7470 7574  meter str output
-0000bec0: 5f66 6f72 6d61 743a 2046 6f72 6d61 7420  _format: Format 
-0000bed0: 6f66 2074 6865 206f 7574 7075 7420 6669  of the output fi
-0000bee0: 6c65 7320 2865 2e67 2e2c 206d 7034 292e  les (e.g., mp4).
-0000bef0: 0a20 2020 203a 7061 7261 6d65 7465 7220  .    :parameter 
-0000bf00: 4f70 7469 6f6e 616c 5b62 6f6f 6c5d 2067  Optional[bool] g
-0000bf10: 7075 3a20 4966 2054 7275 652c 2075 7365  pu: If True, use
-0000bf20: 204e 5649 4445 4120 4750 5520 636f 6465   NVIDEA GPU code
-0000bf30: 6373 2e20 4465 6661 756c 7420 4661 6c73  cs. Default Fals
-0000bf40: 652e 0a0a 2020 2020 3a65 7861 6d70 6c65  e...    :example
-0000bf50: 3a0a 2020 2020 3e3e 3e20 5f20 3d20 6261  :.    >>> _ = ba
-0000bf60: 7463 685f 636f 6e76 6572 745f 7669 6465  tch_convert_vide
-0000bf70: 6f5f 666f 726d 6174 2864 6972 6563 746f  o_format(directo
-0000bf80: 7279 3d27 7072 6f6a 6563 745f 666f 6c64  ry='project_fold
-0000bf90: 6572 2f76 6964 656f 7327 2c20 696e 7075  er/videos', inpu
-0000bfa0: 745f 666f 726d 6174 3d27 6176 6927 2c20  t_format='avi', 
-0000bfb0: 6f75 7470 7574 5f66 6f72 6d61 743d 276d  output_format='m
-0000bfc0: 7034 2729 0a20 2020 2022 2222 0a0a 2020  p4').    """..  
-0000bfd0: 2020 6368 6563 6b5f 6666 6d70 6567 5f61    check_ffmpeg_a
-0000bfe0: 7661 696c 6162 6c65 2872 6169 7365 5f65  vailable(raise_e
-0000bff0: 7272 6f72 3d54 7275 6529 0a20 2020 2069  rror=True).    i
-0000c000: 6620 6770 7520 616e 6420 6e6f 7420 6368  f gpu and not ch
-0000c010: 6563 6b5f 6e76 6964 6561 5f67 7075 5f61  eck_nvidea_gpu_a
-0000c020: 7661 696c 6162 6c65 2829 3a0a 2020 2020  vailable():.    
-0000c030: 2020 2020 7261 6973 6520 4646 4d50 4547      raise FFMPEG
-0000c040: 436f 6465 6347 5055 4572 726f 7228 0a20  CodecGPUError(. 
-0000c050: 2020 2020 2020 2020 2020 206d 7367 3d22             msg="
-0000c060: 4e56 4944 4541 2047 5055 206e 6f74 2061  NVIDEA GPU not a
-0000c070: 7661 696c 6162 6c65 2028 6173 2065 7661  vailable (as eva
-0000c080: 6c75 6174 6564 2062 7920 6e76 6964 6561  luated by nvidea
-0000c090: 2d73 6d69 2072 6574 7572 6e69 6e67 204e  -smi returning N
-0000c0a0: 6f6e 6522 2c0a 2020 2020 2020 2020 2020  one",.          
-0000c0b0: 2020 736f 7572 6365 3d62 6174 6368 5f63    source=batch_c
-0000c0c0: 6f6e 7665 7274 5f76 6964 656f 5f66 6f72  onvert_video_for
-0000c0d0: 6d61 742e 5f5f 6e61 6d65 5f5f 2c0a 2020  mat.__name__,.  
-0000c0e0: 2020 2020 2020 290a 2020 2020 6966 2069        ).    if i
-0000c0f0: 6e70 7574 5f66 6f72 6d61 7420 3d3d 206f  nput_format == o
-0000c100: 7574 7075 745f 666f 726d 6174 3a0a 2020  utput_format:.  
-0000c110: 2020 2020 2020 7261 6973 6520 496e 7661        raise Inva
-0000c120: 6c69 6446 696c 6554 7970 6545 7272 6f72  lidFileTypeError
-0000c130: 280a 2020 2020 2020 2020 2020 2020 6d73  (.            ms
-0000c140: 673d 6622 5468 6520 696e 7075 7420 666f  g=f"The input fo
-0000c150: 726d 6174 2028 7b69 6e70 7574 5f66 6f72  rmat ({input_for
-0000c160: 6d61 747d 2920 6973 2074 6865 2073 616d  mat}) is the sam
-0000c170: 6520 6173 2074 6865 206f 7574 7075 7420  e as the output 
-0000c180: 666f 726d 6174 2028 7b6f 7574 7075 745f  format ({output_
-0000c190: 666f 726d 6174 7d29 222c 0a20 2020 2020  format})",.     
-0000c1a0: 2020 2020 2020 2073 6f75 7263 653d 6261         source=ba
-0000c1b0: 7463 685f 636f 6e76 6572 745f 7669 6465  tch_convert_vide
-0000c1c0: 6f5f 666f 726d 6174 2e5f 5f6e 616d 655f  o_format.__name_
-0000c1d0: 5f2c 0a20 2020 2020 2020 2029 0a20 2020  _,.        ).   
-0000c1e0: 2069 6620 6e6f 7420 6f73 2e70 6174 682e   if not os.path.
-0000c1f0: 6973 6469 7228 6469 7265 6374 6f72 7929  isdir(directory)
-0000c200: 3a0a 2020 2020 2020 2020 7261 6973 6520  :.        raise 
-0000c210: 4e6f 7444 6972 6563 746f 7279 4572 726f  NotDirectoryErro
-0000c220: 7228 0a20 2020 2020 2020 2020 2020 206d  r(.            m
-0000c230: 7367 3d22 5349 4d42 4120 4552 524f 523a  sg="SIMBA ERROR:
-0000c240: 207b 7d20 6973 206e 6f74 2061 2076 616c   {} is not a val
-0000c250: 6964 2064 6972 6563 746f 7279 222e 666f  id directory".fo
-0000c260: 726d 6174 2864 6972 6563 746f 7279 292c  rmat(directory),
-0000c270: 0a20 2020 2020 2020 2020 2020 2073 6f75  .            sou
-0000c280: 7263 653d 6261 7463 685f 636f 6e76 6572  rce=batch_conver
-0000c290: 745f 7669 6465 6f5f 666f 726d 6174 2e5f  t_video_format._
-0000c2a0: 5f6e 616d 655f 5f2c 0a20 2020 2020 2020  _name__,.       
-0000c2b0: 2029 0a20 2020 2076 6964 656f 5f70 6174   ).    video_pat
-0000c2c0: 6873 203d 205b 5d0a 2020 2020 6669 6c65  hs = [].    file
-0000c2d0: 5f70 6174 6873 5f69 6e5f 666f 6c64 6572  _paths_in_folder
-0000c2e0: 203d 205b 6620 666f 7220 6620 696e 2067   = [f for f in g
-0000c2f0: 6c6f 622e 676c 6f62 2864 6972 6563 746f  lob.glob(directo
-0000c300: 7279 202b 2022 2f2a 2229 2069 6620 6f73  ry + "/*") if os
-0000c310: 2e70 6174 682e 6973 6669 6c65 2866 295d  .path.isfile(f)]
-0000c320: 0a20 2020 2066 6f72 2066 696c 655f 7061  .    for file_pa
-0000c330: 7468 2069 6e20 6669 6c65 5f70 6174 6873  th in file_paths
-0000c340: 5f69 6e5f 666f 6c64 6572 3a0a 2020 2020  _in_folder:.    
-0000c350: 2020 2020 5f2c 205f 2c20 6578 7420 3d20      _, _, ext = 
-0000c360: 6765 745f 666e 5f65 7874 2866 696c 6570  get_fn_ext(filep
-0000c370: 6174 683d 6669 6c65 5f70 6174 6829 0a20  ath=file_path). 
-0000c380: 2020 2020 2020 2069 6620 6578 742e 6c6f         if ext.lo
-0000c390: 7765 7228 2920 3d3d 2022 2e7b 7d22 2e66  wer() == ".{}".f
-0000c3a0: 6f72 6d61 7428 696e 7075 745f 666f 726d  ormat(input_form
-0000c3b0: 6174 2e6c 6f77 6572 2829 293a 0a20 2020  at.lower()):.   
-0000c3c0: 2020 2020 2020 2020 2076 6964 656f 5f70           video_p
-0000c3d0: 6174 6873 2e61 7070 656e 6428 6669 6c65  aths.append(file
-0000c3e0: 5f70 6174 6829 0a20 2020 2069 6620 6c65  _path).    if le
-0000c3f0: 6e28 7669 6465 6f5f 7061 7468 7329 203c  n(video_paths) <
-0000c400: 2031 3a0a 2020 2020 2020 2020 7261 6973   1:.        rais
-0000c410: 6520 4e6f 4669 6c65 7346 6f75 6e64 4572  e NoFilesFoundEr
-0000c420: 726f 7228 0a20 2020 2020 2020 2020 2020  ror(.           
-0000c430: 206d 7367 3d22 5349 4d42 4120 4552 524f   msg="SIMBA ERRO
-0000c440: 523a 204e 6f20 6669 6c65 7320 7769 7468  R: No files with
-0000c450: 202e 7b7d 2066 696c 6520 6578 7465 6e73   .{} file extens
-0000c460: 696f 6e20 666f 756e 6420 696e 2074 6865  ion found in the
-0000c470: 207b 7d20 6469 7265 6374 6f72 7922 2e66   {} directory".f
-0000c480: 6f72 6d61 7428 0a20 2020 2020 2020 2020  ormat(.         
-0000c490: 2020 2020 2020 2069 6e70 7574 5f66 6f72         input_for
-0000c4a0: 6d61 742c 2064 6972 6563 746f 7279 0a20  mat, directory. 
-0000c4b0: 2020 2020 2020 2020 2020 2029 2c0a 2020             ),.  
-0000c4c0: 2020 2020 2020 2020 2020 736f 7572 6365            source
-0000c4d0: 3d62 6174 6368 5f63 6f6e 7665 7274 5f76  =batch_convert_v
-0000c4e0: 6964 656f 5f66 6f72 6d61 742e 5f5f 6e61  ideo_format.__na
-0000c4f0: 6d65 5f5f 2c0a 2020 2020 2020 2020 290a  me__,.        ).
-0000c500: 2020 2020 666f 7220 6669 6c65 5f63 6e74      for file_cnt
-0000c510: 2c20 6669 6c65 5f70 6174 6820 696e 2065  , file_path in e
-0000c520: 6e75 6d65 7261 7465 2876 6964 656f 5f70  numerate(video_p
-0000c530: 6174 6873 293a 0a20 2020 2020 2020 2076  aths):.        v
-0000c540: 6964 656f 5f74 696d 6572 203d 2053 696d  ideo_timer = Sim
-0000c550: 6261 5469 6d65 7228 7374 6172 743d 5472  baTimer(start=Tr
-0000c560: 7565 290a 2020 2020 2020 2020 6469 725f  ue).        dir_
-0000c570: 6e61 6d65 2c20 6669 6c65 5f6e 616d 652c  name, file_name,
-0000c580: 2065 7874 203d 2067 6574 5f66 6e5f 6578   ext = get_fn_ex
-0000c590: 7428 6669 6c65 7061 7468 3d66 696c 655f  t(filepath=file_
-0000c5a0: 7061 7468 290a 2020 2020 2020 2020 7072  path).        pr
-0000c5b0: 696e 7428 6622 5072 6f63 6573 7369 6e67  int(f"Processing
-0000c5c0: 2076 6964 656f 207b 6669 6c65 5f6e 616d   video {file_nam
-0000c5d0: 657d 2e2e 2e22 290a 2020 2020 2020 2020  e}...").        
-0000c5e0: 7361 7665 5f70 6174 6820 3d20 6f73 2e70  save_path = os.p
-0000c5f0: 6174 682e 6a6f 696e 280a 2020 2020 2020  ath.join(.      
-0000c600: 2020 2020 2020 6469 725f 6e61 6d65 2c20        dir_name, 
-0000c610: 6669 6c65 5f6e 616d 6520 2b20 222e 7b7d  file_name + ".{}
-0000c620: 222e 666f 726d 6174 286f 7574 7075 745f  ".format(output_
-0000c630: 666f 726d 6174 2e6c 6f77 6572 2829 290a  format.lower()).
-0000c640: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-0000c650: 2020 6966 206f 732e 7061 7468 2e69 7366    if os.path.isf
-0000c660: 696c 6528 7361 7665 5f70 6174 6829 3a0a  ile(save_path):.
-0000c670: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0000c680: 6520 4669 6c65 4578 6973 7445 7272 6f72  e FileExistError
-0000c690: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-0000c6a0: 2020 6d73 673d 2253 494d 4241 2045 5252    msg="SIMBA ERR
-0000c6b0: 4f52 3a20 5468 6520 6f75 7466 696c 6520  OR: The outfile 
-0000c6c0: 6669 6c65 2061 6c72 6561 6479 2065 7869  file already exi
-0000c6d0: 7374 3a20 7b7d 2e22 2e66 6f72 6d61 7428  st: {}.".format(
-0000c6e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000c6f0: 2020 2020 2073 6176 655f 7061 7468 0a20       save_path. 
-0000c700: 2020 2020 2020 2020 2020 2020 2020 2029                 )
-0000c710: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000c720: 2020 736f 7572 6365 3d62 6174 6368 5f63    source=batch_c
-0000c730: 6f6e 7665 7274 5f76 6964 656f 5f66 6f72  onvert_video_for
-0000c740: 6d61 742e 5f5f 6e61 6d65 5f5f 2c0a 2020  mat.__name__,.  
-0000c750: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
-0000c760: 2020 2020 6966 2067 7075 3a0a 2020 2020      if gpu:.    
-0000c770: 2020 2020 2020 2020 636f 6d6d 616e 6420          command 
-0000c780: 3d20 2766 666d 7065 6720 2d68 7761 6363  = 'ffmpeg -hwacc
-0000c790: 656c 2061 7574 6f20 2d63 3a76 2068 3236  el auto -c:v h26
-0000c7a0: 345f 6375 7669 6420 2d69 2022 7b7d 2220  4_cuvid -i "{}" 
-0000c7b0: 2d63 3a76 2068 3236 345f 6e76 656e 6320  -c:v h264_nvenc 
-0000c7c0: 2d63 7120 3233 202d 7072 6573 6574 3a76  -cq 23 -preset:v
-0000c7d0: 206d 6564 6975 6d20 2d63 3a61 2063 6f70   medium -c:a cop
-0000c7e0: 7920 227b 7d22 272e 666f 726d 6174 280a  y "{}"'.format(.
-0000c7f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c800: 6669 6c65 5f70 6174 682c 2073 6176 655f  file_path, save_
-0000c810: 7061 7468 0a20 2020 2020 2020 2020 2020  path.           
-0000c820: 2029 0a20 2020 2020 2020 2065 6c73 653a   ).        else:
-0000c830: 0a20 2020 2020 2020 2020 2020 2063 6f6d  .            com
-0000c840: 6d61 6e64 203d 2066 2766 666d 7065 6720  mand = f'ffmpeg 
-0000c850: 2d79 202d 6920 227b 6669 6c65 5f70 6174  -y -i "{file_pat
-0000c860: 687d 2220 2d63 3a76 206c 6962 7832 3634  h}" -c:v libx264
-0000c870: 202d 6372 6620 3231 202d 7072 6573 6574   -crf 21 -preset
-0000c880: 206d 6564 6975 6d20 2d63 3a61 206c 6962   medium -c:a lib
-0000c890: 6d70 336c 616d 6520 2d62 3a61 2033 3230  mp3lame -b:a 320
-0000c8a0: 6b20 227b 7361 7665 5f70 6174 687d 2227  k "{save_path}"'
-0000c8b0: 0a20 2020 2020 2020 2073 7562 7072 6f63  .        subproc
-0000c8c0: 6573 732e 6361 6c6c 2863 6f6d 6d61 6e64  ess.call(command
-0000c8d0: 2c20 7368 656c 6c3d 5472 7565 2c20 7374  , shell=True, st
-0000c8e0: 646f 7574 3d73 7562 7072 6f63 6573 732e  dout=subprocess.
-0000c8f0: 5049 5045 290a 2020 2020 2020 2020 7669  PIPE).        vi
-0000c900: 6465 6f5f 7469 6d65 722e 7374 6f70 5f74  deo_timer.stop_t
-0000c910: 696d 6572 2829 0a20 2020 2020 2020 2070  imer().        p
-0000c920: 7269 6e74 280a 2020 2020 2020 2020 2020  rint(.          
-0000c930: 2020 6622 5669 6465 6f20 7b66 696c 655f    f"Video {file_
-0000c940: 6e61 6d65 7d20 636f 6d70 6c65 7465 2c20  name} complete, 
-0000c950: 2865 6c61 7073 6564 2074 696d 653a 207b  (elapsed time: {
-0000c960: 7669 6465 6f5f 7469 6d65 722e 656c 6170  video_timer.elap
-0000c970: 7365 645f 7469 6d65 5f73 7472 7d73 2920  sed_time_str}s) 
-0000c980: 2856 6964 656f 207b 6669 6c65 5f63 6e74  (Video {file_cnt
-0000c990: 202b 2031 7d2f 7b6c 656e 2876 6964 656f   + 1}/{len(video
-0000c9a0: 5f70 6174 6873 297d 292e 2e2e 220a 2020  _paths)})...".  
-0000c9b0: 2020 2020 2020 290a 2020 2020 7374 646f        ).    stdo
-0000c9c0: 7574 5f73 7563 6365 7373 280a 2020 2020  ut_success(.    
-0000c9d0: 2020 2020 6d73 673d 6622 5349 4d42 4120      msg=f"SIMBA 
-0000c9e0: 434f 4d50 4c45 5445 3a20 7b73 7472 286c  COMPLETE: {str(l
-0000c9f0: 656e 2876 6964 656f 5f70 6174 6873 2929  en(video_paths))
-0000ca00: 7d20 7669 6465 6f73 2063 6f6e 7665 7274  } videos convert
-0000ca10: 6564 2069 6e20 7b64 6972 6563 746f 7279  ed in {directory
-0000ca20: 7d20 6469 7265 6374 6f72 7921 222c 0a20  } directory!",. 
-0000ca30: 2020 2020 2020 2073 6f75 7263 653d 6261         source=ba
-0000ca40: 7463 685f 636f 6e76 6572 745f 7669 6465  tch_convert_vide
-0000ca50: 6f5f 666f 726d 6174 2e5f 5f6e 616d 655f  o_format.__name_
-0000ca60: 5f2c 0a20 2020 2029 0a0a 0a23 205f 203d  _,.    )...# _ =
-0000ca70: 2062 6174 6368 5f63 6f6e 7665 7274 5f76   batch_convert_v
-0000ca80: 6964 656f 5f66 6f72 6d61 7428 6469 7265  ideo_format(dire
-0000ca90: 6374 6f72 793d 272f 5573 6572 732f 7369  ctory='/Users/si
-0000caa0: 6d6f 6e2f 4465 736b 746f 702f 656e 7673  mon/Desktop/envs
-0000cab0: 2f73 696d 6261 2f74 726f 7562 6c65 7368  /simba/troublesh
-0000cac0: 6f6f 7469 6e67 2f6d 6f75 7365 5f6f 7065  ooting/mouse_ope
-0000cad0: 6e5f 6669 656c 642f 7072 6f6a 6563 745f  n_field/project_
-0000cae0: 666f 6c64 6572 2f76 6964 656f 732f 7465  folder/videos/te
-0000caf0: 7374 5f32 272c 696e 7075 745f 666f 726d  st_2',input_form
-0000cb00: 6174 3d27 6d70 3427 2c20 6f75 7470 7574  at='mp4', output
-0000cb10: 5f66 6f72 6d61 743d 2761 7669 2729 0a0a  _format='avi')..
-0000cb20: 0a64 6566 2062 6174 6368 5f63 7265 6174  .def batch_creat
-0000cb30: 655f 6672 616d 6573 2864 6972 6563 746f  e_frames(directo
-0000cb40: 7279 3a20 556e 696f 6e5b 7374 722c 206f  ry: Union[str, o
-0000cb50: 732e 5061 7468 4c69 6b65 5d29 202d 3e20  s.PathLike]) -> 
-0000cb60: 4e6f 6e65 3a0a 2020 2020 2222 220a 2020  None:.    """.  
-0000cb70: 2020 4578 7472 6163 7420 616c 6c20 6672    Extract all fr
-0000cb80: 616d 6573 2066 6f72 2061 6c6c 2076 6964  ames for all vid
-0000cb90: 656f 7320 696e 2061 2064 6972 6563 746f  eos in a directo
-0000cba0: 7279 2e20 5265 7375 6c74 7320 6172 6520  ry. Results are 
-0000cbb0: 7374 6f72 6564 2077 6974 6869 6e20 7375  stored within su
-0000cbc0: 622d 6469 7265 6374 6f72 6965 7320 696e  b-directories in
-0000cbd0: 2074 6865 2069 6e70 7574 0a20 2020 2064   the input.    d
-0000cbe0: 6972 6563 746f 7279 206e 616d 6564 2061  irectory named a
-0000cbf0: 6363 6f72 6469 6e67 2074 6f20 7468 6520  ccording to the 
-0000cc00: 7669 6465 6f20 6669 6c65 732e 0a0a 2020  video files...  
-0000cc10: 2020 3a70 6172 616d 6574 6572 2073 7472    :parameter str
-0000cc20: 2064 6972 6563 746f 7279 3a20 5061 7468   directory: Path
-0000cc30: 2074 6f20 6469 7265 6374 6f72 7920 636f   to directory co
-0000cc40: 6e74 6169 6e69 6e67 2076 6964 656f 2066  ntaining video f
-0000cc50: 696c 6573 2e0a 0a20 2020 203a 6578 616d  iles...    :exam
-0000cc60: 706c 653a 0a20 2020 203e 3e3e 205f 203d  ple:.    >>> _ =
-0000cc70: 2062 6174 6368 5f63 7265 6174 655f 6672   batch_create_fr
-0000cc80: 616d 6573 2864 6972 6563 746f 7279 3d27  ames(directory='
-0000cc90: 7072 6f6a 6563 745f 666f 6c64 6572 2f76  project_folder/v
-0000cca0: 6964 656f 7327 290a 2020 2020 2222 220a  ideos').    """.
-0000ccb0: 0a20 2020 2069 6620 6e6f 7420 6f73 2e70  .    if not os.p
-0000ccc0: 6174 682e 6973 6469 7228 6469 7265 6374  ath.isdir(direct
-0000ccd0: 6f72 7929 3a0a 2020 2020 2020 2020 7261  ory):.        ra
-0000cce0: 6973 6520 4e6f 7444 6972 6563 746f 7279  ise NotDirectory
-0000ccf0: 4572 726f 7228 0a20 2020 2020 2020 2020  Error(.         
-0000cd00: 2020 206d 7367 3d22 5349 4d42 4120 4552     msg="SIMBA ER
-0000cd10: 524f 523a 207b 7d20 6973 206e 6f74 2061  ROR: {} is not a
-0000cd20: 2076 616c 6964 2064 6972 6563 746f 7279   valid directory
-0000cd30: 222e 666f 726d 6174 2864 6972 6563 746f  ".format(directo
-0000cd40: 7279 292c 0a20 2020 2020 2020 2020 2020  ry),.           
-0000cd50: 2073 6f75 7263 653d 6261 7463 685f 6372   source=batch_cr
-0000cd60: 6561 7465 5f66 7261 6d65 732e 5f5f 6e61  eate_frames.__na
-0000cd70: 6d65 5f5f 2c0a 2020 2020 2020 2020 290a  me__,.        ).
-0000cd80: 2020 2020 7669 6465 6f5f 7061 7468 7320      video_paths 
-0000cd90: 3d20 5b5d 0a20 2020 2066 696c 655f 7061  = [].    file_pa
-0000cda0: 7468 735f 696e 5f66 6f6c 6465 7220 3d20  ths_in_folder = 
-0000cdb0: 5b66 2066 6f72 2066 2069 6e20 676c 6f62  [f for f in glob
-0000cdc0: 2e67 6c6f 6228 6469 7265 6374 6f72 7920  .glob(directory 
-0000cdd0: 2b20 222f 2a22 2920 6966 206f 732e 7061  + "/*") if os.pa
-0000cde0: 7468 2e69 7366 696c 6528 6629 5d0a 2020  th.isfile(f)].  
-0000cdf0: 2020 666f 7220 6669 6c65 5f70 6174 6820    for file_path 
-0000ce00: 696e 2066 696c 655f 7061 7468 735f 696e  in file_paths_in
-0000ce10: 5f66 6f6c 6465 723a 0a20 2020 2020 2020  _folder:.       
-0000ce20: 205f 2c20 5f2c 2065 7874 203d 2067 6574   _, _, ext = get
-0000ce30: 5f66 6e5f 6578 7428 6669 6c65 7061 7468  _fn_ext(filepath
-0000ce40: 3d66 696c 655f 7061 7468 290a 2020 2020  =file_path).    
-0000ce50: 2020 2020 6966 2065 7874 2e6c 6f77 6572      if ext.lower
-0000ce60: 2829 2069 6e20 5b22 2e61 7669 222c 2022  () in [".avi", "
-0000ce70: 2e6d 7034 222c 2022 2e6d 6f76 222c 2022  .mp4", ".mov", "
-0000ce80: 2e66 6c76 225d 3a0a 2020 2020 2020 2020  .flv"]:.        
-0000ce90: 2020 2020 7669 6465 6f5f 7061 7468 732e      video_paths.
-0000cea0: 6170 7065 6e64 2866 696c 655f 7061 7468  append(file_path
-0000ceb0: 290a 2020 2020 6966 206c 656e 2876 6964  ).    if len(vid
-0000cec0: 656f 5f70 6174 6873 2920 3c20 313a 0a20  eo_paths) < 1:. 
-0000ced0: 2020 2020 2020 2072 6169 7365 204e 6f46         raise NoF
-0000cee0: 696c 6573 466f 756e 6445 7272 6f72 280a  ilesFoundError(.
-0000cef0: 2020 2020 2020 2020 2020 2020 6d73 673d              msg=
-0000cf00: 2253 494d 4241 2045 5252 4f52 3a20 4e6f  "SIMBA ERROR: No
-0000cf10: 2066 696c 6573 2077 6974 6820 2e6d 7034   files with .mp4
-0000cf20: 2c20 2e61 7669 2c20 2e6d 6f76 2c20 2e66  , .avi, .mov, .f
-0000cf30: 6c76 2066 696c 6520 656e 6469 6e67 2066  lv file ending f
-0000cf40: 6f75 6e64 2069 6e20 7468 6520 7b7d 2064  ound in the {} d
-0000cf50: 6972 6563 746f 7279 222e 666f 726d 6174  irectory".format
-0000cf60: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-0000cf70: 2020 6469 7265 6374 6f72 790a 2020 2020    directory.    
-0000cf80: 2020 2020 2020 2020 292c 0a20 2020 2020          ),.     
-0000cf90: 2020 2020 2020 2073 6f75 7263 653d 6261         source=ba
-0000cfa0: 7463 685f 6372 6561 7465 5f66 7261 6d65  tch_create_frame
-0000cfb0: 732e 5f5f 6e61 6d65 5f5f 2c0a 2020 2020  s.__name__,.    
-0000cfc0: 2020 2020 290a 2020 2020 666f 7220 6669      ).    for fi
-0000cfd0: 6c65 5f63 6e74 2c20 6669 6c65 5f70 6174  le_cnt, file_pat
-0000cfe0: 6820 696e 2065 6e75 6d65 7261 7465 2876  h in enumerate(v
-0000cff0: 6964 656f 5f70 6174 6873 293a 0a20 2020  ideo_paths):.   
-0000d000: 2020 2020 2064 6972 5f6e 616d 652c 2066       dir_name, f
-0000d010: 696c 655f 6e61 6d65 2c20 6578 7420 3d20  ile_name, ext = 
-0000d020: 6765 745f 666e 5f65 7874 2866 696c 6570  get_fn_ext(filep
-0000d030: 6174 683d 6669 6c65 5f70 6174 6829 0a20  ath=file_path). 
-0000d040: 2020 2020 2020 2070 7269 6e74 2822 5072         print("Pr
-0000d050: 6f63 6573 7369 6e67 2076 6964 656f 207b  ocessing video {
-0000d060: 7d2e 2e2e 222e 666f 726d 6174 2866 696c  }...".format(fil
-0000d070: 655f 6e61 6d65 2929 0a20 2020 2020 2020  e_name)).       
-0000d080: 2073 6176 655f 6469 7220 3d20 6f73 2e70   save_dir = os.p
-0000d090: 6174 682e 6a6f 696e 2864 6972 5f6e 616d  ath.join(dir_nam
-0000d0a0: 652c 2066 696c 655f 6e61 6d65 290a 2020  e, file_name).  
-0000d0b0: 2020 2020 2020 6966 206e 6f74 206f 732e        if not os.
-0000d0c0: 7061 7468 2e65 7869 7374 7328 7361 7665  path.exists(save
-0000d0d0: 5f64 6972 293a 0a20 2020 2020 2020 2020  _dir):.         
-0000d0e0: 2020 206f 732e 6d61 6b65 6469 7273 2873     os.makedirs(s
-0000d0f0: 6176 655f 6469 7229 0a20 2020 2020 2020  ave_dir).       
-0000d100: 2076 6964 656f 5f74 6f5f 6672 616d 6573   video_to_frames
-0000d110: 2866 696c 655f 7061 7468 2c20 7361 7665  (file_path, save
-0000d120: 5f64 6972 2c20 6f76 6572 7772 6974 653d  _dir, overwrite=
-0000d130: 5472 7565 2c20 6576 6572 793d 312c 2063  True, every=1, c
-0000d140: 6875 6e6b 5f73 697a 653d 3130 3030 290a  hunk_size=1000).
-0000d150: 2020 2020 2020 2020 7072 696e 7428 0a20          print(. 
-0000d160: 2020 2020 2020 2020 2020 2022 5669 6465             "Vide
-0000d170: 6f20 7b7d 2063 6f6d 706c 6574 652c 2028  o {} complete, (
-0000d180: 5669 6465 6f20 7b7d 2f7b 7d29 2e2e 2e22  Video {}/{})..."
-0000d190: 2e66 6f72 6d61 7428 0a20 2020 2020 2020  .format(.       
-0000d1a0: 2020 2020 2020 2020 2066 696c 655f 6e61           file_na
-0000d1b0: 6d65 2c20 7374 7228 6669 6c65 5f63 6e74  me, str(file_cnt
-0000d1c0: 202b 2031 292c 2073 7472 286c 656e 2876   + 1), str(len(v
-0000d1d0: 6964 656f 5f70 6174 6873 2929 0a20 2020  ideo_paths)).   
-0000d1e0: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-0000d1f0: 2020 2029 0a20 2020 2073 7464 6f75 745f     ).    stdout_
-0000d200: 7375 6363 6573 7328 0a20 2020 2020 2020  success(.       
-0000d210: 206d 7367 3d66 227b 7374 7228 6c65 6e28   msg=f"{str(len(
-0000d220: 7669 6465 6f5f 7061 7468 7329 297d 2076  video_paths))} v
-0000d230: 6964 656f 7320 636f 6e76 6572 7465 6420  ideos converted 
-0000d240: 696e 746f 2066 7261 6d65 7320 696e 207b  into frames in {
-0000d250: 6469 7265 6374 6f72 797d 2064 6972 6563  directory} direc
-0000d260: 746f 7279 2122 2c0a 2020 2020 2020 2020  tory!",.        
-0000d270: 736f 7572 6365 3d62 6174 6368 5f63 7265  source=batch_cre
-0000d280: 6174 655f 6672 616d 6573 2e5f 5f6e 616d  ate_frames.__nam
-0000d290: 655f 5f2c 0a20 2020 2029 0a0a 0a64 6566  e__,.    )...def
-0000d2a0: 2065 7874 7261 6374 5f66 7261 6d65 735f   extract_frames_
-0000d2b0: 7369 6e67 6c65 5f76 6964 656f 2866 696c  single_video(fil
-0000d2c0: 655f 7061 7468 3a20 556e 696f 6e5b 7374  e_path: Union[st
-0000d2d0: 722c 206f 732e 5061 7468 4c69 6b65 5d29  r, os.PathLike])
-0000d2e0: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2222   -> None:.    ""
-0000d2f0: 220a 2020 2020 4578 7472 6163 7420 616c  ".    Extract al
-0000d300: 6c20 6672 616d 6573 2066 6f72 2061 2073  l frames for a s
-0000d310: 696e 676c 652e 2052 6573 756c 7473 2061  ingle. Results a
-0000d320: 7265 2073 746f 7265 6420 7769 7468 696e  re stored within
-0000d330: 2061 2073 7562 6469 7265 6374 6f72 7920   a subdirectory 
-0000d340: 696e 2074 6865 2073 616d 650a 2020 2020  in the same.    
-0000d350: 6469 7265 6374 6f72 7920 6173 2074 6865  directory as the
-0000d360: 2069 6e70 7574 2066 696c 652e 0a0a 2020   input file...  
-0000d370: 2020 3a70 6172 616d 6574 6572 2073 7472    :parameter str
-0000d380: 2066 696c 655f 7061 7468 3a20 5061 7468   file_path: Path
-0000d390: 2074 6f20 7669 6465 6f20 6669 6c65 2e0a   to video file..
-0000d3a0: 0a20 2020 203a 6578 616d 706c 653a 0a20  .    :example:. 
-0000d3b0: 2020 203e 3e3e 205f 203d 2065 7874 7261     >>> _ = extra
-0000d3c0: 6374 5f66 7261 6d65 735f 7369 6e67 6c65  ct_frames_single
-0000d3d0: 5f76 6964 656f 2866 696c 655f 7061 7468  _video(file_path
-0000d3e0: 3d27 7072 6f6a 6563 745f 666f 6c64 6572  ='project_folder
-0000d3f0: 2f76 6964 656f 732f 5669 6465 6f5f 312e  /videos/Video_1.
-0000d400: 6d70 3427 290a 2020 2020 2222 220a 0a20  mp4').    """.. 
-0000d410: 2020 2074 696d 6572 203d 2053 696d 6261     timer = Simba
-0000d420: 5469 6d65 7228 7374 6172 743d 5472 7565  Timer(start=True
-0000d430: 290a 2020 2020 6368 6563 6b5f 6669 6c65  ).    check_file
-0000d440: 5f65 7869 7374 5f61 6e64 5f72 6561 6461  _exist_and_reada
-0000d450: 626c 6528 6669 6c65 5f70 6174 683d 6669  ble(file_path=fi
-0000d460: 6c65 5f70 6174 6829 0a20 2020 205f 203d  le_path).    _ =
-0000d470: 2067 6574 5f76 6964 656f 5f6d 6574 615f   get_video_meta_
-0000d480: 6461 7461 2866 696c 655f 7061 7468 290a  data(file_path).
-0000d490: 2020 2020 6469 725f 6e61 6d65 2c20 6669      dir_name, fi
-0000d4a0: 6c65 5f6e 616d 652c 2065 7874 203d 2067  le_name, ext = g
-0000d4b0: 6574 5f66 6e5f 6578 7428 6669 6c65 7061  et_fn_ext(filepa
-0000d4c0: 7468 3d66 696c 655f 7061 7468 290a 2020  th=file_path).  
-0000d4d0: 2020 7361 7665 5f64 6972 203d 206f 732e    save_dir = os.
-0000d4e0: 7061 7468 2e6a 6f69 6e28 6469 725f 6e61  path.join(dir_na
-0000d4f0: 6d65 2c20 6669 6c65 5f6e 616d 6529 0a20  me, file_name). 
-0000d500: 2020 2069 6620 6e6f 7420 6f73 2e70 6174     if not os.pat
-0000d510: 682e 6578 6973 7473 2873 6176 655f 6469  h.exists(save_di
-0000d520: 7229 3a0a 2020 2020 2020 2020 6f73 2e6d  r):.        os.m
-0000d530: 616b 6564 6972 7328 7361 7665 5f64 6972  akedirs(save_dir
-0000d540: 290a 2020 2020 7072 696e 7428 6622 5072  ).    print(f"Pr
-0000d550: 6f63 6573 7369 6e67 2076 6964 656f 207b  ocessing video {
-0000d560: 6669 6c65 5f6e 616d 657d 2e2e 2e22 290a  file_name}...").
-0000d570: 2020 2020 7669 6465 6f5f 746f 5f66 7261      video_to_fra
-0000d580: 6d65 7328 6669 6c65 5f70 6174 682c 2073  mes(file_path, s
-0000d590: 6176 655f 6469 722c 206f 7665 7277 7269  ave_dir, overwri
-0000d5a0: 7465 3d54 7275 652c 2065 7665 7279 3d31  te=True, every=1
-0000d5b0: 2c20 6368 756e 6b5f 7369 7a65 3d31 3030  , chunk_size=100
-0000d5c0: 3029 0a20 2020 2074 696d 6572 2e73 746f  0).    timer.sto
-0000d5d0: 705f 7469 6d65 7228 290a 2020 2020 7374  p_timer().    st
-0000d5e0: 646f 7574 5f73 7563 6365 7373 286d 7367  dout_success(msg
-0000d5f0: 3d66 2256 6964 656f 207b 6669 6c65 5f6e  =f"Video {file_n
-0000d600: 616d 657d 2063 6f6e 7665 7274 6564 2074  ame} converted t
-0000d610: 6f20 696d 6167 6573 2069 6e20 7b64 6972  o images in {dir
-0000d620: 5f6e 616d 657d 2064 6972 6563 746f 7279  _name} directory
-0000d630: 2122 2c20 656c 6170 7365 645f 7469 6d65  !", elapsed_time
-0000d640: 3d74 696d 6572 2e65 6c61 7073 6564 5f74  =timer.elapsed_t
-0000d650: 696d 655f 7374 722c 2073 6f75 7263 653d  ime_str, source=
-0000d660: 6578 7472 6163 745f 6672 616d 6573 5f73  extract_frames_s
-0000d670: 696e 676c 655f 7669 6465 6f2e 5f5f 6e61  ingle_video.__na
-0000d680: 6d65 5f5f 290a 0a0a 235f 203d 2065 7874  me__)...#_ = ext
-0000d690: 7261 6374 5f66 7261 6d65 735f 7369 6e67  ract_frames_sing
-0000d6a0: 6c65 5f76 6964 656f 2866 696c 655f 7061  le_video(file_pa
-0000d6b0: 7468 3d27 2f55 7365 7273 2f73 696d 6f6e  th='/Users/simon
-0000d6c0: 2f44 6573 6b74 6f70 2f76 6964 656f 5f74  /Desktop/video_t
-0000d6d0: 6573 742f 5363 7265 656e 2052 6563 6f72  est/Screen Recor
-0000d6e0: 6469 6e67 2032 3032 342d 3035 2d30 3620  ding 2024-05-06 
-0000d6f0: 6174 2031 2e32 332e 3331 2050 4d5f 636c  at 1.23.31 PM_cl
-0000d700: 6970 7065 642e 6d70 3427 290a 0a0a 6465  ipped.mp4')...de
-0000d710: 6620 6d75 6c74 695f 7370 6c69 745f 7669  f multi_split_vi
-0000d720: 6465 6f28 0a20 2020 2066 696c 655f 7061  deo(.    file_pa
-0000d730: 7468 3a20 556e 696f 6e5b 7374 722c 206f  th: Union[str, o
-0000d740: 732e 5061 7468 4c69 6b65 5d2c 0a20 2020  s.PathLike],.   
-0000d750: 2073 7461 7274 5f74 696d 6573 3a20 4c69   start_times: Li
-0000d760: 7374 5b73 7472 5d2c 0a20 2020 2065 6e64  st[str],.    end
-0000d770: 5f74 696d 6573 3a20 4c69 7374 5b73 7472  _times: List[str
-0000d780: 5d2c 0a20 2020 206f 7574 5f64 6972 3a20  ],.    out_dir: 
-0000d790: 4f70 7469 6f6e 616c 5b55 6e69 6f6e 5b73  Optional[Union[s
-0000d7a0: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
-0000d7b0: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 696e  ] = None,.    in
-0000d7c0: 636c 7564 655f 636c 6970 5f74 696d 655f  clude_clip_time_
-0000d7d0: 696e 5f66 696c 656e 616d 653a 204f 7074  in_filename: Opt
-0000d7e0: 696f 6e61 6c5b 626f 6f6c 5d20 3d20 4661  ional[bool] = Fa
-0000d7f0: 6c73 652c 0a20 2020 2067 7075 3a20 4f70  lse,.    gpu: Op
-0000d800: 7469 6f6e 616c 5b62 6f6f 6c5d 203d 2046  tional[bool] = F
-0000d810: 616c 7365 2c0a 2920 2d3e 204e 6f6e 653a  alse,.) -> None:
-0000d820: 0a20 2020 2022 2222 0a20 2020 2044 6976  .    """.    Div
-0000d830: 6964 6520 6120 7669 6465 6f20 6669 6c65  ide a video file
-0000d840: 2069 6e74 6f20 6d75 6c74 6970 6c65 2076   into multiple v
-0000d850: 6964 656f 2066 696c 6573 2066 726f 6d20  ideo files from 
-0000d860: 7370 6563 6966 6965 6420 7374 6172 7420  specified start 
-0000d870: 616e 6420 7374 6f70 2074 696d 6573 2e0a  and stop times..
-0000d880: 0a20 2020 203a 7061 7261 6d65 7465 7220  .    :parameter 
-0000d890: 7374 7220 6669 6c65 5f70 6174 683a 2050  str file_path: P
-0000d8a0: 6174 6820 746f 2069 6e70 7574 2076 6964  ath to input vid
-0000d8b0: 656f 2066 696c 652e 0a20 2020 203a 7061  eo file..    :pa
-0000d8c0: 7261 6d65 7465 7220 4c69 7374 5b73 7472  rameter List[str
-0000d8d0: 5d20 7374 6172 745f 7469 6d65 733a 2053  ] start_times: S
-0000d8e0: 7461 7274 2074 696d 6573 2069 6e20 4848  tart times in HH
-0000d8f0: 3a4d 4d3a 5353 2066 6f72 6d61 742e 0a20  :MM:SS format.. 
-0000d900: 2020 203a 7061 7261 6d65 7465 7220 4c69     :parameter Li
-0000d910: 7374 5b73 7472 5d20 656e 645f 7469 6d65  st[str] end_time
-0000d920: 733a 2045 6e64 2074 696d 6573 2069 6e20  s: End times in 
-0000d930: 4848 3a4d 4d3a 5353 2066 6f72 6d61 742e  HH:MM:SS format.
-0000d940: 0a20 2020 203a 7061 7261 6d65 7465 7220  .    :parameter 
-0000d950: 4f70 7469 6f6e 616c 5b55 6e69 6f6e 5b73  Optional[Union[s
-0000d960: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
-0000d970: 5d20 6f75 745f 6469 723a 2049 6620 4e6f  ] out_dir: If No
-0000d980: 6e65 2c20 7468 656e 2074 6865 2063 6c69  ne, then the cli
-0000d990: 7073 2077 696c 6c20 6265 2073 746f 7265  ps will be store
-0000d9a0: 6420 696e 2074 6865 2073 616d 6520 6469  d in the same di
-0000d9b0: 7220 6173 2074 6865 2069 6e70 7574 2076  r as the input v
-0000d9c0: 6964 656f 2e20 4966 2064 6972 6563 746f  ideo. If directo
-0000d9d0: 7279 2c20 7468 656e 2074 6865 206c 6f63  ry, then the loc
-0000d9e0: 6174 696f 6e20 6f66 2074 6865 206f 7574  ation of the out
-0000d9f0: 7075 7420 6669 6c65 732e 0a20 2020 203a  put files..    :
-0000da00: 7061 7261 6d65 7465 7220 4f70 7469 6f6e  parameter Option
-0000da10: 616c 5b62 6f6f 6c5d 2069 6e63 6c75 6465  al[bool] include
-0000da20: 5f63 6c69 705f 7469 6d65 5f69 6e5f 6669  _clip_time_in_fi
-0000da30: 6c65 6e61 6d65 3a20 4966 2054 7275 652c  lename: If True,
-0000da40: 2069 6e63 6c75 6465 2074 6865 2063 6c69   include the cli
-0000da50: 7020 7374 6172 7420 616e 6420 656e 6420  p start and end 
-0000da60: 696e 2048 482d 4d4d 2d53 5320 666f 726d  in HH-MM-SS form
-0000da70: 6174 2061 7320 7375 6666 6978 2069 6e20  at as suffix in 
-0000da80: 7468 6520 6669 6c65 6e61 6d65 2e20 4966  the filename. If
-0000da90: 2046 616c 7365 2c20 7468 656e 2075 7365   False, then use
-0000daa0: 2069 6e74 6567 6572 2073 7566 6669 6320   integer suffic 
-0000dab0: 7265 7072 6573 656e 7469 6e67 2074 6865  representing the
-0000dac0: 2063 6f75 6e74 2e0a 2020 2020 3a70 6172   count..    :par
-0000dad0: 616d 6574 6572 204f 7074 696f 6e61 6c5b  ameter Optional[
-0000dae0: 626f 6f6c 5d20 6770 753a 2049 6620 5472  bool] gpu: If Tr
-0000daf0: 7565 2c20 7573 6520 4e56 4944 4541 2047  ue, use NVIDEA G
-0000db00: 5055 2063 6f64 6563 732e 2044 6566 6175  PU codecs. Defau
-0000db10: 6c74 2046 616c 7365 2e0a 0a20 2020 203a  lt False...    :
-0000db20: 6578 616d 706c 653a 0a20 2020 203e 3e3e  example:.    >>>
-0000db30: 205f 203d 206d 756c 7469 5f73 706c 6974   _ = multi_split
-0000db40: 5f76 6964 656f 2866 696c 655f 7061 7468  _video(file_path
-0000db50: 3d27 7072 6f6a 6563 745f 666f 6c64 6572  ='project_folder
-0000db60: 2f76 6964 656f 732f 5669 6465 6f5f 312e  /videos/Video_1.
-0000db70: 6d70 3427 2c20 7374 6172 745f 7469 6d65  mp4', start_time
-0000db80: 733d 5b27 3030 3a30 303a 3035 272c 2027  s=['00:00:05', '
-0000db90: 3030 3a30 303a 3230 275d 2c20 656e 645f  00:00:20'], end_
-0000dba0: 7469 6d65 733d 5b27 3030 3a30 303a 3130  times=['00:00:10
-0000dbb0: 272c 2027 3030 3a30 303a 3235 275d 290a  ', '00:00:25']).
-0000dbc0: 2020 2020 2222 220a 0a20 2020 2063 6865      """..    che
-0000dbd0: 636b 5f66 666d 7065 675f 6176 6169 6c61  ck_ffmpeg_availa
-0000dbe0: 626c 6528 7261 6973 655f 6572 726f 723d  ble(raise_error=
-0000dbf0: 5472 7565 290a 2020 2020 7469 6d65 7220  True).    timer 
-0000dc00: 3d20 5369 6d62 6154 696d 6572 2873 7461  = SimbaTimer(sta
-0000dc10: 7274 3d54 7275 6529 0a20 2020 2063 6865  rt=True).    che
-0000dc20: 636b 5f66 696c 655f 6578 6973 745f 616e  ck_file_exist_an
-0000dc30: 645f 7265 6164 6162 6c65 2866 696c 655f  d_readable(file_
-0000dc40: 7061 7468 3d66 696c 655f 7061 7468 290a  path=file_path).
-0000dc50: 2020 2020 6469 725f 6e61 6d65 2c20 6669      dir_name, fi
-0000dc60: 6c65 5f6e 616d 652c 2065 7874 203d 2067  le_name, ext = g
-0000dc70: 6574 5f66 6e5f 6578 7428 6669 6c65 7061  et_fn_ext(filepa
-0000dc80: 7468 3d66 696c 655f 7061 7468 290a 2020  th=file_path).  
-0000dc90: 2020 6966 206f 7574 5f64 6972 2069 7320    if out_dir is 
-0000dca0: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
-0000dcb0: 2020 6966 206e 6f74 206f 732e 7061 7468    if not os.path
-0000dcc0: 2e69 7364 6972 286f 7574 5f64 6972 293a  .isdir(out_dir):
-0000dcd0: 0a20 2020 2020 2020 2020 2020 206f 732e  .            os.
-0000dce0: 6d61 6b65 6469 7273 286f 7574 5f64 6972  makedirs(out_dir
-0000dcf0: 290a 2020 2020 2020 2020 6469 725f 6e61  ).        dir_na
-0000dd00: 6d65 203d 206f 7574 5f64 6972 0a20 2020  me = out_dir.   
-0000dd10: 2066 6f72 2073 7461 7274 5f74 696d 655f   for start_time_
-0000dd20: 636e 742c 2073 7461 7274 5f74 696d 6520  cnt, start_time 
-0000dd30: 696e 2065 6e75 6d65 7261 7465 2873 7461  in enumerate(sta
-0000dd40: 7274 5f74 696d 6573 293a 0a20 2020 2020  rt_times):.     
-0000dd50: 2020 2063 6865 636b 5f69 665f 7374 7269     check_if_stri
-0000dd60: 6e67 5f76 616c 7565 5f69 735f 7661 6c69  ng_value_is_vali
-0000dd70: 645f 7669 6465 6f5f 7469 6d65 7374 616d  d_video_timestam
-0000dd80: 7028 0a20 2020 2020 2020 2020 2020 2076  p(.            v
-0000dd90: 616c 7565 3d73 7461 7274 5f74 696d 652c  alue=start_time,
-0000dda0: 206e 616d 653d 6622 5374 6172 7420 7469   name=f"Start ti
-0000ddb0: 6d65 2066 6f72 2063 6c69 7020 7b73 7461  me for clip {sta
-0000ddc0: 7274 5f74 696d 655f 636e 742b 317d 220a  rt_time_cnt+1}".
-0000ddd0: 2020 2020 2020 2020 290a 2020 2020 666f          ).    fo
-0000dde0: 7220 656e 645f 7469 6d65 5f63 6e74 2c20  r end_time_cnt, 
-0000ddf0: 656e 645f 7469 6d65 2069 6e20 656e 756d  end_time in enum
-0000de00: 6572 6174 6528 656e 645f 7469 6d65 7329  erate(end_times)
-0000de10: 3a0a 2020 2020 2020 2020 6368 6563 6b5f  :.        check_
-0000de20: 6966 5f73 7472 696e 675f 7661 6c75 655f  if_string_value_
-0000de30: 6973 5f76 616c 6964 5f76 6964 656f 5f74  is_valid_video_t
-0000de40: 696d 6573 7461 6d70 280a 2020 2020 2020  imestamp(.      
-0000de50: 2020 2020 2020 7661 6c75 653d 656e 645f        value=end_
-0000de60: 7469 6d65 2c20 6e61 6d65 3d66 2245 6e64  time, name=f"End
-0000de70: 2074 696d 6520 666f 7220 636c 6970 207b   time for clip {
-0000de80: 656e 645f 7469 6d65 5f63 6e74 2b31 7d22  end_time_cnt+1}"
-0000de90: 0a20 2020 2020 2020 2029 0a20 2020 2066  .        ).    f
-0000dea0: 6f72 2063 6c69 705f 636e 742c 2028 7374  or clip_cnt, (st
-0000deb0: 6172 745f 7469 6d65 2c20 656e 645f 7469  art_time, end_ti
-0000dec0: 6d65 2920 696e 2065 6e75 6d65 7261 7465  me) in enumerate
-0000ded0: 287a 6970 2873 7461 7274 5f74 696d 6573  (zip(start_times
-0000dee0: 2c20 656e 645f 7469 6d65 7329 293a 0a20  , end_times)):. 
-0000def0: 2020 2020 2020 2063 6865 636b 5f74 6861         check_tha
-0000df00: 745f 6868 6d6d 7373 5f73 7461 7274 5f69  t_hhmmss_start_i
-0000df10: 735f 6265 666f 7265 5f65 6e64 280a 2020  s_before_end(.  
-0000df20: 2020 2020 2020 2020 2020 7374 6172 745f            start_
-0000df30: 7469 6d65 3d73 7461 7274 5f74 696d 652c  time=start_time,
-0000df40: 2065 6e64 5f74 696d 653d 656e 645f 7469   end_time=end_ti
-0000df50: 6d65 2c20 6e61 6d65 3d66 2243 6c69 7020  me, name=f"Clip 
-0000df60: 7b73 7472 2863 6c69 705f 636e 742b 3129  {str(clip_cnt+1)
-0000df70: 7d22 0a20 2020 2020 2020 2029 0a20 2020  }".        ).   
-0000df80: 2020 2020 2063 6865 636b 5f69 665f 6868       check_if_hh
-0000df90: 6d6d 7373 5f74 696d 6573 7461 6d70 5f69  mmss_timestamp_i
-0000dfa0: 735f 7661 6c69 645f 7061 7274 5f6f 665f  s_valid_part_of_
-0000dfb0: 7669 6465 6f28 0a20 2020 2020 2020 2020  video(.         
-0000dfc0: 2020 2074 696d 6573 7461 6d70 3d73 7461     timestamp=sta
-0000dfd0: 7274 5f74 696d 652c 2076 6964 656f 5f70  rt_time, video_p
-0000dfe0: 6174 683d 6669 6c65 5f70 6174 680a 2020  ath=file_path.  
-0000dff0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-0000e000: 6368 6563 6b5f 6966 5f68 686d 6d73 735f  check_if_hhmmss_
-0000e010: 7469 6d65 7374 616d 705f 6973 5f76 616c  timestamp_is_val
-0000e020: 6964 5f70 6172 745f 6f66 5f76 6964 656f  id_part_of_video
-0000e030: 280a 2020 2020 2020 2020 2020 2020 7469  (.            ti
-0000e040: 6d65 7374 616d 703d 656e 645f 7469 6d65  mestamp=end_time
-0000e050: 2c20 7669 6465 6f5f 7061 7468 3d66 696c  , video_path=fil
-0000e060: 655f 7061 7468 0a20 2020 2020 2020 2029  e_path.        )
-0000e070: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-0000e080: 696e 636c 7564 655f 636c 6970 5f74 696d  include_clip_tim
-0000e090: 655f 696e 5f66 696c 656e 616d 653a 0a20  e_in_filename:. 
-0000e0a0: 2020 2020 2020 2020 2020 2073 6176 655f             save_
-0000e0b0: 7061 7468 203d 206f 732e 7061 7468 2e6a  path = os.path.j
-0000e0c0: 6f69 6e28 0a20 2020 2020 2020 2020 2020  oin(.           
-0000e0d0: 2020 2020 2064 6972 5f6e 616d 652c 2066       dir_name, f
-0000e0e0: 696c 655f 6e61 6d65 202b 2022 5f7b 7d22  ile_name + "_{}"
-0000e0f0: 2e66 6f72 6d61 7428 7374 7228 636c 6970  .format(str(clip
-0000e100: 5f63 6e74 202b 2031 2929 202b 2022 2e6d  _cnt + 1)) + ".m
-0000e110: 7034 220a 2020 2020 2020 2020 2020 2020  p4".            
-0000e120: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
-0000e130: 2020 2020 2020 2020 2020 2020 7361 7665              save
-0000e140: 5f70 6174 6820 3d20 6f73 2e70 6174 682e  _path = os.path.
-0000e150: 6a6f 696e 280a 2020 2020 2020 2020 2020  join(.          
-0000e160: 2020 2020 2020 6469 725f 6e61 6d65 2c0a        dir_name,.
-0000e170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e180: 6669 6c65 5f6e 616d 650a 2020 2020 2020  file_name.      
-0000e190: 2020 2020 2020 2020 2020 2b20 6627 5f7b            + f'_{
-0000e1a0: 7374 6172 745f 7469 6d65 2e72 6570 6c61  start_time.repla
-0000e1b0: 6365 2822 3a22 2c20 222d 2229 7d5f 7b65  ce(":", "-")}_{e
-0000e1c0: 6e64 5f74 696d 652e 7265 706c 6163 6528  nd_time.replace(
-0000e1d0: 223a 222c 2022 2d22 297d 2e6d 7034 272c  ":", "-")}.mp4',
-0000e1e0: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
-0000e1f0: 2020 2020 2020 2069 6620 6f73 2e70 6174         if os.pat
-0000e200: 682e 6973 6669 6c65 2873 6176 655f 7061  h.isfile(save_pa
-0000e210: 7468 293a 0a20 2020 2020 2020 2020 2020  th):.           
-0000e220: 2072 6169 7365 2046 696c 6545 7869 7374   raise FileExist
-0000e230: 4572 726f 7228 0a20 2020 2020 2020 2020  Error(.         
-0000e240: 2020 2020 2020 206d 7367 3d66 2254 6865         msg=f"The
-0000e250: 206f 7574 6669 6c65 2066 696c 6520 616c   outfile file al
-0000e260: 7265 6164 7920 6578 6973 743a 207b 7361  ready exist: {sa
-0000e270: 7665 5f70 6174 687d 2e22 2c0a 2020 2020  ve_path}.",.    
-0000e280: 2020 2020 2020 2020 2020 2020 736f 7572              sour
-0000e290: 6365 3d6d 756c 7469 5f73 706c 6974 5f76  ce=multi_split_v
-0000e2a0: 6964 656f 2e5f 5f6e 616d 655f 5f2c 0a20  ideo.__name__,. 
-0000e2b0: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
-0000e2c0: 2020 2020 2069 6620 6770 753a 0a20 2020       if gpu:.   
-0000e2d0: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
-0000e2e0: 6368 6563 6b5f 6e76 6964 6561 5f67 7075  check_nvidea_gpu
-0000e2f0: 5f61 7661 696c 6162 6c65 2829 3a0a 2020  _available():.  
-0000e300: 2020 2020 2020 2020 2020 2020 2020 7261                ra
-0000e310: 6973 6520 4646 4d50 4547 436f 6465 6347  ise FFMPEGCodecG
-0000e320: 5055 4572 726f 7228 0a20 2020 2020 2020  PUError(.       
-0000e330: 2020 2020 2020 2020 2020 2020 206d 7367               msg
-0000e340: 3d22 4e56 4944 4541 2047 5055 206e 6f74  ="NVIDEA GPU not
-0000e350: 2061 7661 696c 6162 6c65 2028 6173 2065   available (as e
-0000e360: 7661 6c75 6174 6564 2062 7920 6e76 6964  valuated by nvid
-0000e370: 6561 2d73 6d69 2072 6574 7572 6e69 6e67  ea-smi returning
-0000e380: 204e 6f6e 6522 2c0a 2020 2020 2020 2020   None",.        
-0000e390: 2020 2020 2020 2020 2020 2020 736f 7572              sour
-0000e3a0: 6365 3d6d 756c 7469 5f73 706c 6974 5f76  ce=multi_split_v
-0000e3b0: 6964 656f 2e5f 5f6e 616d 655f 5f2c 0a20  ideo.__name__,. 
-0000e3c0: 2020 2020 2020 2020 2020 2020 2020 2029                 )
-0000e3d0: 0a20 2020 2020 2020 2020 2020 2063 6f6d  .            com
-0000e3e0: 6d61 6e64 203d 2027 6666 6d70 6567 202d  mand = 'ffmpeg -
-0000e3f0: 6877 6163 6365 6c20 6175 746f 202d 6920  hwaccel auto -i 
-0000e400: 227b 7d22 202d 7373 207b 7d20 2d74 6f20  "{}" -ss {} -to 
-0000e410: 7b7d 202d 633a 7620 6832 3634 5f6e 7665  {} -c:v h264_nve
-0000e420: 6e63 202d 6173 796e 6320 3120 227b 7d22  nc -async 1 "{}"
-0000e430: 272e 666f 726d 6174 280a 2020 2020 2020  '.format(.      
-0000e440: 2020 2020 2020 2020 2020 6669 6c65 5f70            file_p
-0000e450: 6174 682c 2073 7461 7274 5f74 696d 652c  ath, start_time,
-0000e460: 2065 6e64 5f74 696d 652c 2073 6176 655f   end_time, save_
-0000e470: 7061 7468 0a20 2020 2020 2020 2020 2020  path.           
-0000e480: 2029 0a20 2020 2020 2020 2065 6c73 653a   ).        else:
-0000e490: 0a20 2020 2020 2020 2020 2020 2063 6f6d  .            com
-0000e4a0: 6d61 6e64 203d 2066 2766 666d 7065 6720  mand = f'ffmpeg 
-0000e4b0: 2d69 2022 7b66 696c 655f 7061 7468 7d22  -i "{file_path}"
-0000e4c0: 202d 7373 207b 7374 6172 745f 7469 6d65   -ss {start_time
-0000e4d0: 7d20 2d74 6f20 7b65 6e64 5f74 696d 657d  } -to {end_time}
-0000e4e0: 202d 6173 796e 6320 3120 227b 7361 7665   -async 1 "{save
-0000e4f0: 5f70 6174 687d 2227 0a20 2020 2020 2020  _path}"'.       
-0000e500: 2070 7269 6e74 2822 5072 6f63 6573 7369   print("Processi
-0000e510: 6e67 2076 6964 656f 2063 6c69 7020 7b7d  ng video clip {}
-0000e520: 2e2e 2e22 2e66 6f72 6d61 7428 7374 7228  ...".format(str(
-0000e530: 636c 6970 5f63 6e74 202b 2031 2929 290a  clip_cnt + 1))).
-0000e540: 2020 2020 2020 2020 7375 6270 726f 6365          subproce
-0000e550: 7373 2e63 616c 6c28 636f 6d6d 616e 642c  ss.call(command,
-0000e560: 2073 6865 6c6c 3d54 7275 652c 2073 7464   shell=True, std
-0000e570: 6f75 743d 7375 6270 726f 6365 7373 2e50  out=subprocess.P
-0000e580: 4950 4529 0a20 2020 2074 696d 6572 2e73  IPE).    timer.s
-0000e590: 746f 705f 7469 6d65 7228 290a 2020 2020  top_timer().    
-0000e5a0: 7374 646f 7574 5f73 7563 6365 7373 280a  stdout_success(.
-0000e5b0: 2020 2020 2020 2020 6d73 673d 6622 5669          msg=f"Vi
-0000e5c0: 6465 6f20 7b66 696c 655f 6e61 6d65 7d20  deo {file_name} 
-0000e5d0: 636f 6e76 6572 7465 6420 696e 746f 207b  converted into {
-0000e5e0: 7374 7228 6c65 6e28 7374 6172 745f 7469  str(len(start_ti
-0000e5f0: 6d65 7329 297d 2063 6c69 7073 2069 6e20  mes))} clips in 
-0000e600: 6469 7265 6374 6f72 7920 7b64 6972 5f6e  directory {dir_n
-0000e610: 616d 657d 2122 2c0a 2020 2020 2020 2020  ame}!",.        
-0000e620: 656c 6170 7365 645f 7469 6d65 3d74 696d  elapsed_time=tim
-0000e630: 6572 2e65 6c61 7073 6564 5f74 696d 655f  er.elapsed_time_
-0000e640: 7374 722c 0a20 2020 2020 2020 2073 6f75  str,.        sou
-0000e650: 7263 653d 6d75 6c74 695f 7370 6c69 745f  rce=multi_split_
-0000e660: 7669 6465 6f2e 5f5f 6e61 6d65 5f5f 2c0a  video.__name__,.
-0000e670: 2020 2020 290a 0a0a 2320 6d75 6c74 695f      )...# multi_
-0000e680: 7370 6c69 745f 7669 6465 6f28 6669 6c65  split_video(file
-0000e690: 5f70 6174 683d 7227 2f55 7365 7273 2f73  _path=r'/Users/s
-0000e6a0: 696d 6f6e 2f44 6573 6b74 6f70 2f74 696d  imon/Desktop/tim
-0000e6b0: 655f 735f 636f 6e76 6572 7465 642e 6d70  e_s_converted.mp
-0000e6c0: 3427 2c20 7374 6172 745f 7469 6d65 733d  4', start_times=
-0000e6d0: 5b27 3030 3a30 303a 3031 272c 2027 3030  ['00:00:01', '00
-0000e6e0: 3a30 303a 3032 275d 2c20 656e 645f 7469  :00:02'], end_ti
-0000e6f0: 6d65 733d 5b27 3030 3a30 303a 3034 272c  mes=['00:00:04',
-0000e700: 2027 3030 3a30 303a 3035 275d 2c20 6770   '00:00:05'], gp
-0000e710: 753d 4661 6c73 6529 0a0a 0a64 6566 2063  u=False)...def c
-0000e720: 726f 705f 7369 6e67 6c65 5f76 6964 656f  rop_single_video
-0000e730: 2866 696c 655f 7061 7468 3a20 556e 696f  (file_path: Unio
-0000e740: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
-0000e750: 6b65 5d2c 2067 7075 3a20 4f70 7469 6f6e  ke], gpu: Option
-0000e760: 616c 5b62 6f6f 6c5d 203d 2046 616c 7365  al[bool] = False
-0000e770: 2920 2d3e 204e 6f6e 653a 0a20 2020 2022  ) -> None:.    "
-0000e780: 2222 0a20 2020 2043 726f 7020 6120 7369  "".    Crop a si
-0000e790: 6e67 6c65 2076 6964 656f 2075 7369 6e67  ngle video using
-0000e7a0: 2060 6073 696d 6261 2e76 6964 656f 5f70   ``simba.video_p
-0000e7b0: 726f 6365 7373 6f72 732e 726f 695f 7365  rocessors.roi_se
-0000e7c0: 6c65 6374 6f72 2e52 4f49 5365 6c65 6374  lector.ROISelect
-0000e7d0: 6f72 6060 2069 6e74 6572 6661 6365 2e20  or`` interface. 
-0000e7e0: 5265 7375 6c74 7320 6973 2073 6176 6564  Results is saved
-0000e7f0: 2069 6e20 7468 6520 7361 6d65 2064 6972   in the same dir
-0000e800: 6563 746f 7279 2061 7320 696e 7075 7420  ectory as input 
-0000e810: 7669 6465 6f20 7769 7468 2074 6865 0a20  video with the. 
-0000e820: 2020 2060 605f 6372 6f70 7065 642e 6d70     ``_cropped.mp
-0000e830: 3460 6020 7375 6666 6978 602e 0a0a 2020  4`` suffix`...  
-0000e840: 2020 2e2e 2069 6d61 6765 3a3a 205f 7374    .. image:: _st
-0000e850: 6174 6963 2f69 6d67 2f63 726f 705f 7369  atic/img/crop_si
-0000e860: 6e67 6c65 5f76 6964 656f 2e67 6966 0a20  ngle_video.gif. 
-0000e870: 2020 2020 2020 3a77 6964 7468 3a20 3730        :width: 70
-0000e880: 300a 2020 2020 2020 203a 616c 6967 6e3a  0.       :align:
-0000e890: 2063 656e 7465 720a 0a20 2020 203a 7061   center..    :pa
-0000e8a0: 7261 6d65 7465 7220 7374 7220 6669 6c65  rameter str file
-0000e8b0: 5f70 6174 683a 2050 6174 6820 746f 2076  _path: Path to v
-0000e8c0: 6964 656f 2066 696c 652e 0a20 2020 203a  ideo file..    :
-0000e8d0: 7061 7261 6d65 7465 7220 4f70 7469 6f6e  parameter Option
-0000e8e0: 616c 5b62 6f6f 6c5d 2067 7075 3a20 4966  al[bool] gpu: If
-0000e8f0: 2054 7275 652c 2075 7365 204e 5649 4445   True, use NVIDE
-0000e900: 4120 4750 5520 636f 6465 6373 2e20 4465  A GPU codecs. De
-0000e910: 6661 756c 7420 4661 6c73 652e 0a0a 2020  fault False...  
-0000e920: 2020 3a65 7861 6d70 6c65 3a0a 2020 2020    :example:.    
-0000e930: 3e3e 3e20 5f20 3d20 6372 6f70 5f73 696e  >>> _ = crop_sin
-0000e940: 676c 655f 7669 6465 6f28 6669 6c65 5f70  gle_video(file_p
-0000e950: 6174 683d 2770 726f 6a65 6374 5f66 6f6c  ath='project_fol
-0000e960: 6465 722f 7669 6465 6f73 2f56 6964 656f  der/videos/Video
-0000e970: 5f31 2e6d 7034 2729 0a20 2020 2022 2222  _1.mp4').    """
-0000e980: 0a0a 2020 2020 6368 6563 6b5f 6666 6d70  ..    check_ffmp
-0000e990: 6567 5f61 7661 696c 6162 6c65 2872 6169  eg_available(rai
-0000e9a0: 7365 5f65 7272 6f72 3d54 7275 6529 0a20  se_error=True). 
-0000e9b0: 2020 2069 6620 6770 7520 616e 6420 6e6f     if gpu and no
-0000e9c0: 7420 6368 6563 6b5f 6e76 6964 6561 5f67  t check_nvidea_g
-0000e9d0: 7075 5f61 7661 696c 6162 6c65 2829 3a0a  pu_available():.
-0000e9e0: 2020 2020 2020 2020 7261 6973 6520 4646          raise FF
-0000e9f0: 4d50 4547 436f 6465 6347 5055 4572 726f  MPEGCodecGPUErro
-0000ea00: 7228 0a20 2020 2020 2020 2020 2020 206d  r(.            m
-0000ea10: 7367 3d22 4e56 4944 4541 2047 5055 206e  sg="NVIDEA GPU n
-0000ea20: 6f74 2061 7661 696c 6162 6c65 2028 6173  ot available (as
-0000ea30: 2065 7661 6c75 6174 6564 2062 7920 6e76   evaluated by nv
-0000ea40: 6964 6561 2d73 6d69 2072 6574 7572 6e69  idea-smi returni
-0000ea50: 6e67 204e 6f6e 6522 2c0a 2020 2020 2020  ng None",.      
-0000ea60: 2020 2020 2020 736f 7572 6365 3d63 726f        source=cro
-0000ea70: 705f 7369 6e67 6c65 5f76 6964 656f 2e5f  p_single_video._
-0000ea80: 5f6e 616d 655f 5f2c 0a20 2020 2020 2020  _name__,.       
-0000ea90: 2029 0a20 2020 2063 6865 636b 5f66 696c   ).    check_fil
-0000eaa0: 655f 6578 6973 745f 616e 645f 7265 6164  e_exist_and_read
-0000eab0: 6162 6c65 2866 696c 655f 7061 7468 3d66  able(file_path=f
-0000eac0: 696c 655f 7061 7468 290a 2020 2020 5f20  ile_path).    _ 
-0000ead0: 3d20 6765 745f 7669 6465 6f5f 6d65 7461  = get_video_meta
-0000eae0: 5f64 6174 6128 7669 6465 6f5f 7061 7468  _data(video_path
-0000eaf0: 3d66 696c 655f 7061 7468 290a 2020 2020  =file_path).    
-0000eb00: 6469 725f 6e61 6d65 2c20 6669 6c65 5f6e  dir_name, file_n
-0000eb10: 616d 652c 2065 7874 203d 2067 6574 5f66  ame, ext = get_f
-0000eb20: 6e5f 6578 7428 6669 6c65 7061 7468 3d66  n_ext(filepath=f
-0000eb30: 696c 655f 7061 7468 290a 2020 2020 726f  ile_path).    ro
-0000eb40: 695f 7365 6c65 6374 6f72 203d 2052 4f49  i_selector = ROI
-0000eb50: 5365 6c65 6374 6f72 2870 6174 683d 6669  Selector(path=fi
-0000eb60: 6c65 5f70 6174 6829 0a20 2020 2072 6f69  le_path).    roi
-0000eb70: 5f73 656c 6563 746f 722e 7275 6e28 290a  _selector.run().
-0000eb80: 2020 2020 6966 2028 0a20 2020 2020 2020      if (.       
-0000eb90: 2028 726f 695f 7365 6c65 6374 6f72 2e74   (roi_selector.t
-0000eba0: 6f70 5f6c 6566 745b 305d 203c 2030 290a  op_left[0] < 0).
-0000ebb0: 2020 2020 2020 2020 6f72 2028 726f 695f          or (roi_
-0000ebc0: 7365 6c65 6374 6f72 2e74 6f70 5f6c 6566  selector.top_lef
-0000ebd0: 745b 315d 203c 2030 290a 2020 2020 2020  t[1] < 0).      
-0000ebe0: 2020 6f72 2028 726f 695f 7365 6c65 6374    or (roi_select
-0000ebf0: 6f72 2e62 6f74 746f 6d5f 7269 6768 745b  or.bottom_right[
-0000ec00: 305d 203c 2030 290a 2020 2020 2020 2020  0] < 0).        
-0000ec10: 6f72 2028 726f 695f 7365 6c65 6374 6f72  or (roi_selector
-0000ec20: 2e62 6f74 746f 6d5f 7269 6768 745b 315d  .bottom_right[1]
-0000ec30: 203c 2031 290a 2020 2020 293a 0a20 2020   < 1).    ):.   
-0000ec40: 2020 2020 2072 6169 7365 2043 6f75 6e74       raise Count
-0000ec50: 4572 726f 7228 0a20 2020 2020 2020 2020  Error(.         
-0000ec60: 2020 206d 7367 3d22 4352 4f50 2046 4149     msg="CROP FAI
-0000ec70: 4c45 443a 2043 616e 6e6f 7420 7573 6520  LED: Cannot use 
-0000ec80: 6e65 6761 7469 7665 2063 726f 7020 636f  negative crop co
-0000ec90: 6f72 6469 6e61 7465 732e 222c 0a20 2020  ordinates.",.   
-0000eca0: 2020 2020 2020 2020 2073 6f75 7263 653d           source=
-0000ecb0: 6372 6f70 5f6d 756c 7469 706c 655f 7669  crop_multiple_vi
-0000ecc0: 6465 6f73 2e5f 5f6e 616d 655f 5f2c 0a20  deos.__name__,. 
-0000ecd0: 2020 2020 2020 2029 0a20 2020 2073 6176         ).    sav
-0000ece0: 655f 7061 7468 203d 206f 732e 7061 7468  e_path = os.path
-0000ecf0: 2e6a 6f69 6e28 6469 725f 6e61 6d65 2c20  .join(dir_name, 
-0000ed00: 6622 7b66 696c 655f 6e61 6d65 7d5f 6372  f"{file_name}_cr
-0000ed10: 6f70 7065 642e 6d70 3422 290a 2020 2020  opped.mp4").    
-0000ed20: 6966 206f 732e 7061 7468 2e69 7366 696c  if os.path.isfil
-0000ed30: 6528 7361 7665 5f70 6174 6829 3a0a 2020  e(save_path):.  
-0000ed40: 2020 2020 2020 7261 6973 6520 4669 6c65        raise File
-0000ed50: 4578 6973 7445 7272 6f72 280a 2020 2020  ExistError(.    
-0000ed60: 2020 2020 2020 2020 6d73 673d 6622 5349          msg=f"SI
-0000ed70: 4d42 4120 4552 524f 523a 2054 6865 206f  MBA ERROR: The o
-0000ed80: 7574 2066 696c 6520 2061 6c72 6561 6479  ut file  already
-0000ed90: 2065 7869 7374 3a20 7b73 6176 655f 7061   exist: {save_pa
-0000eda0: 7468 7d2e 222c 0a20 2020 2020 2020 2020  th}.",.         
-0000edb0: 2020 2073 6f75 7263 653d 6372 6f70 5f73     source=crop_s
-0000edc0: 696e 676c 655f 7669 6465 6f2e 5f5f 6e61  ingle_video.__na
-0000edd0: 6d65 5f5f 2c0a 2020 2020 2020 2020 290a  me__,.        ).
-0000ede0: 2020 2020 7469 6d65 7220 3d20 5369 6d62      timer = Simb
-0000edf0: 6154 696d 6572 2873 7461 7274 3d54 7275  aTimer(start=Tru
-0000ee00: 6529 0a20 2020 2069 6620 6770 753a 0a20  e).    if gpu:. 
-0000ee10: 2020 2020 2020 2063 6f6d 6d61 6e64 203d         command =
-0000ee20: 2066 2766 666d 7065 6720 2d68 7761 6363   f'ffmpeg -hwacc
-0000ee30: 656c 2061 7574 6f20 2d63 3a76 2068 3236  el auto -c:v h26
-0000ee40: 345f 6375 7669 6420 2d69 2022 7b66 696c  4_cuvid -i "{fil
-0000ee50: 655f 7061 7468 7d22 202d 7666 2022 6372  e_path}" -vf "cr
-0000ee60: 6f70 3d7b 726f 695f 7365 6c65 6374 6f72  op={roi_selector
-0000ee70: 2e77 6964 7468 7d3a 7b72 6f69 5f73 656c  .width}:{roi_sel
-0000ee80: 6563 746f 722e 6865 6967 6874 7d3a 7b72  ector.height}:{r
-0000ee90: 6f69 5f73 656c 6563 746f 722e 746f 705f  oi_selector.top_
-0000eea0: 6c65 6674 5b30 5d7d 3a7b 726f 695f 7365  left[0]}:{roi_se
-0000eeb0: 6c65 6374 6f72 2e74 6f70 5f6c 6566 745b  lector.top_left[
-0000eec0: 315d 7d22 202d 633a 7620 6832 3634 5f6e  1]}" -c:v h264_n
-0000eed0: 7665 6e63 202d 633a 6120 636f 7079 2022  venc -c:a copy "
-0000eee0: 7b73 6176 655f 7061 7468 7d22 270a 2020  {save_path}"'.  
-0000eef0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-0000ef00: 636f 6d6d 616e 6420 3d20 6627 6666 6d70  command = f'ffmp
-0000ef10: 6567 202d 7920 2d69 2022 7b66 696c 655f  eg -y -i "{file_
-0000ef20: 7061 7468 7d22 202d 7666 2022 6372 6f70  path}" -vf "crop
-0000ef30: 3d7b 726f 695f 7365 6c65 6374 6f72 2e77  ={roi_selector.w
-0000ef40: 6964 7468 7d3a 7b72 6f69 5f73 656c 6563  idth}:{roi_selec
-0000ef50: 746f 722e 6865 6967 6874 7d3a 7b72 6f69  tor.height}:{roi
-0000ef60: 5f73 656c 6563 746f 722e 746f 705f 6c65  _selector.top_le
-0000ef70: 6674 5b30 5d7d 3a7b 726f 695f 7365 6c65  ft[0]}:{roi_sele
-0000ef80: 6374 6f72 2e74 6f70 5f6c 6566 745b 315d  ctor.top_left[1]
-0000ef90: 7d22 202d 633a 7620 6c69 6278 3236 3420  }" -c:v libx264 
-0000efa0: 2d63 7266 2031 3720 2d63 3a61 2063 6f70  -crf 17 -c:a cop
-0000efb0: 7920 227b 7361 7665 5f70 6174 687d 2227  y "{save_path}"'
-0000efc0: 0a20 2020 2073 7562 7072 6f63 6573 732e  .    subprocess.
-0000efd0: 6361 6c6c 2863 6f6d 6d61 6e64 2c20 7368  call(command, sh
-0000efe0: 656c 6c3d 5472 7565 290a 2020 2020 7469  ell=True).    ti
-0000eff0: 6d65 722e 7374 6f70 5f74 696d 6572 2829  mer.stop_timer()
-0000f000: 0a20 2020 2073 7464 6f75 745f 7375 6363  .    stdout_succ
-0000f010: 6573 7328 0a20 2020 2020 2020 2066 2256  ess(.        f"V
-0000f020: 6964 656f 207b 6669 6c65 5f6e 616d 657d  ideo {file_name}
-0000f030: 2063 726f 7070 6564 2061 6e64 2073 6176   cropped and sav
-0000f040: 6564 2061 7420 7b73 6176 655f 7061 7468  ed at {save_path
-0000f050: 7d22 2c0a 2020 2020 2020 2020 656c 6170  }",.        elap
-0000f060: 7365 645f 7469 6d65 3d74 696d 6572 2e65  sed_time=timer.e
-0000f070: 6c61 7073 6564 5f74 696d 655f 7374 722c  lapsed_time_str,
-0000f080: 0a20 2020 2020 2020 2073 6f75 7263 653d  .        source=
-0000f090: 6372 6f70 5f73 696e 676c 655f 7669 6465  crop_single_vide
-0000f0a0: 6f2e 5f5f 6e61 6d65 5f5f 2c0a 2020 2020  o.__name__,.    
-0000f0b0: 290a 0a0a 2320 5f20 3d20 6372 6f70 5f73  )...# _ = crop_s
-0000f0c0: 696e 676c 655f 7669 6465 6f28 6669 6c65  ingle_video(file
-0000f0d0: 5f70 6174 683d 272f 5573 6572 732f 7369  _path='/Users/si
-0000f0e0: 6d6f 6e2f 4465 736b 746f 702f 656e 7673  mon/Desktop/envs
-0000f0f0: 2f74 726f 7562 6c65 7368 6f6f 7469 6e67  /troubleshooting
-0000f100: 2f41 5245 535f 6461 7461 2f54 6572 6d69  /ARES_data/Termi
-0000f110: 7465 2054 6573 7420 312f 5465 726d 6974  te Test 1/Termit
-0000f120: 6520 5465 7374 2031 2e6d 7034 2729 0a0a  e Test 1.mp4')..
-0000f130: 2320 6372 6f70 5f73 696e 676c 655f 7669  # crop_single_vi
-0000f140: 6465 6f28 6669 6c65 5f70 6174 683d 7227  deo(file_path=r'
-0000f150: 433a 5c55 7365 7273 5c4e 6170 655f 436f  C:\Users\Nape_Co
-0000f160: 6d70 7574 6572 5f32 5c44 6573 6b74 6f70  mputer_2\Desktop
-0000f170: 5c74 6573 745f 7669 6465 6f73 5c42 6f78  \test_videos\Box
-0000f180: 315f 504d 325f 6461 795f 355f 3230 3231  1_PM2_day_5_2021
-0000f190: 3131 3034 5431 3731 3032 312e 6d70 3427  1104T171021.mp4'
-0000f1a0: 2c20 6770 753d 4661 6c73 6529 0a0a 0a64  , gpu=False)...d
-0000f1b0: 6566 2063 726f 705f 6d75 6c74 6970 6c65  ef crop_multiple
-0000f1c0: 5f76 6964 656f 7328 0a20 2020 2064 6972  _videos(.    dir
-0000f1d0: 6563 746f 7279 5f70 6174 683a 2055 6e69  ectory_path: Uni
-0000f1e0: 6f6e 5b73 7472 2c20 6f73 2e50 6174 684c  on[str, os.PathL
-0000f1f0: 696b 655d 2c0a 2020 2020 6f75 7470 7574  ike],.    output
-0000f200: 5f70 6174 683a 2055 6e69 6f6e 5b73 7472  _path: Union[str
-0000f210: 2c20 6f73 2e50 6174 684c 696b 655d 2c0a  , os.PathLike],.
-0000f220: 2020 2020 6770 753a 204f 7074 696f 6e61      gpu: Optiona
-0000f230: 6c5b 626f 6f6c 5d20 3d20 4661 6c73 652c  l[bool] = False,
-0000f240: 0a29 202d 3e20 4e6f 6e65 3a0a 2020 2020  .) -> None:.    
-0000f250: 2222 220a 2020 2020 4372 6f70 206d 756c  """.    Crop mul
-0000f260: 7469 706c 6520 7669 6465 6f73 2069 6e20  tiple videos in 
-0000f270: 6120 666f 6c64 6572 2061 6363 6f72 6469  a folder accordi
-0000f280: 6e67 2074 6f20 6372 6f70 2d63 6f6f 7264  ng to crop-coord
-0000f290: 696e 6174 6573 2064 6566 696e 6564 2069  inates defined i
-0000f2a0: 6e20 7468 6520 2a2a 6669 7273 742a 2a20  n the **first** 
-0000f2b0: 7669 6465 6f2e 0a0a 2020 2020 3a70 6172  video...    :par
-0000f2c0: 616d 6574 6572 2073 7472 2064 6972 6563  ameter str direc
-0000f2d0: 746f 7279 5f70 6174 683a 2044 6972 6563  tory_path: Direc
-0000f2e0: 746f 7279 2063 6f6e 7461 696e 696e 6720  tory containing 
-0000f2f0: 696e 7075 7420 7669 6465 6f73 2e0a 2020  input videos..  
-0000f300: 2020 3a70 6172 616d 6574 6572 2073 7472    :parameter str
-0000f310: 206f 7574 7075 745f 7061 7468 3a20 4469   output_path: Di
-0000f320: 7265 6374 6f72 7920 7768 6572 6520 746f  rectory where to
-0000f330: 2073 6176 6520 7468 6520 6372 6f70 7065   save the croppe
-0000f340: 6420 7669 6465 6f73 2e0a 2020 2020 3a70  d videos..    :p
-0000f350: 6172 616d 6574 6572 204f 7074 696f 6e61  arameter Optiona
-0000f360: 6c5b 626f 6f6c 5d20 6770 753a 2049 6620  l[bool] gpu: If 
-0000f370: 5472 7565 2c20 7573 6520 4e56 4944 4541  True, use NVIDEA
-0000f380: 2047 5055 2063 6f64 6563 732e 2044 6566   GPU codecs. Def
-0000f390: 6175 6c74 2046 616c 7365 2e0a 0a20 2020  ault False...   
-0000f3a0: 203a 6578 616d 706c 653a 0a20 2020 203e   :example:.    >
-0000f3b0: 3e3e 205f 203d 2063 726f 705f 6d75 6c74  >> _ = crop_mult
-0000f3c0: 6970 6c65 5f76 6964 656f 7328 6469 7265  iple_videos(dire
-0000f3d0: 6374 6f72 795f 7061 7468 3d27 7072 6f6a  ctory_path='proj
-0000f3e0: 6563 745f 666f 6c64 6572 2f76 6964 656f  ect_folder/video
-0000f3f0: 7327 2c20 6f75 7470 7574 5f70 6174 683d  s', output_path=
-0000f400: 2770 726f 6a65 6374 5f66 6f6c 6465 722f  'project_folder/
-0000f410: 7669 6465 6f73 2f6d 795f 6e65 775f 666f  videos/my_new_fo
-0000f420: 6c64 6572 2729 0a20 2020 2022 2222 0a0a  lder').    """..
-0000f430: 2020 2020 6368 6563 6b5f 6666 6d70 6567      check_ffmpeg
-0000f440: 5f61 7661 696c 6162 6c65 2872 6169 7365  _available(raise
-0000f450: 5f65 7272 6f72 3d54 7275 6529 0a20 2020  _error=True).   
-0000f460: 2069 6620 6770 7520 616e 6420 6e6f 7420   if gpu and not 
-0000f470: 6368 6563 6b5f 6e76 6964 6561 5f67 7075  check_nvidea_gpu
-0000f480: 5f61 7661 696c 6162 6c65 2829 3a0a 2020  _available():.  
-0000f490: 2020 2020 2020 7261 6973 6520 4646 4d50        raise FFMP
-0000f4a0: 4547 436f 6465 6347 5055 4572 726f 7228  EGCodecGPUError(
-0000f4b0: 0a20 2020 2020 2020 2020 2020 206d 7367  .            msg
-0000f4c0: 3d22 4e56 4944 4541 2047 5055 206e 6f74  ="NVIDEA GPU not
-0000f4d0: 2061 7661 696c 6162 6c65 2028 6173 2065   available (as e
-0000f4e0: 7661 6c75 6174 6564 2062 7920 6e76 6964  valuated by nvid
-0000f4f0: 6561 2d73 6d69 2072 6574 7572 6e69 6e67  ea-smi returning
-0000f500: 204e 6f6e 6522 2c0a 2020 2020 2020 2020   None",.        
-0000f510: 2020 2020 736f 7572 6365 3d63 726f 705f      source=crop_
-0000f520: 6d75 6c74 6970 6c65 5f76 6964 656f 732e  multiple_videos.
-0000f530: 5f5f 6e61 6d65 5f5f 2c0a 2020 2020 2020  __name__,.      
-0000f540: 2020 290a 2020 2020 6966 206e 6f74 206f    ).    if not o
-0000f550: 732e 7061 7468 2e69 7364 6972 2864 6972  s.path.isdir(dir
-0000f560: 6563 746f 7279 5f70 6174 6829 3a0a 2020  ectory_path):.  
-0000f570: 2020 2020 2020 7261 6973 6520 4e6f 7444        raise NotD
-0000f580: 6972 6563 746f 7279 4572 726f 7228 0a20  irectoryError(. 
-0000f590: 2020 2020 2020 2020 2020 206d 7367 3d22             msg="
-0000f5a0: 5349 4d42 4120 4552 524f 523a 207b 7d20  SIMBA ERROR: {} 
-0000f5b0: 6973 206e 6f74 2061 2076 616c 6964 2064  is not a valid d
-0000f5c0: 6972 6563 746f 7279 222e 666f 726d 6174  irectory".format
-0000f5d0: 2864 6972 6563 746f 7279 5f70 6174 6829  (directory_path)
-0000f5e0: 2c0a 2020 2020 2020 2020 2020 2020 736f  ,.            so
-0000f5f0: 7572 6365 3d63 726f 705f 6d75 6c74 6970  urce=crop_multip
-0000f600: 6c65 5f76 6964 656f 732e 5f5f 6e61 6d65  le_videos.__name
-0000f610: 5f5f 2c0a 2020 2020 2020 2020 290a 2020  __,.        ).  
-0000f620: 2020 7669 6465 6f5f 7061 7468 7320 3d20    video_paths = 
-0000f630: 5b5d 0a20 2020 2066 696c 655f 7061 7468  [].    file_path
-0000f640: 735f 696e 5f66 6f6c 6465 7220 3d20 5b0a  s_in_folder = [.
-0000f650: 2020 2020 2020 2020 6620 666f 7220 6620          f for f 
-0000f660: 696e 2067 6c6f 622e 676c 6f62 2864 6972  in glob.glob(dir
-0000f670: 6563 746f 7279 5f70 6174 6820 2b20 222f  ectory_path + "/
-0000f680: 2a22 2920 6966 206f 732e 7061 7468 2e69  *") if os.path.i
-0000f690: 7366 696c 6528 6629 0a20 2020 205d 0a20  sfile(f).    ]. 
-0000f6a0: 2020 2066 6f72 2066 696c 655f 7061 7468     for file_path
-0000f6b0: 2069 6e20 6669 6c65 5f70 6174 6873 5f69   in file_paths_i
-0000f6c0: 6e5f 666f 6c64 6572 3a0a 2020 2020 2020  n_folder:.      
-0000f6d0: 2020 5f2c 205f 2c20 6578 7420 3d20 6765    _, _, ext = ge
-0000f6e0: 745f 666e 5f65 7874 2866 696c 6570 6174  t_fn_ext(filepat
-0000f6f0: 683d 6669 6c65 5f70 6174 6829 0a20 2020  h=file_path).   
-0000f700: 2020 2020 2069 6620 6578 742e 6c6f 7765       if ext.lowe
-0000f710: 7228 2920 696e 204f 7074 696f 6e73 2e41  r() in Options.A
-0000f720: 4c4c 5f56 4944 454f 5f46 4f52 4d41 545f  LL_VIDEO_FORMAT_
-0000f730: 4f50 5449 4f4e 532e 7661 6c75 653a 0a20  OPTIONS.value:. 
-0000f740: 2020 2020 2020 2020 2020 2076 6964 656f             video
-0000f750: 5f70 6174 6873 2e61 7070 656e 6428 6669  _paths.append(fi
-0000f760: 6c65 5f70 6174 6829 0a20 2020 2069 6620  le_path).    if 
-0000f770: 6c65 6e28 7669 6465 6f5f 7061 7468 7329  len(video_paths)
-0000f780: 203c 2031 3a0a 2020 2020 2020 2020 7261   < 1:.        ra
-0000f790: 6973 6520 4e6f 4669 6c65 7346 6f75 6e64  ise NoFilesFound
-0000f7a0: 4572 726f 7228 0a20 2020 2020 2020 2020  Error(.         
-0000f7b0: 2020 206d 7367 3d22 5349 4d42 4120 4552     msg="SIMBA ER
-0000f7c0: 524f 523a 204e 6f20 6669 6c65 7320 7769  ROR: No files wi
-0000f7d0: 7468 202e 6d70 342c 202e 6176 692c 202e  th .mp4, .avi, .
-0000f7e0: 6d6f 762c 202e 666c 7620 6669 6c65 2065  mov, .flv file e
-0000f7f0: 6e64 696e 6720 666f 756e 6420 696e 2074  nding found in t
-0000f800: 6865 207b 7d20 6469 7265 6374 6f72 7922  he {} directory"
-0000f810: 2e66 6f72 6d61 7428 0a20 2020 2020 2020  .format(.       
-0000f820: 2020 2020 2020 2020 2064 6972 6563 746f           directo
-0000f830: 7279 5f70 6174 680a 2020 2020 2020 2020  ry_path.        
-0000f840: 2020 2020 292c 0a20 2020 2020 2020 2020      ),.         
-0000f850: 2020 2073 6f75 7263 653d 6372 6f70 5f6d     source=crop_m
-0000f860: 756c 7469 706c 655f 7669 6465 6f73 2e5f  ultiple_videos._
-0000f870: 5f6e 616d 655f 5f2c 0a20 2020 2020 2020  _name__,.       
-0000f880: 2029 0a20 2020 2072 6f69 5f73 656c 6563   ).    roi_selec
-0000f890: 746f 7220 3d20 524f 4953 656c 6563 746f  tor = ROISelecto
-0000f8a0: 7228 7061 7468 3d66 696c 655f 7061 7468  r(path=file_path
-0000f8b0: 735f 696e 5f66 6f6c 6465 725b 305d 290a  s_in_folder[0]).
-0000f8c0: 2020 2020 726f 695f 7365 6c65 6374 6f72      roi_selector
-0000f8d0: 2e72 756e 2829 0a20 2020 2069 6620 2872  .run().    if (r
-0000f8e0: 6f69 5f73 656c 6563 746f 722e 7769 6474  oi_selector.widt
-0000f8f0: 6820 3d3d 2030 2061 6e64 2072 6f69 5f73  h == 0 and roi_s
-0000f900: 656c 6563 746f 722e 6865 6967 6874 203d  elector.height =
-0000f910: 3d20 3029 206f 7220 280a 2020 2020 2020  = 0) or (.      
-0000f920: 2020 726f 695f 7365 6c65 6374 6f72 2e77    roi_selector.w
-0000f930: 6964 7468 0a20 2020 2020 2020 202b 2072  idth.        + r
-0000f940: 6f69 5f73 656c 6563 746f 722e 6865 6967  oi_selector.heig
-0000f950: 6874 0a20 2020 2020 2020 202b 2072 6f69  ht.        + roi
-0000f960: 5f73 656c 6563 746f 722e 746f 705f 6c65  _selector.top_le
-0000f970: 6674 5b30 5d0a 2020 2020 2020 2020 2b20  ft[0].        + 
-0000f980: 726f 695f 7365 6c65 6374 6f72 2e74 6f70  roi_selector.top
-0000f990: 5f6c 6566 745b 315d 0a20 2020 2020 2020  _left[1].       
-0000f9a0: 203d 3d20 300a 2020 2020 293a 0a20 2020   == 0.    ):.   
-0000f9b0: 2020 2020 2072 6169 7365 2043 6f75 6e74       raise Count
-0000f9c0: 4572 726f 7228 0a20 2020 2020 2020 2020  Error(.         
-0000f9d0: 2020 206d 7367 3d22 4352 4f50 2046 4149     msg="CROP FAI
-0000f9e0: 4c45 443a 2043 726f 7070 696e 6720 6865  LED: Cropping he
-0000f9f0: 6967 6874 2061 6e64 2077 6964 7468 2061  ight and width a
-0000fa00: 7265 2062 6f74 6820 302e 2050 6c65 6173  re both 0. Pleas
-0000fa10: 6520 7472 7920 6167 6169 6e2e 222c 0a20  e try again.",. 
-0000fa20: 2020 2020 2020 2020 2020 2073 6f75 7263             sourc
-0000fa30: 653d 6372 6f70 5f6d 756c 7469 706c 655f  e=crop_multiple_
-0000fa40: 7669 6465 6f73 2e5f 5f6e 616d 655f 5f2c  videos.__name__,
-0000fa50: 0a20 2020 2020 2020 2029 0a20 2020 2069  .        ).    i
-0000fa60: 6620 280a 2020 2020 2020 2020 2872 6f69  f (.        (roi
-0000fa70: 5f73 656c 6563 746f 722e 746f 705f 6c65  _selector.top_le
-0000fa80: 6674 5b30 5d20 3c20 3029 0a20 2020 2020  ft[0] < 0).     
-0000fa90: 2020 206f 7220 2872 6f69 5f73 656c 6563     or (roi_selec
-0000faa0: 746f 722e 746f 705f 6c65 6674 5b31 5d20  tor.top_left[1] 
-0000fab0: 3c20 3029 0a20 2020 2020 2020 206f 7220  < 0).        or 
-0000fac0: 2872 6f69 5f73 656c 6563 746f 722e 626f  (roi_selector.bo
-0000fad0: 7474 6f6d 5f72 6967 6874 5b30 5d20 3c20  ttom_right[0] < 
-0000fae0: 3029 0a20 2020 2020 2020 206f 7220 2872  0).        or (r
-0000faf0: 6f69 5f73 656c 6563 746f 722e 626f 7474  oi_selector.bott
-0000fb00: 6f6d 5f72 6967 6874 5b31 5d20 3c20 3129  om_right[1] < 1)
-0000fb10: 0a20 2020 2029 3a0a 2020 2020 2020 2020  .    ):.        
-0000fb20: 7261 6973 6520 436f 756e 7445 7272 6f72  raise CountError
-0000fb30: 280a 2020 2020 2020 2020 2020 2020 6d73  (.            ms
-0000fb40: 673d 2243 524f 5020 4641 494c 4544 3a20  g="CROP FAILED: 
-0000fb50: 4361 6e6e 6f74 2075 7365 206e 6567 6174  Cannot use negat
-0000fb60: 6976 6520 6372 6f70 2063 6f6f 7264 696e  ive crop coordin
-0000fb70: 6174 6573 2e22 2c0a 2020 2020 2020 2020  ates.",.        
-0000fb80: 2020 2020 736f 7572 6365 3d63 726f 705f      source=crop_
-0000fb90: 6d75 6c74 6970 6c65 5f76 6964 656f 732e  multiple_videos.
-0000fba0: 5f5f 6e61 6d65 5f5f 2c0a 2020 2020 2020  __name__,.      
-0000fbb0: 2020 290a 2020 2020 7469 6d65 7220 3d20    ).    timer = 
-0000fbc0: 5369 6d62 6154 696d 6572 2873 7461 7274  SimbaTimer(start
-0000fbd0: 3d54 7275 6529 0a20 2020 2066 6f72 2066  =True).    for f
-0000fbe0: 696c 655f 636e 742c 2066 696c 655f 7061  ile_cnt, file_pa
-0000fbf0: 7468 2069 6e20 656e 756d 6572 6174 6528  th in enumerate(
-0000fc00: 7669 6465 6f5f 7061 7468 7329 3a0a 2020  video_paths):.  
-0000fc10: 2020 2020 2020 7669 6465 6f5f 7469 6d65        video_time
-0000fc20: 7220 3d20 5369 6d62 6154 696d 6572 2873  r = SimbaTimer(s
-0000fc30: 7461 7274 3d54 7275 6529 0a20 2020 2020  tart=True).     
-0000fc40: 2020 2064 6972 5f6e 616d 652c 2066 696c     dir_name, fil
-0000fc50: 655f 6e61 6d65 2c20 6578 7420 3d20 6765  e_name, ext = ge
-0000fc60: 745f 666e 5f65 7874 2866 696c 6570 6174  t_fn_ext(filepat
-0000fc70: 683d 6669 6c65 5f70 6174 6829 0a20 2020  h=file_path).   
-0000fc80: 2020 2020 2070 7269 6e74 2866 2243 726f       print(f"Cro
-0000fc90: 7070 696e 6720 7669 6465 6f20 7b66 696c  pping video {fil
-0000fca0: 655f 6e61 6d65 7d2e 2e2e 2229 0a20 2020  e_name}...").   
-0000fcb0: 2020 2020 2076 6964 656f 5f6d 6574 615f       video_meta_
-0000fcc0: 6461 7461 203d 2067 6574 5f76 6964 656f  data = get_video
-0000fcd0: 5f6d 6574 615f 6461 7461 2866 696c 655f  _meta_data(file_
-0000fce0: 7061 7468 290a 2020 2020 2020 2020 6966  path).        if
-0000fcf0: 2028 726f 695f 7365 6c65 6374 6f72 2e62   (roi_selector.b
-0000fd00: 6f74 746f 6d5f 7269 6768 745b 305d 203e  ottom_right[0] >
-0000fd10: 2076 6964 656f 5f6d 6574 615f 6461 7461   video_meta_data
-0000fd20: 5b22 7769 6474 6822 5d29 206f 7220 280a  ["width"]) or (.
-0000fd30: 2020 2020 2020 2020 2020 2020 726f 695f              roi_
-0000fd40: 7365 6c65 6374 6f72 2e62 6f74 746f 6d5f  selector.bottom_
-0000fd50: 7269 6768 745b 315d 203e 2076 6964 656f  right[1] > video
-0000fd60: 5f6d 6574 615f 6461 7461 5b22 6865 6967  _meta_data["heig
-0000fd70: 6874 225d 0a20 2020 2020 2020 2029 3a0a  ht"].        ):.
-0000fd80: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0000fd90: 6520 496e 7661 6c69 6449 6e70 7574 4572  e InvalidInputEr
-0000fda0: 726f 7228 0a20 2020 2020 2020 2020 2020  ror(.           
-0000fdb0: 2020 2020 206d 7367 3d66 2743 616e 6e6f       msg=f'Canno
-0000fdc0: 7420 6372 6f70 2076 6964 656f 207b 6669  t crop video {fi
-0000fdd0: 6c65 5f6e 616d 657d 206f 6620 7369 7a65  le_name} of size
-0000fde0: 207b 7669 6465 6f5f 6d65 7461 5f64 6174   {video_meta_dat
-0000fdf0: 615b 2272 6573 6f6c 7574 696f 6e5f 7374  a["resolution_st
-0000fe00: 7222 5d7d 2061 7420 6c6f 6361 7469 6f6e  r"]} at location
-0000fe10: 2074 6f70 206c 6566 743a 207b 726f 695f   top left: {roi_
-0000fe20: 7365 6c65 6374 6f72 2e74 6f70 5f6c 6566  selector.top_lef
-0000fe30: 747d 2c20 626f 7474 6f6d 2072 6967 6874  t}, bottom right
-0000fe40: 3a20 7b72 6f69 5f73 656c 6563 746f 722e  : {roi_selector.
-0000fe50: 626f 7474 6f6d 5f72 6967 6874 7d27 2c0a  bottom_right}',.
-0000fe60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fe70: 736f 7572 6365 3d63 726f 705f 6d75 6c74  source=crop_mult
-0000fe80: 6970 6c65 5f76 6964 656f 732e 5f5f 6e61  iple_videos.__na
-0000fe90: 6d65 5f5f 2c0a 2020 2020 2020 2020 2020  me__,.          
-0000fea0: 2020 290a 2020 2020 2020 2020 7361 7665    ).        save
-0000feb0: 5f70 6174 6820 3d20 6f73 2e70 6174 682e  _path = os.path.
-0000fec0: 6a6f 696e 286f 7574 7075 745f 7061 7468  join(output_path
-0000fed0: 2c20 6669 6c65 5f6e 616d 6520 2b20 225f  , file_name + "_
-0000fee0: 6372 6f70 7065 642e 6d70 3422 290a 2020  cropped.mp4").  
-0000fef0: 2020 2020 2020 6966 2067 7075 3a0a 2020        if gpu:.  
-0000ff00: 2020 2020 2020 2020 2020 636f 6d6d 616e            comman
-0000ff10: 6420 3d20 6627 6666 6d70 6567 202d 6877  d = f'ffmpeg -hw
-0000ff20: 6163 6365 6c20 6175 746f 202d 633a 7620  accel auto -c:v 
-0000ff30: 6832 3634 5f63 7576 6964 202d 6920 227b  h264_cuvid -i "{
-0000ff40: 6669 6c65 5f70 6174 687d 2220 2d76 6620  file_path}" -vf 
-0000ff50: 2263 726f 703d 7b72 6f69 5f73 656c 6563  "crop={roi_selec
-0000ff60: 746f 722e 7769 6474 687d 3a7b 726f 695f  tor.width}:{roi_
-0000ff70: 7365 6c65 6374 6f72 2e68 6569 6768 747d  selector.height}
-0000ff80: 3a7b 726f 695f 7365 6c65 6374 6f72 2e74  :{roi_selector.t
-0000ff90: 6f70 5f6c 6566 745b 305d 7d3a 7b72 6f69  op_left[0]}:{roi
-0000ffa0: 5f73 656c 6563 746f 722e 746f 705f 6c65  _selector.top_le
-0000ffb0: 6674 5b31 5d7d 2220 2d63 3a76 2068 3236  ft[1]}" -c:v h26
-0000ffc0: 345f 6e76 656e 6320 2d63 3a61 2063 6f70  4_nvenc -c:a cop
-0000ffd0: 7920 227b 7361 7665 5f70 6174 687d 2220  y "{save_path}" 
-0000ffe0: 2d79 270a 2020 2020 2020 2020 656c 7365  -y'.        else
-0000fff0: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
-00010000: 6d6d 616e 6420 3d20 6627 6666 6d70 6567  mmand = f'ffmpeg
-00010010: 202d 6920 227b 6669 6c65 5f70 6174 687d   -i "{file_path}
-00010020: 2220 2d76 6620 2263 726f 703d 7b72 6f69  " -vf "crop={roi
-00010030: 5f73 656c 6563 746f 722e 7769 6474 687d  _selector.width}
-00010040: 3a7b 726f 695f 7365 6c65 6374 6f72 2e68  :{roi_selector.h
-00010050: 6569 6768 747d 3a7b 726f 695f 7365 6c65  eight}:{roi_sele
-00010060: 6374 6f72 2e74 6f70 5f6c 6566 745b 305d  ctor.top_left[0]
-00010070: 7d3a 7b72 6f69 5f73 656c 6563 746f 722e  }:{roi_selector.
-00010080: 746f 705f 6c65 6674 5b31 5d7d 2220 2d63  top_left[1]}" -c
-00010090: 3a76 206c 6962 7832 3634 202d 6372 6620  :v libx264 -crf 
-000100a0: 3137 202d 633a 6120 636f 7079 2022 7b73  17 -c:a copy "{s
-000100b0: 6176 655f 7061 7468 7d22 202d 7927 0a20  ave_path}" -y'. 
-000100c0: 2020 2020 2020 2073 7562 7072 6f63 6573         subproces
-000100d0: 732e 6361 6c6c 2863 6f6d 6d61 6e64 2c20  s.call(command, 
-000100e0: 7368 656c 6c3d 5472 7565 290a 2020 2020  shell=True).    
-000100f0: 2020 2020 7669 6465 6f5f 7469 6d65 722e      video_timer.
-00010100: 7374 6f70 5f74 696d 6572 2829 0a20 2020  stop_timer().   
-00010110: 2020 2020 2070 7269 6e74 280a 2020 2020       print(.    
-00010120: 2020 2020 2020 2020 6622 5669 6465 6f20          f"Video 
-00010130: 7b66 696c 655f 6e61 6d65 7d20 6372 6f70  {file_name} crop
-00010140: 7065 6420 2856 6964 656f 207b 6669 6c65  ped (Video {file
-00010150: 5f63 6e74 2b31 7d2f 7b6c 656e 2876 6964  _cnt+1}/{len(vid
-00010160: 656f 5f70 6174 6873 297d 2c20 656c 6170  eo_paths)}, elap
-00010170: 7365 6420 7469 6d65 3a20 7b76 6964 656f  sed time: {video
-00010180: 5f74 696d 6572 2e65 6c61 7073 6564 5f74  _timer.elapsed_t
-00010190: 696d 655f 7374 727d 2922 0a20 2020 2020  ime_str})".     
-000101a0: 2020 2029 0a20 2020 2074 696d 6572 2e73     ).    timer.s
-000101b0: 746f 705f 7469 6d65 7228 290a 2020 2020  top_timer().    
-000101c0: 7374 646f 7574 5f73 7563 6365 7373 280a  stdout_success(.
-000101d0: 2020 2020 2020 2020 6d73 673d 6622 7b73          msg=f"{s
-000101e0: 7472 286c 656e 2876 6964 656f 5f70 6174  tr(len(video_pat
-000101f0: 6873 2929 7d20 7669 6465 6f73 2063 726f  hs))} videos cro
-00010200: 7070 6564 2061 6e64 2073 6176 6564 2069  pped and saved i
-00010210: 6e20 7b64 6972 6563 746f 7279 5f70 6174  n {directory_pat
-00010220: 687d 2064 6972 6563 746f 7279 222c 0a20  h} directory",. 
-00010230: 2020 2020 2020 2065 6c61 7073 6564 5f74         elapsed_t
-00010240: 696d 653d 7469 6d65 722e 656c 6170 7365  ime=timer.elapse
-00010250: 645f 7469 6d65 5f73 7472 2c0a 2020 2020  d_time_str,.    
-00010260: 2020 2020 736f 7572 6365 3d63 726f 705f      source=crop_
-00010270: 6d75 6c74 6970 6c65 5f76 6964 656f 732e  multiple_videos.
-00010280: 5f5f 6e61 6d65 5f5f 2c0a 2020 2020 290a  __name__,.    ).
-00010290: 0a0a 2320 5f20 3d20 6372 6f70 5f6d 756c  ..# _ = crop_mul
-000102a0: 7469 706c 655f 7669 6465 6f73 2864 6972  tiple_videos(dir
-000102b0: 6563 746f 7279 5f70 6174 683d 272f 5573  ectory_path='/Us
-000102c0: 6572 732f 7369 6d6f 6e2f 4465 736b 746f  ers/simon/Deskto
-000102d0: 702f 656e 7673 2f74 726f 7562 6c65 7368  p/envs/troublesh
-000102e0: 6f6f 7469 6e67 2f74 776f 5f62 6c61 636b  ooting/two_black
-000102f0: 5f61 6e69 6d61 6c73 5f31 3462 702f 7669  _animals_14bp/vi
-00010300: 6465 6f73 272c 206f 7574 7075 745f 7061  deos', output_pa
-00010310: 7468 3d27 2f55 7365 7273 2f73 696d 6f6e  th='/Users/simon
-00010320: 2f44 6573 6b74 6f70 2f65 6e76 732f 7472  /Desktop/envs/tr
-00010330: 6f75 626c 6573 686f 6f74 696e 672f 7477  oubleshooting/tw
-00010340: 6f5f 626c 6163 6b5f 616e 696d 616c 735f  o_black_animals_
-00010350: 3134 6270 2f74 6573 742f 7465 7374 2729  14bp/test/test')
-00010360: 0a0a 0a64 6566 2066 7261 6d65 735f 746f  ...def frames_to
-00010370: 5f6d 6f76 6965 2864 6972 6563 746f 7279  _movie(directory
-00010380: 3a20 556e 696f 6e5b 7374 722c 206f 732e  : Union[str, os.
-00010390: 5061 7468 4c69 6b65 5d2c 0a20 2020 2020  PathLike],.     
-000103a0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-000103b0: 7073 3a20 696e 742c 0a20 2020 2020 2020  ps: int,.       
-000103c0: 2020 2020 2020 2020 2020 2020 2071 7561               qua
-000103d0: 6c69 7479 3a20 696e 742c 0a20 2020 2020  lity: int,.     
-000103e0: 2020 2020 2020 2020 2020 2020 2020 206f                 o
-000103f0: 7574 5f66 6f72 6d61 743a 204f 7074 696f  ut_format: Optio
-00010400: 6e61 6c5b 4c69 7465 7261 6c5b 276d 7034  nal[Literal['mp4
-00010410: 272c 2027 6176 6927 2c20 2777 6562 6d27  ', 'avi', 'webm'
-00010420: 5d5d 203d 2027 6d70 3427 2c0a 2020 2020  ]] = 'mp4',.    
-00010430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010440: 6770 753a 204f 7074 696f 6e61 6c5b 626f  gpu: Optional[bo
-00010450: 6f6c 5d20 3d20 4661 6c73 6529 202d 3e20  ol] = False) -> 
-00010460: 4e6f 6e65 3a0a 2020 2020 2222 220a 2020  None:.    """.  
-00010470: 2020 4d65 7267 6520 616c 6c20 696d 6167    Merge all imag
-00010480: 6520 6669 6c65 7320 696e 2061 2066 6f6c  e files in a fol
-00010490: 6465 7220 746f 2061 206d 7034 2076 6964  der to a mp4 vid
-000104a0: 656f 2066 696c 652e 2056 6964 656f 2066  eo file. Video f
-000104b0: 696c 6520 6973 2073 746f 7265 6420 696e  ile is stored in
-000104c0: 2074 6865 2073 616d 6520 6469 7265 6374   the same direct
-000104d0: 6f72 7920 6173 2074 6865 0a20 2020 2069  ory as the.    i
-000104e0: 6e70 7574 2064 6972 6563 746f 7279 2073  nput directory s
-000104f0: 7562 2d66 6f6c 6465 722e 0a0a 2020 2020  ub-folder...    
-00010500: 2e2e 206e 6f74 653a 3a0a 2020 2020 2020  .. note::.      
-00010510: 2054 6865 2049 6d61 6765 2066 696c 6573   The Image files
-00010520: 2068 6176 6520 746f 2068 6176 6520 6f72   have to have or
-00010530: 6465 7265 6420 6e75 6d65 7269 6361 6c20  dered numerical 
-00010540: 6e61 6d65 7320 652e 672e 2c20 6060 312e  names e.g., ``1.
-00010550: 706e 6760 602c 2060 6032 2e70 6e67 6060  png``, ``2.png``
-00010560: 2065 7463 2e2e 2e0a 0a20 2020 203a 7061   etc.....    :pa
-00010570: 7261 6d65 7465 7220 7374 7220 6469 7265  rameter str dire
-00010580: 6374 6f72 793a 2044 6972 6563 746f 7279  ctory: Directory
-00010590: 2063 6f6e 7461 696e 696e 6720 7468 6520   containing the 
-000105a0: 696d 6167 6573 2e0a 2020 2020 3a70 6172  images..    :par
-000105b0: 616d 6574 6572 2069 6e74 2066 7073 3a20  ameter int fps: 
-000105c0: 5468 6520 6672 616d 6520 7261 7465 206f  The frame rate o
-000105d0: 6620 7468 6520 6f75 7470 7574 2076 6964  f the output vid
-000105e0: 656f 2e0a 2020 2020 3a70 6172 616d 6574  eo..    :paramet
-000105f0: 6572 2069 6e74 2071 7561 6c69 7479 3a20  er int quality: 
-00010600: 496e 7465 6765 7220 7265 7072 6573 656e  Integer represen
-00010610: 7469 6e67 2071 7561 746c 6974 7920 6f66  ting quatlity of
-00010620: 2074 6865 206f 7574 7075 7420 7669 6465   the output vide
-00010630: 6f3a 2031 302c 2032 302c 2033 302e 2e20  o: 10, 20, 30.. 
-00010640: 3130 302e 2048 6967 6865 7220 7661 6c75  100. Higher valu
-00010650: 6573 2067 6976 6573 206c 6172 6765 7220  es gives larger 
-00010660: 7669 6465 6f73 2061 7420 6869 6768 6572  videos at higher
-00010670: 2071 7561 6c69 7479 2e20 4869 6768 6572   quality. Higher
-00010680: 2076 616c 7565 7320 6d61 7920 6e65 6761   values may nega
-00010690: 7469 7665 6c79 2061 6666 6563 7420 7275  tively affect ru
-000106a0: 6e74 696d 652e 0a20 2020 203a 7061 7261  ntime..    :para
-000106b0: 6d65 7465 7220 4f70 7469 6f6e 616c 5b4c  meter Optional[L
-000106c0: 6974 6572 616c 5b27 6d70 3427 2c20 2761  iteral['mp4', 'a
-000106d0: 7669 272c 2027 7765 626d 272c 2027 6d6f  vi', 'webm', 'mo
-000106e0: 7627 5d5d 206f 7574 5f66 6f72 6d61 743a  v']] out_format:
-000106f0: 2054 6865 2066 6f72 6d61 7420 6f66 2074   The format of t
-00010700: 6865 206f 7574 7075 7420 7669 6465 6f3a  he output video:
-00010710: 2027 6d70 3427 2c20 2761 7669 272c 2027   'mp4', 'avi', '
-00010720: 7765 626d 272c 206f 7220 276d 6f76 272e  webm', or 'mov'.
-00010730: 2044 6566 6175 6c74 3a20 6d70 342e 0a20   Default: mp4.. 
-00010740: 2020 203a 7061 7261 6d65 7465 7220 4f70     :parameter Op
-00010750: 7469 6f6e 616c 5b62 6f6f 6c5d 2067 7075  tional[bool] gpu
-00010760: 3a20 4966 2054 7275 652c 2075 7365 204e  : If True, use N
-00010770: 5649 4445 4120 4750 5520 636f 6465 6373  VIDEA GPU codecs
-00010780: 2e20 4465 6661 756c 7420 4661 6c73 652e  . Default False.
-00010790: 0a0a 2020 2020 3a65 7861 6d70 6c65 3a0a  ..    :example:.
-000107a0: 2020 2020 3e3e 3e20 6672 616d 6573 5f74      >>> frames_t
-000107b0: 6f5f 6d6f 7669 6528 6469 7265 6374 6f72  o_movie(director
-000107c0: 793d 272f 5573 6572 732f 7369 6d6f 6e2f  y='/Users/simon/
-000107d0: 4465 736b 746f 702f 626c 6168 272c 2066  Desktop/blah', f
-000107e0: 7073 3d36 302c 2071 7561 6c69 7479 3d36  ps=60, quality=6
-000107f0: 302c 206f 7574 5f66 6f72 6d61 743d 276d  0, out_format='m
-00010800: 7034 2729 0a20 2020 2022 2222 0a0a 2020  p4').    """..  
-00010810: 2020 6465 6620 6e61 7475 7261 6c5f 736f    def natural_so
-00010820: 7274 5f6b 6579 2873 293a 0a20 2020 2020  rt_key(s):.     
-00010830: 2020 2072 6574 7572 6e20 5b69 6e74 2870     return [int(p
-00010840: 6172 7429 2069 6620 7061 7274 2e69 7364  art) if part.isd
-00010850: 6967 6974 2829 2065 6c73 6520 7061 7274  igit() else part
-00010860: 2066 6f72 2070 6172 7420 696e 2073 2e73   for part in s.s
-00010870: 706c 6974 2827 2f27 295d 0a0a 2020 2020  plit('/')]..    
-00010880: 7469 6d65 7220 3d20 5369 6d62 6154 696d  timer = SimbaTim
-00010890: 6572 2873 7461 7274 3d54 7275 6529 0a20  er(start=True). 
-000108a0: 2020 2063 6865 636b 5f66 666d 7065 675f     check_ffmpeg_
-000108b0: 6176 6169 6c61 626c 6528 7261 6973 655f  available(raise_
-000108c0: 6572 726f 723d 5472 7565 290a 2020 2020  error=True).    
-000108d0: 6966 2067 7075 2061 6e64 206e 6f74 2063  if gpu and not c
-000108e0: 6865 636b 5f6e 7669 6465 615f 6770 755f  heck_nvidea_gpu_
-000108f0: 6176 6169 6c61 626c 6528 293a 0a20 2020  available():.   
-00010900: 2020 2020 2072 6169 7365 2046 464d 5045       raise FFMPE
-00010910: 4743 6f64 6563 4750 5545 7272 6f72 286d  GCodecGPUError(m
-00010920: 7367 3d22 4e56 4944 4541 2047 5055 206e  sg="NVIDEA GPU n
-00010930: 6f74 2061 7661 696c 6162 6c65 2028 6173  ot available (as
-00010940: 2065 7661 6c75 6174 6564 2062 7920 6e76   evaluated by nv
-00010950: 6964 6561 2d73 6d69 2072 6574 7572 6e69  idea-smi returni
-00010960: 6e67 204e 6f6e 6522 2c20 736f 7572 6365  ng None", source
-00010970: 3d66 7261 6d65 735f 746f 5f6d 6f76 6965  =frames_to_movie
-00010980: 2e5f 5f6e 616d 655f 5f29 0a20 2020 2063  .__name__).    c
-00010990: 6865 636b 5f69 665f 6469 725f 6578 6973  heck_if_dir_exis
-000109a0: 7473 2869 6e5f 6469 723d 6469 7265 6374  ts(in_dir=direct
-000109b0: 6f72 792c 2073 6f75 7263 653d 6672 616d  ory, source=fram
-000109c0: 6573 5f74 6f5f 6d6f 7669 652e 5f5f 6e61  es_to_movie.__na
-000109d0: 6d65 5f5f 290a 2020 2020 6368 6563 6b5f  me__).    check_
-000109e0: 7374 7228 6e61 6d65 3d27 6f75 745f 666f  str(name='out_fo
-000109f0: 726d 6174 272c 2076 616c 7565 3d6f 7574  rmat', value=out
-00010a00: 5f66 6f72 6d61 742c 206f 7074 696f 6e73  _format, options
-00010a10: 3d5b 276d 7034 272c 2027 6176 6927 2c20  =['mp4', 'avi', 
-00010a20: 2777 6562 6d27 5d29 0a20 2020 2063 6865  'webm']).    che
-00010a30: 636b 5f69 6e74 286e 616d 653d 2246 5053  ck_int(name="FPS
-00010a40: 222c 2076 616c 7565 3d66 7073 2c20 6d69  ", value=fps, mi
-00010a50: 6e5f 7661 6c75 653d 3129 0a20 2020 2063  n_value=1).    c
-00010a60: 6865 636b 5f69 6e74 286e 616d 653d 2271  heck_int(name="q
-00010a70: 7561 6c69 7479 222c 2076 616c 7565 3d71  uality", value=q
-00010a80: 7561 6c69 7479 2c20 6d69 6e5f 7661 6c75  uality, min_valu
-00010a90: 653d 3129 0a20 2020 2069 6620 6f75 745f  e=1).    if out_
-00010aa0: 666f 726d 6174 203d 3d20 2777 6562 6d27  format == 'webm'
-00010ab0: 3a0a 2020 2020 2020 2020 636f 6465 6320  :.        codec 
-00010ac0: 3d20 276c 6962 7670 782d 7670 3927 0a20  = 'libvpx-vp9'. 
-00010ad0: 2020 2065 6c69 6620 6f75 745f 666f 726d     elif out_form
-00010ae0: 6174 203d 3d20 2761 7669 273a 0a20 2020  at == 'avi':.   
-00010af0: 2020 2020 2063 6f64 6563 203d 2027 6d70       codec = 'mp
-00010b00: 6567 3427 0a20 2020 2065 6c73 653a 0a20  eg4'.    else:. 
-00010b10: 2020 2020 2020 2063 6f64 6563 203d 2027         codec = '
-00010b20: 6c69 6278 3236 3427 0a20 2020 2063 7266  libx264'.    crf
-00010b30: 5f6c 6b20 3d20 7065 7263 656e 745f 746f  _lk = percent_to
-00010b40: 5f63 7266 5f6c 6f6f 6b75 7028 290a 2020  _crf_lookup().  
-00010b50: 2020 6372 6620 3d20 6372 665f 6c6b 5b73    crf = crf_lk[s
-00010b60: 7472 2871 7561 6c69 7479 295d 0a20 2020  tr(quality)].   
-00010b70: 2073 6176 655f 7061 7468 203d 206f 732e   save_path = os.
-00010b80: 7061 7468 2e6a 6f69 6e28 6f73 2e70 6174  path.join(os.pat
-00010b90: 682e 6469 726e 616d 6528 6469 7265 6374  h.dirname(direct
-00010ba0: 6f72 7929 2c20 6622 7b6f 732e 7061 7468  ory), f"{os.path
-00010bb0: 2e62 6173 656e 616d 6528 6469 7265 6374  .basename(direct
-00010bc0: 6f72 7929 7d2e 7b6f 7574 5f66 6f72 6d61  ory)}.{out_forma
-00010bd0: 747d 2229 0a20 2020 2069 6d67 5f70 6174  t}").    img_pat
-00010be0: 6873 203d 2066 696e 645f 6669 6c65 735f  hs = find_files_
-00010bf0: 6f66 5f66 696c 6574 7970 6573 5f69 6e5f  of_filetypes_in_
-00010c00: 6469 7265 6374 6f72 7928 6469 7265 6374  directory(direct
-00010c10: 6f72 793d 6469 7265 6374 6f72 792c 2065  ory=directory, e
-00010c20: 7874 656e 7369 6f6e 733d 4f70 7469 6f6e  xtensions=Option
-00010c30: 732e 414c 4c5f 494d 4147 455f 464f 524d  s.ALL_IMAGE_FORM
-00010c40: 4154 5f4f 5054 494f 4e53 2e76 616c 7565  AT_OPTIONS.value
-00010c50: 2c20 7261 6973 655f 6572 726f 723d 5472  , raise_error=Tr
-00010c60: 7565 290a 2020 2020 736f 7274 6564 5f66  ue).    sorted_f
-00010c70: 696c 6570 6174 6873 203d 2073 6f72 7465  ilepaths = sorte
-00010c80: 6428 696d 675f 7061 7468 732c 206b 6579  d(img_paths, key
-00010c90: 3d6e 6174 7572 616c 5f73 6f72 745f 6b65  =natural_sort_ke
-00010ca0: 7929 0a20 2020 205f 2c20 7374 6172 745f  y).    _, start_
-00010cb0: 6964 2c20 5f20 3d20 6765 745f 666e 5f65  id, _ = get_fn_e
-00010cc0: 7874 2866 696c 6570 6174 683d 736f 7274  xt(filepath=sort
-00010cd0: 6564 5f66 696c 6570 6174 6873 5b30 5d29  ed_filepaths[0])
-00010ce0: 0a20 2020 2069 6620 6e6f 7420 6770 753a  .    if not gpu:
-00010cf0: 0a20 2020 2020 2020 2063 6d64 203d 2066  .        cmd = f
-00010d00: 2766 666d 7065 6720 2d66 7261 6d65 7261  'ffmpeg -framera
-00010d10: 7465 207b 6670 737d 202d 7374 6172 745f  te {fps} -start_
-00010d20: 6e75 6d62 6572 207b 7374 6172 745f 6964  number {start_id
-00010d30: 7d20 2d70 6174 7465 726e 5f74 7970 6520  } -pattern_type 
-00010d40: 676c 6f62 202d 6920 227b 6469 7265 6374  glob -i "{direct
-00010d50: 6f72 797d 2f2a 2e70 6e67 2220 2d63 3a76  ory}/*.png" -c:v
-00010d60: 207b 636f 6465 637d 202d 6372 6620 7b63   {codec} -crf {c
-00010d70: 7266 7d20 227b 7361 7665 5f70 6174 687d  rf} "{save_path}
-00010d80: 2220 2d6c 6f67 6c65 7665 6c20 6572 726f  " -loglevel erro
-00010d90: 7220 2d73 7461 7473 202d 6869 6465 5f62  r -stats -hide_b
-00010da0: 616e 6e65 7220 2d79 270a 2020 2020 656c  anner -y'.    el
-00010db0: 7365 3a0a 2020 2020 2020 2020 636d 6420  se:.        cmd 
-00010dc0: 3d20 6627 6666 6d70 6567 202d 6672 616d  = f'ffmpeg -fram
-00010dd0: 6572 6174 6520 7b66 7073 7d20 2d73 7461  erate {fps} -sta
-00010de0: 7274 5f6e 756d 6265 7220 7b73 7461 7274  rt_number {start
-00010df0: 5f69 647d 202d 7061 7474 6572 6e5f 7479  _id} -pattern_ty
-00010e00: 7065 2067 6c6f 6220 2d69 2022 2428 6c73  pe glob -i "$(ls
-00010e10: 202d 7620 7b64 6972 6563 746f 7279 7d2f   -v {directory}/
-00010e20: 2a2e 706e 6729 2220 2d63 3a76 2068 3236  *.png)" -c:v h26
-00010e30: 345f 6e76 656e 6320 2d63 7266 207b 6372  4_nvenc -crf {cr
-00010e40: 667d 2022 7b73 6176 655f 7061 7468 7d22  f} "{save_path}"
-00010e50: 202d 6c6f 676c 6576 656c 2065 7272 6f72   -loglevel error
-00010e60: 202d 7374 6174 7320 2d68 6964 655f 6261   -stats -hide_ba
-00010e70: 6e6e 6572 202d 7927 0a20 2020 2073 7562  nner -y'.    sub
-00010e80: 7072 6f63 6573 732e 6361 6c6c 2863 6d64  process.call(cmd
-00010e90: 2c20 7368 656c 6c3d 5472 7565 290a 2020  , shell=True).  
-00010ea0: 2020 7469 6d65 722e 7374 6f70 5f74 696d    timer.stop_tim
-00010eb0: 6572 2829 0a20 2020 2073 7464 6f75 745f  er().    stdout_
-00010ec0: 7375 6363 6573 7328 6d73 673d 6622 5669  success(msg=f"Vi
-00010ed0: 6465 6f20 6372 6561 7465 6420 6174 207b  deo created at {
-00010ee0: 7361 7665 5f70 6174 687d 222c 2073 6f75  save_path}", sou
-00010ef0: 7263 653d 6672 616d 6573 5f74 6f5f 6d6f  rce=frames_to_mo
-00010f00: 7669 652e 5f5f 6e61 6d65 5f5f 2c20 656c  vie.__name__, el
-00010f10: 6170 7365 645f 7469 6d65 3d74 696d 6572  apsed_time=timer
-00010f20: 2e65 6c61 7073 6564 5f74 696d 655f 7374  .elapsed_time_st
-00010f30: 7229 0a0a 0a64 6566 2076 6964 656f 5f63  r)...def video_c
-00010f40: 6f6e 6361 7465 6e61 746f 7228 7669 6465  oncatenator(vide
-00010f50: 6f5f 6f6e 655f 7061 7468 3a20 556e 696f  o_one_path: Unio
-00010f60: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
-00010f70: 6b65 5d2c 0a20 2020 2020 2020 2020 2020  ke],.           
-00010f80: 2020 2020 2020 2020 2020 2020 7669 6465              vide
-00010f90: 6f5f 7477 6f5f 7061 7468 3a20 556e 696f  o_two_path: Unio
-00010fa0: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
-00010fb0: 6b65 5d2c 0a20 2020 2020 2020 2020 2020  ke],.           
-00010fc0: 2020 2020 2020 2020 2020 2020 7265 736f              reso
-00010fd0: 6c75 7469 6f6e 3a20 4f70 7469 6f6e 616c  lution: Optional
-00010fe0: 5b55 6e69 6f6e 5b69 6e74 2c20 7374 725d  [Union[int, str]
-00010ff0: 5d20 3d20 2776 6964 656f 2031 272c 0a20  ] = 'video 1',. 
-00011000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011010: 2020 2020 2020 686f 7269 7a6f 6e74 616c        horizontal
-00011020: 3a20 4f70 7469 6f6e 616c 5b62 6f6f 6c5d  : Optional[bool]
-00011030: 203d 2054 7275 652c 0a20 2020 2020 2020   = True,.       
-00011040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011050: 6770 753a 204f 7074 696f 6e61 6c5b 626f  gpu: Optional[bo
-00011060: 6f6c 5d20 3d20 4661 6c73 6529 202d 3e20  ol] = False) -> 
-00011070: 4e6f 6e65 3a0a 2020 2020 2222 220a 2020  None:.    """.  
-00011080: 2020 436f 6e63 6174 656e 6174 6520 7477    Concatenate tw
-00011090: 6f20 7669 6465 6f73 2074 6f20 6120 7369  o videos to a si
-000110a0: 6e67 6c65 2076 6964 656f 2065 6974 6865  ngle video eithe
-000110b0: 7220 686f 7269 7a6f 6e74 616c 6c79 206f  r horizontally o
-000110c0: 7220 7665 7274 6963 616c 6c79 0a0a 2020  r vertically..  
-000110d0: 2020 2e2e 2069 6d61 6765 3a3a 205f 7374    .. image:: _st
-000110e0: 6174 6963 2f69 6d67 2f68 6f72 697a 6f6e  atic/img/horizon
-000110f0: 7461 6c5f 7669 6465 6f5f 636f 6e63 6174  tal_video_concat
-00011100: 656e 6174 6f72 2e67 6966 0a20 2020 2020  enator.gif.     
-00011110: 2020 3a77 6964 7468 3a20 3130 3030 0a20    :width: 1000. 
-00011120: 2020 2020 2020 3a61 6c69 676e 3a20 6365        :align: ce
-00011130: 6e74 6572 0a0a 2020 2020 2e2e 2076 6964  nter..    .. vid
-00011140: 656f 3a3a 205f 7374 6174 6963 2f69 6d67  eo:: _static/img
-00011150: 2f76 6572 7469 6361 6c5f 636f 6e63 6174  /vertical_concat
-00011160: 2e77 6562 6d0a 2020 2020 2020 203a 7769  .webm.       :wi
-00011170: 6474 683a 2038 3030 0a20 2020 2020 2020  dth: 800.       
-00011180: 3a61 7574 6f70 6c61 793a 0a20 2020 2020  :autoplay:.     
-00011190: 2020 3a6c 6f6f 703a 0a0a 2020 2020 3a70    :loop:..    :p
-000111a0: 6172 616d 2073 7472 2076 6964 656f 5f6f  aram str video_o
-000111b0: 6e65 5f70 6174 683a 2050 6174 6820 746f  ne_path: Path to
-000111c0: 2074 6865 2066 6972 7374 2076 6964 656f   the first video
-000111d0: 2069 6e20 7468 6520 636f 6e63 6174 656e   in the concaten
-000111e0: 6174 6564 2076 6964 656f 0a20 2020 203a  ated video.    :
-000111f0: 7061 7261 6d20 7374 7220 7669 6465 6f5f  param str video_
-00011200: 7477 6f5f 7061 7468 3a20 5061 7468 2074  two_path: Path t
-00011210: 6f20 7468 6520 7365 636f 6e64 2076 6964  o the second vid
-00011220: 656f 2069 6e20 7468 6520 636f 6e63 6174  eo in the concat
-00011230: 656e 6174 6564 2076 6964 656f 0a20 2020  enated video.   
-00011240: 203a 7061 7261 6d20 696e 7420 6f72 2073   :param int or s
-00011250: 7472 2072 6573 6f6c 7574 696f 6e3a 2049  tr resolution: I
-00011260: 6620 7374 722c 2074 6865 6e20 7468 6520  f str, then the 
-00011270: 6e61 6d65 206f 6620 7468 6520 7669 6465  name of the vide
-00011280: 6f20 7768 6963 6820 7265 736f 6c75 7469  o which resoluti
-00011290: 6f6e 2079 6f75 2077 616e 7420 746f 2072  on you want to r
-000112a0: 6574 6169 6e2e 2045 2e67 2e2c 2060 5669  etain. E.g., `Vi
-000112b0: 6465 6f5f 3160 2e20 456c 7365 2069 6e74  deo_1`. Else int
-000112c0: 2c20 7265 7072 6573 656e 7469 6e67 2074  , representing t
-000112d0: 6865 2076 6964 656f 2077 6964 7468 2028  he video width (
-000112e0: 6966 2076 6572 7469 6361 6c20 636f 6e63  if vertical conc
-000112f0: 6174 2920 6f72 2068 6569 6768 7420 2869  at) or height (i
-00011300: 6620 686f 7269 7a6f 6e74 616c 2063 6f6e  f horizontal con
-00011310: 6361 7429 2e20 4173 7065 6374 2072 6169  cat). Aspect rai
-00011320: 6f20 7769 6c6c 2062 6520 7265 7461 696e  o will be retain
-00011330: 6564 2e0a 2020 2020 3a70 6172 616d 2068  ed..    :param h
-00011340: 6f72 697a 6f6e 7461 6c3a 2049 6620 7472  orizontal: If tr
-00011350: 7565 2c20 7468 656e 2068 6f72 697a 6f6e  ue, then horizon
-00011360: 7461 6c20 636f 6e63 6174 656e 6174 696f  tal concatenatio
-00011370: 6e2e 2045 6c73 6520 7665 7274 6963 616c  n. Else vertical
-00011380: 2063 6f6e 6361 7465 6e61 7469 6f6e 2e0a   concatenation..
-00011390: 2020 2020 3a70 6172 616d 6574 6572 204f      :parameter O
-000113a0: 7074 696f 6e61 6c5b 626f 6f6c 5d20 6770  ptional[bool] gp
-000113b0: 753a 2049 6620 5472 7565 2c20 7573 6520  u: If True, use 
-000113c0: 4e56 4944 4541 2047 5055 2063 6f64 6563  NVIDEA GPU codec
-000113d0: 732e 2044 6566 6175 6c74 2046 616c 7365  s. Default False
-000113e0: 2e0a 0a20 2020 203a 6578 616d 706c 653a  ...    :example:
-000113f0: 0a20 2020 203e 3e3e 2076 6964 656f 5f63  .    >>> video_c
-00011400: 6f6e 6361 7465 6e61 746f 7228 7669 6465  oncatenator(vide
-00011410: 6f5f 6f6e 655f 7061 7468 3d27 7072 6f6a  o_one_path='proj
-00011420: 6563 745f 666f 6c64 6572 2f76 6964 656f  ect_folder/video
-00011430: 732f 5669 6465 6f5f 312e 6d70 3427 2c20  s/Video_1.mp4', 
-00011440: 7669 6465 6f5f 7477 6f5f 7061 7468 3d27  video_two_path='
-00011450: 7072 6f6a 6563 745f 666f 6c64 6572 2f76  project_folder/v
-00011460: 6964 656f 732f 5669 6465 6f5f 322e 6d70  ideos/Video_2.mp
-00011470: 3427 2c20 7265 736f 6c75 7469 6f6e 3d38  4', resolution=8
-00011480: 3030 2c20 686f 7269 7a6f 6e74 616c 3d54  00, horizontal=T
-00011490: 7275 6529 0a20 2020 2022 2222 0a0a 2020  rue).    """..  
-000114a0: 2020 6966 2067 7075 2061 6e64 206e 6f74    if gpu and not
-000114b0: 2063 6865 636b 5f6e 7669 6465 615f 6770   check_nvidea_gp
-000114c0: 755f 6176 6169 6c61 626c 6528 293a 0a20  u_available():. 
-000114d0: 2020 2020 2020 2072 6169 7365 2046 464d         raise FFM
-000114e0: 5045 4743 6f64 6563 4750 5545 7272 6f72  PEGCodecGPUError
-000114f0: 286d 7367 3d22 4e56 4944 4541 2047 5055  (msg="NVIDEA GPU
-00011500: 206e 6f74 2061 7661 696c 6162 6c65 2028   not available (
-00011510: 6173 2065 7661 6c75 6174 6564 2062 7920  as evaluated by 
-00011520: 6e76 6964 6561 2d73 6d69 2072 6574 7572  nvidea-smi retur
-00011530: 6e69 6e67 204e 6f6e 6522 2c20 736f 7572  ning None", sour
-00011540: 6365 3d76 6964 656f 5f63 6f6e 6361 7465  ce=video_concate
-00011550: 6e61 746f 722e 5f5f 6e61 6d65 5f5f 290a  nator.__name__).
-00011560: 2020 2020 6966 206e 6f74 2063 6865 636b      if not check
-00011570: 5f66 666d 7065 675f 6176 6169 6c61 626c  _ffmpeg_availabl
-00011580: 6528 293a 0a20 2020 2020 2020 2072 6169  e():.        rai
-00011590: 7365 2046 464d 5045 474e 6f74 466f 756e  se FFMPEGNotFoun
-000115a0: 6445 7272 6f72 286d 7367 3d22 4646 4d50  dError(msg="FFMP
-000115b0: 4547 206e 6f74 2066 6f75 6e64 206f 6e20  EG not found on 
-000115c0: 7468 6520 636f 6d70 7574 6572 2e20 496e  the computer. In
-000115d0: 7374 616c 6c20 4646 4d50 4547 2074 6f20  stall FFMPEG to 
-000115e0: 7573 6520 7468 6520 636f 6e63 6174 656e  use the concaten
-000115f0: 6174 696f 6e20 6d65 7468 6f64 2e22 2c20  ation method.", 
-00011600: 736f 7572 6365 3d76 6964 656f 5f63 6f6e  source=video_con
-00011610: 6361 7465 6e61 746f 722e 5f5f 6e61 6d65  catenator.__name
-00011620: 5f5f 290a 2020 2020 7469 6d65 7220 3d20  __).    timer = 
-00011630: 5369 6d62 6154 696d 6572 2873 7461 7274  SimbaTimer(start
-00011640: 3d54 7275 6529 0a20 2020 2066 6f72 2066  =True).    for f
-00011650: 696c 655f 7061 7468 2069 6e20 5b76 6964  ile_path in [vid
-00011660: 656f 5f6f 6e65 5f70 6174 682c 2076 6964  eo_one_path, vid
-00011670: 656f 5f74 776f 5f70 6174 685d 3a0a 2020  eo_two_path]:.  
-00011680: 2020 2020 2020 6368 6563 6b5f 6669 6c65        check_file
-00011690: 5f65 7869 7374 5f61 6e64 5f72 6561 6461  _exist_and_reada
-000116a0: 626c 6528 6669 6c65 5f70 6174 683d 6669  ble(file_path=fi
-000116b0: 6c65 5f70 6174 6829 0a20 2020 2020 2020  le_path).       
-000116c0: 205f 203d 2067 6574 5f76 6964 656f 5f6d   _ = get_video_m
-000116d0: 6574 615f 6461 7461 2866 696c 655f 7061  eta_data(file_pa
-000116e0: 7468 290a 2020 2020 6368 6563 6b5f 696e  th).    check_in
-000116f0: 7374 616e 6365 2873 6f75 7263 653d 7669  stance(source=vi
-00011700: 6465 6f5f 636f 6e63 6174 656e 6174 6f72  deo_concatenator
-00011710: 2e5f 5f6e 616d 655f 5f2c 2069 6e73 7461  .__name__, insta
-00011720: 6e63 653d 7265 736f 6c75 7469 6f6e 2c20  nce=resolution, 
-00011730: 6163 6365 7074 6564 5f74 7970 6573 3d28  accepted_types=(
-00011740: 7374 722c 2069 6e74 2929 0a20 2020 2069  str, int)).    i
-00011750: 6620 7479 7065 2872 6573 6f6c 7574 696f  f type(resolutio
-00011760: 6e29 2069 7320 696e 743a 0a20 2020 2020  n) is int:.     
-00011770: 2020 2063 6865 636b 5f69 6e74 286e 616d     check_int(nam
-00011780: 653d 2772 6573 6f6c 7574 696f 6e27 2c20  e='resolution', 
-00011790: 7661 6c75 653d 7265 736f 6c75 7469 6f6e  value=resolution
-000117a0: 2c20 6d69 6e5f 7661 6c75 653d 3129 0a20  , min_value=1). 
-000117b0: 2020 2020 2020 2076 6964 656f 5f6d 6574         video_met
-000117c0: 615f 6461 7461 203d 207b 7d0a 2020 2020  a_data = {}.    
-000117d0: 2020 2020 7669 6465 6f5f 6d65 7461 5f64      video_meta_d
-000117e0: 6174 615b 2268 6569 6768 7422 5d20 3d20  ata["height"] = 
-000117f0: 7265 736f 6c75 7469 6f6e 0a20 2020 2020  resolution.     
-00011800: 2020 2076 6964 656f 5f6d 6574 615f 6461     video_meta_da
-00011810: 7461 5b22 7769 6474 6822 5d20 3d20 7265  ta["width"] = re
-00011820: 736f 6c75 7469 6f6e 0a20 2020 2065 6c69  solution.    eli
-00011830: 6620 7265 736f 6c75 7469 6f6e 2e6c 6f77  f resolution.low
-00011840: 6572 2829 2069 7320 2276 6964 656f 2031  er() is "video 1
-00011850: 223a 0a20 2020 2020 2020 2076 6964 656f  ":.        video
-00011860: 5f6d 6574 615f 6461 7461 203d 2067 6574  _meta_data = get
-00011870: 5f76 6964 656f 5f6d 6574 615f 6461 7461  _video_meta_data
-00011880: 2876 6964 656f 5f6f 6e65 5f70 6174 6829  (video_one_path)
-00011890: 0a20 2020 2065 6c73 653a 0a20 2020 2020  .    else:.     
-000118a0: 2020 2076 6964 656f 5f6d 6574 615f 6461     video_meta_da
-000118b0: 7461 203d 2067 6574 5f76 6964 656f 5f6d  ta = get_video_m
-000118c0: 6574 615f 6461 7461 2876 6964 656f 5f74  eta_data(video_t
-000118d0: 776f 5f70 6174 6829 0a20 2020 2069 6620  wo_path).    if 
-000118e0: 7669 6465 6f5f 6d65 7461 5f64 6174 615b  video_meta_data[
-000118f0: 2268 6569 6768 7422 5d20 2520 3220 213d  "height"] % 2 !=
-00011900: 2030 3a0a 2020 2020 2020 2020 7669 6465   0:.        vide
-00011910: 6f5f 6d65 7461 5f64 6174 615b 2268 6569  o_meta_data["hei
-00011920: 6768 7422 5d20 3d20 7669 6465 6f5f 6d65  ght"] = video_me
-00011930: 7461 5f64 6174 615b 2268 6569 6768 7422  ta_data["height"
-00011940: 5d20 2b20 310a 2020 2020 6966 2076 6964  ] + 1.    if vid
-00011950: 656f 5f6d 6574 615f 6461 7461 5b22 7769  eo_meta_data["wi
-00011960: 6474 6822 5d20 2520 3220 213d 2030 3a0a  dth"] % 2 != 0:.
-00011970: 2020 2020 2020 2020 7669 6465 6f5f 6d65          video_me
-00011980: 7461 5f64 6174 615b 2277 6964 7468 225d  ta_data["width"]
-00011990: 203d 2076 6964 656f 5f6d 6574 615f 6461   = video_meta_da
-000119a0: 7461 5b22 7769 6474 6822 5d20 2b20 310a  ta["width"] + 1.
-000119b0: 2020 2020 6469 722c 2066 696c 655f 6e61      dir, file_na
-000119c0: 6d65 5f31 2c20 5f20 3d20 6765 745f 666e  me_1, _ = get_fn
-000119d0: 5f65 7874 2876 6964 656f 5f6f 6e65 5f70  _ext(video_one_p
-000119e0: 6174 6829 0a20 2020 205f 2c20 6669 6c65  ath).    _, file
-000119f0: 5f6e 616d 655f 322c 205f 203d 2067 6574  _name_2, _ = get
-00011a00: 5f66 6e5f 6578 7428 7669 6465 6f5f 7477  _fn_ext(video_tw
-00011a10: 6f5f 7061 7468 290a 2020 2020 7072 696e  o_path).    prin
-00011a20: 7428 6622 436f 6e63 6174 656e 6174 696e  t(f"Concatenatin
-00011a30: 6720 7669 6465 6f73 207b 6669 6c65 5f6e  g videos {file_n
-00011a40: 616d 655f 317d 2061 6e64 207b 6669 6c65  ame_1} and {file
-00011a50: 5f6e 616d 655f 327d 2e2e 2e22 290a 2020  _name_2}...").  
-00011a60: 2020 7361 7665 5f70 6174 6820 3d20 6f73    save_path = os
-00011a70: 2e70 6174 682e 6a6f 696e 2864 6972 2c20  .path.join(dir, 
-00011a80: 6622 7b66 696c 655f 6e61 6d65 5f31 7d5f  f"{file_name_1}_
-00011a90: 7b66 696c 655f 6e61 6d65 5f32 7d5f 636f  {file_name_2}_co
-00011aa0: 6e63 6174 2e6d 7034 2229 0a20 2020 2069  ncat.mp4").    i
-00011ab0: 6620 686f 7269 7a6f 6e74 616c 3a0a 2020  f horizontal:.  
-00011ac0: 2020 2020 2020 6966 2067 7075 3a0a 2020        if gpu:.  
-00011ad0: 2020 2020 2020 2020 2020 636d 6420 3d20            cmd = 
-00011ae0: 6627 6666 6d70 6567 202d 7920 2d68 7761  f'ffmpeg -y -hwa
-00011af0: 6363 656c 2061 7574 6f20 2d63 3a76 2068  ccel auto -c:v h
-00011b00: 3236 345f 6375 7669 6420 2d69 2022 7b76  264_cuvid -i "{v
-00011b10: 6964 656f 5f6f 6e65 5f70 6174 687d 2220  ideo_one_path}" 
-00011b20: 2d68 7761 6363 656c 2061 7574 6f20 2d63  -hwaccel auto -c
-00011b30: 3a76 2068 3236 345f 6375 7669 6420 2d69  :v h264_cuvid -i
-00011b40: 2022 7b76 6964 656f 5f74 776f 5f70 6174   "{video_two_pat
-00011b50: 687d 2220 2d66 696c 7465 725f 636f 6d70  h}" -filter_comp
-00011b60: 6c65 7820 225b 303a 765d 7363 616c 653d  lex "[0:v]scale=
-00011b70: 2d31 3a7b 7669 6465 6f5f 6d65 7461 5f64  -1:{video_meta_d
-00011b80: 6174 615b 2268 6569 6768 7422 5d7d 5b76  ata["height"]}[v
-00011b90: 305d 3b5b 7630 5d5b 313a 765d 6873 7461  0];[v0][1:v]hsta
-00011ba0: 636b 3d69 6e70 7574 733d 3222 202d 633a  ck=inputs=2" -c:
-00011bb0: 7620 6832 3634 5f6e 7665 6e63 2022 7b73  v h264_nvenc "{s
-00011bc0: 6176 655f 7061 7468 7d22 202d 6869 6465  ave_path}" -hide
-00011bd0: 5f62 616e 6e65 7220 2d6c 6f67 6c65 7665  _banner -logleve
-00011be0: 6c20 6572 726f 7220 2d73 7461 7473 202d  l error -stats -
-00011bf0: 7927 0a20 2020 2020 2020 2065 6c73 653a  y'.        else:
-00011c00: 0a20 2020 2020 2020 2020 2020 2063 6d64  .            cmd
-00011c10: 203d 2028 6627 6666 6d70 6567 202d 7920   = (f'ffmpeg -y 
-00011c20: 2d69 2022 7b76 6964 656f 5f6f 6e65 5f70  -i "{video_one_p
-00011c30: 6174 687d 2220 2d69 2022 7b76 6964 656f  ath}" -i "{video
-00011c40: 5f74 776f 5f70 6174 687d 2220 270a 2020  _two_path}" '.  
-00011c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011c60: 2066 272d 6669 6c74 6572 5f63 6f6d 706c   f'-filter_compl
-00011c70: 6578 2022 5b30 3a76 5d73 6361 6c65 3d63  ex "[0:v]scale=c
-00011c80: 6569 6c28 6977 2f32 292a 323a 7b76 6964  eil(iw/2)*2:{vid
-00011c90: 656f 5f6d 6574 615f 6461 7461 5b22 6865  eo_meta_data["he
-00011ca0: 6967 6874 225d 7d5b 7630 5d3b 270a 2020  ight"]}[v0];'.  
-00011cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011cc0: 2066 275b 313a 765d 7363 616c 653d 6365   f'[1:v]scale=ce
-00011cd0: 696c 2869 772f 3229 2a32 3a7b 7669 6465  il(iw/2)*2:{vide
-00011ce0: 6f5f 6d65 7461 5f64 6174 615b 2268 6569  o_meta_data["hei
-00011cf0: 6768 7422 5d7d 5b76 315d 3b27 0a20 2020  ght"]}[v1];'.   
-00011d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011d10: 6627 5b76 305d 5b76 315d 6873 7461 636b  f'[v0][v1]hstack
-00011d20: 3d69 6e70 7574 733d 3222 2022 7b73 6176  =inputs=2" "{sav
-00011d30: 655f 7061 7468 7d22 202d 6869 6465 5f62  e_path}" -hide_b
-00011d40: 616e 6e65 7220 2d6c 6f67 6c65 7665 6c20  anner -loglevel 
-00011d50: 6572 726f 7220 2d73 7461 7473 202d 7927  error -stats -y'
-00011d60: 290a 2020 2020 656c 7365 3a0a 2020 2020  ).    else:.    
-00011d70: 2020 2020 6966 2067 7075 3a0a 2020 2020      if gpu:.    
-00011d80: 2020 2020 2020 2020 636d 6420 3d20 6627          cmd = f'
-00011d90: 6666 6d70 6567 202d 7920 2d68 7761 6363  ffmpeg -y -hwacc
-00011da0: 656c 2061 7574 6f20 2d63 3a76 2068 3236  el auto -c:v h26
-00011db0: 345f 6375 7669 6420 2d69 2022 7b76 6964  4_cuvid -i "{vid
-00011dc0: 656f 5f6f 6e65 5f70 6174 687d 2220 2d68  eo_one_path}" -h
-00011dd0: 7761 6363 656c 2061 7574 6f20 2d63 3a76  waccel auto -c:v
-00011de0: 2068 3236 345f 6375 7669 6420 2d69 2022   h264_cuvid -i "
-00011df0: 7b76 6964 656f 5f74 776f 5f70 6174 687d  {video_two_path}
-00011e00: 2220 2d66 696c 7465 725f 636f 6d70 6c65  " -filter_comple
-00011e10: 7820 225b 303a 765d 7363 616c 653d 7b76  x "[0:v]scale={v
-00011e20: 6964 656f 5f6d 6574 615f 6461 7461 5b22  ideo_meta_data["
-00011e30: 7769 6474 6822 5d7d 3a2d 315b 7630 5d3b  width"]}:-1[v0];
-00011e40: 5b76 305d 5b31 3a76 5d76 7374 6163 6b3d  [v0][1:v]vstack=
-00011e50: 696e 7075 7473 3d32 2220 2d63 3a76 2068  inputs=2" -c:v h
-00011e60: 3236 345f 6e76 656e 6320 227b 7361 7665  264_nvenc "{save
-00011e70: 5f70 6174 687d 2220 2d68 6964 655f 6261  _path}" -hide_ba
-00011e80: 6e6e 6572 202d 6c6f 676c 6576 656c 2065  nner -loglevel e
-00011e90: 7272 6f72 202d 7374 6174 7320 2d79 270a  rror -stats -y'.
-00011ea0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00011eb0: 2020 2020 2020 2020 2020 636d 6420 3d20            cmd = 
-00011ec0: 2866 2766 666d 7065 6720 2d79 202d 6920  (f'ffmpeg -y -i 
-00011ed0: 227b 7669 6465 6f5f 6f6e 655f 7061 7468  "{video_one_path
-00011ee0: 7d22 202d 6920 227b 7669 6465 6f5f 7477  }" -i "{video_tw
-00011ef0: 6f5f 7061 7468 7d22 2027 0a20 2020 2020  o_path}" '.     
-00011f00: 2020 2020 2020 2020 2020 2020 2020 6627                f'
-00011f10: 2d66 696c 7465 725f 636f 6d70 6c65 7820  -filter_complex 
-00011f20: 225b 303a 765d 7363 616c 653d 7b76 6964  "[0:v]scale={vid
-00011f30: 656f 5f6d 6574 615f 6461 7461 5b22 7769  eo_meta_data["wi
-00011f40: 6474 6822 5d7d 3a2d 315b 7630 5d3b 270a  dth"]}:-1[v0];'.
-00011f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011f60: 2020 2066 275b 313a 765d 7363 616c 653d     f'[1:v]scale=
-00011f70: 7b76 6964 656f 5f6d 6574 615f 6461 7461  {video_meta_data
-00011f80: 5b22 7769 6474 6822 5d7d 3a2d 315b 7631  ["width"]}:-1[v1
-00011f90: 5d3b 270a 2020 2020 2020 2020 2020 2020  ];'.            
-00011fa0: 2020 2020 2020 2066 275b 7630 5d5b 7631         f'[v0][v1
-00011fb0: 5d76 7374 6163 6b3d 696e 7075 7473 3d32  ]vstack=inputs=2
-00011fc0: 2220 227b 7361 7665 5f70 6174 687d 2220  " "{save_path}" 
-00011fd0: 2d68 6964 655f 6261 6e6e 6572 202d 6c6f  -hide_banner -lo
-00011fe0: 676c 6576 656c 2065 7272 6f72 202d 7374  glevel error -st
-00011ff0: 6174 7320 2d79 2729 0a20 2020 2069 6620  ats -y').    if 
-00012000: 6770 753a 0a20 2020 2020 2020 2070 726f  gpu:.        pro
-00012010: 6365 7373 203d 2073 7562 7072 6f63 6573  cess = subproces
-00012020: 732e 506f 7065 6e28 636d 642c 2073 6865  s.Popen(cmd, she
-00012030: 6c6c 3d54 7275 6529 0a20 2020 2020 2020  ll=True).       
-00012040: 206f 7574 7075 742c 2065 7272 6f72 203d   output, error =
-00012050: 2070 726f 6365 7373 2e63 6f6d 6d75 6e69   process.communi
-00012060: 6361 7465 2829 0a20 2020 2020 2020 2069  cate().        i
-00012070: 6620 7072 6f63 6573 732e 7265 7475 726e  f process.return
-00012080: 636f 6465 2021 3d20 303a 0a20 2020 2020  code != 0:.     
-00012090: 2020 2020 2020 2069 6620 2255 6e6b 6e6f         if "Unkno
-000120a0: 776e 2064 6563 6f64 6572 2220 696e 2073  wn decoder" in s
-000120b0: 7472 2865 7272 6f72 2e73 706c 6974 2862  tr(error.split(b
-000120c0: 225c 6e22 295b 2d32 5d29 3a0a 2020 2020  "\n")[-2]):.    
-000120d0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-000120e0: 6520 4646 4d50 4547 436f 6465 6347 5055  e FFMPEGCodecGPU
-000120f0: 4572 726f 7228 6d73 673d 2247 5055 2063  Error(msg="GPU c
-00012100: 6f64 6563 206e 6f74 2066 6f75 6e64 3a20  odec not found: 
-00012110: 7265 7665 7274 696e 6720 746f 2043 5055  reverting to CPU
-00012120: 2e20 5072 6f70 6572 6c79 2063 6f6e 6669  . Properly confi
-00012130: 6775 7265 2046 464d 7065 6720 616e 6420  gure FFMpeg and 
-00012140: 656e 7375 7265 2079 6f75 2068 6176 6520  ensure you have 
-00012150: 4750 5520 6176 6169 6c61 626c 6520 6f72  GPU available or
-00012160: 2075 7365 2043 5055 2e22 2c20 736f 7572   use CPU.", sour
-00012170: 6365 3d76 6964 656f 5f63 6f6e 6361 7465  ce=video_concate
-00012180: 6e61 746f 722e 5f5f 6e61 6d65 5f5f 290a  nator.__name__).
-00012190: 2020 2020 2020 2020 2020 2020 656c 7365              else
-000121a0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000121b0: 2020 7261 6973 6520 4646 4d50 4547 436f    raise FFMPEGCo
-000121c0: 6465 6347 5055 4572 726f 7228 6d73 673d  decGPUError(msg=
-000121d0: 2247 5055 2065 7272 6f72 2e20 5072 6f70  "GPU error. Prop
-000121e0: 6572 6c79 2063 6f6e 6669 6775 7265 2046  erly configure F
-000121f0: 464d 7065 6720 616e 6420 656e 7375 7265  FMpeg and ensure
-00012200: 2079 6f75 2068 6176 6520 4750 5520 6176   you have GPU av
-00012210: 6169 6c61 626c 652c 206f 7220 7573 6520  ailable, or use 
-00012220: 4350 552e 222c 2073 6f75 7263 653d 7669  CPU.", source=vi
-00012230: 6465 6f5f 636f 6e63 6174 656e 6174 6f72  deo_concatenator
-00012240: 2e5f 5f6e 616d 655f 5f29 0a20 2020 2020  .__name__).     
-00012250: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00012260: 2020 2020 2070 6173 730a 2020 2020 656c       pass.    el
-00012270: 7365 3a0a 2020 2020 2020 2020 7375 6270  se:.        subp
-00012280: 726f 6365 7373 2e63 616c 6c28 636d 642c  rocess.call(cmd,
-00012290: 2073 6865 6c6c 3d54 7275 652c 2073 7464   shell=True, std
-000122a0: 6f75 743d 7375 6270 726f 6365 7373 2e50  out=subprocess.P
-000122b0: 4950 4529 0a20 2020 2074 696d 6572 2e73  IPE).    timer.s
-000122c0: 746f 705f 7469 6d65 7228 290a 2020 2020  top_timer().    
-000122d0: 7374 646f 7574 5f73 7563 6365 7373 286d  stdout_success(m
-000122e0: 7367 3d66 2256 6964 656f 7320 636f 6e63  sg=f"Videos conc
-000122f0: 6174 656e 6174 6564 2061 6e64 2073 6176  atenated and sav
-00012300: 6564 2061 7420 7b73 6176 655f 7061 7468  ed at {save_path
-00012310: 7d22 2c20 656c 6170 7365 645f 7469 6d65  }", elapsed_time
-00012320: 3d74 696d 6572 2e65 6c61 7073 6564 5f74  =timer.elapsed_t
-00012330: 696d 655f 7374 722c 2073 6f75 7263 653d  ime_str, source=
-00012340: 7669 6465 6f5f 636f 6e63 6174 656e 6174  video_concatenat
-00012350: 6f72 2e5f 5f6e 616d 655f 5f29 0a0a 0a23  or.__name__)...#
-00012360: 2076 6964 656f 5f63 6f6e 6361 7465 6e61   video_concatena
-00012370: 746f 7228 7669 6465 6f5f 6f6e 655f 7061  tor(video_one_pa
-00012380: 7468 3d72 272f 5573 6572 732f 7369 6d6f  th=r'/Users/simo
-00012390: 6e2f 4465 736b 746f 702f 656e 7673 2f73  n/Desktop/envs/s
-000123a0: 696d 6261 2f74 726f 7562 6c65 7368 6f6f  imba/troubleshoo
-000123b0: 7469 6e67 2f6d 6f75 7365 5f6f 7065 6e5f  ting/mouse_open_
-000123c0: 6669 656c 642f 7072 6f6a 6563 745f 666f  field/project_fo
-000123d0: 6c64 6572 2f76 6964 656f 732f 5349 5f44  lder/videos/SI_D
-000123e0: 4159 335f 3330 385f 4344 315f 5052 4553  AY3_308_CD1_PRES
-000123f0: 454e 545f 646f 776e 7361 6d70 6c65 642e  ENT_downsampled.
-00012400: 6d70 3427 2c0a 2320 2020 2020 2020 2020  mp4',.#         
-00012410: 2020 2020 2020 2020 2020 2076 6964 656f             video
-00012420: 5f74 776f 5f70 6174 683d 7227 2f55 7365  _two_path=r'/Use
-00012430: 7273 2f73 696d 6f6e 2f44 6573 6b74 6f70  rs/simon/Desktop
-00012440: 2f65 6e76 732f 7369 6d62 612f 7472 6f75  /envs/simba/trou
-00012450: 626c 6573 686f 6f74 696e 672f 6d6f 7573  bleshooting/mous
-00012460: 655f 6f70 656e 5f66 6965 6c64 2f70 726f  e_open_field/pro
-00012470: 6a65 6374 5f66 6f6c 6465 722f 7669 6465  ject_folder/vide
-00012480: 6f73 2f53 495f 4441 5933 5f33 3038 5f43  os/SI_DAY3_308_C
-00012490: 4431 5f50 5245 5345 4e54 5f64 6f77 6e73  D1_PRESENT_downs
-000124a0: 616d 706c 6564 2e6d 7034 272c 2072 6573  ampled.mp4', res
-000124b0: 6f6c 7574 696f 6e3d 2756 6964 656f 5f31  olution='Video_1
-000124c0: 272c 0a23 2020 2020 2020 2020 2020 2020  ',.#            
-000124d0: 2020 2020 2020 2020 686f 7269 7a6f 6e74          horizont
-000124e0: 616c 3d54 7275 652c 0a23 2020 2020 2020  al=True,.#      
-000124f0: 2020 2020 2020 2020 2020 2020 2020 6770                gp
-00012500: 753d 4661 6c73 6529 0a0a 0a63 6c61 7373  u=False)...class
-00012510: 2056 6964 656f 526f 7461 746f 7228 436f   VideoRotator(Co
-00012520: 6e66 6967 5265 6164 6572 293a 0a20 2020  nfigReader):.   
-00012530: 2022 2222 0a20 2020 2047 5549 2054 6f6f   """.    GUI Too
-00012540: 6c20 666f 7220 726f 7461 7469 6e67 2076  l for rotating v
-00012550: 6964 656f 2e20 526f 7461 7465 6420 7669  ideo. Rotated vi
-00012560: 6465 6f20 6973 2073 6176 6564 2077 6974  deo is saved wit
-00012570: 6820 7468 6520 6060 5f72 6f74 6174 6564  h the ``_rotated
-00012580: 5f44 4154 4554 494d 452e 6d70 3460 6020  _DATETIME.mp4`` 
-00012590: 7375 6666 6978 2e0a 0a0a 2020 2020 2e2e  suffix....    ..
-000125a0: 2069 6d61 6765 3a3a 205f 7374 6174 6963   image:: _static
-000125b0: 2f69 6d67 2f56 6964 656f 526f 7461 746f  /img/VideoRotato
-000125c0: 722e 6769 660a 2020 2020 2020 203a 7769  r.gif.       :wi
-000125d0: 6474 683a 2037 3030 0a20 2020 2020 2020  dth: 700.       
-000125e0: 3a61 6c69 676e 3a20 6365 6e74 6572 0a0a  :align: center..
-000125f0: 2020 2020 3a70 6172 616d 6574 6572 2073      :parameter s
-00012600: 7472 2069 6e70 7574 5f70 6174 683a 2050  tr input_path: P
-00012610: 6174 6820 746f 2076 6964 656f 2074 6f20  ath to video to 
-00012620: 726f 7461 7465 2e0a 2020 2020 3a70 6172  rotate..    :par
-00012630: 616d 6574 6572 2073 7472 206f 7574 7075  ameter str outpu
-00012640: 745f 6469 723a 2044 6972 6563 746f 7279  t_dir: Directory
-00012650: 2077 6865 7265 2074 6f20 7361 7665 2074   where to save t
-00012660: 6865 2072 6f74 6174 6564 2076 6964 656f  he rotated video
-00012670: 2e0a 2020 2020 3a70 6172 616d 6574 6572  ..    :parameter
-00012680: 204f 7074 696f 6e61 6c5b 626f 6f6c 5d20   Optional[bool] 
-00012690: 6770 753a 2049 6620 5472 7565 2c20 7573  gpu: If True, us
-000126a0: 6520 4646 4d50 4547 204e 5649 4445 4120  e FFMPEG NVIDEA 
-000126b0: 4750 5520 636f 6465 6373 2e20 456c 7365  GPU codecs. Else
-000126c0: 2043 5055 2063 6f64 6563 732e 0a20 2020   CPU codecs..   
-000126d0: 203a 7061 7261 6d65 7465 7220 4f70 7469   :parameter Opti
-000126e0: 6f6e 616c 5b62 6f6f 6c5d 2067 7075 3a20  onal[bool] gpu: 
-000126f0: 4966 2054 7275 652c 2075 7365 2046 4650  If True, use FFP
-00012700: 4d50 4547 2e20 456c 7365 2c20 4f70 656e  MPEG. Else, Open
-00012710: 4356 2e0a 0a0a 0a0a 2020 2020 3a65 7861  CV......    :exa
-00012720: 6d70 6c65 3a0a 2020 2020 3e3e 3e20 5669  mple:.    >>> Vi
-00012730: 6465 6f52 6f74 6174 6f72 2869 6e70 7574  deoRotator(input
-00012740: 5f70 6174 683d 2770 726f 6a65 6374 5f66  _path='project_f
-00012750: 6f6c 6465 722f 7669 6465 6f73 2f56 6964  older/videos/Vid
-00012760: 656f 5f31 2e6d 7034 272c 206f 7574 7075  eo_1.mp4', outpu
-00012770: 745f 6469 723d 2770 726f 6a65 6374 5f66  t_dir='project_f
-00012780: 6f6c 6465 722f 7669 6465 6f73 2729 0a20  older/videos'). 
-00012790: 2020 2022 2222 0a0a 2020 2020 6465 6620     """..    def 
-000127a0: 5f5f 696e 6974 5f5f 280a 2020 2020 2020  __init__(.      
-000127b0: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-000127c0: 696e 7075 745f 7061 7468 3a20 556e 696f  input_path: Unio
-000127d0: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
-000127e0: 6b65 5d2c 0a20 2020 2020 2020 206f 7574  ke],.        out
-000127f0: 7075 745f 6469 723a 2055 6e69 6f6e 5b73  put_dir: Union[s
-00012800: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
-00012810: 2c0a 2020 2020 2020 2020 6770 753a 204f  ,.        gpu: O
-00012820: 7074 696f 6e61 6c5b 626f 6f6c 5d20 3d20  ptional[bool] = 
-00012830: 4661 6c73 652c 0a20 2020 2020 2020 2066  False,.        f
-00012840: 666d 7065 673a 204f 7074 696f 6e61 6c5b  fmpeg: Optional[
-00012850: 626f 6f6c 5d20 3d20 4661 6c73 652c 0a20  bool] = False,. 
-00012860: 2020 2029 202d 3e20 4e6f 6e65 3a0a 0a20     ) -> None:.. 
-00012870: 2020 2020 2020 2069 6620 6770 7520 616e         if gpu an
-00012880: 6420 6e6f 7420 6368 6563 6b5f 6e76 6964  d not check_nvid
-00012890: 6561 5f67 7075 5f61 7661 696c 6162 6c65  ea_gpu_available
-000128a0: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
-000128b0: 7261 6973 6520 4646 4d50 4547 436f 6465  raise FFMPEGCode
-000128c0: 6347 5055 4572 726f 7228 0a20 2020 2020  cGPUError(.     
-000128d0: 2020 2020 2020 2020 2020 206d 7367 3d22             msg="
-000128e0: 4e6f 2047 5055 2066 6f75 6e64 2028 6173  No GPU found (as
-000128f0: 2065 7661 6c75 6174 6564 2062 7920 6e76   evaluated by nv
-00012900: 6964 6561 2d73 6d69 2072 6574 7572 6e69  idea-smi returni
-00012910: 6e67 204e 6f6e 6529 222c 0a20 2020 2020  ng None)",.     
-00012920: 2020 2020 2020 2020 2020 2073 6f75 7263             sourc
-00012930: 653d 7365 6c66 2e5f 5f63 6c61 7373 5f5f  e=self.__class__
-00012940: 2e5f 5f6e 616d 655f 5f2c 0a20 2020 2020  .__name__,.     
-00012950: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00012960: 2069 6620 6666 6d70 6567 2061 6e64 206e   if ffmpeg and n
-00012970: 6f74 2063 6865 636b 5f66 666d 7065 675f  ot check_ffmpeg_
-00012980: 6176 6169 6c61 626c 6528 293a 0a20 2020  available():.   
-00012990: 2020 2020 2020 2020 2072 6169 7365 2046           raise F
-000129a0: 464d 5045 474e 6f74 466f 756e 6445 7272  FMPEGNotFoundErr
-000129b0: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
-000129c0: 2020 2020 6d73 673d 2746 464d 5045 4720      msg='FFMPEG 
-000129d0: 6e6f 7420 666f 756e 6420 6f6e 2074 6865  not found on the
-000129e0: 2063 6f6d 7075 7465 7220 2861 7320 6576   computer (as ev
-000129f0: 616c 7561 7465 6420 6279 2022 6666 6d70  aluated by "ffmp
-00012a00: 6567 2220 7265 7475 726e 696e 6720 4e6f  eg" returning No
-00012a10: 6e65 2927 2c0a 2020 2020 2020 2020 2020  ne)',.          
-00012a20: 2020 2020 2020 736f 7572 6365 3d73 656c        source=sel
-00012a30: 662e 5f5f 636c 6173 735f 5f2e 5f5f 6e61  f.__class__.__na
-00012a40: 6d65 5f5f 2c0a 2020 2020 2020 2020 2020  me__,.          
-00012a50: 2020 290a 2020 2020 2020 2020 5f2c 2073    ).        _, s
-00012a60: 656c 662e 6370 755f 636e 7420 3d20 6669  elf.cpu_cnt = fi
-00012a70: 6e64 5f63 6f72 655f 636e 7428 290a 2020  nd_core_cnt().  
-00012a80: 2020 2020 2020 7365 6c66 2e67 7075 2c20        self.gpu, 
-00012a90: 7365 6c66 2e66 666d 7065 6720 3d20 6770  self.ffmpeg = gp
-00012aa0: 752c 2066 666d 7065 670a 2020 2020 2020  u, ffmpeg.      
-00012ab0: 2020 7365 6c66 2e73 6176 655f 6469 7220    self.save_dir 
-00012ac0: 3d20 6f75 7470 7574 5f64 6972 0a20 2020  = output_dir.   
-00012ad0: 2020 2020 2073 656c 662e 6461 7465 7469       self.dateti
-00012ae0: 6d65 203d 2064 6174 6574 696d 652e 6e6f  me = datetime.no
-00012af0: 7728 292e 7374 7266 7469 6d65 2822 2559  w().strftime("%Y
-00012b00: 256d 2564 2548 254d 2553 2229 0a20 2020  %m%d%H%M%S").   
-00012b10: 2020 2020 2069 6620 6f73 2e70 6174 682e       if os.path.
-00012b20: 6973 6669 6c65 2869 6e70 7574 5f70 6174  isfile(input_pat
-00012b30: 6829 3a0a 2020 2020 2020 2020 2020 2020  h):.            
-00012b40: 7365 6c66 2e76 6964 656f 5f70 6174 6873  self.video_paths
-00012b50: 203d 205b 696e 7075 745f 7061 7468 5d0a   = [input_path].
-00012b60: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00012b70: 2020 2020 2020 2020 2020 7365 6c66 2e76            self.v
-00012b80: 6964 656f 5f70 6174 6873 203d 2066 696e  ideo_paths = fin
-00012b90: 645f 616c 6c5f 7669 6465 6f73 5f69 6e5f  d_all_videos_in_
-00012ba0: 6469 7265 6374 6f72 7928 0a20 2020 2020  directory(.     
-00012bb0: 2020 2020 2020 2020 2020 2064 6972 6563             direc
-00012bc0: 746f 7279 3d69 6e70 7574 5f70 6174 682c  tory=input_path,
-00012bd0: 2061 735f 6469 6374 3d54 7275 650a 2020   as_dict=True.  
-00012be0: 2020 2020 2020 2020 2020 292e 7661 6c75            ).valu
-00012bf0: 6573 2829 0a20 2020 2020 2020 2020 2020  es().           
-00012c00: 2063 6865 636b 5f69 665f 6669 6c65 7061   check_if_filepa
-00012c10: 7468 5f6c 6973 745f 6973 5f65 6d70 7479  th_list_is_empty
-00012c20: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00012c30: 2020 6669 6c65 7061 7468 733d 7365 6c66    filepaths=self
-00012c40: 2e76 6964 656f 5f70 6174 6873 2c0a 2020  .video_paths,.  
-00012c50: 2020 2020 2020 2020 2020 2020 2020 6572                er
-00012c60: 726f 725f 6d73 673d 6622 4e6f 2076 6964  ror_msg=f"No vid
-00012c70: 656f 7320 666f 756e 6420 696e 207b 696e  eos found in {in
-00012c80: 7075 745f 7061 7468 7d20 6469 7265 6374  put_path} direct
-00012c90: 6f72 7922 2c0a 2020 2020 2020 2020 2020  ory",.          
-00012ca0: 2020 290a 0a20 2020 2064 6566 205f 5f69    )..    def __i
-00012cb0: 6e73 6572 745f 696d 6728 7365 6c66 2c20  nsert_img(self, 
-00012cc0: 696d 673a 206e 702e 6172 7261 7929 3a0a  img: np.array):.
-00012cd0: 2020 2020 2020 2020 6375 7272 656e 745f          current_
-00012ce0: 6672 6d5f 7069 6c20 3d20 496d 6167 652e  frm_pil = Image.
-00012cf0: 6672 6f6d 6172 7261 7928 696d 6729 0a20  fromarray(img). 
-00012d00: 2020 2020 2020 2063 7572 7265 6e74 5f66         current_f
-00012d10: 726d 5f70 696c 2e74 6875 6d62 6e61 696c  rm_pil.thumbnail
-00012d20: 284d 4158 5f46 524d 5f53 495a 452c 2049  (MAX_FRM_SIZE, I
-00012d30: 6d61 6765 2e41 4e54 4941 4c49 4153 290a  mage.ANTIALIAS).
-00012d40: 2020 2020 2020 2020 6375 7272 656e 745f          current_
-00012d50: 6672 6d5f 7069 6c20 3d20 496d 6167 6554  frm_pil = ImageT
-00012d60: 6b2e 5068 6f74 6f49 6d61 6765 280a 2020  k.PhotoImage(.  
-00012d70: 2020 2020 2020 2020 2020 6d61 7374 6572            master
-00012d80: 3d73 656c 662e 6d61 696e 5f66 726d 2c20  =self.main_frm, 
-00012d90: 696d 6167 653d 6375 7272 656e 745f 6672  image=current_fr
-00012da0: 6d5f 7069 6c0a 2020 2020 2020 2020 290a  m_pil.        ).
-00012db0: 2020 2020 2020 2020 7365 6c66 2e76 6964          self.vid
-00012dc0: 656f 5f66 7261 6d65 203d 204c 6162 656c  eo_frame = Label
-00012dd0: 2873 656c 662e 6d61 696e 5f66 726d 2c20  (self.main_frm, 
-00012de0: 696d 6167 653d 6375 7272 656e 745f 6672  image=current_fr
-00012df0: 6d5f 7069 6c29 0a20 2020 2020 2020 2073  m_pil).        s
-00012e00: 656c 662e 7669 6465 6f5f 6672 616d 652e  elf.video_frame.
-00012e10: 696d 6167 6520 3d20 6375 7272 656e 745f  image = current_
-00012e20: 6672 6d5f 7069 6c0a 2020 2020 2020 2020  frm_pil.        
-00012e30: 7365 6c66 2e76 6964 656f 5f66 7261 6d65  self.video_frame
-00012e40: 2e67 7269 6428 726f 773d 302c 2063 6f6c  .grid(row=0, col
-00012e50: 756d 6e3d 3029 0a0a 2020 2020 6465 6620  umn=0)..    def 
-00012e60: 5f5f 726f 7461 7465 2873 656c 662c 2076  __rotate(self, v
-00012e70: 616c 7565 3a20 696e 742c 2069 6d67 3a20  alue: int, img: 
-00012e80: 6e70 2e61 7272 6179 293a 0a20 2020 2020  np.array):.     
-00012e90: 2020 2073 656c 662e 6469 665f 616e 676c     self.dif_angl
-00012ea0: 6520 2b3d 2076 616c 7565 0a20 2020 2020  e += value.     
-00012eb0: 2020 2072 6f74 6174 696f 6e5f 6d61 7472     rotation_matr
-00012ec0: 6978 203d 2063 7632 2e67 6574 526f 7461  ix = cv2.getRota
-00012ed0: 7469 6f6e 4d61 7472 6978 3244 280a 2020  tionMatrix2D(.  
-00012ee0: 2020 2020 2020 2020 2020 2873 656c 662e            (self.
-00012ef0: 7669 6465 6f5f 6d65 7461 5f64 6174 615b  video_meta_data[
-00012f00: 2277 6964 7468 225d 202f 2032 2c20 7365  "width"] / 2, se
-00012f10: 6c66 2e76 6964 656f 5f6d 6574 615f 6461  lf.video_meta_da
-00012f20: 7461 5b22 6865 6967 6874 225d 202f 2032  ta["height"] / 2
-00012f30: 292c 0a20 2020 2020 2020 2020 2020 2073  ),.            s
-00012f40: 656c 662e 6469 665f 616e 676c 652c 0a20  elf.dif_angle,. 
-00012f50: 2020 2020 2020 2020 2020 2031 2c0a 2020             1,.  
-00012f60: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00012f70: 696d 6720 3d20 6376 322e 7761 7270 4166  img = cv2.warpAf
-00012f80: 6669 6e65 280a 2020 2020 2020 2020 2020  fine(.          
-00012f90: 2020 696d 672c 0a20 2020 2020 2020 2020    img,.         
-00012fa0: 2020 2072 6f74 6174 696f 6e5f 6d61 7472     rotation_matr
-00012fb0: 6978 2c0a 2020 2020 2020 2020 2020 2020  ix,.            
-00012fc0: 2873 656c 662e 7669 6465 6f5f 6d65 7461  (self.video_meta
-00012fd0: 5f64 6174 615b 2277 6964 7468 225d 2c20  _data["width"], 
-00012fe0: 7365 6c66 2e76 6964 656f 5f6d 6574 615f  self.video_meta_
-00012ff0: 6461 7461 5b22 6865 6967 6874 225d 292c  data["height"]),
-00013000: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
-00013010: 2020 2073 656c 662e 5f5f 696e 7365 7274     self.__insert
-00013020: 5f69 6d67 2869 6d67 3d69 6d67 290a 0a20  _img(img=img).. 
-00013030: 2020 2064 6566 205f 5f72 756e 5f72 6f74     def __run_rot
-00013040: 6174 696f 6e28 7365 6c66 293a 0a20 2020  ation(self):.   
-00013050: 2020 2020 2073 656c 662e 6d61 696e 5f66       self.main_f
-00013060: 726d 2e64 6573 7472 6f79 2829 0a20 2020  rm.destroy().   
-00013070: 2020 2020 2073 7461 7274 203d 2074 696d       start = tim
-00013080: 652e 7469 6d65 2829 0a20 2020 2020 2020  e.time().       
-00013090: 2069 6620 7365 6c66 2e66 666d 7065 6720   if self.ffmpeg 
-000130a0: 6f72 2073 656c 662e 6770 753a 0a20 2020  or self.gpu:.   
-000130b0: 2020 2020 2020 2020 2066 6f72 2076 6964           for vid
-000130c0: 656f 5f63 6e74 2c20 2876 6964 656f 5f70  eo_cnt, (video_p
-000130d0: 6174 682c 2072 6f74 6174 696f 6e29 2069  ath, rotation) i
-000130e0: 6e20 656e 756d 6572 6174 6528 7365 6c66  n enumerate(self
-000130f0: 2e72 6573 756c 7473 2e69 7465 6d73 2829  .results.items()
-00013100: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00013110: 2020 205f 2c20 6e61 6d65 2c20 5f20 3d20     _, name, _ = 
-00013120: 6765 745f 666e 5f65 7874 2866 696c 6570  get_fn_ext(filep
-00013130: 6174 683d 7669 6465 6f5f 7061 7468 290a  ath=video_path).
-00013140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013150: 7361 7665 5f70 6174 6820 3d20 6f73 2e70  save_path = os.p
-00013160: 6174 682e 6a6f 696e 280a 2020 2020 2020  ath.join(.      
-00013170: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00013180: 6c66 2e73 6176 655f 6469 722c 2066 227b  lf.save_dir, f"{
-00013190: 6e61 6d65 7d5f 726f 7461 7465 645f 7b73  name}_rotated_{s
-000131a0: 656c 662e 6461 7465 7469 6d65 7d2e 6d70  elf.datetime}.mp
-000131b0: 3422 0a20 2020 2020 2020 2020 2020 2020  4".             
-000131c0: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
-000131d0: 2020 2020 2069 6620 7365 6c66 2e67 7075       if self.gpu
-000131e0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000131f0: 2020 2020 2020 636d 6420 3d20 6627 6666        cmd = f'ff
-00013200: 6d70 6567 202d 6877 6163 6365 6c20 6175  mpeg -hwaccel au
-00013210: 746f 202d 6920 227b 7669 6465 6f5f 7061  to -i "{video_pa
-00013220: 7468 7d22 202d 7666 2022 6877 7570 6c6f  th}" -vf "hwuplo
-00013230: 6164 5f63 7564 612c 726f 7461 7465 3d7b  ad_cuda,rotate={
-00013240: 726f 7461 7469 6f6e 7d2a 2850 492f 3138  rotation}*(PI/18
-00013250: 3029 2c66 6f72 6d61 743d 6e76 3132 7c63  0),format=nv12|c
-00013260: 7564 6122 202d 633a 7620 6832 3634 5f6e  uda" -c:v h264_n
-00013270: 7665 6e63 2022 7b73 6176 655f 7061 7468  venc "{save_path
-00013280: 7d22 202d 7927 0a20 2020 2020 2020 2020  }" -y'.         
-00013290: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-000132a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000132b0: 2063 6d64 203d 2066 2766 666d 7065 6720   cmd = f'ffmpeg 
-000132c0: 2d69 2022 7b76 6964 656f 5f70 6174 687d  -i "{video_path}
-000132d0: 2220 2d76 6620 2272 6f74 6174 653d 7b72  " -vf "rotate={r
-000132e0: 6f74 6174 696f 6e7d 2a28 5049 2f31 3830  otation}*(PI/180
-000132f0: 2922 2022 7b73 6176 655f 7061 7468 7d22  )" "{save_path}"
-00013300: 202d 7927 0a20 2020 2020 2020 2020 2020   -y'.           
-00013310: 2020 2020 2073 7562 7072 6f63 6573 732e       subprocess.
-00013320: 6361 6c6c 2863 6d64 2c20 7368 656c 6c3d  call(cmd, shell=
-00013330: 5472 7565 2c20 7374 646f 7574 3d73 7562  True, stdout=sub
-00013340: 7072 6f63 6573 732e 5049 5045 290a 2020  process.PIPE).  
-00013350: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00013360: 2020 2020 2020 2020 666f 7220 7669 6465          for vide
-00013370: 6f5f 636e 742c 2028 7669 6465 6f5f 7061  o_cnt, (video_pa
-00013380: 7468 2c20 726f 7461 7469 6f6e 2920 696e  th, rotation) in
-00013390: 2065 6e75 6d65 7261 7465 2873 656c 662e   enumerate(self.
-000133a0: 7265 7375 6c74 732e 6974 656d 7328 2929  results.items())
-000133b0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000133c0: 2020 6361 7020 3d20 6376 322e 5669 6465    cap = cv2.Vide
-000133d0: 6f43 6170 7475 7265 2876 6964 656f 5f70  oCapture(video_p
-000133e0: 6174 6829 0a20 2020 2020 2020 2020 2020  ath).           
-000133f0: 2020 2020 205f 2c20 6e61 6d65 2c20 5f20       _, name, _ 
-00013400: 3d20 6765 745f 666e 5f65 7874 2866 696c  = get_fn_ext(fil
-00013410: 6570 6174 683d 7669 6465 6f5f 7061 7468  epath=video_path
-00013420: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00013430: 2020 726f 7461 7469 6f6e 5f6d 6174 7269    rotation_matri
-00013440: 7820 3d20 6376 322e 6765 7452 6f74 6174  x = cv2.getRotat
-00013450: 696f 6e4d 6174 7269 7832 4428 0a20 2020  ionMatrix2D(.   
-00013460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013470: 2028 0a20 2020 2020 2020 2020 2020 2020   (.             
-00013480: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00013490: 7669 6465 6f5f 6d65 7461 5f64 6174 615b  video_meta_data[
-000134a0: 2277 6964 7468 225d 202f 2032 2c0a 2020  "width"] / 2,.  
-000134b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000134c0: 2020 2020 2020 7365 6c66 2e76 6964 656f        self.video
-000134d0: 5f6d 6574 615f 6461 7461 5b22 6865 6967  _meta_data["heig
-000134e0: 6874 225d 202f 2032 2c0a 2020 2020 2020  ht"] / 2,.      
-000134f0: 2020 2020 2020 2020 2020 2020 2020 292c                ),
-00013500: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00013510: 2020 2020 2072 6f74 6174 696f 6e2c 0a20       rotation,. 
-00013520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013530: 2020 2031 2c0a 2020 2020 2020 2020 2020     1,.          
-00013540: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00013550: 2020 2020 2020 2020 7361 7665 5f70 6174          save_pat
-00013560: 6820 3d20 6f73 2e70 6174 682e 6a6f 696e  h = os.path.join
-00013570: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00013580: 2020 2020 2020 7365 6c66 2e73 6176 655f        self.save_
-00013590: 6469 722c 2066 227b 6e61 6d65 7d5f 726f  dir, f"{name}_ro
-000135a0: 7461 7465 645f 7b73 656c 662e 6461 7465  tated_{self.date
-000135b0: 7469 6d65 7d2e 6d70 3422 0a20 2020 2020  time}.mp4".     
-000135c0: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
-000135d0: 2020 2020 2020 2020 2020 2020 2076 6964               vid
-000135e0: 656f 5f6d 6574 6120 3d20 6765 745f 7669  eo_meta = get_vi
-000135f0: 6465 6f5f 6d65 7461 5f64 6174 6128 7669  deo_meta_data(vi
-00013600: 6465 6f5f 7061 7468 3d76 6964 656f 5f70  deo_path=video_p
-00013610: 6174 6829 0a20 2020 2020 2020 2020 2020  ath).           
-00013620: 2020 2020 2066 6f75 7263 6320 3d20 6376       fourcc = cv
-00013630: 322e 5669 6465 6f57 7269 7465 725f 666f  2.VideoWriter_fo
-00013640: 7572 6363 282a 466f 726d 6174 732e 4d50  urcc(*Formats.MP
-00013650: 345f 434f 4445 432e 7661 6c75 6529 0a20  4_CODEC.value). 
-00013660: 2020 2020 2020 2020 2020 2020 2020 2077                 w
-00013670: 7269 7465 7220 3d20 6376 322e 5669 6465  riter = cv2.Vide
-00013680: 6f57 7269 7465 7228 0a20 2020 2020 2020  oWriter(.       
-00013690: 2020 2020 2020 2020 2020 2020 2073 6176               sav
-000136a0: 655f 7061 7468 2c0a 2020 2020 2020 2020  e_path,.        
-000136b0: 2020 2020 2020 2020 2020 2020 666f 7572              four
-000136c0: 6363 2c0a 2020 2020 2020 2020 2020 2020  cc,.            
-000136d0: 2020 2020 2020 2020 7669 6465 6f5f 6d65          video_me
-000136e0: 7461 5b22 6670 7322 5d2c 0a20 2020 2020  ta["fps"],.     
-000136f0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-00013700: 7669 6465 6f5f 6d65 7461 5b22 7769 6474  video_meta["widt
-00013710: 6822 5d2c 2076 6964 656f 5f6d 6574 615b  h"], video_meta[
-00013720: 2268 6569 6768 7422 5d29 2c0a 2020 2020  "height"]),.    
-00013730: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-00013740: 2020 2020 2020 2020 2020 2020 2020 696d                im
-00013750: 675f 636e 7420 3d20 300a 2020 2020 2020  g_cnt = 0.      
-00013760: 2020 2020 2020 2020 2020 7768 696c 6520            while 
-00013770: 5472 7565 3a0a 2020 2020 2020 2020 2020  True:.          
-00013780: 2020 2020 2020 2020 2020 7265 742c 2069            ret, i
-00013790: 6d67 203d 2063 6170 2e72 6561 6428 290a  mg = cap.read().
-000137a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000137b0: 2020 2020 6966 206e 6f74 2072 6574 3a0a      if not ret:.
-000137c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000137d0: 2020 2020 2020 2020 6272 6561 6b0a 2020          break.  
-000137e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000137f0: 2020 696d 6720 3d20 6376 322e 7761 7270    img = cv2.warp
-00013800: 4166 6669 6e65 280a 2020 2020 2020 2020  Affine(.        
-00013810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013820: 696d 672c 0a20 2020 2020 2020 2020 2020  img,.           
-00013830: 2020 2020 2020 2020 2020 2020 2072 6f74               rot
-00013840: 6174 696f 6e5f 6d61 7472 6978 2c0a 2020  ation_matrix,.  
-00013850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013860: 2020 2020 2020 2873 656c 662e 7669 6465        (self.vide
-00013870: 6f5f 6d65 7461 5f64 6174 615b 2277 6964  o_meta_data["wid
-00013880: 7468 225d 2c20 7365 6c66 2e76 6964 656f  th"], self.video
-00013890: 5f6d 6574 615f 6461 7461 5b22 6865 6967  _meta_data["heig
-000138a0: 6874 225d 292c 0a20 2020 2020 2020 2020  ht"]),.         
-000138b0: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
-000138c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000138d0: 2077 7269 7465 722e 7772 6974 6528 696d   writer.write(im
-000138e0: 6729 0a20 2020 2020 2020 2020 2020 2020  g).             
-000138f0: 2020 2020 2020 2069 6d67 5f63 6e74 202b         img_cnt +
-00013900: 3d20 310a 2020 2020 2020 2020 2020 2020  = 1.            
-00013910: 2020 2020 2020 2020 7072 696e 7428 0a20          print(. 
-00013920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013930: 2020 2020 2020 2066 2752 6f74 6174 696e         f'Rotatin
-00013940: 6720 6672 616d 6520 7b69 6d67 5f63 6e74  g frame {img_cnt
-00013950: 7d2f 7b76 6964 656f 5f6d 6574 615b 2266  }/{video_meta["f
-00013960: 7261 6d65 5f63 6f75 6e74 225d 7d20 2856  rame_count"]} (V
-00013970: 6964 656f 207b 7669 6465 6f5f 636e 7420  ideo {video_cnt 
-00013980: 2b20 317d 2f7b 6c65 6e28 7365 6c66 2e72  + 1}/{len(self.r
-00013990: 6573 756c 7473 2e6b 6579 7328 2929 7d29  esults.keys())})
-000139a0: 2027 0a20 2020 2020 2020 2020 2020 2020   '.             
-000139b0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-000139c0: 2020 2020 2020 2020 2063 6170 2e72 656c           cap.rel
-000139d0: 6561 7365 2829 0a20 2020 2020 2020 2020  ease().         
-000139e0: 2020 2020 2020 2077 7269 7465 722e 7265         writer.re
-000139f0: 6c65 6173 6528 290a 2020 2020 2020 2020  lease().        
-00013a00: 7374 646f 7574 5f73 7563 6365 7373 280a  stdout_success(.
-00013a10: 2020 2020 2020 2020 2020 2020 6d73 673d              msg=
-00013a20: 6622 416c 6c20 7669 6465 6f73 2072 6f74  f"All videos rot
-00013a30: 6174 6564 2061 6e64 2073 6176 6564 2069  ated and saved i
-00013a40: 6e20 7b73 656c 662e 7361 7665 5f64 6972  n {self.save_dir
-00013a50: 7d22 2c0a 2020 2020 2020 2020 2020 2020  }",.            
-00013a60: 656c 6170 7365 645f 7469 6d65 3d73 7472  elapsed_time=str
-00013a70: 2872 6f75 6e64 2828 7469 6d65 2e74 696d  (round((time.tim
-00013a80: 6528 2920 2d20 7374 6172 7429 2c20 3229  e() - start), 2)
-00013a90: 292c 0a20 2020 2020 2020 2020 2020 2073  ),.            s
-00013aa0: 6f75 7263 653d 7365 6c66 2e5f 5f63 6c61  ource=self.__cla
-00013ab0: 7373 5f5f 2e5f 5f6e 616d 655f 5f2c 0a20  ss__.__name__,. 
-00013ac0: 2020 2020 2020 2029 0a0a 2020 2020 6465         )..    de
-00013ad0: 6620 5f5f 7361 7665 2873 656c 6629 3a0a  f __save(self):.
-00013ae0: 2020 2020 2020 2020 7072 6f63 6573 7320          process 
-00013af0: 3d20 4e6f 6e65 0a20 2020 2020 2020 2073  = None.        s
-00013b00: 656c 662e 7265 7375 6c74 735b 7365 6c66  elf.results[self
-00013b10: 2e66 696c 655f 7061 7468 5d20 3d20 7365  .file_path] = se
-00013b20: 6c66 2e64 6966 5f61 6e67 6c65 0a20 2020  lf.dif_angle.   
-00013b30: 2020 2020 2069 6620 6c65 6e28 7365 6c66       if len(self
-00013b40: 2e72 6573 756c 7473 2e6b 6579 7328 2929  .results.keys())
-00013b50: 203d 3d20 6c65 6e28 7365 6c66 2e76 6964   == len(self.vid
-00013b60: 656f 5f70 6174 6873 293a 0a20 2020 2020  eo_paths):.     
-00013b70: 2020 2020 2020 2070 726f 6365 7373 203d         process =
-00013b80: 206d 756c 7469 7072 6f63 6573 7369 6e67   multiprocessing
-00013b90: 2e50 726f 6365 7373 2874 6172 6765 743d  .Process(target=
-00013ba0: 7365 6c66 2e5f 5f72 756e 5f72 6f74 6174  self.__run_rotat
-00013bb0: 696f 6e28 2929 0a20 2020 2020 2020 2020  ion()).         
-00013bc0: 2020 2070 726f 6365 7373 2e73 7461 7274     process.start
-00013bd0: 2829 0a20 2020 2020 2020 2065 6c73 653a  ().        else:
-00013be0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-00013bf0: 662e 5f5f 7275 6e5f 696e 7465 7266 6163  f.__run_interfac
-00013c00: 6528 0a20 2020 2020 2020 2020 2020 2020  e(.             
-00013c10: 2020 2066 696c 655f 7061 7468 3d73 656c     file_path=sel
-00013c20: 662e 7669 6465 6f5f 7061 7468 735b 6c65  f.video_paths[le
-00013c30: 6e28 7365 6c66 2e72 6573 756c 7473 2e6b  n(self.results.k
-00013c40: 6579 7328 2929 202d 2031 5d0a 2020 2020  eys()) - 1].    
-00013c50: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00013c60: 2020 6966 2070 726f 6365 7373 2069 7320    if process is 
-00013c70: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
-00013c80: 2020 2020 2020 7072 6f63 6573 732e 6a6f        process.jo
-00013c90: 696e 2829 0a0a 2020 2020 6465 6620 5f5f  in()..    def __
-00013ca0: 6269 6e64 5f6b 6579 7328 7365 6c66 293a  bind_keys(self):
-00013cb0: 0a20 2020 2020 2020 2073 656c 662e 6d61  .        self.ma
-00013cc0: 696e 5f66 726d 2e62 696e 6428 0a20 2020  in_frm.bind(.   
-00013cd0: 2020 2020 2020 2020 2022 3c4c 6566 743e           "<Left>
-00013ce0: 222c 206c 616d 6264 6120 783a 2073 656c  ", lambda x: sel
-00013cf0: 662e 5f5f 726f 7461 7465 2876 616c 7565  f.__rotate(value
-00013d00: 3d31 2c20 696d 673d 7365 6c66 2e5f 6f72  =1, img=self._or
-00013d10: 6967 5f69 6d67 290a 2020 2020 2020 2020  ig_img).        
-00013d20: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-00013d30: 6169 6e5f 6672 6d2e 6269 6e64 280a 2020  ain_frm.bind(.  
-00013d40: 2020 2020 2020 2020 2020 223c 5269 6768            "<Righ
-00013d50: 743e 222c 206c 616d 6264 6120 783a 2073  t>", lambda x: s
-00013d60: 656c 662e 5f5f 726f 7461 7465 2876 616c  elf.__rotate(val
-00013d70: 7565 3d2d 312c 2069 6d67 3d73 656c 662e  ue=-1, img=self.
-00013d80: 5f6f 7269 675f 696d 6729 0a20 2020 2020  _orig_img).     
-00013d90: 2020 2029 0a20 2020 2020 2020 2073 656c     ).        sel
-00013da0: 662e 6d61 696e 5f66 726d 2e62 696e 6428  f.main_frm.bind(
-00013db0: 223c 4573 6361 7065 3e22 2c20 6c61 6d62  "<Escape>", lamb
-00013dc0: 6461 2078 3a20 7365 6c66 2e5f 5f73 6176  da x: self.__sav
-00013dd0: 6528 2929 0a0a 2020 2020 6465 6620 5f5f  e())..    def __
-00013de0: 7275 6e5f 696e 7465 7266 6163 6528 7365  run_interface(se
-00013df0: 6c66 2c20 6669 6c65 5f70 6174 683a 2073  lf, file_path: s
-00013e00: 7472 293a 0a20 2020 2020 2020 2073 656c  tr):.        sel
-00013e10: 662e 6469 665f 616e 676c 6520 3d20 300a  f.dif_angle = 0.
-00013e20: 2020 2020 2020 2020 7072 696e 7428 6669          print(fi
-00013e30: 6c65 5f70 6174 6829 0a20 2020 2020 2020  le_path).       
-00013e40: 2073 656c 662e 7669 6465 6f5f 6d65 7461   self.video_meta
-00013e50: 5f64 6174 6120 3d20 6765 745f 7669 6465  _data = get_vide
-00013e60: 6f5f 6d65 7461 5f64 6174 6128 7669 6465  o_meta_data(vide
-00013e70: 6f5f 7061 7468 3d66 696c 655f 7061 7468  o_path=file_path
-00013e80: 290a 2020 2020 2020 2020 7365 6c66 2e66  ).        self.f
-00013e90: 696c 655f 7061 7468 203d 2066 696c 655f  ile_path = file_
-00013ea0: 7061 7468 0a20 2020 2020 2020 205f 2c20  path.        _, 
-00013eb0: 7365 6c66 2e76 6964 656f 5f6e 616d 652c  self.video_name,
-00013ec0: 205f 203d 2067 6574 5f66 6e5f 6578 7428   _ = get_fn_ext(
-00013ed0: 6669 6c65 7061 7468 3d66 696c 655f 7061  filepath=file_pa
-00013ee0: 7468 290a 2020 2020 2020 2020 7365 6c66  th).        self
-00013ef0: 2e6d 6169 6e5f 6672 6d20 3d20 546f 706c  .main_frm = Topl
-00013f00: 6576 656c 2829 0a20 2020 2020 2020 2073  evel().        s
-00013f10: 656c 662e 6d61 696e 5f66 726d 2e74 6974  elf.main_frm.tit
-00013f20: 6c65 2866 2252 4f54 4154 4520 5649 4445  le(f"ROTATE VIDE
-00013f30: 4f20 7b73 656c 662e 7669 6465 6f5f 6e61  O {self.video_na
-00013f40: 6d65 7d22 290a 2020 2020 2020 2020 7365  me}").        se
-00013f50: 6c66 2e76 6964 656f 5f66 726d 203d 2046  lf.video_frm = F
-00013f60: 7261 6d65 2873 656c 662e 6d61 696e 5f66  rame(self.main_f
-00013f70: 726d 290a 2020 2020 2020 2020 7365 6c66  rm).        self
-00013f80: 2e76 6964 656f 5f66 726d 2e67 7269 6428  .video_frm.grid(
-00013f90: 726f 773d 302c 2063 6f6c 756d 6e3d 3029  row=0, column=0)
-00013fa0: 0a20 2020 2020 2020 2073 656c 662e 696e  .        self.in
-00013fb0: 7374 7275 6374 696f 6e5f 6672 6d20 3d20  struction_frm = 
-00013fc0: 4672 616d 6528 7365 6c66 2e6d 6169 6e5f  Frame(self.main_
-00013fd0: 6672 6d2c 2077 6964 7468 3d31 3030 2c20  frm, width=100, 
-00013fe0: 6865 6967 6874 3d31 3030 290a 2020 2020  height=100).    
-00013ff0: 2020 2020 7365 6c66 2e69 6e73 7472 7563      self.instruc
-00014000: 7469 6f6e 5f66 726d 2e67 7269 6428 726f  tion_frm.grid(ro
-00014010: 773d 302c 2063 6f6c 756d 6e3d 322c 2073  w=0, column=2, s
-00014020: 7469 636b 793d 4e57 290a 2020 2020 2020  ticky=NW).      
-00014030: 2020 7365 6c66 2e6b 6579 5f6c 626c 7320    self.key_lbls 
-00014040: 3d20 4c61 6265 6c28 0a20 2020 2020 2020  = Label(.       
-00014050: 2020 2020 2073 656c 662e 696e 7374 7275       self.instru
-00014060: 6374 696f 6e5f 6672 6d2c 0a20 2020 2020  ction_frm,.     
-00014070: 2020 2020 2020 2074 6578 743d 225c 6e5c         text="\n\
-00014080: 6e20 4e61 7669 6761 7469 6f6e 3a20 220a  n Navigation: ".
-00014090: 2020 2020 2020 2020 2020 2020 225c 6e20              "\n 
-000140a0: 4c65 6674 2061 7272 6f77 203d 2031 c2b0  Left arrow = 1..
-000140b0: 206c 6566 7422 0a20 2020 2020 2020 2020   left".         
-000140c0: 2020 2022 5c6e 2052 6967 6874 2061 7272     "\n Right arr
-000140d0: 6f77 203d 2031 c2b0 2072 6967 6874 220a  ow = 1.. right".
-000140e0: 2020 2020 2020 2020 2020 2020 225c 6e20              "\n 
-000140f0: 4573 6320 3d20 5361 7665 222c 0a20 2020  Esc = Save",.   
-00014100: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
-00014110: 7365 6c66 2e6b 6579 5f6c 626c 732e 6772  self.key_lbls.gr
-00014120: 6964 2873 7469 636b 793d 4e57 290a 2020  id(sticky=NW).  
-00014130: 2020 2020 2020 7365 6c66 2e63 6170 203d        self.cap =
-00014140: 2063 7632 2e56 6964 656f 4361 7074 7572   cv2.VideoCaptur
-00014150: 6528 6669 6c65 5f70 6174 6829 0a20 2020  e(file_path).   
-00014160: 2020 2020 205f 2c20 7365 6c66 2e69 6d67       _, self.img
-00014170: 203d 2073 656c 662e 6361 702e 7265 6164   = self.cap.read
-00014180: 2829 0a20 2020 2020 2020 2073 656c 662e  ().        self.
-00014190: 5f6f 7269 675f 696d 6720 3d20 6376 322e  _orig_img = cv2.
-000141a0: 6376 7443 6f6c 6f72 2873 656c 662e 696d  cvtColor(self.im
-000141b0: 672c 2063 7632 2e43 4f4c 4f52 5f52 4742  g, cv2.COLOR_RGB
-000141c0: 3242 4752 290a 2020 2020 2020 2020 7365  2BGR).        se
-000141d0: 6c66 2e5f 5f69 6e73 6572 745f 696d 6728  lf.__insert_img(
-000141e0: 696d 673d 7365 6c66 2e5f 6f72 6967 5f69  img=self._orig_i
-000141f0: 6d67 290a 2020 2020 2020 2020 7365 6c66  mg).        self
-00014200: 2e5f 5f62 696e 645f 6b65 7973 2829 0a0a  .__bind_keys()..
-00014210: 2020 2020 6465 6620 7275 6e28 7365 6c66      def run(self
-00014220: 293a 0a20 2020 2020 2020 2073 656c 662e  ):.        self.
-00014230: 7265 7375 6c74 7320 3d20 7b7d 0a20 2020  results = {}.   
-00014240: 2020 2020 2066 6f72 2076 6964 656f 5f70       for video_p
-00014250: 6174 6820 696e 2073 656c 662e 7669 6465  ath in self.vide
-00014260: 6f5f 7061 7468 733a 0a20 2020 2020 2020  o_paths:.       
-00014270: 2020 2020 2073 656c 662e 5f5f 7275 6e5f       self.__run_
-00014280: 696e 7465 7266 6163 6528 7669 6465 6f5f  interface(video_
-00014290: 7061 7468 290a 2020 2020 2020 2020 7365  path).        se
-000142a0: 6c66 2e6d 6169 6e5f 6672 6d2e 6d61 696e  lf.main_frm.main
-000142b0: 6c6f 6f70 2829 0a0a 0a64 6566 2065 7874  loop()...def ext
-000142c0: 7261 6374 5f66 7261 6d65 735f 6672 6f6d  ract_frames_from
-000142d0: 5f61 6c6c 5f76 6964 656f 735f 696e 5f64  _all_videos_in_d
-000142e0: 6972 6563 746f 7279 280a 2020 2020 636f  irectory(.    co
-000142f0: 6e66 6967 5f70 6174 683a 2055 6e69 6f6e  nfig_path: Union
-00014300: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
-00014310: 655d 2c20 6469 7265 6374 6f72 793a 2055  e], directory: U
-00014320: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
-00014330: 684c 696b 655d 0a29 202d 3e20 4e6f 6e65  hLike].) -> None
-00014340: 3a0a 2020 2020 2222 220a 2020 2020 4578  :.    """.    Ex
-00014350: 7472 6163 7420 616c 6c20 6672 616d 6573  tract all frames
-00014360: 2066 726f 6d20 616c 6c20 7669 6465 6f73   from all videos
-00014370: 2069 6e20 6120 6469 7265 6374 6f72 792e   in a directory.
-00014380: 2054 6865 2072 6573 756c 7473 2061 7265   The results are
-00014390: 2073 6176 6564 2069 6e20 7468 6520 7072   saved in the pr
-000143a0: 6f6a 6563 745f 666f 6c64 6572 2f66 7261  oject_folder/fra
-000143b0: 6d65 732f 696e 7075 7420 6469 7265 6374  mes/input direct
-000143c0: 6f72 7920 6f66 2074 6865 2053 696d 4241  ory of the SimBA
-000143d0: 2070 726f 6a65 6374 0a0a 2020 2020 3a70   project..    :p
-000143e0: 6172 616d 6574 6572 2073 7472 2063 6f6e  arameter str con
-000143f0: 6669 675f 7061 7468 3a20 7061 7468 2074  fig_path: path t
-00014400: 6f20 5369 6d42 4120 7072 6f6a 6563 7420  o SimBA project 
-00014410: 636f 6e66 6967 2066 696c 6520 696e 2043  config file in C
-00014420: 6f6e 6669 6770 6172 7365 7220 666f 726d  onfigparser form
-00014430: 6174 2e0a 2020 2020 3a70 6172 616d 6574  at..    :paramet
-00014440: 6572 2073 7472 2064 6972 6563 746f 7279  er str directory
-00014450: 3a20 7061 7468 2074 6f20 6669 6c65 206f  : path to file o
-00014460: 7220 666f 6c64 6572 2063 6f6e 7461 696e  r folder contain
-00014470: 696e 6720 7669 6465 6f73 2069 6e20 6d70  ing videos in mp
-00014480: 3420 616e 642f 6f72 2061 7669 2066 6f72  4 and/or avi for
-00014490: 6d61 742e 0a0a 2020 2020 3a65 7861 6d70  mat...    :examp
-000144a0: 6c65 3a0a 2020 2020 3e3e 3e20 6578 7472  le:.    >>> extr
-000144b0: 6163 745f 6672 616d 6573 5f66 726f 6d5f  act_frames_from_
-000144c0: 616c 6c5f 7669 6465 6f73 5f69 6e5f 6469  all_videos_in_di
-000144d0: 7265 6374 6f72 7928 636f 6e66 6967 5f70  rectory(config_p
-000144e0: 6174 683d 2770 726f 6a65 6374 5f66 6f6c  ath='project_fol
-000144f0: 6465 722f 7072 6f6a 6563 745f 636f 6e66  der/project_conf
-00014500: 6967 2e69 6e69 272c 2073 6f75 7263 653d  ig.ini', source=
-00014510: 272f 7465 7374 732f 7465 7374 5f64 6174  '/tests/test_dat
-00014520: 612f 7669 6465 6f5f 7465 7374 7327 290a  a/video_tests').
-00014530: 2020 2020 2222 220a 0a20 2020 2074 696d      """..    tim
-00014540: 6572 203d 2053 696d 6261 5469 6d65 7228  er = SimbaTimer(
-00014550: 7374 6172 743d 5472 7565 290a 2020 2020  start=True).    
-00014560: 7669 6465 6f5f 7061 7468 732c 2076 6964  video_paths, vid
-00014570: 656f 5f74 7970 6573 203d 205b 5d2c 205b  eo_types = [], [
-00014580: 222e 6176 6922 2c20 222e 6d70 3422 5d0a  ".avi", ".mp4"].
-00014590: 2020 2020 6669 6c65 735f 696e 5f66 6f6c      files_in_fol
-000145a0: 6465 7220 3d20 676c 6f62 2e67 6c6f 6228  der = glob.glob(
-000145b0: 6469 7265 6374 6f72 7920 2b20 222f 2a22  directory + "/*"
-000145c0: 290a 2020 2020 666f 7220 6669 6c65 5f70  ).    for file_p
-000145d0: 6174 6820 696e 2066 696c 6573 5f69 6e5f  ath in files_in_
-000145e0: 666f 6c64 6572 3a0a 2020 2020 2020 2020  folder:.        
-000145f0: 5f2c 205f 2c20 6578 7420 3d20 6765 745f  _, _, ext = get_
-00014600: 666e 5f65 7874 2866 696c 6570 6174 683d  fn_ext(filepath=
-00014610: 6669 6c65 5f70 6174 6829 0a20 2020 2020  file_path).     
-00014620: 2020 2069 6620 6578 742e 6c6f 7765 7228     if ext.lower(
-00014630: 2920 696e 2076 6964 656f 5f74 7970 6573  ) in video_types
-00014640: 3a0a 2020 2020 2020 2020 2020 2020 7669  :.            vi
-00014650: 6465 6f5f 7061 7468 732e 6170 7065 6e64  deo_paths.append
-00014660: 2866 696c 655f 7061 7468 290a 2020 2020  (file_path).    
-00014670: 6966 206c 656e 2876 6964 656f 5f70 6174  if len(video_pat
-00014680: 6873 2920 3d3d 2030 3a0a 2020 2020 2020  hs) == 0:.      
-00014690: 2020 7261 6973 6520 4e6f 4669 6c65 7346    raise NoFilesF
-000146a0: 6f75 6e64 4572 726f 7228 0a20 2020 2020  oundError(.     
-000146b0: 2020 2020 2020 206d 7367 3d66 2253 494d         msg=f"SIM
-000146c0: 4241 2045 5252 4f52 3a20 3020 7669 6465  BA ERROR: 0 vide
-000146d0: 6f20 6669 6c65 7320 696e 206d 7034 206f  o files in mp4 o
-000146e0: 7220 6176 6920 666f 726d 6174 2066 6f75  r avi format fou
-000146f0: 6e64 2069 6e20 7b64 6972 6563 746f 7279  nd in {directory
-00014700: 7d22 2c0a 2020 2020 2020 2020 2020 2020  }",.            
-00014710: 736f 7572 6365 3d65 7874 7261 6374 5f66  source=extract_f
-00014720: 7261 6d65 735f 6672 6f6d 5f61 6c6c 5f76  rames_from_all_v
-00014730: 6964 656f 735f 696e 5f64 6972 6563 746f  ideos_in_directo
-00014740: 7279 2e5f 5f6e 616d 655f 5f2c 0a20 2020  ry.__name__,.   
-00014750: 2020 2020 2029 0a20 2020 2063 6f6e 6669       ).    confi
-00014760: 6720 3d20 7265 6164 5f63 6f6e 6669 675f  g = read_config_
-00014770: 6669 6c65 2863 6f6e 6669 675f 7061 7468  file(config_path
-00014780: 290a 2020 2020 7072 6f6a 6563 745f 7061  ).    project_pa
-00014790: 7468 203d 2072 6561 645f 636f 6e66 6967  th = read_config
-000147a0: 5f65 6e74 7279 280a 2020 2020 2020 2020  _entry(.        
-000147b0: 636f 6e66 6967 2c20 2247 656e 6572 616c  config, "General
-000147c0: 2073 6574 7469 6e67 7322 2c20 2270 726f   settings", "pro
-000147d0: 6a65 6374 5f70 6174 6822 2c20 6461 7461  ject_path", data
-000147e0: 5f74 7970 653d 2266 6f6c 6465 725f 7061  _type="folder_pa
-000147f0: 7468 220a 2020 2020 290a 0a20 2020 2070  th".    )..    p
-00014800: 7269 6e74 280a 2020 2020 2020 2020 2245  rint(.        "E
-00014810: 7874 7261 6374 696e 6720 6672 616d 6573  xtracting frames
-00014820: 2066 6f72 207b 7d20 7669 6465 6f73 2069   for {} videos i
-00014830: 6e74 6f20 7072 6f6a 6563 745f 666f 6c64  nto project_fold
-00014840: 6572 2f66 7261 6d65 732f 696e 7075 7420  er/frames/input 
-00014850: 6469 7265 6374 6f72 792e 2e2e 222e 666f  directory...".fo
-00014860: 726d 6174 280a 2020 2020 2020 2020 2020  rmat(.          
-00014870: 2020 6c65 6e28 7669 6465 6f5f 7061 7468    len(video_path
-00014880: 7329 0a20 2020 2020 2020 2029 0a20 2020  s).        ).   
-00014890: 2029 0a20 2020 2066 6f72 2076 6964 656f   ).    for video
-000148a0: 5f70 6174 6820 696e 2076 6964 656f 5f70  _path in video_p
-000148b0: 6174 6873 3a0a 2020 2020 2020 2020 6469  aths:.        di
-000148c0: 725f 6e61 6d65 2c20 7669 6465 6f5f 6e61  r_name, video_na
-000148d0: 6d65 2c20 6578 7420 3d20 6765 745f 666e  me, ext = get_fn
-000148e0: 5f65 7874 2876 6964 656f 5f70 6174 6829  _ext(video_path)
-000148f0: 0a20 2020 2020 2020 2073 6176 655f 7061  .        save_pa
-00014900: 7468 203d 206f 732e 7061 7468 2e6a 6f69  th = os.path.joi
-00014910: 6e28 7072 6f6a 6563 745f 7061 7468 2c20  n(project_path, 
-00014920: 2266 7261 6d65 7322 2c20 2269 6e70 7574  "frames", "input
-00014930: 222c 2076 6964 656f 5f6e 616d 6529 0a20  ", video_name). 
-00014940: 2020 2020 2020 2069 6620 6e6f 7420 6f73         if not os
-00014950: 2e70 6174 682e 6578 6973 7473 2873 6176  .path.exists(sav
-00014960: 655f 7061 7468 293a 0a20 2020 2020 2020  e_path):.       
-00014970: 2020 2020 206f 732e 6d61 6b65 6469 7273       os.makedirs
-00014980: 2873 6176 655f 7061 7468 290a 2020 2020  (save_path).    
-00014990: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-000149a0: 2020 2020 2020 7072 696e 7428 0a20 2020        print(.   
-000149b0: 2020 2020 2020 2020 2020 2020 2066 2246               f"F
-000149c0: 7261 6d65 7320 666f 7220 7669 6465 6f20  rames for video 
-000149d0: 7b76 6964 656f 5f6e 616d 657d 2061 6c72  {video_name} alr
-000149e0: 6561 6479 2065 7874 7261 6374 6564 2e20  eady extracted. 
-000149f0: 5369 6d42 4120 6973 206f 7665 7277 7269  SimBA is overwri
-00014a00: 7469 6e67 2070 7269 6f72 2066 7261 6d65  ting prior frame
-00014a10: 732e 2e2e 220a 2020 2020 2020 2020 2020  s...".          
-00014a20: 2020 290a 2020 2020 2020 2020 7669 6465    ).        vide
-00014a30: 6f5f 746f 5f66 7261 6d65 7328 7669 6465  o_to_frames(vide
-00014a40: 6f5f 7061 7468 2c20 7361 7665 5f70 6174  o_path, save_pat
-00014a50: 682c 206f 7665 7277 7269 7465 3d54 7275  h, overwrite=Tru
-00014a60: 652c 2065 7665 7279 3d31 2c20 6368 756e  e, every=1, chun
-00014a70: 6b5f 7369 7a65 3d31 3030 3029 0a20 2020  k_size=1000).   
-00014a80: 2074 696d 6572 2e73 746f 705f 7469 6d65   timer.stop_time
-00014a90: 7228 290a 2020 2020 7374 646f 7574 5f73  r().    stdout_s
-00014aa0: 7563 6365 7373 280a 2020 2020 2020 2020  uccess(.        
-00014ab0: 6622 4672 616d 6573 2063 7265 6174 6564  f"Frames created
-00014ac0: 2066 6f72 207b 7374 7228 6c65 6e28 7669   for {str(len(vi
-00014ad0: 6465 6f5f 7061 7468 7329 297d 2076 6964  deo_paths))} vid
-00014ae0: 656f 7322 2c0a 2020 2020 2020 2020 656c  eos",.        el
-00014af0: 6170 7365 645f 7469 6d65 3d74 696d 6572  apsed_time=timer
-00014b00: 2e65 6c61 7073 6564 5f74 696d 655f 7374  .elapsed_time_st
-00014b10: 722c 0a20 2020 2020 2020 2073 6f75 7263  r,.        sourc
-00014b20: 653d 6578 7472 6163 745f 6672 616d 6573  e=extract_frames
-00014b30: 5f66 726f 6d5f 616c 6c5f 7669 6465 6f73  _from_all_videos
-00014b40: 5f69 6e5f 6469 7265 6374 6f72 792e 5f5f  _in_directory.__
-00014b50: 6e61 6d65 5f5f 2c0a 2020 2020 290a 0a0a  name__,.    )...
-00014b60: 6465 6620 636f 7079 5f69 6d67 5f66 6f6c  def copy_img_fol
-00014b70: 6465 7228 0a20 2020 2063 6f6e 6669 675f  der(.    config_
-00014b80: 7061 7468 3a20 556e 696f 6e5b 7374 722c  path: Union[str,
-00014b90: 206f 732e 5061 7468 4c69 6b65 5d2c 2073   os.PathLike], s
-00014ba0: 6f75 7263 653a 2055 6e69 6f6e 5b73 7472  ource: Union[str
-00014bb0: 2c20 6f73 2e50 6174 684c 696b 655d 0a29  , os.PathLike].)
-00014bc0: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2222   -> None:.    ""
-00014bd0: 220a 2020 2020 436f 7079 2064 6972 6563  ".    Copy direc
-00014be0: 746f 7279 206f 6620 706e 6720 6669 6c65  tory of png file
-00014bf0: 7320 746f 2074 6865 2053 696d 4241 2070  s to the SimBA p
-00014c00: 726f 6a65 6374 2e20 5468 6520 6469 7265  roject. The dire
-00014c10: 6374 6f72 7920 6973 2073 746f 7265 6420  ctory is stored 
-00014c20: 696e 2074 6865 2070 726f 6a65 6374 5f66  in the project_f
-00014c30: 6f6c 6465 722f 6672 616d 6573 2f69 6e70  older/frames/inp
-00014c40: 7574 2066 6f6c 6465 7220 6f66 2074 6865  ut folder of the
-00014c50: 2053 696d 4241 2070 726f 6a65 6374 0a0a   SimBA project..
-00014c60: 2020 2020 3a70 6172 616d 6574 6572 2073      :parameter s
-00014c70: 7472 2063 6f6e 6669 675f 7061 7468 3a20  tr config_path: 
-00014c80: 7061 7468 2074 6f20 5369 6d42 4120 7072  path to SimBA pr
-00014c90: 6f6a 6563 7420 636f 6e66 6967 2066 696c  oject config fil
-00014ca0: 6520 696e 2043 6f6e 6669 6770 6172 7365  e in Configparse
-00014cb0: 7220 666f 726d 6174 2e0a 2020 2020 3a70  r format..    :p
-00014cc0: 6172 616d 6574 6572 2073 7472 2073 6f75  arameter str sou
-00014cd0: 7263 653a 2070 6174 6820 746f 2069 6d61  rce: path to ima
-00014ce0: 6765 2066 6f6c 6465 7220 6f75 7473 6964  ge folder outsid
-00014cf0: 6520 5369 6d42 4120 7072 6f6a 6563 742e  e SimBA project.
-00014d00: 0a0a 2020 2020 3a65 7861 6d70 6c65 3a0a  ..    :example:.
-00014d10: 2020 2020 3e3e 3e20 636f 7079 5f69 6d67      >>> copy_img
-00014d20: 5f66 6f6c 6465 7228 636f 6e66 6967 5f70  _folder(config_p
-00014d30: 6174 683d 274d 7953 696d 4241 7072 6f6a  ath='MySimBAproj
-00014d40: 6563 7443 6f6e 6669 6727 2c20 736f 7572  ectConfig', sour
-00014d50: 6365 3d27 2f44 6972 6563 746f 7279 5769  ce='/DirectoryWi
-00014d60: 7468 5669 6465 6f73 2f27 290a 0a20 2020  thVideos/')..   
-00014d70: 2022 2222 0a20 2020 2074 696d 6572 203d   """.    timer =
-00014d80: 2053 696d 6261 5469 6d65 7228 7374 6172   SimbaTimer(star
-00014d90: 743d 5472 7565 290a 2020 2020 6966 206e  t=True).    if n
-00014da0: 6f74 206f 732e 7061 7468 2e69 7364 6972  ot os.path.isdir
-00014db0: 2873 6f75 7263 6529 3a0a 2020 2020 2020  (source):.      
-00014dc0: 2020 7261 6973 6520 4e6f 7444 6972 6563    raise NotDirec
-00014dd0: 746f 7279 4572 726f 7228 0a20 2020 2020  toryError(.     
-00014de0: 2020 2020 2020 206d 7367 3d66 2253 494d         msg=f"SIM
-00014df0: 4241 2045 5252 4f52 3a20 736f 7572 6365  BA ERROR: source
-00014e00: 207b 736f 7572 6365 7d20 6973 206e 6f74   {source} is not
-00014e10: 2061 2064 6972 6563 746f 7279 2e22 2c0a   a directory.",.
-00014e20: 2020 2020 2020 2020 2020 2020 736f 7572              sour
-00014e30: 6365 3d63 6f70 795f 696d 675f 666f 6c64  ce=copy_img_fold
-00014e40: 6572 2e5f 5f6e 616d 655f 5f2c 0a20 2020  er.__name__,.   
-00014e50: 2020 2020 2029 0a20 2020 2069 6620 6c65       ).    if le
-00014e60: 6e28 676c 6f62 2e67 6c6f 6228 736f 7572  n(glob.glob(sour
-00014e70: 6365 202b 2022 2f2a 2e70 6e67 2229 2920  ce + "/*.png")) 
-00014e80: 3d3d 2030 3a0a 2020 2020 2020 2020 7261  == 0:.        ra
-00014e90: 6973 6520 4e6f 4669 6c65 7346 6f75 6e64  ise NoFilesFound
-00014ea0: 4572 726f 7228 0a20 2020 2020 2020 2020  Error(.         
-00014eb0: 2020 206d 7367 3d66 2253 494d 4241 2045     msg=f"SIMBA E
-00014ec0: 5252 4f52 3a20 736f 7572 6365 207b 736f  RROR: source {so
-00014ed0: 7572 6365 7d20 646f 6573 206e 6f74 2063  urce} does not c
-00014ee0: 6f6e 7461 696e 2061 6e79 202e 706e 6720  ontain any .png 
-00014ef0: 6669 6c65 732e 222c 0a20 2020 2020 2020  files.",.       
-00014f00: 2020 2020 2073 6f75 7263 653d 636f 7079       source=copy
-00014f10: 5f69 6d67 5f66 6f6c 6465 722e 5f5f 6e61  _img_folder.__na
-00014f20: 6d65 5f5f 2c0a 2020 2020 2020 2020 290a  me__,.        ).
-00014f30: 2020 2020 696e 7075 745f 6261 7365 6e61      input_basena
-00014f40: 6d65 203d 206f 732e 7061 7468 2e62 6173  me = os.path.bas
-00014f50: 656e 616d 6528 736f 7572 6365 290a 2020  ename(source).  
-00014f60: 2020 636f 6e66 6967 203d 2072 6561 645f    config = read_
-00014f70: 636f 6e66 6967 5f66 696c 6528 636f 6e66  config_file(conf
-00014f80: 6967 5f70 6174 6829 0a20 2020 2070 726f  ig_path).    pro
-00014f90: 6a65 6374 5f70 6174 6820 3d20 7265 6164  ject_path = read
-00014fa0: 5f63 6f6e 6669 675f 656e 7472 7928 0a20  _config_entry(. 
-00014fb0: 2020 2020 2020 2063 6f6e 6669 672c 0a20         config,. 
-00014fc0: 2020 2020 2020 2043 6f6e 6669 674b 6579         ConfigKey
-00014fd0: 2e47 454e 4552 414c 5f53 4554 5449 4e47  .GENERAL_SETTING
-00014fe0: 532e 7661 6c75 652c 0a20 2020 2020 2020  S.value,.       
-00014ff0: 2043 6f6e 6669 674b 6579 2e50 524f 4a45   ConfigKey.PROJE
-00015000: 4354 5f50 4154 482e 7661 6c75 652c 0a20  CT_PATH.value,. 
-00015010: 2020 2020 2020 2064 6174 615f 7479 7065         data_type
-00015020: 3d22 666f 6c64 6572 5f70 6174 6822 2c0a  ="folder_path",.
-00015030: 2020 2020 290a 2020 2020 696e 7075 745f      ).    input_
-00015040: 6672 616d 6573 5f64 6972 203d 206f 732e  frames_dir = os.
-00015050: 7061 7468 2e6a 6f69 6e28 7072 6f6a 6563  path.join(projec
-00015060: 745f 7061 7468 2c20 5061 7468 732e 494e  t_path, Paths.IN
-00015070: 5055 545f 4652 414d 4553 5f44 4952 2e76  PUT_FRAMES_DIR.v
-00015080: 616c 7565 290a 2020 2020 6465 7374 696e  alue).    destin
-00015090: 6174 696f 6e20 3d20 6f73 2e70 6174 682e  ation = os.path.
-000150a0: 6a6f 696e 2869 6e70 7574 5f66 7261 6d65  join(input_frame
-000150b0: 735f 6469 722c 2069 6e70 7574 5f62 6173  s_dir, input_bas
-000150c0: 656e 616d 6529 0a20 2020 2069 6620 6f73  ename).    if os
-000150d0: 2e70 6174 682e 6973 6469 7228 6465 7374  .path.isdir(dest
-000150e0: 696e 6174 696f 6e29 3a0a 2020 2020 2020  ination):.      
-000150f0: 2020 7261 6973 6520 4469 7265 6374 6f72    raise Director
-00015100: 7945 7869 7374 4572 726f 7228 0a20 2020  yExistError(.   
-00015110: 2020 2020 2020 2020 206d 7367 3d66 2253           msg=f"S
-00015120: 494d 4241 2045 5252 4f52 3a20 7b64 6573  IMBA ERROR: {des
-00015130: 7469 6e61 7469 6f6e 7d20 616c 7265 6164  tination} alread
-00015140: 7920 6578 6973 7420 696e 2053 696d 4241  y exist in SimBA
-00015150: 2070 726f 6a65 6374 2e22 2c0a 2020 2020   project.",.    
-00015160: 2020 2020 2020 2020 736f 7572 6365 3d63          source=c
-00015170: 6f70 795f 696d 675f 666f 6c64 6572 2e5f  opy_img_folder._
-00015180: 5f6e 616d 655f 5f2c 0a20 2020 2020 2020  _name__,.       
-00015190: 2029 0a20 2020 2070 7269 6e74 2866 2249   ).    print(f"I
-000151a0: 6d70 6f72 7469 6e67 2069 6d61 6765 2066  mporting image f
-000151b0: 696c 6573 2066 6f72 207b 696e 7075 745f  iles for {input_
-000151c0: 6261 7365 6e61 6d65 7d2e 2e2e 2229 0a20  basename}..."). 
-000151d0: 2020 2073 6875 7469 6c2e 636f 7079 7472     shutil.copytr
-000151e0: 6565 2873 6f75 7263 652c 2064 6573 7469  ee(source, desti
-000151f0: 6e61 7469 6f6e 290a 2020 2020 7469 6d65  nation).    time
-00015200: 722e 7374 6f70 5f74 696d 6572 2829 0a20  r.stop_timer(). 
-00015210: 2020 2073 7464 6f75 745f 7375 6363 6573     stdout_succes
-00015220: 7328 0a20 2020 2020 2020 206d 7367 3d66  s(.        msg=f
-00015230: 227b 6465 7374 696e 6174 696f 6e7d 2069  "{destination} i
-00015240: 6d70 6f72 7465 6420 746f 2053 696d 4241  mported to SimBA
-00015250: 2070 726f 6a65 6374 222c 0a20 2020 2020   project",.     
-00015260: 2020 2065 6c61 7073 6564 5f74 696d 653d     elapsed_time=
-00015270: 7469 6d65 722e 656c 6170 7365 645f 7469  timer.elapsed_ti
-00015280: 6d65 5f73 7472 2c0a 2020 2020 2020 2020  me_str,.        
-00015290: 736f 7572 6365 3d63 6f70 795f 696d 675f  source=copy_img_
-000152a0: 666f 6c64 6572 2e5f 5f6e 616d 655f 5f2c  folder.__name__,
-000152b0: 0a20 2020 2029 0a0a 0a64 6566 2061 7070  .    )...def app
-000152c0: 656e 645f 6175 6469 6f28 0a20 2020 2076  end_audio(.    v
-000152d0: 6964 656f 5f70 6174 683a 2055 6e69 6f6e  ideo_path: Union
-000152e0: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
-000152f0: 655d 2c0a 2020 2020 6175 6469 6f5f 7061  e],.    audio_pa
-00015300: 7468 3a20 556e 696f 6e5b 7374 722c 206f  th: Union[str, o
-00015310: 732e 5061 7468 4c69 6b65 5d2c 0a20 2020  s.PathLike],.   
-00015320: 2061 7564 696f 5f73 7263 5f74 7970 653a   audio_src_type:
-00015330: 204c 6974 6572 616c 5b22 7669 6465 6f22   Literal["video"
-00015340: 2c20 2261 7564 696f 225d 203d 2022 7669  , "audio"] = "vi
-00015350: 6465 6f22 2c0a 2920 2d3e 204e 6f6e 653a  deo",.) -> None:
-00015360: 0a20 2020 2022 2222 0a20 2020 2041 7070  .    """.    App
-00015370: 656e 6420 6175 6469 6f20 7472 6163 6b20  end audio track 
-00015380: 6672 6f6d 206f 6e65 2076 6964 656f 2074  from one video t
-00015390: 6f20 616e 6f74 6865 7220 7669 6465 6f20  o another video 
-000153a0: 7769 7468 6f75 7420 616e 2061 7564 696f  without an audio
-000153b0: 2074 7261 636b 2e0a 0a20 2020 203a 7061   track...    :pa
-000153c0: 7261 6d20 556e 696f 6e5b 7374 722c 206f  ram Union[str, o
-000153d0: 732e 5061 7468 4c69 6b65 5d20 7669 6465  s.PathLike] vide
-000153e0: 6f5f 6f6e 655f 7061 7468 3a20 5061 7468  o_one_path: Path
-000153f0: 2074 6f20 7669 6465 6f20 6669 6c65 2077   to video file w
-00015400: 6974 686f 7574 2061 7564 696f 2074 7261  ithout audio tra
-00015410: 636b 2e0a 2020 2020 3a70 6172 616d 2055  ck..    :param U
-00015420: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
-00015430: 684c 696b 655d 2061 7564 696f 5f70 6174  hLike] audio_pat
-00015440: 683a 2050 6174 6820 746f 2066 696c 6520  h: Path to file 
-00015450: 2865 2e67 2e2c 2076 6964 656f 2920 7769  (e.g., video) wi
-00015460: 7468 2061 7564 696f 2074 7261 636b 2e0a  th audio track..
-00015470: 2020 2020 3a70 6172 616d 204c 6974 6572      :param Liter
-00015480: 616c 5b27 7669 6465 6f27 2c20 2761 7564  al['video', 'aud
-00015490: 696f 275d 2061 7564 696f 5f73 7263 5f74  io'] audio_src_t
-000154a0: 7970 653a 2054 7970 6520 6f66 2061 7564  ype: Type of aud
-000154b0: 696f 2073 6f75 7263 6520 6f66 2022 7669  io source of "vi
-000154c0: 6465 6f5f 7477 6f5f 7061 7468 2220 2865  deo_two_path" (e
-000154d0: 2e67 2e2c 2076 6964 656f 206f 7220 6175  .g., video or au
-000154e0: 6469 6f20 6669 6c65 292e 0a0a 2020 2020  dio file)...    
-000154f0: 3a65 7861 6d70 6c65 3a0a 2020 2020 3e3e  :example:.    >>
-00015500: 3e20 6170 7065 6e64 5f61 7564 696f 2876  > append_audio(v
-00015510: 6964 656f 5f70 6174 683d 272f 5573 6572  ideo_path='/User
-00015520: 732f 7369 6d6f 6e2f 4465 736b 746f 702f  s/simon/Desktop/
-00015530: 656e 7673 2f74 726f 7562 6c65 7368 6f6f  envs/troubleshoo
-00015540: 7469 6e67 2f74 776f 5f62 6c61 636b 5f61  ting/two_black_a
-00015550: 6e69 6d61 6c73 5f31 3462 702f 7072 6f6a  nimals_14bp/proj
-00015560: 6563 745f 666f 6c64 6572 2f76 6964 656f  ect_folder/video
-00015570: 732f 6d65 7267 6564 5f76 6964 656f 5f32  s/merged_video_2
-00015580: 3032 3330 3432 3532 3031 3633 372e 6d70  0230425201637.mp
-00015590: 3427 2c0a 2020 2020 3e3e 3e20 6175 6469  4',.    >>> audi
-000155a0: 6f5f 7061 7468 3d22 2f55 7365 7273 2f73  o_path="/Users/s
-000155b0: 696d 6f6e 2f44 6f63 756d 656e 7473 2f5a  imon/Documents/Z
-000155c0: 6f6f 6d2f 6464 642f 7669 6465 6f31 3138  oom/ddd/video118
-000155d0: 3037 3332 3233 332e 6d70 3422 290a 2020  0732233.mp4").  
-000155e0: 2020 2222 220a 0a20 2020 2069 6620 6e6f    """..    if no
-000155f0: 7420 6368 6563 6b5f 6666 6d70 6567 5f61  t check_ffmpeg_a
-00015600: 7661 696c 6162 6c65 2829 3a0a 2020 2020  vailable():.    
-00015610: 2020 2020 7261 6973 6520 4646 4d50 4547      raise FFMPEG
-00015620: 4e6f 7446 6f75 6e64 4572 726f 7228 0a20  NotFoundError(. 
-00015630: 2020 2020 2020 2020 2020 206d 7367 3d22             msg="
-00015640: 4646 4d70 6567 206e 6f74 2066 6f75 6e64  FFMpeg not found
-00015650: 206f 6e20 636f 6d70 7574 6572 2e20 5365   on computer. Se
-00015660: 6520 5369 6d42 4120 646f 6373 2066 6f72  e SimBA docs for
-00015670: 2069 6e73 7461 6c6c 2069 6e73 7472 7563   install instruc
-00015680: 7469 6f6e 732e 222c 0a20 2020 2020 2020  tions.",.       
-00015690: 2020 2020 2073 6f75 7263 653d 6170 7065       source=appe
-000156a0: 6e64 5f61 7564 696f 2e5f 5f6e 616d 655f  nd_audio.__name_
-000156b0: 5f2c 0a20 2020 2020 2020 2029 0a20 2020  _,.        ).   
-000156c0: 2063 6865 636b 5f66 696c 655f 6578 6973   check_file_exis
-000156d0: 745f 616e 645f 7265 6164 6162 6c65 2866  t_and_readable(f
-000156e0: 696c 655f 7061 7468 3d76 6964 656f 5f70  ile_path=video_p
-000156f0: 6174 6829 0a20 2020 2063 6865 636b 5f66  ath).    check_f
-00015700: 696c 655f 6578 6973 745f 616e 645f 7265  ile_exist_and_re
-00015710: 6164 6162 6c65 2866 696c 655f 7061 7468  adable(file_path
-00015720: 3d61 7564 696f 5f70 6174 6829 0a20 2020  =audio_path).   
-00015730: 2076 6964 656f 5f6d 6574 615f 6461 7461   video_meta_data
-00015740: 203d 2067 6574 5f76 6964 656f 5f6d 6574   = get_video_met
-00015750: 615f 6461 7461 2876 6964 656f 5f70 6174  a_data(video_pat
-00015760: 683d 7669 6465 6f5f 7061 7468 290a 2020  h=video_path).  
-00015770: 2020 6175 6469 6f5f 7372 635f 6d65 7461    audio_src_meta
-00015780: 5f64 6174 6120 3d20 6765 745f 7669 6465  _data = get_vide
-00015790: 6f5f 6d65 7461 5f64 6174 6128 7669 6465  o_meta_data(vide
-000157a0: 6f5f 7061 7468 3d61 7564 696f 5f70 6174  o_path=audio_pat
-000157b0: 6829 0a20 2020 2073 6176 655f 7061 7468  h).    save_path
-000157c0: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
-000157d0: 0a20 2020 2020 2020 206f 732e 7061 7468  .        os.path
-000157e0: 2e64 6972 6e61 6d65 2876 6964 656f 5f70  .dirname(video_p
-000157f0: 6174 6829 2c20 6765 745f 666e 5f65 7874  ath), get_fn_ext
-00015800: 2866 696c 6570 6174 683d 7669 6465 6f5f  (filepath=video_
-00015810: 7061 7468 295b 315d 202b 2022 5f77 5f61  path)[1] + "_w_a
-00015820: 7564 696f 2e6d 7034 220a 2020 2020 290a  udio.mp4".    ).
-00015830: 2020 2020 636d 6420 3d20 5b0a 2020 2020      cmd = [.    
-00015840: 2020 2020 2266 6670 726f 6265 222c 0a20      "ffprobe",. 
-00015850: 2020 2020 2020 2022 2d76 222c 0a20 2020         "-v",.   
-00015860: 2020 2020 2022 6572 726f 7222 2c0a 2020       "error",.  
-00015870: 2020 2020 2020 222d 7365 6c65 6374 5f73        "-select_s
-00015880: 7472 6561 6d73 222c 0a20 2020 2020 2020  treams",.       
-00015890: 2022 613a 3022 2c0a 2020 2020 2020 2020   "a:0",.        
-000158a0: 222d 7368 6f77 5f65 6e74 7269 6573 222c  "-show_entries",
-000158b0: 0a20 2020 2020 2020 2022 7374 7265 616d  .        "stream
-000158c0: 3d63 6f64 6563 5f6e 616d 6522 2c0a 2020  =codec_name",.  
-000158d0: 2020 2020 2020 222d 6f66 222c 0a20 2020        "-of",.   
-000158e0: 2020 2020 2022 6465 6661 756c 743d 6e6f       "default=no
-000158f0: 7072 696e 745f 7772 6170 7065 7273 3d31  print_wrappers=1
-00015900: 3a6e 6f6b 6579 3d31 222c 0a20 2020 2020  :nokey=1",.     
-00015910: 2020 2061 7564 696f 5f70 6174 682c 0a20     audio_path,. 
-00015920: 2020 205d 0a20 2020 2074 7279 3a0a 2020     ].    try:.  
-00015930: 2020 2020 2020 7472 6163 6b5f 7479 7065        track_type
-00015940: 203d 2028 0a20 2020 2020 2020 2020 2020   = (.           
-00015950: 2073 7562 7072 6f63 6573 732e 6368 6563   subprocess.chec
-00015960: 6b5f 6f75 7470 7574 2863 6d64 2c20 7374  k_output(cmd, st
-00015970: 6465 7272 3d73 7562 7072 6f63 6573 732e  derr=subprocess.
-00015980: 5354 444f 5554 290a 2020 2020 2020 2020  STDOUT).        
-00015990: 2020 2020 2e64 6563 6f64 6528 2275 7466      .decode("utf
-000159a0: 2d38 2229 0a20 2020 2020 2020 2020 2020  -8").           
-000159b0: 202e 7374 7269 7028 290a 2020 2020 2020   .strip().      
-000159c0: 2020 290a 2020 2020 6578 6365 7074 2073    ).    except s
-000159d0: 7562 7072 6f63 6573 732e 4361 6c6c 6564  ubprocess.Called
-000159e0: 5072 6f63 6573 7345 7272 6f72 3a0a 2020  ProcessError:.  
-000159f0: 2020 2020 2020 7261 6973 6520 4e6f 4461        raise NoDa
-00015a00: 7461 4572 726f 7228 0a20 2020 2020 2020  taError(.       
-00015a10: 2020 2020 206d 7367 3d66 224e 6f20 6175       msg=f"No au
-00015a20: 6469 6f20 7472 6163 6b20 666f 756e 6420  dio track found 
-00015a30: 696e 2066 696c 6520 7b61 7564 696f 5f70  in file {audio_p
-00015a40: 6174 687d 222c 0a20 2020 2020 2020 2020  ath}",.         
-00015a50: 2020 2073 6f75 7263 653d 6170 7065 6e64     source=append
-00015a60: 5f61 7564 696f 2e5f 5f6e 616d 655f 5f2c  _audio.__name__,
-00015a70: 0a20 2020 2020 2020 2029 0a0a 2020 2020  .        )..    
-00015a80: 6966 2076 6964 656f 5f6d 6574 615f 6461  if video_meta_da
-00015a90: 7461 5b22 6672 616d 655f 636f 756e 7422  ta["frame_count"
-00015aa0: 5d20 213d 2061 7564 696f 5f73 7263 5f6d  ] != audio_src_m
-00015ab0: 6574 615f 6461 7461 5b22 6672 616d 655f  eta_data["frame_
-00015ac0: 636f 756e 7422 5d3a 0a20 2020 2020 2020  count"]:.       
-00015ad0: 2049 6e56 616c 6964 5573 6572 496e 7075   InValidUserInpu
-00015ae0: 7457 6172 6e69 6e67 280a 2020 2020 2020  tWarning(.      
-00015af0: 2020 2020 2020 6d73 673d 6627 5468 6520        msg=f'The 
-00015b00: 7669 6465 6f20 287b 7669 6465 6f5f 6d65  video ({video_me
-00015b10: 7461 5f64 6174 615b 2266 7261 6d65 5f63  ta_data["frame_c
-00015b20: 6f75 6e74 225d 7d29 2061 6e64 2061 7564  ount"]}) and aud
-00015b30: 696f 2073 6f75 7263 6520 287b 6175 6469  io source ({audi
-00015b40: 6f5f 7372 635f 6d65 7461 5f64 6174 615b  o_src_meta_data[
-00015b50: 2266 7261 6d65 5f63 6f75 6e74 225d 7d29  "frame_count"]})
-00015b60: 2064 6f65 7320 6e6f 7420 6861 7665 2061   does not have a
-00015b70: 6e20 6571 7561 6c20 6e75 6d62 6572 206f  n equal number o
-00015b80: 6620 6672 616d 6573 2e27 2c0a 2020 2020  f frames.',.    
-00015b90: 2020 2020 2020 2020 736f 7572 6365 3d61          source=a
-00015ba0: 7070 656e 645f 6175 6469 6f2e 5f5f 6e61  ppend_audio.__na
-00015bb0: 6d65 5f5f 2c0a 2020 2020 2020 2020 290a  me__,.        ).
-00015bc0: 0a20 2020 2063 6d64 203d 2066 2766 666d  .    cmd = f'ffm
-00015bd0: 7065 6720 2d69 2022 7b76 6964 656f 5f70  peg -i "{video_p
-00015be0: 6174 687d 2220 2d69 2022 7b61 7564 696f  ath}" -i "{audio
-00015bf0: 5f70 6174 687d 2220 2d63 3a76 2063 6f70  _path}" -c:v cop
-00015c00: 7920 2d6d 6170 2030 3a76 3a30 202d 6d61  y -map 0:v:0 -ma
-00015c10: 7020 313a 613a 3020 227b 7361 7665 5f70  p 1:a:0 "{save_p
-00015c20: 6174 687d 2220 2d79 270a 0a20 2020 2074  ath}" -y'..    t
-00015c30: 7279 3a0a 2020 2020 2020 2020 7375 6270  ry:.        subp
-00015c40: 726f 6365 7373 2e72 756e 2863 6d64 2c20  rocess.run(cmd, 
-00015c50: 7368 656c 6c3d 5472 7565 2c20 6368 6563  shell=True, chec
-00015c60: 6b3d 5472 7565 290a 2020 2020 6578 6365  k=True).    exce
-00015c70: 7074 2073 7562 7072 6f63 6573 732e 4361  pt subprocess.Ca
-00015c80: 6c6c 6564 5072 6f63 6573 7345 7272 6f72  lledProcessError
-00015c90: 2061 7320 653a 0a20 2020 2020 2020 2070   as e:.        p
-00015ca0: 7269 6e74 2822 4572 726f 723a 222c 2065  rint("Error:", e
-00015cb0: 290a 0a20 2020 2073 7464 6f75 745f 7375  )..    stdout_su
-00015cc0: 6363 6573 7328 0a20 2020 2020 2020 206d  ccess(.        m
-00015cd0: 7367 3d66 2241 7564 696f 206d 6572 6765  sg=f"Audio merge
-00015ce0: 6420 7375 6363 6573 7366 756c 6c79 2c20  d successfully, 
-00015cf0: 6669 6c65 2073 6176 6564 2061 7420 7b73  file saved at {s
-00015d00: 6176 655f 7061 7468 7d21 222c 0a20 2020  ave_path}!",.   
-00015d10: 2020 2020 2073 6f75 7263 653d 6170 7065       source=appe
-00015d20: 6e64 5f61 7564 696f 2e5f 5f6e 616d 655f  nd_audio.__name_
-00015d30: 5f2c 0a20 2020 2029 0a0a 0a64 6566 2063  _,.    )...def c
-00015d40: 726f 705f 7369 6e67 6c65 5f76 6964 656f  rop_single_video
-00015d50: 5f63 6972 636c 6528 6669 6c65 5f70 6174  _circle(file_pat
-00015d60: 683a 2055 6e69 6f6e 5b73 7472 2c20 6f73  h: Union[str, os
-00015d70: 2e50 6174 684c 696b 655d 2920 2d3e 204e  .PathLike]) -> N
-00015d80: 6f6e 653a 0a20 2020 2022 2222 0a20 2020  one:.    """.   
-00015d90: 2043 726f 7020 6120 7669 6465 6f20 6261   Crop a video ba
-00015da0: 7365 6420 6f6e 2063 6972 6375 6c61 7220  sed on circular 
-00015db0: 7265 6769 6f6e 7320 6f66 2069 6e74 6572  regions of inter
-00015dc0: 6573 7420 2852 4f49 7329 2073 656c 6563  est (ROIs) selec
-00015dd0: 7465 6420 6279 2074 6865 2075 7365 722e  ted by the user.
-00015de0: 0a0a 2020 2020 2e2e 2069 6d61 6765 3a3a  ..    .. image::
-00015df0: 205f 7374 6174 6963 2f69 6d67 2f63 726f   _static/img/cro
-00015e00: 705f 7369 6e67 6c65 5f76 6964 656f 5f63  p_single_video_c
-00015e10: 6972 636c 652e 6769 660a 2020 2020 2020  ircle.gif.      
-00015e20: 203a 7769 6474 683a 2036 3030 0a20 2020   :width: 600.   
-00015e30: 2020 2020 3a61 6c69 676e 3a20 6365 6e74      :align: cent
-00015e40: 6572 0a20 2020 202e 2e20 6e6f 7465 3a3a  er.    .. note::
-00015e50: 0a20 2020 2020 2020 5468 6973 2066 756e  .       This fun
-00015e60: 6374 696f 6e20 6372 6f70 7320 7468 6520  ction crops the 
-00015e70: 696e 7075 7420 7669 6465 6f20 6261 7365  input video base
-00015e80: 6420 6f6e 2063 6972 6375 6c61 7220 7265  d on circular re
-00015e90: 6769 6f6e 7320 6f66 2069 6e74 6572 6573  gions of interes
-00015ea0: 7420 2852 4f49 7329 2073 656c 6563 7465  t (ROIs) selecte
-00015eb0: 6420 6279 2074 6865 2075 7365 722e 0a20  d by the user.. 
-00015ec0: 2020 2020 2020 5468 6520 7573 6572 2069        The user i
-00015ed0: 7320 7072 6f6d 7074 6564 2074 6f20 7365  s prompted to se
-00015ee0: 6c65 6374 2061 2063 6972 6375 6c61 7220  lect a circular 
-00015ef0: 524f 4920 6f6e 2074 6865 2076 6964 656f  ROI on the video
-00015f00: 2066 7261 6d65 2c20 616e 6420 7468 6520   frame, and the 
-00015f10: 6675 6e63 7469 6f6e 2074 6865 6e20 6372  function then cr
-00015f20: 6f70 7320 7468 6520 7669 6465 6f0a 2020  ops the video.  
-00015f30: 2020 2020 2062 6173 6564 206f 6e20 7468       based on th
-00015f40: 6520 7365 6c65 6374 6564 2052 4f49 2e20  e selected ROI. 
-00015f50: 5468 6520 6372 6f70 7065 6420 7669 6465  The cropped vide
-00015f60: 6f20 6973 2073 6176 6564 2077 6974 6820  o is saved with 
-00015f70: 225f 6369 7263 6c65 5f63 726f 7070 6564  "_circle_cropped
-00015f80: 2220 7375 6666 6978 2069 6e20 7468 6520  " suffix in the 
-00015f90: 7361 6d65 2064 6972 6563 746f 7279 0a20  same directory. 
-00015fa0: 2020 2020 2020 6173 2074 6865 2069 6e70        as the inp
-00015fb0: 7574 2076 6964 656f 2066 696c 652e 0a0a  ut video file...
-00015fc0: 2020 2020 3a70 6172 616d 2020 556e 696f      :param  Unio
-00015fd0: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
-00015fe0: 6b65 5d20 6669 6c65 5f70 6174 683a 2054  ke] file_path: T
-00015ff0: 6865 2070 6174 6820 746f 2074 6865 2069  he path to the i
-00016000: 6e70 7574 2076 6964 656f 2066 696c 652e  nput video file.
-00016010: 0a0a 2020 2020 3a65 7861 6d70 6c65 3a0a  ..    :example:.
-00016020: 2020 2020 3e3e 3e20 6372 6f70 5f73 696e      >>> crop_sin
-00016030: 676c 655f 7669 6465 6f5f 6369 7263 6c65  gle_video_circle
-00016040: 2866 696c 655f 7061 7468 3d27 2f55 7365  (file_path='/Use
-00016050: 7273 2f73 696d 6f6e 2f44 6573 6b74 6f70  rs/simon/Desktop
-00016060: 2f41 4747 5245 5353 4956 4954 595f 345f  /AGGRESSIVITY_4_
-00016070: 3131 5f32 315f 5472 6961 6c5f 325f 6361  11_21_Trial_2_ca
-00016080: 6d65 7261 315f 726f 7461 7465 645f 3230  mera1_rotated_20
-00016090: 3234 3032 3131 3134 3333 3535 2e6d 7034  240211143355.mp4
-000160a0: 2729 0a20 2020 2022 2222 0a0a 2020 2020  ').    """..    
-000160b0: 6469 722c 2076 6964 656f 5f6e 616d 652c  dir, video_name,
-000160c0: 205f 203d 2067 6574 5f66 6e5f 6578 7428   _ = get_fn_ext(
-000160d0: 6669 6c65 7061 7468 3d66 696c 655f 7061  filepath=file_pa
-000160e0: 7468 290a 2020 2020 7361 7665 5f70 6174  th).    save_pat
-000160f0: 6820 3d20 6f73 2e70 6174 682e 6a6f 696e  h = os.path.join
-00016100: 2864 6972 2c20 6622 7b76 6964 656f 5f6e  (dir, f"{video_n
-00016110: 616d 657d 5f63 6972 636c 655f 6372 6f70  ame}_circle_crop
-00016120: 7065 642e 6d70 3422 290a 2020 2020 7669  ped.mp4").    vi
-00016130: 6465 6f5f 6d65 7461 5f64 6174 6120 3d20  deo_meta_data = 
-00016140: 6765 745f 7669 6465 6f5f 6d65 7461 5f64  get_video_meta_d
-00016150: 6174 6128 7669 6465 6f5f 7061 7468 3d66  ata(video_path=f
-00016160: 696c 655f 7061 7468 290a 2020 2020 6368  ile_path).    ch
-00016170: 6563 6b5f 6669 6c65 5f65 7869 7374 5f61  eck_file_exist_a
-00016180: 6e64 5f72 6561 6461 626c 6528 6669 6c65  nd_readable(file
-00016190: 5f70 6174 683d 6669 6c65 5f70 6174 6829  _path=file_path)
-000161a0: 0a20 2020 2063 6972 636c 655f 7365 6c65  .    circle_sele
-000161b0: 6374 6f72 203d 2052 4f49 5365 6c65 6374  ctor = ROISelect
-000161c0: 6f72 4369 7263 6c65 2870 6174 683d 6669  orCircle(path=fi
-000161d0: 6c65 5f70 6174 6829 0a20 2020 2063 6972  le_path).    cir
-000161e0: 636c 655f 7365 6c65 6374 6f72 2e72 756e  cle_selector.run
-000161f0: 2829 0a20 2020 2074 696d 6572 203d 2053  ().    timer = S
-00016200: 696d 6261 5469 6d65 7228 7374 6172 743d  imbaTimer(start=
-00016210: 5472 7565 290a 2020 2020 7220 3d20 6369  True).    r = ci
-00016220: 7263 6c65 5f73 656c 6563 746f 722e 6369  rcle_selector.ci
-00016230: 7263 6c65 5f72 6164 6975 730a 2020 2020  rcle_radius.    
-00016240: 782c 2079 203d 2063 6972 636c 655f 7365  x, y = circle_se
-00016250: 6c65 6374 6f72 2e63 6972 636c 655f 6365  lector.circle_ce
-00016260: 6e74 6572 5b30 5d2c 2063 6972 636c 655f  nter[0], circle_
-00016270: 7365 6c65 6374 6f72 2e63 6972 636c 655f  selector.circle_
-00016280: 6365 6e74 6572 5b31 5d0a 2020 2020 706f  center[1].    po
-00016290: 6c79 676f 6e20 3d20 506f 6c79 676f 6e28  lygon = Polygon(
-000162a0: 0a20 2020 2020 2020 205b 0a20 2020 2020  .        [.     
-000162b0: 2020 2020 2020 2028 7820 2b20 7220 2a20         (x + r * 
-000162c0: 6e70 2e63 6f73 2861 6e67 6c65 292c 2079  np.cos(angle), y
-000162d0: 202b 2072 202a 206e 702e 7369 6e28 616e   + r * np.sin(an
-000162e0: 676c 6529 290a 2020 2020 2020 2020 2020  gle)).          
-000162f0: 2020 666f 7220 616e 676c 6520 696e 206e    for angle in n
-00016300: 702e 6c69 6e73 7061 6365 2830 2c20 3220  p.linspace(0, 2 
-00016310: 2a20 6e70 2e70 692c 2031 3030 290a 2020  * np.pi, 100).  
-00016320: 2020 2020 2020 5d0a 2020 2020 290a 2020        ].    ).  
-00016330: 2020 706f 6c79 676f 6e73 203d 205b 706f    polygons = [po
-00016340: 6c79 676f 6e20 666f 7220 7820 696e 2072  lygon for x in r
-00016350: 616e 6765 2876 6964 656f 5f6d 6574 615f  ange(video_meta_
-00016360: 6461 7461 5b22 6672 616d 655f 636f 756e  data["frame_coun
-00016370: 7422 5d29 5d0a 2020 2020 6966 2028 706c  t"])].    if (pl
-00016380: 6174 666f 726d 2e73 7973 7465 6d28 2920  atform.system() 
-00016390: 3d3d 2022 4461 7277 696e 2229 2061 6e64  == "Darwin") and
-000163a0: 2028 6d75 6c74 6970 726f 6365 7373 696e   (multiprocessin
-000163b0: 672e 6765 745f 7374 6172 745f 6d65 7468  g.get_start_meth
-000163c0: 6f64 2829 2069 7320 4e6f 6e65 293a 0a20  od() is None):. 
-000163d0: 2020 2020 2020 206d 756c 7469 7072 6f63         multiproc
-000163e0: 6573 7369 6e67 2e73 6574 5f73 7461 7274  essing.set_start
-000163f0: 5f6d 6574 686f 6428 2273 7061 776e 222c  _method("spawn",
-00016400: 2066 6f72 6365 3d54 7275 6529 0a20 2020   force=True).   
-00016410: 2070 6f6c 7967 6f6e 7320 3d20 496d 6167   polygons = Imag
-00016420: 654d 6978 696e 2829 2e73 6c69 6365 5f73  eMixin().slice_s
-00016430: 6861 7065 735f 696e 5f69 6d67 7328 0a20  hapes_in_imgs(. 
-00016440: 2020 2020 2020 2069 6d67 733d 6669 6c65         imgs=file
-00016450: 5f70 6174 682c 2073 6861 7065 733d 706f  _path, shapes=po
-00016460: 6c79 676f 6e73 2c20 7665 7262 6f73 653d  lygons, verbose=
-00016470: 4661 6c73 650a 2020 2020 290a 2020 2020  False.    ).    
-00016480: 7469 6d65 2e73 6c65 6570 2833 290a 2020  time.sleep(3).  
-00016490: 2020 5f20 3d20 496d 6167 654d 6978 696e    _ = ImageMixin
-000164a0: 2e69 6d67 5f73 7461 636b 5f74 6f5f 7669  .img_stack_to_vi
-000164b0: 6465 6f28 0a20 2020 2020 2020 2069 6d67  deo(.        img
-000164c0: 733d 706f 6c79 676f 6e73 2c20 7361 7665  s=polygons, save
-000164d0: 5f70 6174 683d 7361 7665 5f70 6174 682c  _path=save_path,
-000164e0: 2066 7073 3d76 6964 656f 5f6d 6574 615f   fps=video_meta_
-000164f0: 6461 7461 5b22 6670 7322 5d0a 2020 2020  data["fps"].    
-00016500: 290a 2020 2020 7469 6d65 722e 7374 6f70  ).    timer.stop
-00016510: 5f74 696d 6572 2829 0a20 2020 2073 7464  _timer().    std
-00016520: 6f75 745f 7375 6363 6573 7328 0a20 2020  out_success(.   
-00016530: 2020 2020 206d 7367 3d66 2243 6972 636c       msg=f"Circl
-00016540: 652d 6261 7365 6420 6372 6f70 7065 6420  e-based cropped 
-00016550: 7361 7665 6420 6174 2074 6f20 7b73 6176  saved at to {sav
-00016560: 655f 7061 7468 7d22 2c0a 2020 2020 2020  e_path}",.      
-00016570: 2020 656c 6170 7365 645f 7469 6d65 3d74    elapsed_time=t
-00016580: 696d 6572 2e65 6c61 7073 6564 5f74 696d  imer.elapsed_tim
-00016590: 655f 7374 722c 0a20 2020 2029 0a0a 0a64  e_str,.    )...d
-000165a0: 6566 2063 726f 705f 6d75 6c74 6970 6c65  ef crop_multiple
-000165b0: 5f76 6964 656f 735f 6369 7263 6c65 7328  _videos_circles(
-000165c0: 696e 5f64 6972 3a20 556e 696f 6e5b 7374  in_dir: Union[st
-000165d0: 722c 206f 732e 5061 7468 4c69 6b65 5d2c  r, os.PathLike],
-000165e0: 206f 7574 5f64 6972 3a20 556e 696f 6e5b   out_dir: Union[
-000165f0: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
-00016600: 5d29 202d 3e20 4e6f 6e65 3a0a 2020 2020  ]) -> None:.    
-00016610: 2222 220a 2020 2020 4372 6f70 206d 756c  """.    Crop mul
-00016620: 7469 706c 6520 7669 6465 6f73 2062 6173  tiple videos bas
-00016630: 6564 206f 6e20 6369 7263 756c 6172 2072  ed on circular r
-00016640: 6567 696f 6e73 206f 6620 696e 7465 7265  egions of intere
-00016650: 7374 2028 524f 4973 2920 7365 6c65 6374  st (ROIs) select
-00016660: 6564 2062 7920 7468 6520 7573 6572 2e0a  ed by the user..
-00016670: 0a0a 2020 2020 2e2e 2069 6d61 6765 3a3a  ..    .. image::
-00016680: 205f 7374 6174 6963 2f69 6d67 2f63 726f   _static/img/cro
-00016690: 705f 7369 6e67 6c65 5f76 6964 656f 5f63  p_single_video_c
-000166a0: 6972 636c 652e 6769 660a 2020 2020 2020  ircle.gif.      
-000166b0: 203a 7769 6474 683a 2036 3030 0a20 2020   :width: 600.   
-000166c0: 2020 2020 3a61 6c69 676e 3a20 6365 6e74      :align: cent
-000166d0: 6572 0a0a 2020 2020 2e2e 206e 6f74 653a  er..    .. note:
-000166e0: 3a0a 2020 2020 2020 2054 6869 7320 6675  :.       This fu
-000166f0: 6e63 7469 6f6e 2063 726f 7073 206d 756c  nction crops mul
-00016700: 7469 706c 6520 7669 6465 6f73 2062 6173  tiple videos bas
-00016710: 6564 206f 6e20 6369 7263 756c 6172 2052  ed on circular R
-00016720: 4f49 7320 7365 6c65 6374 6564 2062 7920  OIs selected by 
-00016730: 7468 6520 7573 6572 2e0a 2020 2020 2020  the user..      
-00016740: 2054 6865 2075 7365 7220 6973 2061 736b   The user is ask
-00016750: 6564 2074 6f20 6465 6669 6e65 2061 2063  ed to define a c
-00016760: 6972 636c 6520 6d61 6e75 616c 6c79 2069  ircle manually i
-00016770: 6e20 6f6e 6520 7669 6465 6f20 7769 7468  n one video with
-00016780: 696e 2074 6865 2069 6e70 7574 2064 6972  in the input dir
-00016790: 6563 746f 7279 2e0a 2020 2020 2020 2054  ectory..       T
-000167a0: 6865 2066 756e 6374 696f 6e20 7468 656e  he function then
-000167b0: 2063 726f 7073 2061 6c6c 2074 6865 2076   crops all the v
-000167c0: 6964 656f 2069 6e20 7468 6520 696e 7075  ideo in the inpu
-000167d0: 7420 6469 7265 6374 6f72 7920 6163 636f  t directory acco
-000167e0: 7264 696e 6720 746f 2074 6865 2073 6861  rding to the sha
-000167f0: 7065 2064 6566 696e 6564 0a20 2020 2020  pe defined.     
-00016800: 2020 7573 696e 6720 7468 6520 6669 7273    using the firs
-00016810: 7420 7669 6465 6f20 616e 6420 7361 7665  t video and save
-00016820: 7320 7468 6520 7669 6465 6f73 2069 6e20  s the videos in 
-00016830: 7468 6520 6060 6f75 745f 6469 7260 6020  the ``out_dir`` 
-00016840: 7769 7468 2074 6865 2073 616d 6520 6669  with the same fi
-00016850: 6c65 6e61 6d65 7320 6173 2074 6865 206f  lenames as the o
-00016860: 7269 6769 6e61 6c20 7669 6465 6f73 2e2e  riginal videos..
-00016870: 0a0a 0a0a 2020 2020 3a70 6172 616d 2020  ....    :param  
-00016880: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
-00016890: 7468 4c69 6b65 5d20 696e 5f64 6972 3a20  thLike] in_dir: 
-000168a0: 5468 6520 6469 7265 6374 6f72 7920 636f  The directory co
-000168b0: 6e74 6169 6e69 6e67 2069 6e70 7574 2076  ntaining input v
-000168c0: 6964 656f 2066 696c 6573 2e0a 2020 2020  ideo files..    
-000168d0: 3a70 6172 616d 2020 556e 696f 6e5b 7374  :param  Union[st
-000168e0: 722c 206f 732e 5061 7468 4c69 6b65 5d20  r, os.PathLike] 
-000168f0: 6f75 745f 6469 723a 2054 6865 2064 6972  out_dir: The dir
-00016900: 6563 746f 7279 2074 6f20 7361 7665 2074  ectory to save t
-00016910: 6865 2063 726f 7070 6564 2076 6964 656f  he cropped video
-00016920: 2066 696c 6573 2e0a 0a0a 2020 2020 3a65   files....    :e
-00016930: 7861 6d70 6c65 3a0a 2020 2020 3e3e 3e20  xample:.    >>> 
-00016940: 6372 6f70 5f6d 756c 7469 706c 655f 7669  crop_multiple_vi
-00016950: 6465 6f73 5f63 6972 636c 6573 2869 6e5f  deos_circles(in_
-00016960: 6469 723d 272f 5573 6572 732f 7369 6d6f  dir='/Users/simo
-00016970: 6e2f 4465 736b 746f 702f 6564 6974 6564  n/Desktop/edited
-00016980: 2f74 6573 7473 272c 206f 7574 5f64 6972  /tests', out_dir
-00016990: 3d27 2f55 7365 7273 2f73 696d 6f6e 2f44  ='/Users/simon/D
-000169a0: 6573 6b74 6f70 2729 0a20 2020 2022 2222  esktop').    """
-000169b0: 0a0a 2020 2020 6368 6563 6b5f 6966 5f64  ..    check_if_d
-000169c0: 6972 5f65 7869 7374 7328 696e 5f64 6972  ir_exists(in_dir
-000169d0: 3d69 6e5f 6469 7229 0a20 2020 2063 6865  =in_dir).    che
-000169e0: 636b 5f69 665f 6469 725f 6578 6973 7473  ck_if_dir_exists
-000169f0: 2869 6e5f 6469 723d 6f75 745f 6469 7229  (in_dir=out_dir)
-00016a00: 0a20 2020 2076 6964 656f 5f66 696c 6573  .    video_files
-00016a10: 203d 2066 696e 645f 616c 6c5f 7669 6465   = find_all_vide
-00016a20: 6f73 5f69 6e5f 6469 7265 6374 6f72 7928  os_in_directory(
-00016a30: 6469 7265 6374 6f72 793d 696e 5f64 6972  directory=in_dir
-00016a40: 290a 2020 2020 6369 7263 6c65 5f73 656c  ).    circle_sel
-00016a50: 6563 746f 7220 3d20 524f 4953 656c 6563  ector = ROISelec
-00016a60: 746f 7243 6972 636c 6528 7061 7468 3d6f  torCircle(path=o
-00016a70: 732e 7061 7468 2e6a 6f69 6e28 696e 5f64  s.path.join(in_d
-00016a80: 6972 2c20 7669 6465 6f5f 6669 6c65 735b  ir, video_files[
-00016a90: 305d 2929 0a20 2020 2063 6972 636c 655f  0])).    circle_
-00016aa0: 7365 6c65 6374 6f72 2e72 756e 2829 0a20  selector.run(). 
-00016ab0: 2020 2072 203d 2063 6972 636c 655f 7365     r = circle_se
-00016ac0: 6c65 6374 6f72 2e63 6972 636c 655f 7261  lector.circle_ra
-00016ad0: 6469 7573 0a20 2020 2078 2c20 7920 3d20  dius.    x, y = 
-00016ae0: 6369 7263 6c65 5f73 656c 6563 746f 722e  circle_selector.
-00016af0: 6369 7263 6c65 5f63 656e 7465 725b 305d  circle_center[0]
-00016b00: 2c20 6369 7263 6c65 5f73 656c 6563 746f  , circle_selecto
-00016b10: 722e 6369 7263 6c65 5f63 656e 7465 725b  r.circle_center[
-00016b20: 315d 0a20 2020 2070 6f6c 7967 6f6e 203d  1].    polygon =
-00016b30: 2050 6f6c 7967 6f6e 280a 2020 2020 2020   Polygon(.      
-00016b40: 2020 5b0a 2020 2020 2020 2020 2020 2020    [.            
-00016b50: 2878 202b 2072 202a 206e 702e 636f 7328  (x + r * np.cos(
-00016b60: 616e 676c 6529 2c20 7920 2b20 7220 2a20  angle), y + r * 
-00016b70: 6e70 2e73 696e 2861 6e67 6c65 2929 0a20  np.sin(angle)). 
-00016b80: 2020 2020 2020 2020 2020 2066 6f72 2061             for a
-00016b90: 6e67 6c65 2069 6e20 6e70 2e6c 696e 7370  ngle in np.linsp
-00016ba0: 6163 6528 302c 2032 202a 206e 702e 7069  ace(0, 2 * np.pi
-00016bb0: 2c20 3130 3029 0a20 2020 2020 2020 205d  , 100).        ]
-00016bc0: 0a20 2020 2029 0a20 2020 2074 696d 6572  .    ).    timer
-00016bd0: 203d 2053 696d 6261 5469 6d65 7228 7374   = SimbaTimer(st
-00016be0: 6172 743d 5472 7565 290a 2020 2020 6966  art=True).    if
-00016bf0: 2028 706c 6174 666f 726d 2e73 7973 7465   (platform.syste
-00016c00: 6d28 2920 3d3d 2022 4461 7277 696e 2229  m() == "Darwin")
-00016c10: 2061 6e64 2028 6d75 6c74 6970 726f 6365   and (multiproce
-00016c20: 7373 696e 672e 6765 745f 7374 6172 745f  ssing.get_start_
-00016c30: 6d65 7468 6f64 2829 2069 7320 4e6f 6e65  method() is None
-00016c40: 293a 0a20 2020 2020 2020 206d 756c 7469  ):.        multi
-00016c50: 7072 6f63 6573 7369 6e67 2e73 6574 5f73  processing.set_s
-00016c60: 7461 7274 5f6d 6574 686f 6428 2273 7061  tart_method("spa
-00016c70: 776e 222c 2066 6f72 6365 3d46 616c 7365  wn", force=False
-00016c80: 290a 2020 2020 666f 7220 7669 6465 6f5f  ).    for video_
-00016c90: 636e 742c 2076 6964 656f 5f70 6174 6820  cnt, video_path 
-00016ca0: 696e 2065 6e75 6d65 7261 7465 2876 6964  in enumerate(vid
-00016cb0: 656f 5f66 696c 6573 293a 0a20 2020 2020  eo_files):.     
-00016cc0: 2020 2070 7269 6e74 280a 2020 2020 2020     print(.      
-00016cd0: 2020 2020 2020 6622 4369 7263 6c65 2063        f"Circle c
-00016ce0: 726f 7070 696e 6720 7669 6465 6f20 7b76  ropping video {v
-00016cf0: 6964 656f 5f70 6174 687d 2028 7b76 6964  ideo_path} ({vid
-00016d00: 656f 5f63 6e74 2b31 7d2f 7b6c 656e 2876  eo_cnt+1}/{len(v
-00016d10: 6964 656f 5f66 696c 6573 297d 292e 2e2e  ideo_files)})...
-00016d20: 220a 2020 2020 2020 2020 290a 2020 2020  ".        ).    
-00016d30: 2020 2020 7669 6465 6f5f 7061 7468 203d      video_path =
-00016d40: 206f 732e 7061 7468 2e6a 6f69 6e28 696e   os.path.join(in
-00016d50: 5f64 6972 2c20 7669 6465 6f5f 7061 7468  _dir, video_path
-00016d60: 290a 2020 2020 2020 2020 5f2c 2076 6964  ).        _, vid
-00016d70: 656f 5f6e 616d 652c 205f 203d 2067 6574  eo_name, _ = get
-00016d80: 5f66 6e5f 6578 7428 6669 6c65 7061 7468  _fn_ext(filepath
-00016d90: 3d76 6964 656f 5f70 6174 6829 0a20 2020  =video_path).   
-00016da0: 2020 2020 2073 6176 655f 7061 7468 203d       save_path =
-00016db0: 206f 732e 7061 7468 2e6a 6f69 6e28 6f75   os.path.join(ou
-00016dc0: 745f 6469 722c 2066 227b 7669 6465 6f5f  t_dir, f"{video_
-00016dd0: 6e61 6d65 7d2e 6d70 3422 290a 2020 2020  name}.mp4").    
-00016de0: 2020 2020 7669 6465 6f5f 6d65 7461 5f64      video_meta_d
-00016df0: 6174 6120 3d20 6765 745f 7669 6465 6f5f  ata = get_video_
-00016e00: 6d65 7461 5f64 6174 6128 7669 6465 6f5f  meta_data(video_
-00016e10: 7061 7468 3d76 6964 656f 5f70 6174 6829  path=video_path)
-00016e20: 0a20 2020 2020 2020 2070 6f6c 7967 6f6e  .        polygon
-00016e30: 7320 3d20 5b70 6f6c 7967 6f6e 2066 6f72  s = [polygon for
-00016e40: 2078 2069 6e20 7261 6e67 6528 7669 6465   x in range(vide
-00016e50: 6f5f 6d65 7461 5f64 6174 615b 2266 7261  o_meta_data["fra
-00016e60: 6d65 5f63 6f75 6e74 225d 295d 0a20 2020  me_count"])].   
-00016e70: 2020 2020 2070 6f6c 7967 6f6e 7320 3d20       polygons = 
-00016e80: 496d 6167 654d 6978 696e 2829 2e73 6c69  ImageMixin().sli
-00016e90: 6365 5f73 6861 7065 735f 696e 5f69 6d67  ce_shapes_in_img
-00016ea0: 7328 0a20 2020 2020 2020 2020 2020 2069  s(.            i
-00016eb0: 6d67 733d 7669 6465 6f5f 7061 7468 2c20  mgs=video_path, 
-00016ec0: 7368 6170 6573 3d70 6f6c 7967 6f6e 732c  shapes=polygons,
-00016ed0: 2076 6572 626f 7365 3d46 616c 7365 0a20   verbose=False. 
-00016ee0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00016ef0: 2074 696d 652e 736c 6565 7028 3129 0a20   time.sleep(1). 
-00016f00: 2020 2020 2020 205f 203d 2049 6d61 6765         _ = Image
-00016f10: 4d69 7869 6e2e 696d 675f 7374 6163 6b5f  Mixin.img_stack_
-00016f20: 746f 5f76 6964 656f 280a 2020 2020 2020  to_video(.      
-00016f30: 2020 2020 2020 696d 6773 3d70 6f6c 7967        imgs=polyg
-00016f40: 6f6e 732c 2073 6176 655f 7061 7468 3d73  ons, save_path=s
-00016f50: 6176 655f 7061 7468 2c20 6670 733d 7669  ave_path, fps=vi
-00016f60: 6465 6f5f 6d65 7461 5f64 6174 615b 2266  deo_meta_data["f
-00016f70: 7073 225d 0a20 2020 2020 2020 2029 0a20  ps"].        ). 
-00016f80: 2020 2074 696d 6572 2e73 746f 705f 7469     timer.stop_ti
-00016f90: 6d65 7228 290a 2020 2020 7374 646f 7574  mer().    stdout
-00016fa0: 5f73 7563 6365 7373 280a 2020 2020 2020  _success(.      
-00016fb0: 2020 6d73 673d 6622 4369 7263 6c65 2d62    msg=f"Circle-b
-00016fc0: 6173 6564 2063 726f 7070 6564 207b 6c65  ased cropped {le
-00016fd0: 6e28 7669 6465 6f5f 6669 6c65 7329 7d20  n(video_files)} 
-00016fe0: 6669 6c65 7320 746f 2064 6972 6563 746f  files to directo
-00016ff0: 7279 207b 6f75 745f 6469 727d 222c 0a20  ry {out_dir}",. 
-00017000: 2020 2020 2020 2065 6c61 7073 6564 5f74         elapsed_t
-00017010: 696d 653d 7469 6d65 722e 656c 6170 7365  ime=timer.elapse
-00017020: 645f 7469 6d65 5f73 7472 2c0a 2020 2020  d_time_str,.    
-00017030: 290a 0a0a 6465 6620 6372 6f70 5f73 696e  )...def crop_sin
-00017040: 676c 655f 7669 6465 6f5f 706f 6c79 676f  gle_video_polygo
-00017050: 6e28 6669 6c65 5f70 6174 683a 2055 6e69  n(file_path: Uni
-00017060: 6f6e 5b73 7472 2c20 6f73 2e50 6174 684c  on[str, os.PathL
-00017070: 696b 655d 2920 2d3e 204e 6f6e 653a 0a20  ike]) -> None:. 
-00017080: 2020 2022 2222 0a20 2020 2043 726f 7020     """.    Crop 
-00017090: 6120 7669 6465 6f20 6261 7365 6420 6f6e  a video based on
-000170a0: 2070 6f6c 7967 6f6e 616c 2072 6567 696f   polygonal regio
-000170b0: 6e73 206f 6620 696e 7465 7265 7374 2028  ns of interest (
-000170c0: 524f 4973 2920 7365 6c65 6374 6564 2062  ROIs) selected b
-000170d0: 7920 7468 6520 7573 6572 2e0a 0a20 2020  y the user...   
-000170e0: 202e 2e20 696d 6167 653a 3a20 5f73 7461   .. image:: _sta
-000170f0: 7469 632f 696d 672f 726f 695f 7365 6c65  tic/img/roi_sele
-00017100: 6374 6f72 5f70 6f6c 7967 6f6e 2e67 6966  ctor_polygon.gif
-00017110: 0a20 2020 2020 2020 3a77 6964 7468 3a20  .       :width: 
-00017120: 3430 300a 2020 2020 2020 203a 616c 6967  400.       :alig
-00017130: 6e3a 2063 656e 7465 720a 0a20 2020 203a  n: center..    :
-00017140: 7061 7261 6d20 2055 6e69 6f6e 5b73 7472  param  Union[str
-00017150: 2c20 6f73 2e50 6174 684c 696b 655d 2066  , os.PathLike] f
-00017160: 696c 655f 7061 7468 3a20 5468 6520 7061  ile_path: The pa
-00017170: 7468 2074 6f20 7468 6520 696e 7075 7420  th to the input 
-00017180: 7669 6465 6f20 6669 6c65 2e0a 0a20 2020  video file...   
-00017190: 202e 2e20 6e6f 7465 3a3a 0a20 2020 2020   .. note::.     
-000171a0: 2020 5468 6973 2066 756e 6374 696f 6e20    This function 
-000171b0: 6372 6f70 7320 7468 6520 696e 7075 7420  crops the input 
-000171c0: 7669 6465 6f20 6261 7365 6420 6f6e 2070  video based on p
-000171d0: 6f6c 7967 6f6e 616c 2072 6567 696f 6e73  olygonal regions
-000171e0: 206f 6620 696e 7465 7265 7374 2028 524f   of interest (RO
-000171f0: 4973 2920 7365 6c65 6374 6564 2062 7920  Is) selected by 
-00017200: 7468 6520 7573 6572 2e0a 2020 2020 2020  the user..      
-00017210: 2054 6865 2075 7365 7220 6973 2070 726f   The user is pro
-00017220: 6d70 7465 6420 746f 2073 656c 6563 7420  mpted to select 
-00017230: 6120 706f 6c79 676f 6e61 6c20 524f 4920  a polygonal ROI 
-00017240: 6f6e 2074 6865 2076 6964 656f 2066 7261  on the video fra
-00017250: 6d65 2c20 616e 6420 7468 6520 6675 6e63  me, and the func
-00017260: 7469 6f6e 2074 6865 6e20 6372 6f70 7320  tion then crops 
-00017270: 7468 6520 7669 6465 6f0a 2020 2020 2020  the video.      
-00017280: 2062 6173 6564 206f 6e20 7468 6520 7365   based on the se
-00017290: 6c65 6374 6564 2052 4f49 2e20 5468 6520  lected ROI. The 
-000172a0: 6372 6f70 7065 6420 7669 6465 6f20 6973  cropped video is
-000172b0: 2073 6176 6564 2077 6974 6820 225f 706f   saved with "_po
-000172c0: 6c79 676f 6e5f 6372 6f70 7065 6422 2073  lygon_cropped" s
-000172d0: 7566 6669 7820 696e 2074 6865 2073 616d  uffix in the sam
-000172e0: 6520 6469 7265 6374 6f72 790a 2020 2020  e directory.    
-000172f0: 2020 2061 7320 7468 6520 696e 7075 7420     as the input 
-00017300: 7669 6465 6f20 6669 6c65 2e0a 0a20 2020  video file...   
-00017310: 203a 6578 616d 706c 653a 0a20 2020 203e   :example:.    >
-00017320: 3e3e 2063 726f 705f 7369 6e67 6c65 5f76  >> crop_single_v
-00017330: 6964 656f 5f70 6f6c 7967 6f6e 2866 696c  ideo_polygon(fil
-00017340: 655f 7061 7468 3d27 2f55 7365 7273 2f73  e_path='/Users/s
-00017350: 696d 6f6e 2f44 6573 6b74 6f70 2f41 4747  imon/Desktop/AGG
-00017360: 5245 5353 4956 4954 595f 345f 3131 5f32  RESSIVITY_4_11_2
-00017370: 315f 5472 6961 6c5f 325f 6361 6d65 7261  1_Trial_2_camera
-00017380: 315f 726f 7461 7465 645f 3230 3234 3032  1_rotated_202402
-00017390: 3131 3134 3333 3535 2e6d 7034 2729 0a20  11143355.mp4'). 
-000173a0: 2020 2022 2222 0a0a 2020 2020 6469 722c     """..    dir,
-000173b0: 2076 6964 656f 5f6e 616d 652c 205f 203d   video_name, _ =
-000173c0: 2067 6574 5f66 6e5f 6578 7428 6669 6c65   get_fn_ext(file
-000173d0: 7061 7468 3d66 696c 655f 7061 7468 290a  path=file_path).
-000173e0: 2020 2020 7361 7665 5f70 6174 6820 3d20      save_path = 
-000173f0: 6f73 2e70 6174 682e 6a6f 696e 2864 6972  os.path.join(dir
-00017400: 2c20 6622 7b76 6964 656f 5f6e 616d 657d  , f"{video_name}
-00017410: 5f70 6f6c 7967 6f6e 5f63 726f 7070 6564  _polygon_cropped
-00017420: 2e6d 7034 2229 0a20 2020 2076 6964 656f  .mp4").    video
-00017430: 5f6d 6574 615f 6461 7461 203d 2067 6574  _meta_data = get
-00017440: 5f76 6964 656f 5f6d 6574 615f 6461 7461  _video_meta_data
-00017450: 2876 6964 656f 5f70 6174 683d 6669 6c65  (video_path=file
-00017460: 5f70 6174 6829 0a20 2020 2063 6865 636b  _path).    check
-00017470: 5f66 696c 655f 6578 6973 745f 616e 645f  _file_exist_and_
-00017480: 7265 6164 6162 6c65 2866 696c 655f 7061  readable(file_pa
-00017490: 7468 3d66 696c 655f 7061 7468 290a 2020  th=file_path).  
-000174a0: 2020 706f 6c79 676f 6e5f 7365 6c65 6374    polygon_select
-000174b0: 6f72 203d 2052 4f49 5365 6c65 6374 6f72  or = ROISelector
-000174c0: 506f 6c79 676f 6e28 7061 7468 3d66 696c  Polygon(path=fil
-000174d0: 655f 7061 7468 290a 2020 2020 706f 6c79  e_path).    poly
-000174e0: 676f 6e5f 7365 6c65 6374 6f72 2e72 756e  gon_selector.run
-000174f0: 2829 0a20 2020 2074 696d 6572 203d 2053  ().    timer = S
-00017500: 696d 6261 5469 6d65 7228 7374 6172 743d  imbaTimer(start=
-00017510: 5472 7565 290a 2020 2020 7665 7274 6963  True).    vertic
-00017520: 6573 203d 2070 6f6c 7967 6f6e 5f73 656c  es = polygon_sel
-00017530: 6563 746f 722e 706f 6c79 676f 6e5f 7665  ector.polygon_ve
-00017540: 7274 6963 6573 0a20 2020 2070 6f6c 7967  rtices.    polyg
-00017550: 6f6e 203d 2050 6f6c 7967 6f6e 2876 6572  on = Polygon(ver
-00017560: 7469 6365 7329 0a20 2020 2070 6f6c 7967  tices).    polyg
-00017570: 6f6e 7320 3d20 5b70 6f6c 7967 6f6e 2066  ons = [polygon f
-00017580: 6f72 2078 2069 6e20 7261 6e67 6528 7669  or x in range(vi
-00017590: 6465 6f5f 6d65 7461 5f64 6174 615b 2266  deo_meta_data["f
-000175a0: 7261 6d65 5f63 6f75 6e74 225d 295d 0a20  rame_count"])]. 
-000175b0: 2020 2069 6620 2870 6c61 7466 6f72 6d2e     if (platform.
-000175c0: 7379 7374 656d 2829 203d 3d20 2244 6172  system() == "Dar
-000175d0: 7769 6e22 2920 616e 6420 286d 756c 7469  win") and (multi
-000175e0: 7072 6f63 6573 7369 6e67 2e67 6574 5f73  processing.get_s
-000175f0: 7461 7274 5f6d 6574 686f 6428 2920 6973  tart_method() is
-00017600: 204e 6f6e 6529 3a0a 2020 2020 2020 2020   None):.        
-00017610: 6d75 6c74 6970 726f 6365 7373 696e 672e  multiprocessing.
-00017620: 7365 745f 7374 6172 745f 6d65 7468 6f64  set_start_method
-00017630: 2822 7370 6177 6e22 2c20 666f 7263 653d  ("spawn", force=
-00017640: 4661 6c73 6529 0a20 2020 2070 6f6c 7967  False).    polyg
-00017650: 6f6e 7320 3d20 496d 6167 654d 6978 696e  ons = ImageMixin
-00017660: 2829 2e73 6c69 6365 5f73 6861 7065 735f  ().slice_shapes_
-00017670: 696e 5f69 6d67 7328 0a20 2020 2020 2020  in_imgs(.       
-00017680: 2069 6d67 733d 6669 6c65 5f70 6174 682c   imgs=file_path,
-00017690: 2073 6861 7065 733d 706f 6c79 676f 6e73   shapes=polygons
-000176a0: 2c20 7665 7262 6f73 653d 5472 7565 0a20  , verbose=True. 
-000176b0: 2020 2029 0a20 2020 205f 203d 2049 6d61     ).    _ = Ima
-000176c0: 6765 4d69 7869 6e2e 696d 675f 7374 6163  geMixin.img_stac
-000176d0: 6b5f 746f 5f76 6964 656f 280a 2020 2020  k_to_video(.    
-000176e0: 2020 2020 696d 6773 3d70 6f6c 7967 6f6e      imgs=polygon
-000176f0: 732c 2073 6176 655f 7061 7468 3d73 6176  s, save_path=sav
-00017700: 655f 7061 7468 2c20 6670 733d 7669 6465  e_path, fps=vide
-00017710: 6f5f 6d65 7461 5f64 6174 615b 2266 7073  o_meta_data["fps
-00017720: 225d 0a20 2020 2029 0a20 2020 2074 696d  "].    ).    tim
-00017730: 6572 2e73 746f 705f 7469 6d65 7228 290a  er.stop_timer().
-00017740: 2020 2020 7374 646f 7574 5f73 7563 6365      stdout_succe
-00017750: 7373 280a 2020 2020 2020 2020 6d73 673d  ss(.        msg=
-00017760: 6622 506f 6c79 676f 6e2d 6261 7365 6420  f"Polygon-based 
-00017770: 6372 6f70 7065 6420 7361 7665 6420 6174  cropped saved at
-00017780: 2074 6f20 7b73 6176 655f 7061 7468 7d22   to {save_path}"
-00017790: 2c0a 2020 2020 2020 2020 656c 6170 7365  ,.        elapse
-000177a0: 645f 7469 6d65 3d74 696d 6572 2e65 6c61  d_time=timer.ela
-000177b0: 7073 6564 5f74 696d 655f 7374 722c 0a20  psed_time_str,. 
-000177c0: 2020 2029 0a0a 2363 726f 705f 7369 6e67     )..#crop_sing
-000177d0: 6c65 5f76 6964 656f 5f70 6f6c 7967 6f6e  le_video_polygon
-000177e0: 2866 696c 655f 7061 7468 3d27 2f55 7365  (file_path='/Use
-000177f0: 7273 2f73 696d 6f6e 2f44 6573 6b74 6f70  rs/simon/Desktop
-00017800: 2f65 6e76 732f 7369 6d62 612f 7472 6f75  /envs/simba/trou
-00017810: 626c 6573 686f 6f74 696e 672f 7370 6f6e  bleshooting/spon
-00017820: 7465 6e6f 7573 5f61 6c74 6572 6e61 7469  tenous_alternati
-00017830: 6f6e 2f70 726f 6a65 6374 5f66 6f6c 6465  on/project_folde
-00017840: 722f 7669 6465 6f73 2f46 3120 4841 422e  r/videos/F1 HAB.
-00017850: 6d70 3427 290a 0a64 6566 2063 726f 705f  mp4')..def crop_
-00017860: 6d75 6c74 6970 6c65 5f76 6964 656f 735f  multiple_videos_
-00017870: 706f 6c79 676f 6e73 280a 2020 2020 696e  polygons(.    in
-00017880: 5f64 6972 3a20 556e 696f 6e5b 7374 722c  _dir: Union[str,
-00017890: 206f 732e 5061 7468 4c69 6b65 5d2c 206f   os.PathLike], o
-000178a0: 7574 5f64 6972 3a20 556e 696f 6e5b 7374  ut_dir: Union[st
-000178b0: 722c 206f 732e 5061 7468 4c69 6b65 5d0a  r, os.PathLike].
-000178c0: 2920 2d3e 204e 6f6e 653a 0a20 2020 2022  ) -> None:.    "
-000178d0: 2222 0a20 2020 2043 726f 7020 6d75 6c74  "".    Crop mult
-000178e0: 6970 6c65 2076 6964 656f 7320 6261 7365  iple videos base
-000178f0: 6420 6f6e 2070 6f6c 7967 6f6e 616c 2072  d on polygonal r
-00017900: 6567 696f 6e73 206f 6620 696e 7465 7265  egions of intere
-00017910: 7374 2028 524f 4973 2920 7365 6c65 6374  st (ROIs) select
-00017920: 6564 2062 7920 7468 6520 7573 6572 2e0a  ed by the user..
-00017930: 0a20 2020 203a 7061 7261 6d20 2055 6e69  .    :param  Uni
-00017940: 6f6e 5b73 7472 2c20 6f73 2e50 6174 684c  on[str, os.PathL
-00017950: 696b 655d 2069 6e5f 6469 723a 2054 6865  ike] in_dir: The
-00017960: 2064 6972 6563 746f 7279 2063 6f6e 7461   directory conta
-00017970: 696e 696e 6720 696e 7075 7420 7669 6465  ining input vide
-00017980: 6f20 6669 6c65 732e 0a20 2020 203a 7061  o files..    :pa
-00017990: 7261 6d20 2055 6e69 6f6e 5b73 7472 2c20  ram  Union[str, 
-000179a0: 6f73 2e50 6174 684c 696b 655d 206f 7574  os.PathLike] out
-000179b0: 5f64 6972 3a20 5468 6520 6469 7265 6374  _dir: The direct
-000179c0: 6f72 7920 746f 2073 6176 6520 7468 6520  ory to save the 
-000179d0: 6372 6f70 7065 6420 7669 6465 6f20 6669  cropped video fi
-000179e0: 6c65 732e 0a0a 2020 2020 2e2e 206e 6f74  les...    .. not
-000179f0: 653a 3a0a 2020 2020 2020 2054 6869 7320  e::.       This 
-00017a00: 6675 6e63 7469 6f6e 2063 726f 7073 206d  function crops m
-00017a10: 756c 7469 706c 6520 7669 6465 6f73 2062  ultiple videos b
-00017a20: 6173 6564 206f 6e20 706f 6c79 676f 6e61  ased on polygona
-00017a30: 6c20 524f 4973 2073 656c 6563 7465 6420  l ROIs selected 
-00017a40: 6279 2074 6865 2075 7365 722e 0a20 2020  by the user..   
-00017a50: 2020 2020 5468 6520 7573 6572 2069 7320      The user is 
-00017a60: 6173 6b65 6420 746f 2064 6566 696e 6520  asked to define 
-00017a70: 6120 706f 6c79 676f 6e20 6d61 6e75 616c  a polygon manual
-00017a80: 6c79 2069 6e20 6f6e 6520 7669 6465 6f20  ly in one video 
-00017a90: 7769 7468 696e 2074 6865 2069 6e70 7574  within the input
-00017aa0: 2064 6972 6563 746f 7279 2e0a 2020 2020   directory..    
-00017ab0: 2020 2054 6865 2066 756e 6374 696f 6e20     The function 
-00017ac0: 7468 656e 2063 726f 7073 2061 6c6c 2074  then crops all t
-00017ad0: 6865 2076 6964 656f 2069 6e20 7468 6520  he video in the 
-00017ae0: 696e 7075 7420 6469 7265 6374 6f72 7920  input directory 
-00017af0: 6163 636f 7264 696e 6720 746f 2074 6865  according to the
-00017b00: 2073 6861 7065 2064 6566 696e 6564 0a20   shape defined. 
-00017b10: 2020 2020 2020 7573 696e 6720 7468 6520        using the 
-00017b20: 6669 7273 7420 7669 6465 6f20 616e 6420  first video and 
-00017b30: 7361 7665 7320 7468 6520 7669 6465 6f73  saves the videos
-00017b40: 2069 6e20 7468 6520 6060 6f75 745f 6469   in the ``out_di
-00017b50: 7260 6020 7769 7468 2074 6865 2073 616d  r`` with the sam
-00017b60: 6520 6669 6c65 6e61 6d65 7320 6173 2074  e filenames as t
-00017b70: 6865 206f 7269 6769 6e61 6c20 7669 6465  he original vide
-00017b80: 6f73 2e2e 0a0a 2020 2020 3a65 7861 6d70  os....    :examp
-00017b90: 6c65 3a0a 2020 2020 3e3e 3e20 6372 6f70  le:.    >>> crop
-00017ba0: 5f6d 756c 7469 706c 655f 7669 6465 6f73  _multiple_videos
-00017bb0: 5f70 6f6c 7967 6f6e 7328 696e 5f64 6972  _polygons(in_dir
-00017bc0: 3d27 2f55 7365 7273 2f73 696d 6f6e 2f44  ='/Users/simon/D
-00017bd0: 6573 6b74 6f70 2f65 6469 7465 642f 7465  esktop/edited/te
-00017be0: 7374 7327 2c20 6f75 745f 6469 723d 272f  sts', out_dir='/
-00017bf0: 5573 6572 732f 7369 6d6f 6e2f 4465 736b  Users/simon/Desk
-00017c00: 746f 7027 290a 2020 2020 2222 220a 0a20  top').    """.. 
-00017c10: 2020 2063 6865 636b 5f69 665f 6469 725f     check_if_dir_
-00017c20: 6578 6973 7473 2869 6e5f 6469 723d 696e  exists(in_dir=in
-00017c30: 5f64 6972 290a 2020 2020 6368 6563 6b5f  _dir).    check_
-00017c40: 6966 5f64 6972 5f65 7869 7374 7328 696e  if_dir_exists(in
-00017c50: 5f64 6972 3d6f 7574 5f64 6972 290a 2020  _dir=out_dir).  
-00017c60: 2020 7669 6465 6f5f 6669 6c65 7320 3d20    video_files = 
-00017c70: 6669 6e64 5f61 6c6c 5f76 6964 656f 735f  find_all_videos_
-00017c80: 696e 5f64 6972 6563 746f 7279 2864 6972  in_directory(dir
-00017c90: 6563 746f 7279 3d69 6e5f 6469 7229 0a20  ectory=in_dir). 
-00017ca0: 2020 2070 6f6c 7967 6f6e 5f73 656c 6563     polygon_selec
-00017cb0: 746f 7220 3d20 524f 4953 656c 6563 746f  tor = ROISelecto
-00017cc0: 7250 6f6c 7967 6f6e 2870 6174 683d 6f73  rPolygon(path=os
-00017cd0: 2e70 6174 682e 6a6f 696e 2869 6e5f 6469  .path.join(in_di
-00017ce0: 722c 2076 6964 656f 5f66 696c 6573 5b30  r, video_files[0
-00017cf0: 5d29 290a 2020 2020 706f 6c79 676f 6e5f  ])).    polygon_
-00017d00: 7365 6c65 6374 6f72 2e72 756e 2829 0a20  selector.run(). 
-00017d10: 2020 2076 6572 7469 6365 7320 3d20 706f     vertices = po
-00017d20: 6c79 676f 6e5f 7365 6c65 6374 6f72 2e70  lygon_selector.p
-00017d30: 6f6c 7967 6f6e 5f76 6572 7469 6365 730a  olygon_vertices.
-00017d40: 2020 2020 706f 6c79 676f 6e20 3d20 506f      polygon = Po
-00017d50: 6c79 676f 6e28 7665 7274 6963 6573 290a  lygon(vertices).
-00017d60: 2020 2020 7469 6d65 7220 3d20 5369 6d62      timer = Simb
-00017d70: 6154 696d 6572 2873 7461 7274 3d54 7275  aTimer(start=Tru
-00017d80: 6529 0a20 2020 2066 6f72 2076 6964 656f  e).    for video
-00017d90: 5f63 6e74 2c20 7669 6465 6f5f 7061 7468  _cnt, video_path
-00017da0: 2069 6e20 656e 756d 6572 6174 6528 7669   in enumerate(vi
-00017db0: 6465 6f5f 6669 6c65 7329 3a0a 2020 2020  deo_files):.    
-00017dc0: 2020 2020 7072 696e 7428 0a20 2020 2020      print(.     
-00017dd0: 2020 2020 2020 2066 2250 6f6c 7967 6f6e         f"Polygon
-00017de0: 2063 726f 7070 696e 6720 7669 6465 6f20   cropping video 
-00017df0: 7b76 6964 656f 5f70 6174 687d 2028 7b76  {video_path} ({v
-00017e00: 6964 656f 5f63 6e74 2b31 7d2f 7b6c 656e  ideo_cnt+1}/{len
-00017e10: 2876 6964 656f 5f66 696c 6573 297d 292e  (video_files)}).
-00017e20: 2e2e 220a 2020 2020 2020 2020 290a 2020  ..".        ).  
-00017e30: 2020 2020 2020 7669 6465 6f5f 7061 7468        video_path
-00017e40: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
-00017e50: 696e 5f64 6972 2c20 7669 6465 6f5f 7061  in_dir, video_pa
-00017e60: 7468 290a 2020 2020 2020 2020 5f2c 2076  th).        _, v
-00017e70: 6964 656f 5f6e 616d 652c 205f 203d 2067  ideo_name, _ = g
-00017e80: 6574 5f66 6e5f 6578 7428 6669 6c65 7061  et_fn_ext(filepa
-00017e90: 7468 3d76 6964 656f 5f70 6174 6829 0a20  th=video_path). 
-00017ea0: 2020 2020 2020 2073 6176 655f 7061 7468         save_path
-00017eb0: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
-00017ec0: 6f75 745f 6469 722c 2066 227b 7669 6465  out_dir, f"{vide
-00017ed0: 6f5f 6e61 6d65 7d2e 6d70 3422 290a 2020  o_name}.mp4").  
-00017ee0: 2020 2020 2020 7669 6465 6f5f 6d65 7461        video_meta
-00017ef0: 5f64 6174 6120 3d20 6765 745f 7669 6465  _data = get_vide
-00017f00: 6f5f 6d65 7461 5f64 6174 6128 7669 6465  o_meta_data(vide
-00017f10: 6f5f 7061 7468 3d76 6964 656f 5f70 6174  o_path=video_pat
-00017f20: 6829 0a20 2020 2020 2020 2070 6f6c 7967  h).        polyg
-00017f30: 6f6e 7320 3d20 5b70 6f6c 7967 6f6e 2066  ons = [polygon f
-00017f40: 6f72 2078 2069 6e20 7261 6e67 6528 7669  or x in range(vi
-00017f50: 6465 6f5f 6d65 7461 5f64 6174 615b 2266  deo_meta_data["f
-00017f60: 7261 6d65 5f63 6f75 6e74 225d 295d 0a20  rame_count"])]. 
-00017f70: 2020 2020 2020 2070 6f6c 7967 6f6e 7320         polygons 
-00017f80: 3d20 496d 6167 654d 6978 696e 2829 2e73  = ImageMixin().s
-00017f90: 6c69 6365 5f73 6861 7065 735f 696e 5f69  lice_shapes_in_i
-00017fa0: 6d67 7328 0a20 2020 2020 2020 2020 2020  mgs(.           
-00017fb0: 2069 6d67 733d 7669 6465 6f5f 7061 7468   imgs=video_path
-00017fc0: 2c20 7368 6170 6573 3d70 6f6c 7967 6f6e  , shapes=polygon
-00017fd0: 732c 2076 6572 626f 7365 3d46 616c 7365  s, verbose=False
-00017fe0: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
-00017ff0: 2020 205f 203d 2049 6d61 6765 4d69 7869     _ = ImageMixi
-00018000: 6e2e 696d 675f 7374 6163 6b5f 746f 5f76  n.img_stack_to_v
-00018010: 6964 656f 280a 2020 2020 2020 2020 2020  ideo(.          
-00018020: 2020 696d 6773 3d70 6f6c 7967 6f6e 732c    imgs=polygons,
-00018030: 2073 6176 655f 7061 7468 3d73 6176 655f   save_path=save_
-00018040: 7061 7468 2c20 6670 733d 7669 6465 6f5f  path, fps=video_
-00018050: 6d65 7461 5f64 6174 615b 2266 7073 225d  meta_data["fps"]
-00018060: 0a20 2020 2020 2020 2029 0a20 2020 2074  .        ).    t
-00018070: 696d 6572 2e73 746f 705f 7469 6d65 7228  imer.stop_timer(
-00018080: 290a 2020 2020 7374 646f 7574 5f73 7563  ).    stdout_suc
-00018090: 6365 7373 280a 2020 2020 2020 2020 6d73  cess(.        ms
-000180a0: 673d 6622 506f 6c79 676f 6e2d 6261 7365  g=f"Polygon-base
-000180b0: 6420 6372 6f70 7065 6420 7b6c 656e 2876  d cropped {len(v
-000180c0: 6964 656f 5f66 696c 6573 297d 2066 696c  ideo_files)} fil
-000180d0: 6573 2074 6f20 6469 7265 6374 6f72 7920  es to directory 
-000180e0: 7b6f 7574 5f64 6972 7d22 2c0a 2020 2020  {out_dir}",.    
-000180f0: 2020 2020 656c 6170 7365 645f 7469 6d65      elapsed_time
-00018100: 3d74 696d 6572 2e65 6c61 7073 6564 5f74  =timer.elapsed_t
-00018110: 696d 655f 7374 722c 0a20 2020 2029 0a0a  ime_str,.    )..
-00018120: 0a64 6566 2072 6573 697a 655f 7669 6465  .def resize_vide
-00018130: 6f73 5f62 795f 6865 6967 6874 2876 6964  os_by_height(vid
-00018140: 656f 5f70 6174 6873 3a20 4c69 7374 5b55  eo_paths: List[U
-00018150: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
-00018160: 684c 696b 655d 5d2c 0a20 2020 2020 2020  hLike]],.       
-00018170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018180: 2020 2020 2068 6569 6768 743a 2055 6e69       height: Uni
-00018190: 6f6e 5b69 6e74 2c20 7374 725d 2c0a 2020  on[int, str],.  
-000181a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000181b0: 2020 2020 2020 2020 2020 6f76 6572 7772            overwr
-000181c0: 6974 653a 204f 7074 696f 6e61 6c5b 626f  ite: Optional[bo
-000181d0: 6f6c 5d20 3d20 4661 6c73 652c 0a20 2020  ol] = False,.   
-000181e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000181f0: 2020 2020 2020 2020 2073 6176 655f 6469           save_di
-00018200: 723a 204f 7074 696f 6e61 6c5b 556e 696f  r: Optional[Unio
-00018210: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
-00018220: 6b65 5d5d 203d 204e 6f6e 652c 0a20 2020  ke]] = None,.   
-00018230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018240: 2020 2020 2020 2020 2067 7075 3a20 4f70           gpu: Op
-00018250: 7469 6f6e 616c 5b62 6f6f 6c5d 203d 2046  tional[bool] = F
-00018260: 616c 7365 2c0a 2020 2020 2020 2020 2020  alse,.          
-00018270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018280: 2020 7375 6666 6978 3a20 4f70 7469 6f6e    suffix: Option
-00018290: 616c 5b73 7472 5d20 3d20 4e6f 6e65 2c0a  al[str] = None,.
-000182a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000182b0: 2020 2020 2020 2020 2020 2020 7665 7262              verb
-000182c0: 6f73 653a 204f 7074 696f 6e61 6c5b 626f  ose: Optional[bo
-000182d0: 6f6c 5d20 3d20 5472 7565 2920 2d3e 2055  ol] = True) -> U
-000182e0: 6e69 6f6e 5b4e 6f6e 652c 204c 6973 745b  nion[None, List[
-000182f0: 556e 696f 6e5b 4e6f 6e65 2c20 7374 722c  Union[None, str,
-00018300: 206f 732e 5061 7468 4c69 6b65 5d5d 5d3a   os.PathLike]]]:
-00018310: 0a20 2020 2022 2222 0a20 2020 2052 652d  .    """.    Re-
-00018320: 7369 7a65 2061 206c 6973 7420 6f66 2076  size a list of v
-00018330: 6964 656f 7320 746f 2061 2073 7065 6369  ideos to a speci
-00018340: 6669 6564 2068 6569 6768 7420 7768 696c  fied height whil
-00018350: 6520 7265 7461 696e 696e 6720 7468 6569  e retaining thei
-00018360: 7220 6173 7065 6374 2072 6174 696f 732e  r aspect ratios.
-00018370: 0a0a 2020 2020 3a70 6172 616d 204c 6973  ..    :param Lis
-00018380: 745b 556e 696f 6e5b 7374 722c 206f 732e  t[Union[str, os.
-00018390: 5061 7468 4c69 6b65 5d5d 2076 6964 656f  PathLike]] video
-000183a0: 5f70 6174 6873 3a20 4c69 7374 206f 6620  _paths: List of 
-000183b0: 7061 7468 2074 6f20 7669 6465 6f73 2e0a  path to videos..
-000183c0: 2020 2020 3a70 6172 616d 2055 6e69 6f6e      :param Union
-000183d0: 5b69 6e74 2c20 7374 725d 2068 6569 6768  [int, str] heigh
-000183e0: 743a 2054 6865 2068 6569 6768 7420 6f66  t: The height of
-000183f0: 2074 6865 206f 7574 7075 7420 7669 6465   the output vide
-00018400: 6f73 2e20 4966 2069 6e74 2c20 7468 656e  os. If int, then
-00018410: 2074 6865 2068 6569 6768 7420 696e 2070   the height in p
-00018420: 6978 656c 732e 2049 6620 7374 722c 2074  ixels. If str, t
-00018430: 6865 6e20 7468 6520 696e 6465 7820 696e  hen the index in
-00018440: 2060 6076 6964 656f 5f70 6174 6873 6060   ``video_paths``
-00018450: 2066 726f 6d20 7768 6963 6820 746f 2067   from which to g
-00018460: 7261 6220 7468 6520 6865 6967 6874 2e0a  rab the height..
-00018470: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
-00018480: 6e61 6c5b 626f 6f6c 5d20 6f76 6572 7772  nal[bool] overwr
-00018490: 6974 653a 2049 6620 5472 7565 2c20 7468  ite: If True, th
-000184a0: 656e 206f 7665 7277 7269 7465 7320 7468  en overwrites th
-000184b0: 6520 6f72 6967 696e 616c 2076 6964 656f  e original video
-000184c0: 732e 2044 6566 6175 6c74 2046 616c 7365  s. Default False
-000184d0: 2e0a 2020 2020 3a70 6172 616d 204f 7074  ..    :param Opt
-000184e0: 696f 6e61 6c5b 556e 696f 6e5b 7374 722c  ional[Union[str,
-000184f0: 206f 732e 5061 7468 4c69 6b65 5d5d 2073   os.PathLike]] s
-00018500: 6176 655f 6469 723a 2049 6620 6e6f 7420  ave_dir: If not 
-00018510: 4e6f 6e65 2c20 7468 656e 2074 6865 2064  None, then the d
-00018520: 6972 6563 746f 7279 2077 6865 7265 2074  irectory where t
-00018530: 6f20 7374 6f72 6520 7468 6520 7265 2d73  o store the re-s
-00018540: 697a 6564 2076 6964 656f 732e 0a20 2020  ized videos..   
-00018550: 203a 7061 7261 6d20 4f70 7469 6f6e 616c   :param Optional
-00018560: 5b62 6f6f 6c5d 2067 7075 3a20 4966 2054  [bool] gpu: If T
-00018570: 7275 652c 2074 6865 6e20 7573 6520 4646  rue, then use FF
-00018580: 6d70 6567 2047 5055 2063 6f64 6563 732e  mpeg GPU codecs.
-00018590: 2044 6566 6175 6c74 2046 616c 7365 2e0a   Default False..
-000185a0: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
-000185b0: 6e61 6c5b 626f 6f6c 5d20 7375 6666 6978  nal[bool] suffix
-000185c0: 3a20 4966 206e 6f74 204e 6f6e 652c 2074  : If not None, t
-000185d0: 6865 6e20 7374 6f72 6573 2074 6865 2072  hen stores the r
-000185e0: 6573 697a 6564 2076 6964 656f 7320 696e  esized videos in
-000185f0: 2074 6865 2073 616d 6520 6469 7265 6374   the same direct
-00018600: 6f72 7920 6173 2074 6865 2069 6e70 7574  ory as the input
-00018610: 2076 6964 656f 7320 7769 7468 2074 6865   videos with the
-00018620: 2070 726f 7669 6465 6420 7375 6666 6978   provided suffix
-00018630: 2e0a 2020 2020 3a70 6172 616d 204f 7074  ..    :param Opt
-00018640: 696f 6e61 6c5b 626f 6f6c 5d20 7665 7262  ional[bool] verb
-00018650: 6f73 653a 2049 6620 5472 7565 2c20 7072  ose: If True, pr
-00018660: 696e 7473 2070 726f 6772 6573 732e 2044  ints progress. D
-00018670: 6566 6175 6c74 2054 7275 652e 0a20 2020  efault True..   
-00018680: 203a 7265 7475 726e 2055 6e69 6f6e 5b4e   :return Union[N
-00018690: 6f6e 652c 204c 6973 745b 556e 696f 6e5b  one, List[Union[
-000186a0: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
-000186b0: 5d5d 5d3a 2049 6620 7361 7665 5f64 6972  ]]]: If save_dir
-000186c0: 2069 7320 6e6f 7420 4e6f 6e65 2c20 7265   is not None, re
-000186d0: 7475 726e 7320 7468 6520 7061 7468 7320  turns the paths 
-000186e0: 6f66 2074 6865 2072 652d 7369 7a65 6420  of the re-sized 
-000186f0: 7669 6465 6f73 2e20 456c 7365 2072 6574  videos. Else ret
-00018700: 7572 6e73 2065 6d70 7479 206c 6973 742e  urns empty list.
-00018710: 0a0a 2020 2020 3a65 7861 6d70 6c65 3a0a  ..    :example:.
-00018720: 2020 2020 3e3e 3e20 7669 6465 6f5f 7061      >>> video_pa
-00018730: 7468 733d 205b 272f 5573 6572 732f 7369  ths= ['/Users/si
-00018740: 6d6f 6e2f 4465 736b 746f 702f 656e 7673  mon/Desktop/envs
-00018750: 2f73 696d 6261 2f74 726f 7562 6c65 7368  /simba/troublesh
-00018760: 6f6f 7469 6e67 2f52 4154 5f4e 4f52 2f70  ooting/RAT_NOR/p
-00018770: 726f 6a65 6374 5f66 6f6c 6465 722f 7669  roject_folder/vi
-00018780: 6465 6f73 2f74 6573 742f 3038 3130 3230  deos/test/081020
-00018790: 3231 5f44 4f54 5f52 6174 375f 3828 3229  21_DOT_Rat7_8(2)
-000187a0: 2e6d 7034 272c 2027 2f55 7365 7273 2f73  .mp4', '/Users/s
-000187b0: 696d 6f6e 2f44 6573 6b74 6f70 2f65 6e76  imon/Desktop/env
-000187c0: 732f 7369 6d62 612f 7472 6f75 626c 6573  s/simba/troubles
-000187d0: 686f 6f74 696e 672f 5241 545f 4e4f 522f  hooting/RAT_NOR/
-000187e0: 7072 6f6a 6563 745f 666f 6c64 6572 2f76  project_folder/v
-000187f0: 6964 656f 732f 7465 7374 2f30 3831 3032  ideos/test/08102
-00018800: 3032 315f 444f 545f 5261 7431 315f 3132  021_DOT_Rat11_12
-00018810: 2e6d 7034 275d 0a20 2020 203e 3e3e 205f  .mp4'].    >>> _
-00018820: 203d 2072 6573 697a 655f 7669 6465 6f73   = resize_videos
-00018830: 5f62 795f 6865 6967 6874 2876 6964 656f  _by_height(video
-00018840: 5f70 6174 6873 3d76 6964 656f 5f70 6174  _paths=video_pat
-00018850: 6873 2c20 6865 6967 6874 3d33 3030 2c20  hs, height=300, 
-00018860: 6f76 6572 7772 6974 653d 4661 6c73 652c  overwrite=False,
-00018870: 2073 6176 655f 6469 723d 272f 5573 6572   save_dir='/User
-00018880: 732f 7369 6d6f 6e2f 4465 736b 746f 702f  s/simon/Desktop/
-00018890: 656e 7673 2f73 696d 6261 2f74 726f 7562  envs/simba/troub
-000188a0: 6c65 7368 6f6f 7469 6e67 2f52 4154 5f4e  leshooting/RAT_N
-000188b0: 4f52 2f70 726f 6a65 6374 5f66 6f6c 6465  OR/project_folde
-000188c0: 722f 7669 6465 6f73 2f74 6573 742f 6e65  r/videos/test/ne
-000188d0: 7727 290a 2020 2020 2222 220a 2020 2020  w').    """.    
-000188e0: 7469 6d65 7220 3d20 5369 6d62 6154 696d  timer = SimbaTim
-000188f0: 6572 2873 7461 7274 3d54 7275 6529 0a20  er(start=True). 
-00018900: 2020 2069 6620 286e 6f74 206f 7665 7277     if (not overw
-00018910: 7269 7465 2920 616e 6420 2873 6176 655f  rite) and (save_
-00018920: 6469 7220 6973 204e 6f6e 6529 2061 6e64  dir is None) and
-00018930: 2028 7375 6666 6978 2069 7320 4e6f 6e65   (suffix is None
-00018940: 293a 0a20 2020 2020 2020 2072 6169 7365  ):.        raise
-00018950: 2049 6e76 616c 6964 496e 7075 7445 7272   InvalidInputErr
-00018960: 6f72 286d 7367 3d22 5072 6f76 6964 6520  or(msg="Provide 
-00018970: 6120 7361 7665 5f64 6972 2c20 4f52 2073  a save_dir, OR s
-00018980: 6574 206f 7665 7277 7269 7465 2074 6f20  et overwrite to 
-00018990: 5472 7565 2c20 4f52 2070 726f 7669 6465  True, OR provide
-000189a0: 2061 2073 7566 6669 7822 2c20 736f 7572   a suffix", sour
-000189b0: 6365 3d72 6573 697a 655f 7669 6465 6f73  ce=resize_videos
-000189c0: 5f62 795f 6865 6967 6874 2e5f 5f6e 616d  _by_height.__nam
-000189d0: 655f 5f29 0a20 2020 2065 6c69 6620 286f  e__).    elif (o
-000189e0: 7665 7277 7269 7465 2920 616e 6420 2873  verwrite) and (s
-000189f0: 6176 655f 6469 7220 6973 206e 6f74 204e  ave_dir is not N
-00018a00: 6f6e 6529 3a0a 2020 2020 2020 2020 7261  one):.        ra
-00018a10: 6973 6520 496e 7661 6c69 6449 6e70 7574  ise InvalidInput
-00018a20: 4572 726f 7228 6d73 673d 2250 726f 7669  Error(msg="Provi
-00018a30: 6465 2061 2073 6176 655f 6469 722c 204f  de a save_dir, O
-00018a40: 5220 7365 7420 6f76 6572 7772 6974 6520  R set overwrite 
-00018a50: 746f 2054 7275 652c 204f 5220 7072 6f76  to True, OR prov
-00018a60: 6964 6520 6120 7375 6666 6978 222c 2073  ide a suffix", s
-00018a70: 6f75 7263 653d 7265 7369 7a65 5f76 6964  ource=resize_vid
-00018a80: 656f 735f 6279 5f68 6569 6768 742e 5f5f  eos_by_height.__
-00018a90: 6e61 6d65 5f5f 290a 2020 2020 656c 6966  name__).    elif
-00018aa0: 2028 6f76 6572 7772 6974 6529 2061 6e64   (overwrite) and
-00018ab0: 2028 7375 6666 6978 2069 7320 6e6f 7420   (suffix is not 
-00018ac0: 4e6f 6e65 293a 0a20 2020 2020 2020 2072  None):.        r
-00018ad0: 6169 7365 2049 6e76 616c 6964 496e 7075  aise InvalidInpu
-00018ae0: 7445 7272 6f72 286d 7367 3d22 5072 6f76  tError(msg="Prov
-00018af0: 6964 6520 6120 7361 7665 5f64 6972 2c20  ide a save_dir, 
-00018b00: 4f52 2073 6574 206f 7665 7277 7269 7465  OR set overwrite
-00018b10: 2074 6f20 5472 7565 2c20 4f52 2070 726f   to True, OR pro
-00018b20: 7669 6465 2061 2073 7566 6669 7822 2c20  vide a suffix", 
-00018b30: 736f 7572 6365 3d72 6573 697a 655f 7669  source=resize_vi
-00018b40: 6465 6f73 5f62 795f 6865 6967 6874 2e5f  deos_by_height._
-00018b50: 5f6e 616d 655f 5f29 0a20 2020 2065 6c69  _name__).    eli
-00018b60: 6620 2873 6176 655f 6469 7220 6973 206e  f (save_dir is n
-00018b70: 6f74 204e 6f6e 6529 2061 6e64 2028 7375  ot None) and (su
-00018b80: 6666 6978 2069 7320 6e6f 7420 4e6f 6e65  ffix is not None
-00018b90: 293a 0a20 2020 2020 2020 2072 6169 7365  ):.        raise
-00018ba0: 2049 6e76 616c 6964 496e 7075 7445 7272   InvalidInputErr
-00018bb0: 6f72 286d 7367 3d22 5072 6f76 6964 6520  or(msg="Provide 
-00018bc0: 6120 7361 7665 5f64 6972 2c20 4f52 2073  a save_dir, OR s
-00018bd0: 6574 206f 7665 7277 7269 7465 2074 6f20  et overwrite to 
-00018be0: 5472 7565 2c20 4f52 2070 726f 7669 6465  True, OR provide
-00018bf0: 2061 2073 7566 6669 7822 2c20 736f 7572   a suffix", sour
-00018c00: 6365 3d72 6573 697a 655f 7669 6465 6f73  ce=resize_videos
-00018c10: 5f62 795f 6865 6967 6874 2e5f 5f6e 616d  _by_height.__nam
-00018c20: 655f 5f29 0a20 2020 2069 6620 7361 7665  e__).    if save
-00018c30: 5f64 6972 2069 7320 6e6f 7420 4e6f 6e65  _dir is not None
-00018c40: 3a0a 2020 2020 2020 2020 6966 206e 6f74  :.        if not
-00018c50: 206f 732e 7061 7468 2e69 7364 6972 2873   os.path.isdir(s
-00018c60: 6176 655f 6469 7229 3a0a 2020 2020 2020  ave_dir):.      
-00018c70: 2020 2020 2020 6f73 2e6d 616b 6564 6972        os.makedir
-00018c80: 7328 7361 7665 5f64 6972 290a 2020 2020  s(save_dir).    
-00018c90: 6368 6563 6b5f 7661 6c69 645f 6c73 7428  check_valid_lst(
-00018ca0: 0a20 2020 2020 2020 2064 6174 613d 7669  .        data=vi
-00018cb0: 6465 6f5f 7061 7468 732c 2073 6f75 7263  deo_paths, sourc
-00018cc0: 653d 7265 7369 7a65 5f76 6964 656f 735f  e=resize_videos_
-00018cd0: 6279 5f68 6569 6768 742e 5f5f 6e61 6d65  by_height.__name
-00018ce0: 5f5f 2c20 6d69 6e5f 6c65 6e3d 310a 2020  __, min_len=1.  
-00018cf0: 2020 290a 2020 2020 5f20 3d20 5b63 6865    ).    _ = [che
-00018d00: 636b 5f66 696c 655f 6578 6973 745f 616e  ck_file_exist_an
-00018d10: 645f 7265 6164 6162 6c65 2878 2920 666f  d_readable(x) fo
-00018d20: 7220 7820 696e 2076 6964 656f 5f70 6174  r x in video_pat
-00018d30: 6873 5d0a 2020 2020 6e65 775f 7669 6465  hs].    new_vide
-00018d40: 6f5f 7061 7468 7320 3d20 5b5d 0a20 2020  o_paths = [].   
-00018d50: 2069 6620 6973 696e 7374 616e 6365 2868   if isinstance(h
-00018d60: 6569 6768 742c 2073 7472 293a 0a20 2020  eight, str):.   
-00018d70: 2020 2020 2063 6865 636b 5f69 6e74 286e       check_int(n
-00018d80: 616d 653d 6622 7b72 6573 697a 655f 7669  ame=f"{resize_vi
-00018d90: 6465 6f73 5f62 795f 6865 6967 6874 2e5f  deos_by_height._
-00018da0: 5f6e 616d 655f 5f7d 2068 6569 6768 7422  _name__} height"
-00018db0: 2c76 616c 7565 3d68 6569 6768 742c 6d69  ,value=height,mi
-00018dc0: 6e5f 7661 6c75 653d 302c 6d61 785f 7661  n_value=0,max_va
-00018dd0: 6c75 653d 6c65 6e28 7669 6465 6f5f 7061  lue=len(video_pa
-00018de0: 7468 7329 290a 2020 2020 2020 2020 7669  ths)).        vi
-00018df0: 6465 6f5f 6865 6967 6874 7320 3d20 5b5d  deo_heights = []
-00018e00: 0a20 2020 2020 2020 2066 6f72 2069 2069  .        for i i
-00018e10: 6e20 7669 6465 6f5f 7061 7468 733a 0a20  n video_paths:. 
-00018e20: 2020 2020 2020 2020 2020 2076 6964 656f             video
-00018e30: 5f68 6569 6768 7473 2e61 7070 656e 6428  _heights.append(
-00018e40: 6765 745f 7669 6465 6f5f 6d65 7461 5f64  get_video_meta_d
-00018e50: 6174 6128 7669 6465 6f5f 7061 7468 3d69  ata(video_path=i
-00018e60: 295b 2268 6569 6768 7422 5d29 0a20 2020  )["height"]).   
-00018e70: 2020 2020 2068 6569 6768 7420 3d20 7669       height = vi
-00018e80: 6465 6f5f 6865 6967 6874 735b 696e 7428  deo_heights[int(
-00018e90: 6865 6967 6874 295d 0a20 2020 2066 6f72  height)].    for
-00018ea0: 2063 6e74 2c20 7669 6465 6f5f 7061 7468   cnt, video_path
-00018eb0: 2069 6e20 656e 756d 6572 6174 6528 7669   in enumerate(vi
-00018ec0: 6465 6f5f 7061 7468 7329 3a0a 2020 2020  deo_paths):.    
-00018ed0: 2020 2020 6469 725f 6e61 6d65 2c20 7669      dir_name, vi
-00018ee0: 6465 6f5f 6e61 6d65 2c20 6578 7420 3d20  deo_name, ext = 
-00018ef0: 6765 745f 666e 5f65 7874 2876 6964 656f  get_fn_ext(video
-00018f00: 5f70 6174 6829 0a20 2020 2020 2020 2069  _path).        i
-00018f10: 6620 7665 7262 6f73 653a 0a20 2020 2020  f verbose:.     
-00018f20: 2020 2020 2020 2070 7269 6e74 2866 2252         print(f"R
-00018f30: 6573 697a 696e 6720 6865 6967 6874 2076  esizing height v
-00018f40: 6964 656f 207b 7669 6465 6f5f 6e61 6d65  ideo {video_name
-00018f50: 7d20 2856 6964 656f 207b 636e 742b 317d  } (Video {cnt+1}
-00018f60: 2f7b 6c65 6e28 7669 6465 6f5f 7061 7468  /{len(video_path
-00018f70: 7329 7d29 2e2e 2e22 290a 2020 2020 2020  s)})...").      
-00018f80: 2020 6966 206f 7665 7277 7269 7465 3a0a    if overwrite:.
-00018f90: 2020 2020 2020 2020 2020 2020 6474 203d              dt =
-00018fa0: 2064 6174 6574 696d 652e 6e6f 7728 292e   datetime.now().
-00018fb0: 7374 7266 7469 6d65 2822 2559 256d 2564  strftime("%Y%m%d
-00018fc0: 2548 254d 2553 2229 0a20 2020 2020 2020  %H%M%S").       
-00018fd0: 2020 2020 2073 6176 655f 7061 7468 203d       save_path =
-00018fe0: 206f 732e 7061 7468 2e6a 6f69 6e28 6469   os.path.join(di
-00018ff0: 725f 6e61 6d65 2c20 6622 7b76 6964 656f  r_name, f"{video
-00019000: 5f6e 616d 657d 5f7b 6474 7d2e 6d70 3422  _name}_{dt}.mp4"
-00019010: 290a 2020 2020 2020 2020 6966 2073 7566  ).        if suf
-00019020: 6669 7820 6973 204e 6f6e 653a 0a20 2020  fix is None:.   
-00019030: 2020 2020 2020 2020 2073 6176 655f 7061           save_pa
-00019040: 7468 203d 206f 732e 7061 7468 2e6a 6f69  th = os.path.joi
-00019050: 6e28 7361 7665 5f64 6972 2c20 6622 7b76  n(save_dir, f"{v
-00019060: 6964 656f 5f6e 616d 657d 2e6d 7034 2229  ideo_name}.mp4")
-00019070: 0a20 2020 2020 2020 2020 2020 206e 6577  .            new
-00019080: 5f76 6964 656f 5f70 6174 6873 2e61 7070  _video_paths.app
-00019090: 656e 6428 7361 7665 5f70 6174 6829 0a20  end(save_path). 
-000190a0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-000190b0: 2020 2020 2020 2020 2063 6865 636b 5f73           check_s
-000190c0: 7472 286e 616d 653d 6627 7b72 6573 697a  tr(name=f'{resiz
-000190d0: 655f 7669 6465 6f73 5f62 795f 6865 6967  e_videos_by_heig
-000190e0: 6874 2e5f 5f6e 616d 655f 5f7d 2073 7566  ht.__name__} suf
-000190f0: 6669 7827 2c20 7661 6c75 653d 7375 6666  fix', value=suff
-00019100: 6978 290a 2020 2020 2020 2020 2020 2020  ix).            
-00019110: 7361 7665 5f70 6174 6820 3d20 6f73 2e70  save_path = os.p
-00019120: 6174 682e 6a6f 696e 2864 6972 5f6e 616d  ath.join(dir_nam
-00019130: 652c 2066 227b 7669 6465 6f5f 6e61 6d65  e, f"{video_name
-00019140: 7d5f 7b73 7566 6669 787d 2e6d 7034 2229  }_{suffix}.mp4")
-00019150: 0a20 2020 2020 2020 2020 2020 206e 6577  .            new
-00019160: 5f76 6964 656f 5f70 6174 6873 2e61 7070  _video_paths.app
-00019170: 656e 6428 7361 7665 5f70 6174 6829 0a20  end(save_path). 
-00019180: 2020 2020 2020 2069 6620 6770 753a 0a20         if gpu:. 
-00019190: 2020 2020 2020 2020 2020 2063 6d64 203d             cmd =
-000191a0: 2066 2766 666d 7065 6720 2d79 202d 6877   f'ffmpeg -y -hw
-000191b0: 6163 6365 6c20 6175 746f 202d 633a 7620  accel auto -c:v 
-000191c0: 6832 3634 5f63 7576 6964 202d 6920 227b  h264_cuvid -i "{
-000191d0: 7669 6465 6f5f 7061 7468 7d22 202d 7666  video_path}" -vf
-000191e0: 2073 6361 6c65 5f6e 7070 3d2d 323a 7b68   scale_npp=-2:{h
-000191f0: 6569 6768 747d 202d 633a 7620 6832 3634  eight} -c:v h264
-00019200: 5f6e 7665 6e63 2022 7b73 6176 655f 7061  _nvenc "{save_pa
-00019210: 7468 7d22 202d 6869 6465 5f62 616e 6e65  th}" -hide_banne
-00019220: 7220 2d6c 6f67 6c65 7665 6c20 6572 726f  r -loglevel erro
-00019230: 7220 2d79 270a 2020 2020 2020 2020 656c  r -y'.        el
-00019240: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00019250: 636d 6420 3d20 6627 6666 6d70 6567 202d  cmd = f'ffmpeg -
-00019260: 7920 2d69 2022 7b76 6964 656f 5f70 6174  y -i "{video_pat
-00019270: 687d 2220 2d76 6620 7363 616c 653d 2d32  h}" -vf scale=-2
-00019280: 3a7b 6865 6967 6874 7d20 227b 7361 7665  :{height} "{save
-00019290: 5f70 6174 687d 2220 2d68 6964 655f 6261  _path}" -hide_ba
-000192a0: 6e6e 6572 202d 6c6f 676c 6576 656c 2065  nner -loglevel e
-000192b0: 7272 6f72 202d 7374 6174 7320 2d79 270a  rror -stats -y'.
-000192c0: 2020 2020 2020 2020 7375 6270 726f 6365          subproce
-000192d0: 7373 2e63 616c 6c28 636d 642c 2073 6865  ss.call(cmd, she
-000192e0: 6c6c 3d54 7275 652c 2073 7464 6f75 743d  ll=True, stdout=
-000192f0: 7375 6270 726f 6365 7373 2e50 4950 4529  subprocess.PIPE)
-00019300: 0a20 2020 2020 2020 2069 6620 6f76 6572  .        if over
-00019310: 7772 6974 653a 0a20 2020 2020 2020 2020  write:.         
-00019320: 2020 2073 6875 7469 6c2e 636f 7079 2873     shutil.copy(s
-00019330: 6176 655f 7061 7468 2c20 7669 6465 6f5f  ave_path, video_
-00019340: 7061 7468 290a 2020 2020 2020 2020 2020  path).          
-00019350: 2020 6f73 2e72 656d 6f76 6528 7361 7665    os.remove(save
-00019360: 5f70 6174 6829 0a20 2020 2020 2020 2069  _path).        i
-00019370: 6620 7665 7262 6f73 653a 0a20 2020 2020  f verbose:.     
-00019380: 2020 2020 2020 2070 7269 6e74 2866 2252         print(f"R
-00019390: 6573 697a 6564 2076 6964 656f 207b 7361  esized video {sa
-000193a0: 7665 5f70 6174 687d 2e2e 2e22 290a 2020  ve_path}...").  
-000193b0: 2020 7469 6d65 722e 7374 6f70 5f74 696d    timer.stop_tim
-000193c0: 6572 2829 0a20 2020 2069 6620 7665 7262  er().    if verb
-000193d0: 6f73 653a 0a20 2020 2020 2020 2070 7269  ose:.        pri
-000193e0: 6e74 2866 2252 6573 697a 6564 2068 6569  nt(f"Resized hei
-000193f0: 6768 7420 7b6c 656e 2876 6964 656f 5f70  ght {len(video_p
-00019400: 6174 6873 297d 2076 6964 656f 2873 292e  aths)} video(s).
-00019410: 2045 6c61 7073 6564 2074 696d 653a 207b   Elapsed time: {
-00019420: 7469 6d65 722e 656c 6170 7365 645f 7469  timer.elapsed_ti
-00019430: 6d65 5f73 7472 7d73 2e22 290a 2020 2020  me_str}s.").    
-00019440: 7265 7475 726e 206e 6577 5f76 6964 656f  return new_video
-00019450: 5f70 6174 6873 0a0a 0a64 6566 2072 6573  _paths...def res
-00019460: 697a 655f 7669 6465 6f73 5f62 795f 7769  ize_videos_by_wi
-00019470: 6474 6828 7669 6465 6f5f 7061 7468 733a  dth(video_paths:
-00019480: 204c 6973 745b 556e 696f 6e5b 7374 722c   List[Union[str,
-00019490: 206f 732e 5061 7468 4c69 6b65 5d5d 2c0a   os.PathLike]],.
-000194a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000194b0: 2020 2020 2020 2020 2020 2077 6964 7468             width
-000194c0: 3a20 556e 696f 6e5b 696e 742c 2073 7472  : Union[int, str
-000194d0: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
-000194e0: 2020 2020 2020 2020 2020 2020 2020 6f76                ov
-000194f0: 6572 7772 6974 653a 204f 7074 696f 6e61  erwrite: Optiona
-00019500: 6c5b 626f 6f6c 5d20 3d20 4661 6c73 652c  l[bool] = False,
-00019510: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019520: 2020 2020 2020 2020 2020 2020 7361 7665              save
-00019530: 5f64 6972 3a20 4f70 7469 6f6e 616c 5b55  _dir: Optional[U
-00019540: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
-00019550: 684c 696b 655d 5d20 3d20 4e6f 6e65 2c0a  hLike]] = None,.
-00019560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019570: 2020 2020 2020 2020 2020 2067 7075 3a20             gpu: 
-00019580: 4f70 7469 6f6e 616c 5b62 6f6f 6c5d 203d  Optional[bool] =
-00019590: 2046 616c 7365 2c0a 2020 2020 2020 2020   False,.        
-000195a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000195b0: 2020 2073 7566 6669 783a 204f 7074 696f     suffix: Optio
-000195c0: 6e61 6c5b 7374 725d 203d 204e 6f6e 652c  nal[str] = None,
-000195d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000195e0: 2020 2020 2020 2020 2020 2020 7665 7262              verb
-000195f0: 6f73 653a 204f 7074 696f 6e61 6c5b 626f  ose: Optional[bo
-00019600: 6f6c 5d20 3d20 5472 7565 2920 2d3e 2055  ol] = True) -> U
-00019610: 6e69 6f6e 5b4e 6f6e 652c 204c 6973 745b  nion[None, List[
-00019620: 556e 696f 6e5b 4e6f 6e65 2c20 7374 722c  Union[None, str,
-00019630: 206f 732e 5061 7468 4c69 6b65 5d5d 5d3a   os.PathLike]]]:
-00019640: 0a20 2020 2022 2222 0a20 2020 2052 652d  .    """.    Re-
-00019650: 7369 7a65 2061 206c 6973 7420 6f66 2076  size a list of v
-00019660: 6964 656f 7320 746f 2061 2073 7065 6369  ideos to a speci
-00019670: 6669 6564 2077 6964 7468 2077 6869 6c65  fied width while
-00019680: 2072 6574 6169 6e69 6e67 2074 6865 6972   retaining their
-00019690: 2061 7370 6563 7420 7261 7469 6f73 2e0a   aspect ratios..
-000196a0: 0a20 2020 203a 7061 7261 6d20 4c69 7374  .    :param List
-000196b0: 5b55 6e69 6f6e 5b73 7472 2c20 6f73 2e50  [Union[str, os.P
-000196c0: 6174 684c 696b 655d 5d20 7669 6465 6f5f  athLike]] video_
-000196d0: 7061 7468 733a 204c 6973 7420 6f66 2070  paths: List of p
-000196e0: 6174 6820 746f 2076 6964 656f 732e 0a20  ath to videos.. 
-000196f0: 2020 203a 7061 7261 6d20 556e 696f 6e5b     :param Union[
-00019700: 696e 742c 2073 7472 5d20 7769 6474 683a  int, str] width:
-00019710: 2054 6865 2077 6964 7468 206f 6620 7468   The width of th
-00019720: 6520 6f75 7470 7574 2076 6964 656f 732e  e output videos.
-00019730: 2049 6620 696e 742c 2074 6865 6e20 7468   If int, then th
-00019740: 6520 7769 6474 6820 696e 2070 6978 656c  e width in pixel
-00019750: 732e 2049 6620 7374 722c 2074 6865 6e20  s. If str, then 
-00019760: 7468 6520 696e 6465 7820 696e 2060 6076  the index in ``v
-00019770: 6964 656f 5f70 6174 6873 6060 2066 726f  ideo_paths`` fro
-00019780: 6d20 7768 6963 6820 746f 2067 7261 6220  m which to grab 
-00019790: 7468 6520 7769 6474 682e 0a20 2020 203a  the width..    :
-000197a0: 7061 7261 6d20 4f70 7469 6f6e 616c 5b62  param Optional[b
-000197b0: 6f6f 6c5d 206f 7665 7277 7269 7465 3a20  ool] overwrite: 
-000197c0: 4966 2054 7275 652c 2074 6865 6e20 6f76  If True, then ov
-000197d0: 6572 7772 6974 6573 2074 6865 206f 7269  erwrites the ori
-000197e0: 6769 6e61 6c20 7669 6465 6f73 2e20 4465  ginal videos. De
-000197f0: 6661 756c 7420 4661 6c73 652e 0a20 2020  fault False..   
-00019800: 203a 7061 7261 6d20 4f70 7469 6f6e 616c   :param Optional
-00019810: 5b55 6e69 6f6e 5b73 7472 2c20 6f73 2e50  [Union[str, os.P
-00019820: 6174 684c 696b 655d 5d20 7361 7665 5f64  athLike]] save_d
-00019830: 6972 3a20 4966 206e 6f74 204e 6f6e 652c  ir: If not None,
-00019840: 2074 6865 6e20 7468 6520 6469 7265 6374   then the direct
-00019850: 6f72 7920 7768 6572 6520 746f 2073 746f  ory where to sto
-00019860: 7265 2074 6865 2072 652d 7369 7a65 6420  re the re-sized 
-00019870: 7669 6465 6f73 2e0a 2020 2020 3a70 6172  videos..    :par
-00019880: 616d 204f 7074 696f 6e61 6c5b 626f 6f6c  am Optional[bool
-00019890: 5d20 6770 753a 2049 6620 5472 7565 2c20  ] gpu: If True, 
-000198a0: 7468 656e 2075 7365 2046 466d 7065 6720  then use FFmpeg 
-000198b0: 4750 5520 636f 6465 6373 2e20 4465 6661  GPU codecs. Defa
-000198c0: 756c 7420 4661 6c73 652e 0a20 2020 203a  ult False..    :
-000198d0: 7061 7261 6d20 4f70 7469 6f6e 616c 5b62  param Optional[b
-000198e0: 6f6f 6c5d 2073 7566 6669 783a 2049 6620  ool] suffix: If 
-000198f0: 6e6f 7420 4e6f 6e65 2c20 7468 656e 2073  not None, then s
-00019900: 746f 7265 7320 7468 6520 7265 7369 7a65  tores the resize
-00019910: 6420 7669 6465 6f73 2069 6e20 7468 6520  d videos in the 
-00019920: 7361 6d65 2064 6972 6563 746f 7279 2061  same directory a
-00019930: 7320 7468 6520 696e 7075 7420 7669 6465  s the input vide
-00019940: 6f73 2077 6974 6820 7468 6520 7072 6f76  os with the prov
-00019950: 6964 6564 2073 7566 6669 782e 0a20 2020  ided suffix..   
-00019960: 203a 7061 7261 6d20 4f70 7469 6f6e 616c   :param Optional
-00019970: 5b62 6f6f 6c5d 2076 6572 626f 7365 3a20  [bool] verbose: 
-00019980: 4966 2054 7275 652c 2070 7269 6e74 7320  If True, prints 
-00019990: 7072 6f67 7265 7373 2e20 4465 6661 756c  progress. Defaul
-000199a0: 7420 5472 7565 2e0a 2020 2020 3a72 6574  t True..    :ret
-000199b0: 7572 6e20 556e 696f 6e5b 4e6f 6e65 2c20  urn Union[None, 
-000199c0: 4c69 7374 5b55 6e69 6f6e 5b73 7472 2c20  List[Union[str, 
-000199d0: 6f73 2e50 6174 684c 696b 655d 5d5d 3a20  os.PathLike]]]: 
-000199e0: 4966 2073 6176 655f 6469 7220 6973 206e  If save_dir is n
-000199f0: 6f74 204e 6f6e 652c 2072 6574 7572 6e73  ot None, returns
-00019a00: 2074 6865 2070 6174 6873 206f 6620 7468   the paths of th
-00019a10: 6520 7265 2d73 697a 6564 2076 6964 656f  e re-sized video
-00019a20: 732e 2045 6c73 6520 7265 7475 726e 7320  s. Else returns 
-00019a30: 656d 7074 7920 6c69 7374 2e0a 0a20 2020  empty list...   
-00019a40: 203a 6578 616d 706c 653a 0a20 2020 203e   :example:.    >
-00019a50: 3e3e 2076 6964 656f 5f70 6174 6873 3d20  >> video_paths= 
-00019a60: 5b27 2f55 7365 7273 2f73 696d 6f6e 2f44  ['/Users/simon/D
-00019a70: 6573 6b74 6f70 2f65 6e76 732f 7369 6d62  esktop/envs/simb
-00019a80: 612f 7472 6f75 626c 6573 686f 6f74 696e  a/troubleshootin
-00019a90: 672f 5241 545f 4e4f 522f 7072 6f6a 6563  g/RAT_NOR/projec
-00019aa0: 745f 666f 6c64 6572 2f76 6964 656f 732f  t_folder/videos/
-00019ab0: 7465 7374 2f30 3831 3032 3032 315f 444f  test/08102021_DO
-00019ac0: 545f 5261 7437 5f38 2832 292e 6d70 3427  T_Rat7_8(2).mp4'
-00019ad0: 2c20 272f 5573 6572 732f 7369 6d6f 6e2f  , '/Users/simon/
-00019ae0: 4465 736b 746f 702f 656e 7673 2f73 696d  Desktop/envs/sim
-00019af0: 6261 2f74 726f 7562 6c65 7368 6f6f 7469  ba/troubleshooti
-00019b00: 6e67 2f52 4154 5f4e 4f52 2f70 726f 6a65  ng/RAT_NOR/proje
-00019b10: 6374 5f66 6f6c 6465 722f 7669 6465 6f73  ct_folder/videos
-00019b20: 2f74 6573 742f 3038 3130 3230 3231 5f44  /test/08102021_D
-00019b30: 4f54 5f52 6174 3131 5f31 322e 6d70 3427  OT_Rat11_12.mp4'
-00019b40: 5d0a 2020 2020 3e3e 3e20 5f20 3d20 7265  ].    >>> _ = re
-00019b50: 7369 7a65 5f76 6964 656f 735f 6279 5f77  size_videos_by_w
-00019b60: 6964 7468 2876 6964 656f 5f70 6174 6873  idth(video_paths
-00019b70: 3d76 6964 656f 5f70 6174 6873 2c20 7769  =video_paths, wi
-00019b80: 6474 683d 3330 302c 206f 7665 7277 7269  dth=300, overwri
-00019b90: 7465 3d46 616c 7365 2c20 7361 7665 5f64  te=False, save_d
-00019ba0: 6972 3d27 2f55 7365 7273 2f73 696d 6f6e  ir='/Users/simon
-00019bb0: 2f44 6573 6b74 6f70 2f65 6e76 732f 7369  /Desktop/envs/si
-00019bc0: 6d62 612f 7472 6f75 626c 6573 686f 6f74  mba/troubleshoot
-00019bd0: 696e 672f 5241 545f 4e4f 522f 7072 6f6a  ing/RAT_NOR/proj
-00019be0: 6563 745f 666f 6c64 6572 2f76 6964 656f  ect_folder/video
-00019bf0: 732f 7465 7374 2f6e 6577 2729 0a20 2020  s/test/new').   
-00019c00: 2022 2222 0a0a 2020 2020 7469 6d65 7220   """..    timer 
-00019c10: 3d20 5369 6d62 6154 696d 6572 2873 7461  = SimbaTimer(sta
-00019c20: 7274 3d54 7275 6529 0a20 2020 2069 6620  rt=True).    if 
-00019c30: 286e 6f74 206f 7665 7277 7269 7465 2920  (not overwrite) 
-00019c40: 616e 6420 2873 6176 655f 6469 7220 6973  and (save_dir is
-00019c50: 204e 6f6e 6529 2061 6e64 2028 7375 6666   None) and (suff
-00019c60: 6978 2069 7320 4e6f 6e65 293a 0a20 2020  ix is None):.   
-00019c70: 2020 2020 2072 6169 7365 2049 6e76 616c       raise Inval
-00019c80: 6964 496e 7075 7445 7272 6f72 286d 7367  idInputError(msg
-00019c90: 3d22 5072 6f76 6964 6520 6120 7361 7665  ="Provide a save
-00019ca0: 5f64 6972 2c20 4f52 2073 6574 206f 7665  _dir, OR set ove
-00019cb0: 7277 7269 7465 2074 6f20 5472 7565 2c20  rwrite to True, 
-00019cc0: 4f52 2070 726f 7669 6465 2061 2073 7566  OR provide a suf
-00019cd0: 6669 7822 2c20 736f 7572 6365 3d72 6573  fix", source=res
-00019ce0: 697a 655f 7669 6465 6f73 5f62 795f 7769  ize_videos_by_wi
-00019cf0: 6474 682e 5f5f 6e61 6d65 5f5f 290a 2020  dth.__name__).  
-00019d00: 2020 656c 6966 2028 6f76 6572 7772 6974    elif (overwrit
-00019d10: 6529 2061 6e64 2028 7361 7665 5f64 6972  e) and (save_dir
-00019d20: 2069 7320 6e6f 7420 4e6f 6e65 293a 0a20   is not None):. 
-00019d30: 2020 2020 2020 2072 6169 7365 2049 6e76         raise Inv
-00019d40: 616c 6964 496e 7075 7445 7272 6f72 286d  alidInputError(m
-00019d50: 7367 3d22 5072 6f76 6964 6520 6120 7361  sg="Provide a sa
-00019d60: 7665 5f64 6972 2c20 4f52 2073 6574 206f  ve_dir, OR set o
-00019d70: 7665 7277 7269 7465 2074 6f20 5472 7565  verwrite to True
-00019d80: 2c20 4f52 2070 726f 7669 6465 2061 2073  , OR provide a s
-00019d90: 7566 6669 7822 2c20 736f 7572 6365 3d72  uffix", source=r
-00019da0: 6573 697a 655f 7669 6465 6f73 5f62 795f  esize_videos_by_
-00019db0: 7769 6474 682e 5f5f 6e61 6d65 5f5f 290a  width.__name__).
-00019dc0: 2020 2020 656c 6966 2028 6f76 6572 7772      elif (overwr
-00019dd0: 6974 6529 2061 6e64 2028 7375 6666 6978  ite) and (suffix
-00019de0: 2069 7320 6e6f 7420 4e6f 6e65 293a 0a20   is not None):. 
-00019df0: 2020 2020 2020 2072 6169 7365 2049 6e76         raise Inv
-00019e00: 616c 6964 496e 7075 7445 7272 6f72 286d  alidInputError(m
-00019e10: 7367 3d22 5072 6f76 6964 6520 6120 7361  sg="Provide a sa
-00019e20: 7665 5f64 6972 2c20 4f52 2073 6574 206f  ve_dir, OR set o
-00019e30: 7665 7277 7269 7465 2074 6f20 5472 7565  verwrite to True
-00019e40: 2c20 4f52 2070 726f 7669 6465 2061 2073  , OR provide a s
-00019e50: 7566 6669 7822 2c20 736f 7572 6365 3d72  uffix", source=r
-00019e60: 6573 697a 655f 7669 6465 6f73 5f62 795f  esize_videos_by_
-00019e70: 7769 6474 682e 5f5f 6e61 6d65 5f5f 290a  width.__name__).
-00019e80: 2020 2020 656c 6966 2028 7361 7665 5f64      elif (save_d
-00019e90: 6972 2069 7320 6e6f 7420 4e6f 6e65 2920  ir is not None) 
-00019ea0: 616e 6420 2873 7566 6669 7820 6973 206e  and (suffix is n
-00019eb0: 6f74 204e 6f6e 6529 3a0a 2020 2020 2020  ot None):.      
-00019ec0: 2020 7261 6973 6520 496e 7661 6c69 6449    raise InvalidI
-00019ed0: 6e70 7574 4572 726f 7228 6d73 673d 2250  nputError(msg="P
-00019ee0: 726f 7669 6465 2061 2073 6176 655f 6469  rovide a save_di
-00019ef0: 722c 204f 5220 7365 7420 6f76 6572 7772  r, OR set overwr
-00019f00: 6974 6520 746f 2054 7275 652c 204f 5220  ite to True, OR 
-00019f10: 7072 6f76 6964 6520 6120 7375 6666 6978  provide a suffix
-00019f20: 222c 2073 6f75 7263 653d 7265 7369 7a65  ", source=resize
-00019f30: 5f76 6964 656f 735f 6279 5f77 6964 7468  _videos_by_width
-00019f40: 2e5f 5f6e 616d 655f 5f29 0a20 2020 2069  .__name__).    i
-00019f50: 6620 7361 7665 5f64 6972 2069 7320 6e6f  f save_dir is no
-00019f60: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-00019f70: 6966 206e 6f74 206f 732e 7061 7468 2e69  if not os.path.i
-00019f80: 7364 6972 2873 6176 655f 6469 7229 3a0a  sdir(save_dir):.
-00019f90: 2020 2020 2020 2020 2020 2020 6f73 2e6d              os.m
-00019fa0: 616b 6564 6972 7328 7361 7665 5f64 6972  akedirs(save_dir
-00019fb0: 290a 2020 2020 6368 6563 6b5f 7661 6c69  ).    check_vali
-00019fc0: 645f 6c73 7428 6461 7461 3d76 6964 656f  d_lst(data=video
-00019fd0: 5f70 6174 6873 2c20 736f 7572 6365 3d72  _paths, source=r
-00019fe0: 6573 697a 655f 7669 6465 6f73 5f62 795f  esize_videos_by_
-00019ff0: 7769 6474 682e 5f5f 6e61 6d65 5f5f 2c20  width.__name__, 
-0001a000: 6d69 6e5f 6c65 6e3d 3129 0a20 2020 205f  min_len=1).    _
-0001a010: 203d 205b 6368 6563 6b5f 6669 6c65 5f65   = [check_file_e
-0001a020: 7869 7374 5f61 6e64 5f72 6561 6461 626c  xist_and_readabl
-0001a030: 6528 7829 2066 6f72 2078 2069 6e20 7669  e(x) for x in vi
-0001a040: 6465 6f5f 7061 7468 735d 0a20 2020 206e  deo_paths].    n
-0001a050: 6577 5f76 6964 656f 5f70 6174 6873 203d  ew_video_paths =
-0001a060: 205b 5d0a 2020 2020 6966 2069 7369 6e73   [].    if isins
-0001a070: 7461 6e63 6528 7769 6474 682c 2073 7472  tance(width, str
-0001a080: 293a 0a20 2020 2020 2020 2063 6865 636b  ):.        check
-0001a090: 5f69 6e74 280a 2020 2020 2020 2020 2020  _int(.          
-0001a0a0: 2020 6e61 6d65 3d66 227b 7265 7369 7a65    name=f"{resize
-0001a0b0: 5f76 6964 656f 735f 6279 5f77 6964 7468  _videos_by_width
-0001a0c0: 2e5f 5f6e 616d 655f 5f7d 2068 6569 6768  .__name__} heigh
-0001a0d0: 7422 2c0a 2020 2020 2020 2020 2020 2020  t",.            
-0001a0e0: 7661 6c75 653d 7769 6474 682c 0a20 2020  value=width,.   
-0001a0f0: 2020 2020 2020 2020 206d 696e 5f76 616c           min_val
-0001a100: 7565 3d30 2c0a 2020 2020 2020 2020 2020  ue=0,.          
-0001a110: 2020 6d61 785f 7661 6c75 653d 6c65 6e28    max_value=len(
-0001a120: 7669 6465 6f5f 7061 7468 7329 2c0a 2020  video_paths),.  
-0001a130: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-0001a140: 7669 6465 6f5f 7769 6474 6873 203d 205b  video_widths = [
-0001a150: 5d0a 2020 2020 2020 2020 666f 7220 6920  ].        for i 
-0001a160: 696e 2076 6964 656f 5f70 6174 6873 3a0a  in video_paths:.
-0001a170: 2020 2020 2020 2020 2020 2020 7669 6465              vide
-0001a180: 6f5f 7769 6474 6873 2e61 7070 656e 6428  o_widths.append(
-0001a190: 6765 745f 7669 6465 6f5f 6d65 7461 5f64  get_video_meta_d
-0001a1a0: 6174 6128 7669 6465 6f5f 7061 7468 3d69  ata(video_path=i
-0001a1b0: 295b 2277 6964 7468 225d 290a 2020 2020  )["width"]).    
-0001a1c0: 2020 2020 7769 6474 6820 3d20 7669 6465      width = vide
-0001a1d0: 6f5f 7769 6474 6873 5b69 6e74 2877 6964  o_widths[int(wid
-0001a1e0: 7468 295d 0a20 2020 2066 6f72 2063 6e74  th)].    for cnt
-0001a1f0: 2c20 7669 6465 6f5f 7061 7468 2069 6e20  , video_path in 
-0001a200: 656e 756d 6572 6174 6528 7669 6465 6f5f  enumerate(video_
-0001a210: 7061 7468 7329 3a0a 2020 2020 2020 2020  paths):.        
-0001a220: 6469 725f 6e61 6d65 2c20 7669 6465 6f5f  dir_name, video_
-0001a230: 6e61 6d65 2c20 6578 7420 3d20 6765 745f  name, ext = get_
-0001a240: 666e 5f65 7874 2876 6964 656f 5f70 6174  fn_ext(video_pat
-0001a250: 6829 0a20 2020 2020 2020 2069 6620 7665  h).        if ve
-0001a260: 7262 6f73 653a 0a20 2020 2020 2020 2020  rbose:.         
-0001a270: 2020 2070 7269 6e74 280a 2020 2020 2020     print(.      
-0001a280: 2020 2020 2020 2020 2020 6622 5265 7369            f"Resi
-0001a290: 7a69 6e67 2077 6964 7468 2076 6964 656f  zing width video
-0001a2a0: 207b 7669 6465 6f5f 6e61 6d65 7d20 2856   {video_name} (V
-0001a2b0: 6964 656f 207b 636e 742b 317d 2f7b 6c65  ideo {cnt+1}/{le
-0001a2c0: 6e28 7669 6465 6f5f 7061 7468 7329 7d29  n(video_paths)})
-0001a2d0: 2e2e 2e22 0a20 2020 2020 2020 2020 2020  ...".           
-0001a2e0: 2029 0a20 2020 2020 2020 2069 6620 6f76   ).        if ov
-0001a2f0: 6572 7772 6974 653a 0a20 2020 2020 2020  erwrite:.       
-0001a300: 2020 2020 2064 7420 3d20 6461 7465 7469       dt = dateti
-0001a310: 6d65 2e6e 6f77 2829 2e73 7472 6674 696d  me.now().strftim
-0001a320: 6528 2225 5925 6d25 6425 4825 4d25 5322  e("%Y%m%d%H%M%S"
-0001a330: 290a 2020 2020 2020 2020 2020 2020 7361  ).            sa
-0001a340: 7665 5f70 6174 6820 3d20 6f73 2e70 6174  ve_path = os.pat
-0001a350: 682e 6a6f 696e 2864 6972 5f6e 616d 652c  h.join(dir_name,
-0001a360: 2066 227b 7669 6465 6f5f 6e61 6d65 7d5f   f"{video_name}_
-0001a370: 7b64 747d 2e6d 7034 2229 0a20 2020 2020  {dt}.mp4").     
-0001a380: 2020 2069 6620 7375 6666 6978 2069 7320     if suffix is 
-0001a390: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-0001a3a0: 2020 7361 7665 5f70 6174 6820 3d20 6f73    save_path = os
-0001a3b0: 2e70 6174 682e 6a6f 696e 2873 6176 655f  .path.join(save_
-0001a3c0: 6469 722c 2066 227b 7669 6465 6f5f 6e61  dir, f"{video_na
-0001a3d0: 6d65 7d2e 6d70 3422 290a 2020 2020 2020  me}.mp4").      
-0001a3e0: 2020 2020 2020 6e65 775f 7669 6465 6f5f        new_video_
-0001a3f0: 7061 7468 732e 6170 7065 6e64 2873 6176  paths.append(sav
-0001a400: 655f 7061 7468 290a 2020 2020 2020 2020  e_path).        
-0001a410: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-0001a420: 2020 6368 6563 6b5f 7374 7228 6e61 6d65    check_str(name
-0001a430: 3d66 277b 7265 7369 7a65 5f76 6964 656f  =f'{resize_video
-0001a440: 735f 6279 5f77 6964 7468 2e5f 5f6e 616d  s_by_width.__nam
-0001a450: 655f 5f7d 2073 7566 6669 7827 2c20 7661  e__} suffix', va
-0001a460: 6c75 653d 7375 6666 6978 290a 2020 2020  lue=suffix).    
-0001a470: 2020 2020 2020 2020 7361 7665 5f70 6174          save_pat
-0001a480: 6820 3d20 6f73 2e70 6174 682e 6a6f 696e  h = os.path.join
-0001a490: 2864 6972 5f6e 616d 652c 2066 227b 7669  (dir_name, f"{vi
-0001a4a0: 6465 6f5f 6e61 6d65 7d5f 7b73 7566 6669  deo_name}_{suffi
-0001a4b0: 787d 2e6d 7034 2229 0a20 2020 2020 2020  x}.mp4").       
-0001a4c0: 2020 2020 206e 6577 5f76 6964 656f 5f70       new_video_p
-0001a4d0: 6174 6873 2e61 7070 656e 6428 7361 7665  aths.append(save
-0001a4e0: 5f70 6174 6829 0a20 2020 2020 2020 2069  _path).        i
-0001a4f0: 6620 6770 753a 0a20 2020 2020 2020 2020  f gpu:.         
-0001a500: 2020 2063 6d64 203d 2066 2766 666d 7065     cmd = f'ffmpe
-0001a510: 6720 2d79 202d 6877 6163 6365 6c20 6175  g -y -hwaccel au
-0001a520: 746f 202d 6920 227b 7669 6465 6f5f 7061  to -i "{video_pa
-0001a530: 7468 7d22 202d 7666 2073 6361 6c65 5f6e  th}" -vf scale_n
-0001a540: 7070 3d7b 7769 6474 687d 3a2d 3220 2d63  pp={width}:-2 -c
-0001a550: 3a76 2068 3236 345f 6e76 656e 6320 227b  :v h264_nvenc "{
-0001a560: 7361 7665 5f70 6174 687d 2220 2d68 6964  save_path}" -hid
-0001a570: 655f 6261 6e6e 6572 202d 6c6f 676c 6576  e_banner -loglev
-0001a580: 656c 2065 7272 6f72 202d 7927 0a20 2020  el error -y'.   
-0001a590: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0001a5a0: 2020 2020 2020 2063 6d64 203d 2066 2766         cmd = f'f
-0001a5b0: 666d 7065 6720 2d79 202d 6920 227b 7669  fmpeg -y -i "{vi
-0001a5c0: 6465 6f5f 7061 7468 7d22 202d 7666 2073  deo_path}" -vf s
-0001a5d0: 6361 6c65 3d7b 7769 6474 687d 3a2d 3220  cale={width}:-2 
-0001a5e0: 227b 7361 7665 5f70 6174 687d 2220 2d68  "{save_path}" -h
-0001a5f0: 6964 655f 6261 6e6e 6572 202d 6c6f 676c  ide_banner -logl
-0001a600: 6576 656c 2065 7272 6f72 202d 7374 6174  evel error -stat
-0001a610: 7320 2d79 270a 2020 2020 2020 2020 7375  s -y'.        su
-0001a620: 6270 726f 6365 7373 2e63 616c 6c28 636d  bprocess.call(cm
-0001a630: 642c 2073 6865 6c6c 3d54 7275 652c 2073  d, shell=True, s
-0001a640: 7464 6f75 743d 7375 6270 726f 6365 7373  tdout=subprocess
-0001a650: 2e50 4950 4529 0a20 2020 2020 2020 2069  .PIPE).        i
-0001a660: 6620 6f76 6572 7772 6974 653a 0a0a 2020  f overwrite:..  
-0001a670: 2020 2020 2020 2020 2020 7368 7574 696c            shutil
-0001a680: 2e63 6f70 7928 7361 7665 5f70 6174 682c  .copy(save_path,
-0001a690: 2076 6964 656f 5f70 6174 6829 0a20 2020   video_path).   
-0001a6a0: 2020 2020 2020 2020 206f 732e 7265 6d6f           os.remo
-0001a6b0: 7665 2873 6176 655f 7061 7468 290a 2020  ve(save_path).  
-0001a6c0: 2020 2020 2020 6966 2076 6572 626f 7365        if verbose
-0001a6d0: 3a0a 2020 2020 2020 2020 2020 2020 7072  :.            pr
-0001a6e0: 696e 7428 6622 5265 7369 7a65 6420 7669  int(f"Resized vi
-0001a6f0: 6465 6f20 7b73 6176 655f 7061 7468 7d2e  deo {save_path}.
-0001a700: 2e2e 2229 0a20 2020 2074 696d 6572 2e73  ..").    timer.s
-0001a710: 746f 705f 7469 6d65 7228 290a 2020 2020  top_timer().    
-0001a720: 6966 2076 6572 626f 7365 3a0a 2020 2020  if verbose:.    
-0001a730: 2020 2020 7072 696e 7428 6622 5265 7369      print(f"Resi
-0001a740: 7a65 6420 7769 6474 6820 7b6c 656e 2876  zed width {len(v
-0001a750: 6964 656f 5f70 6174 6873 297d 2076 6964  ideo_paths)} vid
-0001a760: 656f 2873 292e 2045 6c61 7073 6564 2074  eo(s). Elapsed t
-0001a770: 696d 653a 207b 7469 6d65 722e 656c 6170  ime: {timer.elap
-0001a780: 7365 645f 7469 6d65 5f73 7472 7d73 2e22  sed_time_str}s."
-0001a790: 290a 2020 2020 7265 7475 726e 206e 6577  ).    return new
-0001a7a0: 5f76 6964 656f 5f70 6174 6873 0a0a 0a64  _video_paths...d
-0001a7b0: 6566 2063 7265 6174 655f 626c 616e 6b5f  ef create_blank_
-0001a7c0: 7669 6465 6f28 7061 7468 3a20 556e 696f  video(path: Unio
-0001a7d0: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
-0001a7e0: 6b65 5d2c 0a20 2020 2020 2020 2020 2020  ke],.           
-0001a7f0: 2020 2020 2020 2020 2020 2020 6c65 6e67              leng
-0001a800: 7468 3a20 696e 742c 0a20 2020 2020 2020  th: int,.       
-0001a810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a820: 7769 6474 683a 2069 6e74 2c0a 2020 2020  width: int,.    
-0001a830: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a840: 2020 2068 6569 6768 743a 2069 6e74 2c0a     height: int,.
-0001a850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a860: 2020 2020 2020 2063 6f6c 6f72 3a20 4f70         color: Op
-0001a870: 7469 6f6e 616c 5b73 7472 5d20 3d20 2262  tional[str] = "b
-0001a880: 6c61 636b 222c 0a20 2020 2020 2020 2020  lack",.         
-0001a890: 2020 2020 2020 2020 2020 2020 2020 6770                gp
-0001a8a0: 753a 204f 7074 696f 6e61 6c5b 626f 6f6c  u: Optional[bool
-0001a8b0: 5d20 3d20 4661 6c73 652c 0a20 2020 2020  ] = False,.     
-0001a8c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a8d0: 2020 7665 7262 6f73 653a 204f 7074 696f    verbose: Optio
-0001a8e0: 6e61 6c5b 626f 6f6c 5d20 3d20 4661 6c73  nal[bool] = Fals
-0001a8f0: 6529 202d 3e20 4e6f 6e65 3a0a 2020 2020  e) -> None:.    
-0001a900: 2222 220a 2020 2020 4372 6561 7465 2061  """.    Create a
-0001a910: 2022 626c 616e 6b22 2075 6e69 2d63 6f6c   "blank" uni-col
-0001a920: 6f72 6564 2076 6964 656f 206f 6620 7370  ored video of sp
-0001a930: 6563 6966 6965 6420 7369 7a65 2061 6e64  ecified size and
-0001a940: 206c 656e 6774 682e 0a0a 2020 2020 2e2e   length...    ..
-0001a950: 206e 6f74 653a 3a0a 2020 2020 2020 2055   note::.       U
-0001a960: 7365 6675 6c20 666f 7220 7768 656e 2063  seful for when c
-0001a970: 7265 6174 696e 6720 696d 6167 6520 6d6f  reating image mo
-0001a980: 7361 6963 7320 7769 7468 2075 6e2d 6576  saics with un-ev
-0001a990: 656e 206e 756d 6265 7220 6f66 2076 6964  en number of vid
-0001a9a0: 656f 7320 616e 6420 6e65 6564 2061 2022  eos and need a "
-0001a9b0: 6669 6c6c 2220 7669 6465 6f20 696e 2065  fill" video in e
-0001a9c0: 2e67 2e20 626c 6163 6b20 636f 6c6f 722e  .g. black color.
-0001a9d0: 0a0a 2020 2020 3a70 6172 616d 2055 6e69  ..    :param Uni
-0001a9e0: 6f6e 5b73 7472 2c20 6f73 2e50 6174 684c  on[str, os.PathL
-0001a9f0: 696b 655d 2070 6174 683a 204c 6f63 6174  ike] path: Locat
-0001aa00: 696f 6e20 7768 6572 6520 746f 2073 746f  ion where to sto
-0001aa10: 7265 2074 6865 2062 6c61 6e6b 2076 6964  re the blank vid
-0001aa20: 656f 2e0a 2020 2020 3a70 6172 616d 2069  eo..    :param i
-0001aa30: 6e74 206c 656e 6774 683a 204c 656e 6774  nt length: Lengt
-0001aa40: 6820 6f66 2074 6865 2062 6c61 6e6b 2076  h of the blank v
-0001aa50: 6964 656f 2069 6e20 7365 636f 6e64 732e  ideo in seconds.
-0001aa60: 0a20 2020 203a 7061 7261 6d20 696e 7420  .    :param int 
-0001aa70: 7769 6474 683a 2057 6964 7468 206f 6620  width: Width of 
-0001aa80: 7468 6520 626c 616e 6b20 7669 6465 6f20  the blank video 
-0001aa90: 696e 2070 6978 656c 732e 0a20 2020 203a  in pixels..    :
-0001aaa0: 7061 7261 6d20 696e 7420 6865 6967 6874  param int height
-0001aab0: 3a20 4865 6967 6874 206f 6620 7468 6520  : Height of the 
-0001aac0: 626c 616e 6b20 7669 6465 6f20 696e 2070  blank video in p
-0001aad0: 6978 656c 732e 0a20 2020 203a 7061 7261  ixels..    :para
-0001aae0: 6d20 4f70 7469 6f6e 616c 5b73 7472 5d20  m Optional[str] 
-0001aaf0: 636f 6c6f 723a 2043 6f6c 6f72 206f 6620  color: Color of 
-0001ab00: 7468 6520 626c 616e 6b20 7669 6465 6f2e  the blank video.
-0001ab10: 2044 6566 6175 6c74 2062 6c61 636b 2e0a   Default black..
-0001ab20: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
-0001ab30: 6e61 6c5b 626f 6f6c 5d20 6770 753a 2049  nal[bool] gpu: I
-0001ab40: 6620 5472 7565 2c20 7468 656e 2075 7365  f True, then use
-0001ab50: 2046 466d 7065 6720 4750 5520 636f 6465   FFmpeg GPU code
-0001ab60: 6373 2e20 4465 6661 756c 7420 4661 6c73  cs. Default Fals
-0001ab70: 652e 0a20 2020 203a 7061 7261 6d20 4f70  e..    :param Op
-0001ab80: 7469 6f6e 616c 5b62 6f6f 6c5d 2076 6572  tional[bool] ver
-0001ab90: 626f 7365 3a20 4966 2054 7275 652c 2070  bose: If True, p
-0001aba0: 7269 6e74 7320 7072 6f67 7265 7373 2e20  rints progress. 
-0001abb0: 4465 6661 756c 7420 5472 7565 2e0a 2020  Default True..  
-0001abc0: 2020 3a72 6574 7572 6e3a 204e 6f6e 652e    :return: None.
-0001abd0: 0a0a 2020 2020 3a65 7861 6d70 6c65 3a0a  ..    :example:.
-0001abe0: 2020 2020 3e3e 3e20 5f20 3d20 6372 6561      >>> _ = crea
-0001abf0: 7465 5f62 6c61 6e6b 5f76 6964 656f 2870  te_blank_video(p
-0001ac00: 6174 683d 272f 5573 6572 732f 7369 6d6f  ath='/Users/simo
-0001ac10: 6e2f 4465 736b 746f 702f 656e 7673 2f73  n/Desktop/envs/s
-0001ac20: 696d 6261 2f74 726f 7562 6c65 7368 6f6f  imba/troubleshoo
-0001ac30: 7469 6e67 2f52 4154 5f4e 4f52 2f70 726f  ting/RAT_NOR/pro
-0001ac40: 6a65 6374 5f66 6f6c 6465 722f 7669 6465  ject_folder/vide
-0001ac50: 6f73 2f74 6573 742f 6e65 772f 626c 616e  os/test/new/blan
-0001ac60: 6b5f 7465 7374 2e6d 7034 272c 206c 656e  k_test.mp4', len
-0001ac70: 6774 683d 352c 2077 6964 7468 3d33 3030  gth=5, width=300
-0001ac80: 2c20 6865 6967 6874 3d34 3030 2c20 6770  , height=400, gp
-0001ac90: 753d 4661 6c73 652c 2076 6572 626f 7365  u=False, verbose
-0001aca0: 3d54 7275 652c 2063 6f6c 6f72 3d27 6f72  =True, color='or
-0001acb0: 616e 6765 2729 0a20 2020 2022 2222 0a0a  ange').    """..
-0001acc0: 2020 2020 6368 6563 6b5f 696e 7428 6e61      check_int(na
-0001acd0: 6d65 3d66 227b 6372 6561 7465 5f62 6c61  me=f"{create_bla
-0001ace0: 6e6b 5f76 6964 656f 2e5f 5f6e 616d 655f  nk_video.__name_
-0001acf0: 5f7d 206c 656e 6774 6822 2c20 7661 6c75  _} length", valu
-0001ad00: 653d 6c65 6e67 7468 2c20 6d69 6e5f 7661  e=length, min_va
-0001ad10: 6c75 653d 3129 0a20 2020 2063 6865 636b  lue=1).    check
-0001ad20: 5f69 6e74 286e 616d 653d 6622 7b63 7265  _int(name=f"{cre
-0001ad30: 6174 655f 626c 616e 6b5f 7669 6465 6f2e  ate_blank_video.
-0001ad40: 5f5f 6e61 6d65 5f5f 7d20 7769 6474 6822  __name__} width"
-0001ad50: 2c20 7661 6c75 653d 7769 6474 682c 206d  , value=width, m
-0001ad60: 696e 5f76 616c 7565 3d31 290a 2020 2020  in_value=1).    
-0001ad70: 6368 6563 6b5f 696e 7428 6e61 6d65 3d66  check_int(name=f
-0001ad80: 227b 6372 6561 7465 5f62 6c61 6e6b 5f76  "{create_blank_v
-0001ad90: 6964 656f 2e5f 5f6e 616d 655f 5f7d 2068  ideo.__name__} h
-0001ada0: 6569 6768 7422 2c20 7661 6c75 653d 6865  eight", value=he
-0001adb0: 6967 6874 2c20 6d69 6e5f 7661 6c75 653d  ight, min_value=
-0001adc0: 3129 0a20 2020 2063 6865 636b 5f69 665f  1).    check_if_
-0001add0: 6469 725f 6578 6973 7473 280a 2020 2020  dir_exists(.    
-0001ade0: 2020 2020 696e 5f64 6972 3d6f 732e 7061      in_dir=os.pa
-0001adf0: 7468 2e64 6972 6e61 6d65 2870 6174 6829  th.dirname(path)
-0001ae00: 2c0a 2020 2020 2020 2020 736f 7572 6365  ,.        source
-0001ae10: 3d63 7265 6174 655f 626c 616e 6b5f 7669  =create_blank_vi
-0001ae20: 6465 6f2e 5f5f 6e61 6d65 5f5f 2c0a 2020  deo.__name__,.  
-0001ae30: 2020 2020 2020 6372 6561 7465 5f69 665f        create_if_
-0001ae40: 6e6f 745f 6578 6973 743d 5472 7565 2c0a  not_exist=True,.
-0001ae50: 2020 2020 290a 2020 2020 7469 6d65 7220      ).    timer 
-0001ae60: 3d20 5369 6d62 6154 696d 6572 2873 7461  = SimbaTimer(sta
-0001ae70: 7274 3d54 7275 6529 0a20 2020 2069 6620  rt=True).    if 
-0001ae80: 7665 7262 6f73 653a 0a20 2020 2020 2020  verbose:.       
-0001ae90: 2070 7269 6e74 2822 4372 6561 7469 6e67   print("Creating
-0001aea0: 2062 6c61 6e6b 2076 6964 656f 2e2e 2e22   blank video..."
-0001aeb0: 290a 2020 2020 6966 2067 7075 3a0a 2020  ).    if gpu:.  
-0001aec0: 2020 2020 2020 636d 6420 3d20 6627 6666        cmd = f'ff
-0001aed0: 6d70 6567 202d 7920 2d74 207b 6c65 6e67  mpeg -y -t {leng
-0001aee0: 7468 7d20 2d66 206c 6176 6669 202d 6920  th} -f lavfi -i 
-0001aef0: 636f 6c6f 723d 633d 7b63 6f6c 6f72 7d3a  color=c={color}:
-0001af00: 733d 7b77 6964 7468 7d78 7b68 6569 6768  s={width}x{heigh
-0001af10: 747d 202d 633a 7620 6832 3634 5f6e 7665  t} -c:v h264_nve
-0001af20: 6e63 202d 7072 6573 6574 2073 6c6f 7720  nc -preset slow 
-0001af30: 2d74 756e 6520 7374 696c 6c69 6d61 6765  -tune stillimage
-0001af40: 202d 7069 785f 666d 7420 7975 7634 3230   -pix_fmt yuv420
-0001af50: 7020 227b 7061 7468 7d22 202d 6869 6465  p "{path}" -hide
-0001af60: 5f62 616e 6e65 7220 2d6c 6f67 6c65 7665  _banner -logleve
-0001af70: 6c20 6572 726f 7220 2d79 270a 2020 2020  l error -y'.    
-0001af80: 656c 7365 3a0a 2020 2020 2020 2020 636d  else:.        cm
-0001af90: 6420 3d20 6627 6666 6d70 6567 202d 7920  d = f'ffmpeg -y 
-0001afa0: 2d74 207b 6c65 6e67 7468 7d20 2d66 206c  -t {length} -f l
-0001afb0: 6176 6669 202d 6920 636f 6c6f 723d 633d  avfi -i color=c=
-0001afc0: 7b63 6f6c 6f72 7d3a 733d 7b77 6964 7468  {color}:s={width
-0001afd0: 7d78 7b68 6569 6768 747d 202d 633a 7620  }x{height} -c:v 
-0001afe0: 6c69 6278 3236 3420 2d74 756e 6520 7374  libx264 -tune st
-0001aff0: 696c 6c69 6d61 6765 202d 7069 785f 666d  illimage -pix_fm
-0001b000: 7420 7975 7634 3230 7020 227b 7061 7468  t yuv420p "{path
-0001b010: 7d22 202d 6869 6465 5f62 616e 6e65 7220  }" -hide_banner 
-0001b020: 2d6c 6f67 6c65 7665 6c20 6572 726f 7220  -loglevel error 
-0001b030: 2d79 270a 2020 2020 7375 6270 726f 6365  -y'.    subproce
-0001b040: 7373 2e63 616c 6c28 636d 642c 2073 6865  ss.call(cmd, she
-0001b050: 6c6c 3d54 7275 652c 2073 7464 6f75 743d  ll=True, stdout=
-0001b060: 7375 6270 726f 6365 7373 2e50 4950 4529  subprocess.PIPE)
-0001b070: 0a20 2020 2074 696d 6572 2e73 746f 705f  .    timer.stop_
-0001b080: 7469 6d65 7228 290a 2020 2020 6966 2076  timer().    if v
-0001b090: 6572 626f 7365 3a0a 2020 2020 2020 2020  erbose:.        
-0001b0a0: 7072 696e 7428 0a20 2020 2020 2020 2020  print(.         
-0001b0b0: 2020 2066 2242 6c61 6e6b 2076 6964 656f     f"Blank video
-0001b0c0: 2063 6f6d 706c 6574 652e 2053 6176 6564   complete. Saved
-0001b0d0: 2061 7420 7b70 6174 687d 2e20 456c 6170   at {path}. Elap
-0001b0e0: 7365 6420 7469 6d65 3a20 7b74 696d 6572  sed time: {timer
-0001b0f0: 2e65 6c61 7073 6564 5f74 696d 655f 7374  .elapsed_time_st
-0001b100: 727d 732e 220a 2020 2020 2020 2020 290a  r}s.".        ).
-0001b110: 0a0a 6465 6620 686f 7269 7a6f 6e74 616c  ..def horizontal
-0001b120: 5f76 6964 656f 5f63 6f6e 6361 7465 6e61  _video_concatena
-0001b130: 746f 7228 0a20 2020 2076 6964 656f 5f70  tor(.    video_p
-0001b140: 6174 6873 3a20 4c69 7374 5b55 6e69 6f6e  aths: List[Union
-0001b150: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
-0001b160: 655d 5d2c 0a20 2020 2073 6176 655f 7061  e]],.    save_pa
-0001b170: 7468 3a20 556e 696f 6e5b 7374 722c 206f  th: Union[str, o
-0001b180: 732e 5061 7468 4c69 6b65 5d2c 0a20 2020  s.PathLike],.   
-0001b190: 2068 6569 6768 745f 7078 3a20 4f70 7469   height_px: Opti
-0001b1a0: 6f6e 616c 5b55 6e69 6f6e 5b69 6e74 2c20  onal[Union[int, 
-0001b1b0: 7374 725d 5d20 3d20 4e6f 6e65 2c0a 2020  str]] = None,.  
-0001b1c0: 2020 6865 6967 6874 5f69 6478 3a20 4f70    height_idx: Op
-0001b1d0: 7469 6f6e 616c 5b55 6e69 6f6e 5b69 6e74  tional[Union[int
-0001b1e0: 2c20 7374 725d 5d20 3d20 4e6f 6e65 2c0a  , str]] = None,.
-0001b1f0: 2020 2020 6770 753a 204f 7074 696f 6e61      gpu: Optiona
-0001b200: 6c5b 626f 6f6c 5d20 3d20 4661 6c73 652c  l[bool] = False,
-0001b210: 0a20 2020 2076 6572 626f 7365 3a20 4f70  .    verbose: Op
-0001b220: 7469 6f6e 616c 5b62 6f6f 6c5d 203d 2054  tional[bool] = T
-0001b230: 7275 652c 0a29 202d 3e20 4e6f 6e65 3a0a  rue,.) -> None:.
-0001b240: 2020 2020 2222 220a 2020 2020 436f 6e63      """.    Conc
-0001b250: 6174 656e 6174 6573 206d 756c 7469 706c  atenates multipl
-0001b260: 6520 7669 6465 6f73 2068 6f72 697a 6f6e  e videos horizon
-0001b270: 7461 6c6c 792e 0a0a 2020 2020 2e2e 2069  tally...    .. i
-0001b280: 6d61 6765 3a3a 205f 7374 6174 6963 2f69  mage:: _static/i
-0001b290: 6d67 2f68 6f72 697a 6f6e 7461 6c5f 7669  mg/horizontal_vi
-0001b2a0: 6465 6f5f 636f 6e63 6174 656e 6174 6f72  deo_concatenator
-0001b2b0: 2e67 6966 0a20 2020 2020 2020 3a77 6964  .gif.       :wid
-0001b2c0: 7468 3a20 3130 3030 0a20 2020 2020 2020  th: 1000.       
-0001b2d0: 3a61 6c69 676e 3a20 6365 6e74 6572 0a0a  :align: center..
-0001b2e0: 2020 2020 3a70 6172 616d 204c 6973 745b      :param List[
-0001b2f0: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
-0001b300: 7468 4c69 6b65 5d5d 2076 6964 656f 5f70  thLike]] video_p
-0001b310: 6174 6873 3a20 4c69 7374 206f 6620 696e  aths: List of in
-0001b320: 7075 7420 7669 6465 6f20 6669 6c65 2070  put video file p
-0001b330: 6174 6873 2e0a 2020 2020 3a70 6172 616d  aths..    :param
-0001b340: 2055 6e69 6f6e 5b73 7472 2c20 6f73 2e50   Union[str, os.P
-0001b350: 6174 684c 696b 655d 2073 6176 655f 7061  athLike] save_pa
-0001b360: 7468 3a20 4669 6c65 2070 6174 6820 746f  th: File path to
-0001b370: 2073 6176 6520 7468 6520 636f 6e63 6174   save the concat
-0001b380: 656e 6174 6564 2076 6964 656f 2e0a 2020  enated video..  
-0001b390: 2020 3a70 6172 616d 204f 7074 696f 6e61    :param Optiona
-0001b3a0: 6c5b 696e 745d 2068 6569 6768 745f 7078  l[int] height_px
-0001b3b0: 3a20 4865 6967 6874 206f 6620 7468 6520  : Height of the 
-0001b3c0: 6f75 7470 7574 2076 6964 656f 2069 6e20  output video in 
-0001b3d0: 7069 7865 6c73 2e0a 2020 2020 3a70 6172  pixels..    :par
-0001b3e0: 616d 204f 7074 696f 6e61 6c5b 696e 745d  am Optional[int]
-0001b3f0: 2068 6569 6768 745f 6964 783a 2049 6e64   height_idx: Ind
-0001b400: 6578 206f 6620 7468 6520 7669 6465 6f20  ex of the video 
-0001b410: 746f 2075 7365 2066 6f72 2064 6574 6572  to use for deter
-0001b420: 6d69 6e69 6e67 2048 6569 6768 742e 0a20  mining Height.. 
-0001b430: 2020 203a 7061 7261 6d20 4f70 7469 6f6e     :param Option
-0001b440: 616c 5b62 6f6f 6c5d 2067 7075 3a20 5768  al[bool] gpu: Wh
-0001b450: 6574 6865 7220 746f 2075 7365 2047 5055  ether to use GPU
-0001b460: 2d61 6363 656c 6572 6174 6564 2063 6f64  -accelerated cod
-0001b470: 6563 2028 6465 6661 756c 743a 2046 616c  ec (default: Fal
-0001b480: 7365 292e 0a20 2020 203a 7061 7261 6d20  se)..    :param 
-0001b490: 4f70 7469 6f6e 616c 5b62 6f6f 6c5d 2076  Optional[bool] v
-0001b4a0: 6572 626f 7365 3a57 6865 7468 6572 2074  erbose:Whether t
-0001b4b0: 6f20 7072 696e 7420 7072 6f67 7265 7373  o print progress
-0001b4c0: 206d 6573 7361 6765 7320 2864 6566 6175   messages (defau
-0001b4d0: 6c74 3a20 5472 7565 292e 0a0a 2020 2020  lt: True)...    
-0001b4e0: 3a65 7861 6d70 6c65 3a0a 2020 2020 3e3e  :example:.    >>
-0001b4f0: 3e20 7669 6465 6f5f 7061 7468 7320 3d20  > video_paths = 
-0001b500: 5b27 7669 6465 6f31 2e6d 7034 272c 2027  ['video1.mp4', '
-0001b510: 7669 6465 6f32 2e6d 7034 275d 0a20 2020  video2.mp4'].   
-0001b520: 203e 3e3e 2078 203d 2068 6f72 697a 6f6e   >>> x = horizon
-0001b530: 7461 6c5f 7669 6465 6f5f 636f 6e63 6174  tal_video_concat
-0001b540: 656e 6174 6f72 2876 6964 656f 5f70 6174  enator(video_pat
-0001b550: 6873 3d76 6964 656f 5f70 6174 6873 2c20  hs=video_paths, 
-0001b560: 6865 6967 6874 5f70 783d 3530 2c20 7361  height_px=50, sa
-0001b570: 7665 5f70 6174 683d 272f 5573 6572 732f  ve_path='/Users/
-0001b580: 7369 6d6f 6e2f 4465 736b 746f 702f 656e  simon/Desktop/en
-0001b590: 7673 2f73 696d 6261 2f74 726f 7562 6c65  vs/simba/trouble
-0001b5a0: 7368 6f6f 7469 6e67 2f52 4154 5f4e 4f52  shooting/RAT_NOR
-0001b5b0: 2f70 726f 6a65 6374 5f66 6f6c 6465 722f  /project_folder/
-0001b5c0: 7669 6465 6f73 2f74 6573 742f 6e65 772f  videos/test/new/
-0001b5d0: 3038 3130 3230 3231 5f44 4f54 5f52 6174  08102021_DOT_Rat
-0001b5e0: 375f 3828 3229 5f2e 6d70 3427 2c20 6770  7_8(2)_.mp4', gp
-0001b5f0: 753d 4661 6c73 6529 0a20 2020 2022 2222  u=False).    """
-0001b600: 0a20 2020 2063 6865 636b 5f66 666d 7065  .    check_ffmpe
-0001b610: 675f 6176 6169 6c61 626c 6528 290a 2020  g_available().  
-0001b620: 2020 6966 2067 7075 2061 6e64 206e 6f74    if gpu and not
-0001b630: 2063 6865 636b 5f6e 7669 6465 615f 6770   check_nvidea_gp
-0001b640: 755f 6176 6169 6c61 626c 6528 293a 0a20  u_available():. 
-0001b650: 2020 2020 2020 2072 6169 7365 2046 464d         raise FFM
-0001b660: 5045 4743 6f64 6563 4750 5545 7272 6f72  PEGCodecGPUError
-0001b670: 280a 2020 2020 2020 2020 2020 2020 6d73  (.            ms
-0001b680: 673d 224e 5649 4445 4120 4750 5520 6e6f  g="NVIDEA GPU no
-0001b690: 7420 6176 6169 6c61 626c 6520 2861 7320  t available (as 
-0001b6a0: 6576 616c 7561 7465 6420 6279 206e 7669  evaluated by nvi
-0001b6b0: 6465 612d 736d 6920 7265 7475 726e 696e  dea-smi returnin
-0001b6c0: 6720 4e6f 6e65 2922 2c0a 2020 2020 2020  g None)",.      
-0001b6d0: 2020 2020 2020 736f 7572 6365 3d68 6f72        source=hor
-0001b6e0: 697a 6f6e 7461 6c5f 7669 6465 6f5f 636f  izontal_video_co
-0001b6f0: 6e63 6174 656e 6174 6f72 2e5f 5f6e 616d  ncatenator.__nam
-0001b700: 655f 5f2c 0a20 2020 2020 2020 2029 0a20  e__,.        ). 
-0001b710: 2020 2074 696d 6572 203d 2053 696d 6261     timer = Simba
-0001b720: 5469 6d65 7228 7374 6172 743d 5472 7565  Timer(start=True
-0001b730: 290a 2020 2020 6368 6563 6b5f 7661 6c69  ).    check_vali
-0001b740: 645f 6c73 7428 0a20 2020 2020 2020 2064  d_lst(.        d
-0001b750: 6174 613d 7669 6465 6f5f 7061 7468 732c  ata=video_paths,
-0001b760: 2073 6f75 7263 653d 686f 7269 7a6f 6e74   source=horizont
-0001b770: 616c 5f76 6964 656f 5f63 6f6e 6361 7465  al_video_concate
-0001b780: 6e61 746f 722e 5f5f 6e61 6d65 5f5f 2c20  nator.__name__, 
-0001b790: 6d69 6e5f 6c65 6e3d 320a 2020 2020 290a  min_len=2.    ).
-0001b7a0: 2020 2020 6368 6563 6b5f 6966 5f64 6972      check_if_dir
-0001b7b0: 5f65 7869 7374 7328 0a20 2020 2020 2020  _exists(.       
-0001b7c0: 2069 6e5f 6469 723d 6f73 2e70 6174 682e   in_dir=os.path.
-0001b7d0: 6469 726e 616d 6528 7361 7665 5f70 6174  dirname(save_pat
-0001b7e0: 6829 2c20 736f 7572 6365 3d68 6f72 697a  h), source=horiz
-0001b7f0: 6f6e 7461 6c5f 7669 6465 6f5f 636f 6e63  ontal_video_conc
-0001b800: 6174 656e 6174 6f72 2e5f 5f6e 616d 655f  atenator.__name_
-0001b810: 5f0a 2020 2020 290a 2020 2020 7669 6465  _.    ).    vide
-0001b820: 6f5f 6d65 7461 5f64 6174 6120 3d20 5b0a  o_meta_data = [.
-0001b830: 2020 2020 2020 2020 6765 745f 7669 6465          get_vide
-0001b840: 6f5f 6d65 7461 5f64 6174 6128 7669 6465  o_meta_data(vide
-0001b850: 6f5f 7061 7468 3d76 6964 656f 5f70 6174  o_path=video_pat
-0001b860: 6829 2066 6f72 2076 6964 656f 5f70 6174  h) for video_pat
-0001b870: 6820 696e 2076 6964 656f 5f70 6174 6873  h in video_paths
-0001b880: 0a20 2020 205d 0a20 2020 2069 6620 2828  .    ].    if ((
-0001b890: 6865 6967 6874 5f70 7820 6973 204e 6f6e  height_px is Non
-0001b8a0: 6529 2061 6e64 2028 6865 6967 6874 5f69  e) and (height_i
-0001b8b0: 6478 2069 7320 4e6f 6e65 2929 206f 7220  dx is None)) or 
-0001b8c0: 280a 2020 2020 2020 2020 2868 6569 6768  (.        (heigh
-0001b8d0: 745f 7078 2069 7320 6e6f 7420 4e6f 6e65  t_px is not None
-0001b8e0: 2920 616e 6420 2868 6569 6768 745f 6964  ) and (height_id
-0001b8f0: 7820 6973 206e 6f74 204e 6f6e 6529 0a20  x is not None). 
-0001b900: 2020 2029 3a0a 2020 2020 2020 2020 7261     ):.        ra
-0001b910: 6973 6520 496e 7661 6c69 6449 6e70 7574  ise InvalidInput
-0001b920: 4572 726f 7228 0a20 2020 2020 2020 2020  Error(.         
-0001b930: 2020 206d 7367 3d22 5072 6f76 6964 6520     msg="Provide 
-0001b940: 6120 6865 6967 6874 5f70 7820 4f52 2068  a height_px OR h
-0001b950: 6569 6768 745f 6964 7822 2c0a 2020 2020  eight_idx",.    
-0001b960: 2020 2020 2020 2020 736f 7572 6365 3d68          source=h
-0001b970: 6f72 697a 6f6e 7461 6c5f 7669 6465 6f5f  orizontal_video_
-0001b980: 636f 6e63 6174 656e 6174 6f72 2e5f 5f6e  concatenator.__n
-0001b990: 616d 655f 5f2c 0a20 2020 2020 2020 2029  ame__,.        )
-0001b9a0: 0a20 2020 2069 6620 6865 6967 6874 5f69  .    if height_i
-0001b9b0: 6478 2069 7320 6e6f 7420 4e6f 6e65 3a0a  dx is not None:.
-0001b9c0: 2020 2020 2020 2020 6368 6563 6b5f 696e          check_in
-0001b9d0: 7428 0a20 2020 2020 2020 2020 2020 206e  t(.            n
-0001b9e0: 616d 653d 6622 7b68 6f72 697a 6f6e 7461  ame=f"{horizonta
-0001b9f0: 6c5f 7669 6465 6f5f 636f 6e63 6174 656e  l_video_concaten
-0001ba00: 6174 6f72 2e5f 5f6e 616d 655f 5f7d 2068  ator.__name__} h
-0001ba10: 6569 6768 7422 2c0a 2020 2020 2020 2020  eight",.        
-0001ba20: 2020 2020 7661 6c75 653d 6865 6967 6874      value=height
-0001ba30: 5f69 6478 2c0a 2020 2020 2020 2020 2020  _idx,.          
-0001ba40: 2020 6d69 6e5f 7661 6c75 653d 302c 0a20    min_value=0,. 
-0001ba50: 2020 2020 2020 2020 2020 206d 6178 5f76             max_v
-0001ba60: 616c 7565 3d6c 656e 2876 6964 656f 5f70  alue=len(video_p
-0001ba70: 6174 6873 2920 2d20 312c 0a20 2020 2020  aths) - 1,.     
-0001ba80: 2020 2029 0a20 2020 2020 2020 2068 6569     ).        hei
-0001ba90: 6768 7420 3d20 696e 7428 7669 6465 6f5f  ght = int(video_
-0001baa0: 6d65 7461 5f64 6174 615b 6865 6967 6874  meta_data[height
-0001bab0: 5f69 6478 5d5b 2268 6569 6768 7422 5d29  _idx]["height"])
-0001bac0: 0a20 2020 2065 6c73 653a 0a20 2020 2020  .    else:.     
-0001bad0: 2020 2063 6865 636b 5f69 6e74 280a 2020     check_int(.  
-0001bae0: 2020 2020 2020 2020 2020 6e61 6d65 3d66            name=f
-0001baf0: 227b 686f 7269 7a6f 6e74 616c 5f76 6964  "{horizontal_vid
-0001bb00: 656f 5f63 6f6e 6361 7465 6e61 746f 722e  eo_concatenator.
-0001bb10: 5f5f 6e61 6d65 5f5f 7d20 6865 6967 6874  __name__} height
-0001bb20: 222c 0a20 2020 2020 2020 2020 2020 2076  ",.            v
-0001bb30: 616c 7565 3d68 6569 6768 745f 7078 2c0a  alue=height_px,.
-0001bb40: 2020 2020 2020 2020 2020 2020 6d69 6e5f              min_
-0001bb50: 7661 6c75 653d 312c 0a20 2020 2020 2020  value=1,.       
-0001bb60: 2029 0a20 2020 2020 2020 2068 6569 6768   ).        heigh
-0001bb70: 7420 3d20 696e 7428 6865 6967 6874 5f70  t = int(height_p
-0001bb80: 7829 0a20 2020 2076 6964 656f 5f70 6174  x).    video_pat
-0001bb90: 685f 7374 7220 3d20 2220 222e 6a6f 696e  h_str = " ".join
-0001bba0: 285b 6627 2d69 2022 7b70 6174 687d 2227  ([f'-i "{path}"'
-0001bbb0: 2066 6f72 2070 6174 6820 696e 2076 6964   for path in vid
-0001bbc0: 656f 5f70 6174 6873 5d29 0a20 2020 2063  eo_paths]).    c
-0001bbd0: 6f64 6563 203d 2022 6832 3634 5f6e 7665  odec = "h264_nve
-0001bbe0: 6e63 2220 6966 2067 7075 2065 6c73 6520  nc" if gpu else 
-0001bbf0: 226c 6962 7670 782d 7670 3922 0a20 2020  "libvpx-vp9".   
-0001bc00: 2066 696c 7465 725f 636f 6d70 6c65 7820   filter_complex 
-0001bc10: 3d20 223b 222e 6a6f 696e 280a 2020 2020  = ";".join(.    
-0001bc20: 2020 2020 5b66 225b 7b69 6478 7d3a 765d      [f"[{idx}:v]
-0001bc30: 7363 616c 653d 2d31 3a7b 6865 6967 6874  scale=-1:{height
-0001bc40: 7d5b 767b 6964 787d 5d22 2066 6f72 2069  }[v{idx}]" for i
-0001bc50: 6478 2069 6e20 7261 6e67 6528 6c65 6e28  dx in range(len(
-0001bc60: 7669 6465 6f5f 7061 7468 7329 295d 0a20  video_paths))]. 
-0001bc70: 2020 2029 0a20 2020 2066 696c 7465 725f     ).    filter_
-0001bc80: 636f 6d70 6c65 7820 2b3d 2066 223b 7b27  complex += f";{'
-0001bc90: 272e 6a6f 696e 285b 6627 5b76 7b69 6478  '.join([f'[v{idx
-0001bca0: 7d5d 2720 666f 7220 6964 7820 696e 2072  }]' for idx in r
-0001bcb0: 616e 6765 286c 656e 2876 6964 656f 5f70  ange(len(video_p
-0001bcc0: 6174 6873 2929 5d29 7d68 7374 6163 6b3d  aths))])}hstack=
-0001bcd0: 696e 7075 7473 3d7b 6c65 6e28 7669 6465  inputs={len(vide
-0001bce0: 6f5f 7061 7468 7329 7d5b 765d 220a 2020  o_paths)}[v]".  
-0001bcf0: 2020 6966 2076 6572 626f 7365 3a0a 2020    if verbose:.  
-0001bd00: 2020 2020 2020 7072 696e 7428 0a20 2020        print(.   
-0001bd10: 2020 2020 2020 2020 2066 2243 6f6e 6361           f"Conca
-0001bd20: 7465 6e61 7469 6e67 207b 6c65 6e28 7669  tenating {len(vi
-0001bd30: 6465 6f5f 7061 7468 7329 7d20 7669 6465  deo_paths)} vide
-0001bd40: 6f73 2068 6f72 697a 6f6e 7461 6c6c 7920  os horizontally 
-0001bd50: 7769 7468 2061 207b 6865 6967 6874 7d20  with a {height} 
-0001bd60: 7069 7865 6c20 6865 6967 6874 2e2e 2e20  pixel height... 
-0001bd70: 220a 2020 2020 2020 2020 290a 2020 2020  ".        ).    
-0001bd80: 636d 6420 3d20 6627 6666 6d70 6567 207b  cmd = f'ffmpeg {
-0001bd90: 7669 6465 6f5f 7061 7468 5f73 7472 7d20  video_path_str} 
-0001bda0: 2d66 696c 7465 725f 636f 6d70 6c65 7820  -filter_complex 
-0001bdb0: 227b 6669 6c74 6572 5f63 6f6d 706c 6578  "{filter_complex
-0001bdc0: 7d22 202d 6d61 7020 225b 765d 2220 2d63  }" -map "[v]" -c
-0001bdd0: 3a76 207b 636f 6465 637d 202d 6c6f 676c  :v {codec} -logl
-0001bde0: 6576 656c 2065 7272 6f72 202d 7374 6174  evel error -stat
-0001bdf0: 7320 227b 7361 7665 5f70 6174 687d 2220  s "{save_path}" 
-0001be00: 2d79 270a 2020 2020 7375 6270 726f 6365  -y'.    subproce
-0001be10: 7373 2e63 616c 6c28 636d 642c 2073 6865  ss.call(cmd, she
-0001be20: 6c6c 3d54 7275 652c 2073 7464 6f75 743d  ll=True, stdout=
-0001be30: 7375 6270 726f 6365 7373 2e50 4950 4529  subprocess.PIPE)
-0001be40: 0a20 2020 2074 696d 6572 2e73 746f 705f  .    timer.stop_
-0001be50: 7469 6d65 7228 290a 2020 2020 6966 2076  timer().    if v
-0001be60: 6572 626f 7365 3a0a 2020 2020 2020 2020  erbose:.        
-0001be70: 7072 696e 7428 0a20 2020 2020 2020 2020  print(.         
-0001be80: 2020 2066 2248 6f72 697a 6f6e 7461 6c20     f"Horizontal 
-0001be90: 636f 6e63 6174 656e 6174 696f 6e20 636f  concatenation co
-0001bea0: 6d70 6c65 7465 2c20 7361 7665 6420 6174  mplete, saved at
-0001beb0: 207b 7361 7665 5f70 6174 687d 2028 656c   {save_path} (el
-0001bec0: 6170 7365 6420 7469 6d65 3a20 7b74 696d  apsed time: {tim
-0001bed0: 6572 2e65 6c61 7073 6564 5f74 696d 655f  er.elapsed_time_
-0001bee0: 7374 727d 732e 2922 0a20 2020 2020 2020  str}s.)".       
-0001bef0: 2029 0a0a 0a64 6566 2076 6572 7469 6361   )...def vertica
-0001bf00: 6c5f 7669 6465 6f5f 636f 6e63 6174 656e  l_video_concaten
-0001bf10: 6174 6f72 280a 2020 2020 7669 6465 6f5f  ator(.    video_
-0001bf20: 7061 7468 733a 204c 6973 745b 556e 696f  paths: List[Unio
-0001bf30: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
-0001bf40: 6b65 5d5d 2c0a 2020 2020 7361 7665 5f70  ke]],.    save_p
-0001bf50: 6174 683a 2055 6e69 6f6e 5b73 7472 2c20  ath: Union[str, 
-0001bf60: 6f73 2e50 6174 684c 696b 655d 2c0a 2020  os.PathLike],.  
-0001bf70: 2020 7769 6474 685f 7078 3a20 4f70 7469    width_px: Opti
-0001bf80: 6f6e 616c 5b69 6e74 5d20 3d20 4e6f 6e65  onal[int] = None
-0001bf90: 2c0a 2020 2020 7769 6474 685f 6964 783a  ,.    width_idx:
-0001bfa0: 204f 7074 696f 6e61 6c5b 696e 745d 203d   Optional[int] =
-0001bfb0: 204e 6f6e 652c 0a20 2020 2067 7075 3a20   None,.    gpu: 
-0001bfc0: 4f70 7469 6f6e 616c 5b62 6f6f 6c5d 203d  Optional[bool] =
-0001bfd0: 2046 616c 7365 2c0a 2020 2020 7665 7262   False,.    verb
-0001bfe0: 6f73 653a 204f 7074 696f 6e61 6c5b 626f  ose: Optional[bo
-0001bff0: 6f6c 5d20 3d20 5472 7565 2c0a 2920 2d3e  ol] = True,.) ->
-0001c000: 204e 6f6e 653a 0a20 2020 2022 2222 0a20   None:.    """. 
-0001c010: 2020 2043 6f6e 6361 7465 6e61 7465 7320     Concatenates 
-0001c020: 6d75 6c74 6970 6c65 2076 6964 656f 7320  multiple videos 
-0001c030: 7665 7274 6963 616c 6c79 2e0a 0a20 2020  vertically...   
-0001c040: 202e 2e20 696d 6167 653a 3a20 5f73 7461   .. image:: _sta
-0001c050: 7469 632f 696d 672f 7665 7274 6963 616c  tic/img/vertical
-0001c060: 5f76 6964 656f 5f63 6f6e 6361 7465 6e61  _video_concatena
-0001c070: 746f 722e 706e 670a 2020 2020 2020 203a  tor.png.       :
-0001c080: 7769 6474 683a 2033 3030 0a20 2020 2020  width: 300.     
-0001c090: 2020 3a61 6c69 676e 3a20 6365 6e74 6572    :align: center
-0001c0a0: 0a0a 2020 2020 3a70 6172 616d 204c 6973  ..    :param Lis
-0001c0b0: 745b 556e 696f 6e5b 7374 722c 206f 732e  t[Union[str, os.
-0001c0c0: 5061 7468 4c69 6b65 5d5d 2076 6964 656f  PathLike]] video
-0001c0d0: 5f70 6174 6873 3a20 4c69 7374 206f 6620  _paths: List of 
-0001c0e0: 696e 7075 7420 7669 6465 6f20 6669 6c65  input video file
-0001c0f0: 2070 6174 6873 2e0a 2020 2020 3a70 6172   paths..    :par
-0001c100: 616d 2055 6e69 6f6e 5b73 7472 2c20 6f73  am Union[str, os
-0001c110: 2e50 6174 684c 696b 655d 2073 6176 655f  .PathLike] save_
-0001c120: 7061 7468 3a20 4669 6c65 2070 6174 6820  path: File path 
-0001c130: 746f 2073 6176 6520 7468 6520 636f 6e63  to save the conc
-0001c140: 6174 656e 6174 6564 2076 6964 656f 2e0a  atenated video..
-0001c150: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
-0001c160: 6e61 6c5b 696e 745d 2077 6964 7468 5f70  nal[int] width_p
-0001c170: 783a 2057 6964 7468 206f 6620 7468 6520  x: Width of the 
-0001c180: 6f75 7470 7574 2076 6964 656f 2069 6e20  output video in 
-0001c190: 7069 7865 6c73 2e0a 2020 2020 3a70 6172  pixels..    :par
-0001c1a0: 616d 204f 7074 696f 6e61 6c5b 696e 745d  am Optional[int]
-0001c1b0: 2077 6964 7468 5f69 6478 3a20 496e 6465   width_idx: Inde
-0001c1c0: 7820 6f66 2074 6865 2076 6964 656f 2074  x of the video t
-0001c1d0: 6f20 7573 6520 666f 7220 6465 7465 726d  o use for determ
-0001c1e0: 696e 696e 6720 7769 6474 682e 0a20 2020  ining width..   
-0001c1f0: 203a 7061 7261 6d20 4f70 7469 6f6e 616c   :param Optional
-0001c200: 5b62 6f6f 6c5d 2067 7075 3a20 5768 6574  [bool] gpu: Whet
-0001c210: 6865 7220 746f 2075 7365 2047 5055 2d61  her to use GPU-a
-0001c220: 6363 656c 6572 6174 6564 2063 6f64 6563  ccelerated codec
-0001c230: 2028 6465 6661 756c 743a 2046 616c 7365   (default: False
-0001c240: 292e 0a20 2020 203a 7061 7261 6d20 4f70  )..    :param Op
-0001c250: 7469 6f6e 616c 5b62 6f6f 6c5d 2076 6572  tional[bool] ver
-0001c260: 626f 7365 3a57 6865 7468 6572 2074 6f20  bose:Whether to 
-0001c270: 7072 696e 7420 7072 6f67 7265 7373 206d  print progress m
-0001c280: 6573 7361 6765 7320 2864 6566 6175 6c74  essages (default
-0001c290: 3a20 5472 7565 292e 0a20 2020 203a 7261  : True)..    :ra
-0001c2a0: 6973 6573 2046 464d 5045 4743 6f64 6563  ises FFMPEGCodec
-0001c2b0: 4750 5545 7272 6f72 3a20 4966 2047 5055  GPUError: If GPU
-0001c2c0: 2069 7320 7265 7175 6573 7465 6420 6275   is requested bu
-0001c2d0: 7420 6e6f 7420 6176 6169 6c61 626c 652e  t not available.
-0001c2e0: 0a20 2020 203a 7261 6973 6573 2049 6e76  .    :raises Inv
-0001c2f0: 616c 6964 496e 7075 7445 7272 6f72 3a20  alidInputError: 
-0001c300: 4966 2062 6f74 6820 6f72 206e 6569 7468  If both or neith
-0001c310: 6572 2077 6964 7468 5f70 7820 616e 6420  er width_px and 
-0001c320: 7769 6474 685f 6964 7820 6172 6520 7072  width_idx are pr
-0001c330: 6f76 6964 6564 2e0a 0a20 2020 203a 6578  ovided...    :ex
-0001c340: 616d 706c 653a 0a20 2020 203e 3e3e 2076  ample:.    >>> v
-0001c350: 6964 656f 5f70 6174 6873 203d 205b 272f  ideo_paths = ['/
-0001c360: 5573 6572 732f 7369 6d6f 6e2f 4465 736b  Users/simon/Desk
-0001c370: 746f 702f 656e 7673 2f73 696d 6261 2f74  top/envs/simba/t
-0001c380: 726f 7562 6c65 7368 6f6f 7469 6e67 2f52  roubleshooting/R
-0001c390: 4154 5f4e 4f52 2f70 726f 6a65 6374 5f66  AT_NOR/project_f
-0001c3a0: 6f6c 6465 722f 7669 6465 6f73 2f74 6573  older/videos/tes
-0001c3b0: 742f 3038 3130 3230 3231 5f44 4f54 5f52  t/08102021_DOT_R
-0001c3c0: 6174 375f 3828 3229 2e6d 7034 272c 0a20  at7_8(2).mp4',. 
-0001c3d0: 2020 203e 3e3e 2020 2020 2020 2020 2020     >>>          
-0001c3e0: 2020 2020 2020 272f 5573 6572 732f 7369        '/Users/si
-0001c3f0: 6d6f 6e2f 4465 736b 746f 702f 656e 7673  mon/Desktop/envs
-0001c400: 2f73 696d 6261 2f74 726f 7562 6c65 7368  /simba/troublesh
-0001c410: 6f6f 7469 6e67 2f52 4154 5f4e 4f52 2f70  ooting/RAT_NOR/p
-0001c420: 726f 6a65 6374 5f66 6f6c 6465 722f 7669  roject_folder/vi
-0001c430: 6465 6f73 2f74 6573 742f 3038 3130 3230  deos/test/081020
-0001c440: 3231 5f44 4f54 5f52 6174 3131 5f31 322e  21_DOT_Rat11_12.
-0001c450: 6d70 3427 2c0a 2020 2020 3e3e 3e20 2020  mp4',.    >>>   
-0001c460: 2020 2020 2020 2020 2020 2020 2027 2f55               '/U
-0001c470: 7365 7273 2f73 696d 6f6e 2f44 6573 6b74  sers/simon/Deskt
-0001c480: 6f70 2f65 6e76 732f 7369 6d62 612f 7472  op/envs/simba/tr
-0001c490: 6f75 626c 6573 686f 6f74 696e 672f 5241  oubleshooting/RA
-0001c4a0: 545f 4e4f 522f 7072 6f6a 6563 745f 666f  T_NOR/project_fo
-0001c4b0: 6c64 6572 2f76 6964 656f 732f 7465 7374  lder/videos/test
-0001c4c0: 2f30 3831 3032 3032 315f 444f 545f 5261  /08102021_DOT_Ra
-0001c4d0: 7431 315f 3132 5f31 2e6d 7034 275d 0a20  t11_12_1.mp4']. 
-0001c4e0: 2020 203e 3e3e 205f 203d 2076 6572 7469     >>> _ = verti
-0001c4f0: 6361 6c5f 7669 6465 6f5f 636f 6e63 6174  cal_video_concat
-0001c500: 656e 6174 6f72 2876 6964 656f 5f70 6174  enator(video_pat
-0001c510: 6873 3d76 6964 656f 5f70 6174 6873 2c20  hs=video_paths, 
-0001c520: 7769 6474 685f 6964 783d 312c 2073 6176  width_idx=1, sav
-0001c530: 655f 7061 7468 3d27 2f55 7365 7273 2f73  e_path='/Users/s
-0001c540: 696d 6f6e 2f44 6573 6b74 6f70 2f65 6e76  imon/Desktop/env
-0001c550: 732f 7369 6d62 612f 7472 6f75 626c 6573  s/simba/troubles
-0001c560: 686f 6f74 696e 672f 5241 545f 4e4f 522f  hooting/RAT_NOR/
-0001c570: 7072 6f6a 6563 745f 666f 6c64 6572 2f76  project_folder/v
-0001c580: 6964 656f 732f 7465 7374 2f6e 6577 2f30  ideos/test/new/0
-0001c590: 3831 3032 3032 315f 444f 545f 5261 7437  8102021_DOT_Rat7
-0001c5a0: 5f38 2832 295f 2e6d 7034 272c 2067 7075  _8(2)_.mp4', gpu
-0001c5b0: 3d46 616c 7365 290a 2020 2020 2222 220a  =False).    """.
-0001c5c0: 0a20 2020 2063 6865 636b 5f66 666d 7065  .    check_ffmpe
-0001c5d0: 675f 6176 6169 6c61 626c 6528 290a 2020  g_available().  
-0001c5e0: 2020 6966 2067 7075 2061 6e64 206e 6f74    if gpu and not
-0001c5f0: 2063 6865 636b 5f6e 7669 6465 615f 6770   check_nvidea_gp
-0001c600: 755f 6176 6169 6c61 626c 6528 293a 0a20  u_available():. 
-0001c610: 2020 2020 2020 2072 6169 7365 2046 464d         raise FFM
-0001c620: 5045 4743 6f64 6563 4750 5545 7272 6f72  PEGCodecGPUError
-0001c630: 280a 2020 2020 2020 2020 2020 2020 6d73  (.            ms
-0001c640: 673d 224e 5649 4449 4120 4750 5520 6e6f  g="NVIDIA GPU no
-0001c650: 7420 6176 6169 6c61 626c 6522 2c20 736f  t available", so
-0001c660: 7572 6365 3d76 6572 7469 6361 6c5f 7669  urce=vertical_vi
-0001c670: 6465 6f5f 636f 6e63 6174 656e 6174 6f72  deo_concatenator
-0001c680: 2e5f 5f6e 616d 655f 5f0a 2020 2020 2020  .__name__.      
-0001c690: 2020 290a 2020 2020 7669 6465 6f5f 6d65    ).    video_me
-0001c6a0: 7461 5f64 6174 6120 3d20 5b0a 2020 2020  ta_data = [.    
-0001c6b0: 2020 2020 6765 745f 7669 6465 6f5f 6d65      get_video_me
-0001c6c0: 7461 5f64 6174 6128 7669 6465 6f5f 7061  ta_data(video_pa
-0001c6d0: 7468 3d76 6964 656f 5f70 6174 6829 2066  th=video_path) f
-0001c6e0: 6f72 2076 6964 656f 5f70 6174 6820 696e  or video_path in
-0001c6f0: 2076 6964 656f 5f70 6174 6873 0a20 2020   video_paths.   
-0001c700: 205d 0a20 2020 2074 696d 6572 203d 2053   ].    timer = S
-0001c710: 696d 6261 5469 6d65 7228 7374 6172 743d  imbaTimer(start=
-0001c720: 5472 7565 290a 2020 2020 6368 6563 6b5f  True).    check_
-0001c730: 7661 6c69 645f 6c73 7428 0a20 2020 2020  valid_lst(.     
-0001c740: 2020 2064 6174 613d 7669 6465 6f5f 7061     data=video_pa
-0001c750: 7468 732c 2073 6f75 7263 653d 7665 7274  ths, source=vert
-0001c760: 6963 616c 5f76 6964 656f 5f63 6f6e 6361  ical_video_conca
-0001c770: 7465 6e61 746f 722e 5f5f 6e61 6d65 5f5f  tenator.__name__
-0001c780: 2c20 6d69 6e5f 6c65 6e3d 320a 2020 2020  , min_len=2.    
-0001c790: 290a 2020 2020 6368 6563 6b5f 6966 5f64  ).    check_if_d
-0001c7a0: 6972 5f65 7869 7374 7328 0a20 2020 2020  ir_exists(.     
-0001c7b0: 2020 2069 6e5f 6469 723d 6f73 2e70 6174     in_dir=os.pat
-0001c7c0: 682e 6469 726e 616d 6528 7361 7665 5f70  h.dirname(save_p
-0001c7d0: 6174 6829 2c20 736f 7572 6365 3d76 6572  ath), source=ver
-0001c7e0: 7469 6361 6c5f 7669 6465 6f5f 636f 6e63  tical_video_conc
-0001c7f0: 6174 656e 6174 6f72 2e5f 5f6e 616d 655f  atenator.__name_
-0001c800: 5f0a 2020 2020 290a 2020 2020 6966 2028  _.    ).    if (
-0001c810: 2877 6964 7468 5f70 7820 6973 204e 6f6e  (width_px is Non
-0001c820: 6529 2061 6e64 2028 7769 6474 685f 6964  e) and (width_id
-0001c830: 7820 6973 204e 6f6e 6529 2920 6f72 2028  x is None)) or (
-0001c840: 0a20 2020 2020 2020 2028 7769 6474 685f  .        (width_
-0001c850: 7078 2069 7320 6e6f 7420 4e6f 6e65 2920  px is not None) 
-0001c860: 616e 6420 2877 6964 7468 5f69 6478 2069  and (width_idx i
-0001c870: 7320 6e6f 7420 4e6f 6e65 290a 2020 2020  s not None).    
-0001c880: 293a 0a20 2020 2020 2020 2072 6169 7365  ):.        raise
-0001c890: 2049 6e76 616c 6964 496e 7075 7445 7272   InvalidInputErr
-0001c8a0: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
-0001c8b0: 6d73 673d 2250 726f 7669 6465 2061 2077  msg="Provide a w
-0001c8c0: 6964 7468 5f70 7820 4f52 2077 6964 7468  idth_px OR width
-0001c8d0: 5f69 6478 222c 0a20 2020 2020 2020 2020  _idx",.         
-0001c8e0: 2020 2073 6f75 7263 653d 7665 7274 6963     source=vertic
-0001c8f0: 616c 5f76 6964 656f 5f63 6f6e 6361 7465  al_video_concate
-0001c900: 6e61 746f 722e 5f5f 6e61 6d65 5f5f 2c0a  nator.__name__,.
-0001c910: 2020 2020 2020 2020 290a 2020 2020 6966          ).    if
-0001c920: 2077 6964 7468 5f69 6478 2069 7320 6e6f   width_idx is no
-0001c930: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-0001c940: 6368 6563 6b5f 696e 7428 0a20 2020 2020  check_int(.     
-0001c950: 2020 2020 2020 206e 616d 653d 6622 7b76         name=f"{v
-0001c960: 6572 7469 6361 6c5f 7669 6465 6f5f 636f  ertical_video_co
-0001c970: 6e63 6174 656e 6174 6f72 2e5f 5f6e 616d  ncatenator.__nam
-0001c980: 655f 5f7d 2077 6964 7468 2069 6e64 6578  e__} width index
-0001c990: 222c 0a20 2020 2020 2020 2020 2020 2076  ",.            v
-0001c9a0: 616c 7565 3d77 6964 7468 5f69 6478 2c0a  alue=width_idx,.
-0001c9b0: 2020 2020 2020 2020 2020 2020 6d69 6e5f              min_
-0001c9c0: 7661 6c75 653d 302c 0a20 2020 2020 2020  value=0,.       
-0001c9d0: 2020 2020 206d 6178 5f76 616c 7565 3d6c       max_value=l
-0001c9e0: 656e 2876 6964 656f 5f70 6174 6873 2920  en(video_paths) 
-0001c9f0: 2d20 312c 0a20 2020 2020 2020 2029 0a20  - 1,.        ). 
-0001ca00: 2020 2020 2020 2077 6964 7468 203d 2069         width = i
-0001ca10: 6e74 2876 6964 656f 5f6d 6574 615f 6461  nt(video_meta_da
-0001ca20: 7461 5b77 6964 7468 5f69 6478 5d5b 2277  ta[width_idx]["w
-0001ca30: 6964 7468 225d 290a 2020 2020 656c 7365  idth"]).    else
-0001ca40: 3a0a 2020 2020 2020 2020 6368 6563 6b5f  :.        check_
-0001ca50: 696e 7428 0a20 2020 2020 2020 2020 2020  int(.           
-0001ca60: 206e 616d 653d 6622 7b76 6572 7469 6361   name=f"{vertica
-0001ca70: 6c5f 7669 6465 6f5f 636f 6e63 6174 656e  l_video_concaten
-0001ca80: 6174 6f72 2e5f 5f6e 616d 655f 5f7d 2077  ator.__name__} w
-0001ca90: 6964 7468 222c 0a20 2020 2020 2020 2020  idth",.         
-0001caa0: 2020 2076 616c 7565 3d77 6964 7468 5f70     value=width_p
-0001cab0: 782c 0a20 2020 2020 2020 2020 2020 206d  x,.            m
-0001cac0: 696e 5f76 616c 7565 3d31 2c0a 2020 2020  in_value=1,.    
-0001cad0: 2020 2020 290a 2020 2020 2020 2020 7769      ).        wi
-0001cae0: 6474 6820 3d20 696e 7428 7769 6474 685f  dth = int(width_
-0001caf0: 7078 290a 2020 2020 7669 6465 6f5f 7061  px).    video_pa
-0001cb00: 7468 5f73 7472 203d 2022 2022 2e6a 6f69  th_str = " ".joi
-0001cb10: 6e28 5b66 272d 6920 227b 7061 7468 7d22  n([f'-i "{path}"
-0001cb20: 2720 666f 7220 7061 7468 2069 6e20 7669  ' for path in vi
-0001cb30: 6465 6f5f 7061 7468 735d 290a 2020 2020  deo_paths]).    
-0001cb40: 636f 6465 6320 3d20 2268 3236 345f 6e76  codec = "h264_nv
-0001cb50: 656e 6322 2069 6620 6770 7520 656c 7365  enc" if gpu else
-0001cb60: 2022 6c69 6276 7078 2d76 7039 220a 2020   "libvpx-vp9".  
-0001cb70: 2020 6669 6c74 6572 5f63 6f6d 706c 6578    filter_complex
-0001cb80: 203d 2022 3b22 2e6a 6f69 6e28 0a20 2020   = ";".join(.   
-0001cb90: 2020 2020 205b 6622 5b7b 6964 787d 3a76       [f"[{idx}:v
-0001cba0: 5d73 6361 6c65 3d7b 7769 6474 687d 3a2d  ]scale={width}:-
-0001cbb0: 315b 767b 6964 787d 5d22 2066 6f72 2069  1[v{idx}]" for i
-0001cbc0: 6478 2069 6e20 7261 6e67 6528 6c65 6e28  dx in range(len(
-0001cbd0: 7669 6465 6f5f 7061 7468 7329 295d 0a20  video_paths))]. 
-0001cbe0: 2020 2029 0a20 2020 2066 696c 7465 725f     ).    filter_
-0001cbf0: 636f 6d70 6c65 7820 2b3d 2066 223b 7b27  complex += f";{'
-0001cc00: 272e 6a6f 696e 285b 6627 5b76 7b69 6478  '.join([f'[v{idx
-0001cc10: 7d5d 2720 666f 7220 6964 7820 696e 2072  }]' for idx in r
-0001cc20: 616e 6765 286c 656e 2876 6964 656f 5f70  ange(len(video_p
-0001cc30: 6174 6873 2929 5d29 7d22 0a20 2020 2066  aths))])}".    f
-0001cc40: 696c 7465 725f 636f 6d70 6c65 7820 2b3d  ilter_complex +=
-0001cc50: 2066 2276 7374 6163 6b3d 696e 7075 7473   f"vstack=inputs
-0001cc60: 3d7b 6c65 6e28 7669 6465 6f5f 7061 7468  ={len(video_path
-0001cc70: 7329 7d5b 765d 220a 2020 2020 6966 2076  s)}[v]".    if v
-0001cc80: 6572 626f 7365 3a0a 2020 2020 2020 2020  erbose:.        
-0001cc90: 7072 696e 7428 0a20 2020 2020 2020 2020  print(.         
-0001cca0: 2020 2066 2243 6f6e 6361 7465 6e61 7469     f"Concatenati
-0001ccb0: 6e67 207b 6c65 6e28 7669 6465 6f5f 7061  ng {len(video_pa
-0001ccc0: 7468 7329 7d20 7669 6465 6f73 2076 6572  ths)} videos ver
-0001ccd0: 7469 6361 6c6c 7920 7769 7468 2061 207b  tically with a {
-0001cce0: 7769 6474 687d 2070 6978 656c 2077 6964  width} pixel wid
-0001ccf0: 7468 2e2e 2e22 0a20 2020 2020 2020 2029  th...".        )
-0001cd00: 0a20 2020 2063 6d64 203d 2066 2766 666d  .    cmd = f'ffm
-0001cd10: 7065 6720 7b76 6964 656f 5f70 6174 685f  peg {video_path_
-0001cd20: 7374 727d 202d 6669 6c74 6572 5f63 6f6d  str} -filter_com
-0001cd30: 706c 6578 2022 7b66 696c 7465 725f 636f  plex "{filter_co
-0001cd40: 6d70 6c65 787d 2220 2d6d 6170 2022 5b76  mplex}" -map "[v
-0001cd50: 5d22 202d 633a 7620 7b63 6f64 6563 7d20  ]" -c:v {codec} 
-0001cd60: 2d6c 6f67 6c65 7665 6c20 6572 726f 7220  -loglevel error 
-0001cd70: 2d73 7461 7473 2022 7b73 6176 655f 7061  -stats "{save_pa
-0001cd80: 7468 7d22 202d 7927 0a20 2020 2073 7562  th}" -y'.    sub
-0001cd90: 7072 6f63 6573 732e 6361 6c6c 2863 6d64  process.call(cmd
-0001cda0: 2c20 7368 656c 6c3d 5472 7565 2c20 7374  , shell=True, st
-0001cdb0: 646f 7574 3d73 7562 7072 6f63 6573 732e  dout=subprocess.
-0001cdc0: 5049 5045 290a 2020 2020 7469 6d65 722e  PIPE).    timer.
-0001cdd0: 7374 6f70 5f74 696d 6572 2829 0a20 2020  stop_timer().   
-0001cde0: 2069 6620 7665 7262 6f73 653a 0a20 2020   if verbose:.   
-0001cdf0: 2020 2020 2070 7269 6e74 280a 2020 2020       print(.    
-0001ce00: 2020 2020 2020 2020 6622 5665 7274 6963          f"Vertic
-0001ce10: 616c 2063 6f6e 6361 7465 6e61 7469 6f6e  al concatenation
-0001ce20: 2063 6f6d 706c 6574 652e 2053 6176 6564   complete. Saved
-0001ce30: 2061 7420 7b73 6176 655f 7061 7468 7d20   at {save_path} 
-0001ce40: 2845 6c61 7073 6564 2074 696d 653a 207b  (Elapsed time: {
-0001ce50: 7469 6d65 722e 656c 6170 7365 645f 7469  timer.elapsed_ti
-0001ce60: 6d65 5f73 7472 7d73 2e29 220a 2020 2020  me_str}s.)".    
-0001ce70: 2020 2020 290a 0a0a 6465 6620 6d6f 7361      )...def mosa
-0001ce80: 6963 5f63 6f6e 6361 7465 6e61 746f 7228  ic_concatenator(
-0001ce90: 0a20 2020 2076 6964 656f 5f70 6174 6873  .    video_paths
-0001cea0: 3a20 4c69 7374 5b55 6e69 6f6e 5b73 7472  : List[Union[str
-0001ceb0: 2c20 6f73 2e50 6174 684c 696b 655d 5d2c  , os.PathLike]],
-0001cec0: 0a20 2020 2073 6176 655f 7061 7468 3a20  .    save_path: 
-0001ced0: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
-0001cee0: 7468 4c69 6b65 5d2c 0a20 2020 2077 6964  thLike],.    wid
-0001cef0: 7468 5f69 6478 3a20 4f70 7469 6f6e 616c  th_idx: Optional
-0001cf00: 5b55 6e69 6f6e 5b69 6e74 2c20 7374 725d  [Union[int, str]
-0001cf10: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 7769  ] = None,.    wi
-0001cf20: 6474 685f 7078 3a20 4f70 7469 6f6e 616c  dth_px: Optional
-0001cf30: 5b55 6e69 6f6e 5b69 6e74 2c20 7374 725d  [Union[int, str]
-0001cf40: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 6865  ] = None,.    he
-0001cf50: 6967 6874 5f69 6478 3a20 4f70 7469 6f6e  ight_idx: Option
-0001cf60: 616c 5b55 6e69 6f6e 5b69 6e74 2c20 7374  al[Union[int, st
-0001cf70: 725d 5d20 3d20 4e6f 6e65 2c0a 2020 2020  r]] = None,.    
-0001cf80: 6865 6967 6874 5f70 783a 204f 7074 696f  height_px: Optio
-0001cf90: 6e61 6c5b 556e 696f 6e5b 696e 742c 2073  nal[Union[int, s
-0001cfa0: 7472 5d5d 203d 204e 6f6e 652c 0a20 2020  tr]] = None,.   
-0001cfb0: 2067 7075 3a20 4f70 7469 6f6e 616c 5b62   gpu: Optional[b
-0001cfc0: 6f6f 6c5d 203d 2046 616c 7365 2c0a 2020  ool] = False,.  
-0001cfd0: 2020 7665 7262 6f73 653a 204f 7074 696f    verbose: Optio
-0001cfe0: 6e61 6c5b 626f 6f6c 5d20 3d20 5472 7565  nal[bool] = True
-0001cff0: 2c0a 2020 2020 756e 6576 656e 5f66 696c  ,.    uneven_fil
-0001d000: 6c5f 636f 6c6f 723a 204f 7074 696f 6e61  l_color: Optiona
-0001d010: 6c5b 7374 725d 203d 2022 626c 6163 6b22  l[str] = "black"
-0001d020: 2c0a 2920 2d3e 204e 6f6e 653a 0a20 2020  ,.) -> None:.   
-0001d030: 2022 2222 0a20 2020 2043 6f6e 6361 7465   """.    Concate
-0001d040: 6e61 7465 7320 6d75 6c74 6970 6c65 2076  nates multiple v
-0001d050: 6964 656f 7320 696e 746f 2061 206d 6f73  ideos into a mos
-0001d060: 6169 6320 6c61 796f 7574 2e0a 0a20 2020  aic layout...   
-0001d070: 202e 2e20 696d 6167 653a 3a20 5f73 7461   .. image:: _sta
-0001d080: 7469 632f 696d 672f 6d6f 7361 6963 5f63  tic/img/mosaic_c
-0001d090: 6f6e 6361 7465 6e61 746f 722e 706e 670a  oncatenator.png.
-0001d0a0: 2020 2020 2020 203a 7769 6474 683a 2036         :width: 6
-0001d0b0: 3030 0a20 2020 2020 2020 3a61 6c69 676e  00.       :align
-0001d0c0: 3a20 6365 6e74 6572 0a0a 2020 2020 2e2e  : center..    ..
-0001d0d0: 206e 6f74 653a 3a0a 2020 2020 2020 2069   note::.       i
-0001d0e0: 6620 616e 2075 6e65 7665 6e20 6e75 6d62  f an uneven numb
-0001d0f0: 6572 206f 6620 7669 6465 6f73 2c20 7468  er of videos, th
-0001d100: 6520 6c61 7374 2069 6e64 6578 2077 696c  e last index wil
-0001d110: 6c20 6265 2066 696c 6c65 6420 6279 2060  l be filled by `
-0001d120: 6075 6e65 7665 6e5f 6669 6c6c 5f63 6f6c  `uneven_fill_col
-0001d130: 6f72 6060 2e0a 0a20 2020 203a 7061 7261  or``...    :para
-0001d140: 6d20 4c69 7374 5b55 6e69 6f6e 5b73 7472  m List[Union[str
-0001d150: 2c20 6f73 2e50 6174 684c 696b 655d 5d20  , os.PathLike]] 
-0001d160: 7669 6465 6f5f 7061 7468 733a 204c 6973  video_paths: Lis
-0001d170: 7420 6f66 2069 6e70 7574 2076 6964 656f  t of input video
-0001d180: 2066 696c 6520 7061 7468 732e 0a20 2020   file paths..   
-0001d190: 203a 7061 7261 6d20 556e 696f 6e5b 7374   :param Union[st
-0001d1a0: 722c 206f 732e 5061 7468 4c69 6b65 5d20  r, os.PathLike] 
-0001d1b0: 7361 7665 5f70 6174 683a 2046 696c 6520  save_path: File 
-0001d1c0: 7061 7468 2074 6f20 7361 7665 2074 6865  path to save the
-0001d1d0: 2063 6f6e 6361 7465 6e61 7465 6420 7669   concatenated vi
-0001d1e0: 6465 6f2e 0a20 2020 203a 7061 7261 6d20  deo..    :param 
-0001d1f0: 4f70 7469 6f6e 616c 5b69 6e74 5d20 7769  Optional[int] wi
-0001d200: 6474 685f 7078 3a20 5769 6474 6820 6f66  dth_px: Width of
-0001d210: 2074 6865 206f 7574 7075 7420 7669 6465   the output vide
-0001d220: 6f20 696e 2070 6978 656c 732e 0a20 2020  o in pixels..   
-0001d230: 203a 7061 7261 6d20 4f70 7469 6f6e 616c   :param Optional
-0001d240: 5b69 6e74 5d20 7769 6474 685f 6964 783a  [int] width_idx:
-0001d250: 2049 6e64 6578 206f 6620 7468 6520 7669   Index of the vi
-0001d260: 6465 6f20 746f 2075 7365 2066 6f72 2064  deo to use for d
-0001d270: 6574 6572 6d69 6e69 6e67 2077 6964 7468  etermining width
-0001d280: 2e0a 2020 2020 3a70 6172 616d 204f 7074  ..    :param Opt
-0001d290: 696f 6e61 6c5b 696e 745d 2068 6569 6768  ional[int] heigh
-0001d2a0: 745f 7078 3a20 4865 6967 6874 206f 6620  t_px: Height of 
-0001d2b0: 7468 6520 6f75 7470 7574 2076 6964 656f  the output video
-0001d2c0: 2070 616e 656c 7320 696e 2070 6978 656c   panels in pixel
-0001d2d0: 732e 0a20 2020 203a 7061 7261 6d20 4f70  s..    :param Op
-0001d2e0: 7469 6f6e 616c 5b69 6e74 5d20 6865 6967  tional[int] heig
-0001d2f0: 6874 5f69 6478 3a20 4865 6967 6874 206f  ht_idx: Height o
-0001d300: 6620 7468 6520 7669 6465 6f20 746f 2075  f the video to u
-0001d310: 7365 2066 6f72 2064 6574 6572 6d69 6e69  se for determini
-0001d320: 6e67 2077 6964 7468 2e0a 2020 2020 3a70  ng width..    :p
-0001d330: 6172 616d 204f 7074 696f 6e61 6c5b 626f  aram Optional[bo
-0001d340: 6f6c 5d20 6770 753a 2057 6865 7468 6572  ol] gpu: Whether
-0001d350: 2074 6f20 7573 6520 4750 552d 6163 6365   to use GPU-acce
-0001d360: 6c65 7261 7465 6420 636f 6465 6320 2864  lerated codec (d
-0001d370: 6566 6175 6c74 3a20 4661 6c73 6529 2e0a  efault: False)..
-0001d380: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
-0001d390: 6e61 6c5b 626f 6f6c 5d20 7665 7262 6f73  nal[bool] verbos
-0001d3a0: 653a 2057 6865 7468 6572 2074 6f20 7072  e: Whether to pr
-0001d3b0: 696e 7420 7072 6f67 7265 7373 206d 6573  int progress mes
-0001d3c0: 7361 6765 7320 2864 6566 6175 6c74 3a20  sages (default: 
-0001d3d0: 5472 7565 292e 0a0a 2020 2020 3a65 7861  True)...    :exa
-0001d3e0: 6d70 6c65 3a0a 2020 2020 3e3e 3e20 7669  mple:.    >>> vi
-0001d3f0: 6465 6f5f 7061 7468 7320 3d20 5b27 2f55  deo_paths = ['/U
-0001d400: 7365 7273 2f73 696d 6f6e 2f44 6573 6b74  sers/simon/Deskt
-0001d410: 6f70 2f65 6e76 732f 7369 6d62 612f 7472  op/envs/simba/tr
-0001d420: 6f75 626c 6573 686f 6f74 696e 672f 5241  oubleshooting/RA
-0001d430: 545f 4e4f 522f 7072 6f6a 6563 745f 666f  T_NOR/project_fo
-0001d440: 6c64 6572 2f76 6964 656f 732f 7465 7374  lder/videos/test
-0001d450: 2f30 3831 3032 3032 315f 444f 545f 5261  /08102021_DOT_Ra
-0001d460: 7437 5f38 2832 292e 6d70 3427 2c20 272f  t7_8(2).mp4', '/
-0001d470: 5573 6572 732f 7369 6d6f 6e2f 4465 736b  Users/simon/Desk
-0001d480: 746f 702f 656e 7673 2f73 696d 6261 2f74  top/envs/simba/t
-0001d490: 726f 7562 6c65 7368 6f6f 7469 6e67 2f52  roubleshooting/R
-0001d4a0: 4154 5f4e 4f52 2f70 726f 6a65 6374 5f66  AT_NOR/project_f
-0001d4b0: 6f6c 6465 722f 7669 6465 6f73 2f74 6573  older/videos/tes
-0001d4c0: 742f 3038 3130 3230 3231 5f44 4f54 5f52  t/08102021_DOT_R
-0001d4d0: 6174 3131 5f31 322e 6d70 3427 2c20 272f  at11_12.mp4', '/
-0001d4e0: 5573 6572 732f 7369 6d6f 6e2f 4465 736b  Users/simon/Desk
-0001d4f0: 746f 702f 656e 7673 2f73 696d 6261 2f74  top/envs/simba/t
-0001d500: 726f 7562 6c65 7368 6f6f 7469 6e67 2f52  roubleshooting/R
-0001d510: 4154 5f4e 4f52 2f70 726f 6a65 6374 5f66  AT_NOR/project_f
-0001d520: 6f6c 6465 722f 7669 6465 6f73 2f74 6573  older/videos/tes
-0001d530: 742f 6e65 772f 3230 3232 2d30 362d 3231  t/new/2022-06-21
-0001d540: 5f4e 4f42 5f49 4f54 5f32 332e 6d70 3427  _NOB_IOT_23.mp4'
-0001d550: 5d0a 2020 2020 3e3e 3e20 7361 7665 5f70  ].    >>> save_p
-0001d560: 6174 6820 3d20 272f 5573 6572 732f 7369  ath = '/Users/si
-0001d570: 6d6f 6e2f 4465 736b 746f 702f 656e 7673  mon/Desktop/envs
-0001d580: 2f73 696d 6261 2f74 726f 7562 6c65 7368  /simba/troublesh
-0001d590: 6f6f 7469 6e67 2f52 4154 5f4e 4f52 2f70  ooting/RAT_NOR/p
-0001d5a0: 726f 6a65 6374 5f66 6f6c 6465 722f 7669  roject_folder/vi
-0001d5b0: 6465 6f73 2f74 6573 742f 6e65 772f 626c  deos/test/new/bl
-0001d5c0: 616e 6b5f 7465 7374 2e6d 7034 270a 2020  ank_test.mp4'.  
-0001d5d0: 2020 3e3e 3e20 6d6f 7361 6963 5f63 6f6e    >>> mosaic_con
-0001d5e0: 6361 7465 6e61 746f 7228 7669 6465 6f5f  catenator(video_
-0001d5f0: 7061 7468 733d 7669 6465 6f5f 7061 7468  paths=video_path
-0001d600: 732c 2073 6176 655f 7061 7468 3d73 6176  s, save_path=sav
-0001d610: 655f 7061 7468 2c20 7769 6474 685f 6964  e_path, width_id
-0001d620: 783d 312c 2068 6569 6768 745f 6964 783d  x=1, height_idx=
-0001d630: 312c 2067 7075 3d46 616c 7365 290a 2020  1, gpu=False).  
-0001d640: 2020 2222 220a 0a20 2020 2063 6865 636b    """..    check
-0001d650: 5f66 666d 7065 675f 6176 6169 6c61 626c  _ffmpeg_availabl
-0001d660: 6528 290a 2020 2020 6966 2067 7075 2061  e().    if gpu a
-0001d670: 6e64 206e 6f74 2063 6865 636b 5f6e 7669  nd not check_nvi
-0001d680: 6465 615f 6770 755f 6176 6169 6c61 626c  dea_gpu_availabl
-0001d690: 6528 293a 0a20 2020 2020 2020 2072 6169  e():.        rai
-0001d6a0: 7365 2046 464d 5045 4743 6f64 6563 4750  se FFMPEGCodecGP
-0001d6b0: 5545 7272 6f72 280a 2020 2020 2020 2020  UError(.        
-0001d6c0: 2020 2020 6d73 673d 224e 5649 4449 4120      msg="NVIDIA 
-0001d6d0: 4750 5520 6e6f 7420 6176 6169 6c61 626c  GPU not availabl
-0001d6e0: 6522 2c20 736f 7572 6365 3d6d 6f73 6169  e", source=mosai
-0001d6f0: 635f 636f 6e63 6174 656e 6174 6f72 2e5f  c_concatenator._
-0001d700: 5f6e 616d 655f 5f0a 2020 2020 2020 2020  _name__.        
-0001d710: 290a 2020 2020 7469 6d65 7220 3d20 5369  ).    timer = Si
-0001d720: 6d62 6154 696d 6572 2873 7461 7274 3d54  mbaTimer(start=T
-0001d730: 7275 6529 0a20 2020 2064 7420 3d20 6461  rue).    dt = da
-0001d740: 7465 7469 6d65 2e6e 6f77 2829 2e73 7472  tetime.now().str
-0001d750: 6674 696d 6528 2225 5925 6d25 6425 4825  ftime("%Y%m%d%H%
-0001d760: 4d25 5322 290a 2020 2020 6368 6563 6b5f  M%S").    check_
-0001d770: 7661 6c69 645f 6c73 7428 0a20 2020 2020  valid_lst(.     
-0001d780: 2020 2064 6174 613d 7669 6465 6f5f 7061     data=video_pa
-0001d790: 7468 732c 0a20 2020 2020 2020 2073 6f75  ths,.        sou
-0001d7a0: 7263 653d 6622 7b6d 6f73 6169 635f 636f  rce=f"{mosaic_co
-0001d7b0: 6e63 6174 656e 6174 6f72 2e5f 5f6e 616d  ncatenator.__nam
-0001d7c0: 655f 5f7d 2076 6964 656f 5f70 6174 6873  e__} video_paths
-0001d7d0: 222c 0a20 2020 2020 2020 206d 696e 5f6c  ",.        min_l
-0001d7e0: 656e 3d33 2c0a 2020 2020 290a 2020 2020  en=3,.    ).    
-0001d7f0: 7669 6465 6f5f 6d65 7461 5f64 6174 6120  video_meta_data 
-0001d800: 3d20 5b0a 2020 2020 2020 2020 6765 745f  = [.        get_
-0001d810: 7669 6465 6f5f 6d65 7461 5f64 6174 6128  video_meta_data(
-0001d820: 7669 6465 6f5f 7061 7468 3d76 6964 656f  video_path=video
-0001d830: 5f70 6174 6829 2066 6f72 2076 6964 656f  _path) for video
-0001d840: 5f70 6174 6820 696e 2076 6964 656f 5f70  _path in video_p
-0001d850: 6174 6873 0a20 2020 205d 0a20 2020 206d  aths.    ].    m
-0001d860: 6178 5f76 6964 656f 5f6c 656e 6774 6820  ax_video_length 
-0001d870: 3d20 6d61 7828 5b78 5b22 7669 6465 6f5f  = max([x["video_
-0001d880: 6c65 6e67 7468 5f73 225d 2066 6f72 2078  length_s"] for x
-0001d890: 2069 6e20 7669 6465 6f5f 6d65 7461 5f64   in video_meta_d
-0001d8a0: 6174 615d 290a 2020 2020 6966 2028 2877  ata]).    if ((w
-0001d8b0: 6964 7468 5f70 7820 6973 204e 6f6e 6529  idth_px is None)
-0001d8c0: 2061 6e64 2028 7769 6474 685f 6964 7820   and (width_idx 
-0001d8d0: 6973 204e 6f6e 6529 2920 6f72 2028 0a20  is None)) or (. 
-0001d8e0: 2020 2020 2020 2028 7769 6474 685f 7078         (width_px
-0001d8f0: 2069 7320 6e6f 7420 4e6f 6e65 2920 616e   is not None) an
-0001d900: 6420 2877 6964 7468 5f69 6478 2069 7320  d (width_idx is 
-0001d910: 6e6f 7420 4e6f 6e65 290a 2020 2020 293a  not None).    ):
-0001d920: 0a20 2020 2020 2020 2072 6169 7365 2049  .        raise I
-0001d930: 6e76 616c 6964 496e 7075 7445 7272 6f72  nvalidInputError
-0001d940: 280a 2020 2020 2020 2020 2020 2020 6d73  (.            ms
-0001d950: 673d 2250 726f 7669 6465 2061 2077 6964  g="Provide a wid
-0001d960: 7468 5f70 7820 4f52 2077 6964 7468 5f69  th_px OR width_i
-0001d970: 6478 222c 2073 6f75 7263 653d 6d6f 7361  dx", source=mosa
-0001d980: 6963 5f63 6f6e 6361 7465 6e61 746f 722e  ic_concatenator.
-0001d990: 5f5f 6e61 6d65 5f5f 0a20 2020 2020 2020  __name__.       
-0001d9a0: 2029 0a20 2020 2069 6620 2828 6865 6967   ).    if ((heig
-0001d9b0: 6874 5f70 7820 6973 204e 6f6e 6529 2061  ht_px is None) a
-0001d9c0: 6e64 2028 6865 6967 6874 5f69 6478 2069  nd (height_idx i
-0001d9d0: 7320 4e6f 6e65 2929 206f 7220 280a 2020  s None)) or (.  
-0001d9e0: 2020 2020 2020 2868 6569 6768 745f 7078        (height_px
-0001d9f0: 2069 7320 6e6f 7420 4e6f 6e65 2920 616e   is not None) an
-0001da00: 6420 2868 6569 6768 745f 6964 7820 6973  d (height_idx is
-0001da10: 206e 6f74 204e 6f6e 6529 0a20 2020 2029   not None).    )
-0001da20: 3a0a 2020 2020 2020 2020 7261 6973 6520  :.        raise 
-0001da30: 496e 7661 6c69 6449 6e70 7574 4572 726f  InvalidInputErro
-0001da40: 7228 0a20 2020 2020 2020 2020 2020 206d  r(.            m
-0001da50: 7367 3d22 5072 6f76 6964 6520 6120 6865  sg="Provide a he
-0001da60: 6967 6874 5f70 7820 4f52 2068 6569 6768  ight_px OR heigh
-0001da70: 745f 6964 7822 2c20 736f 7572 6365 3d6d  t_idx", source=m
-0001da80: 6f73 6169 635f 636f 6e63 6174 656e 6174  osaic_concatenat
-0001da90: 6f72 2e5f 5f6e 616d 655f 5f0a 2020 2020  or.__name__.    
-0001daa0: 2020 2020 290a 2020 2020 6966 2077 6964      ).    if wid
-0001dab0: 7468 5f69 6478 2069 7320 6e6f 7420 4e6f  th_idx is not No
-0001dac0: 6e65 3a0a 2020 2020 2020 2020 6368 6563  ne:.        chec
-0001dad0: 6b5f 696e 7428 0a20 2020 2020 2020 2020  k_int(.         
-0001dae0: 2020 206e 616d 653d 6622 7b76 6572 7469     name=f"{verti
-0001daf0: 6361 6c5f 7669 6465 6f5f 636f 6e63 6174  cal_video_concat
-0001db00: 656e 6174 6f72 2e5f 5f6e 616d 655f 5f7d  enator.__name__}
-0001db10: 2077 6964 7468 2069 6e64 6578 222c 0a20   width index",. 
-0001db20: 2020 2020 2020 2020 2020 2076 616c 7565             value
-0001db30: 3d77 6964 7468 5f69 6478 2c0a 2020 2020  =width_idx,.    
-0001db40: 2020 2020 2020 2020 6d69 6e5f 7661 6c75          min_valu
-0001db50: 653d 312c 0a20 2020 2020 2020 2020 2020  e=1,.           
-0001db60: 206d 6178 5f76 616c 7565 3d6c 656e 2876   max_value=len(v
-0001db70: 6964 656f 5f70 6174 6873 2920 2d20 312c  ideo_paths) - 1,
-0001db80: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
-0001db90: 2020 2077 6964 7468 203d 2069 6e74 2876     width = int(v
-0001dba0: 6964 656f 5f6d 6574 615f 6461 7461 5b77  ideo_meta_data[w
-0001dbb0: 6964 7468 5f69 6478 5d5b 2277 6964 7468  idth_idx]["width
-0001dbc0: 225d 290a 2020 2020 656c 7365 3a0a 2020  "]).    else:.  
-0001dbd0: 2020 2020 2020 7769 6474 6820 3d20 7769        width = wi
-0001dbe0: 6474 685f 7078 0a20 2020 2069 6620 6865  dth_px.    if he
-0001dbf0: 6967 6874 5f69 6478 2069 7320 6e6f 7420  ight_idx is not 
-0001dc00: 4e6f 6e65 3a0a 2020 2020 2020 2020 6368  None:.        ch
-0001dc10: 6563 6b5f 696e 7428 0a20 2020 2020 2020  eck_int(.       
-0001dc20: 2020 2020 206e 616d 653d 6622 7b76 6572       name=f"{ver
-0001dc30: 7469 6361 6c5f 7669 6465 6f5f 636f 6e63  tical_video_conc
-0001dc40: 6174 656e 6174 6f72 2e5f 5f6e 616d 655f  atenator.__name_
-0001dc50: 5f7d 2068 6569 6768 7420 696e 6465 7822  _} height index"
-0001dc60: 2c0a 2020 2020 2020 2020 2020 2020 7661  ,.            va
-0001dc70: 6c75 653d 7769 6474 685f 6964 782c 0a20  lue=width_idx,. 
-0001dc80: 2020 2020 2020 2020 2020 206d 696e 5f76             min_v
-0001dc90: 616c 7565 3d31 2c0a 2020 2020 2020 2020  alue=1,.        
-0001dca0: 2020 2020 6d61 785f 7661 6c75 653d 6c65      max_value=le
-0001dcb0: 6e28 7669 6465 6f5f 7061 7468 7329 202d  n(video_paths) -
-0001dcc0: 2031 2c0a 2020 2020 2020 2020 290a 2020   1,.        ).  
-0001dcd0: 2020 2020 2020 6865 6967 6874 203d 2069        height = i
-0001dce0: 6e74 2876 6964 656f 5f6d 6574 615f 6461  nt(video_meta_da
-0001dcf0: 7461 5b77 6964 7468 5f69 6478 5d5b 2268  ta[width_idx]["h
-0001dd00: 6569 6768 7422 5d29 0a20 2020 2065 6c73  eight"]).    els
-0001dd10: 653a 0a20 2020 2020 2020 2068 6569 6768  e:.        heigh
-0001dd20: 7420 3d20 6865 6967 6874 5f70 780a 2020  t = height_px.  
-0001dd30: 2020 6966 2076 6572 626f 7365 3a0a 2020    if verbose:.  
-0001dd40: 2020 2020 2020 7072 696e 7428 6622 4372        print(f"Cr
-0001dd50: 6561 7469 6e67 206d 6f73 6169 6320 7669  eating mosaic vi
-0001dd60: 6465 6f20 2e2e 2e22 290a 2020 2020 7465  deo ...").    te
-0001dd70: 6d70 5f64 6972 203d 206f 732e 7061 7468  mp_dir = os.path
-0001dd80: 2e6a 6f69 6e28 6f73 2e70 6174 682e 6469  .join(os.path.di
-0001dd90: 726e 616d 6528 7669 6465 6f5f 7061 7468  rname(video_path
-0001dda0: 735b 305d 292c 2066 2274 656d 705f 7b64  s[0]), f"temp_{d
-0001ddb0: 747d 2229 0a20 2020 206f 732e 6d61 6b65  t}").    os.make
-0001ddc0: 6469 7273 2874 656d 705f 6469 7229 0a20  dirs(temp_dir). 
-0001ddd0: 2020 2069 6620 6e6f 7420 286c 656e 2876     if not (len(v
-0001dde0: 6964 656f 5f70 6174 6873 2920 2520 3229  ideo_paths) % 2)
-0001ddf0: 203d 3d20 303a 0a20 2020 2020 2020 2062   == 0:.        b
-0001de00: 6c61 6e6b 5f70 6174 6820 3d20 6f73 2e70  lank_path = os.p
-0001de10: 6174 682e 6a6f 696e 2874 656d 705f 6469  ath.join(temp_di
-0001de20: 722c 2066 227b 6474 7d2e 6d70 3422 290a  r, f"{dt}.mp4").
-0001de30: 2020 2020 2020 2020 6372 6561 7465 5f62          create_b
-0001de40: 6c61 6e6b 5f76 6964 656f 280a 2020 2020  lank_video(.    
-0001de50: 2020 2020 2020 2020 7061 7468 3d62 6c61          path=bla
-0001de60: 6e6b 5f70 6174 682c 0a20 2020 2020 2020  nk_path,.       
-0001de70: 2020 2020 206c 656e 6774 683d 6d61 785f       length=max_
-0001de80: 7669 6465 6f5f 6c65 6e67 7468 2c0a 2020  video_length,.  
-0001de90: 2020 2020 2020 2020 2020 7769 6474 683d            width=
-0001dea0: 7769 6474 682c 0a20 2020 2020 2020 2020  width,.         
-0001deb0: 2020 2068 6569 6768 743d 6865 6967 6874     height=height
-0001dec0: 2c0a 2020 2020 2020 2020 2020 2020 6770  ,.            gp
-0001ded0: 753d 6770 752c 0a20 2020 2020 2020 2020  u=gpu,.         
-0001dee0: 2020 2076 6572 626f 7365 3d76 6572 626f     verbose=verbo
-0001def0: 7365 2c0a 2020 2020 2020 2020 2020 2020  se,.            
-0001df00: 636f 6c6f 723d 756e 6576 656e 5f66 696c  color=uneven_fil
-0001df10: 6c5f 636f 6c6f 722c 0a20 2020 2020 2020  l_color,.       
-0001df20: 2029 0a20 2020 2020 2020 2076 6964 656f   ).        video
-0001df30: 5f70 6174 6873 2e61 7070 656e 6428 626c  _paths.append(bl
-0001df40: 616e 6b5f 7061 7468 290a 2020 2020 7570  ank_path).    up
-0001df50: 7065 725f 7669 6465 6f73 2c20 6c6f 7765  per_videos, lowe
-0001df60: 725f 7669 6465 6f73 203d 2028 0a20 2020  r_videos = (.   
-0001df70: 2020 2020 2076 6964 656f 5f70 6174 6873       video_paths
-0001df80: 5b3a 206c 656e 2876 6964 656f 5f70 6174  [: len(video_pat
-0001df90: 6873 2920 2f2f 2032 5d2c 0a20 2020 2020  hs) // 2],.     
-0001dfa0: 2020 2076 6964 656f 5f70 6174 6873 5b6c     video_paths[l
-0001dfb0: 656e 2876 6964 656f 5f70 6174 6873 2920  en(video_paths) 
-0001dfc0: 2f2f 2032 203a 5d2c 0a20 2020 2029 0a20  // 2 :],.    ). 
-0001dfd0: 2020 2069 6620 7665 7262 6f73 653a 0a20     if verbose:. 
-0001dfe0: 2020 2020 2020 2070 7269 6e74 2822 4372         print("Cr
-0001dff0: 6561 7469 6e67 2075 7070 6572 206d 6f73  eating upper mos
-0001e000: 6169 632e 2e2e 2028 5374 6570 2031 2f33  aic... (Step 1/3
-0001e010: 2922 290a 2020 2020 6966 206c 656e 2875  )").    if len(u
-0001e020: 7070 6572 5f76 6964 656f 7329 203e 2031  pper_videos) > 1
-0001e030: 3a0a 2020 2020 2020 2020 7570 7065 725f  :.        upper_
-0001e040: 7061 7468 203d 206f 732e 7061 7468 2e6a  path = os.path.j
-0001e050: 6f69 6e28 7465 6d70 5f64 6972 2c20 2275  oin(temp_dir, "u
-0001e060: 7070 6572 2e6d 7034 2229 0a20 2020 2020  pper.mp4").     
-0001e070: 2020 2068 6f72 697a 6f6e 7461 6c5f 7669     horizontal_vi
-0001e080: 6465 6f5f 636f 6e63 6174 656e 6174 6f72  deo_concatenator
-0001e090: 280a 2020 2020 2020 2020 2020 2020 7669  (.            vi
-0001e0a0: 6465 6f5f 7061 7468 733d 7570 7065 725f  deo_paths=upper_
-0001e0b0: 7669 6465 6f73 2c0a 2020 2020 2020 2020  videos,.        
-0001e0c0: 2020 2020 7361 7665 5f70 6174 683d 7570      save_path=up
-0001e0d0: 7065 725f 7061 7468 2c0a 2020 2020 2020  per_path,.      
-0001e0e0: 2020 2020 2020 6770 753d 6770 752c 0a20        gpu=gpu,. 
-0001e0f0: 2020 2020 2020 2020 2020 2068 6569 6768             heigh
-0001e100: 745f 7078 3d68 6569 6768 742c 0a20 2020  t_px=height,.   
-0001e110: 2020 2020 2020 2020 2076 6572 626f 7365           verbose
-0001e120: 3d76 6572 626f 7365 2c0a 2020 2020 2020  =verbose,.      
-0001e130: 2020 290a 2020 2020 656c 7365 3a0a 2020    ).    else:.  
-0001e140: 2020 2020 2020 7570 7065 725f 7061 7468        upper_path
-0001e150: 203d 2075 7070 6572 5f76 6964 656f 735b   = upper_videos[
-0001e160: 305d 0a20 2020 2069 6620 7665 7262 6f73  0].    if verbos
-0001e170: 653a 0a20 2020 2020 2020 2070 7269 6e74  e:.        print
-0001e180: 2822 4372 6561 7469 6e67 206c 6f77 6572  ("Creating lower
-0001e190: 206d 6f73 6169 632e 2e2e 2028 5374 6570   mosaic... (Step
-0001e1a0: 2032 2f33 2922 290a 2020 2020 6966 206c   2/3)").    if l
-0001e1b0: 656e 286c 6f77 6572 5f76 6964 656f 7329  en(lower_videos)
-0001e1c0: 203e 2031 3a0a 2020 2020 2020 2020 6c6f   > 1:.        lo
-0001e1d0: 7765 725f 7061 7468 203d 206f 732e 7061  wer_path = os.pa
-0001e1e0: 7468 2e6a 6f69 6e28 7465 6d70 5f64 6972  th.join(temp_dir
-0001e1f0: 2c20 226c 6f77 6572 2e6d 7034 2229 0a20  , "lower.mp4"). 
-0001e200: 2020 2020 2020 2068 6f72 697a 6f6e 7461         horizonta
-0001e210: 6c5f 7669 6465 6f5f 636f 6e63 6174 656e  l_video_concaten
-0001e220: 6174 6f72 280a 2020 2020 2020 2020 2020  ator(.          
-0001e230: 2020 7669 6465 6f5f 7061 7468 733d 6c6f    video_paths=lo
-0001e240: 7765 725f 7669 6465 6f73 2c0a 2020 2020  wer_videos,.    
-0001e250: 2020 2020 2020 2020 7361 7665 5f70 6174          save_pat
-0001e260: 683d 6c6f 7765 725f 7061 7468 2c0a 2020  h=lower_path,.  
-0001e270: 2020 2020 2020 2020 2020 6770 753d 6770            gpu=gp
-0001e280: 752c 0a20 2020 2020 2020 2020 2020 2068  u,.            h
-0001e290: 6569 6768 745f 7078 3d68 6569 6768 742c  eight_px=height,
-0001e2a0: 0a20 2020 2020 2020 2020 2020 2076 6572  .            ver
-0001e2b0: 626f 7365 3d76 6572 626f 7365 2c0a 2020  bose=verbose,.  
-0001e2c0: 2020 2020 2020 290a 2020 2020 656c 7365        ).    else
-0001e2d0: 3a0a 2020 2020 2020 2020 6c6f 7765 725f  :.        lower_
-0001e2e0: 7061 7468 203d 206c 6f77 6572 5f76 6964  path = lower_vid
-0001e2f0: 656f 735b 305d 0a20 2020 2070 616e 656c  eos[0].    panel
-0001e300: 735f 6d65 7461 203d 205b 0a20 2020 2020  s_meta = [.     
-0001e310: 2020 2067 6574 5f76 6964 656f 5f6d 6574     get_video_met
-0001e320: 615f 6461 7461 2876 6964 656f 5f70 6174  a_data(video_pat
-0001e330: 683d 7669 6465 6f5f 7061 7468 290a 2020  h=video_path).  
-0001e340: 2020 2020 2020 666f 7220 7669 6465 6f5f        for video_
-0001e350: 7061 7468 2069 6e20 5b6c 6f77 6572 5f70  path in [lower_p
-0001e360: 6174 682c 2075 7070 6572 5f70 6174 685d  ath, upper_path]
-0001e370: 0a20 2020 205d 0a20 2020 2069 6620 7665  .    ].    if ve
-0001e380: 7262 6f73 653a 0a20 2020 2020 2020 2070  rbose:.        p
-0001e390: 7269 6e74 2822 4a6f 696e 696e 6720 7570  rint("Joining up
-0001e3a0: 7065 7220 616e 6420 6c6f 7765 7220 6d6f  per and lower mo
-0001e3b0: 7361 6963 2e2e 2e20 2853 7465 7020 322f  saic... (Step 2/
-0001e3c0: 3329 2229 0a20 2020 2076 6572 7469 6361  3)").    vertica
-0001e3d0: 6c5f 7669 6465 6f5f 636f 6e63 6174 656e  l_video_concaten
-0001e3e0: 6174 6f72 280a 2020 2020 2020 2020 7669  ator(.        vi
-0001e3f0: 6465 6f5f 7061 7468 733d 5b75 7070 6572  deo_paths=[upper
-0001e400: 5f70 6174 682c 206c 6f77 6572 5f70 6174  _path, lower_pat
-0001e410: 685d 2c0a 2020 2020 2020 2020 7361 7665  h],.        save
-0001e420: 5f70 6174 683d 7361 7665 5f70 6174 682c  _path=save_path,
-0001e430: 0a20 2020 2020 2020 2076 6572 626f 7365  .        verbose
-0001e440: 3d76 6572 626f 7365 2c0a 2020 2020 2020  =verbose,.      
-0001e450: 2020 6770 753d 6770 752c 0a20 2020 2020    gpu=gpu,.     
-0001e460: 2020 2077 6964 7468 5f70 783d 6d61 7828     width_px=max(
-0001e470: 5b78 5b22 7769 6474 6822 5d20 666f 7220  [x["width"] for 
-0001e480: 7820 696e 2070 616e 656c 735f 6d65 7461  x in panels_meta
-0001e490: 5d29 2c0a 2020 2020 290a 2020 2020 7469  ]),.    ).    ti
-0001e4a0: 6d65 722e 7374 6f70 5f74 696d 6572 2829  mer.stop_timer()
-0001e4b0: 0a20 2020 2073 6875 7469 6c2e 726d 7472  .    shutil.rmtr
-0001e4c0: 6565 2874 656d 705f 6469 7229 0a20 2020  ee(temp_dir).   
-0001e4d0: 2069 6620 7665 7262 6f73 653a 0a20 2020   if verbose:.   
-0001e4e0: 2020 2020 2070 7269 6e74 280a 2020 2020       print(.    
-0001e4f0: 2020 2020 2020 2020 6622 4d6f 7361 6963          f"Mosaic
-0001e500: 2063 6f6e 6361 7465 6e61 7469 6f6e 2063   concatenation c
-0001e510: 6f6d 706c 6574 652e 2053 6176 6564 2061  omplete. Saved a
-0001e520: 7420 7b73 6176 655f 7061 7468 7d20 2845  t {save_path} (E
-0001e530: 6c61 7073 6564 2074 696d 653a 207b 7469  lapsed time: {ti
-0001e540: 6d65 722e 656c 6170 7365 645f 7469 6d65  mer.elapsed_time
-0001e550: 5f73 7472 7d73 2e29 220a 2020 2020 2020  _str}s.)".      
-0001e560: 2020 290a 0a0a 6465 6620 6d69 7865 645f    )...def mixed_
-0001e570: 6d6f 7361 6963 5f63 6f6e 6361 7465 6e61  mosaic_concatena
-0001e580: 746f 7228 0a20 2020 2076 6964 656f 5f70  tor(.    video_p
-0001e590: 6174 6873 3a20 4c69 7374 5b55 6e69 6f6e  aths: List[Union
-0001e5a0: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
-0001e5b0: 655d 5d2c 0a20 2020 2073 6176 655f 7061  e]],.    save_pa
-0001e5c0: 7468 3a20 556e 696f 6e5b 7374 722c 206f  th: Union[str, o
-0001e5d0: 732e 5061 7468 4c69 6b65 5d2c 0a20 2020  s.PathLike],.   
-0001e5e0: 2067 7075 3a20 4f70 7469 6f6e 616c 5b62   gpu: Optional[b
-0001e5f0: 6f6f 6c5d 203d 2046 616c 7365 2c0a 2020  ool] = False,.  
-0001e600: 2020 7665 7262 6f73 653a 204f 7074 696f    verbose: Optio
-0001e610: 6e61 6c5b 626f 6f6c 5d20 3d20 5472 7565  nal[bool] = True
-0001e620: 2c0a 2020 2020 756e 6576 656e 5f66 696c  ,.    uneven_fil
-0001e630: 6c5f 636f 6c6f 723a 204f 7074 696f 6e61  l_color: Optiona
-0001e640: 6c5b 7374 725d 203d 2022 626c 6163 6b22  l[str] = "black"
-0001e650: 2c0a 2920 2d3e 204e 6f6e 653a 0a20 2020  ,.) -> None:.   
-0001e660: 2022 2222 0a20 2020 2043 7265 6174 6520   """.    Create 
-0001e670: 6120 6d69 7865 6420 6d6f 7361 6963 2076  a mixed mosaic v
-0001e680: 6964 656f 2062 7920 636f 6e63 6174 656e  ideo by concaten
-0001e690: 6174 696e 6720 6d75 6c74 6970 6c65 2069  ating multiple i
-0001e6a0: 6e70 7574 2076 6964 656f 7320 696e 2061  nput videos in a
-0001e6b0: 206d 6f73 6169 6320 6c61 796f 7574 206f   mosaic layout o
-0001e6c0: 6620 7661 7269 6f75 7320 7369 7a65 732e  f various sizes.
-0001e6d0: 0a0a 2020 2020 2e2e 2069 6d61 6765 3a3a  ..    .. image::
-0001e6e0: 205f 7374 6174 6963 2f69 6d67 2f6d 6978   _static/img/mix
-0001e6f0: 6564 5f6d 6f73 6169 635f 636f 6e63 6174  ed_mosaic_concat
-0001e700: 656e 6174 6f72 2e70 6e67 0a20 2020 2020  enator.png.     
-0001e710: 2020 3a77 6964 7468 3a20 3630 300a 2020    :width: 600.  
-0001e720: 2020 2020 203a 616c 6967 6e3a 2063 656e       :align: cen
-0001e730: 7465 720a 0a20 2020 202e 2e20 6e6f 7465  ter..    .. note
-0001e740: 3a3a 0a20 2020 2020 2020 5468 6520 7265  ::.       The re
-0001e750: 736f 6c75 7469 6f6e 206f 6620 7468 6520  solution of the 
-0001e760: 6f75 7470 7574 2076 6964 656f 2069 7320  output video is 
-0001e770: 6465 7465 726d 696e 6564 2062 7920 7468  determined by th
-0001e780: 6520 7265 736f 6c75 7469 6f6e 206f 6620  e resolution of 
-0001e790: 7468 6520 7669 6465 6f20 7061 7468 2061  the video path a
-0001e7a0: 7420 7468 6520 6669 7273 7420 696e 6465  t the first inde
-0001e7b0: 782e 0a0a 2020 2020 2020 2049 6620 616e  x...       If an
-0001e7c0: 2075 6e65 7665 6e20 6e75 6d62 6572 206f   uneven number o
-0001e7d0: 6620 7269 6768 742d 7061 6e65 6c20 7669  f right-panel vi
-0001e7e0: 6465 6f73 2028 2069 6620 6e6f 7420 286c  deos ( if not (l
-0001e7f0: 656e 2876 6964 656f 5f70 6174 6873 292d  en(video_paths)-
-0001e800: 3129 2025 2032 2920 3d3d 2030 292c 2074  1) % 2) == 0), t
-0001e810: 6865 6e20 7468 6520 6c61 7374 2069 6e64  hen the last ind
-0001e820: 6578 2077 696c 6c20 6265 2066 696c 6c65  ex will be fille
-0001e830: 6420 6279 2060 6075 6e65 7665 6e5f 6669  d by ``uneven_fi
-0001e840: 6c6c 5f63 6f6c 6f72 6060 2e0a 0a20 2020  ll_color``...   
-0001e850: 203a 7061 7261 6d20 4c69 7374 5b55 6e69   :param List[Uni
-0001e860: 6f6e 5b73 7472 2c20 6f73 2e50 6174 684c  on[str, os.PathL
-0001e870: 696b 655d 5d20 7669 6465 6f5f 7061 7468  ike]] video_path
-0001e880: 733a 204c 6973 7420 6f66 2069 6e70 7574  s: List of input
-0001e890: 2076 6964 656f 2066 696c 6520 7061 7468   video file path
-0001e8a0: 732e 0a20 2020 203a 7061 7261 6d20 556e  s..    :param Un
-0001e8b0: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
-0001e8c0: 4c69 6b65 5d20 7361 7665 5f70 6174 683a  Like] save_path:
-0001e8d0: 2046 696c 6520 7061 7468 2074 6f20 7361   File path to sa
-0001e8e0: 7665 2074 6865 2063 6f6e 6361 7465 6e61  ve the concatena
-0001e8f0: 7465 6420 7669 6465 6f2e 0a20 2020 203a  ted video..    :
-0001e900: 7061 7261 6d20 4f70 7469 6f6e 616c 5b62  param Optional[b
-0001e910: 6f6f 6c5d 2067 7075 3a20 5768 6574 6865  ool] gpu: Whethe
-0001e920: 7220 746f 2075 7365 2047 5055 2d61 6363  r to use GPU-acc
-0001e930: 656c 6572 6174 6564 2063 6f64 6563 2028  elerated codec (
-0001e940: 6465 6661 756c 743a 2046 616c 7365 292e  default: False).
-0001e950: 0a20 2020 203a 7061 7261 6d20 4f70 7469  .    :param Opti
-0001e960: 6f6e 616c 5b62 6f6f 6c5d 2076 6572 626f  onal[bool] verbo
-0001e970: 7365 3a20 5768 6574 6865 7220 746f 2070  se: Whether to p
-0001e980: 7269 6e74 2070 726f 6772 6573 7320 6d65  rint progress me
-0001e990: 7373 6167 6573 2028 6465 6661 756c 743a  ssages (default:
-0001e9a0: 2054 7275 6529 2e0a 0a20 2020 203a 6578   True)...    :ex
-0001e9b0: 616d 706c 653a 0a20 2020 203e 3e3e 2076  ample:.    >>> v
-0001e9c0: 6964 656f 5f70 6174 6873 203d 205b 2776  ideo_paths = ['v
-0001e9d0: 6964 656f 312e 6d70 3427 2c20 2776 6964  ideo1.mp4', 'vid
-0001e9e0: 656f 322e 6d70 3427 2c20 2776 6964 656f  eo2.mp4', 'video
-0001e9f0: 332e 6d70 3427 5d0a 2020 2020 3e3e 3e20  3.mp4'].    >>> 
-0001ea00: 7361 7665 5f70 6174 6820 3d20 272f 5573  save_path = '/Us
-0001ea10: 6572 732f 7369 6d6f 6e2f 4465 736b 746f  ers/simon/Deskto
-0001ea20: 702f 656e 7673 2f73 696d 6261 2f74 726f  p/envs/simba/tro
-0001ea30: 7562 6c65 7368 6f6f 7469 6e67 2f52 4154  ubleshooting/RAT
-0001ea40: 5f4e 4f52 2f70 726f 6a65 6374 5f66 6f6c  _NOR/project_fol
-0001ea50: 6465 722f 7669 6465 6f73 2f74 6573 742f  der/videos/test/
-0001ea60: 6e65 772f 626c 616e 6b5f 7465 7374 2e6d  new/blank_test.m
-0001ea70: 7034 270a 2020 2020 3e3e 3e20 6d69 7865  p4'.    >>> mixe
-0001ea80: 645f 6d6f 7361 6963 5f63 6f6e 6361 7465  d_mosaic_concate
-0001ea90: 6e61 746f 7228 7669 6465 6f5f 7061 7468  nator(video_path
-0001eaa0: 733d 7669 6465 6f5f 7061 7468 732c 2073  s=video_paths, s
-0001eab0: 6176 655f 7061 7468 3d73 6176 655f 7061  ave_path=save_pa
-0001eac0: 7468 2c20 6770 753d 4661 6c73 652c 2076  th, gpu=False, v
-0001ead0: 6572 626f 7365 3d54 7275 6529 0a20 2020  erbose=True).   
-0001eae0: 2022 2222 0a0a 2020 2020 6368 6563 6b5f   """..    check_
-0001eaf0: 6666 6d70 6567 5f61 7661 696c 6162 6c65  ffmpeg_available
-0001eb00: 2829 0a20 2020 2069 6620 6770 7520 616e  ().    if gpu an
-0001eb10: 6420 6e6f 7420 6368 6563 6b5f 6e76 6964  d not check_nvid
-0001eb20: 6561 5f67 7075 5f61 7661 696c 6162 6c65  ea_gpu_available
-0001eb30: 2829 3a0a 2020 2020 2020 2020 7261 6973  ():.        rais
-0001eb40: 6520 4646 4d50 4547 436f 6465 6347 5055  e FFMPEGCodecGPU
-0001eb50: 4572 726f 7228 0a20 2020 2020 2020 2020  Error(.         
-0001eb60: 2020 206d 7367 3d22 4e56 4944 4941 2047     msg="NVIDIA G
-0001eb70: 5055 206e 6f74 2061 7661 696c 6162 6c65  PU not available
-0001eb80: 222c 2073 6f75 7263 653d 6d69 7865 645f  ", source=mixed_
-0001eb90: 6d6f 7361 6963 5f63 6f6e 6361 7465 6e61  mosaic_concatena
-0001eba0: 746f 722e 5f5f 6e61 6d65 5f5f 0a20 2020  tor.__name__.   
-0001ebb0: 2020 2020 2029 0a20 2020 2074 696d 6572       ).    timer
-0001ebc0: 203d 2053 696d 6261 5469 6d65 7228 7374   = SimbaTimer(st
-0001ebd0: 6172 743d 5472 7565 290a 2020 2020 6368  art=True).    ch
-0001ebe0: 6563 6b5f 7661 6c69 645f 6c73 7428 0a20  eck_valid_lst(. 
-0001ebf0: 2020 2020 2020 2064 6174 613d 7669 6465         data=vide
-0001ec00: 6f5f 7061 7468 732c 2073 6f75 7263 653d  o_paths, source=
-0001ec10: 6d69 7865 645f 6d6f 7361 6963 5f63 6f6e  mixed_mosaic_con
-0001ec20: 6361 7465 6e61 746f 722e 5f5f 6e61 6d65  catenator.__name
-0001ec30: 5f5f 2c20 6d69 6e5f 6c65 6e3d 320a 2020  __, min_len=2.  
-0001ec40: 2020 290a 2020 2020 6474 203d 2064 6174    ).    dt = dat
-0001ec50: 6574 696d 652e 6e6f 7728 292e 7374 7266  etime.now().strf
-0001ec60: 7469 6d65 2822 2559 256d 2564 2548 254d  time("%Y%m%d%H%M
-0001ec70: 2553 2229 0a20 2020 2076 6964 656f 5f6d  %S").    video_m
-0001ec80: 6574 615f 6461 7461 203d 205b 0a20 2020  eta_data = [.   
-0001ec90: 2020 2020 2067 6574 5f76 6964 656f 5f6d       get_video_m
-0001eca0: 6574 615f 6461 7461 2876 6964 656f 5f70  eta_data(video_p
-0001ecb0: 6174 683d 7669 6465 6f5f 7061 7468 2920  ath=video_path) 
-0001ecc0: 666f 7220 7669 6465 6f5f 7061 7468 2069  for video_path i
-0001ecd0: 6e20 7669 6465 6f5f 7061 7468 730a 2020  n video_paths.  
-0001ece0: 2020 5d0a 2020 2020 6d61 785f 7669 6465    ].    max_vide
-0001ecf0: 6f5f 6c65 6e67 7468 203d 206d 6178 285b  o_length = max([
-0001ed00: 785b 2276 6964 656f 5f6c 656e 6774 685f  x["video_length_
-0001ed10: 7322 5d20 666f 7220 7820 696e 2076 6964  s"] for x in vid
-0001ed20: 656f 5f6d 6574 615f 6461 7461 5d29 0a20  eo_meta_data]). 
-0001ed30: 2020 2063 6865 636b 5f69 665f 6469 725f     check_if_dir_
-0001ed40: 6578 6973 7473 280a 2020 2020 2020 2020  exists(.        
-0001ed50: 696e 5f64 6972 3d6f 732e 7061 7468 2e64  in_dir=os.path.d
-0001ed60: 6972 6e61 6d65 2873 6176 655f 7061 7468  irname(save_path
-0001ed70: 292c 2073 6f75 7263 653d 6d69 7865 645f  ), source=mixed_
-0001ed80: 6d6f 7361 6963 5f63 6f6e 6361 7465 6e61  mosaic_concatena
-0001ed90: 746f 722e 5f5f 6e61 6d65 5f5f 0a20 2020  tor.__name__.   
-0001eda0: 2029 0a20 2020 206c 6172 6765 5f6d 6f73   ).    large_mos
-0001edb0: 6169 635f 7061 7468 2c20 7669 6465 6f5f  aic_path, video_
-0001edc0: 7061 7468 7320 3d20 7669 6465 6f5f 7061  paths = video_pa
-0001edd0: 7468 735b 305d 2c20 7669 6465 6f5f 7061  ths[0], video_pa
-0001ede0: 7468 735b 313a 5d0a 2020 2020 6d6f 7361  ths[1:].    mosa
-0001edf0: 6963 5f68 6569 6768 7420 3d20 696e 7428  ic_height = int(
-0001ee00: 7669 6465 6f5f 6d65 7461 5f64 6174 615b  video_meta_data[
-0001ee10: 305d 5b22 6865 6967 6874 225d 202f 2032  0]["height"] / 2
-0001ee20: 290a 2020 2020 6966 2076 6572 626f 7365  ).    if verbose
-0001ee30: 3a0a 2020 2020 2020 2020 7072 696e 7428  :.        print(
-0001ee40: 2243 7265 6174 696e 6720 6d69 7865 6420  "Creating mixed 
-0001ee50: 6d6f 7361 6963 2076 6964 656f 2e2e 2e20  mosaic video... 
-0001ee60: 2229 0a20 2020 2074 656d 705f 6469 7220  ").    temp_dir 
-0001ee70: 3d20 6f73 2e70 6174 682e 6a6f 696e 286f  = os.path.join(o
-0001ee80: 732e 7061 7468 2e64 6972 6e61 6d65 286c  s.path.dirname(l
-0001ee90: 6172 6765 5f6d 6f73 6169 635f 7061 7468  arge_mosaic_path
-0001eea0: 292c 2066 2274 656d 705f 7b64 747d 2229  ), f"temp_{dt}")
-0001eeb0: 0a20 2020 206f 732e 6d61 6b65 6469 7273  .    os.makedirs
-0001eec0: 2874 656d 705f 6469 7229 0a20 2020 2069  (temp_dir).    i
-0001eed0: 6620 6e6f 7420 286c 656e 2876 6964 656f  f not (len(video
-0001eee0: 5f70 6174 6873 2920 2520 3229 203d 3d20  _paths) % 2) == 
-0001eef0: 303a 0a20 2020 2020 2020 2062 6c61 6e6b  0:.        blank
-0001ef00: 5f70 6174 6820 3d20 6f73 2e70 6174 682e  _path = os.path.
-0001ef10: 6a6f 696e 2874 656d 705f 6469 722c 2066  join(temp_dir, f
-0001ef20: 227b 6474 7d2e 6d70 3422 290a 2020 2020  "{dt}.mp4").    
-0001ef30: 2020 2020 6372 6561 7465 5f62 6c61 6e6b      create_blank
-0001ef40: 5f76 6964 656f 280a 2020 2020 2020 2020  _video(.        
-0001ef50: 2020 2020 7061 7468 3d62 6c61 6e6b 5f70      path=blank_p
-0001ef60: 6174 682c 0a20 2020 2020 2020 2020 2020  ath,.           
-0001ef70: 206c 656e 6774 683d 6d61 785f 7669 6465   length=max_vide
-0001ef80: 6f5f 6c65 6e67 7468 2c0a 2020 2020 2020  o_length,.      
-0001ef90: 2020 2020 2020 7769 6474 683d 6765 745f        width=get_
-0001efa0: 7669 6465 6f5f 6d65 7461 5f64 6174 6128  video_meta_data(
-0001efb0: 7669 6465 6f5f 7061 7468 3d76 6964 656f  video_path=video
-0001efc0: 5f70 6174 6873 5b2d 315d 295b 2277 6964  _paths[-1])["wid
-0001efd0: 7468 225d 2c0a 2020 2020 2020 2020 2020  th"],.          
-0001efe0: 2020 6865 6967 6874 3d67 6574 5f76 6964    height=get_vid
-0001eff0: 656f 5f6d 6574 615f 6461 7461 2876 6964  eo_meta_data(vid
-0001f000: 656f 5f70 6174 683d 7669 6465 6f5f 7061  eo_path=video_pa
-0001f010: 7468 735b 2d31 5d29 5b22 6865 6967 6874  ths[-1])["height
-0001f020: 225d 2c0a 2020 2020 2020 2020 2020 2020  "],.            
-0001f030: 6770 753d 6770 752c 0a20 2020 2020 2020  gpu=gpu,.       
-0001f040: 2020 2020 2076 6572 626f 7365 3d54 7275       verbose=Tru
-0001f050: 652c 0a20 2020 2020 2020 2020 2020 2063  e,.            c
-0001f060: 6f6c 6f72 3d75 6e65 7665 6e5f 6669 6c6c  olor=uneven_fill
-0001f070: 5f63 6f6c 6f72 2c0a 2020 2020 2020 2020  _color,.        
-0001f080: 290a 2020 2020 2020 2020 7669 6465 6f5f  ).        video_
-0001f090: 7061 7468 732e 6170 7065 6e64 2862 6c61  paths.append(bla
-0001f0a0: 6e6b 5f70 6174 6829 0a20 2020 2075 7070  nk_path).    upp
-0001f0b0: 6572 5f76 6964 656f 732c 206c 6f77 6572  er_videos, lower
-0001f0c0: 5f76 6964 656f 7320 3d20 280a 2020 2020  _videos = (.    
-0001f0d0: 2020 2020 7669 6465 6f5f 7061 7468 735b      video_paths[
-0001f0e0: 3a20 6c65 6e28 7669 6465 6f5f 7061 7468  : len(video_path
-0001f0f0: 7329 202f 2f20 325d 2c0a 2020 2020 2020  s) // 2],.      
-0001f100: 2020 7669 6465 6f5f 7061 7468 735b 6c65    video_paths[le
-0001f110: 6e28 7669 6465 6f5f 7061 7468 7329 202f  n(video_paths) /
-0001f120: 2f20 3220 3a5d 2c0a 2020 2020 290a 2020  / 2 :],.    ).  
-0001f130: 2020 6966 2076 6572 626f 7365 3a0a 2020    if verbose:.  
-0001f140: 2020 2020 2020 7072 696e 7428 2243 7265        print("Cre
-0001f150: 6174 696e 6720 7570 7065 7220 7269 6768  ating upper righ
-0001f160: 7420 6d6f 7361 6963 202e 2e2e 2028 5374  t mosaic ... (St
-0001f170: 6570 2031 2f34 2922 290a 2020 2020 6966  ep 1/4)").    if
-0001f180: 206c 656e 2875 7070 6572 5f76 6964 656f   len(upper_video
-0001f190: 7329 203e 2031 3a0a 2020 2020 2020 2020  s) > 1:.        
-0001f1a0: 7570 7065 725f 7061 7468 203d 206f 732e  upper_path = os.
-0001f1b0: 7061 7468 2e6a 6f69 6e28 7465 6d70 5f64  path.join(temp_d
-0001f1c0: 6972 2c20 2275 7070 6572 2e6d 7034 2229  ir, "upper.mp4")
-0001f1d0: 0a20 2020 2020 2020 2068 6f72 697a 6f6e  .        horizon
-0001f1e0: 7461 6c5f 7669 6465 6f5f 636f 6e63 6174  tal_video_concat
-0001f1f0: 656e 6174 6f72 280a 2020 2020 2020 2020  enator(.        
-0001f200: 2020 2020 7669 6465 6f5f 7061 7468 733d      video_paths=
-0001f210: 7570 7065 725f 7669 6465 6f73 2c0a 2020  upper_videos,.  
-0001f220: 2020 2020 2020 2020 2020 7361 7665 5f70            save_p
-0001f230: 6174 683d 7570 7065 725f 7061 7468 2c0a  ath=upper_path,.
-0001f240: 2020 2020 2020 2020 2020 2020 6770 753d              gpu=
-0001f250: 6770 752c 0a20 2020 2020 2020 2020 2020  gpu,.           
-0001f260: 2068 6569 6768 745f 7078 3d6d 6f73 6169   height_px=mosai
-0001f270: 635f 6865 6967 6874 2c0a 2020 2020 2020  c_height,.      
-0001f280: 2020 2020 2020 7665 7262 6f73 653d 7665        verbose=ve
-0001f290: 7262 6f73 652c 0a20 2020 2020 2020 2029  rbose,.        )
-0001f2a0: 0a20 2020 2065 6c73 653a 0a20 2020 2020  .    else:.     
-0001f2b0: 2020 2075 7070 6572 5f70 6174 6820 3d20     upper_path = 
-0001f2c0: 7570 7065 725f 7669 6465 6f73 5b30 5d0a  upper_videos[0].
-0001f2d0: 2020 2020 6966 2076 6572 626f 7365 3a0a      if verbose:.
-0001f2e0: 2020 2020 2020 2020 7072 696e 7428 2243          print("C
-0001f2f0: 7265 6174 696e 6720 6c6f 7765 7220 7269  reating lower ri
-0001f300: 6768 7420 6d6f 7361 6963 202e 2e2e 2028  ght mosaic ... (
-0001f310: 5374 6570 2032 2f34 2922 290a 2020 2020  Step 2/4)").    
-0001f320: 6966 206c 656e 286c 6f77 6572 5f76 6964  if len(lower_vid
-0001f330: 656f 7329 203e 2031 3a0a 2020 2020 2020  eos) > 1:.      
-0001f340: 2020 6c6f 7765 725f 7061 7468 203d 206f    lower_path = o
-0001f350: 732e 7061 7468 2e6a 6f69 6e28 7465 6d70  s.path.join(temp
-0001f360: 5f64 6972 2c20 226c 6f77 6572 2e6d 7034  _dir, "lower.mp4
-0001f370: 2229 0a20 2020 2020 2020 2068 6f72 697a  ").        horiz
-0001f380: 6f6e 7461 6c5f 7669 6465 6f5f 636f 6e63  ontal_video_conc
-0001f390: 6174 656e 6174 6f72 280a 2020 2020 2020  atenator(.      
-0001f3a0: 2020 2020 2020 7669 6465 6f5f 7061 7468        video_path
-0001f3b0: 733d 6c6f 7765 725f 7669 6465 6f73 2c0a  s=lower_videos,.
-0001f3c0: 2020 2020 2020 2020 2020 2020 7361 7665              save
-0001f3d0: 5f70 6174 683d 6c6f 7765 725f 7061 7468  _path=lower_path
-0001f3e0: 2c0a 2020 2020 2020 2020 2020 2020 6770  ,.            gp
-0001f3f0: 753d 6770 752c 0a20 2020 2020 2020 2020  u=gpu,.         
-0001f400: 2020 2076 6572 626f 7365 3d76 6572 626f     verbose=verbo
-0001f410: 7365 2c0a 2020 2020 2020 2020 2020 2020  se,.            
-0001f420: 6865 6967 6874 5f70 783d 6d6f 7361 6963  height_px=mosaic
-0001f430: 5f68 6569 6768 742c 0a20 2020 2020 2020  _height,.       
-0001f440: 2029 0a20 2020 2065 6c73 653a 0a20 2020   ).    else:.   
-0001f450: 2020 2020 206c 6f77 6572 5f70 6174 6820       lower_path 
-0001f460: 3d20 6c6f 7765 725f 7669 6465 6f73 5b30  = lower_videos[0
-0001f470: 5d0a 2020 2020 7061 6e65 6c73 5f6d 6574  ].    panels_met
-0001f480: 6120 3d20 5b0a 2020 2020 2020 2020 6765  a = [.        ge
-0001f490: 745f 7669 6465 6f5f 6d65 7461 5f64 6174  t_video_meta_dat
-0001f4a0: 6128 7669 6465 6f5f 7061 7468 3d76 6964  a(video_path=vid
-0001f4b0: 656f 5f70 6174 6829 0a20 2020 2020 2020  eo_path).       
-0001f4c0: 2066 6f72 2076 6964 656f 5f70 6174 6820   for video_path 
-0001f4d0: 696e 205b 6c6f 7765 725f 7061 7468 2c20  in [lower_path, 
-0001f4e0: 7570 7065 725f 7061 7468 5d0a 2020 2020  upper_path].    
-0001f4f0: 5d0a 2020 2020 6d6f 7361 6963 5f70 6174  ].    mosaic_pat
-0001f500: 6820 3d20 6f73 2e70 6174 682e 6a6f 696e  h = os.path.join
-0001f510: 2874 656d 705f 6469 722c 2022 6d6f 7361  (temp_dir, "mosa
-0001f520: 6963 2e6d 7034 2229 0a20 2020 2069 6620  ic.mp4").    if 
-0001f530: 7665 7262 6f73 653a 0a20 2020 2020 2020  verbose:.       
-0001f540: 2070 7269 6e74 2822 4a6f 696e 696e 6720   print("Joining 
-0001f550: 7570 7065 7220 616e 6420 6c6f 7765 7220  upper and lower 
-0001f560: 7269 6768 7420 6d6f 7361 6963 2e2e 2e20  right mosaic... 
-0001f570: 2853 7465 7020 332f 3429 2229 0a20 2020  (Step 3/4)").   
-0001f580: 2076 6572 7469 6361 6c5f 7669 6465 6f5f   vertical_video_
-0001f590: 636f 6e63 6174 656e 6174 6f72 280a 2020  concatenator(.  
-0001f5a0: 2020 2020 2020 7669 6465 6f5f 7061 7468        video_path
-0001f5b0: 733d 5b75 7070 6572 5f70 6174 682c 206c  s=[upper_path, l
-0001f5c0: 6f77 6572 5f70 6174 685d 2c0a 2020 2020  ower_path],.    
-0001f5d0: 2020 2020 7769 6474 685f 7078 3d6d 6178      width_px=max
-0001f5e0: 285b 785b 2277 6964 7468 225d 2066 6f72  ([x["width"] for
-0001f5f0: 2078 2069 6e20 7061 6e65 6c73 5f6d 6574   x in panels_met
-0001f600: 615d 292c 0a20 2020 2020 2020 2073 6176  a]),.        sav
-0001f610: 655f 7061 7468 3d6d 6f73 6169 635f 7061  e_path=mosaic_pa
-0001f620: 7468 2c0a 2020 2020 2020 2020 6770 753d  th,.        gpu=
-0001f630: 6770 752c 0a20 2020 2020 2020 2076 6572  gpu,.        ver
-0001f640: 626f 7365 3d76 6572 626f 7365 2c0a 2020  bose=verbose,.  
-0001f650: 2020 290a 2020 2020 6966 2076 6572 626f    ).    if verbo
-0001f660: 7365 3a0a 2020 2020 2020 2020 7072 696e  se:.        prin
-0001f670: 7428 224a 6f69 6e69 6e67 206c 6566 7420  t("Joining left 
-0001f680: 616e 6420 7269 6768 7420 6d6f 7361 6963  and right mosaic
-0001f690: 2e2e 2e20 2853 7465 7020 342f 3429 2229  ... (Step 4/4)")
-0001f6a0: 0a20 2020 2068 6f72 697a 6f6e 7461 6c5f  .    horizontal_
-0001f6b0: 7669 6465 6f5f 636f 6e63 6174 656e 6174  video_concatenat
-0001f6c0: 6f72 280a 2020 2020 2020 2020 7669 6465  or(.        vide
-0001f6d0: 6f5f 7061 7468 733d 5b6c 6172 6765 5f6d  o_paths=[large_m
-0001f6e0: 6f73 6169 635f 7061 7468 2c20 6d6f 7361  osaic_path, mosa
-0001f6f0: 6963 5f70 6174 685d 2c0a 2020 2020 2020  ic_path],.      
-0001f700: 2020 6865 6967 6874 5f69 6478 3d30 2c0a    height_idx=0,.
-0001f710: 2020 2020 2020 2020 7361 7665 5f70 6174          save_pat
-0001f720: 683d 7361 7665 5f70 6174 682c 0a20 2020  h=save_path,.   
-0001f730: 2020 2020 2067 7075 3d67 7075 2c0a 2020       gpu=gpu,.  
-0001f740: 2020 290a 2020 2020 7469 6d65 722e 7374    ).    timer.st
-0001f750: 6f70 5f74 696d 6572 2829 0a20 2020 2073  op_timer().    s
-0001f760: 6875 7469 6c2e 726d 7472 6565 2874 656d  hutil.rmtree(tem
-0001f770: 705f 6469 7229 0a20 2020 2069 6620 7665  p_dir).    if ve
-0001f780: 7262 6f73 653a 0a20 2020 2020 2020 2070  rbose:.        p
-0001f790: 7269 6e74 280a 2020 2020 2020 2020 2020  rint(.          
-0001f7a0: 2020 6622 4d69 7865 6420 6d6f 7361 6963    f"Mixed mosaic
-0001f7b0: 2063 6f6e 6361 7465 6e61 7469 6f6e 2063   concatenation c
-0001f7c0: 6f6d 706c 6574 652e 2053 6176 6564 2061  omplete. Saved a
-0001f7d0: 7420 7b73 6176 655f 7061 7468 7d20 2845  t {save_path} (E
-0001f7e0: 6c61 7073 6564 2074 696d 653a 207b 7469  lapsed time: {ti
-0001f7f0: 6d65 722e 656c 6170 7365 645f 7469 6d65  mer.elapsed_time
-0001f800: 5f73 7472 7d73 2e29 220a 2020 2020 2020  _str}s.)".      
-0001f810: 2020 290a 0a0a 6465 6620 636c 6970 5f76    )...def clip_v
-0001f820: 6964 656f 735f 6279 5f66 7261 6d65 5f69  ideos_by_frame_i
-0001f830: 6473 2866 696c 655f 7061 7468 733a 204c  ds(file_paths: L
-0001f840: 6973 745b 556e 696f 6e5b 7374 722c 206f  ist[Union[str, o
-0001f850: 732e 5061 7468 4c69 6b65 5d5d 2c20 6672  s.PathLike]], fr
-0001f860: 6d5f 6964 733a 204c 6973 745b 4c69 7374  m_ids: List[List
-0001f870: 5b69 6e74 5d5d 2c20 7361 7665 5f64 6972  [int]], save_dir
-0001f880: 3a20 4f70 7469 6f6e 616c 5b55 6e69 6f6e  : Optional[Union
-0001f890: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
-0001f8a0: 655d 5d20 3d20 4e6f 6e65 293a 0a20 2020  e]] = None):.   
-0001f8b0: 2022 2222 0a20 2020 2043 6c69 7020 7669   """.    Clip vi
-0001f8c0: 6465 6f73 2073 7065 6369 6669 6564 2062  deos specified b
-0001f8d0: 7920 6672 616d 6520 4944 7320 286e 756d  y frame IDs (num
-0001f8e0: 6265 7273 292e 0a0a 2020 2020 3a70 6172  bers)...    :par
-0001f8f0: 616d 204c 6973 745b 556e 696f 6e5b 7374  am List[Union[st
-0001f900: 722c 206f 732e 5061 7468 4c69 6b65 5d5d  r, os.PathLike]]
-0001f910: 2066 696c 655f 7061 7468 733a 204c 6973   file_paths: Lis
-0001f920: 7420 6f66 2070 6174 6873 2074 6f20 696e  t of paths to in
-0001f930: 7075 7420 7669 6465 6f20 6669 6c65 732e  put video files.
-0001f940: 0a20 2020 203a 7061 7261 6d20 4c69 7374  .    :param List
-0001f950: 5b4c 6973 745b 696e 745d 5d20 6672 6d5f  [List[int]] frm_
-0001f960: 6964 733a 204c 6973 7420 6f66 206c 6973  ids: List of lis
-0001f970: 7473 2063 6f6e 7461 696e 696e 6720 7374  ts containing st
-0001f980: 6172 7420 616e 6420 656e 6420 6672 616d  art and end fram
-0001f990: 6520 4944 7320 666f 7220 6561 6368 2076  e IDs for each v
-0001f9a0: 6964 656f 2e0a 2020 2020 3a70 6172 616d  ideo..    :param
-0001f9b0: 204f 7074 696f 6e61 6c5b 556e 696f 6e5b   Optional[Union[
-0001f9c0: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
-0001f9d0: 5d5d 2073 6176 655f 6469 723a 2020 4469  ]] save_dir:  Di
-0001f9e0: 7265 6374 6f72 7920 746f 2073 6176 6520  rectory to save 
-0001f9f0: 7468 6520 636c 6970 7065 6420 7669 6465  the clipped vide
-0001fa00: 6f73 2e20 4966 204e 6f6e 652c 2076 6964  os. If None, vid
-0001fa10: 656f 7320 7769 6c6c 2062 6520 7361 7665  eos will be save
-0001fa20: 6420 696e 2074 6865 2073 616d 6520 6469  d in the same di
-0001fa30: 7265 6374 6f72 7920 6173 2074 6865 2069  rectory as the i
-0001fa40: 6e70 7574 2076 6964 656f 7320 7769 7468  nput videos with
-0001fa50: 2066 7261 6d65 206e 756d 6265 7273 2061   frame numbers a
-0001fa60: 7320 7375 6666 6978 2e0a 2020 2020 3a72  s suffix..    :r
-0001fa70: 6574 7572 6e3a 204e 6f6e 652e 0a0a 2020  eturn: None...  
-0001fa80: 2020 3a65 7861 6d70 6c65 3a0a 2020 2020    :example:.    
-0001fa90: 3e3e 3e20 6669 6c65 5f70 6174 6873 203d  >>> file_paths =
-0001faa0: 205b 272f 5573 6572 732f 7369 6d6f 6e2f   ['/Users/simon/
-0001fab0: 4465 736b 746f 702f 656e 7673 2f73 696d  Desktop/envs/sim
-0001fac0: 6261 2f74 726f 7562 6c65 7368 6f6f 7469  ba/troubleshooti
-0001fad0: 6e67 2f62 6565 7062 6f6f 7031 3734 2f70  ng/beepboop174/p
-0001fae0: 726f 6a65 6374 5f66 6f6c 6465 722f 6672  roject_folder/fr
-0001faf0: 616d 6573 2f6f 7574 7075 742f 7061 7468  ames/output/path
-0001fb00: 5f70 6c6f 7473 2f54 7269 616c 2020 2020  _plots/Trial    
-0001fb10: 3130 2e6d 7034 272c 2027 2f55 7365 7273  10.mp4', '/Users
-0001fb20: 2f73 696d 6f6e 2f44 6573 6b74 6f70 2f65  /simon/Desktop/e
-0001fb30: 6e76 732f 7369 6d62 612f 7472 6f75 626c  nvs/simba/troubl
-0001fb40: 6573 686f 6f74 696e 672f 6265 6570 626f  eshooting/beepbo
-0001fb50: 6f70 3137 342f 7072 6f6a 6563 745f 666f  op174/project_fo
-0001fb60: 6c64 6572 2f66 7261 6d65 732f 6f75 7470  lder/frames/outp
-0001fb70: 7574 2f70 6174 685f 706c 6f74 732f 5472  ut/path_plots/Tr
-0001fb80: 6961 6c20 2020 2031 305f 312e 6d70 3427  ial    10_1.mp4'
-0001fb90: 5d0a 2020 2020 3e3e 3e20 6672 6d5f 6964  ].    >>> frm_id
-0001fba0: 7320 3d20 5b5b 302c 2032 305d 2c20 5b32  s = [[0, 20], [2
-0001fbb0: 302c 2034 305d 5d0a 2020 2020 3e3e 3e20  0, 40]].    >>> 
-0001fbc0: 636c 6970 5f76 6964 656f 735f 6279 5f66  clip_videos_by_f
-0001fbd0: 7261 6d65 5f69 6473 2866 696c 655f 7061  rame_ids(file_pa
-0001fbe0: 7468 733d 6669 6c65 5f70 6174 6873 2c20  ths=file_paths, 
-0001fbf0: 6672 6d5f 6964 733d 6672 6d5f 6964 732c  frm_ids=frm_ids,
-0001fc00: 2073 6176 655f 6469 723d 272f 5573 6572   save_dir='/User
-0001fc10: 732f 7369 6d6f 6e2f 4465 736b 746f 702f  s/simon/Desktop/
-0001fc20: 656e 7673 2f73 696d 6261 2f74 726f 7562  envs/simba/troub
-0001fc30: 6c65 7368 6f6f 7469 6e67 2f62 6565 7062  leshooting/beepb
-0001fc40: 6f6f 7031 3734 2f70 726f 6a65 6374 5f66  oop174/project_f
-0001fc50: 6f6c 6465 722f 6672 616d 6573 2f6f 7574  older/frames/out
-0001fc60: 7075 742f 7061 7468 5f70 6c6f 7473 2f74  put/path_plots/t
-0001fc70: 7269 616c 5f63 6e74 2729 0a20 2020 2022  rial_cnt').    "
-0001fc80: 2222 0a0a 2020 2020 7469 6d65 7220 3d20  ""..    timer = 
-0001fc90: 5369 6d62 6154 696d 6572 2873 7461 7274  SimbaTimer(start
-0001fca0: 3d54 7275 6529 0a20 2020 2063 6865 636b  =True).    check
-0001fcb0: 5f76 616c 6964 5f6c 7374 2864 6174 613d  _valid_lst(data=
-0001fcc0: 6669 6c65 5f70 6174 6873 2c73 6f75 7263  file_paths,sourc
-0001fcd0: 653d 636c 6970 5f76 6964 656f 735f 6279  e=clip_videos_by
-0001fce0: 5f66 7261 6d65 5f69 6473 2e5f 5f6e 616d  _frame_ids.__nam
-0001fcf0: 655f 5f2c 7661 6c69 645f 6474 7970 6573  e__,valid_dtypes
-0001fd00: 3d28 7374 722c 292c 6d69 6e5f 6c65 6e3d  =(str,),min_len=
-0001fd10: 3129 0a20 2020 2063 6865 636b 5f76 616c  1).    check_val
-0001fd20: 6964 5f6c 7374 2864 6174 613d 6672 6d5f  id_lst(data=frm_
-0001fd30: 6964 732c 736f 7572 6365 3d63 6c69 705f  ids,source=clip_
-0001fd40: 7669 6465 6f73 5f62 795f 6672 616d 655f  videos_by_frame_
-0001fd50: 6964 732e 5f5f 6e61 6d65 5f5f 2c76 616c  ids.__name__,val
-0001fd60: 6964 5f64 7479 7065 733d 286c 6973 742c  id_dtypes=(list,
-0001fd70: 292c 2065 7861 6374 5f6c 656e 3d6c 656e  ), exact_len=len
-0001fd80: 2866 696c 655f 7061 7468 7329 290a 2020  (file_paths)).  
-0001fd90: 2020 666f 7220 636e 742c 2069 2069 6e20    for cnt, i in 
-0001fda0: 656e 756d 6572 6174 6528 6672 6d5f 6964  enumerate(frm_id
-0001fdb0: 7329 3a0a 2020 2020 2020 2020 6368 6563  s):.        chec
-0001fdc0: 6b5f 7661 6c69 645f 6c73 7428 6461 7461  k_valid_lst(data
-0001fdd0: 3d69 2c20 736f 7572 6365 3d66 2263 6c69  =i, source=f"cli
-0001fde0: 705f 7669 6465 6f73 5f62 795f 6672 616d  p_videos_by_fram
-0001fdf0: 655f 636f 756e 742e 5f5f 6e61 6d65 5f20  e_count.__name_ 
-0001fe00: 6672 6d5f 6964 7320 7b63 6e74 7d22 2c20  frm_ids {cnt}", 
-0001fe10: 7661 6c69 645f 6474 7970 6573 3d28 696e  valid_dtypes=(in
-0001fe20: 742c 292c 2065 7861 6374 5f6c 656e 3d32  t,), exact_len=2
-0001fe30: 290a 2020 2020 2020 2020 6966 2069 5b30  ).        if i[0
-0001fe40: 5d20 3e3d 2069 5b31 5d3a 0a20 2020 2020  ] >= i[1]:.     
-0001fe50: 2020 2020 2020 2072 6169 7365 2046 7261         raise Fra
-0001fe60: 6d65 5261 6e67 6545 7272 6f72 2820 6d73  meRangeError( ms
-0001fe70: 673d 6622 5374 6172 7420 6672 616d 6520  g=f"Start frame 
-0001fe80: 666f 7220 7669 6465 6f20 7b69 7d20 6973  for video {i} is
-0001fe90: 2061 6674 6572 206f 7220 7468 6520 7361   after or the sa
-0001fea0: 6d65 2061 7320 7468 6520 656e 6420 6672  me as the end fr
-0001feb0: 616d 6520 287b 695b 305d 7d2c 207b 695b  ame ({i[0]}, {i[
-0001fec0: 315d 7d29 222c 2073 6f75 7263 653d 636c  1]})", source=cl
-0001fed0: 6970 5f76 6964 656f 735f 6279 5f66 7261  ip_videos_by_fra
-0001fee0: 6d65 5f69 6473 2e5f 5f6e 616d 655f 5f29  me_ids.__name__)
-0001fef0: 0a20 2020 2020 2020 2069 6620 2869 5b30  .        if (i[0
-0001ff00: 5d20 3c20 3029 206f 7220 2869 5b31 5d20  ] < 0) or (i[1] 
-0001ff10: 3c20 3129 3a0a 2020 2020 2020 2020 2020  < 1):.          
-0001ff20: 2020 7261 6973 6520 4672 616d 6552 616e    raise FrameRan
-0001ff30: 6765 4572 726f 7228 6d73 673d 6622 5374  geError(msg=f"St
-0001ff40: 6172 7420 6672 616d 6520 6861 7320 746f  art frame has to
-0001ff50: 2062 6520 6174 206c 6561 7374 2030 2061   be at least 0 a
-0001ff60: 6e64 2065 6e64 2066 7261 6d65 2068 6173  nd end frame has
-0001ff70: 2074 6f20 6265 2061 7420 6c65 6173 7420   to be at least 
-0001ff80: 3122 2c20 736f 7572 6365 3d63 6c69 705f  1", source=clip_
-0001ff90: 7669 6465 6f73 5f62 795f 6672 616d 655f  videos_by_frame_
-0001ffa0: 6964 732e 5f5f 6e61 6d65 5f5f 290a 2020  ids.__name__).  
-0001ffb0: 2020 7669 6465 6f5f 6d65 7461 5f64 6174    video_meta_dat
-0001ffc0: 6120 3d20 5b67 6574 5f76 6964 656f 5f6d  a = [get_video_m
-0001ffd0: 6574 615f 6461 7461 2876 6964 656f 5f70  eta_data(video_p
-0001ffe0: 6174 683d 7829 2066 6f72 2078 2069 6e20  ath=x) for x in 
-0001fff0: 6669 6c65 5f70 6174 6873 5d0a 2020 2020  file_paths].    
-00020000: 666f 7220 6920 696e 2072 616e 6765 286c  for i in range(l
-00020010: 656e 2876 6964 656f 5f6d 6574 615f 6461  en(video_meta_da
-00020020: 7461 2929 3a0a 2020 2020 2020 2020 6966  ta)):.        if
-00020030: 2028 6672 6d5f 6964 735b 695d 5b30 5d20   (frm_ids[i][0] 
-00020040: 3e20 7669 6465 6f5f 6d65 7461 5f64 6174  > video_meta_dat
-00020050: 615b 695d 5b22 6672 616d 655f 636f 756e  a[i]["frame_coun
-00020060: 7422 5d29 206f 7220 2866 726d 5f69 6473  t"]) or (frm_ids
-00020070: 5b69 5d5b 315d 203e 2076 6964 656f 5f6d  [i][1] > video_m
-00020080: 6574 615f 6461 7461 5b69 5d5b 2266 7261  eta_data[i]["fra
-00020090: 6d65 5f63 6f75 6e74 225d 293a 0a20 2020  me_count"]):.   
-000200a0: 2020 2020 2020 2020 2072 6169 7365 2046           raise F
-000200b0: 7261 6d65 5261 6e67 6545 7272 6f72 286d  rameRangeError(m
-000200c0: 7367 3d66 2756 6964 656f 207b 692b 317d  sg=f'Video {i+1}
-000200d0: 2068 6173 207b 7669 6465 6f5f 6d65 7461   has {video_meta
-000200e0: 5f64 6174 615b 695d 5b22 6672 616d 655f  _data[i]["frame_
-000200f0: 636f 756e 7422 5d7d 2066 7261 6d65 732c  count"]} frames,
-00020100: 2063 616e 6e6f 7420 7573 6520 7374 6172   cannot use star
-00020110: 7420 616e 6420 656e 6420 6672 616d 6520  t and end frame 
-00020120: 7b66 726d 5f69 6473 5b69 5d7d 272c 2073  {frm_ids[i]}', s
-00020130: 6f75 7263 653d 636c 6970 5f76 6964 656f  ource=clip_video
-00020140: 735f 6279 5f66 7261 6d65 5f69 6473 2e5f  s_by_frame_ids._
-00020150: 5f6e 616d 655f 5f29 0a20 2020 2069 6620  _name__).    if 
-00020160: 7361 7665 5f64 6972 2069 7320 6e6f 7420  save_dir is not 
-00020170: 4e6f 6e65 3a0a 2020 2020 2020 2020 6368  None:.        ch
-00020180: 6563 6b5f 6966 5f64 6972 5f65 7869 7374  eck_if_dir_exist
-00020190: 7328 696e 5f64 6972 3d73 6176 655f 6469  s(in_dir=save_di
-000201a0: 722c 2073 6f75 7263 653d 636c 6970 5f76  r, source=clip_v
-000201b0: 6964 656f 735f 6279 5f66 7261 6d65 5f69  ideos_by_frame_i
-000201c0: 6473 2e5f 5f6e 616d 655f 5f2c 2063 7265  ds.__name__, cre
-000201d0: 6174 655f 6966 5f6e 6f74 5f65 7869 7374  ate_if_not_exist
-000201e0: 3d54 7275 6529 0a20 2020 2066 6f72 2063  =True).    for c
-000201f0: 6e74 2c20 6669 6c65 5f70 6174 6820 696e  nt, file_path in
-00020200: 2065 6e75 6d65 7261 7465 2866 696c 655f   enumerate(file_
-00020210: 7061 7468 7329 3a0a 2020 2020 2020 2020  paths):.        
-00020220: 7669 6465 6f5f 7469 6d65 7220 3d20 5369  video_timer = Si
-00020230: 6d62 6154 696d 6572 2873 7461 7274 3d54  mbaTimer(start=T
-00020240: 7275 6529 0a20 2020 2020 2020 2064 6972  rue).        dir
-00020250: 2c20 7669 6465 6f5f 6e61 6d65 2c20 6578  , video_name, ex
-00020260: 7420 3d20 6765 745f 666e 5f65 7874 2866  t = get_fn_ext(f
-00020270: 696c 6570 6174 683d 6669 6c65 5f70 6174  ilepath=file_pat
-00020280: 6829 0a20 2020 2020 2020 2073 5f66 2c20  h).        s_f, 
-00020290: 655f 6620 3d20 6672 6d5f 6964 735b 636e  e_f = frm_ids[cn
-000202a0: 745d 5b30 5d2c 2066 726d 5f69 6473 5b63  t][0], frm_ids[c
-000202b0: 6e74 5d5b 315d 0a20 2020 2020 2020 2070  nt][1].        p
-000202c0: 7269 6e74 2866 2254 7269 6d6d 696e 6720  rint(f"Trimming 
-000202d0: 7b76 6964 656f 5f6e 616d 657d 2066 726f  {video_name} fro
-000202e0: 6d20 6672 616d 6520 7b73 5f66 7d20 746f  m frame {s_f} to
-000202f0: 2066 7261 6d65 207b 655f 667d 2e2e 2e22   frame {e_f}..."
-00020300: 290a 2020 2020 2020 2020 6966 2073 6176  ).        if sav
-00020310: 655f 6469 7220 6973 206e 6f74 204e 6f6e  e_dir is not Non
-00020320: 653a 0a20 2020 2020 2020 2020 2020 206f  e:.            o
-00020330: 7574 5f70 6174 6820 3d20 6f73 2e70 6174  ut_path = os.pat
-00020340: 682e 6a6f 696e 2873 6176 655f 6469 722c  h.join(save_dir,
-00020350: 206f 732e 7061 7468 2e62 6173 656e 616d   os.path.basenam
-00020360: 6528 6669 6c65 5f70 6174 6829 290a 2020  e(file_path)).  
-00020370: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00020380: 2020 2020 2020 2020 6f75 745f 7061 7468          out_path
-00020390: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
-000203a0: 6469 722c 2066 227b 7669 6465 6f5f 6e61  dir, f"{video_na
-000203b0: 6d65 7d5f 7b73 5f66 7d5f 7b65 5f66 7d7b  me}_{s_f}_{e_f}{
-000203c0: 6578 747d 2229 0a20 2020 2020 2020 2063  ext}").        c
-000203d0: 6d64 203d 2066 2766 666d 7065 6720 2d69  md = f'ffmpeg -i
-000203e0: 2022 7b66 696c 655f 7061 7468 7d22 202d   "{file_path}" -
-000203f0: 7666 2074 7269 6d3d 7374 6172 745f 6672  vf trim=start_fr
-00020400: 616d 653d 7b73 5f66 7d3a 656e 645f 6672  ame={s_f}:end_fr
-00020410: 616d 653d 7b65 5f66 7d20 2d61 6e20 227b  ame={e_f} -an "{
-00020420: 6f75 745f 7061 7468 7d22 202d 6c6f 676c  out_path}" -logl
-00020430: 6576 656c 2065 7272 6f72 202d 7374 6174  evel error -stat
-00020440: 7320 2d79 270a 2020 2020 2020 2020 7375  s -y'.        su
-00020450: 6270 726f 6365 7373 2e63 616c 6c28 636d  bprocess.call(cm
-00020460: 642c 2073 6865 6c6c 3d54 7275 652c 2073  d, shell=True, s
-00020470: 7464 6f75 743d 7375 6270 726f 6365 7373  tdout=subprocess
-00020480: 2e50 4950 4529 0a20 2020 2020 2020 2076  .PIPE).        v
-00020490: 6964 656f 5f74 696d 6572 2e73 746f 705f  ideo_timer.stop_
-000204a0: 7469 6d65 7228 290a 2020 2020 2020 2020  timer().        
-000204b0: 7072 696e 7428 6622 5669 6465 6f20 7b76  print(f"Video {v
-000204c0: 6964 656f 5f6e 616d 657d 2063 6f6d 706c  ideo_name} compl
-000204d0: 6574 6520 2865 6c61 7073 6564 2074 696d  ete (elapsed tim
-000204e0: 6520 7b76 6964 656f 5f74 696d 6572 2e65  e {video_timer.e
-000204f0: 6c61 7073 6564 5f74 696d 655f 7374 727d  lapsed_time_str}
-00020500: 7329 2229 0a20 2020 2074 696d 6572 2e73  s)").    timer.s
-00020510: 746f 705f 7469 6d65 7228 290a 2020 2020  top_timer().    
-00020520: 6966 2073 6176 655f 6469 7220 6973 204e  if save_dir is N
-00020530: 6f6e 653a 0a20 2020 2020 2020 2073 7464  one:.        std
-00020540: 6f75 745f 7375 6363 6573 7328 6d73 673d  out_success(msg=
-00020550: 6622 7b6c 656e 2866 696c 655f 7061 7468  f"{len(file_path
-00020560: 7329 7d20 7669 6465 6f28 7329 2063 6c69  s)} video(s) cli
-00020570: 7070 6564 2062 7920 6672 616d 6522 2c20  pped by frame", 
-00020580: 656c 6170 7365 645f 7469 6d65 3d74 696d  elapsed_time=tim
-00020590: 6572 2e65 6c61 7073 6564 5f74 696d 655f  er.elapsed_time_
-000205a0: 7374 7229 0a20 2020 2065 6c73 653a 0a20  str).    else:. 
-000205b0: 2020 2020 2020 2073 7464 6f75 745f 7375         stdout_su
-000205c0: 6363 6573 7328 6d73 673d 6622 7b6c 656e  ccess(msg=f"{len
-000205d0: 2866 696c 655f 7061 7468 7329 7d20 7669  (file_paths)} vi
-000205e0: 6465 6f28 7329 2063 6c69 7070 6564 2062  deo(s) clipped b
-000205f0: 7920 6672 616d 6520 616e 6420 7361 7665  y frame and save
-00020600: 6420 696e 207b 7361 7665 5f64 6972 7d22  d in {save_dir}"
-00020610: 2c20 656c 6170 7365 645f 7469 6d65 3d74  , elapsed_time=t
-00020620: 696d 6572 2e65 6c61 7073 6564 5f74 696d  imer.elapsed_tim
-00020630: 655f 7374 7229 0a0a 2320 6669 6c65 5f70  e_str)..# file_p
-00020640: 6174 6873 203d 205b 272f 5573 6572 732f  aths = ['/Users/
-00020650: 7369 6d6f 6e2f 446f 776e 6c6f 6164 732f  simon/Downloads/
-00020660: 315f 4c48 2e6d 7034 275d 0a23 2066 726d  1_LH.mp4'].# frm
-00020670: 5f69 6473 203d 205b 5b31 2c20 3130 5d5d  _ids = [[1, 10]]
-00020680: 0a23 2063 6c69 705f 7669 6465 6f73 5f62  .# clip_videos_b
-00020690: 795f 6672 616d 655f 6964 7328 6669 6c65  y_frame_ids(file
-000206a0: 5f70 6174 6873 3d66 696c 655f 7061 7468  _paths=file_path
-000206b0: 732c 2066 726d 5f69 6473 3d66 726d 5f69  s, frm_ids=frm_i
-000206c0: 6473 290a 0a0a 6465 6620 636f 6e76 6572  ds)...def conver
-000206d0: 745f 746f 5f6d 7034 2870 6174 683a 2055  t_to_mp4(path: U
-000206e0: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
-000206f0: 684c 696b 655d 2c0a 2020 2020 2020 2020  hLike],.        
-00020700: 2020 2020 2020 2020 2020 2063 6f64 6563             codec
-00020710: 3a20 4c69 7465 7261 6c5b 276c 6962 7832  : Literal['libx2
-00020720: 3635 272c 2027 6c69 6278 3236 3427 2c20  65', 'libx264', 
-00020730: 2776 7039 272c 2027 706f 7765 7270 6f69  'vp9', 'powerpoi
-00020740: 6e74 275d 203d 2027 6c69 6278 3236 3527  nt'] = 'libx265'
-00020750: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00020760: 2020 2020 2073 6176 655f 6469 723a 204f       save_dir: O
-00020770: 7074 696f 6e61 6c5b 556e 696f 6e5b 7374  ptional[Union[st
-00020780: 722c 206f 732e 5061 7468 4c69 6b65 5d5d  r, os.PathLike]]
-00020790: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-000207a0: 2020 2020 2020 2020 2020 2020 7175 616c              qual
-000207b0: 6974 793a 204f 7074 696f 6e61 6c5b 696e  ity: Optional[in
-000207c0: 745d 203d 2036 3029 202d 3e20 4e6f 6e65  t] = 60) -> None
-000207d0: 3a0a 2020 2020 2222 220a 2020 2020 436f  :.    """.    Co
-000207e0: 6e76 6572 7420 6120 6469 7265 6374 6f72  nvert a director
-000207f0: 7920 636f 6e74 6169 6e69 6e67 2076 6964  y containing vid
-00020800: 656f 732c 206f 7220 6120 7369 6e67 6c65  eos, or a single
-00020810: 2076 6964 656f 2c20 746f 204d 5034 2066   video, to MP4 f
-00020820: 6f72 6d61 7420 7573 696e 6720 7061 7373  ormat using pass
-00020830: 6564 2071 7561 6c69 7479 2061 6e64 2063  ed quality and c
-00020840: 6f64 6563 2e0a 0a20 2020 203a 7061 7261  odec...    :para
-00020850: 6d20 556e 696f 6e5b 7374 722c 206f 732e  m Union[str, os.
-00020860: 5061 7468 4c69 6b65 5d20 7061 7468 3a20  PathLike] path: 
-00020870: 5061 7468 2074 6f20 6469 7265 6374 6f72  Path to director
-00020880: 7920 6f72 2066 696c 652e 0a20 2020 203a  y or file..    :
-00020890: 7061 7261 6d20 4c69 7465 7261 6c5b 276c  param Literal['l
-000208a0: 6962 7832 3635 272c 2027 6c69 6278 3236  ibx265', 'libx26
-000208b0: 3427 2c20 2776 7039 272c 2027 706f 7765  4', 'vp9', 'powe
-000208c0: 7270 6f69 6e74 275d 2063 6f64 6563 3a0a  rpoint'] codec:.
-000208d0: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
-000208e0: 6e61 6c5b 4f70 7469 6f6e 616c 5b55 6e69  nal[Optional[Uni
-000208f0: 6f6e 5b73 7472 2c20 6f73 2e50 6174 684c  on[str, os.PathL
-00020900: 696b 655d 5d5d 2073 6176 655f 6469 723a  ike]]] save_dir:
-00020910: 2044 6972 6563 746f 7279 2077 6865 7265   Directory where
-00020920: 2074 6f20 7361 7665 2074 6865 2063 6f6e   to save the con
-00020930: 7665 7274 6564 2076 6964 656f 732e 2049  verted videos. I
-00020940: 6620 4e6f 6e65 2c20 7468 656e 2063 7265  f None, then cre
-00020950: 6174 6573 2061 2064 6972 6563 746f 7279  ates a directory
-00020960: 2069 6e20 7468 6520 7361 6d65 2064 6972   in the same dir
-00020970: 6563 746f 7279 2061 7320 7468 6520 696e  ectory as the in
-00020980: 7075 742e 0a20 2020 203a 7061 7261 6d20  put..    :param 
-00020990: 4f70 7469 6f6e 616c 5b69 6e74 5d20 7175  Optional[int] qu
-000209a0: 616c 6974 793a 2049 6e74 6567 6572 2072  ality: Integer r
-000209b0: 6570 7265 7365 6e74 696e 6720 7468 6520  epresenting the 
-000209c0: 7175 616c 6974 793a 2031 302c 2032 302c  quality: 10, 20,
-000209d0: 2033 302e 2e20 3130 302e 0a20 2020 203a   30.. 100..    :
-000209e0: 7265 7475 726e 3a20 4e6f 6e65 2e0a 0a20  return: None... 
-000209f0: 2020 203a 6578 616d 706c 653a 0a20 2020     :example:.   
-00020a00: 203e 3e3e 2063 6f6e 7665 7274 5f74 6f5f   >>> convert_to_
-00020a10: 6d70 3428 7061 7468 3d27 2f55 7365 7273  mp4(path='/Users
-00020a20: 2f73 696d 6f6e 2f44 6573 6b74 6f70 2f76  /simon/Desktop/v
-00020a30: 6964 656f 5f74 6573 7427 2c20 7175 616c  ideo_test', qual
-00020a40: 6974 793d 2236 3022 2c20 636f 6465 633d  ity="60", codec=
-00020a50: 2776 7039 2729 0a20 2020 2022 2222 0a0a  'vp9').    """..
-00020a60: 2020 2020 7469 6d65 7220 3d20 5369 6d62      timer = Simb
-00020a70: 6154 696d 6572 2873 7461 7274 3d54 7275  aTimer(start=Tru
-00020a80: 6529 0a20 2020 2063 6865 636b 5f66 666d  e).    check_ffm
-00020a90: 7065 675f 6176 6169 6c61 626c 6528 7261  peg_available(ra
-00020aa0: 6973 655f 6572 726f 723d 5472 7565 290a  ise_error=True).
-00020ab0: 2020 2020 6368 6563 6b5f 7374 7228 6e61      check_str(na
-00020ac0: 6d65 3d66 277b 636f 6e76 6572 745f 746f  me=f'{convert_to
-00020ad0: 5f6d 7034 2e5f 5f6e 616d 655f 5f7d 2063  _mp4.__name__} c
-00020ae0: 6f64 6563 272c 2076 616c 7565 3d63 6f64  odec', value=cod
-00020af0: 6563 2c20 6f70 7469 6f6e 733d 2827 6c69  ec, options=('li
-00020b00: 6278 3236 3527 2c20 276c 6962 7832 3634  bx265', 'libx264
-00020b10: 272c 2027 706f 7765 7270 6f69 6e74 272c  ', 'powerpoint',
-00020b20: 2027 7670 3927 2929 0a20 2020 2063 6865   'vp9')).    che
-00020b30: 636b 5f69 6e73 7461 6e63 6528 736f 7572  ck_instance(sour
-00020b40: 6365 3d66 277b 636f 6e76 6572 745f 746f  ce=f'{convert_to
-00020b50: 5f6d 7034 2e5f 5f6e 616d 655f 5f7d 2070  _mp4.__name__} p
-00020b60: 6174 6827 2c20 696e 7374 616e 6365 3d70  ath', instance=p
-00020b70: 6174 682c 2061 6363 6570 7465 645f 7479  ath, accepted_ty
-00020b80: 7065 733d 2873 7472 2c29 290a 2020 2020  pes=(str,)).    
-00020b90: 6368 6563 6b5f 696e 7428 6e61 6d65 3d66  check_int(name=f
-00020ba0: 277b 636f 6e76 6572 745f 746f 5f6d 7034  '{convert_to_mp4
-00020bb0: 2e5f 5f6e 616d 655f 5f7d 2071 7561 6c69  .__name__} quali
-00020bc0: 7479 272c 2076 616c 7565 3d71 7561 6c69  ty', value=quali
-00020bd0: 7479 290a 2020 2020 6461 7465 7469 6d65  ty).    datetime
-00020be0: 5f20 3d20 6461 7465 7469 6d65 2e6e 6f77  _ = datetime.now
-00020bf0: 2829 2e73 7472 6674 696d 6528 2225 5925  ().strftime("%Y%
-00020c00: 6d25 6425 4825 4d25 5322 290a 2020 2020  m%d%H%M%S").    
-00020c10: 6372 665f 6c6b 203d 2070 6572 6365 6e74  crf_lk = percent
-00020c20: 5f74 6f5f 6372 665f 6c6f 6f6b 7570 2829  _to_crf_lookup()
-00020c30: 0a20 2020 2063 7266 203d 2063 7266 5f6c  .    crf = crf_l
-00020c40: 6b5b 7374 7228 7175 616c 6974 7929 5d0a  k[str(quality)].
-00020c50: 2020 2020 6966 2073 6176 655f 6469 7220      if save_dir 
-00020c60: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
-00020c70: 2020 2020 2063 6865 636b 5f69 665f 6469       check_if_di
-00020c80: 725f 6578 6973 7473 2869 6e5f 6469 723d  r_exists(in_dir=
-00020c90: 7361 7665 5f64 6972 2c20 736f 7572 6365  save_dir, source
-00020ca0: 3d63 6f6e 7665 7274 5f74 6f5f 6d70 342e  =convert_to_mp4.
-00020cb0: 5f5f 6e61 6d65 5f5f 290a 2020 2020 6966  __name__).    if
-00020cc0: 206f 732e 7061 7468 2e69 7366 696c 6528   os.path.isfile(
-00020cd0: 7061 7468 293a 0a20 2020 2020 2020 2066  path):.        f
-00020ce0: 696c 655f 7061 7468 7320 3d20 5b70 6174  ile_paths = [pat
-00020cf0: 685d 0a20 2020 2020 2020 2069 6620 7361  h].        if sa
-00020d00: 7665 5f64 6972 2069 7320 4e6f 6e65 3a0a  ve_dir is None:.
-00020d10: 2020 2020 2020 2020 2020 2020 7361 7665              save
-00020d20: 5f64 6972 203d 206f 732e 7061 7468 2e6a  _dir = os.path.j
-00020d30: 6f69 6e28 6f73 2e70 6174 682e 6469 726e  oin(os.path.dirn
-00020d40: 616d 6528 7061 7468 292c 2066 276d 7034  ame(path), f'mp4
-00020d50: 5f7b 6461 7465 7469 6d65 5f7d 2729 0a20  _{datetime_}'). 
-00020d60: 2020 2020 2020 2020 2020 206f 732e 6d61             os.ma
-00020d70: 6b65 6469 7273 2873 6176 655f 6469 7229  kedirs(save_dir)
-00020d80: 0a20 2020 2065 6c69 6620 6f73 2e70 6174  .    elif os.pat
-00020d90: 682e 6973 6469 7228 7061 7468 293a 0a20  h.isdir(path):. 
-00020da0: 2020 2020 2020 2066 696c 655f 7061 7468         file_path
-00020db0: 7320 3d20 6669 6e64 5f66 696c 6573 5f6f  s = find_files_o
-00020dc0: 665f 6669 6c65 7479 7065 735f 696e 5f64  f_filetypes_in_d
-00020dd0: 6972 6563 746f 7279 2864 6972 6563 746f  irectory(directo
-00020de0: 7279 3d70 6174 682c 2065 7874 656e 7369  ry=path, extensi
-00020df0: 6f6e 733d 4f70 7469 6f6e 732e 414c 4c5f  ons=Options.ALL_
-00020e00: 5649 4445 4f5f 464f 524d 4154 5f4f 5054  VIDEO_FORMAT_OPT
-00020e10: 494f 4e53 2e76 616c 7565 2c20 7261 6973  IONS.value, rais
-00020e20: 655f 6572 726f 723d 5472 7565 290a 2020  e_error=True).  
-00020e30: 2020 2020 2020 6966 2073 6176 655f 6469        if save_di
-00020e40: 7220 6973 204e 6f6e 653a 0a20 2020 2020  r is None:.     
-00020e50: 2020 2020 2020 2073 6176 655f 6469 7220         save_dir 
-00020e60: 3d20 6f73 2e70 6174 682e 6a6f 696e 2870  = os.path.join(p
-00020e70: 6174 682c 2066 276d 7034 5f7b 6461 7465  ath, f'mp4_{date
-00020e80: 7469 6d65 5f7d 2729 0a20 2020 2020 2020  time_}').       
-00020e90: 2020 2020 206f 732e 6d61 6b65 6469 7273       os.makedirs
-00020ea0: 2873 6176 655f 6469 7229 0a20 2020 2065  (save_dir).    e
-00020eb0: 6c73 653a 0a20 2020 2020 2020 2072 6169  lse:.        rai
-00020ec0: 7365 2049 6e76 616c 6964 496e 7075 7445  se InvalidInputE
-00020ed0: 7272 6f72 286d 7367 3d66 2750 6174 6873  rror(msg=f'Paths
-00020ee0: 2069 7320 6e6f 7420 6120 7661 6c69 6420   is not a valid 
-00020ef0: 6669 6c65 206f 7220 6469 7265 6374 6f72  file or director
-00020f00: 7920 7061 7468 2e27 2c20 736f 7572 6365  y path.', source
-00020f10: 3d63 6f6e 7665 7274 5f74 6f5f 6d70 342e  =convert_to_mp4.
-00020f20: 5f5f 6e61 6d65 5f5f 290a 2020 2020 666f  __name__).    fo
-00020f30: 7220 6669 6c65 5f63 6e74 2c20 6669 6c65  r file_cnt, file
-00020f40: 5f70 6174 6820 696e 2065 6e75 6d65 7261  _path in enumera
-00020f50: 7465 2866 696c 655f 7061 7468 7329 3a0a  te(file_paths):.
-00020f60: 2020 2020 2020 2020 5f2c 2076 6964 656f          _, video
-00020f70: 5f6e 616d 652c 205f 203d 2067 6574 5f66  _name, _ = get_f
-00020f80: 6e5f 6578 7428 6669 6c65 7061 7468 3d66  n_ext(filepath=f
-00020f90: 696c 655f 7061 7468 290a 2020 2020 2020  ile_path).      
-00020fa0: 2020 7072 696e 7428 6627 436f 6e76 6572    print(f'Conver
-00020fb0: 7469 6e67 2076 6964 656f 207b 7669 6465  ting video {vide
-00020fc0: 6f5f 6e61 6d65 7d20 746f 204d 5034 2028  o_name} to MP4 (
-00020fd0: 5669 6465 6f20 7b66 696c 655f 636e 742b  Video {file_cnt+
-00020fe0: 317d 2f7b 6c65 6e28 6669 6c65 5f70 6174  1}/{len(file_pat
-00020ff0: 6873 297d 292e 2e2e 2729 0a20 2020 2020  hs)})...').     
-00021000: 2020 205f 203d 2067 6574 5f76 6964 656f     _ = get_video
-00021010: 5f6d 6574 615f 6461 7461 2876 6964 656f  _meta_data(video
-00021020: 5f70 6174 683d 6669 6c65 5f70 6174 6829  _path=file_path)
-00021030: 0a20 2020 2020 2020 206f 7574 5f70 6174  .        out_pat
-00021040: 6820 3d20 6f73 2e70 6174 682e 6a6f 696e  h = os.path.join
-00021050: 2873 6176 655f 6469 722c 2066 277b 7669  (save_dir, f'{vi
-00021060: 6465 6f5f 6e61 6d65 7d2e 6d70 3427 290a  deo_name}.mp4').
-00021070: 2020 2020 2020 2020 6966 2063 6f64 6563          if codec
-00021080: 203d 3d20 2770 6f77 6572 706f 696e 7427   == 'powerpoint'
-00021090: 3a0a 2020 2020 2020 2020 2020 2020 636d  :.            cm
-000210a0: 6420 3d20 6627 6666 6d70 6567 202d 6920  d = f'ffmpeg -i 
-000210b0: 227b 6669 6c65 5f70 6174 687d 2220 2d63  "{file_path}" -c
-000210c0: 3a76 206c 6962 7832 3634 202d 7072 6573  :v libx264 -pres
-000210d0: 6574 2073 6c6f 7720 2d70 726f 6669 6c65  et slow -profile
-000210e0: 3a76 2068 6967 6820 2d6c 6576 656c 3a76  :v high -level:v
-000210f0: 2034 2e30 202d 7069 785f 666d 7420 7975   4.0 -pix_fmt yu
-00021100: 7634 3230 7020 2d63 7266 207b 6372 667d  v420p -crf {crf}
-00021110: 202d 633a 7620 6c69 6278 3236 3420 2d63   -c:v libx264 -c
-00021120: 6f64 6563 3a61 2061 6163 2022 7b6f 7574  odec:a aac "{out
-00021130: 5f70 6174 687d 2220 2d6c 6f67 6c65 7665  _path}" -logleve
-00021140: 6c20 6572 726f 7220 2d73 7461 7473 202d  l error -stats -
-00021150: 6869 6465 5f62 616e 6e65 7220 2d79 270a  hide_banner -y'.
-00021160: 2020 2020 2020 2020 656c 6966 2063 6f64          elif cod
-00021170: 6563 203d 3d20 2776 7039 273a 0a20 2020  ec == 'vp9':.   
-00021180: 2020 2020 2020 2020 2063 6d64 203d 2066           cmd = f
-00021190: 2766 666d 7065 6720 2d69 2022 7b66 696c  'ffmpeg -i "{fil
-000211a0: 655f 7061 7468 7d22 202d 633a 7620 6c69  e_path}" -c:v li
-000211b0: 6276 7078 2d76 7039 202d 6372 6620 7b63  bvpx-vp9 -crf {c
-000211c0: 7266 7d20 2d62 3a76 2030 202d 616e 2022  rf} -b:v 0 -an "
-000211d0: 7b6f 7574 5f70 6174 687d 2220 2d6c 6f67  {out_path}" -log
-000211e0: 6c65 7665 6c20 6572 726f 7220 2d73 7461  level error -sta
-000211f0: 7473 202d 6869 6465 5f62 616e 6e65 7220  ts -hide_banner 
-00021200: 2d79 270a 2020 2020 2020 2020 656c 7365  -y'.        else
-00021210: 3a0a 2020 2020 2020 2020 2020 2020 636d  :.            cm
-00021220: 6420 3d20 6627 6666 6d70 6567 202d 6920  d = f'ffmpeg -i 
-00021230: 227b 6669 6c65 5f70 6174 687d 2220 2d63  "{file_path}" -c
-00021240: 3a76 207b 636f 6465 637d 202d 6372 6620  :v {codec} -crf 
-00021250: 7b63 7266 7d20 2d63 3a61 2063 6f70 7920  {crf} -c:a copy 
-00021260: 2d61 6e20 227b 6f75 745f 7061 7468 7d22  -an "{out_path}"
-00021270: 202d 6c6f 676c 6576 656c 2065 7272 6f72   -loglevel error
-00021280: 202d 7374 6174 7320 2d68 6964 655f 6261   -stats -hide_ba
-00021290: 6e6e 6572 202d 7927 0a20 2020 2020 2020  nner -y'.       
-000212a0: 2073 7562 7072 6f63 6573 732e 6361 6c6c   subprocess.call
-000212b0: 2863 6d64 2c20 7368 656c 6c3d 5472 7565  (cmd, shell=True
-000212c0: 2c20 7374 646f 7574 3d73 7562 7072 6f63  , stdout=subproc
-000212d0: 6573 732e 5049 5045 290a 2020 2020 7469  ess.PIPE).    ti
-000212e0: 6d65 722e 7374 6f70 5f74 696d 6572 2829  mer.stop_timer()
-000212f0: 0a20 2020 2073 7464 6f75 745f 7375 6363  .    stdout_succ
-00021300: 6573 7328 6d73 673d 6622 7b6c 656e 2866  ess(msg=f"{len(f
-00021310: 696c 655f 7061 7468 7329 7d20 7669 6465  ile_paths)} vide
-00021320: 6f28 7329 2063 6f6e 7665 7274 6564 2074  o(s) converted t
-00021330: 6f20 4d50 3420 616e 6420 7361 7665 6420  o MP4 and saved 
-00021340: 696e 207b 7361 7665 5f64 6972 7d20 6469  in {save_dir} di
-00021350: 7265 6374 6f72 792e 222c 2065 6c61 7073  rectory.", elaps
-00021360: 6564 5f74 696d 653d 7469 6d65 722e 656c  ed_time=timer.el
-00021370: 6170 7365 645f 7469 6d65 5f73 7472 2c20  apsed_time_str, 
-00021380: 736f 7572 6365 3d63 6f6e 7665 7274 5f74  source=convert_t
-00021390: 6f5f 6d70 342e 5f5f 6e61 6d65 5f5f 2c29  o_mp4.__name__,)
-000213a0: 0a0a 0a0a 0a0a 6465 6620 636f 6e76 6572  ......def conver
-000213b0: 745f 746f 5f61 7669 2870 6174 683a 2055  t_to_avi(path: U
-000213c0: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
-000213d0: 684c 696b 655d 2c0a 2020 2020 2020 2020  hLike],.        
-000213e0: 2020 2020 2020 2020 2020 2063 6f64 6563             codec
-000213f0: 3a20 4c69 7465 7261 6c5b 2778 7669 6427  : Literal['xvid'
-00021400: 2c20 2764 6976 7827 2c20 276d 6a70 6567  , 'divx', 'mjpeg
-00021410: 275d 203d 2027 6469 7678 272c 0a20 2020  '] = 'divx',.   
-00021420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021430: 7361 7665 5f64 6972 3a20 4f70 7469 6f6e  save_dir: Option
-00021440: 616c 5b55 6e69 6f6e 5b73 7472 2c20 6f73  al[Union[str, os
-00021450: 2e50 6174 684c 696b 655d 5d20 3d20 4e6f  .PathLike]] = No
-00021460: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
-00021470: 2020 2020 2020 2071 7561 6c69 7479 3a20         quality: 
-00021480: 4f70 7469 6f6e 616c 5b69 6e74 5d20 3d20  Optional[int] = 
-00021490: 3630 2920 2d3e 204e 6f6e 653a 0a0a 2020  60) -> None:..  
-000214a0: 2020 2222 220a 2020 2020 436f 6e76 6572    """.    Conver
-000214b0: 7420 6120 6469 7265 6374 6f72 7920 636f  t a directory co
-000214c0: 6e74 6169 6e69 6e67 2076 6964 656f 732c  ntaining videos,
-000214d0: 206f 7220 6120 7369 6e67 6c65 2076 6964   or a single vid
-000214e0: 656f 2c20 746f 2041 5649 2066 6f72 6d61  eo, to AVI forma
-000214f0: 7420 7573 696e 6720 7061 7373 6564 2071  t using passed q
-00021500: 7561 6c69 7479 2061 6e64 2063 6f64 6563  uality and codec
-00021510: 2e0a 0a20 2020 203a 7061 7261 6d20 556e  ...    :param Un
-00021520: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
-00021530: 4c69 6b65 5d20 7061 7468 3a20 5061 7468  Like] path: Path
-00021540: 2074 6f20 6469 7265 6374 6f72 7920 6f72   to directory or
-00021550: 2066 696c 652e 0a20 2020 203a 7061 7261   file..    :para
-00021560: 6d20 4c69 7465 7261 6c5b 2778 7669 6427  m Literal['xvid'
-00021570: 2c20 2764 6976 7827 2c20 276d 6a70 6567  , 'divx', 'mjpeg
-00021580: 275d 2063 6f64 6563 3a20 4d65 7468 6f64  '] codec: Method
-00021590: 2074 6f20 656e 636f 6465 2074 6865 2041   to encode the A
-000215a0: 5649 2066 6f72 6d61 742e 2044 6566 6175  VI format. Defau
-000215b0: 6c74 3a20 7876 6964 2e0a 2020 2020 3a70  lt: xvid..    :p
-000215c0: 6172 616d 204f 7074 696f 6e61 6c5b 4f70  aram Optional[Op
-000215d0: 7469 6f6e 616c 5b55 6e69 6f6e 5b73 7472  tional[Union[str
-000215e0: 2c20 6f73 2e50 6174 684c 696b 655d 5d5d  , os.PathLike]]]
-000215f0: 2073 6176 655f 6469 723a 2044 6972 6563   save_dir: Direc
-00021600: 746f 7279 2077 6865 7265 2074 6f20 7361  tory where to sa
-00021610: 7665 2074 6865 2063 6f6e 7665 7274 6564  ve the converted
-00021620: 2076 6964 656f 732e 2049 6620 4e6f 6e65   videos. If None
-00021630: 2c20 7468 656e 2063 7265 6174 6573 2061  , then creates a
-00021640: 2064 6972 6563 746f 7279 2069 6e20 7468   directory in th
-00021650: 6520 7361 6d65 2064 6972 6563 746f 7279  e same directory
-00021660: 2061 7320 7468 6520 696e 7075 742e 0a20   as the input.. 
-00021670: 2020 203a 7061 7261 6d20 4f70 7469 6f6e     :param Option
-00021680: 616c 5b69 6e74 5d20 7175 616c 6974 793a  al[int] quality:
-00021690: 2049 6e74 6567 6572 2072 6570 7265 7365   Integer represe
-000216a0: 6e74 696e 6720 7468 6520 7175 616c 6974  nting the qualit
-000216b0: 793a 2031 302c 2032 302c 2033 302e 2e20  y: 10, 20, 30.. 
-000216c0: 3130 302e 0a20 2020 203a 7265 7475 726e  100..    :return
-000216d0: 3a20 4e6f 6e65 2e0a 2020 2020 2222 220a  : None..    """.
-000216e0: 0a0a 2020 2020 7469 6d65 7220 3d20 5369  ..    timer = Si
-000216f0: 6d62 6154 696d 6572 2873 7461 7274 3d54  mbaTimer(start=T
-00021700: 7275 6529 0a20 2020 2063 6865 636b 5f66  rue).    check_f
-00021710: 666d 7065 675f 6176 6169 6c61 626c 6528  fmpeg_available(
-00021720: 7261 6973 655f 6572 726f 723d 5472 7565  raise_error=True
-00021730: 290a 2020 2020 6368 6563 6b5f 7374 7228  ).    check_str(
-00021740: 6e61 6d65 3d66 277b 636f 6e76 6572 745f  name=f'{convert_
-00021750: 746f 5f61 7669 2e5f 5f6e 616d 655f 5f7d  to_avi.__name__}
-00021760: 2063 6f64 6563 272c 2076 616c 7565 3d63   codec', value=c
-00021770: 6f64 6563 2c20 6f70 7469 6f6e 733d 2827  odec, options=('
-00021780: 7876 6964 272c 2027 6469 7678 272c 2027  xvid', 'divx', '
-00021790: 6d6a 7065 6727 2929 0a20 2020 2063 6865  mjpeg')).    che
-000217a0: 636b 5f69 6e73 7461 6e63 6528 736f 7572  ck_instance(sour
-000217b0: 6365 3d66 277b 636f 6e76 6572 745f 746f  ce=f'{convert_to
-000217c0: 5f61 7669 2e5f 5f6e 616d 655f 5f7d 2070  _avi.__name__} p
-000217d0: 6174 6827 2c20 696e 7374 616e 6365 3d70  ath', instance=p
-000217e0: 6174 682c 2061 6363 6570 7465 645f 7479  ath, accepted_ty
-000217f0: 7065 733d 2873 7472 2c29 290a 2020 2020  pes=(str,)).    
-00021800: 6368 6563 6b5f 696e 7428 6e61 6d65 3d66  check_int(name=f
-00021810: 277b 636f 6e76 6572 745f 746f 5f61 7669  '{convert_to_avi
-00021820: 2e5f 5f6e 616d 655f 5f7d 2071 7561 6c69  .__name__} quali
-00021830: 7479 272c 2076 616c 7565 3d71 7561 6c69  ty', value=quali
-00021840: 7479 290a 2020 2020 6461 7465 7469 6d65  ty).    datetime
-00021850: 5f20 3d20 6461 7465 7469 6d65 2e6e 6f77  _ = datetime.now
-00021860: 2829 2e73 7472 6674 696d 6528 2225 5925  ().strftime("%Y%
-00021870: 6d25 6425 4825 4d25 5322 290a 2020 2020  m%d%H%M%S").    
-00021880: 6372 665f 6c6b 203d 2070 6572 6365 6e74  crf_lk = percent
-00021890: 5f74 6f5f 6372 665f 6c6f 6f6b 7570 2829  _to_crf_lookup()
-000218a0: 0a20 2020 2063 765f 6c6b 203d 2070 6572  .    cv_lk = per
-000218b0: 6365 6e74 5f74 6f5f 7176 5f6c 6b28 290a  cent_to_qv_lk().
-000218c0: 2020 2020 6372 6620 3d20 6372 665f 6c6b      crf = crf_lk
-000218d0: 5b73 7472 2871 7561 6c69 7479 295d 0a20  [str(quality)]. 
-000218e0: 2020 2071 7620 3d20 6376 5f6c 6b5b 696e     qv = cv_lk[in
-000218f0: 7428 7175 616c 6974 7929 5d0a 2020 2020  t(quality)].    
-00021900: 6966 2073 6176 655f 6469 7220 6973 206e  if save_dir is n
-00021910: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-00021920: 2063 6865 636b 5f69 665f 6469 725f 6578   check_if_dir_ex
-00021930: 6973 7473 2869 6e5f 6469 723d 7361 7665  ists(in_dir=save
-00021940: 5f64 6972 2c20 736f 7572 6365 3d63 6f6e  _dir, source=con
-00021950: 7665 7274 5f74 6f5f 6176 692e 5f5f 6e61  vert_to_avi.__na
-00021960: 6d65 5f5f 290a 2020 2020 6966 206f 732e  me__).    if os.
-00021970: 7061 7468 2e69 7366 696c 6528 7061 7468  path.isfile(path
-00021980: 293a 0a20 2020 2020 2020 2066 696c 655f  ):.        file_
-00021990: 7061 7468 7320 3d20 5b70 6174 685d 0a20  paths = [path]. 
-000219a0: 2020 2020 2020 2069 6620 7361 7665 5f64         if save_d
-000219b0: 6972 2069 7320 4e6f 6e65 3a0a 2020 2020  ir is None:.    
-000219c0: 2020 2020 2020 2020 7361 7665 5f64 6972          save_dir
-000219d0: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
-000219e0: 6f73 2e70 6174 682e 6469 726e 616d 6528  os.path.dirname(
-000219f0: 7061 7468 292c 2066 2761 7669 5f7b 6461  path), f'avi_{da
-00021a00: 7465 7469 6d65 5f7d 2729 0a20 2020 2020  tetime_}').     
-00021a10: 2020 2020 2020 206f 732e 6d61 6b65 6469         os.makedi
-00021a20: 7273 2873 6176 655f 6469 7229 0a20 2020  rs(save_dir).   
-00021a30: 2065 6c69 6620 6f73 2e70 6174 682e 6973   elif os.path.is
-00021a40: 6469 7228 7061 7468 293a 0a20 2020 2020  dir(path):.     
-00021a50: 2020 2066 696c 655f 7061 7468 7320 3d20     file_paths = 
-00021a60: 6669 6e64 5f66 696c 6573 5f6f 665f 6669  find_files_of_fi
-00021a70: 6c65 7479 7065 735f 696e 5f64 6972 6563  letypes_in_direc
-00021a80: 746f 7279 2864 6972 6563 746f 7279 3d70  tory(directory=p
-00021a90: 6174 682c 2065 7874 656e 7369 6f6e 733d  ath, extensions=
-00021aa0: 4f70 7469 6f6e 732e 414c 4c5f 5649 4445  Options.ALL_VIDE
-00021ab0: 4f5f 464f 524d 4154 5f4f 5054 494f 4e53  O_FORMAT_OPTIONS
-00021ac0: 2e76 616c 7565 2c20 7261 6973 655f 6572  .value, raise_er
-00021ad0: 726f 723d 5472 7565 290a 2020 2020 2020  ror=True).      
-00021ae0: 2020 6966 2073 6176 655f 6469 7220 6973    if save_dir is
-00021af0: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-00021b00: 2020 2073 6176 655f 6469 7220 3d20 6f73     save_dir = os
-00021b10: 2e70 6174 682e 6a6f 696e 2870 6174 682c  .path.join(path,
-00021b20: 2066 2761 7669 5f7b 6461 7465 7469 6d65   f'avi_{datetime
-00021b30: 5f7d 2729 0a20 2020 2020 2020 2020 2020  _}').           
-00021b40: 206f 732e 6d61 6b65 6469 7273 2873 6176   os.makedirs(sav
-00021b50: 655f 6469 7229 0a20 2020 2065 6c73 653a  e_dir).    else:
-00021b60: 0a20 2020 2020 2020 2072 6169 7365 2049  .        raise I
-00021b70: 6e76 616c 6964 496e 7075 7445 7272 6f72  nvalidInputError
-00021b80: 286d 7367 3d66 2750 6174 6873 2069 7320  (msg=f'Paths is 
-00021b90: 6e6f 7420 6120 7661 6c69 6420 6669 6c65  not a valid file
-00021ba0: 206f 7220 6469 7265 6374 6f72 7920 7061   or directory pa
-00021bb0: 7468 2e27 2c20 736f 7572 6365 3d63 6f6e  th.', source=con
-00021bc0: 7665 7274 5f74 6f5f 6176 692e 5f5f 6e61  vert_to_avi.__na
-00021bd0: 6d65 5f5f 290a 2020 2020 666f 7220 6669  me__).    for fi
-00021be0: 6c65 5f63 6e74 2c20 6669 6c65 5f70 6174  le_cnt, file_pat
-00021bf0: 6820 696e 2065 6e75 6d65 7261 7465 2866  h in enumerate(f
-00021c00: 696c 655f 7061 7468 7329 3a0a 2020 2020  ile_paths):.    
-00021c10: 2020 2020 5f2c 2076 6964 656f 5f6e 616d      _, video_nam
-00021c20: 652c 205f 203d 2067 6574 5f66 6e5f 6578  e, _ = get_fn_ex
-00021c30: 7428 6669 6c65 7061 7468 3d66 696c 655f  t(filepath=file_
-00021c40: 7061 7468 290a 2020 2020 2020 2020 7072  path).        pr
-00021c50: 696e 7428 6627 436f 6e76 6572 7469 6e67  int(f'Converting
-00021c60: 2076 6964 656f 207b 7669 6465 6f5f 6e61   video {video_na
-00021c70: 6d65 7d20 746f 2061 7669 2028 5669 6465  me} to avi (Vide
-00021c80: 6f20 7b66 696c 655f 636e 742b 317d 2f7b  o {file_cnt+1}/{
-00021c90: 6c65 6e28 6669 6c65 5f70 6174 6873 297d  len(file_paths)}
-00021ca0: 292e 2e2e 2729 0a20 2020 2020 2020 205f  )...').        _
-00021cb0: 203d 2067 6574 5f76 6964 656f 5f6d 6574   = get_video_met
-00021cc0: 615f 6461 7461 2876 6964 656f 5f70 6174  a_data(video_pat
-00021cd0: 683d 6669 6c65 5f70 6174 6829 0a20 2020  h=file_path).   
-00021ce0: 2020 2020 206f 7574 5f70 6174 6820 3d20       out_path = 
-00021cf0: 6f73 2e70 6174 682e 6a6f 696e 2873 6176  os.path.join(sav
-00021d00: 655f 6469 722c 2066 277b 7669 6465 6f5f  e_dir, f'{video_
-00021d10: 6e61 6d65 7d2e 6176 6927 290a 2020 2020  name}.avi').    
-00021d20: 2020 2020 6966 2063 6f64 6563 203d 3d20      if codec == 
-00021d30: 2764 6976 7827 3a0a 2020 2020 2020 2020  'divx':.        
-00021d40: 2020 2020 636d 6420 3d20 6627 6666 6d70      cmd = f'ffmp
-00021d50: 6567 202d 6920 227b 6669 6c65 5f70 6174  eg -i "{file_pat
-00021d60: 687d 2220 2d63 3a76 206d 7065 6734 202d  h}" -c:v mpeg4 -
-00021d70: 6372 6620 7b63 7266 7d20 2d76 7461 6720  crf {crf} -vtag 
-00021d80: 4449 5658 2022 7b6f 7574 5f70 6174 687d  DIVX "{out_path}
-00021d90: 2220 2d6c 6f67 6c65 7665 6c20 6572 726f  " -loglevel erro
-00021da0: 7220 2d73 7461 7473 202d 6869 6465 5f62  r -stats -hide_b
-00021db0: 616e 6e65 7220 2d79 270a 2020 2020 2020  anner -y'.      
-00021dc0: 2020 656c 6966 2063 6f64 6563 203d 3d20    elif codec == 
-00021dd0: 2778 7669 6427 3a0a 2020 2020 2020 2020  'xvid':.        
-00021de0: 2020 2020 636d 6420 3d20 6627 6666 6d70      cmd = f'ffmp
-00021df0: 6567 202d 6920 227b 6669 6c65 5f70 6174  eg -i "{file_pat
-00021e00: 687d 2220 2d63 3a76 206c 6962 7876 6964  h}" -c:v libxvid
-00021e10: 202d 713a 7620 7b71 767d 2022 7b6f 7574   -q:v {qv} "{out
-00021e20: 5f70 6174 687d 2220 2d6c 6f67 6c65 7665  _path}" -logleve
-00021e30: 6c20 6572 726f 7220 2d73 7461 7473 202d  l error -stats -
-00021e40: 6869 6465 5f62 616e 6e65 7220 2d79 270a  hide_banner -y'.
-00021e50: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00021e60: 2020 2020 2020 2020 2020 636d 6420 3d20            cmd = 
-00021e70: 6627 6666 6d70 6567 202d 6920 227b 6669  f'ffmpeg -i "{fi
-00021e80: 6c65 5f70 6174 687d 2220 2d63 3a76 206d  le_path}" -c:v m
-00021e90: 6a70 6567 202d 713a 7620 7b71 767d 2022  jpeg -q:v {qv} "
-00021ea0: 7b6f 7574 5f70 6174 687d 2220 2d6c 6f67  {out_path}" -log
-00021eb0: 6c65 7665 6c20 6572 726f 7220 2d73 7461  level error -sta
-00021ec0: 7473 202d 6869 6465 5f62 616e 6e65 7220  ts -hide_banner 
-00021ed0: 2d79 270a 2020 2020 2020 2020 7375 6270  -y'.        subp
-00021ee0: 726f 6365 7373 2e63 616c 6c28 636d 642c  rocess.call(cmd,
-00021ef0: 2073 6865 6c6c 3d54 7275 652c 2073 7464   shell=True, std
-00021f00: 6f75 743d 7375 6270 726f 6365 7373 2e50  out=subprocess.P
-00021f10: 4950 4529 0a20 2020 2074 696d 6572 2e73  IPE).    timer.s
-00021f20: 746f 705f 7469 6d65 7228 290a 2020 2020  top_timer().    
-00021f30: 7374 646f 7574 5f73 7563 6365 7373 286d  stdout_success(m
-00021f40: 7367 3d66 227b 6c65 6e28 6669 6c65 5f70  sg=f"{len(file_p
-00021f50: 6174 6873 297d 2076 6964 656f 2873 2920  aths)} video(s) 
-00021f60: 636f 6e76 6572 7465 6420 746f 2041 5649  converted to AVI
-00021f70: 2061 6e64 2073 6176 6564 2069 6e20 7b73   and saved in {s
-00021f80: 6176 655f 6469 727d 2064 6972 6563 746f  ave_dir} directo
-00021f90: 7279 2e22 2c20 656c 6170 7365 645f 7469  ry.", elapsed_ti
-00021fa0: 6d65 3d74 696d 6572 2e65 6c61 7073 6564  me=timer.elapsed
-00021fb0: 5f74 696d 655f 7374 722c 2073 6f75 7263  _time_str, sourc
-00021fc0: 653d 636f 6e76 6572 745f 746f 5f61 7669  e=convert_to_avi
-00021fd0: 2e5f 5f6e 616d 655f 5f2c 290a 0a0a 6465  .__name__,)...de
-00021fe0: 6620 636f 6e76 6572 745f 746f 5f77 6562  f convert_to_web
-00021ff0: 6d28 7061 7468 3a20 556e 696f 6e5b 7374  m(path: Union[st
-00022000: 722c 206f 732e 5061 7468 4c69 6b65 5d2c  r, os.PathLike],
-00022010: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00022020: 2020 2020 2063 6f64 6563 3a20 4c69 7465       codec: Lite
-00022030: 7261 6c5b 2776 7038 272c 2027 7670 3927  ral['vp8', 'vp9'
-00022040: 5d20 3d20 2776 7039 272c 0a20 2020 2020  ] = 'vp9',.     
-00022050: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00022060: 6176 655f 6469 723a 204f 7074 696f 6e61  ave_dir: Optiona
-00022070: 6c5b 556e 696f 6e5b 7374 722c 206f 732e  l[Union[str, os.
-00022080: 5061 7468 4c69 6b65 5d5d 203d 204e 6f6e  PathLike]] = Non
-00022090: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-000220a0: 2020 2020 2020 2071 7561 6c69 7479 3a20         quality: 
-000220b0: 4f70 7469 6f6e 616c 5b69 6e74 5d20 3d20  Optional[int] = 
-000220c0: 3630 2920 2d3e 204e 6f6e 653a 0a0a 2020  60) -> None:..  
-000220d0: 2020 2222 220a 2020 2020 436f 6e76 6572    """.    Conver
-000220e0: 7420 6120 6469 7265 6374 6f72 7920 636f  t a directory co
-000220f0: 6e74 6169 6e69 6e67 2076 6964 656f 732c  ntaining videos,
-00022100: 206f 7220 6120 7369 6e67 6c65 2076 6964   or a single vid
-00022110: 656f 2c20 746f 2057 4542 4d20 666f 726d  eo, to WEBM form
-00022120: 6174 2075 7369 6e67 2070 6173 7365 6420  at using passed 
-00022130: 7175 616c 6974 7920 616e 6420 636f 6465  quality and code
-00022140: 632e 0a0a 2020 2020 3a70 6172 616d 2055  c...    :param U
-00022150: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
-00022160: 684c 696b 655d 2070 6174 683a 2050 6174  hLike] path: Pat
-00022170: 6820 746f 2064 6972 6563 746f 7279 206f  h to directory o
-00022180: 7220 6669 6c65 2e0a 2020 2020 3a70 6172  r file..    :par
-00022190: 616d 204c 6974 6572 616c 5b27 7670 3827  am Literal['vp8'
-000221a0: 2c20 2776 7039 272c 2027 6176 3127 5d20  , 'vp9', 'av1'] 
-000221b0: 636f 6465 633a 204d 6574 686f 6420 746f  codec: Method to
-000221c0: 2065 6e63 6f64 6520 7468 6520 5745 424d   encode the WEBM
-000221d0: 2066 6f72 6d61 742e 2044 6566 6175 6c74   format. Default
-000221e0: 3a20 7670 392e 0a20 2020 203a 7061 7261  : vp9..    :para
-000221f0: 6d20 4f70 7469 6f6e 616c 5b4f 7074 696f  m Optional[Optio
-00022200: 6e61 6c5b 556e 696f 6e5b 7374 722c 206f  nal[Union[str, o
-00022210: 732e 5061 7468 4c69 6b65 5d5d 5d20 7361  s.PathLike]]] sa
-00022220: 7665 5f64 6972 3a20 4469 7265 6374 6f72  ve_dir: Director
-00022230: 7920 7768 6572 6520 746f 2073 6176 6520  y where to save 
-00022240: 7468 6520 636f 6e76 6572 7465 6420 7669  the converted vi
-00022250: 6465 6f73 2e20 4966 204e 6f6e 652c 2074  deos. If None, t
-00022260: 6865 6e20 6372 6561 7465 7320 6120 6469  hen creates a di
-00022270: 7265 6374 6f72 7920 696e 2074 6865 2073  rectory in the s
-00022280: 616d 6520 6469 7265 6374 6f72 7920 6173  ame directory as
-00022290: 2074 6865 2069 6e70 7574 2e0a 2020 2020   the input..    
-000222a0: 3a70 6172 616d 204f 7074 696f 6e61 6c5b  :param Optional[
-000222b0: 696e 745d 2071 7561 6c69 7479 3a20 496e  int] quality: In
-000222c0: 7465 6765 7220 7265 7072 6573 656e 7469  teger representi
-000222d0: 6e67 2074 6865 2071 7561 6c69 7479 3a20  ng the quality: 
-000222e0: 3130 2c20 3230 2c20 3330 2e2e 2031 3030  10, 20, 30.. 100
-000222f0: 2e0a 2020 2020 3a72 6574 7572 6e3a 204e  ..    :return: N
-00022300: 6f6e 652e 0a20 2020 2022 2222 0a0a 2020  one..    """..  
-00022310: 2020 7469 6d65 7220 3d20 5369 6d62 6154    timer = SimbaT
-00022320: 696d 6572 2873 7461 7274 3d54 7275 6529  imer(start=True)
-00022330: 0a20 2020 2063 6865 636b 5f66 666d 7065  .    check_ffmpe
-00022340: 675f 6176 6169 6c61 626c 6528 7261 6973  g_available(rais
-00022350: 655f 6572 726f 723d 5472 7565 290a 2020  e_error=True).  
-00022360: 2020 6368 6563 6b5f 7374 7228 6e61 6d65    check_str(name
-00022370: 3d66 277b 636f 6e76 6572 745f 746f 5f77  =f'{convert_to_w
-00022380: 6562 6d2e 5f5f 6e61 6d65 5f5f 7d20 636f  ebm.__name__} co
-00022390: 6465 6327 2c20 7661 6c75 653d 636f 6465  dec', value=code
-000223a0: 632c 206f 7074 696f 6e73 3d28 2776 7038  c, options=('vp8
-000223b0: 272c 2027 7670 3927 2929 0a20 2020 2063  ', 'vp9')).    c
-000223c0: 6865 636b 5f69 6e73 7461 6e63 6528 736f  heck_instance(so
-000223d0: 7572 6365 3d66 277b 636f 6e76 6572 745f  urce=f'{convert_
-000223e0: 746f 5f77 6562 6d2e 5f5f 6e61 6d65 5f5f  to_webm.__name__
-000223f0: 7d20 7061 7468 272c 2069 6e73 7461 6e63  } path', instanc
-00022400: 653d 7061 7468 2c20 6163 6365 7074 6564  e=path, accepted
-00022410: 5f74 7970 6573 3d28 7374 722c 2929 0a20  _types=(str,)). 
-00022420: 2020 2063 6865 636b 5f69 6e74 286e 616d     check_int(nam
-00022430: 653d 6627 7b63 6f6e 7665 7274 5f74 6f5f  e=f'{convert_to_
-00022440: 7765 626d 2e5f 5f6e 616d 655f 5f7d 2071  webm.__name__} q
-00022450: 7561 6c69 7479 272c 2076 616c 7565 3d71  uality', value=q
-00022460: 7561 6c69 7479 290a 2020 2020 6461 7465  uality).    date
-00022470: 7469 6d65 5f20 3d20 6461 7465 7469 6d65  time_ = datetime
-00022480: 2e6e 6f77 2829 2e73 7472 6674 696d 6528  .now().strftime(
-00022490: 2225 5925 6d25 6425 4825 4d25 5322 290a  "%Y%m%d%H%M%S").
-000224a0: 2020 2020 6372 665f 6c6b 203d 2070 6572      crf_lk = per
-000224b0: 6365 6e74 5f74 6f5f 6372 665f 6c6f 6f6b  cent_to_crf_look
-000224c0: 7570 2829 0a20 2020 2063 7266 203d 2063  up().    crf = c
-000224d0: 7266 5f6c 6b5b 7374 7228 7175 616c 6974  rf_lk[str(qualit
-000224e0: 7929 5d0a 2020 2020 6966 2073 6176 655f  y)].    if save_
-000224f0: 6469 7220 6973 206e 6f74 204e 6f6e 653a  dir is not None:
-00022500: 0a20 2020 2020 2020 2063 6865 636b 5f69  .        check_i
-00022510: 665f 6469 725f 6578 6973 7473 2869 6e5f  f_dir_exists(in_
-00022520: 6469 723d 7361 7665 5f64 6972 2c20 736f  dir=save_dir, so
-00022530: 7572 6365 3d63 6f6e 7665 7274 5f74 6f5f  urce=convert_to_
-00022540: 7765 626d 2e5f 5f6e 616d 655f 5f29 0a20  webm.__name__). 
-00022550: 2020 2069 6620 6f73 2e70 6174 682e 6973     if os.path.is
-00022560: 6669 6c65 2870 6174 6829 3a0a 2020 2020  file(path):.    
-00022570: 2020 2020 6669 6c65 5f70 6174 6873 203d      file_paths =
-00022580: 205b 7061 7468 5d0a 2020 2020 2020 2020   [path].        
-00022590: 6966 2073 6176 655f 6469 7220 6973 204e  if save_dir is N
-000225a0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-000225b0: 2073 6176 655f 6469 7220 3d20 6f73 2e70   save_dir = os.p
-000225c0: 6174 682e 6a6f 696e 286f 732e 7061 7468  ath.join(os.path
-000225d0: 2e64 6972 6e61 6d65 2870 6174 6829 2c20  .dirname(path), 
-000225e0: 6627 7765 626d 5f7b 6461 7465 7469 6d65  f'webm_{datetime
-000225f0: 5f7d 2729 0a20 2020 2020 2020 2020 2020  _}').           
-00022600: 206f 732e 6d61 6b65 6469 7273 2873 6176   os.makedirs(sav
-00022610: 655f 6469 7229 0a20 2020 2065 6c69 6620  e_dir).    elif 
-00022620: 6f73 2e70 6174 682e 6973 6469 7228 7061  os.path.isdir(pa
-00022630: 7468 293a 0a20 2020 2020 2020 2066 696c  th):.        fil
-00022640: 655f 7061 7468 7320 3d20 6669 6e64 5f66  e_paths = find_f
-00022650: 696c 6573 5f6f 665f 6669 6c65 7479 7065  iles_of_filetype
-00022660: 735f 696e 5f64 6972 6563 746f 7279 2864  s_in_directory(d
-00022670: 6972 6563 746f 7279 3d70 6174 682c 2065  irectory=path, e
-00022680: 7874 656e 7369 6f6e 733d 4f70 7469 6f6e  xtensions=Option
-00022690: 732e 414c 4c5f 5649 4445 4f5f 464f 524d  s.ALL_VIDEO_FORM
-000226a0: 4154 5f4f 5054 494f 4e53 2e76 616c 7565  AT_OPTIONS.value
-000226b0: 2c20 7261 6973 655f 6572 726f 723d 5472  , raise_error=Tr
-000226c0: 7565 290a 2020 2020 2020 2020 6966 2073  ue).        if s
-000226d0: 6176 655f 6469 7220 6973 204e 6f6e 653a  ave_dir is None:
-000226e0: 0a20 2020 2020 2020 2020 2020 2073 6176  .            sav
-000226f0: 655f 6469 7220 3d20 6f73 2e70 6174 682e  e_dir = os.path.
-00022700: 6a6f 696e 2870 6174 682c 2066 2777 6562  join(path, f'web
-00022710: 6d5f 7b64 6174 6574 696d 655f 7d27 290a  m_{datetime_}').
-00022720: 2020 2020 2020 2020 6f73 2e6d 616b 6564          os.maked
-00022730: 6972 7328 7361 7665 5f64 6972 290a 2020  irs(save_dir).  
-00022740: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00022750: 7261 6973 6520 496e 7661 6c69 6449 6e70  raise InvalidInp
-00022760: 7574 4572 726f 7228 6d73 673d 6627 5061  utError(msg=f'Pa
-00022770: 7468 7320 6973 206e 6f74 2061 2076 616c  ths is not a val
-00022780: 6964 2066 696c 6520 6f72 2064 6972 6563  id file or direc
-00022790: 746f 7279 2070 6174 682e 272c 2073 6f75  tory path.', sou
-000227a0: 7263 653d 636f 6e76 6572 745f 746f 5f77  rce=convert_to_w
-000227b0: 6562 6d2e 5f5f 6e61 6d65 5f5f 290a 2020  ebm.__name__).  
-000227c0: 2020 666f 7220 6669 6c65 5f63 6e74 2c20    for file_cnt, 
-000227d0: 6669 6c65 5f70 6174 6820 696e 2065 6e75  file_path in enu
-000227e0: 6d65 7261 7465 2866 696c 655f 7061 7468  merate(file_path
-000227f0: 7329 3a0a 2020 2020 2020 2020 5f2c 2076  s):.        _, v
-00022800: 6964 656f 5f6e 616d 652c 205f 203d 2067  ideo_name, _ = g
-00022810: 6574 5f66 6e5f 6578 7428 6669 6c65 7061  et_fn_ext(filepa
-00022820: 7468 3d66 696c 655f 7061 7468 290a 2020  th=file_path).  
-00022830: 2020 2020 2020 7072 696e 7428 6627 436f        print(f'Co
-00022840: 6e76 6572 7469 6e67 2076 6964 656f 207b  nverting video {
-00022850: 7669 6465 6f5f 6e61 6d65 7d20 746f 2057  video_name} to W
-00022860: 4542 4d20 2856 6964 656f 207b 6669 6c65  EBM (Video {file
-00022870: 5f63 6e74 2b31 7d2f 7b6c 656e 2866 696c  _cnt+1}/{len(fil
-00022880: 655f 7061 7468 7329 7d29 2e2e 2e27 290a  e_paths)})...').
-00022890: 2020 2020 2020 2020 5f20 3d20 6765 745f          _ = get_
-000228a0: 7669 6465 6f5f 6d65 7461 5f64 6174 6128  video_meta_data(
-000228b0: 7669 6465 6f5f 7061 7468 3d66 696c 655f  video_path=file_
-000228c0: 7061 7468 290a 2020 2020 2020 2020 6f75  path).        ou
-000228d0: 745f 7061 7468 203d 206f 732e 7061 7468  t_path = os.path
-000228e0: 2e6a 6f69 6e28 7361 7665 5f64 6972 2c20  .join(save_dir, 
-000228f0: 6627 7b76 6964 656f 5f6e 616d 657d 2e77  f'{video_name}.w
-00022900: 6562 6d27 290a 2020 2020 2020 2020 6966  ebm').        if
-00022910: 2063 6f64 6563 203d 3d20 2776 7038 273a   codec == 'vp8':
-00022920: 0a20 2020 2020 2020 2020 2020 2063 6d64  .            cmd
-00022930: 203d 2066 2766 666d 7065 6720 2d69 2022   = f'ffmpeg -i "
-00022940: 7b66 696c 655f 7061 7468 7d22 202d 633a  {file_path}" -c:
-00022950: 7620 6c69 6276 7078 202d 6372 6620 7b63  v libvpx -crf {c
-00022960: 7266 7d20 227b 6f75 745f 7061 7468 7d22  rf} "{out_path}"
-00022970: 202d 6c6f 676c 6576 656c 2065 7272 6f72   -loglevel error
-00022980: 202d 7374 6174 7320 2d68 6964 655f 6261   -stats -hide_ba
-00022990: 6e6e 6572 202d 7927 0a20 2020 2020 2020  nner -y'.       
-000229a0: 2065 6c69 6620 636f 6465 6320 3d3d 2027   elif codec == '
-000229b0: 7670 3927 3a0a 2020 2020 2020 2020 2020  vp9':.          
-000229c0: 2020 636d 6420 3d20 6627 6666 6d70 6567    cmd = f'ffmpeg
-000229d0: 202d 6920 227b 6669 6c65 5f70 6174 687d   -i "{file_path}
-000229e0: 2220 2d63 3a76 206c 6962 7670 782d 7670  " -c:v libvpx-vp
-000229f0: 3920 2d63 7266 207b 6372 667d 2022 7b6f  9 -crf {crf} "{o
-00022a00: 7574 5f70 6174 687d 2220 2d6c 6f67 6c65  ut_path}" -logle
-00022a10: 7665 6c20 6572 726f 7220 2d73 7461 7473  vel error -stats
-00022a20: 202d 6869 6465 5f62 616e 6e65 7220 2d79   -hide_banner -y
-00022a30: 270a 2020 2020 2020 2020 656c 7365 3a0a  '.        else:.
-00022a40: 2020 2020 2020 2020 2020 2020 636d 6420              cmd 
-00022a50: 3d20 6627 6666 6d70 6567 202d 6920 227b  = f'ffmpeg -i "{
-00022a60: 6669 6c65 5f70 6174 687d 2220 2d63 3a76  file_path}" -c:v
-00022a70: 206c 6962 616f 6d2d 6176 3120 2d63 7266   libaom-av1 -crf
-00022a80: 207b 6372 667d 2022 7b6f 7574 5f70 6174   {crf} "{out_pat
-00022a90: 687d 2220 2d6c 6f67 6c65 7665 6c20 6572  h}" -loglevel er
-00022aa0: 726f 7220 2d73 7461 7473 202d 6869 6465  ror -stats -hide
-00022ab0: 5f62 616e 6e65 7220 2d79 270a 2020 2020  _banner -y'.    
-00022ac0: 2020 2020 7375 6270 726f 6365 7373 2e63      subprocess.c
-00022ad0: 616c 6c28 636d 642c 2073 6865 6c6c 3d54  all(cmd, shell=T
-00022ae0: 7275 652c 2073 7464 6f75 743d 7375 6270  rue, stdout=subp
-00022af0: 726f 6365 7373 2e50 4950 4529 0a20 2020  rocess.PIPE).   
-00022b00: 2074 696d 6572 2e73 746f 705f 7469 6d65   timer.stop_time
-00022b10: 7228 290a 2020 2020 7374 646f 7574 5f73  r().    stdout_s
-00022b20: 7563 6365 7373 286d 7367 3d66 227b 6c65  uccess(msg=f"{le
-00022b30: 6e28 6669 6c65 5f70 6174 6873 297d 2076  n(file_paths)} v
-00022b40: 6964 656f 2873 2920 636f 6e76 6572 7465  ideo(s) converte
-00022b50: 6420 746f 2057 4542 4d20 616e 6420 7361  d to WEBM and sa
-00022b60: 7665 6420 696e 207b 7361 7665 5f64 6972  ved in {save_dir
-00022b70: 7d20 6469 7265 6374 6f72 792e 222c 2065  } directory.", e
-00022b80: 6c61 7073 6564 5f74 696d 653d 7469 6d65  lapsed_time=time
-00022b90: 722e 656c 6170 7365 645f 7469 6d65 5f73  r.elapsed_time_s
-00022ba0: 7472 2c20 736f 7572 6365 3d63 6f6e 7665  tr, source=conve
-00022bb0: 7274 5f74 6f5f 7765 626d 2e5f 5f6e 616d  rt_to_webm.__nam
-00022bc0: 655f 5f2c 290a 0a0a 6465 6620 636f 6e76  e__,)...def conv
-00022bd0: 6572 745f 746f 5f6d 6f76 2870 6174 683a  ert_to_mov(path:
-00022be0: 2055 6e69 6f6e 5b73 7472 2c20 6f73 2e50   Union[str, os.P
-00022bf0: 6174 684c 696b 655d 2c0a 2020 2020 2020  athLike],.      
-00022c00: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00022c10: 6465 633a 204c 6974 6572 616c 5b27 7072  dec: Literal['pr
-00022c20: 6f72 6573 272c 2027 616e 696d 6174 696f  ores', 'animatio
-00022c30: 6e27 2c20 2764 6e78 6864 272c 2027 6369  n', 'dnxhd', 'ci
-00022c40: 6e65 666f 726d 275d 203d 2027 7072 6f72  neform'] = 'pror
-00022c50: 6573 272c 0a20 2020 2020 2020 2020 2020  es',.           
-00022c60: 2020 2020 2020 2020 2073 6176 655f 6469           save_di
-00022c70: 723a 204f 7074 696f 6e61 6c5b 556e 696f  r: Optional[Unio
-00022c80: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
-00022c90: 6b65 5d5d 203d 204e 6f6e 652c 0a20 2020  ke]] = None,.   
-00022ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022cb0: 2071 7561 6c69 7479 3a20 4f70 7469 6f6e   quality: Option
-00022cc0: 616c 5b69 6e74 5d20 3d20 3630 2920 2d3e  al[int] = 60) ->
-00022cd0: 204e 6f6e 653a 0a20 2020 2022 2222 0a20   None:.    """. 
-00022ce0: 2020 2043 6f6e 7665 7274 2061 2064 6972     Convert a dir
-00022cf0: 6563 746f 7279 2063 6f6e 7461 696e 696e  ectory containin
-00022d00: 6720 7669 6465 6f73 2c20 6f72 2061 2073  g videos, or a s
-00022d10: 696e 676c 6520 7669 6465 6f2c 2074 6f20  ingle video, to 
-00022d20: 4d4f 5620 666f 726d 6174 2075 7369 6e67  MOV format using
-00022d30: 2070 6173 7365 6420 7175 616c 6974 7920   passed quality 
-00022d40: 616e 6420 636f 6465 632e 0a0a 2020 2020  and codec...    
-00022d50: 3a70 6172 616d 2055 6e69 6f6e 5b73 7472  :param Union[str
-00022d60: 2c20 6f73 2e50 6174 684c 696b 655d 2070  , os.PathLike] p
-00022d70: 6174 683a 2050 6174 6820 746f 2064 6972  ath: Path to dir
-00022d80: 6563 746f 7279 206f 7220 6669 6c65 2e0a  ectory or file..
-00022d90: 2020 2020 3a70 6172 616d 204c 6974 6572      :param Liter
-00022da0: 616c 5b27 7072 6f72 6573 272c 2027 616e  al['prores', 'an
-00022db0: 696d 6174 696f 6e27 5d20 636f 6465 633a  imation'] codec:
-00022dc0: 204d 6574 686f 6420 746f 2065 6e63 6f64   Method to encod
-00022dd0: 6520 7468 6520 4d4f 5620 666f 726d 6174  e the MOV format
-00022de0: 2e20 4465 6661 756c 743a 2070 726f 7265  . Default: prore
-00022df0: 732e 0a20 2020 203a 7061 7261 6d20 4f70  s..    :param Op
-00022e00: 7469 6f6e 616c 5b4f 7074 696f 6e61 6c5b  tional[Optional[
-00022e10: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
-00022e20: 7468 4c69 6b65 5d5d 5d20 7361 7665 5f64  thLike]]] save_d
-00022e30: 6972 3a20 4469 7265 6374 6f72 7920 7768  ir: Directory wh
-00022e40: 6572 6520 746f 2073 6176 6520 7468 6520  ere to save the 
-00022e50: 636f 6e76 6572 7465 6420 7669 6465 6f73  converted videos
-00022e60: 2e20 4966 204e 6f6e 652c 2074 6865 6e20  . If None, then 
-00022e70: 6372 6561 7465 7320 6120 6469 7265 6374  creates a direct
-00022e80: 6f72 7920 696e 2074 6865 2073 616d 6520  ory in the same 
-00022e90: 6469 7265 6374 6f72 7920 6173 2074 6865  directory as the
-00022ea0: 2069 6e70 7574 2e0a 2020 2020 3a70 6172   input..    :par
-00022eb0: 616d 204f 7074 696f 6e61 6c5b 696e 745d  am Optional[int]
-00022ec0: 2071 7561 6c69 7479 3a20 496e 7465 6765   quality: Intege
-00022ed0: 7220 7265 7072 6573 656e 7469 6e67 2074  r representing t
-00022ee0: 6865 2071 7561 6c69 7479 3a20 3130 2c20  he quality: 10, 
-00022ef0: 3230 2c20 3330 2e2e 2031 3030 2e0a 2020  20, 30.. 100..  
-00022f00: 2020 3a72 6574 7572 6e3a 204e 6f6e 652e    :return: None.
-00022f10: 0a20 2020 2022 2222 0a0a 2020 2020 7469  .    """..    ti
-00022f20: 6d65 7220 3d20 5369 6d62 6154 696d 6572  mer = SimbaTimer
-00022f30: 2873 7461 7274 3d54 7275 6529 0a20 2020  (start=True).   
-00022f40: 2063 6865 636b 5f66 666d 7065 675f 6176   check_ffmpeg_av
-00022f50: 6169 6c61 626c 6528 7261 6973 655f 6572  ailable(raise_er
-00022f60: 726f 723d 5472 7565 290a 2020 2020 6368  ror=True).    ch
-00022f70: 6563 6b5f 7374 7228 6e61 6d65 3d66 277b  eck_str(name=f'{
-00022f80: 636f 6e76 6572 745f 746f 5f6d 6f76 2e5f  convert_to_mov._
-00022f90: 5f6e 616d 655f 5f7d 2063 6f64 6563 272c  _name__} codec',
-00022fa0: 2076 616c 7565 3d63 6f64 6563 2c20 6f70   value=codec, op
-00022fb0: 7469 6f6e 733d 2827 7072 6f72 6573 272c  tions=('prores',
-00022fc0: 2027 616e 696d 6174 696f 6e27 2c20 2763   'animation', 'c
-00022fd0: 696e 6566 6f72 6d27 2c20 2764 6e78 6864  ineform', 'dnxhd
-00022fe0: 2729 290a 2020 2020 6368 6563 6b5f 696e  ')).    check_in
-00022ff0: 7374 616e 6365 2873 6f75 7263 653d 6627  stance(source=f'
-00023000: 7b63 6f6e 7665 7274 5f74 6f5f 6d6f 762e  {convert_to_mov.
-00023010: 5f5f 6e61 6d65 5f5f 7d20 7061 7468 272c  __name__} path',
-00023020: 2069 6e73 7461 6e63 653d 7061 7468 2c20   instance=path, 
-00023030: 6163 6365 7074 6564 5f74 7970 6573 3d28  accepted_types=(
-00023040: 7374 722c 2929 0a20 2020 2063 6865 636b  str,)).    check
-00023050: 5f69 6e74 286e 616d 653d 6627 7b63 6f6e  _int(name=f'{con
-00023060: 7665 7274 5f74 6f5f 6d6f 762e 5f5f 6e61  vert_to_mov.__na
-00023070: 6d65 5f5f 7d20 7175 616c 6974 7927 2c20  me__} quality', 
-00023080: 7661 6c75 653d 7175 616c 6974 7929 0a20  value=quality). 
-00023090: 2020 2064 6174 6574 696d 655f 203d 2064     datetime_ = d
-000230a0: 6174 6574 696d 652e 6e6f 7728 292e 7374  atetime.now().st
-000230b0: 7266 7469 6d65 2822 2559 256d 2564 2548  rftime("%Y%m%d%H
-000230c0: 254d 2553 2229 0a20 2020 2069 6620 7361  %M%S").    if sa
-000230d0: 7665 5f64 6972 2069 7320 6e6f 7420 4e6f  ve_dir is not No
-000230e0: 6e65 3a0a 2020 2020 2020 2020 6368 6563  ne:.        chec
-000230f0: 6b5f 6966 5f64 6972 5f65 7869 7374 7328  k_if_dir_exists(
-00023100: 696e 5f64 6972 3d73 6176 655f 6469 722c  in_dir=save_dir,
-00023110: 2073 6f75 7263 653d 636f 6e76 6572 745f   source=convert_
-00023120: 746f 5f6d 6f76 2e5f 5f6e 616d 655f 5f29  to_mov.__name__)
-00023130: 0a20 2020 2069 6620 6f73 2e70 6174 682e  .    if os.path.
-00023140: 6973 6669 6c65 2870 6174 6829 3a0a 2020  isfile(path):.  
-00023150: 2020 2020 2020 6669 6c65 5f70 6174 6873        file_paths
-00023160: 203d 205b 7061 7468 5d0a 2020 2020 2020   = [path].      
-00023170: 2020 6966 2073 6176 655f 6469 7220 6973    if save_dir is
-00023180: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-00023190: 2020 2073 6176 655f 6469 7220 3d20 6f73     save_dir = os
-000231a0: 2e70 6174 682e 6a6f 696e 286f 732e 7061  .path.join(os.pa
-000231b0: 7468 2e64 6972 6e61 6d65 2870 6174 6829  th.dirname(path)
-000231c0: 2c20 6627 6d6f 765f 7b64 6174 6574 696d  , f'mov_{datetim
-000231d0: 655f 7d27 290a 2020 2020 2020 2020 2020  e_}').          
-000231e0: 2020 6f73 2e6d 616b 6564 6972 7328 7361    os.makedirs(sa
-000231f0: 7665 5f64 6972 290a 2020 2020 656c 6966  ve_dir).    elif
-00023200: 206f 732e 7061 7468 2e69 7364 6972 2870   os.path.isdir(p
-00023210: 6174 6829 3a0a 2020 2020 2020 2020 6669  ath):.        fi
-00023220: 6c65 5f70 6174 6873 203d 2066 696e 645f  le_paths = find_
-00023230: 6669 6c65 735f 6f66 5f66 696c 6574 7970  files_of_filetyp
-00023240: 6573 5f69 6e5f 6469 7265 6374 6f72 7928  es_in_directory(
-00023250: 6469 7265 6374 6f72 793d 7061 7468 2c20  directory=path, 
-00023260: 6578 7465 6e73 696f 6e73 3d4f 7074 696f  extensions=Optio
-00023270: 6e73 2e41 4c4c 5f56 4944 454f 5f46 4f52  ns.ALL_VIDEO_FOR
-00023280: 4d41 545f 4f50 5449 4f4e 532e 7661 6c75  MAT_OPTIONS.valu
-00023290: 652c 2072 6169 7365 5f65 7272 6f72 3d54  e, raise_error=T
-000232a0: 7275 6529 0a20 2020 2020 2020 2069 6620  rue).        if 
-000232b0: 7361 7665 5f64 6972 2069 7320 4e6f 6e65  save_dir is None
-000232c0: 3a0a 2020 2020 2020 2020 2020 2020 7361  :.            sa
-000232d0: 7665 5f64 6972 203d 206f 732e 7061 7468  ve_dir = os.path
-000232e0: 2e6a 6f69 6e28 7061 7468 2c20 6627 6d6f  .join(path, f'mo
-000232f0: 765f 7b64 6174 6574 696d 655f 7d27 290a  v_{datetime_}').
-00023300: 2020 2020 2020 2020 2020 2020 6f73 2e6d              os.m
-00023310: 616b 6564 6972 7328 7361 7665 5f64 6972  akedirs(save_dir
-00023320: 290a 2020 2020 656c 7365 3a0a 2020 2020  ).    else:.    
-00023330: 2020 2020 7261 6973 6520 496e 7661 6c69      raise Invali
-00023340: 6449 6e70 7574 4572 726f 7228 6d73 673d  dInputError(msg=
-00023350: 6627 5061 7468 7320 6973 206e 6f74 2061  f'Paths is not a
-00023360: 2076 616c 6964 2066 696c 6520 6f72 2064   valid file or d
-00023370: 6972 6563 746f 7279 2070 6174 682e 272c  irectory path.',
-00023380: 2073 6f75 7263 653d 636f 6e76 6572 745f   source=convert_
-00023390: 746f 5f6d 6f76 2e5f 5f6e 616d 655f 5f29  to_mov.__name__)
-000233a0: 0a20 2020 2066 6f72 2066 696c 655f 636e  .    for file_cn
-000233b0: 742c 2066 696c 655f 7061 7468 2069 6e20  t, file_path in 
-000233c0: 656e 756d 6572 6174 6528 6669 6c65 5f70  enumerate(file_p
-000233d0: 6174 6873 293a 0a20 2020 2020 2020 205f  aths):.        _
-000233e0: 2c20 7669 6465 6f5f 6e61 6d65 2c20 5f20  , video_name, _ 
-000233f0: 3d20 6765 745f 666e 5f65 7874 2866 696c  = get_fn_ext(fil
-00023400: 6570 6174 683d 6669 6c65 5f70 6174 6829  epath=file_path)
-00023410: 0a20 2020 2020 2020 2070 7269 6e74 2866  .        print(f
-00023420: 2743 6f6e 7665 7274 696e 6720 7669 6465  'Converting vide
-00023430: 6f20 7b76 6964 656f 5f6e 616d 657d 2074  o {video_name} t
-00023440: 6f20 4d4f 5620 2856 6964 656f 207b 6669  o MOV (Video {fi
-00023450: 6c65 5f63 6e74 202b 2031 7d2f 7b6c 656e  le_cnt + 1}/{len
-00023460: 2866 696c 655f 7061 7468 7329 7d29 2e2e  (file_paths)})..
-00023470: 2e27 290a 2020 2020 2020 2020 5f20 3d20  .').        _ = 
-00023480: 6765 745f 7669 6465 6f5f 6d65 7461 5f64  get_video_meta_d
-00023490: 6174 6128 7669 6465 6f5f 7061 7468 3d66  ata(video_path=f
-000234a0: 696c 655f 7061 7468 290a 2020 2020 2020  ile_path).      
-000234b0: 2020 6f75 745f 7061 7468 203d 206f 732e    out_path = os.
-000234c0: 7061 7468 2e6a 6f69 6e28 7361 7665 5f64  path.join(save_d
-000234d0: 6972 2c20 6627 7b76 6964 656f 5f6e 616d  ir, f'{video_nam
-000234e0: 657d 2e6d 6f76 2729 0a20 2020 2020 2020  e}.mov').       
-000234f0: 2069 6620 636f 6465 6320 3d3d 2027 7072   if codec == 'pr
-00023500: 6f72 6573 273a 0a20 2020 2020 2020 2020  ores':.         
-00023510: 2020 2063 6d64 203d 2066 2766 666d 7065     cmd = f'ffmpe
-00023520: 6720 2d69 2022 7b66 696c 655f 7061 7468  g -i "{file_path
-00023530: 7d22 202d 633a 7620 7072 6f72 6573 5f6b  }" -c:v prores_k
-00023540: 7320 2d70 726f 6669 6c65 3a76 2031 2022  s -profile:v 1 "
-00023550: 7b6f 7574 5f70 6174 687d 2220 2d6c 6f67  {out_path}" -log
-00023560: 6c65 7665 6c20 6572 726f 7220 2d73 7461  level error -sta
-00023570: 7473 202d 6869 6465 5f62 616e 6e65 7220  ts -hide_banner 
-00023580: 2d79 270a 2020 2020 2020 2020 656c 6966  -y'.        elif
-00023590: 2063 6f64 6563 203d 3d20 2764 6e78 6864   codec == 'dnxhd
-000235a0: 273a 0a20 2020 2020 2020 2020 2020 2063  ':.            c
-000235b0: 6d64 203d 2066 2766 666d 7065 6720 2d69  md = f'ffmpeg -i
-000235c0: 2022 7b66 696c 655f 7061 7468 7d22 202d   "{file_path}" -
-000235d0: 633a 7620 646e 7868 6420 2d70 726f 6669  c:v dnxhd -profi
-000235e0: 6c65 3a76 2064 6e78 6872 5f6d 7120 227b  le:v dnxhr_mq "{
-000235f0: 6f75 745f 7061 7468 7d22 202d 6c6f 676c  out_path}" -logl
-00023600: 6576 656c 2065 7272 6f72 202d 7374 6174  evel error -stat
-00023610: 7320 2d68 6964 655f 6261 6e6e 6572 202d  s -hide_banner -
-00023620: 7927 0a20 2020 2020 2020 2065 6c69 6620  y'.        elif 
-00023630: 636f 6465 6320 3d3d 2022 6369 6e65 666f  codec == "cinefo
-00023640: 726d 223a 0a20 2020 2020 2020 2020 2020  rm":.           
-00023650: 2063 6d64 203d 2066 2766 666d 7065 6720   cmd = f'ffmpeg 
-00023660: 2d69 2022 7b66 696c 655f 7061 7468 7d22  -i "{file_path}"
-00023670: 202d 633a 7620 6366 6864 202d 636f 6d70   -c:v cfhd -comp
-00023680: 7265 7373 696f 6e5f 6c65 7665 6c20 3520  ression_level 5 
-00023690: 2d71 3a76 2033 2022 7b6f 7574 5f70 6174  -q:v 3 "{out_pat
-000236a0: 687d 2220 2d6c 6f67 6c65 7665 6c20 6572  h}" -loglevel er
-000236b0: 726f 7220 2d73 7461 7473 202d 6869 6465  ror -stats -hide
-000236c0: 5f62 616e 6e65 7220 2d79 270a 2020 2020  _banner -y'.    
-000236d0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-000236e0: 2020 2020 2020 636d 6420 3d20 6627 6666        cmd = f'ff
-000236f0: 6d70 6567 202d 6920 227b 6669 6c65 5f70  mpeg -i "{file_p
-00023700: 6174 687d 202d 633a 7620 7174 726c 6520  ath} -c:v qtrle 
-00023710: 227b 6f75 745f 7061 7468 7d22 202d 6c6f  "{out_path}" -lo
-00023720: 676c 6576 656c 2065 7272 6f72 202d 7374  glevel error -st
-00023730: 6174 7320 2d68 6964 655f 6261 6e6e 6572  ats -hide_banner
-00023740: 202d 7927 0a20 2020 2020 2020 2073 7562   -y'.        sub
-00023750: 7072 6f63 6573 732e 6361 6c6c 2863 6d64  process.call(cmd
-00023760: 2c20 7368 656c 6c3d 5472 7565 2c20 7374  , shell=True, st
-00023770: 646f 7574 3d73 7562 7072 6f63 6573 732e  dout=subprocess.
-00023780: 5049 5045 290a 2020 2020 7469 6d65 722e  PIPE).    timer.
-00023790: 7374 6f70 5f74 696d 6572 2829 0a20 2020  stop_timer().   
-000237a0: 2073 7464 6f75 745f 7375 6363 6573 7328   stdout_success(
-000237b0: 6d73 673d 6622 7b6c 656e 2866 696c 655f  msg=f"{len(file_
-000237c0: 7061 7468 7329 7d20 7669 6465 6f28 7329  paths)} video(s)
-000237d0: 2063 6f6e 7665 7274 6564 2074 6f20 4d4f   converted to MO
-000237e0: 5620 616e 6420 7361 7665 6420 696e 207b  V and saved in {
-000237f0: 7361 7665 5f64 6972 7d20 6469 7265 6374  save_dir} direct
-00023800: 6f72 792e 222c 2065 6c61 7073 6564 5f74  ory.", elapsed_t
-00023810: 696d 653d 7469 6d65 722e 656c 6170 7365  ime=timer.elapse
-00023820: 645f 7469 6d65 5f73 7472 2c20 736f 7572  d_time_str, sour
-00023830: 6365 3d63 6f6e 7665 7274 5f74 6f5f 6d6f  ce=convert_to_mo
-00023840: 762e 5f5f 6e61 6d65 5f5f 2c20 290a 0a0a  v.__name__, )...
-00023850: 6465 6620 7375 7065 7269 6d70 6f73 655f  def superimpose_
-00023860: 7669 6465 6f5f 7072 6f67 7265 7373 6261  video_progressba
-00023870: 7228 7669 6465 6f5f 7061 7468 3a20 556e  r(video_path: Un
-00023880: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
-00023890: 4c69 6b65 5d2c 0a20 2020 2020 2020 2020  Like],.         
-000238a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000238b0: 2020 2020 2062 6172 5f68 6569 6768 743a       bar_height:
-000238c0: 204f 7074 696f 6e61 6c5b 696e 745d 203d   Optional[int] =
-000238d0: 2031 302c 0a20 2020 2020 2020 2020 2020   10,.           
-000238e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000238f0: 2020 2063 6f6c 6f72 3a20 4f70 7469 6f6e     color: Option
-00023900: 616c 5b73 7472 5d20 3d20 2772 6564 272c  al[str] = 'red',
-00023910: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00023920: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00023930: 6f73 6974 696f 6e3a 204f 7074 696f 6e61  osition: Optiona
-00023940: 6c5b 4c69 7465 7261 6c5b 2774 6f70 272c  l[Literal['top',
-00023950: 2027 626f 7474 6f6d 275d 5d20 3d20 2762   'bottom']] = 'b
-00023960: 6f74 746f 6d27 2c0a 2020 2020 2020 2020  ottom',.        
-00023970: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023980: 2020 2020 2020 7361 7665 5f64 6972 3a20        save_dir: 
-00023990: 4f70 7469 6f6e 616c 5b55 6e69 6f6e 5b73  Optional[Union[s
-000239a0: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
-000239b0: 5d20 3d20 4e6f 6e65 2920 2d3e 204e 6f6e  ] = None) -> Non
-000239c0: 653a 0a0a 2020 2020 2222 220a 2020 2020  e:..    """.    
-000239d0: 4f76 6572 6c61 7920 6120 7072 6f67 7265  Overlay a progre
-000239e0: 7373 2062 6172 206f 6e20 6120 6469 7265  ss bar on a dire
-000239f0: 6374 6f72 7920 6f66 2076 6964 656f 7320  ctory of videos 
-00023a00: 6f72 2061 2073 696e 676c 6520 7669 6465  or a single vide
-00023a10: 6f2e 0a0a 2020 2020 2e2e 2076 6964 656f  o...    .. video
-00023a20: 3a3a 205f 7374 6174 6963 2f69 6d67 2f6f  :: _static/img/o
-00023a30: 7665 726c 6179 5f76 6964 656f 5f70 726f  verlay_video_pro
-00023a40: 6772 6573 7362 6172 2e77 6562 6d0a 2020  gressbar.webm.  
-00023a50: 2020 2020 203a 7769 6474 683a 2037 3030       :width: 700
-00023a60: 0a20 2020 2020 2020 3a6c 6f6f 703a 0a0a  .       :loop:..
-00023a70: 2020 2020 3a70 6172 616d 2055 6e69 6f6e      :param Union
-00023a80: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
-00023a90: 655d 2076 6964 656f 5f70 6174 683a 2044  e] video_path: D
-00023aa0: 6972 6563 746f 7279 2063 6f6e 7461 696e  irectory contain
-00023ab0: 696e 6720 7669 6465 6f20 6669 6c65 7320  ing video files 
-00023ac0: 6f72 2061 2073 696e 676c 6520 7669 6465  or a single vide
-00023ad0: 6f20 6669 6c65 0a20 2020 203a 7061 7261  o file.    :para
-00023ae0: 6d20 4f70 7469 6f6e 616c 5b69 6e74 5d20  m Optional[int] 
-00023af0: 6261 725f 6865 6967 6874 3a20 5468 6520  bar_height: The 
-00023b00: 6865 6967 6874 206f 6620 7468 6520 7072  height of the pr
-00023b10: 6f67 7265 7373 6261 7220 696e 2070 6572  ogressbar in per
-00023b20: 6365 6e74 206f 6620 7468 6520 7669 6465  cent of the vide
-00023b30: 6f20 6865 6967 6874 2e0a 2020 2020 3a70  o height..    :p
-00023b40: 6172 616d 204f 7074 696f 6e61 6c5b 7374  aram Optional[st
-00023b50: 725d 2063 6f6c 6f72 3a20 5468 6520 636f  r] color: The co
-00023b60: 6c6f 7220 6f66 2074 6865 2070 726f 6772  lor of the progr
-00023b70: 6573 7320 6261 722e 2053 6565 2073 696d  ess bar. See sim
-00023b80: 6261 2e75 7469 6c73 2e6c 6f6f 6b75 7073  ba.utils.lookups
-00023b90: 2e67 6574 5f63 6f6c 6f72 5f64 6963 7420  .get_color_dict 
-00023ba0: 6b65 7973 2066 6f72 2061 6363 6570 7465  keys for accepte
-00023bb0: 6420 6e61 6d65 732e 0a20 2020 203a 7061  d names..    :pa
-00023bc0: 7261 6d20 4f70 7469 6f6e 616c 5b73 7472  ram Optional[str
-00023bd0: 5d20 706f 7369 7469 6f6e 3a20 5468 6520  ] position: The 
-00023be0: 706f 7369 7469 6f6e 206f 6620 7468 6520  position of the 
-00023bf0: 7072 6f67 7265 7373 6261 722e 204f 7074  progressbar. Opt
-00023c00: 696f 6e73 3a20 2774 6f70 272c 2027 626f  ions: 'top', 'bo
-00023c10: 7474 6f6d 272e 0a20 2020 203a 7061 7261  ttom'..    :para
-00023c20: 6d20 4f70 7469 6f6e 616c 5b55 6e69 6f6e  m Optional[Union
-00023c30: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
-00023c40: 655d 5d20 7361 7665 5f64 6972 3a20 4966  e]] save_dir: If
-00023c50: 206e 6f74 204e 6f6e 652c 2074 6865 6e20   not None, then 
-00023c60: 7361 7665 7320 7468 6520 7669 6465 6f73  saves the videos
-00023c70: 2069 6e20 7468 6520 7061 7373 6564 2064   in the passed d
-00023c80: 6972 6563 746f 7279 2e20 456c 7365 2c20  irectory. Else, 
-00023c90: 696e 2074 6865 2073 616d 6520 6469 7265  in the same dire
-00023ca0: 6374 7279 2077 6974 6820 7468 6520 6060  ctry with the ``
-00023cb0: 5f70 726f 6772 6573 735f 6261 7260 6020  _progress_bar`` 
-00023cc0: 7375 6666 6978 2e0a 2020 2020 3a72 6574  suffix..    :ret
-00023cd0: 7572 6e3a 204e 6f6e 652e 0a20 2020 2022  urn: None..    "
-00023ce0: 2222 0a0a 2020 2020 6368 6563 6b5f 6666  ""..    check_ff
-00023cf0: 6d70 6567 5f61 7661 696c 6162 6c65 2872  mpeg_available(r
-00023d00: 6169 7365 5f65 7272 6f72 3d54 7275 6529  aise_error=True)
-00023d10: 0a20 2020 2074 696d 6572 203d 2053 696d  .    timer = Sim
-00023d20: 6261 5469 6d65 7228 7374 6172 743d 5472  baTimer(start=Tr
-00023d30: 7565 290a 2020 2020 636f 6c6f 7220 3d20  ue).    color = 
-00023d40: 2727 2e6a 6f69 6e28 6669 6c74 6572 2873  ''.join(filter(s
-00023d50: 7472 2e69 7361 6c6e 756d 2c20 636f 6c6f  tr.isalnum, colo
-00023d60: 7229 292e 6c6f 7765 7228 290a 2020 2020  r)).lower().    
-00023d70: 6966 206f 732e 7061 7468 2e69 7366 696c  if os.path.isfil
-00023d80: 6528 7669 6465 6f5f 7061 7468 293a 0a20  e(video_path):. 
-00023d90: 2020 2020 2020 2063 6865 636b 5f66 696c         check_fil
-00023da0: 655f 6578 6973 745f 616e 645f 7265 6164  e_exist_and_read
-00023db0: 6162 6c65 2866 696c 655f 7061 7468 3d76  able(file_path=v
-00023dc0: 6964 656f 5f70 6174 6829 0a20 2020 2020  ideo_path).     
-00023dd0: 2020 2076 6964 656f 5f70 6174 6873 203d     video_paths =
-00023de0: 205b 7669 6465 6f5f 7061 7468 5d0a 2020   [video_path].  
-00023df0: 2020 656c 6966 206f 732e 7061 7468 2e69    elif os.path.i
-00023e00: 7364 6972 2876 6964 656f 5f70 6174 6829  sdir(video_path)
-00023e10: 3a0a 2020 2020 2020 2020 7669 6465 6f5f  :.        video_
-00023e20: 7061 7468 203d 2066 696e 645f 616c 6c5f  path = find_all_
-00023e30: 7669 6465 6f73 5f69 6e5f 6469 7265 6374  videos_in_direct
-00023e40: 6f72 7928 6469 7265 6374 6f72 793d 7669  ory(directory=vi
-00023e50: 6465 6f5f 7061 7468 2c20 6173 5f64 6963  deo_path, as_dic
-00023e60: 743d 5472 7565 2c20 7261 6973 655f 6572  t=True, raise_er
-00023e70: 726f 723d 5472 7565 290a 2020 2020 2020  ror=True).      
-00023e80: 2020 7669 6465 6f5f 7061 7468 7320 3d20    video_paths = 
-00023e90: 6c69 7374 2876 6964 656f 5f70 6174 682e  list(video_path.
-00023ea0: 7661 6c75 6573 2829 290a 2020 2020 656c  values()).    el
-00023eb0: 7365 3a0a 2020 2020 2020 2020 7261 6973  se:.        rais
-00023ec0: 6520 496e 7661 6c69 6449 6e70 7574 4572  e InvalidInputEr
-00023ed0: 726f 7228 6d73 673d 277b 7d20 6973 206e  ror(msg='{} is n
-00023ee0: 6f74 2061 2076 616c 6964 2066 696c 6520  ot a valid file 
-00023ef0: 7061 7468 206f 7220 6469 7265 6374 6f72  path or director
-00023f00: 7920 7061 7468 2e27 2c20 736f 7572 6365  y path.', source
-00023f10: 3d73 7570 6572 696d 706f 7365 5f76 6964  =superimpose_vid
-00023f20: 656f 5f70 726f 6772 6573 7362 6172 2e5f  eo_progressbar._
-00023f30: 5f6e 616d 655f 5f29 0a20 2020 2069 6620  _name__).    if 
-00023f40: 7361 7665 5f64 6972 2069 7320 6e6f 7420  save_dir is not 
-00023f50: 4e6f 6e65 3a0a 2020 2020 2020 2020 6368  None:.        ch
-00023f60: 6563 6b5f 6966 5f64 6972 5f65 7869 7374  eck_if_dir_exist
-00023f70: 7328 696e 5f64 6972 3d73 6176 655f 6469  s(in_dir=save_di
-00023f80: 7229 0a20 2020 2065 6c73 653a 0a20 2020  r).    else:.   
-00023f90: 2020 2020 2073 6176 655f 6469 722c 205f       save_dir, _
-00023fa0: 2c20 5f20 3d20 6765 745f 666e 5f65 7874  , _ = get_fn_ext
-00023fb0: 2866 696c 6570 6174 683d 7669 6465 6f5f  (filepath=video_
-00023fc0: 7061 7468 735b 305d 290a 2020 2020 666f  paths[0]).    fo
-00023fd0: 7220 636e 742c 2076 6964 656f 5f70 6174  r cnt, video_pat
-00023fe0: 6820 696e 2065 6e75 6d65 7261 7465 2876  h in enumerate(v
-00023ff0: 6964 656f 5f70 6174 6873 293a 0a20 2020  ideo_paths):.   
-00024000: 2020 2020 2076 6964 656f 5f6d 6574 615f       video_meta_
-00024010: 6461 7461 203d 2067 6574 5f76 6964 656f  data = get_video
-00024020: 5f6d 6574 615f 6461 7461 2876 6964 656f  _meta_data(video
-00024030: 5f70 6174 683d 7669 6465 6f5f 7061 7468  _path=video_path
-00024040: 290a 2020 2020 2020 2020 7669 6465 6f5f  ).        video_
-00024050: 6c65 6e67 7468 203d 2076 6964 656f 5f6d  length = video_m
-00024060: 6574 615f 6461 7461 5b27 7669 6465 6f5f  eta_data['video_
-00024070: 6c65 6e67 7468 5f73 275d 0a20 2020 2020  length_s'].     
-00024080: 2020 2077 6964 7468 2c20 6865 6967 6874     width, height
-00024090: 203d 2076 6964 656f 5f6d 6574 615f 6461   = video_meta_da
-000240a0: 7461 5b27 7769 6474 6827 5d2c 2076 6964  ta['width'], vid
-000240b0: 656f 5f6d 6574 615f 6461 7461 5b27 6865  eo_meta_data['he
-000240c0: 6967 6874 275d 0a20 2020 2020 2020 2062  ight'].        b
-000240d0: 6172 5f68 6569 6768 7420 3d20 696e 7428  ar_height = int(
-000240e0: 6865 6967 6874 202a 2028 6261 725f 6865  height * (bar_he
-000240f0: 6967 6874 2f31 3030 2929 0a20 2020 2020  ight/100)).     
-00024100: 2020 205f 2c20 7669 6465 6f5f 6e61 6d65     _, video_name
-00024110: 2c20 6578 7420 3d20 6765 745f 666e 5f65  , ext = get_fn_e
-00024120: 7874 2866 696c 6570 6174 683d 7669 6465  xt(filepath=vide
-00024130: 6f5f 7061 7468 290a 2020 2020 2020 2020  o_path).        
-00024140: 7072 696e 7428 6627 496e 7365 7274 696e  print(f'Insertin
-00024150: 6720 7072 6f67 7265 7373 2062 6172 206f  g progress bar o
-00024160: 6e20 7669 6465 6f20 7b76 6964 656f 5f6e  n video {video_n
-00024170: 616d 657d 2e2e 2e27 290a 2020 2020 2020  ame}...').      
-00024180: 2020 7361 7665 5f70 6174 6820 3d20 6f73    save_path = os
-00024190: 2e70 6174 682e 6a6f 696e 2873 6176 655f  .path.join(save_
-000241a0: 6469 722c 2066 277b 7669 6465 6f5f 6e61  dir, f'{video_na
-000241b0: 6d65 7d5f 7072 6f67 7265 7373 5f62 6172  me}_progress_bar
-000241c0: 7b65 7874 7d27 290a 2020 2020 2020 2020  {ext}').        
-000241d0: 6368 6563 6b5f 696e 7428 6e61 6d65 3d66  check_int(name=f
-000241e0: 277b 7375 7065 7269 6d70 6f73 655f 7669  '{superimpose_vi
-000241f0: 6465 6f5f 7072 6f67 7265 7373 6261 727d  deo_progressbar}
-00024200: 2068 6569 6768 7427 2c20 7661 6c75 653d   height', value=
-00024210: 6261 725f 6865 6967 6874 2c20 6d61 785f  bar_height, max_
-00024220: 7661 6c75 653d 6865 6967 6874 2c20 6d69  value=height, mi
-00024230: 6e5f 7661 6c75 653d 3129 0a20 2020 2020  n_value=1).     
-00024240: 2020 2069 6620 706f 7369 7469 6f6e 203d     if position =
-00024250: 3d20 2762 6f74 746f 6d27 3a0a 2020 2020  = 'bottom':.    
-00024260: 2020 2020 2020 2020 636d 6420 3d20 6627          cmd = f'
-00024270: 6666 6d70 6567 202d 6920 227b 7669 6465  ffmpeg -i "{vide
-00024280: 6f5f 7061 7468 7d22 202d 6669 6c74 6572  o_path}" -filter
-00024290: 5f63 6f6d 706c 6578 2022 636f 6c6f 723d  _complex "color=
-000242a0: 633d 7b63 6f6c 6f72 7d3a 733d 7b77 6964  c={color}:s={wid
-000242b0: 7468 7d78 7b62 6172 5f68 6569 6768 747d  th}x{bar_height}
-000242c0: 5b62 6172 5d3b 5b30 5d5b 6261 725d 6f76  [bar];[0][bar]ov
-000242d0: 6572 6c61 793d 2d77 2b28 772f 7b76 6964  erlay=-w+(w/{vid
-000242e0: 656f 5f6c 656e 6774 687d 292a 743a 482d  eo_length})*t:H-
-000242f0: 683a 7368 6f72 7465 7374 3d31 2220 2d63  h:shortest=1" -c
-00024300: 3a61 2063 6f70 7920 227b 7361 7665 5f70  :a copy "{save_p
-00024310: 6174 687d 2220 2d6c 6f67 6c65 7665 6c20  ath}" -loglevel 
-00024320: 6572 726f 7220 2d73 7461 7473 202d 6869  error -stats -hi
-00024330: 6465 5f62 616e 6e65 7220 2d79 270a 2020  de_banner -y'.  
-00024340: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00024350: 2020 2020 2020 2020 636d 6420 3d20 6627          cmd = f'
-00024360: 6666 6d70 6567 202d 6920 227b 7669 6465  ffmpeg -i "{vide
-00024370: 6f5f 7061 7468 7d22 202d 6669 6c74 6572  o_path}" -filter
-00024380: 5f63 6f6d 706c 6578 2022 636f 6c6f 723d  _complex "color=
-00024390: 633d 7b63 6f6c 6f72 7d3a 733d 7b77 6964  c={color}:s={wid
-000243a0: 7468 7d78 7b62 6172 5f68 6569 6768 747d  th}x{bar_height}
-000243b0: 5b62 6172 5d3b 5b30 5d5b 6261 725d 6f76  [bar];[0][bar]ov
-000243c0: 6572 6c61 793d 2d77 2b28 772f 7b76 6964  erlay=-w+(w/{vid
-000243d0: 656f 5f6c 656e 6774 687d 292a 743a 7b62  eo_length})*t:{b
-000243e0: 6172 5f68 6569 6768 747d 2d68 3a73 686f  ar_height}-h:sho
-000243f0: 7274 6573 743d 3122 202d 633a 6120 636f  rtest=1" -c:a co
-00024400: 7079 2022 7b73 6176 655f 7061 7468 7d22  py "{save_path}"
-00024410: 202d 6c6f 676c 6576 656c 2065 7272 6f72   -loglevel error
-00024420: 202d 7374 6174 7320 2d68 6964 655f 6261   -stats -hide_ba
-00024430: 6e6e 6572 202d 7927 0a20 2020 2020 2020  nner -y'.       
-00024440: 2073 7562 7072 6f63 6573 732e 6361 6c6c   subprocess.call
-00024450: 2863 6d64 2c20 7368 656c 6c3d 5472 7565  (cmd, shell=True
-00024460: 2c20 7374 646f 7574 3d73 7562 7072 6f63  , stdout=subproc
-00024470: 6573 732e 5049 5045 290a 2020 2020 7469  ess.PIPE).    ti
-00024480: 6d65 722e 7374 6f70 5f74 696d 6572 2829  mer.stop_timer()
-00024490: 0a20 2020 2073 7464 6f75 745f 7375 6363  .    stdout_succ
-000244a0: 6573 7328 6d73 673d 6622 7b6c 656e 2876  ess(msg=f"{len(v
-000244b0: 6964 656f 5f70 6174 6873 297d 2076 6964  ideo_paths)} vid
-000244c0: 656f 2873 2920 7361 7665 6420 7769 7468  eo(s) saved with
-000244d0: 2070 726f 6772 6573 7362 6172 2069 6e20   progressbar in 
-000244e0: 7b73 6176 655f 6469 727d 2064 6972 6563  {save_dir} direc
-000244f0: 746f 7279 2e22 2c20 656c 6170 7365 645f  tory.", elapsed_
-00024500: 7469 6d65 3d74 696d 6572 2e65 6c61 7073  time=timer.elaps
-00024510: 6564 5f74 696d 655f 7374 722c 2073 6f75  ed_time_str, sou
-00024520: 7263 653d 7375 7065 7269 6d70 6f73 655f  rce=superimpose_
-00024530: 7669 6465 6f5f 7072 6f67 7265 7373 6261  video_progressba
-00024540: 722e 5f5f 6e61 6d65 5f5f 2c20 290a 0a64  r.__name__, )..d
-00024550: 6566 2063 726f 7373 6661 6465 5f74 776f  ef crossfade_two
-00024560: 5f76 6964 656f 7328 7669 6465 6f5f 7061  _videos(video_pa
-00024570: 7468 5f31 3a20 556e 696f 6e5b 7374 722c  th_1: Union[str,
-00024580: 206f 732e 5061 7468 4c69 6b65 5d2c 0a20   os.PathLike],. 
-00024590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000245a0: 2020 2020 2020 2020 7669 6465 6f5f 7061          video_pa
-000245b0: 7468 5f32 3a20 556e 696f 6e5b 7374 722c  th_2: Union[str,
-000245c0: 206f 732e 5061 7468 4c69 6b65 5d2c 0a20   os.PathLike],. 
-000245d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000245e0: 2020 2020 2020 2020 6372 6f73 7366 6164          crossfad
-000245f0: 655f 6475 7261 7469 6f6e 3a20 4f70 7469  e_duration: Opti
-00024600: 6f6e 616c 5b69 6e74 5d20 3d20 322c 0a20  onal[int] = 2,. 
-00024610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024620: 2020 2020 2020 2020 6372 6f73 7366 6164          crossfad
-00024630: 655f 6d65 7468 6f64 3a20 4f70 7469 6f6e  e_method: Option
-00024640: 616c 5b73 7472 5d20 3d20 2766 6164 6527  al[str] = 'fade'
-00024650: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00024660: 2020 2020 2020 2020 2020 2063 726f 7373             cross
-00024670: 6661 6465 5f6f 6666 7365 743a 204f 7074  fade_offset: Opt
-00024680: 696f 6e61 6c5b 696e 745d 203d 2032 2c0a  ional[int] = 2,.
-00024690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000246a0: 2020 2020 2020 2020 2071 7561 6c69 7479           quality
-000246b0: 3a20 4f70 7469 6f6e 616c 5b69 6e74 5d20  : Optional[int] 
-000246c0: 3d20 3630 2c0a 2020 2020 2020 2020 2020  = 60,.          
-000246d0: 2020 2020 2020 2020 2020 2020 2020 206f                 o
-000246e0: 7574 5f66 6f72 6d61 743a 204f 7074 696f  ut_format: Optio
-000246f0: 6e61 6c5b 4c69 7465 7261 6c5b 276d 7034  nal[Literal['mp4
-00024700: 272c 2027 6176 6927 2c20 2777 6562 6d27  ', 'avi', 'webm'
-00024710: 5d5d 203d 2027 6d70 3427 2c0a 2020 2020  ]] = 'mp4',.    
-00024720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024730: 2020 2020 2073 6176 655f 7061 7468 3a20       save_path: 
-00024740: 4f70 7469 6f6e 616c 5b55 6e69 6f6e 5b73  Optional[Union[s
-00024750: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
-00024760: 5d20 3d20 4e6f 6e65 293a 0a20 2020 2022  ] = None):.    "
-00024770: 2222 0a20 2020 2043 726f 7373 2d66 6164  "".    Cross-fad
-00024780: 6520 7477 6f20 7669 6465 6f73 2e0a 0a20  e two videos... 
-00024790: 2020 202e 2e20 7669 6465 6f3a 3a20 5f73     .. video:: _s
-000247a0: 7461 7469 632f 696d 672f 6372 6f73 7366  tatic/img/crossf
-000247b0: 6164 655f 7477 6f5f 7669 6465 6f73 2e77  ade_two_videos.w
-000247c0: 6562 6d0a 2020 2020 2020 203a 6c6f 6f70  ebm.       :loop
-000247d0: 3a0a 0a20 2020 202e 2e20 6e6f 7465 3a3a  :..    .. note::
-000247e0: 0a20 2020 2020 2020 5365 6520 6060 7369  .       See ``si
-000247f0: 6d62 612e 7574 696c 732e 6c6f 6f6b 7570  mba.utils.lookup
-00024800: 732e 6765 745f 6666 6d70 6567 5f63 726f  s.get_ffmpeg_cro
-00024810: 7373 6661 6465 5f6d 6574 686f 6473 6060  ssfade_methods``
-00024820: 2066 6f72 206e 616d 6564 2063 726f 7373   for named cross
-00024830: 6661 6465 206d 6574 686f 6473 2e0a 2020  fade methods..  
-00024840: 2020 2020 2053 6565 2060 6874 7470 733a       See `https:
-00024850: 2f2f 7472 6163 2e66 666d 7065 672e 6f72  //trac.ffmpeg.or
-00024860: 672f 7769 6b69 2f58 6661 6465 203c 6874  g/wiki/Xfade <ht
-00024870: 7470 733a 2f2f 7472 6163 2e66 666d 7065  tps://trac.ffmpe
-00024880: 672e 6f72 672f 7769 6b69 2f58 6661 6465  g.org/wiki/Xfade
-00024890: 3e60 5f5f 2e20 666f 7220 7669 7375 616c  >`__. for visual
-000248a0: 697a 6174 696f 6e73 206f 6620 6e61 6d65  izations of name
-000248b0: 6420 6372 6f73 7366 6164 6520 6d65 7468  d crossfade meth
-000248c0: 6f64 732c 0a0a 2020 2020 3a70 6172 616d  ods,..    :param
-000248d0: 2055 6e69 6f6e 5b73 7472 2c20 6f73 2e50   Union[str, os.P
-000248e0: 6174 684c 696b 655d 2076 6964 656f 5f70  athLike] video_p
-000248f0: 6174 685f 313a 2050 6174 6820 746f 2074  ath_1: Path to t
-00024900: 6865 2066 6972 7374 2076 6964 656f 206f  he first video o
-00024910: 6e20 6469 736b 2e0a 2020 2020 3a70 6172  n disk..    :par
-00024920: 616d 2055 6e69 6f6e 5b73 7472 2c20 6f73  am Union[str, os
-00024930: 2e50 6174 684c 696b 655d 2076 6964 656f  .PathLike] video
-00024940: 5f70 6174 685f 323a 2050 6174 6820 746f  _path_2: Path to
-00024950: 2074 6865 2073 6563 6f6e 6420 7669 6465   the second vide
-00024960: 6f20 6f6e 2064 6973 6b2e 0a20 2020 203a  o on disk..    :
-00024970: 7061 7261 6d20 4f70 7469 6f6e 616c 5b69  param Optional[i
-00024980: 6e74 5d20 6372 6f73 7366 6164 655f 6475  nt] crossfade_du
-00024990: 7261 7469 6f6e 3a20 5468 6520 6475 7261  ration: The dura
-000249a0: 7469 6f6e 206f 6620 7468 6520 6372 6f73  tion of the cros
-000249b0: 7366 6164 652e 0a20 2020 203a 7061 7261  sfade..    :para
-000249c0: 6d20 4f70 7469 6f6e 616c 5b73 7472 5d20  m Optional[str] 
-000249d0: 6372 6f73 7366 6164 655f 6d65 7468 6f64  crossfade_method
-000249e0: 3a20 5468 6520 6372 6f73 7366 6164 6520  : The crossfade 
-000249f0: 6d65 7468 6f64 2e20 466f 7220 6163 6365  method. For acce
-00024a00: 7074 6564 206d 6574 686f 6473 2c20 7365  pted methods, se
-00024a10: 6520 6060 7369 6d62 612e 7574 696c 732e  e ``simba.utils.
-00024a20: 6c6f 6f6b 7570 732e 6765 745f 6666 6d70  lookups.get_ffmp
-00024a30: 6567 5f63 726f 7373 6661 6465 5f6d 6574  eg_crossfade_met
-00024a40: 686f 6473 6060 2e0a 2020 2020 3a70 6172  hods``..    :par
-00024a50: 616d 204f 7074 696f 6e61 6c5b 696e 745d  am Optional[int]
-00024a60: 2063 726f 7373 6661 6465 5f6f 6666 7365   crossfade_offse
-00024a70: 743a 2054 6865 2074 696d 6520 696e 2073  t: The time in s
-00024a80: 6563 6f6e 6473 2069 6e74 6f20 7468 6520  econds into the 
-00024a90: 6669 7273 7420 7669 6465 6f20 6265 666f  first video befo
-00024aa0: 7265 2074 6865 2063 726f 7373 6661 6465  re the crossfade
-00024ab0: 2064 7572 6174 696f 6e20 6265 6769 6e73   duration begins
-00024ac0: 2e0a 2020 2020 3a70 6172 616d 204f 7074  ..    :param Opt
-00024ad0: 696f 6e61 6c5b 556e 696f 6e5b 7374 722c  ional[Union[str,
-00024ae0: 206f 732e 5061 7468 4c69 6b65 5d5d 2073   os.PathLike]] s
-00024af0: 6176 655f 7061 7468 3a20 5468 6520 6c6f  ave_path: The lo
-00024b00: 6361 7469 6f6e 2077 6865 7265 2074 6f20  cation where to 
-00024b10: 7361 7665 2074 6865 2063 726f 7373 6661  save the crossfa
-00024b20: 6465 6420 7669 6465 6f2e 2049 6620 4e6f  ded video. If No
-00024b30: 6e65 2c20 7468 656e 2073 6176 6573 2074  ne, then saves t
-00024b40: 6865 2076 6964 656f 2069 6e20 7468 6520  he video in the 
-00024b50: 7361 6d65 2064 6972 6563 746f 7279 2061  same directory a
-00024b60: 7320 6060 7669 6465 6f5f 7061 7468 5f31  s ``video_path_1
-00024b70: 6060 2077 6974 6820 6060 5f63 726f 7373  `` with ``_cross
-00024b80: 6661 6465 6060 2073 7566 6669 782e 0a0a  fade`` suffix...
-00024b90: 2020 2020 3a72 6574 7572 6e3a 204e 6f6e      :return: Non
-00024ba0: 652e 0a0a 2020 2020 3a65 7861 6d70 6c65  e...    :example
-00024bb0: 3a0a 2020 2020 3e3e 3e20 6372 6f73 7366  :.    >>> crossf
-00024bc0: 6164 655f 7477 6f5f 7669 6465 6f73 2876  ade_two_videos(v
-00024bd0: 6964 656f 5f70 6174 685f 313d 272f 5573  ideo_path_1='/Us
-00024be0: 6572 732f 7369 6d6f 6e2f 4465 736b 746f  ers/simon/Deskto
-00024bf0: 702f 656e 7673 2f73 696d 6261 2f74 726f  p/envs/simba/tro
-00024c00: 7562 6c65 7368 6f6f 7469 6e67 2f72 6570  ubleshooting/rep
-00024c10: 7469 6c65 2f31 2e6d 7034 272c 2076 6964  tile/1.mp4', vid
-00024c20: 656f 5f70 6174 685f 323d 272f 5573 6572  eo_path_2='/User
-00024c30: 732f 7369 6d6f 6e2f 4465 736b 746f 702f  s/simon/Desktop/
-00024c40: 656e 7673 2f73 696d 6261 2f74 726f 7562  envs/simba/troub
-00024c50: 6c65 7368 6f6f 7469 6e67 2f72 6570 7469  leshooting/repti
-00024c60: 6c65 2f31 2e6d 7034 272c 2063 726f 7373  le/1.mp4', cross
-00024c70: 6661 6465 5f64 7572 6174 696f 6e3d 352c  fade_duration=5,
-00024c80: 2063 726f 7373 6661 6465 5f6d 6574 686f   crossfade_metho
-00024c90: 643d 277a 6f6f 6d69 6e27 2c20 7361 7665  d='zoomin', save
-00024ca0: 5f70 6174 683d 272f 5573 6572 732f 7369  _path='/Users/si
-00024cb0: 6d6f 6e2f 4465 736b 746f 702f 6372 6f73  mon/Desktop/cros
-00024cc0: 735f 7465 7374 2e6d 7034 2729 0a20 2020  s_test.mp4').   
-00024cd0: 2022 2222 0a0a 2020 2020 6368 6563 6b5f   """..    check_
-00024ce0: 6666 6d70 6567 5f61 7661 696c 6162 6c65  ffmpeg_available
-00024cf0: 2872 6169 7365 5f65 7272 6f72 3d54 7275  (raise_error=Tru
-00024d00: 6529 0a20 2020 2074 696d 6572 203d 2053  e).    timer = S
-00024d10: 696d 6261 5469 6d65 7228 7374 6172 743d  imbaTimer(start=
-00024d20: 5472 7565 290a 2020 2020 7669 6465 6f5f  True).    video_
-00024d30: 315f 6d65 7461 203d 2067 6574 5f76 6964  1_meta = get_vid
-00024d40: 656f 5f6d 6574 615f 6461 7461 2876 6964  eo_meta_data(vid
-00024d50: 656f 5f70 6174 683d 7669 6465 6f5f 7061  eo_path=video_pa
-00024d60: 7468 5f31 290a 2020 2020 7669 6465 6f5f  th_1).    video_
-00024d70: 325f 6d65 7461 203d 2067 6574 5f76 6964  2_meta = get_vid
-00024d80: 656f 5f6d 6574 615f 6461 7461 2876 6964  eo_meta_data(vid
-00024d90: 656f 5f70 6174 683d 7669 6465 6f5f 7061  eo_path=video_pa
-00024da0: 7468 5f32 290a 2020 2020 6966 2076 6964  th_2).    if vid
-00024db0: 656f 5f31 5f6d 6574 615b 2772 6573 6f6c  eo_1_meta['resol
-00024dc0: 7574 696f 6e5f 7374 7227 5d20 213d 2076  ution_str'] != v
-00024dd0: 6964 656f 5f31 5f6d 6574 615b 2772 6573  ideo_1_meta['res
-00024de0: 6f6c 7574 696f 6e5f 7374 7227 5d3a 0a20  olution_str']:. 
-00024df0: 2020 2020 2020 2072 6169 7365 2049 6e76         raise Inv
-00024e00: 616c 6964 496e 7075 7445 7272 6f72 286d  alidInputError(m
-00024e10: 7367 3d66 2756 6964 656f 2031 2061 6e64  sg=f'Video 1 and
-00024e20: 2056 6964 656f 2032 206e 6565 6473 2074   Video 2 needs t
-00024e30: 6f20 6265 2074 6865 2073 616d 6520 7265  o be the same re
-00024e40: 736f 6c75 7469 6f6e 2c20 676f 7420 7b76  solution, got {v
-00024e50: 6964 656f 5f32 5f6d 6574 615b 2272 6573  ideo_2_meta["res
-00024e60: 6f6c 7574 696f 6e5f 7374 7222 5d7d 2061  olution_str"]} a
-00024e70: 6e64 207b 7669 6465 6f5f 315f 6d65 7461  nd {video_1_meta
-00024e80: 5b22 7265 736f 6c75 7469 6f6e 5f73 7472  ["resolution_str
-00024e90: 225d 7d27 2c20 736f 7572 6365 3d63 726f  "]}', source=cro
-00024ea0: 7373 6661 6465 5f74 776f 5f76 6964 656f  ssfade_two_video
-00024eb0: 732e 5f5f 6e61 6d65 5f5f 290a 2020 2020  s.__name__).    
-00024ec0: 6372 6f73 7366 6164 655f 6f66 6673 6574  crossfade_offset
-00024ed0: 5f6d 6574 686f 6473 203d 2067 6574 5f66  _methods = get_f
-00024ee0: 666d 7065 675f 6372 6f73 7366 6164 655f  fmpeg_crossfade_
-00024ef0: 6d65 7468 6f64 7328 290a 2020 2020 6368  methods().    ch
-00024f00: 6563 6b5f 7374 7228 6e61 6d65 3d66 277b  eck_str(name=f'{
-00024f10: 6372 6f73 7366 6164 655f 6d65 7468 6f64  crossfade_method
-00024f20: 7d20 6372 6f73 7366 6164 655f 6d65 7468  } crossfade_meth
-00024f30: 6f64 272c 2076 616c 7565 3d63 726f 7373  od', value=cross
-00024f40: 6661 6465 5f6d 6574 686f 642c 206f 7074  fade_method, opt
-00024f50: 696f 6e73 3d63 726f 7373 6661 6465 5f6f  ions=crossfade_o
-00024f60: 6666 7365 745f 6d65 7468 6f64 7329 0a20  ffset_methods). 
-00024f70: 2020 2063 6865 636b 5f73 7472 286e 616d     check_str(nam
-00024f80: 653d 6627 7b63 726f 7373 6661 6465 5f6d  e=f'{crossfade_m
-00024f90: 6574 686f 647d 206f 7574 5f66 6f72 6d61  ethod} out_forma
-00024fa0: 7427 2c20 7661 6c75 653d 6f75 745f 666f  t', value=out_fo
-00024fb0: 726d 6174 2c20 6f70 7469 6f6e 733d 5b27  rmat, options=['
-00024fc0: 6d70 3427 2c20 2761 7669 272c 2027 7765  mp4', 'avi', 'we
-00024fd0: 626d 275d 290a 2020 2020 6368 6563 6b5f  bm']).    check_
-00024fe0: 696e 7428 6e61 6d65 3d66 277b 6372 6f73  int(name=f'{cros
-00024ff0: 7366 6164 655f 7477 6f5f 7669 6465 6f73  sfade_two_videos
-00025000: 2e5f 5f6e 616d 655f 5f7d 2063 726f 7373  .__name__} cross
-00025010: 6661 6465 5f64 7572 6174 696f 6e27 2c20  fade_duration', 
-00025020: 7661 6c75 653d 6372 6f73 7366 6164 655f  value=crossfade_
-00025030: 6475 7261 7469 6f6e 2c20 6d69 6e5f 7661  duration, min_va
-00025040: 6c75 653d 312c 206d 6178 5f76 616c 7565  lue=1, max_value
-00025050: 3d76 6964 656f 5f32 5f6d 6574 615b 2776  =video_2_meta['v
-00025060: 6964 656f 5f6c 656e 6774 685f 7327 5d29  ideo_length_s'])
-00025070: 0a20 2020 2063 6865 636b 5f69 6e74 286e  .    check_int(n
-00025080: 616d 653d 6627 7b63 726f 7373 6661 6465  ame=f'{crossfade
-00025090: 5f74 776f 5f76 6964 656f 732e 5f5f 6e61  _two_videos.__na
-000250a0: 6d65 5f5f 7d20 6372 6f73 7366 6164 655f  me__} crossfade_
-000250b0: 6f66 6673 6574 272c 2076 616c 7565 3d63  offset', value=c
-000250c0: 726f 7373 6661 6465 5f6f 6666 7365 742c  rossfade_offset,
-000250d0: 206d 696e 5f76 616c 7565 3d30 2c20 6d61   min_value=0, ma
-000250e0: 785f 7661 6c75 653d 7669 6465 6f5f 315f  x_value=video_1_
-000250f0: 6d65 7461 5b27 7669 6465 6f5f 6c65 6e67  meta['video_leng
-00025100: 7468 5f73 275d 290a 2020 2020 6368 6563  th_s']).    chec
-00025110: 6b5f 696e 7428 6e61 6d65 3d66 277b 7265  k_int(name=f'{re
-00025120: 7665 7273 655f 7669 6465 6f73 2e5f 5f6e  verse_videos.__n
-00025130: 616d 655f 5f7d 2071 7561 6c69 7479 272c  ame__} quality',
-00025140: 2076 616c 7565 3d71 7561 6c69 7479 290a   value=quality).
-00025150: 2020 2020 6372 665f 6c6b 203d 2070 6572      crf_lk = per
-00025160: 6365 6e74 5f74 6f5f 6372 665f 6c6f 6f6b  cent_to_crf_look
-00025170: 7570 2829 0a20 2020 2063 7266 203d 2063  up().    crf = c
-00025180: 7266 5f6c 6b5b 7374 7228 7175 616c 6974  rf_lk[str(qualit
-00025190: 7929 5d0a 2020 2020 666f 7220 7669 6465  y)].    for vide
-000251a0: 6f5f 7061 7468 2069 6e20 5b76 6964 656f  o_path in [video
-000251b0: 5f70 6174 685f 312c 2076 6964 656f 5f70  _path_1, video_p
-000251c0: 6174 685f 325d 3a0a 2020 2020 2020 2020  ath_2]:.        
-000251d0: 7669 6465 6f5f 6d65 7461 5f64 6174 6120  video_meta_data 
-000251e0: 3d20 6765 745f 7669 6465 6f5f 6d65 7461  = get_video_meta
-000251f0: 5f64 6174 6128 7669 6465 6f5f 7061 7468  _data(video_path
-00025200: 3d76 6964 656f 5f70 6174 6829 0a20 2020  =video_path).   
-00025210: 2020 2020 2069 6620 7669 6465 6f5f 6d65       if video_me
-00025220: 7461 5f64 6174 615b 2776 6964 656f 5f6c  ta_data['video_l
-00025230: 656e 6774 685f 7327 5d20 3c20 6372 6f73  ength_s'] < cros
-00025240: 7366 6164 655f 6475 7261 7469 6f6e 3a0a  sfade_duration:.
-00025250: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00025260: 6520 4672 616d 6552 616e 6765 4572 726f  e FrameRangeErro
-00025270: 7228 6d73 673d 6627 5669 6465 6f20 7b76  r(msg=f'Video {v
-00025280: 6964 656f 5f6d 6574 615f 6461 7461 5b22  ideo_meta_data["
-00025290: 7669 6465 6f5f 6e61 6d65 225d 7d20 6973  video_name"]} is
-000252a0: 2073 686f 7274 6572 207b 7669 6465 6f5f   shorter {video_
-000252b0: 6d65 7461 5f64 6174 615b 2276 6964 656f  meta_data["video
-000252c0: 5f6c 656e 6774 685f 7322 5d7d 2074 6861  _length_s"]} tha
-000252d0: 6e20 7468 6520 6372 6f73 7366 6164 6520  n the crossfade 
-000252e0: 6475 7261 7469 6f6e 207b 6372 6f73 7366  duration {crossf
-000252f0: 6164 655f 6475 7261 7469 6f6e 7d2e 272c  ade_duration}.',
-00025300: 2073 6f75 7263 653d 6372 6f73 7366 6164   source=crossfad
-00025310: 655f 7477 6f5f 7669 6465 6f73 2e5f 5f6e  e_two_videos.__n
-00025320: 616d 655f 5f29 0a20 2020 2020 2020 2069  ame__).        i
-00025330: 6620 7669 6465 6f5f 6d65 7461 5f64 6174  f video_meta_dat
-00025340: 615b 2776 6964 656f 5f6c 656e 6774 685f  a['video_length_
-00025350: 7327 5d20 3c20 6372 6f73 7366 6164 655f  s'] < crossfade_
-00025360: 6f66 6673 6574 3a0a 2020 2020 2020 2020  offset:.        
-00025370: 2020 2020 7261 6973 6520 4672 616d 6552      raise FrameR
-00025380: 616e 6765 4572 726f 7228 6d73 673d 6627  angeError(msg=f'
-00025390: 5669 6465 6f20 7b76 6964 656f 5f6d 6574  Video {video_met
-000253a0: 615f 6461 7461 5b22 7669 6465 6f5f 6e61  a_data["video_na
-000253b0: 6d65 225d 7d20 6973 2073 686f 7274 6572  me"]} is shorter
-000253c0: 207b 7669 6465 6f5f 6d65 7461 5f64 6174   {video_meta_dat
-000253d0: 615b 2276 6964 656f 5f6c 656e 6774 685f  a["video_length_
-000253e0: 7322 5d7d 2074 6861 6e20 7468 6520 6372  s"]} than the cr
-000253f0: 6f73 7366 6164 6520 6f66 6673 6574 207b  ossfade offset {
-00025400: 6372 6f73 7366 6164 655f 6f66 6673 6574  crossfade_offset
-00025410: 7d2e 272c 2073 6f75 7263 653d 6372 6f73  }.', source=cros
-00025420: 7366 6164 655f 7477 6f5f 7669 6465 6f73  sfade_two_videos
-00025430: 2e5f 5f6e 616d 655f 5f29 0a20 2020 2064  .__name__).    d
-00025440: 6972 5f31 2c20 7669 6465 6f5f 6e61 6d65  ir_1, video_name
-00025450: 5f31 2c20 6578 745f 3120 3d20 6765 745f  _1, ext_1 = get_
-00025460: 666e 5f65 7874 2866 696c 6570 6174 683d  fn_ext(filepath=
-00025470: 7669 6465 6f5f 7061 7468 5f31 290a 2020  video_path_1).  
-00025480: 2020 6469 725f 322c 2076 6964 656f 5f6e    dir_2, video_n
-00025490: 616d 655f 322c 2065 7874 5f32 203d 2067  ame_2, ext_2 = g
-000254a0: 6574 5f66 6e5f 6578 7428 6669 6c65 7061  et_fn_ext(filepa
-000254b0: 7468 3d76 6964 656f 5f70 6174 685f 3229  th=video_path_2)
-000254c0: 0a20 2020 2069 6620 7361 7665 5f70 6174  .    if save_pat
-000254d0: 6820 6973 206e 6f74 204e 6f6e 653a 0a20  h is not None:. 
-000254e0: 2020 2020 2020 2063 6865 636b 5f69 665f         check_if_
-000254f0: 6469 725f 6578 6973 7473 2869 6e5f 6469  dir_exists(in_di
-00025500: 723d 6f73 2e70 6174 682e 6469 726e 616d  r=os.path.dirnam
-00025510: 6528 7361 7665 5f70 6174 6829 290a 2020  e(save_path)).  
-00025520: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00025530: 7361 7665 5f70 6174 6820 3d20 6f73 2e70  save_path = os.p
-00025540: 6174 682e 6a6f 696e 2864 6972 5f31 2c20  ath.join(dir_1, 
-00025550: 6627 7b76 6964 656f 5f6e 616d 655f 317d  f'{video_name_1}
-00025560: 5f7b 7669 6465 6f5f 6e61 6d65 5f32 7d5f  _{video_name_2}_
-00025570: 6372 6f73 7366 6164 652e 7b6f 7574 5f66  crossfade.{out_f
-00025580: 6f72 6d61 747d 2729 0a20 2020 2063 6d64  ormat}').    cmd
-00025590: 203d 2066 2766 666d 7065 6720 2d69 2022   = f'ffmpeg -i "
-000255a0: 7b76 6964 656f 5f70 6174 685f 317d 2220  {video_path_1}" 
-000255b0: 2d69 2022 7b76 6964 656f 5f70 6174 685f  -i "{video_path_
-000255c0: 327d 2220 2d66 696c 7465 725f 636f 6d70  2}" -filter_comp
-000255d0: 6c65 7820 2278 6661 6465 3d74 7261 6e73  lex "xfade=trans
-000255e0: 6974 696f 6e3d 7b63 726f 7373 6661 6465  ition={crossfade
-000255f0: 5f6d 6574 686f 647d 3a6f 6666 7365 743d  _method}:offset=
-00025600: 7b63 726f 7373 6661 6465 5f6f 6666 7365  {crossfade_offse
-00025610: 747d 3a64 7572 6174 696f 6e3d 7b63 726f  t}:duration={cro
-00025620: 7373 6661 6465 5f64 7572 6174 696f 6e7d  ssfade_duration}
-00025630: 2220 2d63 7266 207b 6372 667d 2022 7b73  " -crf {crf} "{s
-00025640: 6176 655f 7061 7468 7d22 202d 6c6f 676c  ave_path}" -logl
-00025650: 6576 656c 2065 7272 6f72 202d 7374 6174  evel error -stat
-00025660: 7320 2d68 6964 655f 6261 6e6e 6572 202d  s -hide_banner -
-00025670: 7927 0a20 2020 2073 7562 7072 6f63 6573  y'.    subproces
-00025680: 732e 6361 6c6c 2863 6d64 2c20 7368 656c  s.call(cmd, shel
-00025690: 6c3d 5472 7565 2c20 7374 646f 7574 3d73  l=True, stdout=s
-000256a0: 7562 7072 6f63 6573 732e 5049 5045 290a  ubprocess.PIPE).
-000256b0: 2020 2020 7469 6d65 722e 7374 6f70 5f74      timer.stop_t
-000256c0: 696d 6572 2829 0a20 2020 2073 7464 6f75  imer().    stdou
-000256d0: 745f 7375 6363 6573 7328 6d73 673d 6627  t_success(msg=f'
-000256e0: 4372 6f73 732d 6661 6465 6420 7669 6465  Cross-faded vide
-000256f0: 6f20 7361 7665 6420 6174 207b 7361 7665  o saved at {save
-00025700: 5f70 6174 687d 272c 2065 6c61 7073 6564  _path}', elapsed
-00025710: 5f74 696d 653d 7469 6d65 722e 656c 6170  _time=timer.elap
-00025720: 7365 645f 7469 6d65 5f73 7472 290a 0a64  sed_time_str)..d
-00025730: 6566 2077 6174 6572 6d61 726b 5f76 6964  ef watermark_vid
-00025740: 656f 2876 6964 656f 5f70 6174 683a 2055  eo(video_path: U
-00025750: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
-00025760: 684c 696b 655d 2c0a 2020 2020 2020 2020  hLike],.        
-00025770: 2020 2020 2020 2020 2020 2020 7761 7465              wate
-00025780: 726d 6172 6b5f 7061 7468 3a20 556e 696f  rmark_path: Unio
-00025790: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
-000257a0: 6b65 5d2c 0a20 2020 2020 2020 2020 2020  ke],.           
-000257b0: 2020 2020 2020 2020 2070 6f73 6974 696f           positio
-000257c0: 6e3a 204f 7074 696f 6e61 6c5b 4c69 7465  n: Optional[Lite
-000257d0: 7261 6c5b 2774 6f70 5f6c 6566 7427 2c20  ral['top_left', 
-000257e0: 2762 6f74 746f 6d5f 7269 6768 7427 2c20  'bottom_right', 
-000257f0: 2774 6f70 5f72 6967 6874 272c 2027 626f  'top_right', 'bo
-00025800: 7474 6f6d 5f6c 6566 7427 2c20 2763 656e  ttom_left', 'cen
-00025810: 7465 7227 5d5d 203d 2027 746f 705f 6c65  ter']] = 'top_le
-00025820: 6674 272c 0a20 2020 2020 2020 2020 2020  ft',.           
-00025830: 2020 2020 2020 2020 206f 7061 6369 7479           opacity
-00025840: 3a20 4f70 7469 6f6e 616c 5b66 6c6f 6174  : Optional[float
-00025850: 5d20 3d20 302e 352c 0a20 2020 2020 2020  ] = 0.5,.       
-00025860: 2020 2020 2020 2020 2020 2020 2073 6361               sca
-00025870: 6c65 3a20 4f70 7469 6f6e 616c 5b66 6c6f  le: Optional[flo
-00025880: 6174 5d20 3d20 302e 3035 2c0a 2020 2020  at] = 0.05,.    
-00025890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000258a0: 7361 7665 5f64 6972 3a20 4f70 7469 6f6e  save_dir: Option
-000258b0: 616c 5b55 6e69 6f6e 5b73 7472 2c20 6f73  al[Union[str, os
-000258c0: 2e50 6174 684c 696b 655d 5d20 3d20 4e6f  .PathLike]] = No
-000258d0: 6e65 2920 2d3e 204e 6f6e 653a 0a20 2020  ne) -> None:.   
-000258e0: 2022 2222 0a20 2020 2057 6174 6572 6d61   """.    Waterma
-000258f0: 726b 2061 2076 6964 656f 2066 696c 6520  rk a video file 
-00025900: 6f72 2061 2064 6972 6563 746f 7279 206f  or a directory o
-00025910: 6620 7669 6465 6f20 6669 6c65 7320 7769  f video files wi
-00025920: 7468 2073 7065 6369 6669 6564 2077 6174  th specified wat
-00025930: 6572 6d61 726b 2073 697a 652c 206f 7061  ermark size, opa
-00025940: 6369 7479 2c20 616e 6420 6c6f 6361 7469  city, and locati
-00025950: 6f6e 2e0a 0a20 2020 202e 2e20 7669 6465  on...    .. vide
-00025960: 6f3a 3a20 5f73 7461 7469 632f 696d 672f  o:: _static/img/
-00025970: 7761 7465 726d 6172 6b5f 7669 6465 6f2e  watermark_video.
-00025980: 7765 626d 0a20 2020 2020 2020 3a77 6964  webm.       :wid
-00025990: 7468 3a20 3930 300a 2020 2020 2020 203a  th: 900.       :
-000259a0: 6c6f 6f70 3a0a 0a20 2020 203a 7061 7261  loop:..    :para
-000259b0: 6d20 556e 696f 6e5b 7374 722c 206f 732e  m Union[str, os.
-000259c0: 5061 7468 4c69 6b65 5d20 7669 6465 6f5f  PathLike] video_
-000259d0: 7061 7468 3a20 5468 6520 7061 7468 2074  path: The path t
-000259e0: 6f20 7468 6520 7669 6465 6f20 6669 6c65  o the video file
-000259f0: 206f 7220 7061 7468 2074 6f20 6469 7265   or path to dire
-00025a00: 6374 6f72 7920 7769 7468 2076 6964 656f  ctory with video
-00025a10: 2066 696c 6573 2e0a 2020 2020 3a70 6172   files..    :par
-00025a20: 616d 2055 6e69 6f6e 5b73 7472 2c20 6f73  am Union[str, os
-00025a30: 2e50 6174 684c 696b 655d 2077 6174 6572  .PathLike] water
-00025a40: 6d61 726b 5f70 6174 683a 2054 6865 2070  mark_path: The p
-00025a50: 6174 6820 746f 2074 6865 2077 6174 6572  ath to the water
-00025a60: 6d61 726b 202e 706e 6720 6669 6c65 2e0a  mark .png file..
-00025a70: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
-00025a80: 6e61 6c5b 7374 725d 2070 6f73 6974 696f  nal[str] positio
-00025a90: 6e3a 2054 6865 2070 6f73 6974 696f 6e20  n: The position 
-00025aa0: 6f66 2074 6865 2077 6174 6572 6d61 726b  of the watermark
-00025ab0: 2e20 4f70 7469 6f6e 733a 2027 746f 705f  . Options: 'top_
-00025ac0: 6c65 6674 272c 2027 626f 7474 6f6d 5f72  left', 'bottom_r
-00025ad0: 6967 6874 272c 2027 746f 705f 7269 6768  ight', 'top_righ
-00025ae0: 7427 2c20 2762 6f74 746f 6d5f 6c65 6674  t', 'bottom_left
-00025af0: 272c 2027 6365 6e74 6572 270a 2020 2020  ', 'center'.    
-00025b00: 3a70 6172 616d 204f 7074 696f 6e61 6c5b  :param Optional[
-00025b10: 666c 6f61 745d 206f 7061 6369 7479 3a20  float] opacity: 
-00025b20: 5468 6520 6f70 6163 6974 7920 6f66 2074  The opacity of t
-00025b30: 6865 2077 6174 6572 6d61 726b 2061 7320  he watermark as 
-00025b40: 6120 7661 6c75 6520 6265 7477 6565 6e20  a value between 
-00025b50: 302d 312e 302e 2031 2e30 206d 6561 6e69  0-1.0. 1.0 meani
-00025b60: 6e67 2074 6865 2073 616d 6520 6173 2069  ng the same as i
-00025b70: 6e70 7574 2069 6d61 6765 2e20 4465 6661  nput image. Defa
-00025b80: 756c 743a 2030 2e35 2e0a 2020 2020 3a70  ult: 0.5..    :p
-00025b90: 6172 616d 204f 7074 696f 6e61 6c5b 666c  aram Optional[fl
-00025ba0: 6f61 745d 2073 6361 6c65 3a20 5468 6520  oat] scale: The 
-00025bb0: 7363 616c 6520 6f66 2074 6865 2077 6174  scale of the wat
-00025bc0: 6572 6d61 726b 2061 7320 6120 7261 7469  ermark as a rati
-00025bd0: 6f20 6f73 2074 6865 2069 6d61 6765 2073  o os the image s
-00025be0: 697a 652e 2044 6566 6175 6c74 3a20 302e  ize. Default: 0.
-00025bf0: 3035 2e0a 2020 2020 3a70 6172 616d 204f  05..    :param O
-00025c00: 7074 696f 6e61 6c5b 556e 696f 6e5b 7374  ptional[Union[st
-00025c10: 722c 206f 732e 5061 7468 4c69 6b65 5d5d  r, os.PathLike]]
-00025c20: 2073 6176 655f 6469 723a 2054 6865 206c   save_dir: The l
-00025c30: 6f63 6174 696f 6e20 7768 6572 6520 746f  ocation where to
-00025c40: 2073 6176 6520 7468 6520 7761 7465 726d   save the waterm
-00025c50: 6172 6b65 6420 7669 6465 6f2e 2049 6620  arked video. If 
-00025c60: 4e6f 6e65 2c20 7468 656e 2073 6176 6573  None, then saves
-00025c70: 2074 6865 2076 6964 656f 2069 6e20 7468   the video in th
-00025c80: 6520 7361 6d65 2064 6972 6563 746f 7279  e same directory
-00025c90: 2061 7320 7468 6520 6669 7273 7420 7669   as the first vi
-00025ca0: 6465 6f2e 0a20 2020 203a 7265 7475 726e  deo..    :return
-00025cb0: 3a20 4e6f 6e65 0a0a 2020 2020 3a65 7861  : None..    :exa
-00025cc0: 6d70 6c65 3a0a 2020 2020 3e3e 3e20 7761  mple:.    >>> wa
-00025cd0: 7465 726d 6172 6b5f 7669 6465 6f28 7669  termark_video(vi
-00025ce0: 6465 6f5f 7061 7468 3d27 2f55 7365 7273  deo_path='/Users
-00025cf0: 2f73 696d 6f6e 2f44 6573 6b74 6f70 2f65  /simon/Desktop/e
-00025d00: 6e76 732f 7369 6d62 612f 7472 6f75 626c  nvs/simba/troubl
-00025d10: 6573 686f 6f74 696e 672f 6d75 6c74 695f  eshooting/multi_
-00025d20: 616e 696d 616c 5f64 6c63 5f74 776f 5f63  animal_dlc_two_c
-00025d30: 3537 2f70 726f 6a65 6374 5f66 6f6c 6465  57/project_folde
-00025d40: 722f 7669 6465 6f73 2f77 6174 6572 6d61  r/videos/waterma
-00025d50: 726b 2f54 6f67 6574 6865 725f 315f 706f  rk/Together_1_po
-00025d60: 7765 7270 6f69 6e74 7265 6164 792e 6d70  werpointready.mp
-00025d70: 3427 2c20 7761 7465 726d 6172 6b5f 7061  4', watermark_pa
-00025d80: 7468 3d27 2f55 7365 7273 2f73 696d 6f6e  th='/Users/simon
-00025d90: 2f44 6573 6b74 6f70 2f73 706c 6173 682e  /Desktop/splash.
-00025da0: 706e 6727 2c20 706f 7369 7469 6f6e 3d27  png', position='
-00025db0: 746f 705f 6c65 6674 272c 206f 7061 6369  top_left', opaci
-00025dc0: 7479 3d31 2e30 2c20 7363 616c 653d 302e  ty=1.0, scale=0.
-00025dd0: 3229 0a20 2020 2022 2222 0a20 2020 2063  2).    """.    c
-00025de0: 6865 636b 5f66 666d 7065 675f 6176 6169  heck_ffmpeg_avai
-00025df0: 6c61 626c 6528 7261 6973 655f 6572 726f  lable(raise_erro
-00025e00: 723d 5472 7565 290a 2020 2020 7469 6d65  r=True).    time
-00025e10: 7220 3d20 5369 6d62 6154 696d 6572 2873  r = SimbaTimer(s
-00025e20: 7461 7274 3d54 7275 6529 0a20 2020 2050  tart=True).    P
-00025e30: 4f53 4954 494f 4e53 203d 205b 2774 6f70  OSITIONS = ['top
-00025e40: 5f6c 6566 7427 2c20 2762 6f74 746f 6d5f  _left', 'bottom_
-00025e50: 7269 6768 7427 2c20 2774 6f70 5f72 6967  right', 'top_rig
-00025e60: 6874 272c 2027 626f 7474 6f6d 5f6c 6566  ht', 'bottom_lef
-00025e70: 7427 2c20 2763 656e 7465 7227 5d0a 2020  t', 'center'].  
-00025e80: 2020 6368 6563 6b5f 666c 6f61 7428 6e61    check_float(na
-00025e90: 6d65 3d66 277b 7761 7465 726d 6172 6b5f  me=f'{watermark_
-00025ea0: 7669 6465 6f2e 5f5f 6e61 6d65 5f5f 7d20  video.__name__} 
-00025eb0: 6f70 6163 6974 7927 2c20 7661 6c75 653d  opacity', value=
-00025ec0: 6f70 6163 6974 792c 206d 696e 5f76 616c  opacity, min_val
-00025ed0: 7565 3d30 2e30 3031 2c20 6d61 785f 7661  ue=0.001, max_va
-00025ee0: 6c75 653d 312e 3029 0a20 2020 2063 6865  lue=1.0).    che
-00025ef0: 636b 5f66 6c6f 6174 286e 616d 653d 6627  ck_float(name=f'
-00025f00: 7b77 6174 6572 6d61 726b 5f76 6964 656f  {watermark_video
-00025f10: 2e5f 5f6e 616d 655f 5f7d 2073 6361 6c65  .__name__} scale
-00025f20: 272c 2076 616c 7565 3d73 6361 6c65 2c20  ', value=scale, 
-00025f30: 6d69 6e5f 7661 6c75 653d 302e 3030 312c  min_value=0.001,
-00025f40: 206d 6178 5f76 616c 7565 3d30 2e39 3939   max_value=0.999
-00025f50: 290a 2020 2020 6368 6563 6b5f 7374 7228  ).    check_str(
-00025f60: 6e61 6d65 3d66 277b 7761 7465 726d 6172  name=f'{watermar
-00025f70: 6b5f 7669 6465 6f2e 5f5f 6e61 6d65 5f5f  k_video.__name__
-00025f80: 7d20 706f 7369 7469 6f6e 272c 2076 616c  } position', val
-00025f90: 7565 3d70 6f73 6974 696f 6e2c 206f 7074  ue=position, opt
-00025fa0: 696f 6e73 3d50 4f53 4954 494f 4e53 290a  ions=POSITIONS).
-00025fb0: 2020 2020 6368 6563 6b5f 6669 6c65 5f65      check_file_e
-00025fc0: 7869 7374 5f61 6e64 5f72 6561 6461 626c  xist_and_readabl
-00025fd0: 6528 6669 6c65 5f70 6174 683d 7761 7465  e(file_path=wate
-00025fe0: 726d 6172 6b5f 7061 7468 290a 0a20 2020  rmark_path)..   
-00025ff0: 2069 6620 6f73 2e70 6174 682e 6973 6669   if os.path.isfi
-00026000: 6c65 2876 6964 656f 5f70 6174 6829 3a0a  le(video_path):.
-00026010: 2020 2020 2020 2020 7669 6465 6f5f 7061          video_pa
-00026020: 7468 7320 3d20 5b76 6964 656f 5f70 6174  ths = [video_pat
-00026030: 685d 0a20 2020 2065 6c69 6620 6f73 2e70  h].    elif os.p
-00026040: 6174 682e 6973 6469 7228 7669 6465 6f5f  ath.isdir(video_
-00026050: 7061 7468 293a 0a20 2020 2020 2020 2076  path):.        v
-00026060: 6964 656f 5f70 6174 6873 203d 206c 6973  ideo_paths = lis
-00026070: 7428 6669 6e64 5f61 6c6c 5f76 6964 656f  t(find_all_video
-00026080: 735f 696e 5f64 6972 6563 746f 7279 2864  s_in_directory(d
-00026090: 6972 6563 746f 7279 3d76 6964 656f 5f70  irectory=video_p
-000260a0: 6174 682c 2061 735f 6469 6374 3d54 7275  ath, as_dict=Tru
-000260b0: 652c 2072 6169 7365 5f65 7272 6f72 3d54  e, raise_error=T
-000260c0: 7275 6529 2e76 616c 7565 7328 2929 0a20  rue).values()). 
-000260d0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-000260e0: 2072 6169 7365 2049 6e76 616c 6964 496e   raise InvalidIn
-000260f0: 7075 7445 7272 6f72 286d 7367 3d66 277b  putError(msg=f'{
-00026100: 7669 6465 6f5f 7061 7468 7d20 6973 206e  video_path} is n
-00026110: 6f74 2061 2076 616c 6964 2066 696c 6520  ot a valid file 
-00026120: 7061 7468 206f 7220 6120 7661 6c69 6420  path or a valid 
-00026130: 6469 7265 6374 6f72 7920 7061 7468 272c  directory path',
-00026140: 2073 6f75 7263 653d 7761 7465 726d 6172   source=watermar
-00026150: 6b5f 7669 6465 6f2e 5f5f 6e61 6d65 5f5f  k_video.__name__
-00026160: 290a 2020 2020 6966 2073 6176 655f 6469  ).    if save_di
-00026170: 7220 6973 206e 6f74 204e 6f6e 653a 0a20  r is not None:. 
-00026180: 2020 2020 2020 2063 6865 636b 5f69 665f         check_if_
-00026190: 6469 725f 6578 6973 7473 2869 6e5f 6469  dir_exists(in_di
-000261a0: 723d 7361 7665 5f64 6972 290a 2020 2020  r=save_dir).    
-000261b0: 656c 7365 3a0a 2020 2020 2020 2020 7361  else:.        sa
-000261c0: 7665 5f64 6972 203d 206f 732e 7061 7468  ve_dir = os.path
-000261d0: 2e64 6972 6e61 6d65 2876 6964 656f 5f70  .dirname(video_p
-000261e0: 6174 6873 5b30 5d29 0a20 2020 2066 6f72  aths[0]).    for
-000261f0: 2066 696c 655f 636e 742c 2076 6964 656f   file_cnt, video
-00026200: 5f70 6174 6820 696e 2065 6e75 6d65 7261  _path in enumera
-00026210: 7465 2876 6964 656f 5f70 6174 6873 293a  te(video_paths):
-00026220: 0a20 2020 2020 2020 205f 2c20 7669 6465  .        _, vide
-00026230: 6f5f 6e61 6d65 2c20 7669 6465 6f5f 6578  o_name, video_ex
-00026240: 7420 3d20 6765 745f 666e 5f65 7874 2876  t = get_fn_ext(v
-00026250: 6964 656f 5f70 6174 6829 0a20 2020 2020  ideo_path).     
-00026260: 2020 205f 203d 2067 6574 5f76 6964 656f     _ = get_video
-00026270: 5f6d 6574 615f 6461 7461 2876 6964 656f  _meta_data(video
-00026280: 5f70 6174 683d 7669 6465 6f5f 7061 7468  _path=video_path
-00026290: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
-000262a0: 6627 5761 7465 726d 6172 6b69 6e67 207b  f'Watermarking {
-000262b0: 7669 6465 6f5f 6e61 6d65 7d20 2856 6964  video_name} (Vid
-000262c0: 656f 207b 6669 6c65 5f63 6e74 2b31 7d2f  eo {file_cnt+1}/
-000262d0: 7b6c 656e 2876 6964 656f 5f70 6174 6873  {len(video_paths
-000262e0: 297d 292e 2e2e 2729 0a20 2020 2020 2020  )})...').       
-000262f0: 206f 7574 5f70 6174 6820 3d20 6f73 2e70   out_path = os.p
-00026300: 6174 682e 6a6f 696e 2873 6176 655f 6469  ath.join(save_di
-00026310: 722c 2066 277b 7669 6465 6f5f 6e61 6d65  r, f'{video_name
-00026320: 7d5f 7761 7465 726d 6172 6b65 647b 7669  }_watermarked{vi
-00026330: 6465 6f5f 6578 747d 2729 0a20 2020 2020  deo_ext}').     
-00026340: 2020 2069 6620 706f 7369 7469 6f6e 203d     if position =
-00026350: 3d20 504f 5349 5449 4f4e 535b 305d 3a0a  = POSITIONS[0]:.
-00026360: 2020 2020 2020 2020 2020 2020 636d 6420              cmd 
-00026370: 3d20 6627 6666 6d70 6567 202d 6920 227b  = f'ffmpeg -i "{
-00026380: 7669 6465 6f5f 7061 7468 7d22 202d 6920  video_path}" -i 
-00026390: 227b 7761 7465 726d 6172 6b5f 7061 7468  "{watermark_path
-000263a0: 7d22 202d 6669 6c74 6572 5f63 6f6d 706c  }" -filter_compl
-000263b0: 6578 2022 5b31 3a76 5d73 6361 6c65 3d69  ex "[1:v]scale=i
-000263c0: 772a 7b73 6361 6c65 7d3a 2d31 2c66 6f72  w*{scale}:-1,for
-000263d0: 6d61 743d 7267 6261 2c63 6f6c 6f72 6368  mat=rgba,colorch
-000263e0: 616e 6e65 6c6d 6978 6572 3d61 613d 7b6f  annelmixer=aa={o
-000263f0: 7061 6369 7479 7d5b 776d 5d3b 5b30 3a76  pacity}[wm];[0:v
-00026400: 5d5b 776d 5d6f 7665 726c 6179 3d30 3a30  ][wm]overlay=0:0
-00026410: 2220 227b 6f75 745f 7061 7468 7d22 202d  " "{out_path}" -
-00026420: 6c6f 676c 6576 656c 2065 7272 6f72 202d  loglevel error -
-00026430: 7374 6174 7320 2d68 6964 655f 6261 6e6e  stats -hide_bann
-00026440: 6572 202d 7927 0a20 2020 2020 2020 2065  er -y'.        e
-00026450: 6c69 6620 706f 7369 7469 6f6e 203d 3d20  lif position == 
-00026460: 504f 5349 5449 4f4e 535b 315d 3a0a 2020  POSITIONS[1]:.  
-00026470: 2020 2020 2020 2020 2020 636d 6420 3d20            cmd = 
-00026480: 6627 6666 6d70 6567 202d 6920 227b 7669  f'ffmpeg -i "{vi
-00026490: 6465 6f5f 7061 7468 7d22 202d 6920 227b  deo_path}" -i "{
-000264a0: 7761 7465 726d 6172 6b5f 7061 7468 7d22  watermark_path}"
-000264b0: 202d 6669 6c74 6572 5f63 6f6d 706c 6578   -filter_complex
-000264c0: 2022 5b31 3a76 5d73 6361 6c65 3d69 772a   "[1:v]scale=iw*
-000264d0: 7b73 6361 6c65 7d3a 2d31 2c66 6f72 6d61  {scale}:-1,forma
-000264e0: 743d 7267 6261 2c63 6f6c 6f72 6368 616e  t=rgba,colorchan
-000264f0: 6e65 6c6d 6978 6572 3d61 613d 7b6f 7061  nelmixer=aa={opa
-00026500: 6369 7479 7d5b 776d 5d3b 5b30 3a76 5d5b  city}[wm];[0:v][
-00026510: 776d 5d6f 7665 726c 6179 3d57 2d77 3a48  wm]overlay=W-w:H
-00026520: 2d68 2220 227b 6f75 745f 7061 7468 7d22  -h" "{out_path}"
-00026530: 202d 6c6f 676c 6576 656c 2065 7272 6f72   -loglevel error
-00026540: 202d 7374 6174 7320 2d68 6964 655f 6261   -stats -hide_ba
-00026550: 6e6e 6572 202d 7927 0a20 2020 2020 2020  nner -y'.       
-00026560: 2065 6c69 6620 706f 7369 7469 6f6e 203d   elif position =
-00026570: 3d20 504f 5349 5449 4f4e 535b 325d 3a0a  = POSITIONS[2]:.
-00026580: 2020 2020 2020 2020 2020 2020 636d 6420              cmd 
-00026590: 3d20 6627 6666 6d70 6567 202d 6920 227b  = f'ffmpeg -i "{
-000265a0: 7669 6465 6f5f 7061 7468 7d22 202d 6920  video_path}" -i 
-000265b0: 227b 7761 7465 726d 6172 6b5f 7061 7468  "{watermark_path
-000265c0: 7d22 202d 6669 6c74 6572 5f63 6f6d 706c  }" -filter_compl
-000265d0: 6578 2022 5b31 3a76 5d73 6361 6c65 3d69  ex "[1:v]scale=i
-000265e0: 772a 7b73 6361 6c65 7d3a 2d31 2c66 6f72  w*{scale}:-1,for
-000265f0: 6d61 743d 7267 6261 2c63 6f6c 6f72 6368  mat=rgba,colorch
-00026600: 616e 6e65 6c6d 6978 6572 3d61 613d 7b6f  annelmixer=aa={o
-00026610: 7061 6369 7479 7d5b 776d 5d3b 5b30 3a76  pacity}[wm];[0:v
-00026620: 5d5b 776d 5d6f 7665 726c 6179 3d57 2d77  ][wm]overlay=W-w
-00026630: 2d30 3a30 2220 227b 6f75 745f 7061 7468  -0:0" "{out_path
-00026640: 7d22 202d 6c6f 676c 6576 656c 2065 7272  }" -loglevel err
-00026650: 6f72 202d 7374 6174 7320 2d68 6964 655f  or -stats -hide_
-00026660: 6261 6e6e 6572 202d 7927 0a20 2020 2020  banner -y'.     
-00026670: 2020 2065 6c69 6620 706f 7369 7469 6f6e     elif position
-00026680: 203d 3d20 504f 5349 5449 4f4e 535b 335d   == POSITIONS[3]
-00026690: 3a0a 2020 2020 2020 2020 2020 2020 636d  :.            cm
-000266a0: 6420 3d20 6627 6666 6d70 6567 202d 6920  d = f'ffmpeg -i 
-000266b0: 227b 7669 6465 6f5f 7061 7468 7d22 202d  "{video_path}" -
-000266c0: 6920 227b 7761 7465 726d 6172 6b5f 7061  i "{watermark_pa
-000266d0: 7468 7d22 202d 6669 6c74 6572 5f63 6f6d  th}" -filter_com
-000266e0: 706c 6578 2022 5b31 3a76 5d73 6361 6c65  plex "[1:v]scale
-000266f0: 3d69 772a 7b73 6361 6c65 7d3a 2d31 2c66  =iw*{scale}:-1,f
-00026700: 6f72 6d61 743d 7267 6261 2c63 6f6c 6f72  ormat=rgba,color
-00026710: 6368 616e 6e65 6c6d 6978 6572 3d61 613d  channelmixer=aa=
-00026720: 7b6f 7061 6369 7479 7d5b 776d 5d3b 5b30  {opacity}[wm];[0
-00026730: 3a76 5d5b 776d 5d6f 7665 726c 6179 3d30  :v][wm]overlay=0
-00026740: 3a48 2d68 2d30 2220 227b 6f75 745f 7061  :H-h-0" "{out_pa
-00026750: 7468 7d22 202d 6c6f 676c 6576 656c 2065  th}" -loglevel e
-00026760: 7272 6f72 202d 7374 6174 7320 2d68 6964  rror -stats -hid
-00026770: 655f 6261 6e6e 6572 202d 7927 0a20 2020  e_banner -y'.   
-00026780: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00026790: 2020 2020 2020 2063 6d64 203d 2066 2766         cmd = f'f
-000267a0: 666d 7065 6720 2d69 2022 7b76 6964 656f  fmpeg -i "{video
-000267b0: 5f70 6174 687d 2220 2d69 2022 7b77 6174  _path}" -i "{wat
-000267c0: 6572 6d61 726b 5f70 6174 687d 2220 2d66  ermark_path}" -f
-000267d0: 696c 7465 725f 636f 6d70 6c65 7820 225b  ilter_complex "[
-000267e0: 313a 765d 7363 616c 653d 6977 2a7b 7363  1:v]scale=iw*{sc
-000267f0: 616c 657d 3a2d 312c 666f 726d 6174 3d72  ale}:-1,format=r
-00026800: 6762 612c 636f 6c6f 7263 6861 6e6e 656c  gba,colorchannel
-00026810: 6d69 7865 723d 6161 3d7b 6f70 6163 6974  mixer=aa={opacit
-00026820: 797d 5b77 6d5d 3b5b 303a 765d 5b77 6d5d  y}[wm];[0:v][wm]
-00026830: 6f76 6572 6c61 793d 2857 2d77 292f 323a  overlay=(W-w)/2:
-00026840: 2848 2d68 292f 3222 2022 7b6f 7574 5f70  (H-h)/2" "{out_p
-00026850: 6174 687d 2220 2d6c 6f67 6c65 7665 6c20  ath}" -loglevel 
-00026860: 6572 726f 7220 2d73 7461 7473 202d 6869  error -stats -hi
-00026870: 6465 5f62 616e 6e65 7220 2d79 270a 2020  de_banner -y'.  
-00026880: 2020 2020 2020 7375 6270 726f 6365 7373        subprocess
-00026890: 2e63 616c 6c28 636d 642c 2073 6865 6c6c  .call(cmd, shell
-000268a0: 3d54 7275 652c 2073 7464 6f75 743d 7375  =True, stdout=su
-000268b0: 6270 726f 6365 7373 2e50 4950 4529 0a20  bprocess.PIPE). 
-000268c0: 2020 2074 696d 6572 2e73 746f 705f 7469     timer.stop_ti
-000268d0: 6d65 7228 290a 2020 2020 7374 646f 7574  mer().    stdout
-000268e0: 5f73 7563 6365 7373 286d 7367 3d66 277b  _success(msg=f'{
-000268f0: 6c65 6e28 7669 6465 6f5f 7061 7468 7329  len(video_paths)
-00026900: 7d20 7761 7465 726d 6172 6b65 6420 7669  } watermarked vi
-00026910: 6465 6f28 7329 2073 6176 6564 2069 6e20  deo(s) saved in 
-00026920: 7b73 6176 655f 6469 727d 272c 2065 6c61  {save_dir}', ela
-00026930: 7073 6564 5f74 696d 653d 7469 6d65 722e  psed_time=timer.
-00026940: 656c 6170 7365 645f 7469 6d65 5f73 7472  elapsed_time_str
-00026950: 290a 0a64 6566 2073 7570 6572 696d 706f  )..def superimpo
-00026960: 7365 5f6f 7665 726c 6179 5f76 6964 656f  se_overlay_video
-00026970: 2876 6964 656f 5f70 6174 683a 2055 6e69  (video_path: Uni
-00026980: 6f6e 5b73 7472 2c20 6f73 2e50 6174 684c  on[str, os.PathL
-00026990: 696b 655d 2c0a 2020 2020 2020 2020 2020  ike],.          
-000269a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000269b0: 2020 2020 6f76 6572 6c61 795f 7669 6465      overlay_vide
-000269c0: 6f5f 7061 7468 3a20 556e 696f 6e5b 7374  o_path: Union[st
-000269d0: 722c 206f 732e 5061 7468 4c69 6b65 5d2c  r, os.PathLike],
-000269e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000269f0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00026a00: 6f73 6974 696f 6e3a 204f 7074 696f 6e61  osition: Optiona
-00026a10: 6c5b 4c69 7465 7261 6c5b 2774 6f70 5f6c  l[Literal['top_l
-00026a20: 6566 7427 2c20 2762 6f74 746f 6d5f 7269  eft', 'bottom_ri
-00026a30: 6768 7427 2c20 2774 6f70 5f72 6967 6874  ght', 'top_right
-00026a40: 272c 2027 626f 7474 6f6d 5f6c 6566 7427  ', 'bottom_left'
-00026a50: 2c20 2763 656e 7465 7227 5d5d 203d 2027  , 'center']] = '
-00026a60: 746f 705f 6c65 6674 272c 0a20 2020 2020  top_left',.     
-00026a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026a80: 2020 2020 2020 2020 206f 7061 6369 7479           opacity
-00026a90: 3a20 4f70 7469 6f6e 616c 5b66 6c6f 6174  : Optional[float
-00026aa0: 5d20 3d20 302e 352c 0a20 2020 2020 2020  ] = 0.5,.       
-00026ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026ac0: 2020 2020 2020 2073 6361 6c65 3a20 4f70         scale: Op
-00026ad0: 7469 6f6e 616c 5b66 6c6f 6174 5d20 3d20  tional[float] = 
-00026ae0: 302e 3035 2c0a 2020 2020 2020 2020 2020  0.05,.          
-00026af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026b00: 2020 2020 7361 7665 5f64 6972 3a20 4f70      save_dir: Op
-00026b10: 7469 6f6e 616c 5b55 6e69 6f6e 5b73 7472  tional[Union[str
-00026b20: 2c20 6f73 2e50 6174 684c 696b 655d 5d20  , os.PathLike]] 
-00026b30: 3d20 4e6f 6e65 2920 2d3e 204e 6f6e 653a  = None) -> None:
-00026b40: 0a20 2020 2022 2222 0a20 2020 2049 6e73  .    """.    Ins
-00026b50: 6574 2061 2076 6964 656f 206f 7665 726c  et a video overl
-00026b60: 6179 206f 6e20 6120 7365 636f 6e64 2076  ay on a second v
-00026b70: 6964 656f 2077 6974 6820 7370 6563 6966  ideo with specif
-00026b80: 6965 6420 7369 7a65 2c20 6f70 6163 6974  ied size, opacit
-00026b90: 792c 2061 6e64 206c 6f63 6174 696f 6e2e  y, and location.
-00026ba0: 0a0a 2020 2020 2e2e 2076 6964 656f 3a3a  ..    .. video::
-00026bb0: 205f 7374 6174 6963 2f69 6d67 2f69 6e73   _static/img/ins
-00026bc0: 6574 5f6f 7665 726c 6179 5f76 6964 656f  et_overlay_video
-00026bd0: 2e77 6562 6d0a 2020 2020 2020 203a 7769  .webm.       :wi
-00026be0: 6474 683a 2037 3030 0a20 2020 2020 2020  dth: 700.       
-00026bf0: 3a6c 6f6f 703a 0a0a 2020 2020 3a70 6172  :loop:..    :par
-00026c00: 616d 2055 6e69 6f6e 5b73 7472 2c20 6f73  am Union[str, os
-00026c10: 2e50 6174 684c 696b 655d 2076 6964 656f  .PathLike] video
-00026c20: 5f70 6174 683a 2054 6865 2070 6174 6820  _path: The path 
-00026c30: 746f 2074 6865 2076 6964 656f 2066 696c  to the video fil
-00026c40: 652e 0a20 2020 203a 7061 7261 6d20 556e  e..    :param Un
-00026c50: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
-00026c60: 4c69 6b65 5d20 6f76 6572 6c61 795f 7669  Like] overlay_vi
-00026c70: 6465 6f5f 7061 7468 3a20 5468 6520 7061  deo_path: The pa
-00026c80: 7468 2074 6f20 7669 6465 6f20 746f 2062  th to video to b
-00026c90: 6520 696e 7365 7274 6564 2069 6e74 6f20  e inserted into 
-00026ca0: 7468 6520 6060 7669 6465 6f5f 7061 7468  the ``video_path
-00026cb0: 6060 2076 6964 656f 2e0a 2020 2020 3a70  `` video..    :p
-00026cc0: 6172 616d 204f 7074 696f 6e61 6c5b 7374  aram Optional[st
-00026cd0: 725d 2070 6f73 6974 696f 6e3a 2054 6865  r] position: The
-00026ce0: 2070 6f73 6974 696f 6e20 6f66 2074 6865   position of the
-00026cf0: 2069 6e73 6574 206f 7665 726c 6179 2076   inset overlay v
-00026d00: 6964 656f 2e20 4f70 7469 6f6e 733a 2027  ideo. Options: '
-00026d10: 746f 705f 6c65 6674 272c 2027 626f 7474  top_left', 'bott
-00026d20: 6f6d 5f72 6967 6874 272c 2027 746f 705f  om_right', 'top_
-00026d30: 7269 6768 7427 2c20 2762 6f74 746f 6d5f  right', 'bottom_
-00026d40: 6c65 6674 272c 2027 6365 6e74 6572 270a  left', 'center'.
-00026d50: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
-00026d60: 6e61 6c5b 666c 6f61 745d 206f 7061 6369  nal[float] opaci
-00026d70: 7479 3a20 5468 6520 6f70 6163 6974 7920  ty: The opacity 
-00026d80: 6f66 2074 6865 2069 6e73 6574 206f 7665  of the inset ove
-00026d90: 726c 6179 2076 6964 656f 2061 7320 6120  rlay video as a 
-00026da0: 7661 6c75 6520 6265 7477 6565 6e20 302d  value between 0-
-00026db0: 312e 302e 2031 2e30 206d 6561 6e69 6e67  1.0. 1.0 meaning
-00026dc0: 2074 6865 2073 616d 6520 6173 2069 6e70   the same as inp
-00026dd0: 7574 2069 6d61 6765 2e20 4465 6661 756c  ut image. Defaul
-00026de0: 743a 2030 2e35 2e0a 2020 2020 3a70 6172  t: 0.5..    :par
-00026df0: 616d 204f 7074 696f 6e61 6c5b 666c 6f61  am Optional[floa
-00026e00: 745d 2073 6361 6c65 3a20 5468 6520 7363  t] scale: The sc
-00026e10: 616c 6520 6f66 2074 6865 2069 6e73 6574  ale of the inset
-00026e20: 206f 7665 726c 6179 2076 6964 656f 2061   overlay video a
-00026e30: 7320 6120 7261 7469 6f20 6f73 2074 6865  s a ratio os the
-00026e40: 2069 6d61 6765 2073 697a 652e 2044 6566   image size. Def
-00026e50: 6175 6c74 3a20 302e 3035 2e0a 2020 2020  ault: 0.05..    
-00026e60: 3a70 6172 616d 204f 7074 696f 6e61 6c5b  :param Optional[
-00026e70: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
-00026e80: 7468 4c69 6b65 5d5d 2073 6176 655f 6469  thLike]] save_di
-00026e90: 723a 2054 6865 206c 6f63 6174 696f 6e20  r: The location 
-00026ea0: 7768 6572 6520 746f 2073 6176 6520 7468  where to save th
-00026eb0: 6520 6f75 7470 7574 2076 6964 656f 2e20  e output video. 
-00026ec0: 4966 204e 6f6e 652c 2074 6865 6e20 7361  If None, then sa
-00026ed0: 7665 7320 7468 6520 7669 6465 6f20 696e  ves the video in
-00026ee0: 2074 6865 2073 616d 6520 6469 7265 6374   the same direct
-00026ef0: 6f72 7920 6173 2074 6865 2066 6972 7374  ory as the first
-00026f00: 2076 6964 656f 2e0a 2020 2020 3a72 6574   video..    :ret
-00026f10: 7572 6e3a 204e 6f6e 650a 0a20 2020 203a  urn: None..    :
-00026f20: 6578 616d 706c 653a 0a20 2020 203e 3e3e  example:.    >>>
-00026f30: 2073 7570 6572 696d 706f 7365 5f6f 7665   superimpose_ove
-00026f40: 726c 6179 5f76 6964 656f 2876 6964 656f  rlay_video(video
-00026f50: 5f70 6174 683d 272f 5573 6572 732f 7369  _path='/Users/si
-00026f60: 6d6f 6e2f 4465 736b 746f 702f 656e 7673  mon/Desktop/envs
-00026f70: 2f73 696d 6261 2f74 726f 7562 6c65 7368  /simba/troublesh
-00026f80: 6f6f 7469 6e67 2f6d 756c 7469 5f61 6e69  ooting/multi_ani
-00026f90: 6d61 6c5f 646c 635f 7477 6f5f 6335 372f  mal_dlc_two_c57/
-00026fa0: 7072 6f6a 6563 745f 666f 6c64 6572 2f76  project_folder/v
-00026fb0: 6964 656f 732f 7761 7465 726d 6172 6b2f  ideos/watermark/
-00026fc0: 546f 6765 7468 6572 5f31 5f70 6f77 6572  Together_1_power
-00026fd0: 706f 696e 7472 6561 6479 2e6d 7034 272c  pointready.mp4',
-00026fe0: 206f 7665 726c 6179 5f76 6964 656f 5f70   overlay_video_p
-00026ff0: 6174 683d 272f 5573 6572 732f 7369 6d6f  ath='/Users/simo
-00027000: 6e2f 4465 736b 746f 702f 7370 6c61 7368  n/Desktop/splash
-00027010: 2e70 6e67 272c 2070 6f73 6974 696f 6e3d  .png', position=
-00027020: 2774 6f70 5f6c 6566 7427 2c20 6f70 6163  'top_left', opac
-00027030: 6974 793d 312e 302c 2073 6361 6c65 3d30  ity=1.0, scale=0
-00027040: 2e32 290a 2020 2020 2222 220a 0a20 2020  .2).    """..   
-00027050: 2074 696d 6572 203d 2053 696d 6261 5469   timer = SimbaTi
-00027060: 6d65 7228 7374 6172 743d 5472 7565 290a  mer(start=True).
-00027070: 2020 2020 504f 5349 5449 4f4e 5320 3d20      POSITIONS = 
-00027080: 5b27 746f 705f 6c65 6674 272c 2027 626f  ['top_left', 'bo
-00027090: 7474 6f6d 5f72 6967 6874 272c 2027 746f  ttom_right', 'to
-000270a0: 705f 7269 6768 7427 2c20 2762 6f74 746f  p_right', 'botto
-000270b0: 6d5f 6c65 6674 272c 2027 6365 6e74 6572  m_left', 'center
-000270c0: 275d 0a20 2020 2063 6865 636b 5f66 6c6f  '].    check_flo
-000270d0: 6174 286e 616d 653d 6627 7b73 7570 6572  at(name=f'{super
-000270e0: 696d 706f 7365 5f6f 7665 726c 6179 5f76  impose_overlay_v
-000270f0: 6964 656f 2e5f 5f6e 616d 655f 5f7d 206f  ideo.__name__} o
-00027100: 7061 6369 7479 272c 2076 616c 7565 3d6f  pacity', value=o
-00027110: 7061 6369 7479 2c20 6d69 6e5f 7661 6c75  pacity, min_valu
-00027120: 653d 302e 3030 312c 206d 6178 5f76 616c  e=0.001, max_val
-00027130: 7565 3d31 2e30 290a 2020 2020 6368 6563  ue=1.0).    chec
-00027140: 6b5f 666c 6f61 7428 6e61 6d65 3d66 277b  k_float(name=f'{
-00027150: 7375 7065 7269 6d70 6f73 655f 6f76 6572  superimpose_over
-00027160: 6c61 795f 7669 6465 6f2e 5f5f 6e61 6d65  lay_video.__name
-00027170: 5f5f 7d20 7363 616c 6527 2c20 7661 6c75  __} scale', valu
-00027180: 653d 7363 616c 652c 206d 696e 5f76 616c  e=scale, min_val
-00027190: 7565 3d30 2e30 3031 2c20 6d61 785f 7661  ue=0.001, max_va
-000271a0: 6c75 653d 302e 3939 3929 0a20 2020 2063  lue=0.999).    c
-000271b0: 6865 636b 5f73 7472 286e 616d 653d 6627  heck_str(name=f'
-000271c0: 7b73 7570 6572 696d 706f 7365 5f6f 7665  {superimpose_ove
-000271d0: 726c 6179 5f76 6964 656f 2e5f 5f6e 616d  rlay_video.__nam
-000271e0: 655f 5f7d 2070 6f73 6974 696f 6e27 2c20  e__} position', 
-000271f0: 7661 6c75 653d 706f 7369 7469 6f6e 2c20  value=position, 
-00027200: 6f70 7469 6f6e 733d 504f 5349 5449 4f4e  options=POSITION
-00027210: 5329 0a20 2020 2063 6865 636b 5f66 696c  S).    check_fil
-00027220: 655f 6578 6973 745f 616e 645f 7265 6164  e_exist_and_read
-00027230: 6162 6c65 2866 696c 655f 7061 7468 3d76  able(file_path=v
-00027240: 6964 656f 5f70 6174 6829 0a20 2020 2063  ideo_path).    c
-00027250: 6865 636b 5f66 696c 655f 6578 6973 745f  heck_file_exist_
-00027260: 616e 645f 7265 6164 6162 6c65 2866 696c  and_readable(fil
-00027270: 655f 7061 7468 3d6f 7665 726c 6179 5f76  e_path=overlay_v
-00027280: 6964 656f 5f70 6174 6829 0a0a 2020 2020  ideo_path)..    
-00027290: 6966 206f 732e 7061 7468 2e69 7366 696c  if os.path.isfil
-000272a0: 6528 7669 6465 6f5f 7061 7468 293a 0a20  e(video_path):. 
-000272b0: 2020 2020 2020 2076 6964 656f 5f70 6174         video_pat
-000272c0: 6873 203d 205b 7669 6465 6f5f 7061 7468  hs = [video_path
-000272d0: 5d0a 2020 2020 656c 6966 206f 732e 7061  ].    elif os.pa
-000272e0: 7468 2e69 7364 6972 2876 6964 656f 5f70  th.isdir(video_p
-000272f0: 6174 6829 3a0a 2020 2020 2020 2020 7669  ath):.        vi
-00027300: 6465 6f5f 7061 7468 7320 3d20 6c69 7374  deo_paths = list
-00027310: 2866 696e 645f 616c 6c5f 7669 6465 6f73  (find_all_videos
-00027320: 5f69 6e5f 6469 7265 6374 6f72 7928 6469  _in_directory(di
-00027330: 7265 6374 6f72 793d 7669 6465 6f5f 7061  rectory=video_pa
-00027340: 7468 2c20 6173 5f64 6963 743d 5472 7565  th, as_dict=True
-00027350: 2c20 7261 6973 655f 6572 726f 723d 5472  , raise_error=Tr
-00027360: 7565 292e 7661 6c75 6573 2829 290a 2020  ue).values()).  
-00027370: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00027380: 7261 6973 6520 496e 7661 6c69 6449 6e70  raise InvalidInp
-00027390: 7574 4572 726f 7228 6d73 673d 6627 7b76  utError(msg=f'{v
-000273a0: 6964 656f 5f70 6174 687d 2069 7320 6e6f  ideo_path} is no
-000273b0: 7420 6120 7661 6c69 6420 6669 6c65 2070  t a valid file p
-000273c0: 6174 6820 6f72 2061 2076 616c 6964 2064  ath or a valid d
-000273d0: 6972 6563 746f 7279 2070 6174 6827 2c0a  irectory path',.
-000273e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000273f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027400: 736f 7572 6365 3d73 7570 6572 696d 706f  source=superimpo
-00027410: 7365 5f6f 7665 726c 6179 5f76 6964 656f  se_overlay_video
-00027420: 2e5f 5f6e 616d 655f 5f29 0a20 2020 2069  .__name__).    i
-00027430: 6620 7361 7665 5f64 6972 2069 7320 6e6f  f save_dir is no
-00027440: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-00027450: 6368 6563 6b5f 6966 5f64 6972 5f65 7869  check_if_dir_exi
-00027460: 7374 7328 696e 5f64 6972 3d73 6176 655f  sts(in_dir=save_
-00027470: 6469 7229 0a20 2020 2065 6c73 653a 0a20  dir).    else:. 
-00027480: 2020 2020 2020 2073 6176 655f 6469 7220         save_dir 
-00027490: 3d20 6f73 2e70 6174 682e 6469 726e 616d  = os.path.dirnam
-000274a0: 6528 7669 6465 6f5f 7061 7468 735b 305d  e(video_paths[0]
-000274b0: 290a 2020 2020 666f 7220 6669 6c65 5f63  ).    for file_c
-000274c0: 6e74 2c20 7669 6465 6f5f 7061 7468 2069  nt, video_path i
-000274d0: 6e20 656e 756d 6572 6174 6528 7669 6465  n enumerate(vide
-000274e0: 6f5f 7061 7468 7329 3a0a 2020 2020 2020  o_paths):.      
-000274f0: 2020 5f2c 2076 6964 656f 5f6e 616d 652c    _, video_name,
-00027500: 2076 6964 656f 5f65 7874 203d 2067 6574   video_ext = get
-00027510: 5f66 6e5f 6578 7428 7669 6465 6f5f 7061  _fn_ext(video_pa
-00027520: 7468 290a 2020 2020 2020 2020 5f20 3d20  th).        _ = 
-00027530: 6765 745f 7669 6465 6f5f 6d65 7461 5f64  get_video_meta_d
-00027540: 6174 6128 7669 6465 6f5f 7061 7468 3d76  ata(video_path=v
-00027550: 6964 656f 5f70 6174 6829 0a20 2020 2020  ideo_path).     
-00027560: 2020 2070 7269 6e74 2866 2749 6e73 6572     print(f'Inser
-00027570: 7469 6e67 206f 7665 726c 6179 206f 6e74  ting overlay ont
-00027580: 6f20 7b76 6964 656f 5f6e 616d 657d 2028  o {video_name} (
-00027590: 5669 6465 6f20 7b66 696c 655f 636e 7420  Video {file_cnt 
-000275a0: 2b20 317d 2f7b 6c65 6e28 7669 6465 6f5f  + 1}/{len(video_
-000275b0: 7061 7468 7329 7d29 2e2e 2e27 290a 2020  paths)})...').  
-000275c0: 2020 2020 2020 6f75 745f 7061 7468 203d        out_path =
-000275d0: 206f 732e 7061 7468 2e6a 6f69 6e28 7361   os.path.join(sa
-000275e0: 7665 5f64 6972 2c20 6627 7b76 6964 656f  ve_dir, f'{video
-000275f0: 5f6e 616d 657d 5f69 6e73 6574 5f6f 7665  _name}_inset_ove
-00027600: 726c 6179 7b76 6964 656f 5f65 7874 7d27  rlay{video_ext}'
-00027610: 290a 2020 2020 2020 2020 6966 2070 6f73  ).        if pos
-00027620: 6974 696f 6e20 3d3d 2050 4f53 4954 494f  ition == POSITIO
-00027630: 4e53 5b30 5d3a 0a20 2020 2020 2020 2020  NS[0]:.         
-00027640: 2020 2063 6d64 203d 2066 2766 666d 7065     cmd = f'ffmpe
-00027650: 6720 2d69 2022 7b76 6964 656f 5f70 6174  g -i "{video_pat
-00027660: 687d 2220 2d69 2022 7b6f 7665 726c 6179  h}" -i "{overlay
-00027670: 5f76 6964 656f 5f70 6174 687d 2220 2d66  _video_path}" -f
-00027680: 696c 7465 725f 636f 6d70 6c65 7820 225b  ilter_complex "[
-00027690: 313a 765d 7363 616c 653d 6977 2a7b 7363  1:v]scale=iw*{sc
-000276a0: 616c 657d 3a2d 312c 666f 726d 6174 3d72  ale}:-1,format=r
-000276b0: 6762 612c 636f 6c6f 7263 6861 6e6e 656c  gba,colorchannel
-000276c0: 6d69 7865 723d 6161 3d7b 6f70 6163 6974  mixer=aa={opacit
-000276d0: 797d 5b69 6e73 6574 5d3b 5b30 3a76 5d5b  y}[inset];[0:v][
-000276e0: 696e 7365 745d 6f76 6572 6c61 793d 303a  inset]overlay=0:
-000276f0: 3022 2022 7b6f 7574 5f70 6174 687d 2220  0" "{out_path}" 
-00027700: 2d6c 6f67 6c65 7665 6c20 6572 726f 7220  -loglevel error 
-00027710: 2d73 7461 7473 202d 6869 6465 5f62 616e  -stats -hide_ban
-00027720: 6e65 7220 2d79 270a 2020 2020 2020 2020  ner -y'.        
-00027730: 656c 6966 2070 6f73 6974 696f 6e20 3d3d  elif position ==
-00027740: 2050 4f53 4954 494f 4e53 5b31 5d3a 0a20   POSITIONS[1]:. 
-00027750: 2020 2020 2020 2020 2020 2063 6d64 203d             cmd =
-00027760: 2066 2766 666d 7065 6720 2d69 2022 7b76   f'ffmpeg -i "{v
-00027770: 6964 656f 5f70 6174 687d 2220 2d69 2022  ideo_path}" -i "
-00027780: 7b6f 7665 726c 6179 5f76 6964 656f 5f70  {overlay_video_p
-00027790: 6174 687d 2220 2d66 696c 7465 725f 636f  ath}" -filter_co
-000277a0: 6d70 6c65 7820 225b 313a 765d 7363 616c  mplex "[1:v]scal
-000277b0: 653d 6977 2a7b 7363 616c 657d 3a2d 312c  e=iw*{scale}:-1,
-000277c0: 666f 726d 6174 3d72 6762 612c 636f 6c6f  format=rgba,colo
-000277d0: 7263 6861 6e6e 656c 6d69 7865 723d 6161  rchannelmixer=aa
-000277e0: 3d7b 6f70 6163 6974 797d 5b69 6e73 6574  ={opacity}[inset
-000277f0: 5d3b 5b30 3a76 5d5b 696e 7365 745d 6f76  ];[0:v][inset]ov
-00027800: 6572 6c61 793d 572d 773a 482d 6822 2022  erlay=W-w:H-h" "
-00027810: 7b6f 7574 5f70 6174 687d 2220 2d6c 6f67  {out_path}" -log
-00027820: 6c65 7665 6c20 6572 726f 7220 2d73 7461  level error -sta
-00027830: 7473 202d 6869 6465 5f62 616e 6e65 7220  ts -hide_banner 
-00027840: 2d79 270a 2020 2020 2020 2020 656c 6966  -y'.        elif
-00027850: 2070 6f73 6974 696f 6e20 3d3d 2050 4f53   position == POS
-00027860: 4954 494f 4e53 5b32 5d3a 0a20 2020 2020  ITIONS[2]:.     
-00027870: 2020 2020 2020 2063 6d64 203d 2066 2766         cmd = f'f
-00027880: 666d 7065 6720 2d69 2022 7b76 6964 656f  fmpeg -i "{video
-00027890: 5f70 6174 687d 2220 2d69 2022 7b6f 7665  _path}" -i "{ove
-000278a0: 726c 6179 5f76 6964 656f 5f70 6174 687d  rlay_video_path}
-000278b0: 2220 2d66 696c 7465 725f 636f 6d70 6c65  " -filter_comple
-000278c0: 7820 225b 313a 765d 7363 616c 653d 6977  x "[1:v]scale=iw
-000278d0: 2a7b 7363 616c 657d 3a2d 312c 666f 726d  *{scale}:-1,form
-000278e0: 6174 3d72 6762 612c 636f 6c6f 7263 6861  at=rgba,colorcha
-000278f0: 6e6e 656c 6d69 7865 723d 6161 3d7b 6f70  nnelmixer=aa={op
-00027900: 6163 6974 797d 5b69 6e73 6574 5d3b 5b30  acity}[inset];[0
-00027910: 3a76 5d5b 696e 7365 745d 6f76 6572 6c61  :v][inset]overla
-00027920: 793d 572d 773a 3022 2022 7b6f 7574 5f70  y=W-w:0" "{out_p
-00027930: 6174 687d 2220 2d6c 6f67 6c65 7665 6c20  ath}" -loglevel 
-00027940: 6572 726f 7220 2d73 7461 7473 202d 6869  error -stats -hi
-00027950: 6465 5f62 616e 6e65 7220 2d79 270a 2020  de_banner -y'.  
-00027960: 2020 2020 2020 656c 6966 2070 6f73 6974        elif posit
-00027970: 696f 6e20 3d3d 2050 4f53 4954 494f 4e53  ion == POSITIONS
-00027980: 5b33 5d3a 0a20 2020 2020 2020 2020 2020  [3]:.           
-00027990: 2063 6d64 203d 2066 2766 666d 7065 6720   cmd = f'ffmpeg 
-000279a0: 2d69 2022 7b76 6964 656f 5f70 6174 687d  -i "{video_path}
-000279b0: 2220 2d69 2022 7b6f 7665 726c 6179 5f76  " -i "{overlay_v
-000279c0: 6964 656f 5f70 6174 687d 2220 2d66 696c  ideo_path}" -fil
-000279d0: 7465 725f 636f 6d70 6c65 7820 225b 313a  ter_complex "[1:
-000279e0: 765d 7363 616c 653d 6977 2a7b 7363 616c  v]scale=iw*{scal
-000279f0: 657d 3a2d 312c 666f 726d 6174 3d72 6762  e}:-1,format=rgb
-00027a00: 612c 636f 6c6f 7263 6861 6e6e 656c 6d69  a,colorchannelmi
-00027a10: 7865 723d 6161 3d7b 6f70 6163 6974 797d  xer=aa={opacity}
-00027a20: 5b69 6e73 6574 5d3b 5b30 3a76 5d5b 696e  [inset];[0:v][in
-00027a30: 7365 745d 6f76 6572 6c61 793d 303a 482d  set]overlay=0:H-
-00027a40: 6822 2022 7b6f 7574 5f70 6174 687d 2220  h" "{out_path}" 
-00027a50: 2d6c 6f67 6c65 7665 6c20 6572 726f 7220  -loglevel error 
-00027a60: 2d73 7461 7473 202d 6869 6465 5f62 616e  -stats -hide_ban
-00027a70: 6e65 7220 2d79 270a 2020 2020 2020 2020  ner -y'.        
-00027a80: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00027a90: 2020 636d 6420 3d20 6627 6666 6d70 6567    cmd = f'ffmpeg
-00027aa0: 202d 6920 227b 7669 6465 6f5f 7061 7468   -i "{video_path
-00027ab0: 7d22 202d 6920 227b 6f76 6572 6c61 795f  }" -i "{overlay_
-00027ac0: 7669 6465 6f5f 7061 7468 7d22 202d 6669  video_path}" -fi
-00027ad0: 6c74 6572 5f63 6f6d 706c 6578 2022 5b31  lter_complex "[1
-00027ae0: 3a76 5d73 6361 6c65 3d69 772a 7b73 6361  :v]scale=iw*{sca
-00027af0: 6c65 7d3a 2d31 2c66 6f72 6d61 743d 7267  le}:-1,format=rg
-00027b00: 6261 2c63 6f6c 6f72 6368 616e 6e65 6c6d  ba,colorchannelm
-00027b10: 6978 6572 3d61 613d 7b6f 7061 6369 7479  ixer=aa={opacity
-00027b20: 7d5b 696e 7365 745d 3b5b 303a 765d 5b69  }[inset];[0:v][i
-00027b30: 6e73 6574 5d6f 7665 726c 6179 3d28 572d  nset]overlay=(W-
-00027b40: 7729 2f32 3a28 482d 6829 2f32 2220 227b  w)/2:(H-h)/2" "{
-00027b50: 6f75 745f 7061 7468 7d22 202d 6c6f 676c  out_path}" -logl
-00027b60: 6576 656c 2065 7272 6f72 202d 7374 6174  evel error -stat
-00027b70: 7320 2d68 6964 655f 6261 6e6e 6572 202d  s -hide_banner -
-00027b80: 7927 0a20 2020 2020 2020 2073 7562 7072  y'.        subpr
-00027b90: 6f63 6573 732e 6361 6c6c 2863 6d64 2c20  ocess.call(cmd, 
-00027ba0: 7368 656c 6c3d 5472 7565 2c20 7374 646f  shell=True, stdo
-00027bb0: 7574 3d73 7562 7072 6f63 6573 732e 5049  ut=subprocess.PI
-00027bc0: 5045 290a 2020 2020 7469 6d65 722e 7374  PE).    timer.st
-00027bd0: 6f70 5f74 696d 6572 2829 0a20 2020 2073  op_timer().    s
-00027be0: 7464 6f75 745f 7375 6363 6573 7328 6d73  tdout_success(ms
-00027bf0: 673d 6627 7b6c 656e 2876 6964 656f 5f70  g=f'{len(video_p
-00027c00: 6174 6873 297d 206f 7665 726c 6179 2076  aths)} overlay v
-00027c10: 6964 656f 2873 2920 7361 7665 6420 696e  ideo(s) saved in
-00027c20: 207b 7361 7665 5f64 6972 7d27 2c20 656c   {save_dir}', el
-00027c30: 6170 7365 645f 7469 6d65 3d74 696d 6572  apsed_time=timer
-00027c40: 2e65 6c61 7073 6564 5f74 696d 655f 7374  .elapsed_time_st
-00027c50: 7229 0a0a 6465 6620 726f 695f 626c 7572  r)..def roi_blur
-00027c60: 626f 7828 7669 6465 6f5f 7061 7468 3a20  box(video_path: 
-00027c70: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
-00027c80: 7468 4c69 6b65 5d2c 0a20 2020 2020 2020  thLike],.       
-00027c90: 2020 2020 2020 2020 2062 6c75 725f 6c65           blur_le
-00027ca0: 7665 6c3a 204f 7074 696f 6e61 6c5b 666c  vel: Optional[fl
-00027cb0: 6f61 745d 203d 2030 2e30 322c 0a20 2020  oat] = 0.02,.   
-00027cc0: 2020 2020 2020 2020 2020 2020 2069 6e76               inv
-00027cd0: 6572 743a 204f 7074 696f 6e61 6c5b 626f  ert: Optional[bo
-00027ce0: 6f6c 5d20 3d20 4661 6c73 652c 0a20 2020  ol] = False,.   
-00027cf0: 2020 2020 2020 2020 2020 2020 2073 6176               sav
-00027d00: 655f 7061 7468 3a20 4f70 7469 6f6e 616c  e_path: Optional
-00027d10: 5b55 6e69 6f6e 5b73 7472 2c20 6f73 2e50  [Union[str, os.P
-00027d20: 6174 684c 696b 655d 5d20 3d20 4e6f 6e65  athLike]] = None
-00027d30: 2920 2d3e 204e 6f6e 653a 0a0a 2020 2020  ) -> None:..    
-00027d40: 2222 220a 2020 2020 426c 7572 7320 6569  """.    Blurs ei
-00027d50: 7468 6572 2074 6865 2073 656c 6563 7465  ther the selecte
-00027d60: 6420 6f72 2075 6e73 656c 6563 7465 6420  d or unselected 
-00027d70: 706f 7274 696f 6e20 6f66 2061 2075 7365  portion of a use
-00027d80: 722d 7370 6563 6966 6965 6420 7265 6769  r-specified regi
-00027d90: 6f6e 2d6f 662d 696e 7465 7265 7374 2061  on-of-interest a
-00027da0: 6363 6f72 6469 6e67 2074 6f20 7468 6520  ccording to the 
-00027db0: 7061 7373 6564 2062 6c75 7220 6c65 7665  passed blur leve
-00027dc0: 6c2e 0a20 2020 2048 6967 6865 7220 626c  l..    Higher bl
-00027dd0: 7572 206c 6576 656c 7320 7072 6f64 7563  ur levels produc
-00027de0: 6573 206d 6f72 6520 6f70 6171 7565 2072  es more opaque r
-00027df0: 6567 696f 6e73 2e0a 0a20 2020 202e 2e20  egions...    .. 
-00027e00: 7669 6465 6f3a 3a20 5f73 7461 7469 632f  video:: _static/
-00027e10: 696d 672f 726f 695f 626c 7572 626f 782e  img/roi_blurbox.
-00027e20: 7765 626d 0a20 2020 2020 2020 3a6c 6f6f  webm.       :loo
-00027e30: 703a 0a0a 2020 2020 3a70 6172 616d 2055  p:..    :param U
-00027e40: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
-00027e50: 684c 696b 655d 2076 6964 656f 5f70 6174  hLike] video_pat
-00027e60: 683a 2054 6865 2070 6174 6820 746f 2074  h: The path to t
-00027e70: 6865 2076 6964 656f 206f 6e20 6469 736b  he video on disk
-00027e80: 0a20 2020 203a 7061 7261 6d20 4f70 7469  .    :param Opti
-00027e90: 6f6e 616c 5b66 6c6f 6174 5d20 626c 7572  onal[float] blur
-00027ea0: 5f6c 6576 656c 3a20 5468 6520 6c65 7665  _level: The leve
-00027eb0: 6c20 6f66 2074 6865 2062 6c75 7220 6173  l of the blur as
-00027ec0: 2061 2072 6174 696f 2030 2d31 2e30 2e0a   a ratio 0-1.0..
-00027ed0: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
-00027ee0: 6e61 6c5b 626f 6f6c 5d20 696e 7665 7274  nal[bool] invert
-00027ef0: 3a20 4966 2054 7275 652c 2062 6c75 7273  : If True, blurs
-00027f00: 2074 6865 2075 6e73 656c 6563 7465 6420   the unselected 
-00027f10: 7265 6769 6f6e 2e20 4966 2046 616c 7365  region. If False
-00027f20: 2c20 626c 7572 7320 7468 6520 7365 6c65  , blurs the sele
-00027f30: 6374 6564 2072 6567 696f 6e2e 0a20 2020  cted region..   
-00027f40: 203a 7061 7261 6d20 4f70 7469 6f6e 616c   :param Optional
-00027f50: 5b55 6e69 6f6e 5b73 7472 2c20 6f73 2e50  [Union[str, os.P
-00027f60: 6174 684c 696b 655d 5d20 7361 7665 5f70  athLike]] save_p
-00027f70: 6174 683a 2054 6865 206c 6f63 6174 696f  ath: The locatio
-00027f80: 6e20 7768 6572 6520 746f 2073 6176 6520  n where to save 
-00027f90: 7468 6520 626c 7572 7265 6420 7669 6465  the blurred vide
-00027fa0: 6f2e 2049 6620 4e6f 6e65 2c20 7468 656e  o. If None, then
-00027fb0: 2073 6176 6573 2074 6865 2062 6c75 7272   saves the blurr
-00027fc0: 6564 2076 6964 656f 2069 6e20 7468 6520  ed video in the 
-00027fd0: 7361 6d65 2064 6972 6563 746f 7279 2061  same directory a
-00027fe0: 7320 7468 6520 696e 7075 7420 7669 6465  s the input vide
-00027ff0: 6f20 7769 7468 2074 6865 2060 605f 626c  o with the ``_bl
-00028000: 7572 7265 6460 6020 7375 6666 6978 2e0a  urred`` suffix..
-00028010: 2020 2020 3a72 6574 7572 6e3a 204e 6f6e      :return: Non
-00028020: 650a 0a20 2020 203a 6578 616d 706c 653a  e..    :example:
-00028030: 0a20 2020 203e 3e3e 2072 6f69 5f62 6c75  .    >>> roi_blu
-00028040: 7262 6f78 2876 6964 656f 5f70 6174 683d  rbox(video_path=
-00028050: 272f 5573 6572 732f 7369 6d6f 6e2f 446f  '/Users/simon/Do
-00028060: 776e 6c6f 6164 732f 315f 4c48 5f63 6c69  wnloads/1_LH_cli
-00028070: 7070 6564 5f64 6f77 6e73 616d 706c 6564  pped_downsampled
-00028080: 2e6d 7034 272c 2062 6c75 725f 6c65 7665  .mp4', blur_leve
-00028090: 6c3d 302e 322c 2069 6e76 6572 743d 5472  l=0.2, invert=Tr
-000280a0: 7565 290a 2020 2020 2222 220a 0a20 2020  ue).    """..   
-000280b0: 2063 6865 636b 5f66 666d 7065 675f 6176   check_ffmpeg_av
-000280c0: 6169 6c61 626c 6528 7261 6973 655f 6572  ailable(raise_er
-000280d0: 726f 723d 5472 7565 290a 2020 2020 7469  ror=True).    ti
-000280e0: 6d65 7220 3d20 5369 6d62 6154 696d 6572  mer = SimbaTimer
-000280f0: 2873 7461 7274 3d54 7275 6529 0a20 2020  (start=True).   
-00028100: 2063 6865 636b 5f66 6c6f 6174 286e 616d   check_float(nam
-00028110: 653d 6627 7b72 6f69 5f62 6c75 7262 6f78  e=f'{roi_blurbox
-00028120: 2e5f 5f6e 616d 655f 5f7d 2062 6c75 725f  .__name__} blur_
-00028130: 6c65 7665 6c27 2c20 7661 6c75 653d 626c  level', value=bl
-00028140: 7572 5f6c 6576 656c 2c20 6d69 6e5f 7661  ur_level, min_va
-00028150: 6c75 653d 302e 3030 312c 206d 6178 5f76  lue=0.001, max_v
-00028160: 616c 7565 3d31 2e30 290a 2020 2020 6368  alue=1.0).    ch
-00028170: 6563 6b5f 6669 6c65 5f65 7869 7374 5f61  eck_file_exist_a
-00028180: 6e64 5f72 6561 6461 626c 6528 6669 6c65  nd_readable(file
-00028190: 5f70 6174 683d 7669 6465 6f5f 7061 7468  _path=video_path
-000281a0: 290a 2020 2020 6469 722c 2076 6964 656f  ).    dir, video
-000281b0: 5f6e 616d 652c 2065 7874 203d 2067 6574  _name, ext = get
-000281c0: 5f66 6e5f 6578 7428 7669 6465 6f5f 7061  _fn_ext(video_pa
-000281d0: 7468 290a 2020 2020 5f20 3d20 6765 745f  th).    _ = get_
-000281e0: 7669 6465 6f5f 6d65 7461 5f64 6174 6128  video_meta_data(
-000281f0: 7669 6465 6f5f 7061 7468 3d76 6964 656f  video_path=video
-00028200: 5f70 6174 6829 0a20 2020 2069 6620 7361  _path).    if sa
-00028210: 7665 5f70 6174 6820 6973 206e 6f74 204e  ve_path is not N
-00028220: 6f6e 653a 0a20 2020 2020 2020 2063 6865  one:.        che
-00028230: 636b 5f69 665f 6469 725f 6578 6973 7473  ck_if_dir_exists
-00028240: 2869 6e5f 6469 723d 6f73 2e70 6174 682e  (in_dir=os.path.
-00028250: 6469 726e 616d 6528 7361 7665 5f70 6174  dirname(save_pat
-00028260: 6829 2c20 736f 7572 6365 3d72 6f69 5f62  h), source=roi_b
-00028270: 6c75 7262 6f78 2e5f 5f6e 616d 655f 5f29  lurbox.__name__)
-00028280: 0a20 2020 2065 6c73 653a 0a20 2020 2020  .    else:.     
-00028290: 2020 2073 6176 655f 7061 7468 203d 206f     save_path = o
-000282a0: 732e 7061 7468 2e6a 6f69 6e28 6469 722c  s.path.join(dir,
-000282b0: 2066 277b 7669 6465 6f5f 6e61 6d65 7d5f   f'{video_name}_
-000282c0: 626c 7572 7265 647b 6578 747d 2729 0a20  blurred{ext}'). 
-000282d0: 2020 2072 6f69 5f73 656c 6563 746f 7220     roi_selector 
-000282e0: 3d20 524f 4953 656c 6563 746f 7228 7061  = ROISelector(pa
-000282f0: 7468 3d76 6964 656f 5f70 6174 6829 0a20  th=video_path). 
-00028300: 2020 2072 6f69 5f73 656c 6563 746f 722e     roi_selector.
-00028310: 7275 6e28 290a 2020 2020 772c 2068 203d  run().    w, h =
-00028320: 2072 6f69 5f73 656c 6563 746f 722e 7769   roi_selector.wi
-00028330: 6474 682c 2072 6f69 5f73 656c 6563 746f  dth, roi_selecto
-00028340: 722e 6865 6967 6874 0a20 2020 2074 6f70  r.height.    top
-00028350: 5f6c 6566 745f 782c 2074 6f70 5f6c 6566  _left_x, top_lef
-00028360: 745f 7920 3d20 726f 695f 7365 6c65 6374  t_y = roi_select
-00028370: 6f72 2e74 6f70 5f6c 6566 740a 2020 2020  or.top_left.    
-00028380: 6d61 785f 626c 7572 5f76 616c 7565 203d  max_blur_value =
-00028390: 2069 6e74 286d 696e 2877 2c20 6829 202f   int(min(w, h) /
-000283a0: 2032 2920 2f20 320a 2020 2020 626c 7572   2) / 2.    blur
-000283b0: 5f6c 6576 656c 203d 2069 6e74 286d 6178  _level = int(max
-000283c0: 5f62 6c75 725f 7661 6c75 6520 2a20 626c  _blur_value * bl
-000283d0: 7572 5f6c 6576 656c 290a 2020 2020 6966  ur_level).    if
-000283e0: 206e 6f74 2069 6e76 6572 743a 0a20 2020   not invert:.   
-000283f0: 2020 2020 2063 6d64 203d 2066 2766 666d       cmd = f'ffm
-00028400: 7065 6720 2d69 2022 7b76 6964 656f 5f70  peg -i "{video_p
-00028410: 6174 687d 2220 2d66 696c 7465 725f 636f  ath}" -filter_co
-00028420: 6d70 6c65 7820 225b 303a 765d 6372 6f70  mplex "[0:v]crop
-00028430: 3d7b 777d 3a7b 687d 3a7b 746f 705f 6c65  ={w}:{h}:{top_le
-00028440: 6674 5f78 7d3a 7b74 6f70 5f6c 6566 745f  ft_x}:{top_left_
-00028450: 797d 2c62 6f78 626c 7572 3d7b 696e 7428  y},boxblur={int(
-00028460: 626c 7572 5f6c 6576 656c 297d 3a31 305b  blur_level)}:10[
-00028470: 6667 5d3b 205b 303a 765d 5b66 675d 6f76  fg]; [0:v][fg]ov
-00028480: 6572 6c61 793d 7b74 6f70 5f6c 6566 745f  erlay={top_left_
-00028490: 787d 3a7b 746f 705f 6c65 6674 5f79 7d5b  x}:{top_left_y}[
-000284a0: 765d 2220 2d6d 6170 2022 5b76 5d22 2022  v]" -map "[v]" "
-000284b0: 7b73 6176 655f 7061 7468 7d22 202d 6c6f  {save_path}" -lo
-000284c0: 676c 6576 656c 2065 7272 6f72 202d 7374  glevel error -st
-000284d0: 6174 7320 2d68 6964 655f 6261 6e6e 6572  ats -hide_banner
-000284e0: 202d 7927 0a20 2020 2065 6c73 653a 0a20   -y'.    else:. 
-000284f0: 2020 2020 2020 2063 6d64 203d 2066 2766         cmd = f'f
-00028500: 666d 7065 6720 2d69 2022 7b76 6964 656f  fmpeg -i "{video
-00028510: 5f70 6174 687d 2220 2d66 696c 7465 725f  _path}" -filter_
-00028520: 636f 6d70 6c65 7820 225b 303a 765d 626f  complex "[0:v]bo
-00028530: 7862 6c75 723d 7b62 6c75 725f 6c65 7665  xblur={blur_leve
-00028540: 6c7d 5b62 675d 3b5b 303a 765d 6372 6f70  l}[bg];[0:v]crop
-00028550: 3d7b 777d 3a7b 687d 3a7b 746f 705f 6c65  ={w}:{h}:{top_le
-00028560: 6674 5f78 7d3a 7b74 6f70 5f6c 6566 745f  ft_x}:{top_left_
-00028570: 797d 5b66 675d 3b5b 6267 5d5b 6667 5d6f  y}[fg];[bg][fg]o
-00028580: 7665 726c 6179 3d7b 746f 705f 6c65 6674  verlay={top_left
-00028590: 5f78 7d3a 7b74 6f70 5f6c 6566 745f 797d  _x}:{top_left_y}
-000285a0: 2220 2d63 3a61 2063 6f70 7920 227b 7361  " -c:a copy "{sa
-000285b0: 7665 5f70 6174 687d 2220 2d6c 6f67 6c65  ve_path}" -logle
-000285c0: 7665 6c20 6572 726f 7220 2d73 7461 7473  vel error -stats
-000285d0: 202d 6869 6465 5f62 616e 6e65 7220 2d79   -hide_banner -y
-000285e0: 270a 2020 2020 7375 6270 726f 6365 7373  '.    subprocess
-000285f0: 2e63 616c 6c28 636d 642c 2073 6865 6c6c  .call(cmd, shell
-00028600: 3d54 7275 652c 2073 7464 6f75 743d 7375  =True, stdout=su
-00028610: 6270 726f 6365 7373 2e50 4950 4529 0a20  bprocess.PIPE). 
-00028620: 2020 2074 696d 6572 2e73 746f 705f 7469     timer.stop_ti
-00028630: 6d65 7228 290a 2020 2020 7374 646f 7574  mer().    stdout
-00028640: 5f73 7563 6365 7373 286d 7367 3d66 2742  _success(msg=f'B
-00028650: 6c75 7272 6564 207b 7669 6465 6f5f 6e61  lurred {video_na
-00028660: 6d65 7d20 7669 6465 6f20 7361 7665 6420  me} video saved 
-00028670: 696e 207b 7361 7665 5f70 6174 687d 272c  in {save_path}',
-00028680: 2065 6c61 7073 6564 5f74 696d 653d 7469   elapsed_time=ti
-00028690: 6d65 722e 656c 6170 7365 645f 7469 6d65  mer.elapsed_time
-000286a0: 5f73 7472 290a 0a0a 6465 6620 7375 7065  _str)...def supe
-000286b0: 7269 6d70 6f73 655f 656c 6170 7365 645f  rimpose_elapsed_
-000286c0: 7469 6d65 2876 6964 656f 5f70 6174 683a  time(video_path:
-000286d0: 2055 6e69 6f6e 5b73 7472 2c20 6f73 2e50   Union[str, os.P
-000286e0: 6174 684c 696b 655d 2c0a 2020 2020 2020  athLike],.      
-000286f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028700: 2020 2020 2020 2066 6f6e 743a 204f 7074         font: Opt
-00028710: 696f 6e61 6c5b 7374 725d 203d 2027 4172  ional[str] = 'Ar
-00028720: 6961 6c27 2c0a 2020 2020 2020 2020 2020  ial',.          
-00028730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028740: 2020 2066 6f6e 745f 7369 7a65 3a20 4f70     font_size: Op
-00028750: 7469 6f6e 616c 5b69 6e74 5d20 3d20 3330  tional[int] = 30
-00028760: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00028770: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-00028780: 6f6e 745f 636f 6c6f 723a 204f 7074 696f  ont_color: Optio
-00028790: 6e61 6c5b 7374 725d 203d 2027 7768 6974  nal[str] = 'whit
-000287a0: 6527 2c0a 2020 2020 2020 2020 2020 2020  e',.            
-000287b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000287c0: 2066 6f6e 745f 626f 7264 6572 5f63 6f6c   font_border_col
-000287d0: 6f72 3a20 4f70 7469 6f6e 616c 5b73 7472  or: Optional[str
-000287e0: 5d20 3d20 2762 6c61 636b 272c 0a20 2020  ] = 'black',.   
-000287f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028800: 2020 2020 2020 2020 2020 7469 6d65 5f66            time_f
-00028810: 6f72 6d61 743a 204f 7074 696f 6e61 6c5b  ormat: Optional[
-00028820: 4c69 7465 7261 6c5b 274d 4d3a 5353 272c  Literal['MM:SS',
-00028830: 2027 4848 3a4d 4d3a 5353 272c 2027 5353   'HH:MM:SS', 'SS
-00028840: 2e4d 4d4d 4d4d 4d27 2c20 2748 483a 4d4d  .MMMMMM', 'HH:MM
-00028850: 3a53 532e 4d4d 4d4d 275d 5d20 3d20 2748  :SS.MMMM']] = 'H
-00028860: 483a 4d4d 3a53 532e 4d4d 4d4d 272c 0a20  H:MM:SS.MMMM',. 
-00028870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028880: 2020 2020 2020 2020 2020 2020 666f 6e74              font
-00028890: 5f62 6f72 6465 725f 7769 6474 683a 204f  _border_width: O
-000288a0: 7074 696f 6e61 6c5b 696e 745d 203d 2032  ptional[int] = 2
-000288b0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000288c0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-000288d0: 6f73 6974 696f 6e3a 204f 7074 696f 6e61  osition: Optiona
-000288e0: 6c5b 4c69 7465 7261 6c5b 2774 6f70 5f6c  l[Literal['top_l
-000288f0: 6566 7427 2c20 2774 6f70 5f72 6967 6874  eft', 'top_right
-00028900: 272c 2027 626f 7474 6f6d 5f6c 6566 7427  ', 'bottom_left'
-00028910: 2c20 2762 6f74 746f 6d5f 7269 6768 7427  , 'bottom_right'
-00028920: 2c20 2774 6f70 5f6d 6964 646c 6527 2c20  , 'top_middle', 
-00028930: 2762 6f74 746f 6d5f 6d69 6464 6c65 275d  'bottom_middle']
-00028940: 5d20 3d20 2774 6f70 5f6c 6566 7427 2c0a  ] = 'top_left',.
-00028950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028960: 2020 2020 2020 2020 2020 2020 2073 6176               sav
-00028970: 655f 6469 723a 204f 7074 696f 6e61 6c5b  e_dir: Optional[
-00028980: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
-00028990: 7468 4c69 6b65 5d5d 203d 204e 6f6e 6529  thLike]] = None)
-000289a0: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2222   -> None:.    ""
-000289b0: 220a 2020 2020 5375 7065 7269 6d70 6f73  ".    Superimpos
-000289c0: 6573 2065 6c61 7073 6564 2074 696d 6520  es elapsed time 
-000289d0: 6f6e 2074 6865 2067 6976 656e 2076 6964  on the given vid
-000289e0: 656f 2066 696c 6528 7329 2061 6e64 2073  eo file(s) and s
-000289f0: 6176 6573 2074 6865 206d 6f64 6966 6965  aves the modifie
-00028a00: 6420 7669 6465 6f28 7329 2e0a 0a20 2020  d video(s)...   
-00028a10: 202e 2e20 7669 6465 6f3a 3a20 5f73 7461   .. video:: _sta
-00028a20: 7469 632f 696d 672f 7375 7065 7269 6d70  tic/img/superimp
-00028a30: 6f73 655f 656c 6170 7365 645f 7469 6d65  ose_elapsed_time
-00028a40: 2e77 6562 6d0a 2020 2020 2020 203a 7769  .webm.       :wi
-00028a50: 6474 683a 2039 3030 0a20 2020 2020 2020  dth: 900.       
-00028a60: 3a6c 6f6f 703a 0a0a 2020 2020 3a70 6172  :loop:..    :par
-00028a70: 616d 2055 6e69 6f6e 5b73 7472 2c20 6f73  am Union[str, os
-00028a80: 2e50 6174 684c 696b 655d 2076 6964 656f  .PathLike] video
-00028a90: 5f70 6174 683a 2050 6174 6820 746f 2074  _path: Path to t
-00028aa0: 6865 2069 6e70 7574 2076 6964 656f 2066  he input video f
-00028ab0: 696c 6520 6f72 2064 6972 6563 746f 7279  ile or directory
-00028ac0: 2063 6f6e 7461 696e 696e 6720 7669 6465   containing vide
-00028ad0: 6f20 6669 6c65 732e 0a20 2020 203a 7061  o files..    :pa
-00028ae0: 7261 6d20 4f70 7469 6f6e 616c 5b69 6e74  ram Optional[int
-00028af0: 5d20 666f 6e74 5f73 697a 653a 2046 6f6e  ] font_size: Fon
-00028b00: 7420 7369 7a65 2066 6f72 2074 6865 2065  t size for the e
-00028b10: 6c61 7073 6564 2074 696d 6520 7465 7874  lapsed time text
-00028b20: 2e20 4465 6661 756c 7420 3330 2e0a 2020  . Default 30..  
-00028b30: 2020 3a70 6172 616d 204f 7074 696f 6e61    :param Optiona
-00028b40: 6c5b 7374 725d 2066 6f6e 745f 636f 6c6f  l[str] font_colo
-00028b50: 723a 2020 466f 6e74 2063 6f6c 6f72 2066  r:  Font color f
-00028b60: 6f72 2074 6865 2065 6c61 7073 6564 2074  or the elapsed t
-00028b70: 696d 6520 7465 7874 2e20 4465 6661 756c  ime text. Defaul
-00028b80: 7420 7768 6974 650a 2020 2020 3a70 6172  t white.    :par
-00028b90: 616d 204f 7074 696f 6e61 6c5b 7374 725d  am Optional[str]
-00028ba0: 2066 6f6e 745f 626f 7264 6572 5f63 6f6c   font_border_col
-00028bb0: 6f72 3a20 466f 6e74 2062 6f72 6465 7220  or: Font border 
-00028bc0: 636f 6c6f 7220 666f 7220 7468 6520 656c  color for the el
-00028bd0: 6170 7365 6420 7469 6d65 2074 6578 742e  apsed time text.
-00028be0: 2044 6566 6175 6c74 2062 6c61 636b 2e0a   Default black..
-00028bf0: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
-00028c00: 6e61 6c5b 696e 745d 2066 6f6e 745f 626f  nal[int] font_bo
-00028c10: 7264 6572 5f77 6964 7468 3a20 466f 6e74  rder_width: Font
-00028c20: 2062 6f72 6465 7220 7769 6474 6820 666f   border width fo
-00028c30: 7220 7468 6520 656c 6170 7365 6420 7469  r the elapsed ti
-00028c40: 6d65 2074 6578 7420 696e 2070 6978 656c  me text in pixel
-00028c50: 732e 2044 6566 6175 6c74 2032 2e0a 2020  s. Default 2..  
-00028c60: 2020 3a70 6172 616d 204f 7074 696f 6e61    :param Optiona
-00028c70: 6c5b 4c69 7465 7261 6c5b 2774 6f70 5f6c  l[Literal['top_l
-00028c80: 6566 7427 2c20 2774 6f70 5f72 6967 6874  eft', 'top_right
-00028c90: 272c 2027 626f 7474 6f6d 5f6c 6566 7427  ', 'bottom_left'
-00028ca0: 2c20 2762 6f74 746f 6d5f 7269 6768 7427  , 'bottom_right'
-00028cb0: 2c20 276d 6964 646c 655f 746f 7027 2c20  , 'middle_top', 
-00028cc0: 276d 6964 646c 655f 626f 7474 6f6d 275d  'middle_bottom']
-00028cd0: 5d20 706f 7369 7469 6f6e 3a20 506f 7369  ] position: Posi
-00028ce0: 7469 6f6e 2077 6865 7265 2074 6865 2065  tion where the e
-00028cf0: 6c61 7073 6564 2074 696d 6520 7465 7874  lapsed time text
-00028d00: 2077 696c 6c20 6265 2073 7570 6572 696d   will be superim
-00028d10: 706f 7365 642e 2044 6566 6175 6c74 2060  posed. Default `
-00028d20: 6074 6f70 5f6c 6566 7460 602e 0a20 2020  `top_left``..   
-00028d30: 203a 7061 7261 6d20 4f70 7469 6f6e 616c   :param Optional
-00028d40: 5b55 6e69 6f6e 5b73 7472 2c20 6f73 2e50  [Union[str, os.P
-00028d50: 6174 684c 696b 655d 5d20 7361 7665 5f64  athLike]] save_d
-00028d60: 6972 3a20 4469 7265 6374 6f72 7920 7768  ir: Directory wh
-00028d70: 6572 6520 7468 6520 6d6f 6469 6669 6564  ere the modified
-00028d80: 2076 6964 656f 2873 2920 7769 6c6c 2062   video(s) will b
-00028d90: 6520 7361 7665 642e 2049 6620 6e6f 7420  e saved. If not 
-00028da0: 7072 6f76 6964 6564 2c20 7468 6520 6469  provided, the di
-00028db0: 7265 6374 6f72 7920 6f66 2074 6865 2069  rectory of the i
-00028dc0: 6e70 7574 2076 6964 656f 2873 2920 7769  nput video(s) wi
-00028dd0: 6c6c 2062 6520 7573 6564 2e0a 2020 2020  ll be used..    
-00028de0: 3a72 6574 7572 6e3a 204e 6f6e 650a 0a20  :return: None.. 
-00028df0: 2020 203a 6578 616d 706c 653a 0a20 2020     :example:.   
-00028e00: 203e 3e3e 2073 7570 6572 696d 706f 7365   >>> superimpose
-00028e10: 5f65 6c61 7073 6564 5f74 696d 6528 7669  _elapsed_time(vi
-00028e20: 6465 6f5f 7061 7468 3d27 2f55 7365 7273  deo_path='/Users
-00028e30: 2f73 696d 6f6e 2f44 6573 6b74 6f70 2f65  /simon/Desktop/e
-00028e40: 6e76 732f 7369 6d62 612f 7472 6f75 626c  nvs/simba/troubl
-00028e50: 6573 686f 6f74 696e 672f 6d6f 7573 655f  eshooting/mouse_
-00028e60: 6f70 656e 5f66 6965 6c64 2f70 726f 6a65  open_field/proje
-00028e70: 6374 5f66 6f6c 6465 722f 7669 6465 6f73  ct_folder/videos
-00028e80: 2f74 6573 745f 342f 312e 6d70 3427 2c20  /test_4/1.mp4', 
-00028e90: 706f 7369 7469 6f6e 3d27 6d69 6464 6c65  position='middle
-00028ea0: 5f74 6f70 272c 2066 6f6e 745f 636f 6c6f  _top', font_colo
-00028eb0: 723d 2762 6c61 636b 272c 2066 6f6e 745f  r='black', font_
-00028ec0: 626f 7264 6572 5f63 6f6c 6f72 3d27 7069  border_color='pi
-00028ed0: 6e6b 272c 2066 6f6e 745f 626f 7264 6572  nk', font_border
-00028ee0: 5f77 6964 7468 3d35 2c20 666f 6e74 5f73  _width=5, font_s
-00028ef0: 697a 653d 3330 290a 2020 2020 2222 220a  ize=30).    """.
-00028f00: 0a20 2020 2063 6865 636b 5f66 666d 7065  .    check_ffmpe
-00028f10: 675f 6176 6169 6c61 626c 6528 7261 6973  g_available(rais
-00028f20: 655f 6572 726f 723d 5472 7565 290a 2020  e_error=True).  
-00028f30: 2020 7469 6d65 7220 3d20 5369 6d62 6154    timer = SimbaT
-00028f40: 696d 6572 2873 7461 7274 3d54 7275 6529  imer(start=True)
-00028f50: 0a20 2020 2050 4f53 4954 494f 4e53 203d  .    POSITIONS =
-00028f60: 205b 2774 6f70 5f6c 6566 7427 2c20 2774   ['top_left', 't
-00028f70: 6f70 5f72 6967 6874 272c 2027 626f 7474  op_right', 'bott
-00028f80: 6f6d 5f6c 6566 7427 2c20 2762 6f74 746f  om_left', 'botto
-00028f90: 6d5f 7269 6768 7427 2c20 2774 6f70 5f6d  m_right', 'top_m
-00028fa0: 6964 646c 6527 2c20 2762 6f74 746f 6d5f  iddle', 'bottom_
-00028fb0: 6d69 6464 6c65 275d 0a20 2020 2063 6865  middle'].    che
-00028fc0: 636b 5f73 7472 286e 616d 653d 6627 7b73  ck_str(name=f'{s
-00028fd0: 7570 6572 696d 706f 7365 5f65 6c61 7073  uperimpose_elaps
-00028fe0: 6564 5f74 696d 652e 5f5f 6e61 6d65 5f5f  ed_time.__name__
-00028ff0: 7d20 706f 7369 7469 6f6e 272c 2076 616c  } position', val
-00029000: 7565 3d70 6f73 6974 696f 6e2c 206f 7074  ue=position, opt
-00029010: 696f 6e73 3d50 4f53 4954 494f 4e53 290a  ions=POSITIONS).
-00029020: 2020 2020 6368 6563 6b5f 7374 7228 6e61      check_str(na
-00029030: 6d65 3d66 277b 7375 7065 7269 6d70 6f73  me=f'{superimpos
-00029040: 655f 656c 6170 7365 645f 7469 6d65 2e5f  e_elapsed_time._
-00029050: 5f6e 616d 655f 5f7d 2074 696d 655f 666f  _name__} time_fo
-00029060: 726d 6174 272c 2076 616c 7565 3d74 696d  rmat', value=tim
-00029070: 655f 666f 726d 6174 2c20 6f70 7469 6f6e  e_format, option
-00029080: 733d 5b27 4d4d 3a53 5327 2c20 2748 483a  s=['MM:SS', 'HH:
-00029090: 4d4d 3a53 5327 2c20 2753 532e 4d4d 4d4d  MM:SS', 'SS.MMMM
-000290a0: 4d4d 272c 2027 4848 3a4d 4d3a 5353 2e4d  MM', 'HH:MM:SS.M
-000290b0: 4d4d 4d27 5d29 0a20 2020 2063 6865 636b  MMM']).    check
-000290c0: 5f69 6e74 286e 616d 653d 6627 7b73 7570  _int(name=f'{sup
-000290d0: 6572 696d 706f 7365 5f65 6c61 7073 6564  erimpose_elapsed
-000290e0: 5f74 696d 652e 5f5f 6e61 6d65 5f5f 7d20  _time.__name__} 
-000290f0: 666f 6e74 5f73 697a 6527 2c20 7661 6c75  font_size', valu
-00029100: 653d 666f 6e74 5f73 697a 652c 206d 696e  e=font_size, min
-00029110: 5f76 616c 7565 3d31 290a 2020 2020 6368  _value=1).    ch
-00029120: 6563 6b5f 696e 7428 6e61 6d65 3d66 277b  eck_int(name=f'{
-00029130: 7375 7065 7269 6d70 6f73 655f 656c 6170  superimpose_elap
-00029140: 7365 645f 7469 6d65 2e5f 5f6e 616d 655f  sed_time.__name_
-00029150: 5f7d 2066 6f6e 745f 626f 7264 6572 5f77  _} font_border_w
-00029160: 6964 7468 272c 2076 616c 7565 3d66 6f6e  idth', value=fon
-00029170: 745f 626f 7264 6572 5f77 6964 7468 2c20  t_border_width, 
-00029180: 6d69 6e5f 7661 6c75 653d 3129 0a20 2020  min_value=1).   
-00029190: 2066 6f6e 745f 636f 6c6f 7220 3d20 2727   font_color = ''
-000291a0: 2e6a 6f69 6e28 6669 6c74 6572 2873 7472  .join(filter(str
-000291b0: 2e69 7361 6c6e 756d 2c20 666f 6e74 5f63  .isalnum, font_c
-000291c0: 6f6c 6f72 2929 2e6c 6f77 6572 2829 0a20  olor)).lower(). 
-000291d0: 2020 2066 6f6e 745f 626f 7264 6572 5f63     font_border_c
-000291e0: 6f6c 6f72 203d 2027 272e 6a6f 696e 2866  olor = ''.join(f
-000291f0: 696c 7465 7228 7374 722e 6973 616c 6e75  ilter(str.isalnu
-00029200: 6d2c 2066 6f6e 745f 626f 7264 6572 5f63  m, font_border_c
-00029210: 6f6c 6f72 2929 2e6c 6f77 6572 2829 0a20  olor)).lower(). 
-00029220: 2020 2066 6f6e 745f 6469 6374 203d 2067     font_dict = g
-00029230: 6574 5f66 6f6e 7473 2829 0a20 2020 2063  et_fonts().    c
-00029240: 6865 636b 5f73 7472 286e 616d 653d 2766  heck_str(name='f
-00029250: 6f6e 7427 2c20 7661 6c75 653d 666f 6e74  ont', value=font
-00029260: 2c20 6f70 7469 6f6e 733d 7475 706c 6528  , options=tuple(
-00029270: 666f 6e74 5f64 6963 742e 6b65 7973 2829  font_dict.keys()
-00029280: 2929 0a20 2020 2066 6f6e 745f 7061 7468  )).    font_path
-00029290: 203d 2066 6f6e 745f 6469 6374 5b66 6f6e   = font_dict[fon
-000292a0: 745d 0a20 2020 2074 696d 655f 666f 726d  t].    time_form
-000292b0: 6174 5f6d 6170 203d 207b 274d 4d3a 5353  at_map = {'MM:SS
-000292c0: 273a 2027 257b 7074 735c 5c3a 6d6b 737d  ': '%{pts\\:mks}
-000292d0: 272c 0a20 2020 2020 2020 2020 2020 2020  ',.             
-000292e0: 2020 2020 2020 2020 2020 2748 483a 4d4d            'HH:MM
-000292f0: 3a53 5327 3a20 2725 7b70 7473 5c5c 3a68  :SS': '%{pts\\:h
-00029300: 6d73 7d27 2c0a 2020 2020 2020 2020 2020  ms}',.          
-00029310: 2020 2020 2020 2020 2020 2020 2027 5353               'SS
-00029320: 2e4d 4d4d 4d4d 4d27 3a20 2725 7b70 7473  .MMMMMM': '%{pts
-00029330: 7d27 2c0a 2020 2020 2020 2020 2020 2020  }',.            
-00029340: 2020 2020 2020 2020 2020 2027 4848 3a4d             'HH:M
-00029350: 4d3a 5353 2e4d 4d4d 4d27 3a20 2725 7b70  M:SS.MMMM': '%{p
-00029360: 7473 5c5c 3a68 6d73 7d2e 257b 6569 665c  ts\\:hms}.%{eif\
-00029370: 5c3a 6d6f 6428 6e5c 5c2c 3130 3030 295c  \:mod(n\\,1000)\
-00029380: 5c3a 645c 5c3a 347d 277d 0a20 2020 2070  \:d\\:4}'}.    p
-00029390: 6f73 6974 696f 6e5f 6d61 7020 3d20 7b20  osition_map = { 
-000293a0: 2774 6f70 5f6c 6566 7427 3a20 2778 3d35  'top_left': 'x=5
-000293b0: 3a79 3d35 272c 2027 746f 705f 7269 6768  :y=5', 'top_righ
-000293c0: 7427 3a20 2778 3d28 772d 7477 2d35 293a  t': 'x=(w-tw-5):
-000293d0: 793d 3527 2c20 2762 6f74 746f 6d5f 6c65  y=5', 'bottom_le
-000293e0: 6674 273a 2027 783d 353a 793d 2868 2d74  ft': 'x=5:y=(h-t
-000293f0: 682d 3529 272c 2027 626f 7474 6f6d 5f72  h-5)', 'bottom_r
-00029400: 6967 6874 273a 2027 783d 2877 2d74 772d  ight': 'x=(w-tw-
-00029410: 3529 3a79 3d28 682d 7468 2d35 2927 2c20  5):y=(h-th-5)', 
-00029420: 2774 6f70 5f6d 6964 646c 6527 3a20 2778  'top_middle': 'x
-00029430: 3d28 772d 7477 292f 323a 793d 3130 272c  =(w-tw)/2:y=10',
-00029440: 2027 626f 7474 6f6d 5f6d 6964 646c 6527   'bottom_middle'
-00029450: 3a20 2778 3d28 772d 7477 292f 323a 793d  : 'x=(w-tw)/2:y=
-00029460: 2868 2d74 682d 3130 2927 7d0a 2020 2020  (h-th-10)'}.    
-00029470: 7469 6d65 5f74 6578 7420 3d20 7469 6d65  time_text = time
-00029480: 5f66 6f72 6d61 745f 6d61 705b 7469 6d65  _format_map[time
-00029490: 5f66 6f72 6d61 745d 0a20 2020 2070 6f73  _format].    pos
-000294a0: 203d 2070 6f73 6974 696f 6e5f 6d61 705b   = position_map[
-000294b0: 706f 7369 7469 6f6e 5d0a 0a20 2020 2069  position]..    i
-000294c0: 6620 6f73 2e70 6174 682e 6973 6669 6c65  f os.path.isfile
-000294d0: 2876 6964 656f 5f70 6174 6829 3a0a 2020  (video_path):.  
-000294e0: 2020 2020 2020 7669 6465 6f5f 7061 7468        video_path
-000294f0: 7320 3d20 5b76 6964 656f 5f70 6174 685d  s = [video_path]
-00029500: 0a20 2020 2065 6c69 6620 6f73 2e70 6174  .    elif os.pat
-00029510: 682e 6973 6469 7228 7669 6465 6f5f 7061  h.isdir(video_pa
-00029520: 7468 293a 0a20 2020 2020 2020 2076 6964  th):.        vid
-00029530: 656f 5f70 6174 6873 203d 206c 6973 7428  eo_paths = list(
-00029540: 6669 6e64 5f61 6c6c 5f76 6964 656f 735f  find_all_videos_
-00029550: 696e 5f64 6972 6563 746f 7279 2864 6972  in_directory(dir
-00029560: 6563 746f 7279 3d76 6964 656f 5f70 6174  ectory=video_pat
-00029570: 682c 2061 735f 6469 6374 3d54 7275 652c  h, as_dict=True,
-00029580: 2072 6169 7365 5f65 7272 6f72 3d54 7275   raise_error=Tru
-00029590: 6529 2e76 616c 7565 7328 2929 0a20 2020  e).values()).   
-000295a0: 2065 6c73 653a 0a20 2020 2020 2020 2072   else:.        r
-000295b0: 6169 7365 2049 6e76 616c 6964 496e 7075  aise InvalidInpu
-000295c0: 7445 7272 6f72 286d 7367 3d66 277b 7669  tError(msg=f'{vi
-000295d0: 6465 6f5f 7061 7468 7d20 6973 206e 6f74  deo_path} is not
-000295e0: 2061 2076 616c 6964 2066 696c 6520 7061   a valid file pa
-000295f0: 7468 206f 7220 6120 7661 6c69 6420 6469  th or a valid di
-00029600: 7265 6374 6f72 7920 7061 7468 272c 2073  rectory path', s
-00029610: 6f75 7263 653d 7375 7065 7269 6d70 6f73  ource=superimpos
-00029620: 655f 656c 6170 7365 645f 7469 6d65 2e5f  e_elapsed_time._
-00029630: 5f6e 616d 655f 5f29 0a20 2020 2069 6620  _name__).    if 
-00029640: 7361 7665 5f64 6972 2069 7320 6e6f 7420  save_dir is not 
-00029650: 4e6f 6e65 3a0a 2020 2020 2020 2020 6368  None:.        ch
-00029660: 6563 6b5f 6966 5f64 6972 5f65 7869 7374  eck_if_dir_exist
-00029670: 7328 696e 5f64 6972 3d73 6176 655f 6469  s(in_dir=save_di
-00029680: 7229 0a20 2020 2065 6c73 653a 0a20 2020  r).    else:.   
-00029690: 2020 2020 2073 6176 655f 6469 7220 3d20       save_dir = 
-000296a0: 6f73 2e70 6174 682e 6469 726e 616d 6528  os.path.dirname(
-000296b0: 7669 6465 6f5f 7061 7468 735b 305d 290a  video_paths[0]).
-000296c0: 2020 2020 666f 7220 6669 6c65 5f63 6e74      for file_cnt
-000296d0: 2c20 7669 6465 6f5f 7061 7468 2069 6e20  , video_path in 
-000296e0: 656e 756d 6572 6174 6528 7669 6465 6f5f  enumerate(video_
-000296f0: 7061 7468 7329 3a0a 2020 2020 2020 2020  paths):.        
-00029700: 5f2c 2076 6964 656f 5f6e 616d 652c 2065  _, video_name, e
-00029710: 7874 203d 2067 6574 5f66 6e5f 6578 7428  xt = get_fn_ext(
-00029720: 7669 6465 6f5f 7061 7468 290a 2020 2020  video_path).    
-00029730: 2020 2020 7072 696e 7428 6627 5375 7065      print(f'Supe
-00029740: 7269 6d70 6f73 696e 6720 7469 6d65 207b  rimposing time {
-00029750: 7669 6465 6f5f 6e61 6d65 7d20 2856 6964  video_name} (Vid
-00029760: 656f 207b 6669 6c65 5f63 6e74 202b 2031  eo {file_cnt + 1
-00029770: 7d2f 7b6c 656e 2876 6964 656f 5f70 6174  }/{len(video_pat
-00029780: 6873 297d 292e 2e2e 2729 0a20 2020 2020  hs)})...').     
-00029790: 2020 2073 6176 655f 7061 7468 203d 206f     save_path = o
-000297a0: 732e 7061 7468 2e6a 6f69 6e28 7361 7665  s.path.join(save
-000297b0: 5f64 6972 2c20 6627 7b76 6964 656f 5f6e  _dir, f'{video_n
-000297c0: 616d 657d 5f74 696d 655f 7375 7065 7269  ame}_time_superi
-000297d0: 6d70 6f73 6564 7b65 7874 7d27 290a 2020  mposed{ext}').  
-000297e0: 2020 2020 2020 636d 6420 3d20 6622 6666        cmd = f"ff
-000297f0: 6d70 6567 202d 6920 277b 7669 6465 6f5f  mpeg -i '{video_
-00029800: 7061 7468 7d27 202d 7666 205c 2264 7261  path}' -vf \"dra
-00029810: 7774 6578 743d 666f 6e74 6669 6c65 3d7b  wtext=fontfile={
-00029820: 666f 6e74 5f70 6174 687d 3a74 6578 743d  font_path}:text=
-00029830: 277b 7469 6d65 5f74 6578 747d 273a 7b70  '{time_text}':{p
-00029840: 6f73 7d3a 666f 6e74 7369 7a65 3d7b 666f  os}:fontsize={fo
-00029850: 6e74 5f73 697a 657d 3a66 6f6e 7463 6f6c  nt_size}:fontcol
-00029860: 6f72 3d7b 666f 6e74 5f63 6f6c 6f72 7d3a  or={font_color}:
-00029870: 626f 7264 6572 773d 7b66 6f6e 745f 626f  borderw={font_bo
-00029880: 7264 6572 5f77 6964 7468 7d3a 626f 7264  rder_width}:bord
-00029890: 6572 636f 6c6f 723d 7b66 6f6e 745f 626f  ercolor={font_bo
-000298a0: 7264 6572 5f63 6f6c 6f72 7d5c 2220 2d63  rder_color}\" -c
-000298b0: 3a61 2063 6f70 7920 277b 7361 7665 5f70  :a copy '{save_p
-000298c0: 6174 687d 2720 2d6c 6f67 6c65 7665 6c20  ath}' -loglevel 
-000298d0: 6572 726f 7220 2d73 7461 7473 202d 6869  error -stats -hi
-000298e0: 6465 5f62 616e 6e65 7220 2d79 220a 2020  de_banner -y".  
-000298f0: 2020 2020 2020 7375 6270 726f 6365 7373        subprocess
-00029900: 2e63 616c 6c28 636d 642c 2073 6865 6c6c  .call(cmd, shell
-00029910: 3d54 7275 652c 2073 7464 6f75 743d 7375  =True, stdout=su
-00029920: 6270 726f 6365 7373 2e50 4950 4529 0a20  bprocess.PIPE). 
-00029930: 2020 2074 696d 6572 2e73 746f 705f 7469     timer.stop_ti
-00029940: 6d65 7228 290a 2020 2020 7374 646f 7574  mer().    stdout
-00029950: 5f73 7563 6365 7373 286d 7367 3d66 2753  _success(msg=f'S
-00029960: 7570 6572 2d69 6d70 6f73 6564 2074 696d  uper-imposed tim
-00029970: 6520 6f6e 207b 6c65 6e28 7669 6465 6f5f  e on {len(video_
-00029980: 7061 7468 7329 7d20 7669 6465 6f28 7329  paths)} video(s)
-00029990: 2c20 7361 7665 6420 696e 207b 7361 7665  , saved in {save
-000299a0: 5f64 6972 7d27 2c20 656c 6170 7365 645f  _dir}', elapsed_
-000299b0: 7469 6d65 3d74 696d 6572 2e65 6c61 7073  time=timer.elaps
-000299c0: 6564 5f74 696d 655f 7374 7229 0a0a 6465  ed_time_str)..de
-000299d0: 6620 7265 7665 7273 655f 7669 6465 6f73  f reverse_videos
-000299e0: 2870 6174 683a 2055 6e69 6f6e 5b73 7472  (path: Union[str
-000299f0: 2c20 6f73 2e50 6174 684c 696b 655d 2c0a  , os.PathLike],.
-00029a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029a10: 2020 2073 6176 655f 6469 723a 204f 7074     save_dir: Opt
-00029a20: 696f 6e61 6c5b 556e 696f 6e5b 7374 722c  ional[Union[str,
-00029a30: 206f 732e 5061 7468 4c69 6b65 5d5d 203d   os.PathLike]] =
-00029a40: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-00029a50: 2020 2020 2020 2020 2020 636f 6465 633a            codec:
-00029a60: 204c 6974 6572 616c 5b27 6c69 6278 3236   Literal['libx26
-00029a70: 3527 2c20 276c 6962 7832 3634 272c 2027  5', 'libx264', '
-00029a80: 7670 3927 5d20 3d20 276c 6962 7832 3635  vp9'] = 'libx265
-00029a90: 272c 0a20 2020 2020 2020 2020 2020 2020  ',.             
-00029aa0: 2020 2020 2020 7175 616c 6974 793a 204f        quality: O
-00029ab0: 7074 696f 6e61 6c5b 696e 745d 203d 2036  ptional[int] = 6
-00029ac0: 3029 202d 3e20 4e6f 6e65 3a0a 0a20 2020  0) -> None:..   
-00029ad0: 2022 2222 0a20 2020 2052 6576 6572 7365   """.    Reverse
-00029ae0: 7320 6f6e 6520 6f72 206d 6f72 6520 7669  s one or more vi
-00029af0: 6465 6f20 6669 6c65 7320 6c6f 6361 7465  deo files locate
-00029b00: 6420 6174 2074 6865 2073 7065 6369 6669  d at the specifi
-00029b10: 6564 2070 6174 6820 616e 6420 7361 7665  ed path and save
-00029b20: 7320 7468 6520 7265 7665 7273 6564 2076  s the reversed v
-00029b30: 6964 656f 7320 696e 2074 6865 2073 7065  ideos in the spe
-00029b40: 6369 6669 6564 0a20 2020 2064 6972 6563  cified.    direc
-00029b50: 746f 7279 2e0a 0a20 2020 202e 2e20 7669  tory...    .. vi
-00029b60: 6465 6f3a 3a20 5f73 7461 7469 632f 696d  deo:: _static/im
-00029b70: 672f 7265 7665 7273 655f 7669 6465 6f73  g/reverse_videos
-00029b80: 2e77 6562 6d0a 2020 2020 2020 203a 7769  .webm.       :wi
-00029b90: 6474 683a 2038 3030 0a20 2020 2020 2020  dth: 800.       
-00029ba0: 3a6c 6f6f 703a 0a0a 2020 2020 3a70 6172  :loop:..    :par
-00029bb0: 616d 2055 6e69 6f6e 5b73 7472 2c20 6f73  am Union[str, os
-00029bc0: 2e50 6174 684c 696b 655d 2070 6174 683a  .PathLike] path:
-00029bd0: 2050 6174 6820 746f 2074 6865 2076 6964   Path to the vid
-00029be0: 656f 2066 696c 6520 6f72 2064 6972 6563  eo file or direc
-00029bf0: 746f 7279 2063 6f6e 7461 696e 696e 6720  tory containing 
-00029c00: 7669 6465 6f20 6669 6c65 7320 746f 2062  video files to b
-00029c10: 6520 7265 7665 7273 6564 2e0a 2020 2020  e reversed..    
-00029c20: 3a70 6172 616d 204f 7074 696f 6e61 6c5b  :param Optional[
-00029c30: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
-00029c40: 7468 4c69 6b65 5d5d 2073 6176 655f 6469  thLike]] save_di
-00029c50: 723a 2044 6972 6563 746f 7279 2074 6f20  r: Directory to 
-00029c60: 7361 7665 2074 6865 2072 6576 6572 7365  save the reverse
-00029c70: 6420 7669 6465 6f73 2e20 4966 206e 6f74  d videos. If not
-00029c80: 2070 726f 7669 6465 642c 2072 6576 6572   provided, rever
-00029c90: 7365 6420 7669 6465 6f73 2077 696c 6c20  sed videos will 
-00029ca0: 6265 2073 6176 6564 2069 6e20 6120 7375  be saved in a su
-00029cb0: 6264 6972 6563 746f 7279 206e 616d 6564  bdirectory named
-00029cc0: 2027 7265 7665 7273 6564 5f3c 7469 6d65   'reversed_<time
-00029cd0: 7374 616d 703e 2720 696e 2074 6865 2073  stamp>' in the s
-00029ce0: 616d 6520 6469 7265 6374 6f72 7920 6173  ame directory as
-00029cf0: 2074 6865 2069 6e70 7574 2066 696c 6528   the input file(
-00029d00: 7329 2e0a 2020 2020 3a70 6172 616d 204f  s)..    :param O
-00029d10: 7074 696f 6e61 6c5b 696e 745d 2071 7561  ptional[int] qua
-00029d20: 6c69 7479 3a20 4f75 7470 7574 2076 6964  lity: Output vid
-00029d30: 656f 2071 7561 6c69 7479 2065 7870 7265  eo quality expre
-00029d40: 7373 6564 2061 7320 6120 7065 7263 656e  ssed as a percen
-00029d50: 7461 6765 2e20 4465 6661 756c 7420 6973  tage. Default is
-00029d60: 2036 302e 2056 616c 7565 7320 7261 6e67   60. Values rang
-00029d70: 6520 6672 6f6d 2031 2028 6c6f 7720 7175  e from 1 (low qu
-00029d80: 616c 6974 792c 2068 6967 6820 636f 6d70  ality, high comp
-00029d90: 7265 7373 696f 6e29 2074 6f20 3130 3020  ression) to 100 
-00029da0: 2868 6967 6820 7175 616c 6974 792c 206c  (high quality, l
-00029db0: 6f77 2063 6f6d 7072 6573 7369 6f6e 292e  ow compression).
-00029dc0: 0a20 2020 203a 7265 7475 726e 3a20 4e6f  .    :return: No
-00029dd0: 6e65 0a0a 2020 2020 3a65 7861 6d70 6c65  ne..    :example
-00029de0: 3a0a 2020 2020 3e3e 3e20 7265 7665 7273  :.    >>> revers
-00029df0: 655f 7669 6465 6f73 2870 6174 683d 272f  e_videos(path='/
-00029e00: 5573 6572 732f 7369 6d6f 6e2f 4465 736b  Users/simon/Desk
-00029e10: 746f 702f 656e 7673 2f73 696d 6261 2f74  top/envs/simba/t
-00029e20: 726f 7562 6c65 7368 6f6f 7469 6e67 2f6f  roubleshooting/o
-00029e30: 7065 6e5f 6669 656c 645f 6265 6c6f 772f  pen_field_below/
-00029e40: 7072 6f6a 6563 745f 666f 6c64 6572 2f76  project_folder/v
-00029e50: 6964 656f 732f 7265 7665 7273 652f 5468  ideos/reverse/Th
-00029e60: 6556 6964 656f 4e61 6d65 5f76 6964 656f  eVideoName_video
-00029e70: 5f6e 616d 655f 325f 6672 616d 655f 6e6f  _name_2_frame_no
-00029e80: 2e6d 7034 2729 0a20 2020 2022 2222 0a0a  .mp4').    """..
-00029e90: 2020 2020 7469 6d65 7220 3d20 5369 6d62      timer = Simb
-00029ea0: 6154 696d 6572 2873 7461 7274 3d54 7275  aTimer(start=Tru
-00029eb0: 6529 0a20 2020 2063 6865 636b 5f66 666d  e).    check_ffm
-00029ec0: 7065 675f 6176 6169 6c61 626c 6528 7261  peg_available(ra
-00029ed0: 6973 655f 6572 726f 723d 5472 7565 290a  ise_error=True).
-00029ee0: 2020 2020 6368 6563 6b5f 696e 7374 616e      check_instan
-00029ef0: 6365 2873 6f75 7263 653d 6627 7b72 6576  ce(source=f'{rev
-00029f00: 6572 7365 5f76 6964 656f 732e 5f5f 6e61  erse_videos.__na
-00029f10: 6d65 5f5f 7d20 7061 7468 272c 2069 6e73  me__} path', ins
-00029f20: 7461 6e63 653d 7061 7468 2c20 6163 6365  tance=path, acce
-00029f30: 7074 6564 5f74 7970 6573 3d28 7374 722c  pted_types=(str,
-00029f40: 2929 0a20 2020 2063 6865 636b 5f69 6e74  )).    check_int
-00029f50: 286e 616d 653d 6627 7b72 6576 6572 7365  (name=f'{reverse
-00029f60: 5f76 6964 656f 732e 5f5f 6e61 6d65 5f5f  _videos.__name__
-00029f70: 7d20 7175 616c 6974 7927 2c20 7661 6c75  } quality', valu
-00029f80: 653d 7175 616c 6974 7929 0a20 2020 2063  e=quality).    c
-00029f90: 6865 636b 5f73 7472 286e 616d 653d 2763  heck_str(name='c
-00029fa0: 6f64 6563 272c 2076 616c 7565 3d63 6f64  odec', value=cod
-00029fb0: 6563 2c20 6f70 7469 6f6e 733d 2827 6c69  ec, options=('li
-00029fc0: 6278 3236 3527 2c20 276c 6962 7832 3634  bx265', 'libx264
-00029fd0: 272c 2027 7670 3927 2929 0a20 2020 2064  ', 'vp9')).    d
-00029fe0: 6174 6574 696d 655f 203d 2064 6174 6574  atetime_ = datet
-00029ff0: 696d 652e 6e6f 7728 292e 7374 7266 7469  ime.now().strfti
-0002a000: 6d65 2822 2559 256d 2564 2548 254d 2553  me("%Y%m%d%H%M%S
-0002a010: 2229 0a20 2020 2063 7266 5f6c 6b20 3d20  ").    crf_lk = 
-0002a020: 7065 7263 656e 745f 746f 5f63 7266 5f6c  percent_to_crf_l
-0002a030: 6f6f 6b75 7028 290a 2020 2020 6372 6620  ookup().    crf 
-0002a040: 3d20 6372 665f 6c6b 5b73 7472 2871 7561  = crf_lk[str(qua
-0002a050: 6c69 7479 295d 0a20 2020 2069 6620 7361  lity)].    if sa
-0002a060: 7665 5f64 6972 2069 7320 6e6f 7420 4e6f  ve_dir is not No
-0002a070: 6e65 3a0a 2020 2020 2020 2020 6368 6563  ne:.        chec
-0002a080: 6b5f 6966 5f64 6972 5f65 7869 7374 7328  k_if_dir_exists(
-0002a090: 696e 5f64 6972 3d73 6176 655f 6469 722c  in_dir=save_dir,
-0002a0a0: 2073 6f75 7263 653d 7265 7665 7273 655f   source=reverse_
-0002a0b0: 7669 6465 6f73 2e5f 5f6e 616d 655f 5f29  videos.__name__)
-0002a0c0: 0a20 2020 2069 6620 6f73 2e70 6174 682e  .    if os.path.
-0002a0d0: 6973 6669 6c65 2870 6174 6829 3a0a 2020  isfile(path):.  
-0002a0e0: 2020 2020 2020 6669 6c65 5f70 6174 6873        file_paths
-0002a0f0: 203d 205b 7061 7468 5d0a 2020 2020 2020   = [path].      
-0002a100: 2020 6966 2073 6176 655f 6469 7220 6973    if save_dir is
-0002a110: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-0002a120: 2020 2073 6176 655f 6469 7220 3d20 6f73     save_dir = os
-0002a130: 2e70 6174 682e 6a6f 696e 286f 732e 7061  .path.join(os.pa
-0002a140: 7468 2e64 6972 6e61 6d65 2870 6174 6829  th.dirname(path)
-0002a150: 2c20 6627 7265 7665 7273 6564 5f7b 6461  , f'reversed_{da
-0002a160: 7465 7469 6d65 5f7d 2729 0a20 2020 2020  tetime_}').     
-0002a170: 2020 2020 2020 206f 732e 6d61 6b65 6469         os.makedi
-0002a180: 7273 2873 6176 655f 6469 7229 0a20 2020  rs(save_dir).   
-0002a190: 2065 6c69 6620 6f73 2e70 6174 682e 6973   elif os.path.is
-0002a1a0: 6469 7228 7061 7468 293a 0a20 2020 2020  dir(path):.     
-0002a1b0: 2020 2066 696c 655f 7061 7468 7320 3d20     file_paths = 
-0002a1c0: 6669 6e64 5f66 696c 6573 5f6f 665f 6669  find_files_of_fi
-0002a1d0: 6c65 7479 7065 735f 696e 5f64 6972 6563  letypes_in_direc
-0002a1e0: 746f 7279 2864 6972 6563 746f 7279 3d70  tory(directory=p
-0002a1f0: 6174 682c 2065 7874 656e 7369 6f6e 733d  ath, extensions=
-0002a200: 4f70 7469 6f6e 732e 414c 4c5f 5649 4445  Options.ALL_VIDE
-0002a210: 4f5f 464f 524d 4154 5f4f 5054 494f 4e53  O_FORMAT_OPTIONS
-0002a220: 2e76 616c 7565 2c20 7261 6973 655f 6572  .value, raise_er
-0002a230: 726f 723d 5472 7565 290a 2020 2020 2020  ror=True).      
-0002a240: 2020 6966 2073 6176 655f 6469 7220 6973    if save_dir is
-0002a250: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-0002a260: 2020 2073 6176 655f 6469 7220 3d20 6f73     save_dir = os
-0002a270: 2e70 6174 682e 6a6f 696e 2870 6174 682c  .path.join(path,
-0002a280: 2066 276d 7034 5f7b 6461 7465 7469 6d65   f'mp4_{datetime
-0002a290: 5f7d 2729 0a20 2020 2020 2020 2020 2020  _}').           
-0002a2a0: 206f 732e 6d61 6b65 6469 7273 2873 6176   os.makedirs(sav
-0002a2b0: 655f 6469 7229 0a20 2020 2065 6c73 653a  e_dir).    else:
-0002a2c0: 0a20 2020 2020 2020 2072 6169 7365 2049  .        raise I
-0002a2d0: 6e76 616c 6964 496e 7075 7445 7272 6f72  nvalidInputError
-0002a2e0: 286d 7367 3d66 2750 6174 6820 6973 206e  (msg=f'Path is n
-0002a2f0: 6f74 2061 2076 616c 6964 2066 696c 6520  ot a valid file 
-0002a300: 6f72 2064 6972 6563 746f 7279 2070 6174  or directory pat
-0002a310: 682e 272c 2073 6f75 7263 653d 7265 7665  h.', source=reve
-0002a320: 7273 655f 7669 6465 6f73 2e5f 5f6e 616d  rse_videos.__nam
-0002a330: 655f 5f29 0a20 2020 2066 6f72 2066 696c  e__).    for fil
-0002a340: 655f 636e 742c 2066 696c 655f 7061 7468  e_cnt, file_path
-0002a350: 2069 6e20 656e 756d 6572 6174 6528 6669   in enumerate(fi
-0002a360: 6c65 5f70 6174 6873 293a 0a20 2020 2020  le_paths):.     
-0002a370: 2020 205f 2c20 7669 6465 6f5f 6e61 6d65     _, video_name
-0002a380: 2c20 6578 7420 3d20 6765 745f 666e 5f65  , ext = get_fn_e
-0002a390: 7874 2866 696c 6570 6174 683d 6669 6c65  xt(filepath=file
-0002a3a0: 5f70 6174 6829 0a20 2020 2020 2020 2070  _path).        p
-0002a3b0: 7269 6e74 2866 2752 6576 6572 7369 6e67  rint(f'Reversing
-0002a3c0: 2076 6964 656f 207b 7669 6465 6f5f 6e61   video {video_na
-0002a3d0: 6d65 7d20 2856 6964 656f 207b 6669 6c65  me} (Video {file
-0002a3e0: 5f63 6e74 2b31 7d2f 7b6c 656e 2866 696c  _cnt+1}/{len(fil
-0002a3f0: 655f 7061 7468 7329 7d29 2e2e 2e27 290a  e_paths)})...').
-0002a400: 2020 2020 2020 2020 5f20 3d20 6765 745f          _ = get_
-0002a410: 7669 6465 6f5f 6d65 7461 5f64 6174 6128  video_meta_data(
-0002a420: 7669 6465 6f5f 7061 7468 3d66 696c 655f  video_path=file_
-0002a430: 7061 7468 290a 2020 2020 2020 2020 6f75  path).        ou
-0002a440: 745f 7061 7468 203d 206f 732e 7061 7468  t_path = os.path
-0002a450: 2e6a 6f69 6e28 7361 7665 5f64 6972 2c20  .join(save_dir, 
-0002a460: 6627 7b76 6964 656f 5f6e 616d 657d 7b65  f'{video_name}{e
-0002a470: 7874 7d27 290a 2020 2020 2020 2020 636d  xt}').        cm
-0002a480: 6420 3d20 6627 6666 6d70 6567 202d 6920  d = f'ffmpeg -i 
-0002a490: 227b 6669 6c65 5f70 6174 687d 2220 2d76  "{file_path}" -v
-0002a4a0: 6620 7265 7665 7273 6520 2d61 6620 6172  f reverse -af ar
-0002a4b0: 6576 6572 7365 202d 633a 7620 7b63 6f64  everse -c:v {cod
-0002a4c0: 6563 7d20 2d63 7266 207b 6372 667d 2022  ec} -crf {crf} "
-0002a4d0: 7b6f 7574 5f70 6174 687d 2220 2d6c 6f67  {out_path}" -log
-0002a4e0: 6c65 7665 6c20 6572 726f 7220 2d73 7461  level error -sta
-0002a4f0: 7473 202d 6869 6465 5f62 616e 6e65 7220  ts -hide_banner 
-0002a500: 2d79 270a 2020 2020 2020 2020 7375 6270  -y'.        subp
-0002a510: 726f 6365 7373 2e63 616c 6c28 636d 642c  rocess.call(cmd,
-0002a520: 2073 6865 6c6c 3d54 7275 652c 2073 7464   shell=True, std
-0002a530: 6f75 743d 7375 6270 726f 6365 7373 2e50  out=subprocess.P
-0002a540: 4950 4529 0a20 2020 2074 696d 6572 2e73  IPE).    timer.s
-0002a550: 746f 705f 7469 6d65 7228 290a 2020 2020  top_timer().    
-0002a560: 7374 646f 7574 5f73 7563 6365 7373 286d  stdout_success(m
-0002a570: 7367 3d66 227b 6c65 6e28 6669 6c65 5f70  sg=f"{len(file_p
-0002a580: 6174 6873 297d 2076 6964 656f 2873 2920  aths)} video(s) 
-0002a590: 7265 7665 7273 6564 2061 6e64 2073 6176  reversed and sav
-0002a5a0: 6564 2069 6e20 7b73 6176 655f 6469 727d  ed in {save_dir}
-0002a5b0: 2064 6972 6563 746f 7279 2e22 2c20 656c   directory.", el
-0002a5c0: 6170 7365 645f 7469 6d65 3d74 696d 6572  apsed_time=timer
-0002a5d0: 2e65 6c61 7073 6564 5f74 696d 655f 7374  .elapsed_time_st
-0002a5e0: 722c 2073 6f75 7263 653d 7265 7665 7273  r, source=revers
-0002a5f0: 655f 7669 6465 6f73 2e5f 5f6e 616d 655f  e_videos.__name_
-0002a600: 5f29 0a0a 6465 6620 7669 6465 6f5f 746f  _)..def video_to
-0002a610: 5f62 7728 7669 6465 6f5f 7061 7468 3a20  _bw(video_path: 
-0002a620: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
-0002a630: 7468 4c69 6b65 5d2c 0a20 2020 2020 2020  thLike],.       
-0002a640: 2020 2020 2020 2020 2074 6872 6573 686f           thresho
-0002a650: 6c64 3a20 4f70 7469 6f6e 616c 5b66 6c6f  ld: Optional[flo
-0002a660: 6174 5d20 3d20 302e 352c 0a20 2020 2020  at] = 0.5,.     
-0002a670: 2020 2020 2020 2020 2020 2073 6176 655f             save_
-0002a680: 6469 723a 204f 7074 696f 6e61 6c5b 556e  dir: Optional[Un
-0002a690: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
-0002a6a0: 4c69 6b65 5d5d 203d 204e 6f6e 6529 202d  Like]] = None) -
-0002a6b0: 3e20 4e6f 6e65 3a0a 2020 2020 2222 220a  > None:.    """.
-0002a6c0: 2020 2020 436f 6e76 6572 7420 7669 6465      Convert vide
-0002a6d0: 6f20 746f 2062 6c61 636b 2061 6e64 2077  o to black and w
-0002a6e0: 6869 7465 2075 7369 6e67 2070 6173 7365  hite using passe
-0002a6f0: 6420 7468 7265 7368 6f6c 642e 0a0a 2020  d threshold...  
-0002a700: 2020 2e2e 2076 6964 656f 3a3a 205f 7374    .. video:: _st
-0002a710: 6174 6963 2f69 6d67 2f76 6964 656f 5f74  atic/img/video_t
-0002a720: 6f5f 6277 2e77 6562 6d0a 2020 2020 2020  o_bw.webm.      
-0002a730: 203a 7769 6474 683a 2038 3030 0a20 2020   :width: 800.   
-0002a740: 2020 2020 3a61 7574 6f70 6c61 793a 0a20      :autoplay:. 
-0002a750: 2020 2020 2020 3a6c 6f6f 703a 0a0a 2020        :loop:..  
-0002a760: 2020 3a70 6172 616d 2055 6e69 6f6e 5b73    :param Union[s
-0002a770: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
-0002a780: 2076 6964 656f 5f70 6174 683a 2050 6174   video_path: Pat
-0002a790: 6820 746f 2074 6865 2076 6964 656f 0a20  h to the video. 
-0002a7a0: 2020 203a 7061 7261 6d20 4f70 7469 6f6e     :param Option
-0002a7b0: 616c 5b66 6c6f 6174 5d20 7468 7265 7368  al[float] thresh
-0002a7c0: 6f6c 643a 2056 616c 7565 2062 6574 7765  old: Value betwe
-0002a7d0: 656e 2030 2061 6e64 2031 2e20 4c6f 7765  en 0 and 1. Lowe
-0002a7e0: 7220 7661 6c75 6573 2067 6976 6573 206d  r values gives m
-0002a7f0: 6f72 6520 7768 6974 6520 616e 6420 7669  ore white and vi
-0002a800: 6365 2076 6572 7361 2e0a 2020 2020 3a72  ce versa..    :r
-0002a810: 6574 7572 6e3a 204e 6f6e 652e 0a0a 2020  eturn: None...  
-0002a820: 2020 3a65 7861 6d70 6c65 3a0a 2020 2020    :example:.    
-0002a830: 3e3e 3e20 7669 6465 6f5f 746f 5f62 7728  >>> video_to_bw(
-0002a840: 7669 6465 6f5f 7061 7468 3d27 2f55 7365  video_path='/Use
-0002a850: 7273 2f73 696d 6f6e 2f44 6f77 6e6c 6f61  rs/simon/Downloa
-0002a860: 6473 2f31 5f4c 485f 636c 6970 7065 645f  ds/1_LH_clipped_
-0002a870: 6372 6f70 7065 645f 6571 5f32 3032 3430  cropped_eq_20240
-0002a880: 3531 3531 3335 3932 362e 6d70 3427 2c20  515135926.mp4', 
-0002a890: 7468 7265 7368 6f6c 643d 302e 3032 290a  threshold=0.02).
-0002a8a0: 2020 2020 2222 220a 0a20 2020 2063 6865      """..    che
-0002a8b0: 636b 5f66 6c6f 6174 286e 616d 653d 6627  ck_float(name=f'
-0002a8c0: 7b76 6964 656f 5f74 6f5f 6277 2e5f 5f6e  {video_to_bw.__n
-0002a8d0: 616d 655f 5f7d 2074 6872 6573 686f 6c64  ame__} threshold
-0002a8e0: 272c 2076 616c 7565 3d74 6872 6573 686f  ', value=thresho
-0002a8f0: 6c64 2c20 6d69 6e5f 7661 6c75 653d 302c  ld, min_value=0,
-0002a900: 206d 6178 5f76 616c 7565 3d31 2e30 290a   max_value=1.0).
-0002a910: 2020 2020 6966 206f 732e 7061 7468 2e69      if os.path.i
-0002a920: 7366 696c 6528 7669 6465 6f5f 7061 7468  sfile(video_path
-0002a930: 293a 0a20 2020 2020 2020 2076 6964 656f  ):.        video
-0002a940: 5f70 6174 6873 203d 205b 7669 6465 6f5f  _paths = [video_
-0002a950: 7061 7468 5d0a 2020 2020 656c 6966 206f  path].    elif o
-0002a960: 732e 7061 7468 2e69 7364 6972 2876 6964  s.path.isdir(vid
-0002a970: 656f 5f70 6174 6829 3a0a 2020 2020 2020  eo_path):.      
-0002a980: 2020 7669 6465 6f5f 7061 7468 7320 3d20    video_paths = 
-0002a990: 6c69 7374 2866 696e 645f 616c 6c5f 7669  list(find_all_vi
-0002a9a0: 6465 6f73 5f69 6e5f 6469 7265 6374 6f72  deos_in_director
-0002a9b0: 7928 6469 7265 6374 6f72 793d 7669 6465  y(directory=vide
-0002a9c0: 6f5f 7061 7468 2c20 6173 5f64 6963 743d  o_path, as_dict=
-0002a9d0: 5472 7565 2c20 7261 6973 655f 6572 726f  True, raise_erro
-0002a9e0: 723d 5472 7565 292e 7661 6c75 6573 2829  r=True).values()
-0002a9f0: 290a 2020 2020 656c 7365 3a0a 2020 2020  ).    else:.    
-0002aa00: 2020 2020 7261 6973 6520 496e 7661 6c69      raise Invali
-0002aa10: 6449 6e70 7574 4572 726f 7228 6d73 673d  dInputError(msg=
-0002aa20: 6627 7b76 6964 656f 5f70 6174 687d 2069  f'{video_path} i
-0002aa30: 7320 6e6f 7420 6120 7661 6c69 6420 6669  s not a valid fi
-0002aa40: 6c65 2070 6174 6820 6f72 2061 2076 616c  le path or a val
-0002aa50: 6964 2064 6972 6563 746f 7279 2070 6174  id directory pat
-0002aa60: 6827 2c20 736f 7572 6365 3d76 6964 656f  h', source=video
-0002aa70: 5f74 6f5f 6277 2e5f 5f6e 616d 655f 5f29  _to_bw.__name__)
-0002aa80: 0a20 2020 2069 6620 7361 7665 5f64 6972  .    if save_dir
-0002aa90: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
-0002aaa0: 2020 2020 2020 6368 6563 6b5f 6966 5f64        check_if_d
-0002aab0: 6972 5f65 7869 7374 7328 696e 5f64 6972  ir_exists(in_dir
-0002aac0: 3d73 6176 655f 6469 7229 0a20 2020 2065  =save_dir).    e
-0002aad0: 6c73 653a 0a20 2020 2020 2020 2073 6176  lse:.        sav
-0002aae0: 655f 6469 7220 3d20 6f73 2e70 6174 682e  e_dir = os.path.
-0002aaf0: 6469 726e 616d 6528 7669 6465 6f5f 7061  dirname(video_pa
-0002ab00: 7468 735b 305d 290a 2020 2020 666f 7220  ths[0]).    for 
-0002ab10: 6669 6c65 5f63 6e74 2c20 7669 6465 6f5f  file_cnt, video_
-0002ab20: 7061 7468 2069 6e20 656e 756d 6572 6174  path in enumerat
-0002ab30: 6528 7669 6465 6f5f 7061 7468 7329 3a0a  e(video_paths):.
-0002ab40: 2020 2020 2020 2020 5f2c 2076 6964 656f          _, video
-0002ab50: 5f6e 616d 652c 2065 7874 203d 2067 6574  _name, ext = get
-0002ab60: 5f66 6e5f 6578 7428 7669 6465 6f5f 7061  _fn_ext(video_pa
-0002ab70: 7468 290a 2020 2020 7468 7265 7368 6f6c  th).    threshol
-0002ab80: 6420 3d20 696e 7428 3235 3520 2a20 7468  d = int(255 * th
-0002ab90: 7265 7368 6f6c 6429 0a20 2020 2063 6865  reshold).    che
-0002aba0: 636b 5f66 666d 7065 675f 6176 6169 6c61  ck_ffmpeg_availa
-0002abb0: 626c 6528 7261 6973 655f 6572 726f 723d  ble(raise_error=
-0002abc0: 5472 7565 290a 2020 2020 7469 6d65 7220  True).    timer 
-0002abd0: 3d20 5369 6d62 6154 696d 6572 2873 7461  = SimbaTimer(sta
-0002abe0: 7274 3d54 7275 6529 0a20 2020 2066 6f72  rt=True).    for
-0002abf0: 2066 696c 655f 636e 742c 2076 6964 656f   file_cnt, video
-0002ac00: 5f70 6174 6820 696e 2065 6e75 6d65 7261  _path in enumera
-0002ac10: 7465 2876 6964 656f 5f70 6174 6873 293a  te(video_paths):
-0002ac20: 0a20 2020 2020 2020 205f 2c20 7669 6465  .        _, vide
-0002ac30: 6f5f 6e61 6d65 2c20 6578 7420 3d20 6765  o_name, ext = ge
-0002ac40: 745f 666e 5f65 7874 2876 6964 656f 5f70  t_fn_ext(video_p
-0002ac50: 6174 6829 0a20 2020 2020 2020 2070 7269  ath).        pri
-0002ac60: 6e74 2866 2743 6f6e 7665 7274 696e 6720  nt(f'Converting 
-0002ac70: 7669 6465 6f20 7b76 6964 656f 5f6e 616d  video {video_nam
-0002ac80: 657d 2074 6f20 626c 6163 6b20 616e 6420  e} to black and 
-0002ac90: 7768 6974 6520 2856 6964 656f 207b 6669  white (Video {fi
-0002aca0: 6c65 5f63 6e74 202b 2031 7d2f 7b6c 656e  le_cnt + 1}/{len
-0002acb0: 2876 6964 656f 5f70 6174 6873 297d 292e  (video_paths)}).
-0002acc0: 2e2e 2729 0a20 2020 2020 2020 205f 203d  ..').        _ =
-0002acd0: 2067 6574 5f76 6964 656f 5f6d 6574 615f   get_video_meta_
-0002ace0: 6461 7461 2876 6964 656f 5f70 6174 683d  data(video_path=
-0002acf0: 7669 6465 6f5f 7061 7468 290a 2020 2020  video_path).    
-0002ad00: 2020 2020 5f2c 2076 6964 656f 5f6e 616d      _, video_nam
-0002ad10: 652c 2065 7874 203d 2067 6574 5f66 6e5f  e, ext = get_fn_
-0002ad20: 6578 7428 7669 6465 6f5f 7061 7468 290a  ext(video_path).
-0002ad30: 2020 2020 2020 2020 7361 7665 5f70 6174          save_pat
-0002ad40: 6820 3d20 6f73 2e70 6174 682e 6a6f 696e  h = os.path.join
-0002ad50: 2873 6176 655f 6469 722c 2066 277b 7669  (save_dir, f'{vi
-0002ad60: 6465 6f5f 6e61 6d65 7d5f 6277 7b65 7874  deo_name}_bw{ext
-0002ad70: 7d27 290a 2020 2020 2020 2020 636d 6420  }').        cmd 
-0002ad80: 3d20 6622 6666 6d70 6567 202d 6920 277b  = f"ffmpeg -i '{
-0002ad90: 7669 6465 6f5f 7061 7468 7d27 202d 7666  video_path}' -vf
-0002ada0: 205c 2266 6f72 6d61 743d 6772 6179 2c67   \"format=gray,g
-0002adb0: 6571 3d6c 756d 5f65 7870 723d 2769 6628  eq=lum_expr='if(
-0002adc0: 6c74 286c 756d 2858 2c59 292c 7b74 6872  lt(lum(X,Y),{thr
-0002add0: 6573 686f 6c64 7d29 2c30 2c32 3535 2927  eshold}),0,255)'
-0002ade0: 5c22 202d 7069 785f 666d 7420 7975 7634  \" -pix_fmt yuv4
-0002adf0: 3230 7020 277b 7361 7665 5f70 6174 687d  20p '{save_path}
-0002ae00: 2720 2d6c 6f67 6c65 7665 6c20 6572 726f  ' -loglevel erro
-0002ae10: 7220 2d73 7461 7473 202d 6869 6465 5f62  r -stats -hide_b
-0002ae20: 616e 6e65 7220 2d79 220a 2020 2020 2020  anner -y".      
-0002ae30: 2020 7375 6270 726f 6365 7373 2e63 616c    subprocess.cal
-0002ae40: 6c28 636d 642c 2073 6865 6c6c 3d54 7275  l(cmd, shell=Tru
-0002ae50: 652c 2073 7464 6f75 743d 7375 6270 726f  e, stdout=subpro
-0002ae60: 6365 7373 2e50 4950 4529 0a20 2020 2020  cess.PIPE).     
-0002ae70: 2020 2074 696d 6572 2e73 746f 705f 7469     timer.stop_ti
-0002ae80: 6d65 7228 290a 2020 2020 2020 2020 7374  mer().        st
-0002ae90: 646f 7574 5f73 7563 6365 7373 286d 7367  dout_success(msg
-0002aea0: 3d66 2756 6964 656f 207b 7669 6465 6f5f  =f'Video {video_
-0002aeb0: 6e61 6d65 7d20 636f 6e76 6572 7465 6420  name} converted 
-0002aec0: 746f 2062 6c61 636b 2061 6e64 2077 6869  to black and whi
-0002aed0: 7465 2e27 2c20 656c 6170 7365 645f 7469  te.', elapsed_ti
-0002aee0: 6d65 3d74 696d 6572 2e65 6c61 7073 6564  me=timer.elapsed
-0002aef0: 5f74 696d 655f 7374 7229 0a0a 2376 6964  _time_str)..#vid
-0002af00: 656f 5f74 6f5f 6277 2876 6964 656f 5f70  eo_to_bw(video_p
-0002af10: 6174 683d 272f 5573 6572 732f 7369 6d6f  ath='/Users/simo
-0002af20: 6e2f 4465 736b 746f 702f 5363 7265 656e  n/Desktop/Screen
-0002af30: 2052 6563 6f72 6469 6e67 2032 3032 342d   Recording 2024-
-0002af40: 3035 2d30 3820 6174 2031 302e 3537 2e35  05-08 at 10.57.5
-0002af50: 3920 414d 5f75 7073 616d 706c 6564 5f74  9 AM_upsampled_t
-0002af60: 696d 655f 7375 7065 7269 6d70 6f73 6564  ime_superimposed
-0002af70: 2e6d 6f76 272c 2074 6872 6573 686f 6c64  .mov', threshold
-0002af80: 3d30 2e35 290a 0a0a 6465 6620 6372 6561  =0.5)...def crea
-0002af90: 7465 5f61 7665 7261 6765 5f66 726d 2876  te_average_frm(v
-0002afa0: 6964 656f 5f70 6174 683a 2055 6e69 6f6e  ideo_path: Union
-0002afb0: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
-0002afc0: 655d 2c0a 2020 2020 2020 2020 2020 2020  e],.            
-0002afd0: 2020 2020 2020 2020 2020 2073 7461 7274             start
-0002afe0: 5f66 726d 3a20 4f70 7469 6f6e 616c 5b69  _frm: Optional[i
-0002aff0: 6e74 5d20 3d20 4e6f 6e65 2c0a 2020 2020  nt] = None,.    
-0002b000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b010: 2020 2065 6e64 5f66 726d 3a20 4f70 7469     end_frm: Opti
-0002b020: 6f6e 616c 5b69 6e74 5d20 3d20 4e6f 6e65  onal[int] = None
-0002b030: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0002b040: 2020 2020 2020 2020 2073 7461 7274 5f74           start_t
-0002b050: 696d 653a 204f 7074 696f 6e61 6c5b 7374  ime: Optional[st
-0002b060: 725d 203d 204e 6f6e 652c 0a20 2020 2020  r] = None,.     
-0002b070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b080: 2020 656e 645f 7469 6d65 3a20 4f70 7469    end_time: Opti
-0002b090: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
-0002b0a0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0002b0b0: 2020 2020 2020 2020 2073 6176 655f 7061           save_pa
-0002b0c0: 7468 3a20 4f70 7469 6f6e 616c 5b55 6e69  th: Optional[Uni
-0002b0d0: 6f6e 5b73 7472 2c20 6f73 2e50 6174 684c  on[str, os.PathL
-0002b0e0: 696b 655d 5d20 3d20 4e6f 6e65 2c0a 2020  ike]] = None,.  
-0002b0f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b100: 2020 2020 2076 6572 626f 7365 3a20 4f70       verbose: Op
-0002b110: 7469 6f6e 616c 5b62 6f6f 6c5d 203d 2046  tional[bool] = F
-0002b120: 616c 7365 2920 2d3e 2055 6e69 6f6e 5b4e  alse) -> Union[N
-0002b130: 6f6e 652c 206e 702e 6e64 6172 7261 795d  one, np.ndarray]
-0002b140: 3a0a 0a20 2020 2022 2222 0a20 2020 2043  :..    """.    C
-0002b150: 7265 6174 6520 616e 2069 6d61 6765 2072  reate an image r
-0002b160: 6570 7265 7365 6e74 696e 6720 7468 6520  epresenting the 
-0002b170: 6176 6572 6167 6520 6672 616d 6520 6f66  average frame of
-0002b180: 2061 2073 6567 6d65 6e74 2069 6e20 6120   a segment in a 
-0002b190: 7669 6465 6f20 6f72 2061 6e20 656e 7469  video or an enti
-0002b1a0: 7265 2076 6964 656f 2e0a 0a20 2020 202e  re video...    .
-0002b1b0: 2e20 7669 6465 6f3a 3a20 5f73 7461 7469  . video:: _stati
-0002b1c0: 632f 696d 672f 6372 6561 7465 5f61 7665  c/img/create_ave
-0002b1d0: 7261 6765 5f66 726d 5f31 2e77 6562 6d0a  rage_frm_1.webm.
-0002b1e0: 2020 2020 2020 203a 7769 6474 683a 2038         :width: 8
-0002b1f0: 3030 0a20 2020 2020 2020 3a61 7574 6f70  00.       :autop
-0002b200: 6c61 793a 0a20 2020 2020 2020 3a6c 6f6f  lay:.       :loo
-0002b210: 703a 0a0a 2020 2020 2e2e 2076 6964 656f  p:..    .. video
-0002b220: 3a3a 205f 7374 6174 6963 2f69 6d67 2f63  :: _static/img/c
-0002b230: 7265 6174 655f 6176 6572 6167 655f 6672  reate_average_fr
-0002b240: 6d5f 322e 7765 626d 0a20 2020 2020 2020  m_2.webm.       
-0002b250: 3a77 6964 7468 3a20 3830 300a 2020 2020  :width: 800.    
-0002b260: 2020 203a 6175 746f 706c 6179 3a0a 2020     :autoplay:.  
-0002b270: 2020 2020 203a 6c6f 6f70 3a0a 0a20 2020       :loop:..   
-0002b280: 202e 2e20 7669 6465 6f3a 3a20 5f73 7461   .. video:: _sta
-0002b290: 7469 632f 696d 672f 6372 6561 7465 5f61  tic/img/create_a
-0002b2a0: 7665 7261 6765 5f66 726d 5f33 2e77 6562  verage_frm_3.web
-0002b2b0: 6d0a 2020 2020 2020 203a 7769 6474 683a  m.       :width:
-0002b2c0: 2038 3030 0a20 2020 2020 2020 3a61 7574   800.       :aut
-0002b2d0: 6f70 6c61 793a 0a20 2020 2020 2020 3a6c  oplay:.       :l
-0002b2e0: 6f6f 703a 0a0a 2020 2020 2e2e 2076 6964  oop:..    .. vid
-0002b2f0: 656f 3a3a 205f 7374 6174 6963 2f69 6d67  eo:: _static/img
-0002b300: 2f63 7265 6174 655f 6176 6572 6167 655f  /create_average_
-0002b310: 6672 6d5f 342e 7765 626d 0a20 2020 2020  frm_4.webm.     
-0002b320: 2020 3a77 6964 7468 3a20 3830 300a 2020    :width: 800.  
-0002b330: 2020 2020 203a 6175 746f 706c 6179 3a0a       :autoplay:.
-0002b340: 2020 2020 2020 203a 6c6f 6f70 3a0a 0a20         :loop:.. 
-0002b350: 2020 202e 2e20 6e6f 7465 3a3a 0a20 2020     .. note::.   
-0002b360: 2020 2020 5573 6566 756c 2068 656c 7065      Useful helpe
-0002b370: 7220 666f 7220 652e 672e 2c20 7669 6465  r for e.g., vide
-0002b380: 6f20 6261 636b 6772 6f75 6e64 2073 7562  o background sub
-0002b390: 7472 6163 7469 6f6e 2060 6073 696d 6261  traction ``simba
-0002b3a0: 2e76 6964 656f 5f70 726f 6365 7373 6f72  .video_processor
-0002b3b0: 732e 7669 6465 6f5f 7072 6f63 6573 7369  s.video_processi
-0002b3c0: 6e67 2e76 6964 656f 5f62 675f 7375 6273  ng.video_bg_subs
-0002b3d0: 7472 6163 7469 6f6e 2829 6060 0a20 2020  traction()``.   
-0002b3e0: 2020 2020 4569 7468 6572 2070 6173 7320      Either pass 
-0002b3f0: 6060 7374 6172 745f 6672 6d60 6020 616e  ``start_frm`` an
-0002b400: 6420 6060 656e 645f 6672 6d60 6020 4f52  d ``end_frm`` OR
-0002b410: 2060 6073 7461 7274 5f74 696d 6560 6020   ``start_time`` 
-0002b420: 616e 6420 6060 656e 645f 7469 6d65 6060  and ``end_time``
-0002b430: 204f 5220 7061 7373 2061 6c6c 2066 6f75   OR pass all fou
-0002b440: 7220 6172 6775 6d65 6e74 7320 6173 204e  r arguments as N
-0002b450: 6f6e 652e 0a20 2020 2020 2020 4966 2061  one..       If a
-0002b460: 6c6c 2061 7265 204e 6f6e 652c 2074 6865  ll are None, the
-0002b470: 6e20 7468 6520 656e 7469 7265 2076 6964  n the entire vid
-0002b480: 656f 2077 696c 6c20 6265 2075 7365 6420  eo will be used 
-0002b490: 746f 2063 7265 6174 6520 7468 6520 6176  to create the av
-0002b4a0: 6572 6167 6520 6672 616d 652e 0a0a 2020  erage frame...  
-0002b4b0: 2020 3a70 6172 616d 2055 6e69 6f6e 5b73    :param Union[s
-0002b4c0: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
-0002b4d0: 2076 6964 656f 5f70 6174 683a 2054 6865   video_path: The
-0002b4e0: 2070 6174 6820 746f 2074 6865 2076 6964   path to the vid
-0002b4f0: 656f 2074 6f20 6372 6561 7465 2074 6865  eo to create the
-0002b500: 2061 7665 7261 6765 2066 7261 6d65 2066   average frame f
-0002b510: 726f 6d2e 2044 6566 6175 6c74 3a20 4e6f  rom. Default: No
-0002b520: 6e65 2e0a 2020 2020 3a70 6172 616d 204f  ne..    :param O
-0002b530: 7074 696f 6e61 6c5b 696e 745d 2073 7461  ptional[int] sta
-0002b540: 7274 5f66 726d 3a20 5468 6520 6669 7273  rt_frm: The firs
-0002b550: 7420 6672 616d 6520 696e 2074 6865 2073  t frame in the s
-0002b560: 6567 6d65 6e74 2074 6f20 6372 6561 7465  egment to create
-0002b570: 2074 6865 2061 7665 7261 6765 2066 7261   the average fra
-0002b580: 6d65 2066 726f 6d2e 2044 6566 6175 6c74  me from. Default
-0002b590: 3a20 4e6f 6e65 2e0a 2020 2020 3a70 6172  : None..    :par
-0002b5a0: 616d 204f 7074 696f 6e61 6c5b 696e 745d  am Optional[int]
-0002b5b0: 2065 6e64 5f66 726d 3a20 5468 6520 6c61   end_frm: The la
-0002b5c0: 7374 2066 7261 6d65 2069 6e20 7468 6520  st frame in the 
-0002b5d0: 7365 676d 656e 7420 746f 2063 7265 6174  segment to creat
-0002b5e0: 6520 7468 6520 6176 6572 6167 6520 6672  e the average fr
-0002b5f0: 616d 6520 6672 6f6d 2e20 4465 6661 756c  ame from. Defaul
-0002b600: 743a 204e 6f6e 652e 0a20 2020 203a 7061  t: None..    :pa
-0002b610: 7261 6d20 4f70 7469 6f6e 616c 5b73 7472  ram Optional[str
-0002b620: 5d20 7374 6172 745f 7469 6d65 3a20 5468  ] start_time: Th
-0002b630: 6520 7374 6172 7420 7469 6d65 7374 616d  e start timestam
-0002b640: 7020 696e 2060 4848 3a4d 4d3a 5353 6020  p in `HH:MM:SS` 
-0002b650: 666f 726d 6174 2069 6e20 7468 6520 7365  format in the se
-0002b660: 676d 656e 7420 746f 2063 7265 6174 6520  gment to create 
-0002b670: 7468 6520 6176 6572 6167 6520 6672 616d  the average fram
-0002b680: 6520 6672 6f6d 2e20 4465 6661 756c 743a  e from. Default:
-0002b690: 204e 6f6e 652e 0a20 2020 203a 7061 7261   None..    :para
-0002b6a0: 6d20 4f70 7469 6f6e 616c 5b73 7472 5d20  m Optional[str] 
-0002b6b0: 656e 645f 7469 6d65 3a20 5468 6520 656e  end_time: The en
-0002b6c0: 6420 7469 6d65 7374 616d 7020 696e 2060  d timestamp in `
-0002b6d0: 4848 3a4d 4d3a 5353 6020 666f 726d 6174  HH:MM:SS` format
-0002b6e0: 2069 6e20 7468 6520 7365 676d 656e 7420   in the segment 
-0002b6f0: 746f 2063 7265 6174 6520 7468 6520 6176  to create the av
-0002b700: 6572 6167 6520 6672 616d 6520 6672 6f6d  erage frame from
-0002b710: 2e20 4465 6661 756c 743a 204e 6f6e 652e  . Default: None.
-0002b720: 0a20 2020 203a 7061 7261 6d20 4f70 7469  .    :param Opti
-0002b730: 6f6e 616c 5b55 6e69 6f6e 5b73 7472 2c20  onal[Union[str, 
-0002b740: 6f73 2e50 6174 684c 696b 655d 5d20 7361  os.PathLike]] sa
-0002b750: 7665 5f70 6174 683a 2054 6865 2070 6174  ve_path: The pat
-0002b760: 6820 746f 2077 6865 7265 2074 6f20 7361  h to where to sa
-0002b770: 7665 2074 6865 2061 7665 7261 6765 2069  ve the average i
-0002b780: 6d61 6765 2e20 4966 204e 6f6e 652c 2074  mage. If None, t
-0002b790: 6865 6e20 7265 7475 726e 7320 7468 6520  hen returns the 
-0002b7a0: 6176 6572 6167 6520 696d 6167 6520 696e  average image in
-0002b7b0: 206e 702c 6e64 6172 7261 7920 666f 726d   np,ndarray form
-0002b7c0: 6174 2e20 4465 6661 756c 743a 204e 6f6e  at. Default: Non
-0002b7d0: 652e 0a20 2020 203a 7265 7475 726e 2055  e..    :return U
-0002b7e0: 6e69 6f6e 5b4e 6f6e 652c 206e 702e 6e64  nion[None, np.nd
-0002b7f0: 6172 7261 795d 3a20 5468 6520 6176 6572  array]: The aver
-0002b800: 6167 6520 696d 6167 6520 2869 6620 6060  age image (if ``
-0002b810: 7361 7665 5f70 6174 6860 6020 6973 206e  save_path`` is n
-0002b820: 6f74 204e 6f6e 6529 206f 7220 4e6f 6e65  ot None) or None
-0002b830: 2069 6620 2060 6073 6176 655f 7061 7468   if  ``save_path
-0002b840: 6060 2069 7320 7061 7373 6564 2e0a 2020  `` is passed..  
-0002b850: 2020 2222 220a 0a20 2020 2069 6620 2828    """..    if ((
-0002b860: 7374 6172 745f 6672 6d20 6973 206e 6f74  start_frm is not
-0002b870: 204e 6f6e 6529 206f 7220 2865 6e64 5f66   None) or (end_f
-0002b880: 726d 2069 7320 6e6f 7420 4e6f 6e65 2929  rm is not None))
-0002b890: 2061 6e64 2028 2873 7461 7274 5f74 696d   and ((start_tim
-0002b8a0: 6520 6973 206e 6f74 204e 6f6e 6529 206f  e is not None) o
-0002b8b0: 7220 2865 6e64 5f74 696d 6520 6973 206e  r (end_time is n
-0002b8c0: 6f74 204e 6f6e 6529 293a 0a20 2020 2020  ot None)):.     
-0002b8d0: 2020 2072 6169 7365 2049 6e76 616c 6964     raise Invalid
-0002b8e0: 496e 7075 7445 7272 6f72 286d 7367 3d66  InputError(msg=f
-0002b8f0: 2750 6173 7320 7374 6172 745f 6672 6d20  'Pass start_frm 
-0002b900: 616e 6420 656e 645f 6672 6d20 4f52 2073  and end_frm OR s
-0002b910: 7461 7274 5f74 696d 6520 616e 6420 656e  tart_time and en
-0002b920: 645f 7469 6d65 272c 2073 6f75 7263 653d  d_time', source=
-0002b930: 6372 6561 7465 5f61 7665 7261 6765 5f66  create_average_f
-0002b940: 726d 2e5f 5f6e 616d 655f 5f29 0a20 2020  rm.__name__).   
-0002b950: 2065 6c69 6620 7479 7065 2873 7461 7274   elif type(start
-0002b960: 5f66 726d 2920 213d 2074 7970 6528 656e  _frm) != type(en
-0002b970: 645f 6672 6d29 3a0a 2020 2020 2020 2020  d_frm):.        
-0002b980: 7261 6973 6520 496e 7661 6c69 6449 6e70  raise InvalidInp
-0002b990: 7574 4572 726f 7228 6d73 673d 6627 5061  utError(msg=f'Pa
-0002b9a0: 7373 2073 7461 7274 2066 7261 6d65 2061  ss start frame a
-0002b9b0: 6e64 2065 6e64 2066 7261 6d65 272c 2073  nd end frame', s
-0002b9c0: 6f75 7263 653d 6372 6561 7465 5f61 7665  ource=create_ave
-0002b9d0: 7261 6765 5f66 726d 2e5f 5f6e 616d 655f  rage_frm.__name_
-0002b9e0: 5f29 0a20 2020 2065 6c69 6620 7479 7065  _).    elif type
-0002b9f0: 2873 7461 7274 5f74 696d 6529 2021 3d20  (start_time) != 
-0002ba00: 7479 7065 2865 6e64 5f74 696d 6529 3a0a  type(end_time):.
-0002ba10: 2020 2020 2020 2020 7261 6973 6520 496e          raise In
-0002ba20: 7661 6c69 6449 6e70 7574 4572 726f 7228  validInputError(
-0002ba30: 6d73 673d 6627 5061 7373 2073 7461 7274  msg=f'Pass start
-0002ba40: 2074 696d 6520 616e 6420 656e 6420 7469   time and end ti
-0002ba50: 6d65 272c 2073 6f75 7263 653d 6372 6561  me', source=crea
-0002ba60: 7465 5f61 7665 7261 6765 5f66 726d 2e5f  te_average_frm._
-0002ba70: 5f6e 616d 655f 5f29 0a20 2020 2063 6865  _name__).    che
-0002ba80: 636b 5f66 696c 655f 6578 6973 745f 616e  ck_file_exist_an
-0002ba90: 645f 7265 6164 6162 6c65 2866 696c 655f  d_readable(file_
-0002baa0: 7061 7468 3d76 6964 656f 5f70 6174 6829  path=video_path)
-0002bab0: 0a20 2020 2076 6964 656f 5f6d 6574 615f  .    video_meta_
-0002bac0: 6461 7461 203d 2067 6574 5f76 6964 656f  data = get_video
-0002bad0: 5f6d 6574 615f 6461 7461 2876 6964 656f  _meta_data(video
-0002bae0: 5f70 6174 683d 7669 6465 6f5f 7061 7468  _path=video_path
-0002baf0: 290a 2020 2020 6361 7020 3d20 6376 322e  ).    cap = cv2.
-0002bb00: 5669 6465 6f43 6170 7475 7265 2876 6964  VideoCapture(vid
-0002bb10: 656f 5f70 6174 6829 0a20 2020 2069 6620  eo_path).    if 
-0002bb20: 7665 7262 6f73 653a 0a20 2020 2020 2020  verbose:.       
-0002bb30: 2070 7269 6e74 2866 2747 6574 7469 6e67   print(f'Getting
-0002bb40: 2061 7665 7261 6765 2066 7261 6d65 2066   average frame f
-0002bb50: 726f 6d20 7b76 6964 656f 5f70 6174 687d  rom {video_path}
-0002bb60: 2e2e 2e27 290a 2020 2020 6966 2028 7374  ...').    if (st
-0002bb70: 6172 745f 6672 6d20 6973 206e 6f74 204e  art_frm is not N
-0002bb80: 6f6e 6529 2061 6e64 2028 656e 645f 6672  one) and (end_fr
-0002bb90: 6d20 6973 206e 6f74 204e 6f6e 6529 3a0a  m is not None):.
-0002bba0: 2020 2020 2020 2020 6368 6563 6b5f 696e          check_in
-0002bbb0: 7428 6e61 6d65 3d27 7374 6172 745f 6672  t(name='start_fr
-0002bbc0: 6d27 2c20 7661 6c75 653d 7374 6172 745f  m', value=start_
-0002bbd0: 6672 6d2c 206d 696e 5f76 616c 7565 3d30  frm, min_value=0
-0002bbe0: 2c20 6d61 785f 7661 6c75 653d 7669 6465  , max_value=vide
-0002bbf0: 6f5f 6d65 7461 5f64 6174 615b 2766 7261  o_meta_data['fra
-0002bc00: 6d65 5f63 6f75 6e74 275d 290a 2020 2020  me_count']).    
-0002bc10: 2020 2020 6368 6563 6b5f 696e 7428 6e61      check_int(na
-0002bc20: 6d65 3d27 656e 645f 6672 6d27 2c20 7661  me='end_frm', va
-0002bc30: 6c75 653d 656e 645f 6672 6d2c 206d 696e  lue=end_frm, min
-0002bc40: 5f76 616c 7565 3d30 2c20 6d61 785f 7661  _value=0, max_va
-0002bc50: 6c75 653d 7669 6465 6f5f 6d65 7461 5f64  lue=video_meta_d
-0002bc60: 6174 615b 2766 7261 6d65 5f63 6f75 6e74  ata['frame_count
-0002bc70: 275d 290a 2020 2020 2020 2020 6966 2073  ']).        if s
-0002bc80: 7461 7274 5f66 726d 203e 2065 6e64 5f66  tart_frm > end_f
-0002bc90: 726d 3a0a 2020 2020 2020 2020 2020 2020  rm:.            
-0002bca0: 7261 6973 6520 496e 7661 6c69 6449 6e70  raise InvalidInp
-0002bcb0: 7574 4572 726f 7228 6d73 673d 6627 5374  utError(msg=f'St
-0002bcc0: 6172 7420 6672 616d 6520 287b 7374 6172  art frame ({star
-0002bcd0: 745f 6672 6d7d 2920 6861 7320 746f 2062  t_frm}) has to b
-0002bce0: 6520 6265 666f 7265 2065 6e64 2066 7261  e before end fra
-0002bcf0: 6d65 2028 7b65 6e64 5f66 726d 7d29 2e27  me ({end_frm}).'
-0002bd00: 2c20 736f 7572 6365 3d63 7265 6174 655f  , source=create_
-0002bd10: 6176 6572 6167 655f 6672 6d2e 5f5f 6e61  average_frm.__na
-0002bd20: 6d65 5f5f 290a 2020 2020 2020 2020 6672  me__).        fr
-0002bd30: 616d 655f 6964 7320 3d20 6c69 7374 2872  ame_ids = list(r
-0002bd40: 616e 6765 2873 7461 7274 5f66 726d 2c20  ange(start_frm, 
-0002bd50: 656e 645f 6672 6d20 2b20 3129 290a 2020  end_frm + 1)).  
-0002bd60: 2020 656c 6966 2028 7374 6172 745f 7469    elif (start_ti
-0002bd70: 6d65 2069 7320 6e6f 7420 4e6f 6e65 2920  me is not None) 
-0002bd80: 616e 6420 2865 6e64 5f74 696d 6520 6973  and (end_time is
-0002bd90: 206e 6f74 204e 6f6e 6529 3a0a 2020 2020   not None):.    
-0002bda0: 2020 2020 6368 6563 6b5f 6966 5f73 7472      check_if_str
-0002bdb0: 696e 675f 7661 6c75 655f 6973 5f76 616c  ing_value_is_val
-0002bdc0: 6964 5f76 6964 656f 5f74 696d 6573 7461  id_video_timesta
-0002bdd0: 6d70 2876 616c 7565 3d73 7461 7274 5f74  mp(value=start_t
-0002bde0: 696d 652c 206e 616d 653d 6372 6561 7465  ime, name=create
-0002bdf0: 5f61 7665 7261 6765 5f66 726d 2e5f 5f6e  _average_frm.__n
-0002be00: 616d 655f 5f29 0a20 2020 2020 2020 2063  ame__).        c
-0002be10: 6865 636b 5f69 665f 7374 7269 6e67 5f76  heck_if_string_v
-0002be20: 616c 7565 5f69 735f 7661 6c69 645f 7669  alue_is_valid_vi
-0002be30: 6465 6f5f 7469 6d65 7374 616d 7028 7661  deo_timestamp(va
-0002be40: 6c75 653d 656e 645f 7469 6d65 2c20 6e61  lue=end_time, na
-0002be50: 6d65 3d63 7265 6174 655f 6176 6572 6167  me=create_averag
-0002be60: 655f 6672 6d2e 5f5f 6e61 6d65 5f5f 290a  e_frm.__name__).
-0002be70: 2020 2020 2020 2020 6368 6563 6b5f 7468          check_th
-0002be80: 6174 5f68 686d 6d73 735f 7374 6172 745f  at_hhmmss_start_
-0002be90: 6973 5f62 6566 6f72 655f 656e 6428 7374  is_before_end(st
-0002bea0: 6172 745f 7469 6d65 3d73 7461 7274 5f74  art_time=start_t
-0002beb0: 696d 652c 2065 6e64 5f74 696d 653d 656e  ime, end_time=en
-0002bec0: 645f 7469 6d65 2c20 6e61 6d65 3d63 7265  d_time, name=cre
-0002bed0: 6174 655f 6176 6572 6167 655f 6672 6d2e  ate_average_frm.
-0002bee0: 5f5f 6e61 6d65 5f5f 290a 2020 2020 2020  __name__).      
-0002bef0: 2020 6368 6563 6b5f 6966 5f68 686d 6d73    check_if_hhmms
-0002bf00: 735f 7469 6d65 7374 616d 705f 6973 5f76  s_timestamp_is_v
-0002bf10: 616c 6964 5f70 6172 745f 6f66 5f76 6964  alid_part_of_vid
-0002bf20: 656f 2874 696d 6573 7461 6d70 3d73 7461  eo(timestamp=sta
-0002bf30: 7274 5f74 696d 652c 2076 6964 656f 5f70  rt_time, video_p
-0002bf40: 6174 683d 7669 6465 6f5f 7061 7468 290a  ath=video_path).
-0002bf50: 2020 2020 2020 2020 6672 616d 655f 6964          frame_id
-0002bf60: 7320 3d20 6669 6e64 5f66 7261 6d65 5f6e  s = find_frame_n
-0002bf70: 756d 6265 7273 5f66 726f 6d5f 7469 6d65  umbers_from_time
-0002bf80: 5f73 7461 6d70 2873 7461 7274 5f74 696d  _stamp(start_tim
-0002bf90: 653d 7374 6172 745f 7469 6d65 2c20 656e  e=start_time, en
-0002bfa0: 645f 7469 6d65 3d65 6e64 5f74 696d 652c  d_time=end_time,
-0002bfb0: 2066 7073 3d76 6964 656f 5f6d 6574 615f   fps=video_meta_
-0002bfc0: 6461 7461 5b27 6670 7327 5d29 0a20 2020  data['fps']).   
-0002bfd0: 2065 6c73 653a 0a20 2020 2020 2020 2066   else:.        f
-0002bfe0: 7261 6d65 5f69 6473 203d 206c 6973 7428  rame_ids = list(
-0002bff0: 7261 6e67 6528 302c 2076 6964 656f 5f6d  range(0, video_m
-0002c000: 6574 615f 6461 7461 5b27 6672 616d 655f  eta_data['frame_
-0002c010: 636f 756e 7427 5d29 290a 2020 2020 6361  count'])).    ca
-0002c020: 702e 7365 7428 302c 2066 7261 6d65 5f69  p.set(0, frame_i
-0002c030: 6473 5b30 5d29 0a20 2020 2062 675f 7375  ds[0]).    bg_su
-0002c040: 6d2c 2066 726d 5f63 6e74 2c20 6672 6d5f  m, frm_cnt, frm_
-0002c050: 6c65 6e20 3d20 4e6f 6e65 2c20 302c 206c  len = None, 0, l
-0002c060: 656e 2866 7261 6d65 5f69 6473 290a 2020  en(frame_ids).  
-0002c070: 2020 7768 696c 6520 6672 6d5f 636e 7420    while frm_cnt 
-0002c080: 3c20 6672 6d5f 6c65 6e3a 0a20 2020 2020  < frm_len:.     
-0002c090: 2020 2069 6620 7665 7262 6f73 653a 0a20     if verbose:. 
-0002c0a0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-0002c0b0: 2866 2752 6561 6469 6e67 2066 7261 6d65  (f'Reading frame
-0002c0c0: 207b 6672 6d5f 636e 747d 202f 207b 6672   {frm_cnt} / {fr
-0002c0d0: 6d5f 6c65 6e7d 2028 7b76 6964 656f 5f70  m_len} ({video_p
-0002c0e0: 6174 687d 292e 2e2e 2729 0a20 2020 2020  ath})...').     
-0002c0f0: 2020 2072 6574 2c20 6672 6d20 3d20 6361     ret, frm = ca
-0002c100: 702e 7265 6164 2829 0a20 2020 2020 2020  p.read().       
-0002c110: 2069 6620 7265 743a 0a20 2020 2020 2020   if ret:.       
-0002c120: 2020 2020 2069 6620 6267 5f73 756d 2069       if bg_sum i
-0002c130: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
-0002c140: 2020 2020 2020 2020 6267 5f73 756d 203d          bg_sum =
-0002c150: 206e 702e 666c 6f61 7433 3228 6672 6d29   np.float32(frm)
-0002c160: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
-0002c170: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-0002c180: 2020 2063 7632 2e61 6363 756d 756c 6174     cv2.accumulat
-0002c190: 6528 6672 6d2c 2062 675f 7375 6d29 0a20  e(frm, bg_sum). 
-0002c1a0: 2020 2020 2020 2020 2020 2066 726d 5f63             frm_c
-0002c1b0: 6e74 202b 3d20 310a 2020 2020 2020 2020  nt += 1.        
-0002c1c0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-0002c1d0: 2020 6272 6561 6b0a 2020 2020 696d 6720    break.    img 
-0002c1e0: 3d20 6376 322e 636f 6e76 6572 7453 6361  = cv2.convertSca
-0002c1f0: 6c65 4162 7328 6267 5f73 756d 202f 2066  leAbs(bg_sum / f
-0002c200: 726d 5f6c 656e 290a 2020 2020 6361 702e  rm_len).    cap.
-0002c210: 7265 6c65 6173 6528 290a 2020 2020 6966  release().    if
-0002c220: 2073 6176 655f 7061 7468 2069 7320 6e6f   save_path is no
-0002c230: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-0002c240: 6368 6563 6b5f 6966 5f64 6972 5f65 7869  check_if_dir_exi
-0002c250: 7374 7328 696e 5f64 6972 3d6f 732e 7061  sts(in_dir=os.pa
-0002c260: 7468 2e64 6972 6e61 6d65 2873 6176 655f  th.dirname(save_
-0002c270: 7061 7468 292c 2073 6f75 7263 653d 6372  path), source=cr
-0002c280: 6561 7465 5f61 7665 7261 6765 5f66 726d  eate_average_frm
-0002c290: 2e5f 5f6e 616d 655f 5f29 0a20 2020 2020  .__name__).     
-0002c2a0: 2020 2063 7632 2e69 6d77 7269 7465 2873     cv2.imwrite(s
-0002c2b0: 6176 655f 7061 7468 2c20 696d 6729 0a20  ave_path, img). 
-0002c2c0: 2020 2020 2020 2069 6620 7665 7262 6f73         if verbos
-0002c2d0: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
-0002c2e0: 7464 6f75 745f 7375 6363 6573 7328 6d73  tdout_success(ms
-0002c2f0: 673d 6627 5361 7665 6420 6176 6572 6167  g=f'Saved averag
-0002c300: 6520 6672 616d 6520 6174 207b 7361 7665  e frame at {save
-0002c310: 5f70 6174 687d 272c 2073 6f75 7263 653d  _path}', source=
-0002c320: 6372 6561 7465 5f61 7665 7261 6765 5f66  create_average_f
-0002c330: 726d 2e5f 5f6e 616d 655f 5f29 0a20 2020  rm.__name__).   
-0002c340: 2065 6c73 653a 0a20 2020 2020 2020 2072   else:.        r
-0002c350: 6574 7572 6e20 696d 670a 0a0a 6465 6620  eturn img...def 
-0002c360: 7669 6465 6f5f 6267 5f73 7562 7472 6163  video_bg_subtrac
-0002c370: 7469 6f6e 2876 6964 656f 5f70 6174 683a  tion(video_path:
-0002c380: 2055 6e69 6f6e 5b73 7472 2c20 6f73 2e50   Union[str, os.P
-0002c390: 6174 684c 696b 655d 2c0a 2020 2020 2020  athLike],.      
-0002c3a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c3b0: 2020 2020 6267 5f76 6964 656f 5f70 6174      bg_video_pat
-0002c3c0: 683a 204f 7074 696f 6e61 6c5b 556e 696f  h: Optional[Unio
-0002c3d0: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
-0002c3e0: 6b65 5d5d 203d 204e 6f6e 652c 0a20 2020  ke]] = None,.   
-0002c3f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c400: 2020 2020 2020 2062 675f 7374 6172 745f         bg_start_
-0002c410: 6672 6d3a 204f 7074 696f 6e61 6c5b 696e  frm: Optional[in
-0002c420: 745d 203d 204e 6f6e 652c 0a20 2020 2020  t] = None,.     
-0002c430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c440: 2020 2020 2062 675f 656e 645f 6672 6d3a       bg_end_frm:
-0002c450: 204f 7074 696f 6e61 6c5b 696e 745d 203d   Optional[int] =
-0002c460: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-0002c470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c480: 2062 675f 7374 6172 745f 7469 6d65 3a20   bg_start_time: 
-0002c490: 4f70 7469 6f6e 616c 5b73 7472 5d20 3d20  Optional[str] = 
-0002c4a0: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
-0002c4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c4c0: 6267 5f65 6e64 5f74 696d 653a 204f 7074  bg_end_time: Opt
-0002c4d0: 696f 6e61 6c5b 7374 725d 203d 204e 6f6e  ional[str] = Non
-0002c4e0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-0002c4f0: 2020 2020 2020 2020 2020 2020 2062 675f               bg_
-0002c500: 636f 6c6f 723a 204f 7074 696f 6e61 6c5b  color: Optional[
-0002c510: 5475 706c 655b 696e 742c 2069 6e74 2c20  Tuple[int, int, 
-0002c520: 696e 745d 5d20 3d20 2830 2c20 302c 2030  int]] = (0, 0, 0
-0002c530: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
-0002c540: 2020 2020 2020 2020 2020 2020 2066 675f               fg_
-0002c550: 636f 6c6f 723a 204f 7074 696f 6e61 6c5b  color: Optional[
-0002c560: 5475 706c 655b 696e 742c 2069 6e74 2c20  Tuple[int, int, 
-0002c570: 696e 745d 5d20 3d20 4e6f 6e65 2c0a 2020  int]] = None,.  
-0002c580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c590: 2020 2020 2020 2020 7361 7665 5f70 6174          save_pat
-0002c5a0: 683a 204f 7074 696f 6e61 6c5b 556e 696f  h: Optional[Unio
-0002c5b0: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
-0002c5c0: 6b65 5d5d 203d 204e 6f6e 6529 202d 3e20  ke]] = None) -> 
-0002c5d0: 4e6f 6e65 3a0a 2020 2020 2222 220a 2020  None:.    """.  
-0002c5e0: 2020 5375 6274 7261 6374 2074 6865 2062    Subtract the b
-0002c5f0: 6163 6b67 726f 756e 6420 6672 6f6d 2061  ackground from a
-0002c600: 2076 6964 656f 2e0a 0a20 2020 202e 2e20   video...    .. 
-0002c610: 7669 6465 6f3a 3a20 5f73 7461 7469 632f  video:: _static/
-0002c620: 696d 672f 7669 6465 6f5f 6267 5f73 7562  img/video_bg_sub
-0002c630: 7472 6163 7469 6f6e 2e77 6562 6d0a 2020  traction.webm.  
-0002c640: 2020 2020 203a 7769 6474 683a 2038 3030       :width: 800
-0002c650: 0a20 2020 2020 2020 3a61 7574 6f70 6c61  .       :autopla
-0002c660: 793a 0a20 2020 2020 2020 3a6c 6f6f 703a  y:.       :loop:
-0002c670: 0a0a 2020 2020 2e2e 2076 6964 656f 3a3a  ..    .. video::
-0002c680: 205f 7374 6174 6963 2f69 6d67 2f62 675f   _static/img/bg_
-0002c690: 7265 6d6f 7665 725f 6578 616d 706c 655f  remover_example_
-0002c6a0: 312e 7765 626d 0a20 2020 2020 2020 3a77  1.webm.       :w
-0002c6b0: 6964 7468 3a20 3830 300a 2020 2020 2020  idth: 800.      
-0002c6c0: 203a 6175 746f 706c 6179 3a0a 2020 2020   :autoplay:.    
-0002c6d0: 2020 203a 6c6f 6f70 3a0a 0a20 2020 202e     :loop:..    .
-0002c6e0: 2e20 7669 6465 6f3a 3a20 5f73 7461 7469  . video:: _stati
-0002c6f0: 632f 696d 672f 6267 5f72 656d 6f76 6572  c/img/bg_remover
-0002c700: 5f65 7861 6d70 6c65 5f32 2e77 6562 6d0a  _example_2.webm.
-0002c710: 2020 2020 2020 203a 7769 6474 683a 2038         :width: 8
-0002c720: 3030 0a20 2020 2020 2020 3a61 7574 6f70  00.       :autop
-0002c730: 6c61 793a 0a20 2020 2020 2020 3a6c 6f6f  lay:.       :loo
-0002c740: 703a 0a0a 2020 2020 2e2e 206e 6f74 653a  p:..    .. note:
-0002c750: 3a0a 2020 2020 2020 2049 6620 2060 6062  :.       If  ``b
-0002c760: 675f 7669 6465 6f5f 7061 7468 6060 2069  g_video_path`` i
-0002c770: 7320 7061 7373 6564 2c20 7468 6174 2076  s passed, that v
-0002c780: 6964 656f 2077 696c 6c20 6265 2075 7365  ideo will be use
-0002c790: 6420 746f 2070 6172 7365 2074 6865 2062  d to parse the b
-0002c7a0: 6163 6b67 726f 756e 642e 2049 6620 4e6f  ackground. If No
-0002c7b0: 6e65 2c20 6060 7669 6465 6f5f 7061 7468  ne, ``video_path
-0002c7c0: 6060 2077 696c 6c20 6265 2075 7365 2064  `` will be use d
-0002c7d0: 746f 2070 6172 7365 2062 6163 6b67 726f  to parse backgro
-0002c7e0: 756e 642e 0a20 2020 2020 2020 4569 7468  und..       Eith
-0002c7f0: 6572 2070 6173 7320 6060 7374 6172 745f  er pass ``start_
-0002c800: 6672 6d60 6020 616e 6420 6060 656e 645f  frm`` and ``end_
-0002c810: 6672 6d60 6020 4f52 2060 6073 7461 7274  frm`` OR ``start
-0002c820: 5f74 696d 6560 6020 616e 6420 6060 656e  _time`` and ``en
-0002c830: 645f 7469 6d65 6060 204f 5220 7061 7373  d_time`` OR pass
-0002c840: 2061 6c6c 2066 6f75 7220 6172 6775 6d65   all four argume
-0002c850: 6e74 7320 6173 204e 6f6e 652e 0a20 2020  nts as None..   
-0002c860: 2020 2020 5468 6f73 6520 7477 6f20 6172      Those two ar
-0002c870: 6775 6d65 6e74 7320 7769 6c6c 2062 6520  guments will be 
-0002c880: 7573 6564 2074 6f20 736c 6963 6520 7468  used to slice th
-0002c890: 6520 6261 636b 6772 6f75 6e64 2076 6964  e background vid
-0002c8a0: 656f 2c20 616e 6420 7468 6520 736c 6963  eo, and the slic
-0002c8b0: 6564 2070 6172 7420 6973 2075 7365 6420  ed part is used 
-0002c8c0: 746f 2070 6172 7365 2074 6865 2062 6163  to parse the bac
-0002c8d0: 6b67 726f 756e 642e 0a0a 2020 2020 2020  kground...      
-0002c8e0: 2046 6f72 2065 7861 6d70 6c65 2c20 696e   For example, in
-0002c8f0: 2074 6865 2073 6365 6e61 7269 6f20 7768   the scenario wh
-0002c900: 6572 6520 7468 6572 6520 6973 202a 2a6e  ere there is **n
-0002c910: 6f2a 2a20 616e 696d 616c 2069 6e20 7468  o** animal in th
-0002c920: 6520 6060 7669 6465 6f5f 7061 7468 6060  e ``video_path``
-0002c930: 2076 6964 656f 2066 6f72 2074 6865 2066   video for the f
-0002c940: 6972 7374 2032 3073 2c20 7468 656e 2074  irst 20s, then t
-0002c950: 6865 2066 6972 7374 2032 3073 2063 616e  he first 20s can
-0002c960: 2062 6520 7573 6564 2074 6f20 7061 7273   be used to pars
-0002c970: 6520 7468 6520 6261 636b 6772 6f75 6e64  e the background
-0002c980: 2e0a 2020 2020 2020 2049 6e20 7468 6973  ..       In this
-0002c990: 2073 6365 6e61 7269 6f2c 2060 6062 675f   scenario, ``bg_
-0002c9a0: 7669 6465 6f5f 7061 7468 6060 2063 616e  video_path`` can
-0002c9b0: 2062 6520 7061 7373 6564 2061 7320 6060   be passed as ``
-0002c9c0: 4e6f 6e65 6060 2061 6e64 2062 675f 7374  None`` and bg_st
-0002c9d0: 6172 745f 7469 6d65 2061 6e64 2062 675f  art_time and bg_
-0002c9e0: 656e 645f 7469 6d65 2063 616e 2062 6520  end_time can be 
-0002c9f0: 6060 3030 3a30 303a 3030 6060 2061 6e64  ``00:00:00`` and
-0002ca00: 2060 6030 303a 3030 3a32 3060 602c 2072   ``00:00:20``, r
-0002ca10: 6570 6563 7469 7665 6c79 2e0a 0a20 2020  epectively...   
-0002ca20: 2020 2020 496e 2074 6865 2073 6365 6e61      In the scena
-0002ca30: 7269 6f20 7768 6572 6520 7468 6572 6520  rio where there 
-0002ca40: 2a2a 6973 2a2a 2061 6e69 6d61 6c28 7329  **is** animal(s)
-0002ca50: 2069 6e20 7468 6520 656e 7469 7265 2060   in the entire `
-0002ca60: 6076 6964 656f 5f70 6174 6860 6020 7669  `video_path`` vi
-0002ca70: 6465 6f2c 2070 6173 7320 6060 6267 5f76  deo, pass ``bg_v
-0002ca80: 6964 656f 5f70 6174 6860 6020 6173 2061  ideo_path`` as a
-0002ca90: 2070 6174 6820 746f 2061 2076 6964 656f   path to a video
-0002caa0: 2072 6563 6f72 6469 6e67 2074 6865 2061   recording the a
-0002cab0: 7265 6e61 2077 6974 686f 7574 2074 6865  rena without the
-0002cac0: 2061 6e69 6d61 6c73 2e0a 0a20 2020 203a   animals...    :
-0002cad0: 7061 7261 6d20 556e 696f 6e5b 7374 722c  param Union[str,
-0002cae0: 206f 732e 5061 7468 4c69 6b65 5d20 7669   os.PathLike] vi
-0002caf0: 6465 6f5f 7061 7468 3a20 5468 6520 7061  deo_path: The pa
-0002cb00: 7468 2074 6f20 7468 6520 7669 6465 6f20  th to the video 
-0002cb10: 746f 2072 656d 6f76 6520 7468 6520 6261  to remove the ba
-0002cb20: 636b 6772 6f75 6e64 2066 726f 6d2e 0a20  ckground from.. 
-0002cb30: 2020 203a 7061 7261 6d20 4f70 7469 6f6e     :param Option
-0002cb40: 616c 5b55 6e69 6f6e 5b73 7472 2c20 6f73  al[Union[str, os
-0002cb50: 2e50 6174 684c 696b 655d 5d20 6267 5f76  .PathLike]] bg_v
-0002cb60: 6964 656f 5f70 6174 683a 2050 6174 6820  ideo_path: Path 
-0002cb70: 746f 2074 6865 2076 6964 656f 2077 6869  to the video whi
-0002cb80: 6368 2063 6f6e 7461 696e 7320 6120 7365  ch contains a se
-0002cb90: 676d 656e 7420 7769 7468 2074 6865 2062  gment with the b
-0002cba0: 6163 6b67 726f 756e 6420 6f6e 6c79 2e20  ackground only. 
-0002cbb0: 4966 204e 6f6e 652c 2074 6865 6e20 6060  If None, then ``
-0002cbc0: 7669 6465 6f5f 7061 7468 6060 2077 696c  video_path`` wil
-0002cbd0: 6c20 6265 2075 7365 642e 0a20 2020 203a  l be used..    :
-0002cbe0: 7061 7261 6d20 4f70 7469 6f6e 616c 5b69  param Optional[i
-0002cbf0: 6e74 5d20 6267 5f73 7461 7274 5f66 726d  nt] bg_start_frm
-0002cc00: 3a20 5468 6520 6669 7273 7420 6672 616d  : The first fram
-0002cc10: 6520 696e 2074 6865 2062 6163 6b67 726f  e in the backgro
-0002cc20: 756e 6420 7669 6465 6f20 746f 2075 7365  und video to use
-0002cc30: 2077 6865 6e20 6372 6561 7469 6e67 2061   when creating a
-0002cc40: 2072 6570 7265 7365 6e74 6174 6976 6520   representative 
-0002cc50: 6261 636b 6772 6f75 6e64 2069 6d61 6765  background image
-0002cc60: 2e20 4465 6661 756c 743a 204e 6f6e 652e  . Default: None.
-0002cc70: 0a20 2020 203a 7061 7261 6d20 4f70 7469  .    :param Opti
-0002cc80: 6f6e 616c 5b69 6e74 5d20 6267 5f65 6e64  onal[int] bg_end
-0002cc90: 5f66 726d 3a20 5468 6520 6c61 7374 2066  _frm: The last f
-0002cca0: 7261 6d65 2069 6e20 7468 6520 6261 636b  rame in the back
-0002ccb0: 6772 6f75 6e64 2076 6964 656f 2074 6f20  ground video to 
-0002ccc0: 7573 6520 7768 656e 2063 7265 6174 696e  use when creatin
-0002ccd0: 6720 6120 7265 7072 6573 656e 7461 7469  g a representati
-0002cce0: 7665 2062 6163 6b67 726f 756e 6420 696d  ve background im
-0002ccf0: 6167 652e 2044 6566 6175 6c74 3a20 4e6f  age. Default: No
-0002cd00: 6e65 2e0a 2020 2020 3a70 6172 616d 204f  ne..    :param O
-0002cd10: 7074 696f 6e61 6c5b 7374 725d 2062 675f  ptional[str] bg_
-0002cd20: 7374 6172 745f 7469 6d65 3a20 5468 6520  start_time: The 
-0002cd30: 7374 6172 7420 7469 6d65 7374 616d 7020  start timestamp 
-0002cd40: 696e 2060 4848 3a4d 4d3a 5353 6020 666f  in `HH:MM:SS` fo
-0002cd50: 726d 6174 2069 6e20 7468 6520 6261 636b  rmat in the back
-0002cd60: 6772 6f75 6e64 2076 6964 656f 2074 6f20  ground video to 
-0002cd70: 7573 6520 746f 2063 7265 6174 6520 6120  use to create a 
-0002cd80: 7265 7072 6573 656e 7461 7469 7665 2062  representative b
-0002cd90: 6163 6b67 726f 756e 6420 696d 6167 652e  ackground image.
-0002cda0: 2044 6566 6175 6c74 3a20 4e6f 6e65 2e0a   Default: None..
-0002cdb0: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
-0002cdc0: 6e61 6c5b 7374 725d 2062 675f 656e 645f  nal[str] bg_end_
-0002cdd0: 7469 6d65 3a20 5468 6520 656e 6420 7469  time: The end ti
-0002cde0: 6d65 7374 616d 7020 696e 2060 4848 3a4d  mestamp in `HH:M
-0002cdf0: 4d3a 5353 6020 666f 726d 6174 2069 6e20  M:SS` format in 
-0002ce00: 7468 6520 6261 636b 6772 6f75 6e64 2076  the background v
-0002ce10: 6964 656f 2074 6f20 7573 6520 746f 2063  ideo to use to c
-0002ce20: 7265 6174 6520 6120 7265 7072 6573 656e  reate a represen
-0002ce30: 7461 7469 7665 2062 6163 6b67 726f 756e  tative backgroun
-0002ce40: 6420 696d 6167 652e 2044 6566 6175 6c74  d image. Default
-0002ce50: 3a20 4e6f 6e65 2e0a 2020 2020 3a70 6172  : None..    :par
-0002ce60: 616d 204f 7074 696f 6e61 6c5b 5475 706c  am Optional[Tupl
-0002ce70: 655b 696e 742c 2069 6e74 2c20 696e 745d  e[int, int, int]
-0002ce80: 5d20 6267 5f63 6f6c 6f72 3a20 5468 6520  ] bg_color: The 
-0002ce90: 5247 4220 636f 6c6f 7220 6f66 2074 6865  RGB color of the
-0002cea0: 206d 6f76 696e 6720 6f62 6a65 6374 7320   moving objects 
-0002ceb0: 696e 2074 6865 206f 7574 7075 7420 7669  in the output vi
-0002cec0: 6465 6f2e 2044 6566 6175 6c74 7320 746f  deo. Defaults to
-0002ced0: 204e 6f6e 652c 2077 6869 6368 2072 6570   None, which rep
-0002cee0: 7265 7365 6e74 7320 7468 6520 6f72 6967  resents the orig
-0002cef0: 696e 616c 2063 6f6c 6f72 7320 6f66 2074  inal colors of t
-0002cf00: 6865 206d 6f76 696e 6720 6f62 6a65 6374  he moving object
-0002cf10: 732e 0a20 2020 203a 7061 7261 6d20 4f70  s..    :param Op
-0002cf20: 7469 6f6e 616c 5b54 7570 6c65 5b69 6e74  tional[Tuple[int
-0002cf30: 2c20 696e 742c 2069 6e74 5d5d 2066 675f  , int, int]] fg_
-0002cf40: 636f 6c6f 723a 2054 6865 2052 4742 2063  color: The RGB c
-0002cf50: 6f6c 6f72 206f 6620 7468 6520 6261 636b  olor of the back
-0002cf60: 6772 6f75 6e64 206f 7574 7075 7420 7669  ground output vi
-0002cf70: 6465 6f2e 2044 6566 6175 6c74 7320 746f  deo. Defaults to
-0002cf80: 2062 6c61 636b 2028 302c 2030 2c20 3029   black (0, 0, 0)
-0002cf90: 2e0a 2020 2020 3a70 6172 616d 204f 7074  ..    :param Opt
-0002cfa0: 696f 6e61 6c5b 556e 696f 6e5b 7374 722c  ional[Union[str,
-0002cfb0: 206f 732e 5061 7468 4c69 6b65 5d5d 2073   os.PathLike]] s
-0002cfc0: 6176 655f 7061 7468 3a20 5468 6520 7061  ave_path: The pa
-0002cfd0: 7463 6820 746f 2077 6865 7265 2074 6f20  tch to where to 
-0002cfe0: 7361 7665 2074 6865 206f 7574 7075 7420  save the output 
-0002cff0: 7669 6465 6f20 7768 6572 6520 7468 6520  video where the 
-0002d000: 6261 636b 6772 6f75 6e64 2069 7320 7265  background is re
-0002d010: 6d6f 7665 642e 2049 6620 4e6f 6e65 2c20  moved. If None, 
-0002d020: 7361 7665 7320 7468 6520 6f75 7470 7574  saves the output
-0002d030: 2076 6964 656f 2069 6e20 7468 6520 7361   video in the sa
-0002d040: 6d65 2064 6972 6563 746f 7279 2061 7320  me directory as 
-0002d050: 7468 6520 696e 7075 7420 7669 6465 6f20  the input video 
-0002d060: 7769 7468 2074 6865 2060 605f 6267 5f73  with the ``_bg_s
-0002d070: 7562 7472 6163 7465 6460 6020 7375 6666  ubtracted`` suff
-0002d080: 6978 2e20 4465 6661 756c 743a 204e 6f6e  ix. Default: Non
-0002d090: 652e 0a20 2020 203a 7265 7475 726e 3a20  e..    :return: 
-0002d0a0: 4e6f 6e65 2e0a 0a20 2020 203a 6578 616d  None...    :exam
-0002d0b0: 706c 653a 0a20 2020 203e 3e3e 2076 6964  ple:.    >>> vid
-0002d0c0: 656f 5f62 675f 7375 6274 7261 6374 696f  eo_bg_subtractio
-0002d0d0: 6e28 7669 6465 6f5f 7061 7468 3d27 2f55  n(video_path='/U
-0002d0e0: 7365 7273 2f73 696d 6f6e 2f44 6f77 6e6c  sers/simon/Downl
-0002d0f0: 6f61 6473 2f31 5f4c 485f 6372 6f70 7065  oads/1_LH_croppe
-0002d100: 642e 6d70 3427 2c20 6267 5f73 7461 7274  d.mp4', bg_start
-0002d110: 5f74 696d 653d 2730 303a 3030 3a30 3027  _time='00:00:00'
-0002d120: 2c20 6267 5f65 6e64 5f74 696d 653d 2730  , bg_end_time='0
-0002d130: 303a 3030 3a31 3027 2c20 6267 5f63 6f6c  0:00:10', bg_col
-0002d140: 6f72 3d28 302c 2031 3036 2c20 3136 3729  or=(0, 106, 167)
-0002d150: 2c20 6667 5f63 6f6c 6f72 3d28 3235 342c  , fg_color=(254,
-0002d160: 2032 3034 2c20 3229 290a 2020 2020 2222   204, 2)).    ""
-0002d170: 220a 0a20 2020 2074 696d 6572 203d 2053  "..    timer = S
-0002d180: 696d 6261 5469 6d65 7228 7374 6172 743d  imbaTimer(start=
-0002d190: 5472 7565 290a 2020 2020 6368 6563 6b5f  True).    check_
-0002d1a0: 6669 6c65 5f65 7869 7374 5f61 6e64 5f72  file_exist_and_r
-0002d1b0: 6561 6461 626c 6528 6669 6c65 5f70 6174  eadable(file_pat
-0002d1c0: 683d 7669 6465 6f5f 7061 7468 290a 2020  h=video_path).  
-0002d1d0: 2020 6966 2062 675f 7669 6465 6f5f 7061    if bg_video_pa
-0002d1e0: 7468 2069 7320 4e6f 6e65 3a0a 2020 2020  th is None:.    
-0002d1f0: 2020 2020 6267 5f76 6964 656f 5f70 6174      bg_video_pat
-0002d200: 6820 3d20 6465 6570 636f 7079 2876 6964  h = deepcopy(vid
-0002d210: 656f 5f70 6174 6829 0a20 2020 2076 6964  eo_path).    vid
-0002d220: 656f 5f6d 6574 615f 6461 7461 203d 2067  eo_meta_data = g
-0002d230: 6574 5f76 6964 656f 5f6d 6574 615f 6461  et_video_meta_da
-0002d240: 7461 2876 6964 656f 5f70 6174 683d 7669  ta(video_path=vi
-0002d250: 6465 6f5f 7061 7468 290a 2020 2020 6469  deo_path).    di
-0002d260: 722c 2076 6964 656f 5f6e 616d 652c 2065  r, video_name, e
-0002d270: 7874 203d 2067 6574 5f66 6e5f 6578 7428  xt = get_fn_ext(
-0002d280: 6669 6c65 7061 7468 3d76 6964 656f 5f70  filepath=video_p
-0002d290: 6174 6829 0a20 2020 2069 6620 7361 7665  ath).    if save
-0002d2a0: 5f70 6174 6820 6973 204e 6f6e 653a 0a20  _path is None:. 
-0002d2b0: 2020 2020 2020 2073 6176 655f 7061 7468         save_path
-0002d2c0: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
-0002d2d0: 6469 722c 2066 277b 7669 6465 6f5f 6e61  dir, f'{video_na
-0002d2e0: 6d65 7d5f 6267 5f73 7562 7472 6163 7465  me}_bg_subtracte
-0002d2f0: 647b 6578 747d 2729 0a20 2020 2066 6f75  d{ext}').    fou
-0002d300: 7263 6320 3d20 6376 322e 5669 6465 6f57  rcc = cv2.VideoW
-0002d310: 7269 7465 725f 666f 7572 6363 282a 466f  riter_fourcc(*Fo
-0002d320: 726d 6174 732e 4d50 345f 434f 4445 432e  rmats.MP4_CODEC.
-0002d330: 7661 6c75 6529 0a20 2020 2077 7269 7465  value).    write
-0002d340: 7220 3d20 6376 322e 5669 6465 6f57 7269  r = cv2.VideoWri
-0002d350: 7465 7228 7361 7665 5f70 6174 682c 2066  ter(save_path, f
-0002d360: 6f75 7263 632c 2076 6964 656f 5f6d 6574  ourcc, video_met
-0002d370: 615f 6461 7461 5b27 6670 7327 5d2c 0a20  a_data['fps'],. 
-0002d380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d390: 2020 2020 2020 2020 2020 2020 2876 6964              (vid
-0002d3a0: 656f 5f6d 6574 615f 6461 7461 5b27 7769  eo_meta_data['wi
-0002d3b0: 6474 6827 5d2c 2076 6964 656f 5f6d 6574  dth'], video_met
-0002d3c0: 615f 6461 7461 5b27 6865 6967 6874 275d  a_data['height']
-0002d3d0: 2929 0a20 2020 2062 675f 6672 6d20 3d20  )).    bg_frm = 
-0002d3e0: 6372 6561 7465 5f61 7665 7261 6765 5f66  create_average_f
-0002d3f0: 726d 2876 6964 656f 5f70 6174 683d 6267  rm(video_path=bg
-0002d400: 5f76 6964 656f 5f70 6174 682c 2073 7461  _video_path, sta
-0002d410: 7274 5f66 726d 3d62 675f 7374 6172 745f  rt_frm=bg_start_
-0002d420: 6672 6d2c 2065 6e64 5f66 726d 3d62 675f  frm, end_frm=bg_
-0002d430: 656e 645f 6672 6d2c 0a20 2020 2020 2020  end_frm,.       
-0002d440: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d450: 2020 2020 2020 2020 2073 7461 7274 5f74           start_t
-0002d460: 696d 653d 6267 5f73 7461 7274 5f74 696d  ime=bg_start_tim
-0002d470: 652c 2065 6e64 5f74 696d 653d 6267 5f65  e, end_time=bg_e
-0002d480: 6e64 5f74 696d 6529 0a20 2020 2062 675f  nd_time).    bg_
-0002d490: 6672 6d20 3d20 6376 322e 7265 7369 7a65  frm = cv2.resize
-0002d4a0: 2862 675f 6672 6d2c 2028 7669 6465 6f5f  (bg_frm, (video_
-0002d4b0: 6d65 7461 5f64 6174 615b 2777 6964 7468  meta_data['width
-0002d4c0: 275d 2c20 7669 6465 6f5f 6d65 7461 5f64  '], video_meta_d
-0002d4d0: 6174 615b 2768 6569 6768 7427 5d29 290a  ata['height'])).
-0002d4e0: 2020 2020 6267 203d 2063 7632 2e63 7674      bg = cv2.cvt
-0002d4f0: 436f 6c6f 7228 6e70 2e66 756c 6c5f 6c69  Color(np.full_li
-0002d500: 6b65 2862 675f 6672 6d2c 2062 675f 636f  ke(bg_frm, bg_co
-0002d510: 6c6f 7229 2c20 6376 322e 434f 4c4f 525f  lor), cv2.COLOR_
-0002d520: 4247 5232 5247 4229 0a20 2020 2063 6170  BGR2RGB).    cap
-0002d530: 203d 2063 7632 2e56 6964 656f 4361 7074   = cv2.VideoCapt
-0002d540: 7572 6528 7669 6465 6f5f 7061 7468 290a  ure(video_path).
-0002d550: 2020 2020 6672 6d5f 636e 7420 3d20 300a      frm_cnt = 0.
-0002d560: 2020 2020 7768 696c 6520 5472 7565 3a0a      while True:.
-0002d570: 2020 2020 2020 2020 7265 742c 2066 726d          ret, frm
-0002d580: 203d 2063 6170 2e72 6561 6428 290a 2020   = cap.read().  
-0002d590: 2020 2020 2020 6966 206e 6f74 2072 6574        if not ret
-0002d5a0: 3a0a 2020 2020 2020 2020 2020 2020 6272  :.            br
-0002d5b0: 6561 6b0a 2020 2020 2020 2020 6469 6666  eak.        diff
-0002d5c0: 203d 2063 7632 2e61 6273 6469 6666 2866   = cv2.absdiff(f
-0002d5d0: 726d 2c20 6267 5f66 726d 290a 2020 2020  rm, bg_frm).    
-0002d5e0: 2020 2020 6772 6179 5f64 6966 6620 3d20      gray_diff = 
-0002d5f0: 6376 322e 6376 7443 6f6c 6f72 2864 6966  cv2.cvtColor(dif
-0002d600: 662c 2063 7632 2e43 4f4c 4f52 5f42 4752  f, cv2.COLOR_BGR
-0002d610: 3247 5241 5929 0a20 2020 2020 2020 205f  2GRAY).        _
-0002d620: 2c20 6d61 736b 203d 2063 7632 2e74 6872  , mask = cv2.thr
-0002d630: 6573 686f 6c64 2867 7261 795f 6469 6666  eshold(gray_diff
-0002d640: 2c20 3530 2c20 3235 352c 2063 7632 2e54  , 50, 255, cv2.T
-0002d650: 4852 4553 485f 4249 4e41 5259 290a 2020  HRESH_BINARY).  
-0002d660: 2020 2020 2020 6966 2066 675f 636f 6c6f        if fg_colo
-0002d670: 7220 6973 204e 6f6e 653a 0a20 2020 2020  r is None:.     
-0002d680: 2020 2020 2020 2066 6720 3d20 6376 322e         fg = cv2.
-0002d690: 6269 7477 6973 655f 616e 6428 6672 6d2c  bitwise_and(frm,
-0002d6a0: 2066 726d 2c20 6d61 736b 3d6d 6173 6b29   frm, mask=mask)
-0002d6b0: 0a20 2020 2020 2020 2020 2020 2072 6573  .            res
-0002d6c0: 756c 7420 3d20 6376 322e 6164 6428 6267  ult = cv2.add(bg
-0002d6d0: 2c20 6667 290a 2020 2020 2020 2020 656c  , fg).        el
-0002d6e0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0002d6f0: 6d61 736b 5f69 6e76 203d 2063 7632 2e62  mask_inv = cv2.b
-0002d700: 6974 7769 7365 5f6e 6f74 286d 6173 6b29  itwise_not(mask)
-0002d710: 0a20 2020 2020 2020 2020 2020 2066 675f  .            fg_
-0002d720: 636c 7220 3d20 6376 322e 6376 7443 6f6c  clr = cv2.cvtCol
-0002d730: 6f72 286e 702e 6675 6c6c 5f6c 696b 6528  or(np.full_like(
-0002d740: 6672 6d2c 2066 675f 636f 6c6f 7229 2c20  frm, fg_color), 
-0002d750: 6376 322e 434f 4c4f 525f 4247 5232 5247  cv2.COLOR_BGR2RG
-0002d760: 4229 0a20 2020 2020 2020 2020 2020 2066  B).            f
-0002d770: 675f 636c 7220 3d20 6376 322e 6269 7477  g_clr = cv2.bitw
-0002d780: 6973 655f 616e 6428 6667 5f63 6c72 2c20  ise_and(fg_clr, 
-0002d790: 6667 5f63 6c72 2c20 6d61 736b 3d6d 6173  fg_clr, mask=mas
-0002d7a0: 6b29 0a20 2020 2020 2020 2020 2020 2072  k).            r
-0002d7b0: 6573 756c 7420 3d20 6376 322e 6269 7477  esult = cv2.bitw
-0002d7c0: 6973 655f 616e 6428 6267 2c20 6267 2c20  ise_and(bg, bg, 
-0002d7d0: 6d61 736b 3d6d 6173 6b5f 696e 7629 0a20  mask=mask_inv). 
-0002d7e0: 2020 2020 2020 2020 2020 2072 6573 756c             resul
-0002d7f0: 7420 3d20 6376 322e 6164 6428 7265 7375  t = cv2.add(resu
-0002d800: 6c74 2c20 6667 5f63 6c72 290a 2020 2020  lt, fg_clr).    
-0002d810: 2020 2020 7772 6974 6572 2e77 7269 7465      writer.write
-0002d820: 2872 6573 756c 7429 0a20 2020 2020 2020  (result).       
-0002d830: 2066 726d 5f63 6e74 202b 3d20 310a 2020   frm_cnt += 1.  
-0002d840: 2020 2020 2020 7072 696e 7428 6627 4261        print(f'Ba
-0002d850: 636b 6772 6f75 6e64 2073 7562 7472 6163  ckground subtrac
-0002d860: 7469 6f6e 2066 7261 6d65 207b 6672 6d5f  tion frame {frm_
-0002d870: 636e 747d 2f7b 7669 6465 6f5f 6d65 7461  cnt}/{video_meta
-0002d880: 5f64 6174 615b 2266 7261 6d65 5f63 6f75  _data["frame_cou
-0002d890: 6e74 225d 7d20 2856 6964 656f 3a20 7b76  nt"]} (Video: {v
-0002d8a0: 6964 656f 5f6e 616d 657d 2927 290a 0a20  ideo_name})').. 
-0002d8b0: 2020 2077 7269 7465 722e 7265 6c65 6173     writer.releas
-0002d8c0: 6528 290a 2020 2020 6361 702e 7265 6c65  e().    cap.rele
-0002d8d0: 6173 6528 290a 2020 2020 7469 6d65 722e  ase().    timer.
-0002d8e0: 7374 6f70 5f74 696d 6572 2829 0a20 2020  stop_timer().   
-0002d8f0: 2073 7464 6f75 745f 7375 6363 6573 7328   stdout_success(
-0002d900: 6d73 673d 6627 4261 636b 6772 6f75 6e64  msg=f'Background
-0002d910: 2073 7562 7472 6163 7465 6420 6672 6f6d   subtracted from
-0002d920: 207b 7669 6465 6f5f 6e61 6d65 7d20 616e   {video_name} an
-0002d930: 6420 7361 7665 6420 6174 207b 7361 7665  d saved at {save
-0002d940: 5f70 6174 687d 272c 2065 6c61 7073 6564  _path}', elapsed
-0002d950: 5f74 696d 653d 7469 6d65 722e 656c 6170  _time=timer.elap
-0002d960: 7365 645f 7469 6d65 290a 0a64 6566 205f  sed_time)..def _
-0002d970: 6267 5f72 656d 6f76 6572 5f6d 7028 6672  bg_remover_mp(fr
-0002d980: 6d5f 7261 6e67 653a 2054 7570 6c65 5b69  m_range: Tuple[i
-0002d990: 6e74 2c20 6e70 2e6e 6461 7272 6179 5d2c  nt, np.ndarray],
-0002d9a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002d9b0: 2020 2020 7669 6465 6f5f 7061 7468 3a20      video_path: 
-0002d9c0: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
-0002d9d0: 7468 4c69 6b65 5d2c 0a20 2020 2020 2020  thLike],.       
-0002d9e0: 2020 2020 2020 2020 2020 2020 6267 5f66              bg_f
-0002d9f0: 726d 3a20 6e70 2e6e 6461 7272 6179 2c0a  rm: np.ndarray,.
-0002da00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002da10: 2020 2062 675f 636c 723a 2054 7570 6c65     bg_clr: Tuple
-0002da20: 5b69 6e74 2c20 696e 742c 2069 6e74 5d2c  [int, int, int],
-0002da30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002da40: 2020 2020 6667 5f63 6c72 3a20 5475 706c      fg_clr: Tupl
-0002da50: 655b 696e 742c 2069 6e74 2c20 696e 745d  e[int, int, int]
-0002da60: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0002da70: 2020 2020 2076 6964 656f 5f6d 6574 615f       video_meta_
-0002da80: 6461 7461 3a20 4469 6374 5b73 7472 2c20  data: Dict[str, 
-0002da90: 416e 795d 2c0a 2020 2020 2020 2020 2020  Any],.          
-0002daa0: 2020 2020 2020 2020 2074 656d 705f 6469           temp_di
-0002dab0: 723a 2055 6e69 6f6e 5b73 7472 2c20 6f73  r: Union[str, os
-0002dac0: 2e50 6174 684c 696b 655d 293a 0a0a 2020  .PathLike]):..  
-0002dad0: 2020 6261 7463 682c 2066 726d 5f72 616e    batch, frm_ran
-0002dae0: 6765 203d 2066 726d 5f72 616e 6765 5b30  ge = frm_range[0
-0002daf0: 5d2c 2066 726d 5f72 616e 6765 5b31 5d0a  ], frm_range[1].
-0002db00: 2020 2020 7374 6172 745f 6672 6d2c 2063      start_frm, c
-0002db10: 7572 7265 6e74 5f66 726d 2c20 656e 645f  urrent_frm, end_
-0002db20: 6672 6d20 3d20 6672 6d5f 7261 6e67 655b  frm = frm_range[
-0002db30: 305d 2c20 6672 6d5f 7261 6e67 655b 305d  0], frm_range[0]
-0002db40: 2c20 6672 6d5f 7261 6e67 655b 2d31 5d0a  , frm_range[-1].
-0002db50: 2020 2020 6361 7020 3d20 6376 322e 5669      cap = cv2.Vi
-0002db60: 6465 6f43 6170 7475 7265 2876 6964 656f  deoCapture(video
-0002db70: 5f70 6174 6829 0a20 2020 2066 6f75 7263  _path).    fourc
-0002db80: 6320 3d20 6376 322e 5669 6465 6f57 7269  c = cv2.VideoWri
-0002db90: 7465 725f 666f 7572 6363 282a 466f 726d  ter_fourcc(*Form
-0002dba0: 6174 732e 4d50 345f 434f 4445 432e 7661  ats.MP4_CODEC.va
-0002dbb0: 6c75 6529 0a20 2020 2073 6176 655f 7061  lue).    save_pa
-0002dbc0: 7468 203d 206f 732e 7061 7468 2e6a 6f69  th = os.path.joi
-0002dbd0: 6e28 7465 6d70 5f64 6972 2c20 6622 7b62  n(temp_dir, f"{b
-0002dbe0: 6174 6368 7d2e 6d70 3422 290a 2020 2020  atch}.mp4").    
-0002dbf0: 6361 702e 7365 7428 312c 2073 7461 7274  cap.set(1, start
-0002dc00: 5f66 726d 290a 2020 2020 7772 6974 6572  _frm).    writer
-0002dc10: 203d 2063 7632 2e56 6964 656f 5772 6974   = cv2.VideoWrit
-0002dc20: 6572 2873 6176 655f 7061 7468 2c20 666f  er(save_path, fo
-0002dc30: 7572 6363 2c20 7669 6465 6f5f 6d65 7461  urcc, video_meta
-0002dc40: 5f64 6174 615b 2766 7073 275d 2c20 2876  _data['fps'], (v
-0002dc50: 6964 656f 5f6d 6574 615f 6461 7461 5b27  ideo_meta_data['
-0002dc60: 7769 6474 6827 5d2c 2076 6964 656f 5f6d  width'], video_m
-0002dc70: 6574 615f 6461 7461 5b27 6865 6967 6874  eta_data['height
-0002dc80: 275d 2929 0a20 2020 2062 6720 3d20 6e70  '])).    bg = np
-0002dc90: 2e66 756c 6c5f 6c69 6b65 2862 675f 6672  .full_like(bg_fr
-0002dca0: 6d2c 2062 675f 636c 7229 0a20 2020 2062  m, bg_clr).    b
-0002dcb0: 6720 3d20 6267 5b3a 2c20 3a2c 203a 3a2d  g = bg[:, :, ::-
-0002dcc0: 315d 0a20 2020 2064 6972 2c20 7669 6465  1].    dir, vide
-0002dcd0: 6f5f 6e61 6d65 2c20 6578 7420 3d20 6765  o_name, ext = ge
-0002dce0: 745f 666e 5f65 7874 2866 696c 6570 6174  t_fn_ext(filepat
-0002dcf0: 683d 7669 6465 6f5f 7061 7468 290a 2020  h=video_path).  
-0002dd00: 2020 7768 696c 6520 6375 7272 656e 745f    while current_
-0002dd10: 6672 6d20 3c3d 2065 6e64 5f66 726d 3a0a  frm <= end_frm:.
-0002dd20: 2020 2020 2020 2020 7265 742c 2066 726d          ret, frm
-0002dd30: 203d 2063 6170 2e72 6561 6428 290a 2020   = cap.read().  
-0002dd40: 2020 2020 2020 6966 206e 6f74 2072 6574        if not ret
-0002dd50: 3a0a 2020 2020 2020 2020 2020 2020 6272  :.            br
-0002dd60: 6561 6b0a 2020 2020 2020 2020 6469 6666  eak.        diff
-0002dd70: 203d 2063 7632 2e61 6273 6469 6666 2866   = cv2.absdiff(f
-0002dd80: 726d 2c20 6267 5f66 726d 290a 2020 2020  rm, bg_frm).    
-0002dd90: 2020 2020 622c 2067 2c20 7220 3d20 6469      b, g, r = di
-0002dda0: 6666 5b3a 2c20 3a2c 2030 5d2c 2064 6966  ff[:, :, 0], dif
-0002ddb0: 665b 3a2c 203a 2c20 315d 2c20 6469 6666  f[:, :, 1], diff
-0002ddc0: 5b3a 2c20 3a2c 2032 5d0a 2020 2020 2020  [:, :, 2].      
-0002ddd0: 2020 6772 6179 5f64 6966 6620 3d20 302e    gray_diff = 0.
-0002dde0: 3239 3839 202a 2072 202b 2030 2e35 3837  2989 * r + 0.587
-0002ddf0: 3020 2a20 6720 2b20 302e 3131 3430 202a  0 * g + 0.1140 *
-0002de00: 2062 0a20 2020 2020 2020 2067 7261 795f   b.        gray_
-0002de10: 6469 6666 203d 2067 7261 795f 6469 6666  diff = gray_diff
-0002de20: 2e61 7374 7970 6528 6e70 2e75 696e 7438  .astype(np.uint8
-0002de30: 2920 2023 2045 6e73 7572 6520 7468 6520  )  # Ensure the 
-0002de40: 7479 7065 2069 7320 7569 6e74 380a 2020  type is uint8.  
-0002de50: 2020 2020 2020 6d61 736b 203d 206e 702e        mask = np.
-0002de60: 7768 6572 6528 6772 6179 5f64 6966 6620  where(gray_diff 
-0002de70: 3e20 3530 2c20 3235 352c 2030 292e 6173  > 50, 255, 0).as
-0002de80: 7479 7065 286e 702e 7569 6e74 3829 0a20  type(np.uint8). 
-0002de90: 2020 2020 2020 2069 6620 6667 5f63 6c72         if fg_clr
-0002dea0: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
-0002deb0: 2020 2020 2020 6667 203d 2063 7632 2e62        fg = cv2.b
-0002dec0: 6974 7769 7365 5f61 6e64 2866 726d 2c20  itwise_and(frm, 
-0002ded0: 6672 6d2c 206d 6173 6b3d 6d61 736b 290a  frm, mask=mask).
-0002dee0: 2020 2020 2020 2020 2020 2020 7265 7375              resu
-0002def0: 6c74 203d 2063 7632 2e61 6464 2862 672c  lt = cv2.add(bg,
-0002df00: 2066 6729 0a20 2020 2020 2020 2065 6c73   fg).        els
-0002df10: 653a 0a20 2020 2020 2020 2020 2020 206d  e:.            m
-0002df20: 6173 6b5f 696e 7620 3d20 6376 322e 6269  ask_inv = cv2.bi
-0002df30: 7477 6973 655f 6e6f 7428 6d61 736b 290a  twise_not(mask).
-0002df40: 2020 2020 2020 2020 2020 2020 6667 5f63              fg_c
-0002df50: 6c72 5f69 6d67 203d 206e 702e 6675 6c6c  lr_img = np.full
-0002df60: 5f6c 696b 6528 6672 6d2c 2066 675f 636c  _like(frm, fg_cl
-0002df70: 7229 0a20 2020 2020 2020 2020 2020 2066  r).            f
-0002df80: 675f 636c 725f 696d 6720 3d20 6667 5f63  g_clr_img = fg_c
-0002df90: 6c72 5f69 6d67 5b3a 2c20 3a2c 203a 3a2d  lr_img[:, :, ::-
-0002dfa0: 315d 0a20 2020 2020 2020 2020 2020 2066  1].            f
-0002dfb0: 675f 636c 725f 696d 6720 3d20 6376 322e  g_clr_img = cv2.
-0002dfc0: 6269 7477 6973 655f 616e 6428 6667 5f63  bitwise_and(fg_c
-0002dfd0: 6c72 5f69 6d67 2c20 6667 5f63 6c72 5f69  lr_img, fg_clr_i
-0002dfe0: 6d67 2c20 6d61 736b 3d6d 6173 6b29 0a20  mg, mask=mask). 
-0002dff0: 2020 2020 2020 2020 2020 2072 6573 756c             resul
-0002e000: 7420 3d20 6376 322e 6269 7477 6973 655f  t = cv2.bitwise_
-0002e010: 616e 6428 6267 2c20 6267 2c20 6d61 736b  and(bg, bg, mask
-0002e020: 3d6d 6173 6b5f 696e 7629 0a20 2020 2020  =mask_inv).     
-0002e030: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
-0002e040: 6376 322e 6164 6428 7265 7375 6c74 2c20  cv2.add(result, 
-0002e050: 6667 5f63 6c72 5f69 6d67 290a 2020 2020  fg_clr_img).    
-0002e060: 2020 2020 7772 6974 6572 2e77 7269 7465      writer.write
-0002e070: 2872 6573 756c 7429 0a20 2020 2020 2020  (result).       
-0002e080: 2063 7572 7265 6e74 5f66 726d 202b 3d20   current_frm += 
-0002e090: 310a 2020 2020 2020 2020 7072 696e 7428  1.        print(
-0002e0a0: 6627 4261 636b 6772 6f75 6e64 2073 7562  f'Background sub
-0002e0b0: 7472 6163 7469 6f6e 2066 7261 6d65 207b  traction frame {
-0002e0c0: 6375 7272 656e 745f 6672 6d7d 2f7b 7669  current_frm}/{vi
-0002e0d0: 6465 6f5f 6d65 7461 5f64 6174 615b 2266  deo_meta_data["f
-0002e0e0: 7261 6d65 5f63 6f75 6e74 225d 7d20 2856  rame_count"]} (V
-0002e0f0: 6964 656f 3a20 7b76 6964 656f 5f6e 616d  ideo: {video_nam
-0002e100: 657d 2927 290a 2020 2020 7772 6974 6572  e})').    writer
-0002e110: 2e72 656c 6561 7365 2829 0a20 2020 2063  .release().    c
-0002e120: 6170 2e72 656c 6561 7365 2829 0a20 2020  ap.release().   
-0002e130: 2072 6574 7572 6e20 6261 7463 680a 0a64   return batch..d
-0002e140: 6566 2076 6964 656f 5f62 675f 7375 6273  ef video_bg_subs
-0002e150: 7472 6163 7469 6f6e 5f6d 7028 7669 6465  traction_mp(vide
-0002e160: 6f5f 7061 7468 3a20 556e 696f 6e5b 7374  o_path: Union[st
-0002e170: 722c 206f 732e 5061 7468 4c69 6b65 5d2c  r, os.PathLike],
-0002e180: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002e190: 2020 2020 2020 2020 2020 2020 2020 6267                bg
-0002e1a0: 5f76 6964 656f 5f70 6174 683a 204f 7074  _video_path: Opt
-0002e1b0: 696f 6e61 6c5b 556e 696f 6e5b 7374 722c  ional[Union[str,
-0002e1c0: 206f 732e 5061 7468 4c69 6b65 5d5d 203d   os.PathLike]] =
-0002e1d0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-0002e1e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002e1f0: 2020 2020 6267 5f73 7461 7274 5f66 726d      bg_start_frm
-0002e200: 3a20 4f70 7469 6f6e 616c 5b69 6e74 5d20  : Optional[int] 
-0002e210: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0002e220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002e230: 2020 2020 2062 675f 656e 645f 6672 6d3a       bg_end_frm:
-0002e240: 204f 7074 696f 6e61 6c5b 696e 745d 203d   Optional[int] =
-0002e250: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-0002e260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002e270: 2020 2020 6267 5f73 7461 7274 5f74 696d      bg_start_tim
-0002e280: 653a 204f 7074 696f 6e61 6c5b 7374 725d  e: Optional[str]
-0002e290: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0002e2a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002e2b0: 2020 2020 2020 6267 5f65 6e64 5f74 696d        bg_end_tim
-0002e2c0: 653a 204f 7074 696f 6e61 6c5b 7374 725d  e: Optional[str]
-0002e2d0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0002e2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002e2f0: 2020 2020 2020 6267 5f63 6f6c 6f72 3a20        bg_color: 
-0002e300: 4f70 7469 6f6e 616c 5b54 7570 6c65 5b69  Optional[Tuple[i
-0002e310: 6e74 2c20 696e 742c 2069 6e74 5d5d 203d  nt, int, int]] =
-0002e320: 2028 302c 2030 2c20 3029 2c0a 2020 2020   (0, 0, 0),.    
-0002e330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002e340: 2020 2020 2020 2020 2066 675f 636f 6c6f           fg_colo
-0002e350: 723a 204f 7074 696f 6e61 6c5b 5475 706c  r: Optional[Tupl
-0002e360: 655b 696e 742c 2069 6e74 2c20 696e 745d  e[int, int, int]
-0002e370: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
-0002e380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002e390: 2020 2020 2020 2073 6176 655f 7061 7468         save_path
-0002e3a0: 3a20 4f70 7469 6f6e 616c 5b55 6e69 6f6e  : Optional[Union
-0002e3b0: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
-0002e3c0: 655d 5d20 3d20 4e6f 6e65 2c0a 2020 2020  e]] = None,.    
-0002e3d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002e3e0: 2020 2020 2020 2020 2063 6f72 655f 636e           core_cn
-0002e3f0: 743a 204f 7074 696f 6e61 6c5b 696e 745d  t: Optional[int]
-0002e400: 203d 202d 3129 202d 3e20 4e6f 6e65 3a0a   = -1) -> None:.
-0002e410: 0a20 2020 2022 2222 0a20 2020 2053 7562  .    """.    Sub
-0002e420: 7472 6163 7420 7468 6520 6261 636b 6772  tract the backgr
-0002e430: 6f75 6e64 2066 726f 6d20 6120 7669 6465  ound from a vide
-0002e440: 6f20 7573 696e 6720 6d75 6c74 6970 726f  o using multipro
-0002e450: 6365 7373 696e 672e 0a0a 2020 2020 2e2e  cessing...    ..
-0002e460: 2076 6964 656f 3a3a 205f 7374 6174 6963   video:: _static
-0002e470: 2f69 6d67 2f76 6964 656f 5f62 675f 7375  /img/video_bg_su
-0002e480: 6273 7472 6163 7469 6f6e 5f6d 702e 7765  bstraction_mp.we
-0002e490: 626d 0a20 2020 2020 2020 3a77 6964 7468  bm.       :width
-0002e4a0: 3a20 3930 300a 2020 2020 2020 203a 6175  : 900.       :au
-0002e4b0: 746f 706c 6179 3a0a 2020 2020 2020 203a  toplay:.       :
-0002e4c0: 6c6f 6f70 3a0a 0a20 2020 202e 2e20 7669  loop:..    .. vi
-0002e4d0: 6465 6f3a 3a20 5f73 7461 7469 632f 696d  deo:: _static/im
-0002e4e0: 672f 6267 5f72 656d 6f76 6572 5f65 7861  g/bg_remover_exa
-0002e4f0: 6d70 6c65 5f33 2e77 6562 6d0a 2020 2020  mple_3.webm.    
-0002e500: 2020 203a 7769 6474 683a 2039 3030 0a20     :width: 900. 
-0002e510: 2020 2020 2020 3a61 7574 6f70 6c61 793a        :autoplay:
-0002e520: 0a20 2020 2020 2020 3a6c 6f6f 703a 0a0a  .       :loop:..
-0002e530: 2020 2020 2e2e 2076 6964 656f 3a3a 205f      .. video:: _
-0002e540: 7374 6174 6963 2f69 6d67 2f62 675f 7265  static/img/bg_re
-0002e550: 6d6f 7665 725f 6578 616d 706c 655f 342e  mover_example_4.
-0002e560: 7765 626d 0a20 2020 2020 2020 3a77 6964  webm.       :wid
-0002e570: 7468 3a20 3930 300a 2020 2020 2020 203a  th: 900.       :
-0002e580: 6175 746f 706c 6179 3a0a 2020 2020 2020  autoplay:.      
-0002e590: 203a 6c6f 6f70 3a0a 0a20 2020 202e 2e20   :loop:..    .. 
-0002e5a0: 6e6f 7465 3a3a 0a20 2020 2020 2020 2046  note::.        F
-0002e5b0: 6f72 2073 696e 676c 6520 636f 7265 2061  or single core a
-0002e5c0: 6c74 6572 6e61 7469 7665 2c20 7365 6520  lternative, see 
-0002e5d0: 6060 7369 6d62 612e 7669 6465 6f5f 7072  ``simba.video_pr
-0002e5e0: 6f63 6573 736f 7273 2e76 6964 656f 5f70  ocessors.video_p
-0002e5f0: 726f 6365 7373 696e 672e 7669 6465 6f5f  rocessing.video_
-0002e600: 6267 5f73 7562 7472 6163 7469 6f6e 6060  bg_subtraction``
-0002e610: 0a0a 2020 2020 2020 2049 6620 2060 6062  ..       If  ``b
-0002e620: 675f 7669 6465 6f5f 7061 7468 6060 2069  g_video_path`` i
-0002e630: 7320 7061 7373 6564 2c20 7468 6174 2076  s passed, that v
-0002e640: 6964 656f 2077 696c 6c20 6265 2075 7365  ideo will be use
-0002e650: 6420 746f 2070 6172 7365 2074 6865 2062  d to parse the b
-0002e660: 6163 6b67 726f 756e 642e 2049 6620 4e6f  ackground. If No
-0002e670: 6e65 2c20 6060 7669 6465 6f5f 7061 7468  ne, ``video_path
-0002e680: 6060 2077 696c 6c20 6265 2075 7365 2064  `` will be use d
-0002e690: 746f 2070 6172 7365 2062 6163 6b67 726f  to parse backgro
-0002e6a0: 756e 642e 0a20 2020 2020 2020 4569 7468  und..       Eith
-0002e6b0: 6572 2070 6173 7320 6060 7374 6172 745f  er pass ``start_
-0002e6c0: 6672 6d60 6020 616e 6420 6060 656e 645f  frm`` and ``end_
-0002e6d0: 6672 6d60 6020 4f52 2060 6073 7461 7274  frm`` OR ``start
-0002e6e0: 5f74 696d 6560 6020 616e 6420 6060 656e  _time`` and ``en
-0002e6f0: 645f 7469 6d65 6060 204f 5220 7061 7373  d_time`` OR pass
-0002e700: 2061 6c6c 2066 6f75 7220 6172 6775 6d65   all four argume
-0002e710: 6e74 7320 6173 204e 6f6e 652e 0a20 2020  nts as None..   
-0002e720: 2020 2020 5468 6f73 6520 7477 6f20 6172      Those two ar
-0002e730: 6775 6d65 6e74 7320 7769 6c6c 2062 6520  guments will be 
-0002e740: 7573 6564 2074 6f20 736c 6963 6520 7468  used to slice th
-0002e750: 6520 6261 636b 6772 6f75 6e64 2076 6964  e background vid
-0002e760: 656f 2c20 616e 6420 7468 6520 736c 6963  eo, and the slic
-0002e770: 6564 2070 6172 7420 6973 2075 7365 6420  ed part is used 
-0002e780: 746f 2070 6172 7365 2074 6865 2062 6163  to parse the bac
-0002e790: 6b67 726f 756e 642e 0a0a 2020 2020 2020  kground...      
-0002e7a0: 2046 6f72 2065 7861 6d70 6c65 2c20 696e   For example, in
-0002e7b0: 2074 6865 2073 6365 6e61 7269 6f20 7768   the scenario wh
-0002e7c0: 6572 6520 7468 6572 6520 6973 202a 2a6e  ere there is **n
-0002e7d0: 6f2a 2a20 616e 696d 616c 2069 6e20 7468  o** animal in th
-0002e7e0: 6520 6060 7669 6465 6f5f 7061 7468 6060  e ``video_path``
-0002e7f0: 2076 6964 656f 2066 6f72 2074 6865 2066   video for the f
-0002e800: 6972 7374 2032 3073 2c20 7468 656e 2074  irst 20s, then t
-0002e810: 6865 2066 6972 7374 2032 3073 2063 616e  he first 20s can
-0002e820: 2062 6520 7573 6564 2074 6f20 7061 7273   be used to pars
-0002e830: 6520 7468 6520 6261 636b 6772 6f75 6e64  e the background
-0002e840: 2e0a 2020 2020 2020 2049 6e20 7468 6973  ..       In this
-0002e850: 2073 6365 6e61 7269 6f2c 2060 6062 675f   scenario, ``bg_
-0002e860: 7669 6465 6f5f 7061 7468 6060 2063 616e  video_path`` can
-0002e870: 2062 6520 7061 7373 6564 2061 7320 6060   be passed as ``
-0002e880: 4e6f 6e65 6060 2061 6e64 2062 675f 7374  None`` and bg_st
-0002e890: 6172 745f 7469 6d65 2061 6e64 2062 675f  art_time and bg_
-0002e8a0: 656e 645f 7469 6d65 2063 616e 2062 6520  end_time can be 
-0002e8b0: 6060 3030 3a30 303a 3030 6060 2061 6e64  ``00:00:00`` and
-0002e8c0: 2060 6030 303a 3030 3a32 3060 602c 2072   ``00:00:20``, r
-0002e8d0: 6570 6563 7469 7665 6c79 2e0a 0a20 2020  epectively...   
-0002e8e0: 2020 2020 496e 2074 6865 2073 6365 6e61      In the scena
-0002e8f0: 7269 6f20 7768 6572 6520 7468 6572 6520  rio where there 
-0002e900: 2a2a 6973 2a2a 2061 6e69 6d61 6c28 7329  **is** animal(s)
-0002e910: 2069 6e20 7468 6520 656e 7469 7265 2060   in the entire `
-0002e920: 6076 6964 656f 5f70 6174 6860 6020 7669  `video_path`` vi
-0002e930: 6465 6f2c 2070 6173 7320 6060 6267 5f76  deo, pass ``bg_v
-0002e940: 6964 656f 5f70 6174 6860 6020 6173 2061  ideo_path`` as a
-0002e950: 2070 6174 6820 746f 2061 2076 6964 656f   path to a video
-0002e960: 2072 6563 6f72 6469 6e67 2074 6865 2061   recording the a
-0002e970: 7265 6e61 2077 6974 686f 7574 2074 6865  rena without the
-0002e980: 2061 6e69 6d61 6c73 2e0a 0a20 2020 203a   animals...    :
-0002e990: 7061 7261 6d20 556e 696f 6e5b 7374 722c  param Union[str,
-0002e9a0: 206f 732e 5061 7468 4c69 6b65 5d20 7669   os.PathLike] vi
-0002e9b0: 6465 6f5f 7061 7468 3a20 5468 6520 7061  deo_path: The pa
-0002e9c0: 7468 2074 6f20 7468 6520 7669 6465 6f20  th to the video 
-0002e9d0: 746f 2072 656d 6f76 6520 7468 6520 6261  to remove the ba
-0002e9e0: 636b 6772 6f75 6e64 2066 726f 6d2e 0a20  ckground from.. 
-0002e9f0: 2020 203a 7061 7261 6d20 4f70 7469 6f6e     :param Option
-0002ea00: 616c 5b55 6e69 6f6e 5b73 7472 2c20 6f73  al[Union[str, os
-0002ea10: 2e50 6174 684c 696b 655d 5d20 6267 5f76  .PathLike]] bg_v
-0002ea20: 6964 656f 5f70 6174 683a 2050 6174 6820  ideo_path: Path 
-0002ea30: 746f 2074 6865 2076 6964 656f 2077 6869  to the video whi
-0002ea40: 6368 2063 6f6e 7461 696e 7320 6120 7365  ch contains a se
-0002ea50: 676d 656e 7420 7769 7468 2074 6865 2062  gment with the b
-0002ea60: 6163 6b67 726f 756e 6420 6f6e 6c79 2e20  ackground only. 
-0002ea70: 4966 204e 6f6e 652c 2074 6865 6e20 6060  If None, then ``
-0002ea80: 7669 6465 6f5f 7061 7468 6060 2077 696c  video_path`` wil
-0002ea90: 6c20 6265 2075 7365 642e 0a20 2020 203a  l be used..    :
-0002eaa0: 7061 7261 6d20 4f70 7469 6f6e 616c 5b69  param Optional[i
-0002eab0: 6e74 5d20 6267 5f73 7461 7274 5f66 726d  nt] bg_start_frm
-0002eac0: 3a20 5468 6520 6669 7273 7420 6672 616d  : The first fram
-0002ead0: 6520 696e 2074 6865 2062 6163 6b67 726f  e in the backgro
-0002eae0: 756e 6420 7669 6465 6f20 746f 2075 7365  und video to use
-0002eaf0: 2077 6865 6e20 6372 6561 7469 6e67 2061   when creating a
-0002eb00: 2072 6570 7265 7365 6e74 6174 6976 6520   representative 
-0002eb10: 6261 636b 6772 6f75 6e64 2069 6d61 6765  background image
-0002eb20: 2e20 4465 6661 756c 743a 204e 6f6e 652e  . Default: None.
-0002eb30: 0a20 2020 203a 7061 7261 6d20 4f70 7469  .    :param Opti
-0002eb40: 6f6e 616c 5b69 6e74 5d20 6267 5f65 6e64  onal[int] bg_end
-0002eb50: 5f66 726d 3a20 5468 6520 6c61 7374 2066  _frm: The last f
-0002eb60: 7261 6d65 2069 6e20 7468 6520 6261 636b  rame in the back
-0002eb70: 6772 6f75 6e64 2076 6964 656f 2074 6f20  ground video to 
-0002eb80: 7573 6520 7768 656e 2063 7265 6174 696e  use when creatin
-0002eb90: 6720 6120 7265 7072 6573 656e 7461 7469  g a representati
-0002eba0: 7665 2062 6163 6b67 726f 756e 6420 696d  ve background im
-0002ebb0: 6167 652e 2044 6566 6175 6c74 3a20 4e6f  age. Default: No
-0002ebc0: 6e65 2e0a 2020 2020 3a70 6172 616d 204f  ne..    :param O
-0002ebd0: 7074 696f 6e61 6c5b 7374 725d 2062 675f  ptional[str] bg_
-0002ebe0: 7374 6172 745f 7469 6d65 3a20 5468 6520  start_time: The 
-0002ebf0: 7374 6172 7420 7469 6d65 7374 616d 7020  start timestamp 
-0002ec00: 696e 2060 4848 3a4d 4d3a 5353 6020 666f  in `HH:MM:SS` fo
-0002ec10: 726d 6174 2069 6e20 7468 6520 6261 636b  rmat in the back
-0002ec20: 6772 6f75 6e64 2076 6964 656f 2074 6f20  ground video to 
-0002ec30: 7573 6520 746f 2063 7265 6174 6520 6120  use to create a 
-0002ec40: 7265 7072 6573 656e 7461 7469 7665 2062  representative b
-0002ec50: 6163 6b67 726f 756e 6420 696d 6167 652e  ackground image.
-0002ec60: 2044 6566 6175 6c74 3a20 4e6f 6e65 2e0a   Default: None..
-0002ec70: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
-0002ec80: 6e61 6c5b 7374 725d 2062 675f 656e 645f  nal[str] bg_end_
-0002ec90: 7469 6d65 3a20 5468 6520 656e 6420 7469  time: The end ti
-0002eca0: 6d65 7374 616d 7020 696e 2060 4848 3a4d  mestamp in `HH:M
-0002ecb0: 4d3a 5353 6020 666f 726d 6174 2069 6e20  M:SS` format in 
-0002ecc0: 7468 6520 6261 636b 6772 6f75 6e64 2076  the background v
-0002ecd0: 6964 656f 2074 6f20 7573 6520 746f 2063  ideo to use to c
-0002ece0: 7265 6174 6520 6120 7265 7072 6573 656e  reate a represen
-0002ecf0: 7461 7469 7665 2062 6163 6b67 726f 756e  tative backgroun
-0002ed00: 6420 696d 6167 652e 2044 6566 6175 6c74  d image. Default
-0002ed10: 3a20 4e6f 6e65 2e0a 2020 2020 3a70 6172  : None..    :par
-0002ed20: 616d 204f 7074 696f 6e61 6c5b 5475 706c  am Optional[Tupl
-0002ed30: 655b 696e 742c 2069 6e74 2c20 696e 745d  e[int, int, int]
-0002ed40: 5d20 6267 5f63 6f6c 6f72 3a20 5468 6520  ] bg_color: The 
-0002ed50: 5247 4220 636f 6c6f 7220 6f66 2074 6865  RGB color of the
-0002ed60: 206d 6f76 696e 6720 6f62 6a65 6374 7320   moving objects 
-0002ed70: 696e 2074 6865 206f 7574 7075 7420 7669  in the output vi
-0002ed80: 6465 6f2e 2044 6566 6175 6c74 7320 746f  deo. Defaults to
-0002ed90: 204e 6f6e 652c 2077 6869 6368 2072 6570   None, which rep
-0002eda0: 7265 7365 6e74 7320 7468 6520 6f72 6967  resents the orig
-0002edb0: 696e 616c 2063 6f6c 6f72 7320 6f66 2074  inal colors of t
-0002edc0: 6865 206d 6f76 696e 6720 6f62 6a65 6374  he moving object
-0002edd0: 732e 0a20 2020 203a 7061 7261 6d20 4f70  s..    :param Op
-0002ede0: 7469 6f6e 616c 5b54 7570 6c65 5b69 6e74  tional[Tuple[int
-0002edf0: 2c20 696e 742c 2069 6e74 5d5d 2066 675f  , int, int]] fg_
-0002ee00: 636f 6c6f 723a 2054 6865 2052 4742 2063  color: The RGB c
-0002ee10: 6f6c 6f72 206f 6620 7468 6520 6261 636b  olor of the back
-0002ee20: 6772 6f75 6e64 206f 7574 7075 7420 7669  ground output vi
-0002ee30: 6465 6f2e 2044 6566 6175 6c74 7320 746f  deo. Defaults to
-0002ee40: 2062 6c61 636b 2028 302c 2030 2c20 3029   black (0, 0, 0)
-0002ee50: 2e0a 2020 2020 3a70 6172 616d 204f 7074  ..    :param Opt
-0002ee60: 696f 6e61 6c5b 556e 696f 6e5b 7374 722c  ional[Union[str,
-0002ee70: 206f 732e 5061 7468 4c69 6b65 5d5d 2073   os.PathLike]] s
-0002ee80: 6176 655f 7061 7468 3a20 5468 6520 7061  ave_path: The pa
-0002ee90: 7463 6820 746f 2077 6865 7265 2074 6f20  tch to where to 
-0002eea0: 7361 7665 2074 6865 206f 7574 7075 7420  save the output 
-0002eeb0: 7669 6465 6f20 7768 6572 6520 7468 6520  video where the 
-0002eec0: 6261 636b 6772 6f75 6e64 2069 7320 7265  background is re
-0002eed0: 6d6f 7665 642e 2049 6620 4e6f 6e65 2c20  moved. If None, 
-0002eee0: 7361 7665 7320 7468 6520 6f75 7470 7574  saves the output
-0002eef0: 2076 6964 656f 2069 6e20 7468 6520 7361   video in the sa
-0002ef00: 6d65 2064 6972 6563 746f 7279 2061 7320  me directory as 
-0002ef10: 7468 6520 696e 7075 7420 7669 6465 6f20  the input video 
-0002ef20: 7769 7468 2074 6865 2060 605f 6267 5f73  with the ``_bg_s
-0002ef30: 7562 7472 6163 7465 6460 6020 7375 6666  ubtracted`` suff
-0002ef40: 6978 2e20 4465 6661 756c 743a 204e 6f6e  ix. Default: Non
-0002ef50: 652e 0a20 2020 203a 7061 7261 6d20 4f70  e..    :param Op
-0002ef60: 7469 6f6e 616c 5b69 6e74 5d20 636f 7265  tional[int] core
-0002ef70: 5f63 6e74 3a20 5468 6520 6e75 6d62 6572  _cnt: The number
-0002ef80: 206f 6620 636f 7265 7320 746f 2075 7365   of cores to use
-0002ef90: 2e20 4465 6661 756c 7473 2074 6f20 2d31  . Defaults to -1
-0002efa0: 2072 6570 7265 7365 6e74 696e 6720 616c   representing al
-0002efb0: 6c20 6176 6169 6c61 626c 6520 636f 7265  l available core
-0002efc0: 732e 0a20 2020 203a 7265 7475 726e 3a20  s..    :return: 
-0002efd0: 4e6f 6e65 2e0a 0a20 2020 203a 6578 616d  None...    :exam
-0002efe0: 706c 653a 0a20 2020 203e 3e3e 2076 6964  ple:.    >>> vid
-0002eff0: 656f 5f62 675f 7375 6273 7472 6163 7469  eo_bg_substracti
-0002f000: 6f6e 5f6d 7028 7669 6465 6f5f 7061 7468  on_mp(video_path
-0002f010: 3d27 2f55 7365 7273 2f73 696d 6f6e 2f44  ='/Users/simon/D
-0002f020: 6f77 6e6c 6f61 6473 2f31 5f4c 482e 6d70  ownloads/1_LH.mp
-0002f030: 3427 2c20 6267 5f73 7461 7274 5f74 696d  4', bg_start_tim
-0002f040: 653d 2730 303a 3030 3a30 3027 2c20 6267  e='00:00:00', bg
-0002f050: 5f65 6e64 5f74 696d 653d 2730 303a 3030  _end_time='00:00
-0002f060: 3a31 3027 2c20 6267 5f63 6f6c 6f72 3d28  :10', bg_color=(
-0002f070: 302c 2030 2c20 3029 2c20 6667 5f63 6f6c  0, 0, 0), fg_col
-0002f080: 6f72 3d28 3235 352c 2032 3535 2c20 3235  or=(255, 255, 25
-0002f090: 3529 290a 2020 2020 2222 220a 0a20 2020  5)).    """..   
-0002f0a0: 2074 696d 6572 203d 2053 696d 6261 5469   timer = SimbaTi
-0002f0b0: 6d65 7228 7374 6172 743d 5472 7565 290a  mer(start=True).
-0002f0c0: 2020 2020 6368 6563 6b5f 6669 6c65 5f65      check_file_e
-0002f0d0: 7869 7374 5f61 6e64 5f72 6561 6461 626c  xist_and_readabl
-0002f0e0: 6528 6669 6c65 5f70 6174 683d 7669 6465  e(file_path=vide
-0002f0f0: 6f5f 7061 7468 290a 2020 2020 6966 2062  o_path).    if b
-0002f100: 675f 7669 6465 6f5f 7061 7468 2069 7320  g_video_path is 
-0002f110: 4e6f 6e65 3a0a 2020 2020 2020 2020 6267  None:.        bg
-0002f120: 5f76 6964 656f 5f70 6174 6820 3d20 6465  _video_path = de
-0002f130: 6570 636f 7079 2876 6964 656f 5f70 6174  epcopy(video_pat
-0002f140: 6829 0a20 2020 2076 6964 656f 5f6d 6574  h).    video_met
-0002f150: 615f 6461 7461 203d 2067 6574 5f76 6964  a_data = get_vid
-0002f160: 656f 5f6d 6574 615f 6461 7461 2876 6964  eo_meta_data(vid
-0002f170: 656f 5f70 6174 683d 7669 6465 6f5f 7061  eo_path=video_pa
-0002f180: 7468 290a 2020 2020 6469 722c 2076 6964  th).    dir, vid
-0002f190: 656f 5f6e 616d 652c 2065 7874 203d 2067  eo_name, ext = g
-0002f1a0: 6574 5f66 6e5f 6578 7428 6669 6c65 7061  et_fn_ext(filepa
-0002f1b0: 7468 3d76 6964 656f 5f70 6174 6829 0a20  th=video_path). 
-0002f1c0: 2020 2069 6620 7361 7665 5f70 6174 6820     if save_path 
-0002f1d0: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-0002f1e0: 2073 6176 655f 7061 7468 203d 206f 732e   save_path = os.
-0002f1f0: 7061 7468 2e6a 6f69 6e28 6469 722c 2066  path.join(dir, f
-0002f200: 277b 7669 6465 6f5f 6e61 6d65 7d5f 6267  '{video_name}_bg
-0002f210: 5f73 7562 7472 6163 7465 647b 6578 747d  _subtracted{ext}
-0002f220: 2729 0a20 2020 2064 7420 3d20 6461 7465  ').    dt = date
-0002f230: 7469 6d65 2e6e 6f77 2829 2e73 7472 6674  time.now().strft
-0002f240: 696d 6528 2225 5925 6d25 6425 4825 4d25  ime("%Y%m%d%H%M%
-0002f250: 5322 290a 2020 2020 7465 6d70 5f64 6972  S").    temp_dir
-0002f260: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
-0002f270: 6469 722c 2066 2774 656d 705f 7b76 6964  dir, f'temp_{vid
-0002f280: 656f 5f6e 616d 657d 5f7b 6474 7d27 290a  eo_name}_{dt}').
-0002f290: 2020 2020 6f73 2e6d 616b 6564 6972 7328      os.makedirs(
-0002f2a0: 7465 6d70 5f64 6972 290a 2020 2020 6368  temp_dir).    ch
-0002f2b0: 6563 6b5f 696e 7428 6e61 6d65 3d66 277b  eck_int(name=f'{
-0002f2c0: 7669 6465 6f5f 6267 5f73 7562 7374 7261  video_bg_substra
-0002f2d0: 6374 696f 6e5f 6d70 2e5f 5f6e 616d 655f  ction_mp.__name_
-0002f2e0: 5f7d 2063 6f72 655f 636e 7427 2c20 7661  _} core_cnt', va
-0002f2f0: 6c75 653d 636f 7265 5f63 6e74 2c20 6d69  lue=core_cnt, mi
-0002f300: 6e5f 7661 6c75 653d 2d31 2c20 6d61 785f  n_value=-1, max_
-0002f310: 7661 6c75 653d 6669 6e64 5f63 6f72 655f  value=find_core_
-0002f320: 636e 7428 295b 305d 290a 2020 2020 6966  cnt()[0]).    if
-0002f330: 2063 6f72 655f 636e 7420 3d3d 202d 313a   core_cnt == -1:
-0002f340: 2063 6f72 655f 636e 7420 3d20 6669 6e64   core_cnt = find
-0002f350: 5f63 6f72 655f 636e 7428 295b 305d 0a20  _core_cnt()[0]. 
-0002f360: 2020 2062 675f 6672 6d20 3d20 6372 6561     bg_frm = crea
-0002f370: 7465 5f61 7665 7261 6765 5f66 726d 2876  te_average_frm(v
-0002f380: 6964 656f 5f70 6174 683d 6267 5f76 6964  ideo_path=bg_vid
-0002f390: 656f 5f70 6174 682c 2073 7461 7274 5f66  eo_path, start_f
-0002f3a0: 726d 3d62 675f 7374 6172 745f 6672 6d2c  rm=bg_start_frm,
-0002f3b0: 2065 6e64 5f66 726d 3d62 675f 656e 645f   end_frm=bg_end_
-0002f3c0: 6672 6d2c 2073 7461 7274 5f74 696d 653d  frm, start_time=
-0002f3d0: 6267 5f73 7461 7274 5f74 696d 652c 2065  bg_start_time, e
-0002f3e0: 6e64 5f74 696d 653d 6267 5f65 6e64 5f74  nd_time=bg_end_t
-0002f3f0: 696d 6529 0a20 2020 2062 675f 6672 6d20  ime).    bg_frm 
-0002f400: 3d20 6376 322e 7265 7369 7a65 2862 675f  = cv2.resize(bg_
-0002f410: 6672 6d2c 2028 7669 6465 6f5f 6d65 7461  frm, (video_meta
-0002f420: 5f64 6174 615b 2777 6964 7468 275d 2c20  _data['width'], 
-0002f430: 7669 6465 6f5f 6d65 7461 5f64 6174 615b  video_meta_data[
-0002f440: 2768 6569 6768 7427 5d29 290a 2020 2020  'height'])).    
-0002f450: 6267 5f66 726d 203d 2062 675f 6672 6d5b  bg_frm = bg_frm[
-0002f460: 3a2c 203a 2c20 3a3a 2d31 5d0a 2020 2020  :, :, ::-1].    
-0002f470: 6672 6d5f 6c69 7374 203d 206e 702e 6172  frm_list = np.ar
-0002f480: 7261 795f 7370 6c69 7428 6c69 7374 2872  ray_split(list(r
-0002f490: 616e 6765 2830 2c20 7669 6465 6f5f 6d65  ange(0, video_me
-0002f4a0: 7461 5f64 6174 615b 2766 7261 6d65 5f63  ta_data['frame_c
-0002f4b0: 6f75 6e74 275d 2929 2c20 636f 7265 5f63  ount'])), core_c
-0002f4c0: 6e74 290a 2020 2020 6672 6d5f 6461 7461  nt).    frm_data
-0002f4d0: 203d 205b 5d0a 2020 2020 666f 7220 632c   = [].    for c,
-0002f4e0: 2069 2069 6e20 656e 756d 6572 6174 6528   i in enumerate(
-0002f4f0: 6672 6d5f 6c69 7374 293a 0a20 2020 2020  frm_list):.     
-0002f500: 2020 2066 726d 5f64 6174 612e 6170 7065     frm_data.appe
-0002f510: 6e64 2828 632c 2069 2929 0a20 2020 2077  nd((c, i)).    w
-0002f520: 6974 6820 6d75 6c74 6970 726f 6365 7373  ith multiprocess
-0002f530: 696e 672e 506f 6f6c 2863 6f72 655f 636e  ing.Pool(core_cn
-0002f540: 742c 206d 6178 7461 736b 7370 6572 6368  t, maxtasksperch
-0002f550: 696c 643d 3930 3030 2920 6173 2070 6f6f  ild=9000) as poo
-0002f560: 6c3a 0a20 2020 2020 2020 2063 6f6e 7374  l:.        const
-0002f570: 616e 7473 203d 2066 756e 6374 6f6f 6c73  ants = functools
-0002f580: 2e70 6172 7469 616c 285f 6267 5f72 656d  .partial(_bg_rem
-0002f590: 6f76 6572 5f6d 702c 0a20 2020 2020 2020  over_mp,.       
-0002f5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f5b0: 2020 2020 2020 2020 2020 2020 2020 2076                 v
-0002f5c0: 6964 656f 5f70 6174 683d 7669 6465 6f5f  ideo_path=video_
-0002f5d0: 7061 7468 2c0a 2020 2020 2020 2020 2020  path,.          
-0002f5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f5f0: 2020 2020 2020 2020 2020 2020 6267 5f66              bg_f
-0002f600: 726d 3d62 675f 6672 6d2c 0a20 2020 2020  rm=bg_frm,.     
-0002f610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f630: 2062 675f 636c 723d 6267 5f63 6f6c 6f72   bg_clr=bg_color
-0002f640: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00009010: 6363 6573 7328 0a20 2020 2020 2020 206d  ccess(.        m
+00009020: 7367 3d66 2253 494d 4241 2043 4f4d 504c  sg=f"SIMBA COMPL
+00009030: 4554 453a 2056 6964 656f 2063 6f6e 7665  ETE: Video conve
+00009040: 7274 6564 2120 7b73 6176 655f 6e61 6d65  rted! {save_name
+00009050: 7d20 6765 6e65 7261 7465 6421 222c 0a20  } generated!",. 
+00009060: 2020 2020 2020 2065 6c61 7073 6564 5f74         elapsed_t
+00009070: 696d 653d 7469 6d65 722e 656c 6170 7365  ime=timer.elapse
+00009080: 645f 7469 6d65 5f73 7472 2c0a 2020 2020  d_time_str,.    
+00009090: 2020 2020 736f 7572 6365 3d72 656d 6f76      source=remov
+000090a0: 655f 6265 6769 6e6e 696e 675f 6f66 5f76  e_beginning_of_v
+000090b0: 6964 656f 2e5f 5f6e 616d 655f 5f2c 0a20  ideo.__name__,. 
+000090c0: 2020 2029 0a0a 0a23 2072 656d 6f76 655f     )...# remove_
+000090d0: 6265 6769 6e6e 696e 675f 6f66 5f76 6964  beginning_of_vid
+000090e0: 656f 2866 696c 655f 7061 7468 3d72 272f  eo(file_path=r'/
+000090f0: 5573 6572 732f 7369 6d6f 6e2f 4465 736b  Users/simon/Desk
+00009100: 746f 702f 656e 7673 2f73 696d 6261 2f74  top/envs/simba/t
+00009110: 726f 7562 6c65 7368 6f6f 7469 6e67 2f6d  roubleshooting/m
+00009120: 6f75 7365 5f6f 7065 6e5f 6669 656c 642f  ouse_open_field/
+00009130: 7072 6f6a 6563 745f 666f 6c64 6572 2f76  project_folder/v
+00009140: 6964 656f 732f 5349 5f44 4159 335f 3330  ideos/SI_DAY3_30
+00009150: 385f 4344 315f 5052 4553 454e 545f 6672  8_CD1_PRESENT_fr
+00009160: 616d 655f 6e6f 2e6d 7034 272c 2074 696d  ame_no.mp4', tim
+00009170: 653d 3130 2c20 6770 753d 4661 6c73 6529  e=10, gpu=False)
+00009180: 0a0a 0a64 6566 2063 6c69 705f 7669 6465  ...def clip_vide
+00009190: 6f5f 696e 5f72 616e 6765 2866 696c 655f  o_in_range(file_
+000091a0: 7061 7468 3a20 556e 696f 6e5b 7374 722c  path: Union[str,
+000091b0: 206f 732e 5061 7468 4c69 6b65 5d2c 0a20   os.PathLike],. 
+000091c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000091d0: 2020 2020 2020 2073 7461 7274 5f74 696d         start_tim
+000091e0: 653a 2073 7472 2c0a 2020 2020 2020 2020  e: str,.        
+000091f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009200: 656e 645f 7469 6d65 3a20 7374 722c 0a20  end_time: str,. 
+00009210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009220: 2020 2020 2020 206f 7574 5f64 6972 3a20         out_dir: 
+00009230: 4f70 7469 6f6e 616c 5b55 6e69 6f6e 5b73  Optional[Union[s
+00009240: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
+00009250: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
+00009260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009270: 2020 6f76 6572 7772 6974 653a 204f 7074    overwrite: Opt
+00009280: 696f 6e61 6c5b 626f 6f6c 5d20 3d20 4661  ional[bool] = Fa
+00009290: 6c73 652c 0a20 2020 2020 2020 2020 2020  lse,.           
+000092a0: 2020 2020 2020 2020 2020 2020 2069 6e63               inc
+000092b0: 6c75 6465 5f63 6c69 705f 7469 6d65 5f69  lude_clip_time_i
+000092c0: 6e5f 6669 6c65 6e61 6d65 3a20 4f70 7469  n_filename: Opti
+000092d0: 6f6e 616c 5b62 6f6f 6c5d 203d 2046 616c  onal[bool] = Fal
+000092e0: 7365 2c0a 2020 2020 2020 2020 2020 2020  se,.            
+000092f0: 2020 2020 2020 2020 2020 2020 6770 753a              gpu:
+00009300: 204f 7074 696f 6e61 6c5b 626f 6f6c 5d20   Optional[bool] 
+00009310: 3d20 4661 6c73 6529 202d 3e20 4e6f 6e65  = False) -> None
+00009320: 3a0a 2020 2020 2222 220a 2020 2020 436c  :.    """.    Cl
+00009330: 6970 2076 6964 656f 2077 6974 6869 6e20  ip video within 
+00009340: 6120 7370 6563 6966 6963 2072 616e 6765  a specific range
+00009350: 2e20 5468 6520 7265 7375 6c74 2069 7320  . The result is 
+00009360: 7374 6f72 6564 2069 6e20 7468 6520 7361  stored in the sa
+00009370: 6d65 2064 6972 6563 746f 7279 2061 7320  me directory as 
+00009380: 7468 650a 2020 2020 696e 7075 7420 6669  the.    input fi
+00009390: 6c65 2077 6974 6820 7468 6520 6060 5f63  le with the ``_c
+000093a0: 6c69 7070 6564 2e6d 7034 6060 2073 7566  lipped.mp4`` suf
+000093b0: 6669 782e 0a0a 2020 2020 3a70 6172 616d  fix...    :param
+000093c0: 6574 6572 2055 6e69 6f6e 5b73 7472 2c20  eter Union[str, 
+000093d0: 6f73 2e50 6174 684c 696b 655d 2066 696c  os.PathLike] fil
+000093e0: 655f 7061 7468 3a20 5061 7468 2074 6f20  e_path: Path to 
+000093f0: 7669 6465 6f20 6669 6c65 0a20 2020 203a  video file.    :
+00009400: 7061 7261 6d65 7465 7220 7374 7220 7374  parameter str st
+00009410: 6172 745f 7469 6d65 3a20 5374 6172 7420  art_time: Start 
+00009420: 7469 6d65 2069 6e20 4848 3a4d 4d3a 5353  time in HH:MM:SS
+00009430: 2066 6f72 6d61 742e 0a20 2020 203a 7061   format..    :pa
+00009440: 7261 6d65 7465 7220 7374 7220 656e 645f  rameter str end_
+00009450: 7469 6d65 3a20 456e 6420 7469 6d65 2069  time: End time i
+00009460: 6e20 4848 3a4d 4d3a 5353 2066 6f72 6d61  n HH:MM:SS forma
+00009470: 742e 0a20 2020 203a 7061 7261 6d65 7465  t..    :paramete
+00009480: 7220 4f70 7469 6f6e 616c 5b55 6e69 6f6e  r Optional[Union
+00009490: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
+000094a0: 655d 5d20 6f75 745f 6469 723a 2049 6620  e]] out_dir: If 
+000094b0: 4e6f 6e65 2c20 7468 656e 2074 6865 2063  None, then the c
+000094c0: 6c69 7020 7769 6c6c 2062 6520 7374 6f72  lip will be stor
+000094d0: 6564 2069 6e20 7468 6520 7361 6d65 2064  ed in the same d
+000094e0: 6972 2061 7320 7468 6520 696e 7075 7420  ir as the input 
+000094f0: 7669 6465 6f2e 2049 6620 6469 7265 6374  video. If direct
+00009500: 6f72 792c 2074 6865 6e20 7468 6520 6c6f  ory, then the lo
+00009510: 6361 7469 6f6e 206f 6620 7468 6520 6f75  cation of the ou
+00009520: 7470 7574 2066 696c 6573 2e0a 2020 2020  tput files..    
+00009530: 3a70 6172 616d 6574 6572 204f 7074 696f  :parameter Optio
+00009540: 6e61 6c5b 626f 6f6c 5d20 696e 636c 7564  nal[bool] includ
+00009550: 655f 636c 6970 5f74 696d 655f 696e 5f66  e_clip_time_in_f
+00009560: 696c 656e 616d 653a 2049 6620 5472 7565  ilename: If True
+00009570: 2c20 696e 636c 7564 6520 7468 6520 636c  , include the cl
+00009580: 6970 2073 7461 7274 2061 6e64 2065 6e64  ip start and end
+00009590: 2069 6e20 4848 2d4d 4d2d 5353 2066 6f72   in HH-MM-SS for
+000095a0: 6d61 7420 6173 2073 7566 6669 7820 696e  mat as suffix in
+000095b0: 2074 6865 2066 696c 656e 616d 652e 2049   the filename. I
+000095c0: 6620 4661 6c73 652c 2074 6865 6e20 7573  f False, then us
+000095d0: 6520 696e 7465 6765 7220 7375 6666 6963  e integer suffic
+000095e0: 2072 6570 7265 7365 6e74 696e 6720 7468   representing th
+000095f0: 6520 636f 756e 742e 0a20 2020 203a 7061  e count..    :pa
+00009600: 7261 6d65 7465 7220 4f70 7469 6f6e 616c  rameter Optional
+00009610: 5b62 6f6f 6c5d 206f 7665 7277 7269 7465  [bool] overwrite
+00009620: 3a20 4966 2054 7275 652c 2074 6865 206f  : If True, the o
+00009630: 7665 7277 7269 7465 206f 7574 7075 7420  verwrite output 
+00009640: 6669 6c65 2069 6620 7061 7468 2061 6c72  file if path alr
+00009650: 6561 6479 2065 7869 7374 2e20 4966 2046  eady exist. If F
+00009660: 616c 7365 2c20 7468 656e 2072 6169 7365  alse, then raise
+00009670: 2046 696c 6545 7869 7374 4572 726f 722e   FileExistError.
+00009680: 0a20 2020 203a 7061 7261 6d65 7465 7220  .    :parameter 
+00009690: 4f70 7469 6f6e 616c 5b62 6f6f 6c5d 2067  Optional[bool] g
+000096a0: 7075 3a20 4966 2054 7275 652c 2075 7365  pu: If True, use
+000096b0: 204e 5649 4445 4120 4750 5520 636f 6465   NVIDEA GPU code
+000096c0: 6373 2e20 4465 6661 756c 7420 4661 6c73  cs. Default Fals
+000096d0: 652e 0a0a 2020 2020 3a65 7861 6d70 6c65  e...    :example
+000096e0: 3a0a 2020 2020 3e3e 3e20 5f20 3d20 636c  :.    >>> _ = cl
+000096f0: 6970 5f76 6964 656f 5f69 6e5f 7261 6e67  ip_video_in_rang
+00009700: 6528 6669 6c65 5f70 6174 683d 2770 726f  e(file_path='pro
+00009710: 6a65 6374 5f66 6f6c 6465 722f 7669 6465  ject_folder/vide
+00009720: 6f73 2f56 6964 656f 5f31 2e61 7669 272c  os/Video_1.avi',
+00009730: 2073 7461 7274 5f74 696d 653d 2730 303a   start_time='00:
+00009740: 3030 3a30 3527 2c20 656e 645f 7469 6d65  00:05', end_time
+00009750: 3d27 3030 3a30 303a 3130 2729 0a20 2020  ='00:00:10').   
+00009760: 2022 2222 0a0a 2020 2020 6368 6563 6b5f   """..    check_
+00009770: 6666 6d70 6567 5f61 7661 696c 6162 6c65  ffmpeg_available
+00009780: 2872 6169 7365 5f65 7272 6f72 3d54 7275  (raise_error=Tru
+00009790: 6529 0a20 2020 2069 6620 6770 7520 616e  e).    if gpu an
+000097a0: 6420 6e6f 7420 6368 6563 6b5f 6e76 6964  d not check_nvid
+000097b0: 6561 5f67 7075 5f61 7661 696c 6162 6c65  ea_gpu_available
+000097c0: 2829 3a0a 2020 2020 2020 2020 7261 6973  ():.        rais
+000097d0: 6520 4646 4d50 4547 436f 6465 6347 5055  e FFMPEGCodecGPU
+000097e0: 4572 726f 7228 0a20 2020 2020 2020 2020  Error(.         
+000097f0: 2020 206d 7367 3d22 4e6f 2047 5055 2066     msg="No GPU f
+00009800: 6f75 6e64 2028 6173 2065 7661 6c75 6174  ound (as evaluat
+00009810: 6564 2062 7920 6e76 6964 6561 2d73 6d69  ed by nvidea-smi
+00009820: 2072 6574 7572 6e69 6e67 204e 6f6e 6529   returning None)
+00009830: 222c 0a20 2020 2020 2020 2020 2020 2073  ",.            s
+00009840: 6f75 7263 653d 636c 6970 5f76 6964 656f  ource=clip_video
+00009850: 5f69 6e5f 7261 6e67 652e 5f5f 6e61 6d65  _in_range.__name
+00009860: 5f5f 2c0a 2020 2020 2020 2020 290a 2020  __,.        ).  
+00009870: 2020 7469 6d65 7220 3d20 5369 6d62 6154    timer = SimbaT
+00009880: 696d 6572 2873 7461 7274 3d54 7275 6529  imer(start=True)
+00009890: 0a20 2020 2063 6865 636b 5f66 696c 655f  .    check_file_
+000098a0: 6578 6973 745f 616e 645f 7265 6164 6162  exist_and_readab
+000098b0: 6c65 2866 696c 655f 7061 7468 3d66 696c  le(file_path=fil
+000098c0: 655f 7061 7468 290a 2020 2020 6469 722c  e_path).    dir,
+000098d0: 2066 696c 655f 6e61 6d65 2c20 6578 7420   file_name, ext 
+000098e0: 3d20 6765 745f 666e 5f65 7874 2866 696c  = get_fn_ext(fil
+000098f0: 6570 6174 683d 6669 6c65 5f70 6174 6829  epath=file_path)
+00009900: 0a20 2020 2069 6620 6f75 745f 6469 7220  .    if out_dir 
+00009910: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
+00009920: 2020 2020 2063 6865 636b 5f69 665f 6469       check_if_di
+00009930: 725f 6578 6973 7473 2869 6e5f 6469 723d  r_exists(in_dir=
+00009940: 6f75 745f 6469 7229 0a20 2020 2020 2020  out_dir).       
+00009950: 2064 6972 203d 206f 7574 5f64 6972 0a20   dir = out_dir. 
+00009960: 2020 2063 6865 636b 5f69 665f 7374 7269     check_if_stri
+00009970: 6e67 5f76 616c 7565 5f69 735f 7661 6c69  ng_value_is_vali
+00009980: 645f 7669 6465 6f5f 7469 6d65 7374 616d  d_video_timestam
+00009990: 7028 7661 6c75 653d 7374 6172 745f 7469  p(value=start_ti
+000099a0: 6d65 2c20 6e61 6d65 3d22 5354 4152 5420  me, name="START 
+000099b0: 5449 4d45 2229 0a20 2020 2063 6865 636b  TIME").    check
+000099c0: 5f69 665f 7374 7269 6e67 5f76 616c 7565  _if_string_value
+000099d0: 5f69 735f 7661 6c69 645f 7669 6465 6f5f  _is_valid_video_
+000099e0: 7469 6d65 7374 616d 7028 7661 6c75 653d  timestamp(value=
+000099f0: 656e 645f 7469 6d65 2c20 6e61 6d65 3d22  end_time, name="
+00009a00: 454e 4420 5449 4d45 2229 0a20 2020 2063  END TIME").    c
+00009a10: 6865 636b 5f74 6861 745f 6868 6d6d 7373  heck_that_hhmmss
+00009a20: 5f73 7461 7274 5f69 735f 6265 666f 7265  _start_is_before
+00009a30: 5f65 6e64 280a 2020 2020 2020 2020 7374  _end(.        st
+00009a40: 6172 745f 7469 6d65 3d73 7461 7274 5f74  art_time=start_t
+00009a50: 696d 652c 2065 6e64 5f74 696d 653d 656e  ime, end_time=en
+00009a60: 645f 7469 6d65 2c20 6e61 6d65 3d66 227b  d_time, name=f"{
+00009a70: 6669 6c65 5f6e 616d 657d 2074 696d 6573  file_name} times
+00009a80: 7461 6d70 7322 0a20 2020 2029 0a20 2020  tamps".    ).   
+00009a90: 2069 6620 6e6f 7420 696e 636c 7564 655f   if not include_
+00009aa0: 636c 6970 5f74 696d 655f 696e 5f66 696c  clip_time_in_fil
+00009ab0: 656e 616d 653a 0a20 2020 2020 2020 2073  ename:.        s
+00009ac0: 6176 655f 6e61 6d65 203d 206f 732e 7061  ave_name = os.pa
+00009ad0: 7468 2e6a 6f69 6e28 6469 722c 2066 696c  th.join(dir, fil
+00009ae0: 655f 6e61 6d65 202b 2022 5f63 6c69 7070  e_name + "_clipp
+00009af0: 6564 2e6d 7034 2229 0a20 2020 2065 6c73  ed.mp4").    els
+00009b00: 653a 0a20 2020 2020 2020 2073 6176 655f  e:.        save_
+00009b10: 6e61 6d65 203d 206f 732e 7061 7468 2e6a  name = os.path.j
+00009b20: 6f69 6e28 0a20 2020 2020 2020 2020 2020  oin(.           
+00009b30: 2064 6972 2c0a 2020 2020 2020 2020 2020   dir,.          
+00009b40: 2020 6669 6c65 5f6e 616d 650a 2020 2020    file_name.    
+00009b50: 2020 2020 2020 2020 2b20 6627 5f7b 7374          + f'_{st
+00009b60: 6172 745f 7469 6d65 2e72 6570 6c61 6365  art_time.replace
+00009b70: 2822 3a22 2c20 222d 2229 7d5f 7b65 6e64  (":", "-")}_{end
+00009b80: 5f74 696d 652e 7265 706c 6163 6528 223a  _time.replace(":
+00009b90: 222c 2022 2d22 297d 2e6d 7034 272c 0a20  ", "-")}.mp4',. 
+00009ba0: 2020 2020 2020 2029 0a20 2020 2069 6620         ).    if 
+00009bb0: 6f73 2e70 6174 682e 6973 6669 6c65 2873  os.path.isfile(s
+00009bc0: 6176 655f 6e61 6d65 2920 616e 6420 286e  ave_name) and (n
+00009bd0: 6f74 206f 7665 7277 7269 7465 293a 0a20  ot overwrite):. 
+00009be0: 2020 2020 2020 2072 6169 7365 2046 696c         raise Fil
+00009bf0: 6545 7869 7374 4572 726f 7228 0a20 2020  eExistError(.   
+00009c00: 2020 2020 2020 2020 206d 7367 3d66 2253           msg=f"S
+00009c10: 494d 4241 2045 5252 4f52 3a20 5468 6520  IMBA ERROR: The 
+00009c20: 6f75 7466 696c 6520 6669 6c65 2061 6c72  outfile file alr
+00009c30: 6561 6479 2065 7869 7374 3a20 7b73 6176  eady exist: {sav
+00009c40: 655f 6e61 6d65 7d2e 222c 0a20 2020 2020  e_name}.",.     
+00009c50: 2020 2020 2020 2073 6f75 7263 653d 636c         source=cl
+00009c60: 6970 5f76 6964 656f 5f69 6e5f 7261 6e67  ip_video_in_rang
+00009c70: 652e 5f5f 6e61 6d65 5f5f 2c0a 2020 2020  e.__name__,.    
+00009c80: 2020 2020 290a 2020 2020 6966 2067 7075      ).    if gpu
+00009c90: 3a0a 2020 2020 2020 2020 636f 6d6d 616e  :.        comman
+00009ca0: 6420 3d20 6627 6666 6d70 6567 202d 6877  d = f'ffmpeg -hw
+00009cb0: 6163 6365 6c20 6175 746f 202d 633a 7620  accel auto -c:v 
+00009cc0: 6832 3634 5f63 7576 6964 202d 6920 227b  h264_cuvid -i "{
+00009cd0: 6669 6c65 5f70 6174 687d 2220 2d73 7320  file_path}" -ss 
+00009ce0: 7b73 7461 7274 5f74 696d 657d 202d 746f  {start_time} -to
+00009cf0: 207b 656e 645f 7469 6d65 7d20 2d61 7379   {end_time} -asy
+00009d00: 6e63 2031 2022 7b73 6176 655f 6e61 6d65  nc 1 "{save_name
+00009d10: 7d22 202d 7927 0a20 2020 2065 6c73 653a  }" -y'.    else:
+00009d20: 0a20 2020 2020 2020 2063 6f6d 6d61 6e64  .        command
+00009d30: 203d 2066 2766 666d 7065 6720 2d69 2022   = f'ffmpeg -i "
+00009d40: 7b66 696c 655f 7061 7468 7d22 202d 7373  {file_path}" -ss
+00009d50: 207b 7374 6172 745f 7469 6d65 7d20 2d74   {start_time} -t
+00009d60: 6f20 7b65 6e64 5f74 696d 657d 202d 6173  o {end_time} -as
+00009d70: 796e 6320 3120 2d63 3a76 206c 6962 7670  ync 1 -c:v libvp
+00009d80: 782d 7670 3920 227b 7361 7665 5f6e 616d  x-vp9 "{save_nam
+00009d90: 657d 2220 2d79 270a 2020 2020 7072 696e  e}" -y'.    prin
+00009da0: 7428 6622 436c 6970 7069 6e67 2076 6964  t(f"Clipping vid
+00009db0: 656f 207b 6669 6c65 5f6e 616d 657d 2062  eo {file_name} b
+00009dc0: 6574 7765 656e 207b 7374 6172 745f 7469  etween {start_ti
+00009dd0: 6d65 7d20 616e 6420 7b65 6e64 5f74 696d  me} and {end_tim
+00009de0: 657d 2e2e 2e20 2229 0a20 2020 2073 7562  e}... ").    sub
+00009df0: 7072 6f63 6573 732e 6361 6c6c 2863 6f6d  process.call(com
+00009e00: 6d61 6e64 2c20 7368 656c 6c3d 5472 7565  mand, shell=True
+00009e10: 2c20 7374 646f 7574 3d73 7562 7072 6f63  , stdout=subproc
+00009e20: 6573 732e 5049 5045 290a 2020 2020 7469  ess.PIPE).    ti
+00009e30: 6d65 722e 7374 6f70 5f74 696d 6572 2829  mer.stop_timer()
+00009e40: 0a20 2020 2073 7464 6f75 745f 7375 6363  .    stdout_succ
+00009e50: 6573 7328 0a20 2020 2020 2020 206d 7367  ess(.        msg
+00009e60: 3d66 2256 6964 656f 2063 6f6e 7665 7274  =f"Video convert
+00009e70: 6564 2120 7b73 6176 655f 6e61 6d65 7d20  ed! {save_name} 
+00009e80: 6765 6e65 7261 7465 6421 222c 0a20 2020  generated!",.   
+00009e90: 2020 2020 2065 6c61 7073 6564 5f74 696d       elapsed_tim
+00009ea0: 653d 7469 6d65 722e 656c 6170 7365 645f  e=timer.elapsed_
+00009eb0: 7469 6d65 5f73 7472 2c0a 2020 2020 2020  time_str,.      
+00009ec0: 2020 736f 7572 6365 3d63 6c69 705f 7669    source=clip_vi
+00009ed0: 6465 6f5f 696e 5f72 616e 6765 2e5f 5f6e  deo_in_range.__n
+00009ee0: 616d 655f 5f2c 0a20 2020 2029 0a0a 0a64  ame__,.    )...d
+00009ef0: 6566 2064 6f77 6e73 616d 706c 655f 7669  ef downsample_vi
+00009f00: 6465 6f28 0a20 2020 2066 696c 655f 7061  deo(.    file_pa
+00009f10: 7468 3a20 556e 696f 6e5b 7374 722c 206f  th: Union[str, o
+00009f20: 732e 5061 7468 4c69 6b65 5d2c 0a20 2020  s.PathLike],.   
+00009f30: 2076 6964 656f 5f68 6569 6768 743a 2069   video_height: i
+00009f40: 6e74 2c0a 2020 2020 7669 6465 6f5f 7769  nt,.    video_wi
+00009f50: 6474 683a 2069 6e74 2c0a 2020 2020 6770  dth: int,.    gp
+00009f60: 753a 204f 7074 696f 6e61 6c5b 626f 6f6c  u: Optional[bool
+00009f70: 5d20 3d20 4661 6c73 652c 0a29 202d 3e20  ] = False,.) -> 
+00009f80: 4e6f 6e65 3a0a 2020 2020 2222 220a 2020  None:.    """.  
+00009f90: 2020 446f 776e 2d73 616d 706c 6520 6120    Down-sample a 
+00009fa0: 7669 6465 6f20 6669 6c65 2e20 5468 6520  video file. The 
+00009fb0: 7265 7375 6c74 2069 7320 7374 6f72 6564  result is stored
+00009fc0: 2069 6e20 7468 6520 7361 6d65 2064 6972   in the same dir
+00009fd0: 6563 746f 7279 2061 7320 7468 650a 2020  ectory as the.  
+00009fe0: 2020 696e 7075 7420 6669 6c65 2077 6974    input file wit
+00009ff0: 6820 7468 6520 6060 5f64 6f77 6e73 616d  h the ``_downsam
+0000a000: 706c 6564 2e6d 7034 6060 2073 7566 6669  pled.mp4`` suffi
+0000a010: 782e 0a0a 2020 2020 3a70 6172 616d 6574  x...    :paramet
+0000a020: 6572 2055 6e69 6f6e 5b73 7472 2c20 6f73  er Union[str, os
+0000a030: 2e50 6174 684c 696b 655d 2066 696c 655f  .PathLike] file_
+0000a040: 7061 7468 3a20 5061 7468 2074 6f20 7669  path: Path to vi
+0000a050: 6465 6f20 6669 6c65 2e0a 2020 2020 3a70  deo file..    :p
+0000a060: 6172 616d 6574 6572 2069 6e74 2076 6964  arameter int vid
+0000a070: 656f 5f68 6569 6768 743a 2068 6569 6768  eo_height: heigh
+0000a080: 7420 6f66 206e 6577 2076 6964 656f 2e0a  t of new video..
+0000a090: 2020 2020 3a70 6172 616d 6574 6572 2069      :parameter i
+0000a0a0: 6e74 2076 6964 656f 5f77 6964 7468 3a20  nt video_width: 
+0000a0b0: 7769 6474 6820 6f66 206e 6577 2076 6964  width of new vid
+0000a0c0: 656f 2e0a 2020 2020 3a70 6172 616d 6574  eo..    :paramet
+0000a0d0: 6572 204f 7074 696f 6e61 6c5b 626f 6f6c  er Optional[bool
+0000a0e0: 5d20 6770 753a 2049 6620 5472 7565 2c20  ] gpu: If True, 
+0000a0f0: 7573 6520 4e56 4944 4541 2047 5055 2063  use NVIDEA GPU c
+0000a100: 6f64 6563 732e 2044 6566 6175 6c74 2046  odecs. Default F
+0000a110: 616c 7365 2e0a 0a20 2020 203a 6578 616d  alse...    :exam
+0000a120: 706c 653a 0a20 2020 203e 3e3e 205f 203d  ple:.    >>> _ =
+0000a130: 2064 6f77 6e73 616d 706c 655f 7669 6465   downsample_vide
+0000a140: 6f28 6669 6c65 5f70 6174 683d 2770 726f  o(file_path='pro
+0000a150: 6a65 6374 5f66 6f6c 6465 722f 7669 6465  ject_folder/vide
+0000a160: 6f73 2f56 6964 656f 5f31 2e61 7669 272c  os/Video_1.avi',
+0000a170: 2076 6964 656f 5f68 6569 6768 743d 3630   video_height=60
+0000a180: 302c 2076 6964 656f 5f77 6964 7468 3d34  0, video_width=4
+0000a190: 3030 290a 2020 2020 2222 220a 2020 2020  00).    """.    
+0000a1a0: 6368 6563 6b5f 6666 6d70 6567 5f61 7661  check_ffmpeg_ava
+0000a1b0: 696c 6162 6c65 2872 6169 7365 5f65 7272  ilable(raise_err
+0000a1c0: 6f72 3d54 7275 6529 0a20 2020 2069 6620  or=True).    if 
+0000a1d0: 6770 7520 616e 6420 6e6f 7420 6368 6563  gpu and not chec
+0000a1e0: 6b5f 6e76 6964 6561 5f67 7075 5f61 7661  k_nvidea_gpu_ava
+0000a1f0: 696c 6162 6c65 2829 3a0a 2020 2020 2020  ilable():.      
+0000a200: 2020 7261 6973 6520 4646 4d50 4547 436f    raise FFMPEGCo
+0000a210: 6465 6347 5055 4572 726f 7228 0a20 2020  decGPUError(.   
+0000a220: 2020 2020 2020 2020 206d 7367 3d22 4e6f           msg="No
+0000a230: 2047 5055 2066 6f75 6e64 2028 6173 2065   GPU found (as e
+0000a240: 7661 6c75 6174 6564 2062 7920 6e76 6964  valuated by nvid
+0000a250: 6561 2d73 6d69 2072 6574 7572 6e69 6e67  ea-smi returning
+0000a260: 204e 6f6e 6529 222c 0a20 2020 2020 2020   None)",.       
+0000a270: 2020 2020 2073 6f75 7263 653d 646f 776e       source=down
+0000a280: 7361 6d70 6c65 5f76 6964 656f 2e5f 5f6e  sample_video.__n
+0000a290: 616d 655f 5f2c 0a20 2020 2020 2020 2029  ame__,.        )
+0000a2a0: 0a20 2020 2074 696d 6572 203d 2053 696d  .    timer = Sim
+0000a2b0: 6261 5469 6d65 7228 7374 6172 743d 5472  baTimer(start=Tr
+0000a2c0: 7565 290a 2020 2020 6368 6563 6b5f 696e  ue).    check_in
+0000a2d0: 7428 6e61 6d65 3d22 5669 6465 6f20 6865  t(name="Video he
+0000a2e0: 6967 6874 222c 2076 616c 7565 3d76 6964  ight", value=vid
+0000a2f0: 656f 5f68 6569 6768 7429 0a20 2020 2063  eo_height).    c
+0000a300: 6865 636b 5f69 6e74 286e 616d 653d 2256  heck_int(name="V
+0000a310: 6964 656f 2077 6964 7468 222c 2076 616c  ideo width", val
+0000a320: 7565 3d76 6964 656f 5f77 6964 7468 290a  ue=video_width).
+0000a330: 2020 2020 6368 6563 6b5f 6669 6c65 5f65      check_file_e
+0000a340: 7869 7374 5f61 6e64 5f72 6561 6461 626c  xist_and_readabl
+0000a350: 6528 6669 6c65 5f70 6174 683d 6669 6c65  e(file_path=file
+0000a360: 5f70 6174 6829 0a20 2020 2064 6972 2c20  _path).    dir, 
+0000a370: 6669 6c65 5f6e 616d 652c 2065 7874 203d  file_name, ext =
+0000a380: 2067 6574 5f66 6e5f 6578 7428 6669 6c65   get_fn_ext(file
+0000a390: 7061 7468 3d66 696c 655f 7061 7468 290a  path=file_path).
+0000a3a0: 2020 2020 7361 7665 5f6e 616d 6520 3d20      save_name = 
+0000a3b0: 6f73 2e70 6174 682e 6a6f 696e 2864 6972  os.path.join(dir
+0000a3c0: 2c20 6669 6c65 5f6e 616d 6520 2b20 225f  , file_name + "_
+0000a3d0: 646f 776e 7361 6d70 6c65 642e 6d70 3422  downsampled.mp4"
+0000a3e0: 290a 2020 2020 6966 206f 732e 7061 7468  ).    if os.path
+0000a3f0: 2e69 7366 696c 6528 7361 7665 5f6e 616d  .isfile(save_nam
+0000a400: 6529 3a0a 2020 2020 2020 2020 7261 6973  e):.        rais
+0000a410: 6520 4669 6c65 4578 6973 7445 7272 6f72  e FileExistError
+0000a420: 280a 2020 2020 2020 2020 2020 2020 2253  (.            "S
+0000a430: 494d 4241 2045 5252 4f52 3a20 5468 6520  IMBA ERROR: The 
+0000a440: 6f75 7466 696c 6520 6669 6c65 2061 6c72  outfile file alr
+0000a450: 6561 6479 2065 7869 7374 3a20 7b7d 2e22  eady exist: {}."
+0000a460: 2e66 6f72 6d61 7428 7361 7665 5f6e 616d  .format(save_nam
+0000a470: 6529 2c0a 2020 2020 2020 2020 2020 2020  e),.            
+0000a480: 736f 7572 6365 3d64 6f77 6e73 616d 706c  source=downsampl
+0000a490: 655f 7669 6465 6f2e 5f5f 6e61 6d65 5f5f  e_video.__name__
+0000a4a0: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
+0000a4b0: 6966 2067 7075 3a0a 2020 2020 2020 2020  if gpu:.        
+0000a4c0: 636f 6d6d 616e 6420 3d20 6627 6666 6d70  command = f'ffmp
+0000a4d0: 6567 202d 7920 2d68 7761 6363 656c 2061  eg -y -hwaccel a
+0000a4e0: 7574 6f20 2d63 3a76 2068 3236 345f 6375  uto -c:v h264_cu
+0000a4f0: 7669 6420 2d69 2022 7b66 696c 655f 7061  vid -i "{file_pa
+0000a500: 7468 7d22 202d 7666 2022 7363 616c 653d  th}" -vf "scale=
+0000a510: 773d 7b76 6964 656f 5f77 6964 7468 7d3a  w={video_width}:
+0000a520: 683d 7b76 6964 656f 5f68 6569 6768 747d  h={video_height}
+0000a530: 3a66 6f72 6365 5f6f 7269 6769 6e61 6c5f  :force_original_
+0000a540: 6173 7065 6374 5f72 6174 696f 3d64 6563  aspect_ratio=dec
+0000a550: 7265 6173 653a 666c 6167 733d 6269 6375  rease:flags=bicu
+0000a560: 6269 6322 202d 633a 7620 6832 3634 5f6e  bic" -c:v h264_n
+0000a570: 7665 6e63 2022 7b73 6176 655f 6e61 6d65  venc "{save_name
+0000a580: 7d22 270a 2020 2020 656c 7365 3a0a 2020  }"'.    else:.  
+0000a590: 2020 2020 2020 636f 6d6d 616e 6420 3d20        command = 
+0000a5a0: 6627 6666 6d70 6567 202d 6920 227b 6669  f'ffmpeg -i "{fi
+0000a5b0: 6c65 5f70 6174 687d 2220 2d76 6620 7363  le_path}" -vf sc
+0000a5c0: 616c 653d 7b76 6964 656f 5f77 6964 7468  ale={video_width
+0000a5d0: 7d3a 7b76 6964 656f 5f68 6569 6768 747d  }:{video_height}
+0000a5e0: 202d 633a 7620 6c69 6278 3236 3420 227b   -c:v libx264 "{
+0000a5f0: 7361 7665 5f6e 616d 657d 2220 2d6c 6f67  save_name}" -log
+0000a600: 6c65 7665 6c20 6572 726f 7220 2d73 7461  level error -sta
+0000a610: 7473 202d 6869 6465 5f62 616e 6e65 7227  ts -hide_banner'
+0000a620: 0a20 2020 2070 7269 6e74 2822 446f 776e  .    print("Down
+0000a630: 2d73 616d 706c 696e 6720 7669 6465 6f2e  -sampling video.
+0000a640: 2e2e 2022 290a 2020 2020 7375 6270 726f  .. ").    subpro
+0000a650: 6365 7373 2e63 616c 6c28 636f 6d6d 616e  cess.call(comman
+0000a660: 642c 2073 6865 6c6c 3d54 7275 652c 2073  d, shell=True, s
+0000a670: 7464 6f75 743d 7375 6270 726f 6365 7373  tdout=subprocess
+0000a680: 2e50 4950 4529 0a20 2020 2074 696d 6572  .PIPE).    timer
+0000a690: 2e73 746f 705f 7469 6d65 7228 290a 2020  .stop_timer().  
+0000a6a0: 2020 7374 646f 7574 5f73 7563 6365 7373    stdout_success
+0000a6b0: 280a 2020 2020 2020 2020 6d73 673d 6622  (.        msg=f"
+0000a6c0: 5349 4d42 4120 434f 4d50 4c45 5445 3a20  SIMBA COMPLETE: 
+0000a6d0: 5669 6465 6f20 636f 6e76 6572 7465 6421  Video converted!
+0000a6e0: 207b 7361 7665 5f6e 616d 657d 2067 656e   {save_name} gen
+0000a6f0: 6572 6174 6564 2122 2c0a 2020 2020 2020  erated!",.      
+0000a700: 2020 656c 6170 7365 645f 7469 6d65 3d74    elapsed_time=t
+0000a710: 696d 6572 2e65 6c61 7073 6564 5f74 696d  imer.elapsed_tim
+0000a720: 655f 7374 722c 0a20 2020 2020 2020 2073  e_str,.        s
+0000a730: 6f75 7263 653d 646f 776e 7361 6d70 6c65  ource=downsample
+0000a740: 5f76 6964 656f 2e5f 5f6e 616d 655f 5f2c  _video.__name__,
+0000a750: 0a20 2020 2029 0a0a 0a64 6566 2067 6966  .    )...def gif
+0000a760: 5f63 7265 6174 6f72 2866 696c 655f 7061  _creator(file_pa
+0000a770: 7468 3a20 556e 696f 6e5b 7374 722c 206f  th: Union[str, o
+0000a780: 732e 5061 7468 4c69 6b65 5d2c 0a20 2020  s.PathLike],.   
+0000a790: 2020 2020 2020 2020 2020 2020 2073 7461               sta
+0000a7a0: 7274 5f74 696d 653a 2069 6e74 2c0a 2020  rt_time: int,.  
+0000a7b0: 2020 2020 2020 2020 2020 2020 2020 6475                du
+0000a7c0: 7261 7469 6f6e 3a20 696e 742c 0a20 2020  ration: int,.   
+0000a7d0: 2020 2020 2020 2020 2020 2020 2077 6964               wid
+0000a7e0: 7468 3a20 4f70 7469 6f6e 616c 5b69 6e74  th: Optional[int
+0000a7f0: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
+0000a800: 2020 2020 2020 2020 2020 7175 616c 6974            qualit
+0000a810: 793a 204f 7074 696f 6e61 6c5b 696e 745d  y: Optional[int]
+0000a820: 203d 2031 3030 2c0a 2020 2020 2020 2020   = 100,.        
+0000a830: 2020 2020 2020 2020 6670 733a 204f 7074          fps: Opt
+0000a840: 696f 6e61 6c5b 696e 745d 203d 2031 352c  ional[int] = 15,
+0000a850: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a860: 2067 7075 3a20 4f70 7469 6f6e 616c 5b62   gpu: Optional[b
+0000a870: 6f6f 6c5d 203d 2046 616c 7365 2920 2d3e  ool] = False) ->
+0000a880: 204e 6f6e 653a 0a20 2020 2022 2222 0a20   None:.    """. 
+0000a890: 2020 2043 7265 6174 6520 6120 7361 6d70     Create a samp
+0000a8a0: 6c65 2067 6966 2066 726f 6d20 6120 7669  le gif from a vi
+0000a8b0: 6465 6f20 6669 6c65 2e20 5468 6520 7265  deo file. The re
+0000a8c0: 7375 6c74 2069 7320 7374 6f72 6564 2069  sult is stored i
+0000a8d0: 6e20 7468 6520 7361 6d65 2064 6972 6563  n the same direc
+0000a8e0: 746f 7279 2061 7320 7468 650a 2020 2020  tory as the.    
+0000a8f0: 696e 7075 7420 6669 6c65 2077 6974 6820  input file with 
+0000a900: 7468 6520 6060 2e67 6966 6060 2066 696c  the ``.gif`` fil
+0000a910: 652d 656e 6469 6e67 2e0a 0a20 2020 202e  e-ending...    .
+0000a920: 2e20 6e6f 7465 3a3a 0a20 2020 2020 2020  . note::.       
+0000a930: 5468 6520 6865 6967 6874 2069 7320 6175  The height is au
+0000a940: 746f 2d63 6f6d 7075 7465 6420 746f 2072  to-computed to r
+0000a950: 6574 6169 6e20 6173 7065 6374 2072 6174  etain aspect rat
+0000a960: 696f 0a0a 2020 2020 3a70 6172 616d 2055  io..    :param U
+0000a970: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
+0000a980: 684c 696b 655d 2066 696c 655f 7061 7468  hLike] file_path
+0000a990: 3a20 5061 7468 2074 6f20 7669 6465 6f20  : Path to video 
+0000a9a0: 6669 6c65 2e0a 2020 2020 3a70 6172 616d  file..    :param
+0000a9b0: 2069 6e74 2073 7461 7274 5f74 696d 653a   int start_time:
+0000a9c0: 2053 7461 7274 2074 696d 6520 6f66 2074   Start time of t
+0000a9d0: 6865 2067 6966 2069 6e20 7265 6c61 7469  he gif in relati
+0000a9e0: 6f6e 2074 6f20 7468 6520 7669 6465 6f20  on to the video 
+0000a9f0: 696e 2073 6563 6f6e 6473 2e0a 2020 2020  in seconds..    
+0000aa00: 3a70 6172 616d 2069 6e74 2064 7572 6174  :param int durat
+0000aa10: 696f 6e3a 2044 7572 6174 696f 6e20 6f66  ion: Duration of
+0000aa20: 2074 6865 2067 6966 2e0a 2020 2020 3a70   the gif..    :p
+0000aa30: 6172 616d 2069 6e74 2077 6964 7468 3a20  aram int width: 
+0000aa40: 5769 6474 6820 6f66 2074 6865 2067 6966  Width of the gif
+0000aa50: 2e20 4966 204e 6f6e 652c 2074 6865 6e20  . If None, then 
+0000aa60: 7265 7461 696e 7320 7468 6520 7769 6474  retains the widt
+0000aa70: 6820 616e 6420 6865 6967 6874 206f 6620  h and height of 
+0000aa80: 7468 6520 696e 7075 7420 7669 6465 6f2e  the input video.
+0000aa90: 0a20 2020 203a 7061 7261 6d20 696e 7420  .    :param int 
+0000aaa0: 6670 733a 2046 5053 206f 6620 7468 6520  fps: FPS of the 
+0000aab0: 6769 662e 2044 6566 6175 6c74 7320 746f  gif. Defaults to
+0000aac0: 2031 352e 0a20 2020 203a 7061 7261 6d20   15..    :param 
+0000aad0: 696e 7420 7175 616c 6974 793a 2051 7561  int quality: Qua
+0000aae0: 6c69 7479 206f 6620 7468 6520 4749 4620  lity of the GIF 
+0000aaf0: 6f6e 2073 6361 6c65 2031 2d31 3030 2e20  on scale 1-100. 
+0000ab00: 536d 616c 6c65 7220 7661 6c75 6573 2067  Smaller values g
+0000ab10: 6976 6573 2073 6d61 6c6c 6572 2047 4946  ives smaller GIF
+0000ab20: 7320 6279 2066 696c 6573 697a 6520 7769  s by filesize wi
+0000ab30: 7468 2077 6f72 7365 2071 7561 6c69 7479  th worse quality
+0000ab40: 2e20 4465 6661 756c 743a 2031 3030 2e0a  . Default: 100..
+0000ab50: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
+0000ab60: 6e61 6c5b 626f 6f6c 5d20 6770 753a 2049  nal[bool] gpu: I
+0000ab70: 6620 5472 7565 2c20 7573 6520 4e56 4944  f True, use NVID
+0000ab80: 4541 2047 5055 2063 6f64 6563 732e 2044  EA GPU codecs. D
+0000ab90: 6566 6175 6c74 2046 616c 7365 2e0a 0a20  efault False... 
+0000aba0: 2020 203a 6578 616d 706c 653a 0a20 2020     :example:.   
+0000abb0: 203e 3e3e 205f 203d 2067 6966 5f63 7265   >>> _ = gif_cre
+0000abc0: 6174 6f72 2866 696c 655f 7061 7468 3d27  ator(file_path='
+0000abd0: 7072 6f6a 6563 745f 666f 6c64 6572 2f76  project_folder/v
+0000abe0: 6964 656f 732f 5669 6465 6f5f 312e 6176  ideos/Video_1.av
+0000abf0: 6927 2c20 7374 6172 745f 7469 6d65 3d35  i', start_time=5
+0000ac00: 2c20 6475 7261 7469 6f6e 3d31 302c 2077  , duration=10, w
+0000ac10: 6964 7468 3d36 3030 290a 2020 2020 2222  idth=600).    ""
+0000ac20: 220a 0a20 2020 2063 6865 636b 5f66 666d  "..    check_ffm
+0000ac30: 7065 675f 6176 6169 6c61 626c 6528 7261  peg_available(ra
+0000ac40: 6973 655f 6572 726f 723d 5472 7565 290a  ise_error=True).
+0000ac50: 2020 2020 6966 2067 7075 2061 6e64 206e      if gpu and n
+0000ac60: 6f74 2063 6865 636b 5f6e 7669 6465 615f  ot check_nvidea_
+0000ac70: 6770 755f 6176 6169 6c61 626c 6528 293a  gpu_available():
+0000ac80: 0a20 2020 2020 2020 2072 6169 7365 2046  .        raise F
+0000ac90: 464d 5045 4743 6f64 6563 4750 5545 7272  FMPEGCodecGPUErr
+0000aca0: 6f72 286d 7367 3d22 4e56 4944 4541 2047  or(msg="NVIDEA G
+0000acb0: 5055 206e 6f74 2061 7661 696c 6162 6c65  PU not available
+0000acc0: 2028 6173 2065 7661 6c75 6174 6564 2062   (as evaluated b
+0000acd0: 7920 6e76 6964 6561 2d73 6d69 2072 6574  y nvidea-smi ret
+0000ace0: 7572 6e69 6e67 204e 6f6e 6522 2c20 736f  urning None", so
+0000acf0: 7572 6365 3d67 6966 5f63 7265 6174 6f72  urce=gif_creator
+0000ad00: 2e5f 5f6e 616d 655f 5f29 0a20 2020 2074  .__name__).    t
+0000ad10: 696d 6572 203d 2053 696d 6261 5469 6d65  imer = SimbaTime
+0000ad20: 7228 7374 6172 743d 5472 7565 290a 2020  r(start=True).  
+0000ad30: 2020 6368 6563 6b5f 6669 6c65 5f65 7869    check_file_exi
+0000ad40: 7374 5f61 6e64 5f72 6561 6461 626c 6528  st_and_readable(
+0000ad50: 6669 6c65 5f70 6174 683d 6669 6c65 5f70  file_path=file_p
+0000ad60: 6174 6829 0a20 2020 2063 6865 636b 5f69  ath).    check_i
+0000ad70: 6e74 286e 616d 653d 2253 7461 7274 2074  nt(name="Start t
+0000ad80: 696d 6522 2c20 7661 6c75 653d 7374 6172  ime", value=star
+0000ad90: 745f 7469 6d65 2c20 6d69 6e5f 7661 6c75  t_time, min_valu
+0000ada0: 653d 3029 0a20 2020 2063 6865 636b 5f69  e=0).    check_i
+0000adb0: 6e74 286e 616d 653d 2244 7572 6174 696f  nt(name="Duratio
+0000adc0: 6e22 2c20 7661 6c75 653d 6475 7261 7469  n", value=durati
+0000add0: 6f6e 2c20 6d69 6e5f 7661 6c75 653d 3129  on, min_value=1)
+0000ade0: 0a20 2020 2076 6964 656f 5f6d 6574 615f  .    video_meta_
+0000adf0: 6461 7461 203d 2067 6574 5f76 6964 656f  data = get_video
+0000ae00: 5f6d 6574 615f 6461 7461 2866 696c 655f  _meta_data(file_
+0000ae10: 7061 7468 290a 2020 2020 6966 2077 6964  path).    if wid
+0000ae20: 7468 2069 7320 4e6f 6e65 3a0a 2020 2020  th is None:.    
+0000ae30: 2020 2020 7769 6474 6820 3d20 7669 6465      width = vide
+0000ae40: 6f5f 6d65 7461 5f64 6174 615b 2777 6964  o_meta_data['wid
+0000ae50: 7468 275d 0a20 2020 2063 6865 636b 5f69  th'].    check_i
+0000ae60: 6e74 286e 616d 653d 2257 6964 7468 222c  nt(name="Width",
+0000ae70: 2076 616c 7565 3d77 6964 7468 2c20 6d69   value=width, mi
+0000ae80: 6e5f 7661 6c75 653d 3229 0a20 2020 2063  n_value=2).    c
+0000ae90: 6865 636b 5f69 6e74 286e 616d 653d 2246  heck_int(name="F
+0000aea0: 5053 222c 2076 616c 7565 3d66 7073 2c20  PS", value=fps, 
+0000aeb0: 6d69 6e5f 7661 6c75 653d 3129 0a20 2020  min_value=1).   
+0000aec0: 2063 6865 636b 5f69 6e74 286e 616d 653d   check_int(name=
+0000aed0: 2251 5541 4c49 5459 222c 2076 616c 7565  "QUALITY", value
+0000aee0: 3d71 7561 6c69 7479 2c20 6d69 6e5f 7661  =quality, min_va
+0000aef0: 6c75 653d 312c 206d 6178 5f76 616c 7565  lue=1, max_value
+0000af00: 3d31 3030 290a 2020 2020 7175 616c 6974  =100).    qualit
+0000af10: 7920 3d20 696e 7428 2871 7561 6c69 7479  y = int((quality
+0000af20: 202d 2031 2920 2f20 2831 3030 202d 2031   - 1) / (100 - 1
+0000af30: 2920 2a20 2832 3536 202d 2031 2920 2b20  ) * (256 - 1) + 
+0000af40: 3129 0a20 2020 2069 6620 7769 6474 6820  1).    if width 
+0000af50: 2520 3220 213d 2030 3a20 7769 6474 6820  % 2 != 0: width 
+0000af60: 2d3d 2031 0a20 2020 2069 6620 7175 616c  -= 1.    if qual
+0000af70: 6974 7920 3d3d 2031 3a20 7175 616c 6974  ity == 1: qualit
+0000af80: 7920 2b3d 2031 0a20 2020 2069 6620 2869  y += 1.    if (i
+0000af90: 6e74 2873 7461 7274 5f74 696d 6529 202b  nt(start_time) +
+0000afa0: 2069 6e74 2864 7572 6174 696f 6e29 2920   int(duration)) 
+0000afb0: 3e20 7669 6465 6f5f 6d65 7461 5f64 6174  > video_meta_dat
+0000afc0: 615b 2276 6964 656f 5f6c 656e 6774 685f  a["video_length_
+0000afd0: 7322 5d3a 0a20 2020 2020 2020 2072 6169  s"]:.        rai
+0000afe0: 7365 2046 7261 6d65 5261 6e67 6545 7272  se FrameRangeErr
+0000aff0: 6f72 286d 7367 3d66 2754 6865 2065 6e64  or(msg=f'The end
+0000b000: 206f 6620 7468 6520 6769 6620 2873 7461   of the gif (sta
+0000b010: 7274 2074 696d 653a 207b 7374 6172 745f  rt time: {start_
+0000b020: 7469 6d65 7d20 2b20 6475 7261 7469 6f6e  time} + duration
+0000b030: 3a20 7b64 7572 6174 696f 6e7d 2920 6973  : {duration}) is
+0000b040: 206c 6f6e 6765 7220 7468 616e 2074 6865   longer than the
+0000b050: 207b 6669 6c65 5f70 6174 687d 2076 6964   {file_path} vid
+0000b060: 656f 3a20 7b76 6964 656f 5f6d 6574 615f  eo: {video_meta_
+0000b070: 6461 7461 5b22 7669 6465 6f5f 6c65 6e67  data["video_leng
+0000b080: 7468 5f73 225d 7d73 272c 2073 6f75 7263  th_s"]}s', sourc
+0000b090: 653d 6769 665f 6372 6561 746f 722e 5f5f  e=gif_creator.__
+0000b0a0: 6e61 6d65 5f5f 290a 2020 2020 6469 722c  name__).    dir,
+0000b0b0: 2066 696c 655f 6e61 6d65 2c20 6578 7420   file_name, ext 
+0000b0c0: 3d20 6765 745f 666e 5f65 7874 2866 696c  = get_fn_ext(fil
+0000b0d0: 6570 6174 683d 6669 6c65 5f70 6174 6829  epath=file_path)
+0000b0e0: 0a20 2020 2073 6176 655f 6e61 6d65 203d  .    save_name =
+0000b0f0: 206f 732e 7061 7468 2e6a 6f69 6e28 6469   os.path.join(di
+0000b100: 722c 2066 227b 6669 6c65 5f6e 616d 657d  r, f"{file_name}
+0000b110: 2e67 6966 2229 0a20 2020 2069 6620 6770  .gif").    if gp
+0000b120: 753a 0a20 2020 2020 2020 2063 6f6d 6d61  u:.        comma
+0000b130: 6e64 203d 2066 2766 666d 7065 6720 2d68  nd = f'ffmpeg -h
+0000b140: 7761 6363 656c 2061 7574 6f20 2d63 3a76  waccel auto -c:v
+0000b150: 2068 3236 345f 6375 7669 6420 2d73 7320   h264_cuvid -ss 
+0000b160: 7b73 7461 7274 5f74 696d 657d 202d 6920  {start_time} -i 
+0000b170: 227b 6669 6c65 5f70 6174 687d 2220 2d74  "{file_path}" -t
+0000b180: 6f20 7b64 7572 6174 696f 6e7d 202d 7666  o {duration} -vf
+0000b190: 2022 6670 733d 3130 2c73 6361 6c65 3d7b   "fps=10,scale={
+0000b1a0: 7769 6474 687d 3a2d 3122 202d 633a 7620  width}:-1" -c:v 
+0000b1b0: 6769 6620 2d70 6978 5f66 6d74 2072 6762  gif -pix_fmt rgb
+0000b1c0: 3234 202d 7920 227b 7361 7665 5f6e 616d  24 -y "{save_nam
+0000b1d0: 657d 2220 2d79 270a 2020 2020 656c 7365  e}" -y'.    else
+0000b1e0: 3a0a 2020 2020 2020 2020 636f 6d6d 616e  :.        comman
+0000b1f0: 6420 3d20 6627 6666 6d70 6567 202d 7373  d = f'ffmpeg -ss
+0000b200: 207b 7374 6172 745f 7469 6d65 7d20 2d74   {start_time} -t
+0000b210: 207b 6475 7261 7469 6f6e 7d20 2d69 2022   {duration} -i "
+0000b220: 7b66 696c 655f 7061 7468 7d22 202d 6669  {file_path}" -fi
+0000b230: 6c74 6572 5f63 6f6d 706c 6578 2022 5b30  lter_complex "[0
+0000b240: 3a76 5d20 6670 733d 7b66 7073 7d2c 7363  :v] fps={fps},sc
+0000b250: 616c 653d 773d 7b77 6964 7468 7d3a 683d  ale=w={width}:h=
+0000b260: 2d31 3a66 6c61 6773 3d6c 616e 637a 6f73  -1:flags=lanczos
+0000b270: 2c73 706c 6974 205b 615d 5b62 5d3b 5b61  ,split [a][b];[a
+0000b280: 5d20 7061 6c65 7474 6567 656e 3d73 7461  ] palettegen=sta
+0000b290: 7473 5f6d 6f64 653d 7369 6e67 6c65 3a6d  ts_mode=single:m
+0000b2a0: 6178 5f63 6f6c 6f72 733d 7b71 7561 6c69  ax_colors={quali
+0000b2b0: 7479 7d20 5b70 5d3b 5b62 5d5b 705d 2070  ty} [p];[b][p] p
+0000b2c0: 616c 6574 7465 7573 653d 6469 7468 6572  aletteuse=dither
+0000b2d0: 3d62 6179 6572 3a62 6179 6572 5f73 6361  =bayer:bayer_sca
+0000b2e0: 6c65 3d33 2220 227b 7361 7665 5f6e 616d  le=3" "{save_nam
+0000b2f0: 657d 2220 2d6c 6f67 6c65 7665 6c20 6572  e}" -loglevel er
+0000b300: 726f 7220 2d73 7461 7473 202d 6869 6465  ror -stats -hide
+0000b310: 5f62 616e 6e65 7220 2d79 270a 2020 2020  _banner -y'.    
+0000b320: 7072 696e 7428 2243 7265 6174 696e 6720  print("Creating 
+0000b330: 6769 6620 7361 6d70 6c65 2e2e 2e20 2229  gif sample... ")
+0000b340: 0a20 2020 2073 7562 7072 6f63 6573 732e  .    subprocess.
+0000b350: 6361 6c6c 2863 6f6d 6d61 6e64 2c20 7368  call(command, sh
+0000b360: 656c 6c3d 5472 7565 2c20 7374 646f 7574  ell=True, stdout
+0000b370: 3d73 7562 7072 6f63 6573 732e 5049 5045  =subprocess.PIPE
+0000b380: 290a 2020 2020 7469 6d65 722e 7374 6f70  ).    timer.stop
+0000b390: 5f74 696d 6572 2829 0a20 2020 2073 7464  _timer().    std
+0000b3a0: 6f75 745f 7375 6363 6573 7328 6d73 673d  out_success(msg=
+0000b3b0: 6622 5349 4d42 4120 434f 4d50 4c45 5445  f"SIMBA COMPLETE
+0000b3c0: 3a20 5669 6465 6f20 636f 6e76 6572 7465  : Video converte
+0000b3d0: 6421 207b 7361 7665 5f6e 616d 657d 2067  d! {save_name} g
+0000b3e0: 656e 6572 6174 6564 2122 2c20 656c 6170  enerated!", elap
+0000b3f0: 7365 645f 7469 6d65 3d74 696d 6572 2e65  sed_time=timer.e
+0000b400: 6c61 7073 6564 5f74 696d 655f 7374 722c  lapsed_time_str,
+0000b410: 2073 6f75 7263 653d 6769 665f 6372 6561   source=gif_crea
+0000b420: 746f 722e 5f5f 6e61 6d65 5f5f 290a 0a0a  tor.__name__)...
+0000b430: 2320 6769 665f 6372 6561 746f 7228 6669  # gif_creator(fi
+0000b440: 6c65 5f70 6174 683d 7227 2f55 7365 7273  le_path=r'/Users
+0000b450: 2f73 696d 6f6e 2f44 6573 6b74 6f70 2f65  /simon/Desktop/e
+0000b460: 6e76 732f 7369 6d62 612f 7472 6f75 626c  nvs/simba/troubl
+0000b470: 6573 686f 6f74 696e 672f 6d6f 7573 655f  eshooting/mouse_
+0000b480: 6f70 656e 5f66 6965 6c64 2f70 726f 6a65  open_field/proje
+0000b490: 6374 5f66 6f6c 6465 722f 7669 6465 6f73  ct_folder/videos
+0000b4a0: 2f53 495f 4441 5933 5f33 3038 5f43 4431  /SI_DAY3_308_CD1
+0000b4b0: 5f50 5245 5345 4e54 2e6d 7034 272c 2073  _PRESENT.mp4', s
+0000b4c0: 7461 7274 5f74 696d 653d 352c 2064 7572  tart_time=5, dur
+0000b4d0: 6174 696f 6e3d 3135 2c20 7769 6474 683d  ation=15, width=
+0000b4e0: 3630 302c 2067 7075 3d46 616c 7365 290a  600, gpu=False).
+0000b4f0: 0a0a 6465 6620 6261 7463 685f 636f 6e76  ..def batch_conv
+0000b500: 6572 745f 7669 6465 6f5f 666f 726d 6174  ert_video_format
+0000b510: 280a 2020 2020 6469 7265 6374 6f72 793a  (.    directory:
+0000b520: 2055 6e69 6f6e 5b73 7472 2c20 6f73 2e50   Union[str, os.P
+0000b530: 6174 684c 696b 655d 2c0a 2020 2020 696e  athLike],.    in
+0000b540: 7075 745f 666f 726d 6174 3a20 7374 722c  put_format: str,
+0000b550: 0a20 2020 206f 7574 7075 745f 666f 726d  .    output_form
+0000b560: 6174 3a20 7374 722c 0a20 2020 2067 7075  at: str,.    gpu
+0000b570: 3a20 4f70 7469 6f6e 616c 5b62 6f6f 6c5d  : Optional[bool]
+0000b580: 203d 2046 616c 7365 2c0a 2920 2d3e 204e   = False,.) -> N
+0000b590: 6f6e 653a 0a20 2020 2022 2222 0a20 2020  one:.    """.   
+0000b5a0: 2042 6174 6368 2063 6f6e 7665 7274 2061   Batch convert a
+0000b5b0: 6c6c 2076 6964 656f 7320 696e 2061 2066  ll videos in a f
+0000b5c0: 6f6c 6465 7220 6f66 2073 7065 6369 6669  older of specifi
+0000b5d0: 6320 666f 726d 6174 2069 6e74 6f20 6120  c format into a 
+0000b5e0: 6469 6666 6572 656e 7420 7669 6465 6f20  different video 
+0000b5f0: 666f 726d 6174 2e20 5468 6520 7265 7375  format. The resu
+0000b600: 6c74 7320 6172 650a 2020 2020 7374 6f72  lts are.    stor
+0000b610: 6564 2069 6e20 7468 6520 7361 6d65 2064  ed in the same d
+0000b620: 6972 6563 746f 7279 2061 7320 7468 6520  irectory as the 
+0000b630: 696e 7075 7420 6669 6c65 732e 0a0a 2020  input files...  
+0000b640: 2020 3a70 6172 616d 6574 6572 2055 6e69    :parameter Uni
+0000b650: 6f6e 5b73 7472 2c20 6f73 2e50 6174 684c  on[str, os.PathL
+0000b660: 696b 655d 2064 6972 6563 746f 7279 3a20  ike] directory: 
+0000b670: 5061 7468 2074 6f20 7669 6465 6f20 6669  Path to video fi
+0000b680: 6c65 2064 6972 6563 746f 7279 2e0a 2020  le directory..  
+0000b690: 2020 3a70 6172 616d 6574 6572 2073 7472    :parameter str
+0000b6a0: 2069 6e70 7574 5f66 6f72 6d61 743a 2046   input_format: F
+0000b6b0: 6f72 6d61 7420 6f66 2074 6865 2069 6e70  ormat of the inp
+0000b6c0: 7574 2066 696c 6573 2028 652e 672e 2c20  ut files (e.g., 
+0000b6d0: 6176 6929 2e0a 2020 2020 3a70 6172 616d  avi)..    :param
+0000b6e0: 6574 6572 2073 7472 206f 7574 7075 745f  eter str output_
+0000b6f0: 666f 726d 6174 3a20 466f 726d 6174 206f  format: Format o
+0000b700: 6620 7468 6520 6f75 7470 7574 2066 696c  f the output fil
+0000b710: 6573 2028 652e 672e 2c20 6d70 3429 2e0a  es (e.g., mp4)..
+0000b720: 2020 2020 3a70 6172 616d 6574 6572 204f      :parameter O
+0000b730: 7074 696f 6e61 6c5b 626f 6f6c 5d20 6770  ptional[bool] gp
+0000b740: 753a 2049 6620 5472 7565 2c20 7573 6520  u: If True, use 
+0000b750: 4e56 4944 4541 2047 5055 2063 6f64 6563  NVIDEA GPU codec
+0000b760: 732e 2044 6566 6175 6c74 2046 616c 7365  s. Default False
+0000b770: 2e0a 0a20 2020 203a 6578 616d 706c 653a  ...    :example:
+0000b780: 0a20 2020 203e 3e3e 205f 203d 2062 6174  .    >>> _ = bat
+0000b790: 6368 5f63 6f6e 7665 7274 5f76 6964 656f  ch_convert_video
+0000b7a0: 5f66 6f72 6d61 7428 6469 7265 6374 6f72  _format(director
+0000b7b0: 793d 2770 726f 6a65 6374 5f66 6f6c 6465  y='project_folde
+0000b7c0: 722f 7669 6465 6f73 272c 2069 6e70 7574  r/videos', input
+0000b7d0: 5f66 6f72 6d61 743d 2761 7669 272c 206f  _format='avi', o
+0000b7e0: 7574 7075 745f 666f 726d 6174 3d27 6d70  utput_format='mp
+0000b7f0: 3427 290a 2020 2020 2222 220a 0a20 2020  4').    """..   
+0000b800: 2063 6865 636b 5f66 666d 7065 675f 6176   check_ffmpeg_av
+0000b810: 6169 6c61 626c 6528 7261 6973 655f 6572  ailable(raise_er
+0000b820: 726f 723d 5472 7565 290a 2020 2020 6966  ror=True).    if
+0000b830: 2067 7075 2061 6e64 206e 6f74 2063 6865   gpu and not che
+0000b840: 636b 5f6e 7669 6465 615f 6770 755f 6176  ck_nvidea_gpu_av
+0000b850: 6169 6c61 626c 6528 293a 0a20 2020 2020  ailable():.     
+0000b860: 2020 2072 6169 7365 2046 464d 5045 4743     raise FFMPEGC
+0000b870: 6f64 6563 4750 5545 7272 6f72 280a 2020  odecGPUError(.  
+0000b880: 2020 2020 2020 2020 2020 6d73 673d 224e            msg="N
+0000b890: 5649 4445 4120 4750 5520 6e6f 7420 6176  VIDEA GPU not av
+0000b8a0: 6169 6c61 626c 6520 2861 7320 6576 616c  ailable (as eval
+0000b8b0: 7561 7465 6420 6279 206e 7669 6465 612d  uated by nvidea-
+0000b8c0: 736d 6920 7265 7475 726e 696e 6720 4e6f  smi returning No
+0000b8d0: 6e65 222c 0a20 2020 2020 2020 2020 2020  ne",.           
+0000b8e0: 2073 6f75 7263 653d 6261 7463 685f 636f   source=batch_co
+0000b8f0: 6e76 6572 745f 7669 6465 6f5f 666f 726d  nvert_video_form
+0000b900: 6174 2e5f 5f6e 616d 655f 5f2c 0a20 2020  at.__name__,.   
+0000b910: 2020 2020 2029 0a20 2020 2069 6620 696e       ).    if in
+0000b920: 7075 745f 666f 726d 6174 203d 3d20 6f75  put_format == ou
+0000b930: 7470 7574 5f66 6f72 6d61 743a 0a20 2020  tput_format:.   
+0000b940: 2020 2020 2072 6169 7365 2049 6e76 616c       raise Inval
+0000b950: 6964 4669 6c65 5479 7065 4572 726f 7228  idFileTypeError(
+0000b960: 0a20 2020 2020 2020 2020 2020 206d 7367  .            msg
+0000b970: 3d66 2254 6865 2069 6e70 7574 2066 6f72  =f"The input for
+0000b980: 6d61 7420 287b 696e 7075 745f 666f 726d  mat ({input_form
+0000b990: 6174 7d29 2069 7320 7468 6520 7361 6d65  at}) is the same
+0000b9a0: 2061 7320 7468 6520 6f75 7470 7574 2066   as the output f
+0000b9b0: 6f72 6d61 7420 287b 6f75 7470 7574 5f66  ormat ({output_f
+0000b9c0: 6f72 6d61 747d 2922 2c0a 2020 2020 2020  ormat})",.      
+0000b9d0: 2020 2020 2020 736f 7572 6365 3d62 6174        source=bat
+0000b9e0: 6368 5f63 6f6e 7665 7274 5f76 6964 656f  ch_convert_video
+0000b9f0: 5f66 6f72 6d61 742e 5f5f 6e61 6d65 5f5f  _format.__name__
+0000ba00: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
+0000ba10: 6966 206e 6f74 206f 732e 7061 7468 2e69  if not os.path.i
+0000ba20: 7364 6972 2864 6972 6563 746f 7279 293a  sdir(directory):
+0000ba30: 0a20 2020 2020 2020 2072 6169 7365 204e  .        raise N
+0000ba40: 6f74 4469 7265 6374 6f72 7945 7272 6f72  otDirectoryError
+0000ba50: 280a 2020 2020 2020 2020 2020 2020 6d73  (.            ms
+0000ba60: 673d 2253 494d 4241 2045 5252 4f52 3a20  g="SIMBA ERROR: 
+0000ba70: 7b7d 2069 7320 6e6f 7420 6120 7661 6c69  {} is not a vali
+0000ba80: 6420 6469 7265 6374 6f72 7922 2e66 6f72  d directory".for
+0000ba90: 6d61 7428 6469 7265 6374 6f72 7929 2c0a  mat(directory),.
+0000baa0: 2020 2020 2020 2020 2020 2020 736f 7572              sour
+0000bab0: 6365 3d62 6174 6368 5f63 6f6e 7665 7274  ce=batch_convert
+0000bac0: 5f76 6964 656f 5f66 6f72 6d61 742e 5f5f  _video_format.__
+0000bad0: 6e61 6d65 5f5f 2c0a 2020 2020 2020 2020  name__,.        
+0000bae0: 290a 2020 2020 7669 6465 6f5f 7061 7468  ).    video_path
+0000baf0: 7320 3d20 5b5d 0a20 2020 2066 696c 655f  s = [].    file_
+0000bb00: 7061 7468 735f 696e 5f66 6f6c 6465 7220  paths_in_folder 
+0000bb10: 3d20 5b66 2066 6f72 2066 2069 6e20 676c  = [f for f in gl
+0000bb20: 6f62 2e67 6c6f 6228 6469 7265 6374 6f72  ob.glob(director
+0000bb30: 7920 2b20 222f 2a22 2920 6966 206f 732e  y + "/*") if os.
+0000bb40: 7061 7468 2e69 7366 696c 6528 6629 5d0a  path.isfile(f)].
+0000bb50: 2020 2020 666f 7220 6669 6c65 5f70 6174      for file_pat
+0000bb60: 6820 696e 2066 696c 655f 7061 7468 735f  h in file_paths_
+0000bb70: 696e 5f66 6f6c 6465 723a 0a20 2020 2020  in_folder:.     
+0000bb80: 2020 205f 2c20 5f2c 2065 7874 203d 2067     _, _, ext = g
+0000bb90: 6574 5f66 6e5f 6578 7428 6669 6c65 7061  et_fn_ext(filepa
+0000bba0: 7468 3d66 696c 655f 7061 7468 290a 2020  th=file_path).  
+0000bbb0: 2020 2020 2020 6966 2065 7874 2e6c 6f77        if ext.low
+0000bbc0: 6572 2829 203d 3d20 222e 7b7d 222e 666f  er() == ".{}".fo
+0000bbd0: 726d 6174 2869 6e70 7574 5f66 6f72 6d61  rmat(input_forma
+0000bbe0: 742e 6c6f 7765 7228 2929 3a0a 2020 2020  t.lower()):.    
+0000bbf0: 2020 2020 2020 2020 7669 6465 6f5f 7061          video_pa
+0000bc00: 7468 732e 6170 7065 6e64 2866 696c 655f  ths.append(file_
+0000bc10: 7061 7468 290a 2020 2020 6966 206c 656e  path).    if len
+0000bc20: 2876 6964 656f 5f70 6174 6873 2920 3c20  (video_paths) < 
+0000bc30: 313a 0a20 2020 2020 2020 2072 6169 7365  1:.        raise
+0000bc40: 204e 6f46 696c 6573 466f 756e 6445 7272   NoFilesFoundErr
+0000bc50: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
+0000bc60: 6d73 673d 2253 494d 4241 2045 5252 4f52  msg="SIMBA ERROR
+0000bc70: 3a20 4e6f 2066 696c 6573 2077 6974 6820  : No files with 
+0000bc80: 2e7b 7d20 6669 6c65 2065 7874 656e 7369  .{} file extensi
+0000bc90: 6f6e 2066 6f75 6e64 2069 6e20 7468 6520  on found in the 
+0000bca0: 7b7d 2064 6972 6563 746f 7279 222e 666f  {} directory".fo
+0000bcb0: 726d 6174 280a 2020 2020 2020 2020 2020  rmat(.          
+0000bcc0: 2020 2020 2020 696e 7075 745f 666f 726d        input_form
+0000bcd0: 6174 2c20 6469 7265 6374 6f72 790a 2020  at, directory.  
+0000bce0: 2020 2020 2020 2020 2020 292c 0a20 2020            ),.   
+0000bcf0: 2020 2020 2020 2020 2073 6f75 7263 653d           source=
+0000bd00: 6261 7463 685f 636f 6e76 6572 745f 7669  batch_convert_vi
+0000bd10: 6465 6f5f 666f 726d 6174 2e5f 5f6e 616d  deo_format.__nam
+0000bd20: 655f 5f2c 0a20 2020 2020 2020 2029 0a20  e__,.        ). 
+0000bd30: 2020 2066 6f72 2066 696c 655f 636e 742c     for file_cnt,
+0000bd40: 2066 696c 655f 7061 7468 2069 6e20 656e   file_path in en
+0000bd50: 756d 6572 6174 6528 7669 6465 6f5f 7061  umerate(video_pa
+0000bd60: 7468 7329 3a0a 2020 2020 2020 2020 7669  ths):.        vi
+0000bd70: 6465 6f5f 7469 6d65 7220 3d20 5369 6d62  deo_timer = Simb
+0000bd80: 6154 696d 6572 2873 7461 7274 3d54 7275  aTimer(start=Tru
+0000bd90: 6529 0a20 2020 2020 2020 2064 6972 5f6e  e).        dir_n
+0000bda0: 616d 652c 2066 696c 655f 6e61 6d65 2c20  ame, file_name, 
+0000bdb0: 6578 7420 3d20 6765 745f 666e 5f65 7874  ext = get_fn_ext
+0000bdc0: 2866 696c 6570 6174 683d 6669 6c65 5f70  (filepath=file_p
+0000bdd0: 6174 6829 0a20 2020 2020 2020 2070 7269  ath).        pri
+0000bde0: 6e74 2866 2250 726f 6365 7373 696e 6720  nt(f"Processing 
+0000bdf0: 7669 6465 6f20 7b66 696c 655f 6e61 6d65  video {file_name
+0000be00: 7d2e 2e2e 2229 0a20 2020 2020 2020 2073  }...").        s
+0000be10: 6176 655f 7061 7468 203d 206f 732e 7061  ave_path = os.pa
+0000be20: 7468 2e6a 6f69 6e28 0a20 2020 2020 2020  th.join(.       
+0000be30: 2020 2020 2064 6972 5f6e 616d 652c 2066       dir_name, f
+0000be40: 696c 655f 6e61 6d65 202b 2022 2e7b 7d22  ile_name + ".{}"
+0000be50: 2e66 6f72 6d61 7428 6f75 7470 7574 5f66  .format(output_f
+0000be60: 6f72 6d61 742e 6c6f 7765 7228 2929 0a20  ormat.lower()). 
+0000be70: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+0000be80: 2069 6620 6f73 2e70 6174 682e 6973 6669   if os.path.isfi
+0000be90: 6c65 2873 6176 655f 7061 7468 293a 0a20  le(save_path):. 
+0000bea0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0000beb0: 2046 696c 6545 7869 7374 4572 726f 7228   FileExistError(
+0000bec0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000bed0: 206d 7367 3d22 5349 4d42 4120 4552 524f   msg="SIMBA ERRO
+0000bee0: 523a 2054 6865 206f 7574 6669 6c65 2066  R: The outfile f
+0000bef0: 696c 6520 616c 7265 6164 7920 6578 6973  ile already exis
+0000bf00: 743a 207b 7d2e 222e 666f 726d 6174 280a  t: {}.".format(.
+0000bf10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bf20: 2020 2020 7361 7665 5f70 6174 680a 2020      save_path.  
+0000bf30: 2020 2020 2020 2020 2020 2020 2020 292c                ),
+0000bf40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000bf50: 2073 6f75 7263 653d 6261 7463 685f 636f   source=batch_co
+0000bf60: 6e76 6572 745f 7669 6465 6f5f 666f 726d  nvert_video_form
+0000bf70: 6174 2e5f 5f6e 616d 655f 5f2c 0a20 2020  at.__name__,.   
+0000bf80: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
+0000bf90: 2020 2069 6620 6770 753a 0a20 2020 2020     if gpu:.     
+0000bfa0: 2020 2020 2020 2063 6f6d 6d61 6e64 203d         command =
+0000bfb0: 2027 6666 6d70 6567 202d 6877 6163 6365   'ffmpeg -hwacce
+0000bfc0: 6c20 6175 746f 202d 633a 7620 6832 3634  l auto -c:v h264
+0000bfd0: 5f63 7576 6964 202d 6920 227b 7d22 202d  _cuvid -i "{}" -
+0000bfe0: 633a 7620 6832 3634 5f6e 7665 6e63 202d  c:v h264_nvenc -
+0000bff0: 6371 2032 3320 2d70 7265 7365 743a 7620  cq 23 -preset:v 
+0000c000: 6d65 6469 756d 202d 633a 6120 636f 7079  medium -c:a copy
+0000c010: 2022 7b7d 2227 2e66 6f72 6d61 7428 0a20   "{}"'.format(. 
+0000c020: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+0000c030: 696c 655f 7061 7468 2c20 7361 7665 5f70  ile_path, save_p
+0000c040: 6174 680a 2020 2020 2020 2020 2020 2020  ath.            
+0000c050: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
+0000c060: 2020 2020 2020 2020 2020 2020 636f 6d6d              comm
+0000c070: 616e 6420 3d20 6627 6666 6d70 6567 202d  and = f'ffmpeg -
+0000c080: 7920 2d69 2022 7b66 696c 655f 7061 7468  y -i "{file_path
+0000c090: 7d22 202d 633a 7620 6c69 6278 3236 3420  }" -c:v libx264 
+0000c0a0: 2d63 7266 2032 3120 2d70 7265 7365 7420  -crf 21 -preset 
+0000c0b0: 6d65 6469 756d 202d 633a 6120 6c69 626d  medium -c:a libm
+0000c0c0: 7033 6c61 6d65 202d 623a 6120 3332 306b  p3lame -b:a 320k
+0000c0d0: 2022 7b73 6176 655f 7061 7468 7d22 270a   "{save_path}"'.
+0000c0e0: 2020 2020 2020 2020 7375 6270 726f 6365          subproce
+0000c0f0: 7373 2e63 616c 6c28 636f 6d6d 616e 642c  ss.call(command,
+0000c100: 2073 6865 6c6c 3d54 7275 652c 2073 7464   shell=True, std
+0000c110: 6f75 743d 7375 6270 726f 6365 7373 2e50  out=subprocess.P
+0000c120: 4950 4529 0a20 2020 2020 2020 2076 6964  IPE).        vid
+0000c130: 656f 5f74 696d 6572 2e73 746f 705f 7469  eo_timer.stop_ti
+0000c140: 6d65 7228 290a 2020 2020 2020 2020 7072  mer().        pr
+0000c150: 696e 7428 0a20 2020 2020 2020 2020 2020  int(.           
+0000c160: 2066 2256 6964 656f 207b 6669 6c65 5f6e   f"Video {file_n
+0000c170: 616d 657d 2063 6f6d 706c 6574 652c 2028  ame} complete, (
+0000c180: 656c 6170 7365 6420 7469 6d65 3a20 7b76  elapsed time: {v
+0000c190: 6964 656f 5f74 696d 6572 2e65 6c61 7073  ideo_timer.elaps
+0000c1a0: 6564 5f74 696d 655f 7374 727d 7329 2028  ed_time_str}s) (
+0000c1b0: 5669 6465 6f20 7b66 696c 655f 636e 7420  Video {file_cnt 
+0000c1c0: 2b20 317d 2f7b 6c65 6e28 7669 6465 6f5f  + 1}/{len(video_
+0000c1d0: 7061 7468 7329 7d29 2e2e 2e22 0a20 2020  paths)})...".   
+0000c1e0: 2020 2020 2029 0a20 2020 2073 7464 6f75       ).    stdou
+0000c1f0: 745f 7375 6363 6573 7328 0a20 2020 2020  t_success(.     
+0000c200: 2020 206d 7367 3d66 2253 494d 4241 2043     msg=f"SIMBA C
+0000c210: 4f4d 504c 4554 453a 207b 7374 7228 6c65  OMPLETE: {str(le
+0000c220: 6e28 7669 6465 6f5f 7061 7468 7329 297d  n(video_paths))}
+0000c230: 2076 6964 656f 7320 636f 6e76 6572 7465   videos converte
+0000c240: 6420 696e 207b 6469 7265 6374 6f72 797d  d in {directory}
+0000c250: 2064 6972 6563 746f 7279 2122 2c0a 2020   directory!",.  
+0000c260: 2020 2020 2020 736f 7572 6365 3d62 6174        source=bat
+0000c270: 6368 5f63 6f6e 7665 7274 5f76 6964 656f  ch_convert_video
+0000c280: 5f66 6f72 6d61 742e 5f5f 6e61 6d65 5f5f  _format.__name__
+0000c290: 2c0a 2020 2020 290a 0a0a 2320 5f20 3d20  ,.    )...# _ = 
+0000c2a0: 6261 7463 685f 636f 6e76 6572 745f 7669  batch_convert_vi
+0000c2b0: 6465 6f5f 666f 726d 6174 2864 6972 6563  deo_format(direc
+0000c2c0: 746f 7279 3d27 2f55 7365 7273 2f73 696d  tory='/Users/sim
+0000c2d0: 6f6e 2f44 6573 6b74 6f70 2f65 6e76 732f  on/Desktop/envs/
+0000c2e0: 7369 6d62 612f 7472 6f75 626c 6573 686f  simba/troublesho
+0000c2f0: 6f74 696e 672f 6d6f 7573 655f 6f70 656e  oting/mouse_open
+0000c300: 5f66 6965 6c64 2f70 726f 6a65 6374 5f66  _field/project_f
+0000c310: 6f6c 6465 722f 7669 6465 6f73 2f74 6573  older/videos/tes
+0000c320: 745f 3227 2c69 6e70 7574 5f66 6f72 6d61  t_2',input_forma
+0000c330: 743d 276d 7034 272c 206f 7574 7075 745f  t='mp4', output_
+0000c340: 666f 726d 6174 3d27 6176 6927 290a 0a0a  format='avi')...
+0000c350: 6465 6620 6261 7463 685f 6372 6561 7465  def batch_create
+0000c360: 5f66 7261 6d65 7328 6469 7265 6374 6f72  _frames(director
+0000c370: 793a 2055 6e69 6f6e 5b73 7472 2c20 6f73  y: Union[str, os
+0000c380: 2e50 6174 684c 696b 655d 2920 2d3e 204e  .PathLike]) -> N
+0000c390: 6f6e 653a 0a20 2020 2022 2222 0a20 2020  one:.    """.   
+0000c3a0: 2045 7874 7261 6374 2061 6c6c 2066 7261   Extract all fra
+0000c3b0: 6d65 7320 666f 7220 616c 6c20 7669 6465  mes for all vide
+0000c3c0: 6f73 2069 6e20 6120 6469 7265 6374 6f72  os in a director
+0000c3d0: 792e 2052 6573 756c 7473 2061 7265 2073  y. Results are s
+0000c3e0: 746f 7265 6420 7769 7468 696e 2073 7562  tored within sub
+0000c3f0: 2d64 6972 6563 746f 7269 6573 2069 6e20  -directories in 
+0000c400: 7468 6520 696e 7075 740a 2020 2020 6469  the input.    di
+0000c410: 7265 6374 6f72 7920 6e61 6d65 6420 6163  rectory named ac
+0000c420: 636f 7264 696e 6720 746f 2074 6865 2076  cording to the v
+0000c430: 6964 656f 2066 696c 6573 2e0a 0a20 2020  ideo files...   
+0000c440: 203a 7061 7261 6d65 7465 7220 7374 7220   :parameter str 
+0000c450: 6469 7265 6374 6f72 793a 2050 6174 6820  directory: Path 
+0000c460: 746f 2064 6972 6563 746f 7279 2063 6f6e  to directory con
+0000c470: 7461 696e 696e 6720 7669 6465 6f20 6669  taining video fi
+0000c480: 6c65 732e 0a0a 2020 2020 3a65 7861 6d70  les...    :examp
+0000c490: 6c65 3a0a 2020 2020 3e3e 3e20 5f20 3d20  le:.    >>> _ = 
+0000c4a0: 6261 7463 685f 6372 6561 7465 5f66 7261  batch_create_fra
+0000c4b0: 6d65 7328 6469 7265 6374 6f72 793d 2770  mes(directory='p
+0000c4c0: 726f 6a65 6374 5f66 6f6c 6465 722f 7669  roject_folder/vi
+0000c4d0: 6465 6f73 2729 0a20 2020 2022 2222 0a0a  deos').    """..
+0000c4e0: 2020 2020 6966 206e 6f74 206f 732e 7061      if not os.pa
+0000c4f0: 7468 2e69 7364 6972 2864 6972 6563 746f  th.isdir(directo
+0000c500: 7279 293a 0a20 2020 2020 2020 2072 6169  ry):.        rai
+0000c510: 7365 204e 6f74 4469 7265 6374 6f72 7945  se NotDirectoryE
+0000c520: 7272 6f72 280a 2020 2020 2020 2020 2020  rror(.          
+0000c530: 2020 6d73 673d 2253 494d 4241 2045 5252    msg="SIMBA ERR
+0000c540: 4f52 3a20 7b7d 2069 7320 6e6f 7420 6120  OR: {} is not a 
+0000c550: 7661 6c69 6420 6469 7265 6374 6f72 7922  valid directory"
+0000c560: 2e66 6f72 6d61 7428 6469 7265 6374 6f72  .format(director
+0000c570: 7929 2c0a 2020 2020 2020 2020 2020 2020  y),.            
+0000c580: 736f 7572 6365 3d62 6174 6368 5f63 7265  source=batch_cre
+0000c590: 6174 655f 6672 616d 6573 2e5f 5f6e 616d  ate_frames.__nam
+0000c5a0: 655f 5f2c 0a20 2020 2020 2020 2029 0a20  e__,.        ). 
+0000c5b0: 2020 2076 6964 656f 5f70 6174 6873 203d     video_paths =
+0000c5c0: 205b 5d0a 2020 2020 6669 6c65 5f70 6174   [].    file_pat
+0000c5d0: 6873 5f69 6e5f 666f 6c64 6572 203d 205b  hs_in_folder = [
+0000c5e0: 6620 666f 7220 6620 696e 2067 6c6f 622e  f for f in glob.
+0000c5f0: 676c 6f62 2864 6972 6563 746f 7279 202b  glob(directory +
+0000c600: 2022 2f2a 2229 2069 6620 6f73 2e70 6174   "/*") if os.pat
+0000c610: 682e 6973 6669 6c65 2866 295d 0a20 2020  h.isfile(f)].   
+0000c620: 2066 6f72 2066 696c 655f 7061 7468 2069   for file_path i
+0000c630: 6e20 6669 6c65 5f70 6174 6873 5f69 6e5f  n file_paths_in_
+0000c640: 666f 6c64 6572 3a0a 2020 2020 2020 2020  folder:.        
+0000c650: 5f2c 205f 2c20 6578 7420 3d20 6765 745f  _, _, ext = get_
+0000c660: 666e 5f65 7874 2866 696c 6570 6174 683d  fn_ext(filepath=
+0000c670: 6669 6c65 5f70 6174 6829 0a20 2020 2020  file_path).     
+0000c680: 2020 2069 6620 6578 742e 6c6f 7765 7228     if ext.lower(
+0000c690: 2920 696e 205b 222e 6176 6922 2c20 222e  ) in [".avi", ".
+0000c6a0: 6d70 3422 2c20 222e 6d6f 7622 2c20 222e  mp4", ".mov", ".
+0000c6b0: 666c 7622 5d3a 0a20 2020 2020 2020 2020  flv"]:.         
+0000c6c0: 2020 2076 6964 656f 5f70 6174 6873 2e61     video_paths.a
+0000c6d0: 7070 656e 6428 6669 6c65 5f70 6174 6829  ppend(file_path)
+0000c6e0: 0a20 2020 2069 6620 6c65 6e28 7669 6465  .    if len(vide
+0000c6f0: 6f5f 7061 7468 7329 203c 2031 3a0a 2020  o_paths) < 1:.  
+0000c700: 2020 2020 2020 7261 6973 6520 4e6f 4669        raise NoFi
+0000c710: 6c65 7346 6f75 6e64 4572 726f 7228 0a20  lesFoundError(. 
+0000c720: 2020 2020 2020 2020 2020 206d 7367 3d22             msg="
+0000c730: 5349 4d42 4120 4552 524f 523a 204e 6f20  SIMBA ERROR: No 
+0000c740: 6669 6c65 7320 7769 7468 202e 6d70 342c  files with .mp4,
+0000c750: 202e 6176 692c 202e 6d6f 762c 202e 666c   .avi, .mov, .fl
+0000c760: 7620 6669 6c65 2065 6e64 696e 6720 666f  v file ending fo
+0000c770: 756e 6420 696e 2074 6865 207b 7d20 6469  und in the {} di
+0000c780: 7265 6374 6f72 7922 2e66 6f72 6d61 7428  rectory".format(
+0000c790: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c7a0: 2064 6972 6563 746f 7279 0a20 2020 2020   directory.     
+0000c7b0: 2020 2020 2020 2029 2c0a 2020 2020 2020         ),.      
+0000c7c0: 2020 2020 2020 736f 7572 6365 3d62 6174        source=bat
+0000c7d0: 6368 5f63 7265 6174 655f 6672 616d 6573  ch_create_frames
+0000c7e0: 2e5f 5f6e 616d 655f 5f2c 0a20 2020 2020  .__name__,.     
+0000c7f0: 2020 2029 0a20 2020 2066 6f72 2066 696c     ).    for fil
+0000c800: 655f 636e 742c 2066 696c 655f 7061 7468  e_cnt, file_path
+0000c810: 2069 6e20 656e 756d 6572 6174 6528 7669   in enumerate(vi
+0000c820: 6465 6f5f 7061 7468 7329 3a0a 2020 2020  deo_paths):.    
+0000c830: 2020 2020 6469 725f 6e61 6d65 2c20 6669      dir_name, fi
+0000c840: 6c65 5f6e 616d 652c 2065 7874 203d 2067  le_name, ext = g
+0000c850: 6574 5f66 6e5f 6578 7428 6669 6c65 7061  et_fn_ext(filepa
+0000c860: 7468 3d66 696c 655f 7061 7468 290a 2020  th=file_path).  
+0000c870: 2020 2020 2020 7072 696e 7428 2250 726f        print("Pro
+0000c880: 6365 7373 696e 6720 7669 6465 6f20 7b7d  cessing video {}
+0000c890: 2e2e 2e22 2e66 6f72 6d61 7428 6669 6c65  ...".format(file
+0000c8a0: 5f6e 616d 6529 290a 2020 2020 2020 2020  _name)).        
+0000c8b0: 7361 7665 5f64 6972 203d 206f 732e 7061  save_dir = os.pa
+0000c8c0: 7468 2e6a 6f69 6e28 6469 725f 6e61 6d65  th.join(dir_name
+0000c8d0: 2c20 6669 6c65 5f6e 616d 6529 0a20 2020  , file_name).   
+0000c8e0: 2020 2020 2069 6620 6e6f 7420 6f73 2e70       if not os.p
+0000c8f0: 6174 682e 6578 6973 7473 2873 6176 655f  ath.exists(save_
+0000c900: 6469 7229 3a0a 2020 2020 2020 2020 2020  dir):.          
+0000c910: 2020 6f73 2e6d 616b 6564 6972 7328 7361    os.makedirs(sa
+0000c920: 7665 5f64 6972 290a 2020 2020 2020 2020  ve_dir).        
+0000c930: 7669 6465 6f5f 746f 5f66 7261 6d65 7328  video_to_frames(
+0000c940: 6669 6c65 5f70 6174 682c 2073 6176 655f  file_path, save_
+0000c950: 6469 722c 206f 7665 7277 7269 7465 3d54  dir, overwrite=T
+0000c960: 7275 652c 2065 7665 7279 3d31 2c20 6368  rue, every=1, ch
+0000c970: 756e 6b5f 7369 7a65 3d31 3030 3029 0a20  unk_size=1000). 
+0000c980: 2020 2020 2020 2070 7269 6e74 280a 2020         print(.  
+0000c990: 2020 2020 2020 2020 2020 2256 6964 656f            "Video
+0000c9a0: 207b 7d20 636f 6d70 6c65 7465 2c20 2856   {} complete, (V
+0000c9b0: 6964 656f 207b 7d2f 7b7d 292e 2e2e 222e  ideo {}/{})...".
+0000c9c0: 666f 726d 6174 280a 2020 2020 2020 2020  format(.        
+0000c9d0: 2020 2020 2020 2020 6669 6c65 5f6e 616d          file_nam
+0000c9e0: 652c 2073 7472 2866 696c 655f 636e 7420  e, str(file_cnt 
+0000c9f0: 2b20 3129 2c20 7374 7228 6c65 6e28 7669  + 1), str(len(vi
+0000ca00: 6465 6f5f 7061 7468 7329 290a 2020 2020  deo_paths)).    
+0000ca10: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+0000ca20: 2020 290a 2020 2020 7374 646f 7574 5f73    ).    stdout_s
+0000ca30: 7563 6365 7373 280a 2020 2020 2020 2020  uccess(.        
+0000ca40: 6d73 673d 6622 7b73 7472 286c 656e 2876  msg=f"{str(len(v
+0000ca50: 6964 656f 5f70 6174 6873 2929 7d20 7669  ideo_paths))} vi
+0000ca60: 6465 6f73 2063 6f6e 7665 7274 6564 2069  deos converted i
+0000ca70: 6e74 6f20 6672 616d 6573 2069 6e20 7b64  nto frames in {d
+0000ca80: 6972 6563 746f 7279 7d20 6469 7265 6374  irectory} direct
+0000ca90: 6f72 7921 222c 0a20 2020 2020 2020 2073  ory!",.        s
+0000caa0: 6f75 7263 653d 6261 7463 685f 6372 6561  ource=batch_crea
+0000cab0: 7465 5f66 7261 6d65 732e 5f5f 6e61 6d65  te_frames.__name
+0000cac0: 5f5f 2c0a 2020 2020 290a 0a0a 6465 6620  __,.    )...def 
+0000cad0: 6578 7472 6163 745f 6672 616d 6573 5f73  extract_frames_s
+0000cae0: 696e 676c 655f 7669 6465 6f28 6669 6c65  ingle_video(file
+0000caf0: 5f70 6174 683a 2055 6e69 6f6e 5b73 7472  _path: Union[str
+0000cb00: 2c20 6f73 2e50 6174 684c 696b 655d 2920  , os.PathLike]) 
+0000cb10: 2d3e 204e 6f6e 653a 0a20 2020 2022 2222  -> None:.    """
+0000cb20: 0a20 2020 2045 7874 7261 6374 2061 6c6c  .    Extract all
+0000cb30: 2066 7261 6d65 7320 666f 7220 6120 7369   frames for a si
+0000cb40: 6e67 6c65 2e20 5265 7375 6c74 7320 6172  ngle. Results ar
+0000cb50: 6520 7374 6f72 6564 2077 6974 6869 6e20  e stored within 
+0000cb60: 6120 7375 6264 6972 6563 746f 7279 2069  a subdirectory i
+0000cb70: 6e20 7468 6520 7361 6d65 0a20 2020 2064  n the same.    d
+0000cb80: 6972 6563 746f 7279 2061 7320 7468 6520  irectory as the 
+0000cb90: 696e 7075 7420 6669 6c65 2e0a 0a20 2020  input file...   
+0000cba0: 203a 7061 7261 6d65 7465 7220 7374 7220   :parameter str 
+0000cbb0: 6669 6c65 5f70 6174 683a 2050 6174 6820  file_path: Path 
+0000cbc0: 746f 2076 6964 656f 2066 696c 652e 0a0a  to video file...
+0000cbd0: 2020 2020 3a65 7861 6d70 6c65 3a0a 2020      :example:.  
+0000cbe0: 2020 3e3e 3e20 5f20 3d20 6578 7472 6163    >>> _ = extrac
+0000cbf0: 745f 6672 616d 6573 5f73 696e 676c 655f  t_frames_single_
+0000cc00: 7669 6465 6f28 6669 6c65 5f70 6174 683d  video(file_path=
+0000cc10: 2770 726f 6a65 6374 5f66 6f6c 6465 722f  'project_folder/
+0000cc20: 7669 6465 6f73 2f56 6964 656f 5f31 2e6d  videos/Video_1.m
+0000cc30: 7034 2729 0a20 2020 2022 2222 0a0a 2020  p4').    """..  
+0000cc40: 2020 7469 6d65 7220 3d20 5369 6d62 6154    timer = SimbaT
+0000cc50: 696d 6572 2873 7461 7274 3d54 7275 6529  imer(start=True)
+0000cc60: 0a20 2020 2063 6865 636b 5f66 696c 655f  .    check_file_
+0000cc70: 6578 6973 745f 616e 645f 7265 6164 6162  exist_and_readab
+0000cc80: 6c65 2866 696c 655f 7061 7468 3d66 696c  le(file_path=fil
+0000cc90: 655f 7061 7468 290a 2020 2020 5f20 3d20  e_path).    _ = 
+0000cca0: 6765 745f 7669 6465 6f5f 6d65 7461 5f64  get_video_meta_d
+0000ccb0: 6174 6128 6669 6c65 5f70 6174 6829 0a20  ata(file_path). 
+0000ccc0: 2020 2064 6972 5f6e 616d 652c 2066 696c     dir_name, fil
+0000ccd0: 655f 6e61 6d65 2c20 6578 7420 3d20 6765  e_name, ext = ge
+0000cce0: 745f 666e 5f65 7874 2866 696c 6570 6174  t_fn_ext(filepat
+0000ccf0: 683d 6669 6c65 5f70 6174 6829 0a20 2020  h=file_path).   
+0000cd00: 2073 6176 655f 6469 7220 3d20 6f73 2e70   save_dir = os.p
+0000cd10: 6174 682e 6a6f 696e 2864 6972 5f6e 616d  ath.join(dir_nam
+0000cd20: 652c 2066 696c 655f 6e61 6d65 290a 2020  e, file_name).  
+0000cd30: 2020 6966 206e 6f74 206f 732e 7061 7468    if not os.path
+0000cd40: 2e65 7869 7374 7328 7361 7665 5f64 6972  .exists(save_dir
+0000cd50: 293a 0a20 2020 2020 2020 206f 732e 6d61  ):.        os.ma
+0000cd60: 6b65 6469 7273 2873 6176 655f 6469 7229  kedirs(save_dir)
+0000cd70: 0a20 2020 2070 7269 6e74 2866 2250 726f  .    print(f"Pro
+0000cd80: 6365 7373 696e 6720 7669 6465 6f20 7b66  cessing video {f
+0000cd90: 696c 655f 6e61 6d65 7d2e 2e2e 2229 0a20  ile_name}..."). 
+0000cda0: 2020 2076 6964 656f 5f74 6f5f 6672 616d     video_to_fram
+0000cdb0: 6573 2866 696c 655f 7061 7468 2c20 7361  es(file_path, sa
+0000cdc0: 7665 5f64 6972 2c20 6f76 6572 7772 6974  ve_dir, overwrit
+0000cdd0: 653d 5472 7565 2c20 6576 6572 793d 312c  e=True, every=1,
+0000cde0: 2063 6875 6e6b 5f73 697a 653d 3130 3030   chunk_size=1000
+0000cdf0: 290a 2020 2020 7469 6d65 722e 7374 6f70  ).    timer.stop
+0000ce00: 5f74 696d 6572 2829 0a20 2020 2073 7464  _timer().    std
+0000ce10: 6f75 745f 7375 6363 6573 7328 6d73 673d  out_success(msg=
+0000ce20: 6622 5669 6465 6f20 7b66 696c 655f 6e61  f"Video {file_na
+0000ce30: 6d65 7d20 636f 6e76 6572 7465 6420 746f  me} converted to
+0000ce40: 2069 6d61 6765 7320 696e 207b 6469 725f   images in {dir_
+0000ce50: 6e61 6d65 7d20 6469 7265 6374 6f72 7921  name} directory!
+0000ce60: 222c 2065 6c61 7073 6564 5f74 696d 653d  ", elapsed_time=
+0000ce70: 7469 6d65 722e 656c 6170 7365 645f 7469  timer.elapsed_ti
+0000ce80: 6d65 5f73 7472 2c20 736f 7572 6365 3d65  me_str, source=e
+0000ce90: 7874 7261 6374 5f66 7261 6d65 735f 7369  xtract_frames_si
+0000cea0: 6e67 6c65 5f76 6964 656f 2e5f 5f6e 616d  ngle_video.__nam
+0000ceb0: 655f 5f29 0a0a 0a23 5f20 3d20 6578 7472  e__)...#_ = extr
+0000cec0: 6163 745f 6672 616d 6573 5f73 696e 676c  act_frames_singl
+0000ced0: 655f 7669 6465 6f28 6669 6c65 5f70 6174  e_video(file_pat
+0000cee0: 683d 272f 5573 6572 732f 7369 6d6f 6e2f  h='/Users/simon/
+0000cef0: 4465 736b 746f 702f 7669 6465 6f5f 7465  Desktop/video_te
+0000cf00: 7374 2f53 6372 6565 6e20 5265 636f 7264  st/Screen Record
+0000cf10: 696e 6720 3230 3234 2d30 352d 3036 2061  ing 2024-05-06 a
+0000cf20: 7420 312e 3233 2e33 3120 504d 5f63 6c69  t 1.23.31 PM_cli
+0000cf30: 7070 6564 2e6d 7034 2729 0a0a 0a64 6566  pped.mp4')...def
+0000cf40: 206d 756c 7469 5f73 706c 6974 5f76 6964   multi_split_vid
+0000cf50: 656f 280a 2020 2020 6669 6c65 5f70 6174  eo(.    file_pat
+0000cf60: 683a 2055 6e69 6f6e 5b73 7472 2c20 6f73  h: Union[str, os
+0000cf70: 2e50 6174 684c 696b 655d 2c0a 2020 2020  .PathLike],.    
+0000cf80: 7374 6172 745f 7469 6d65 733a 204c 6973  start_times: Lis
+0000cf90: 745b 7374 725d 2c0a 2020 2020 656e 645f  t[str],.    end_
+0000cfa0: 7469 6d65 733a 204c 6973 745b 7374 725d  times: List[str]
+0000cfb0: 2c0a 2020 2020 6f75 745f 6469 723a 204f  ,.    out_dir: O
+0000cfc0: 7074 696f 6e61 6c5b 556e 696f 6e5b 7374  ptional[Union[st
+0000cfd0: 722c 206f 732e 5061 7468 4c69 6b65 5d5d  r, os.PathLike]]
+0000cfe0: 203d 204e 6f6e 652c 0a20 2020 2069 6e63   = None,.    inc
+0000cff0: 6c75 6465 5f63 6c69 705f 7469 6d65 5f69  lude_clip_time_i
+0000d000: 6e5f 6669 6c65 6e61 6d65 3a20 4f70 7469  n_filename: Opti
+0000d010: 6f6e 616c 5b62 6f6f 6c5d 203d 2046 616c  onal[bool] = Fal
+0000d020: 7365 2c0a 2020 2020 6770 753a 204f 7074  se,.    gpu: Opt
+0000d030: 696f 6e61 6c5b 626f 6f6c 5d20 3d20 4661  ional[bool] = Fa
+0000d040: 6c73 652c 0a29 202d 3e20 4e6f 6e65 3a0a  lse,.) -> None:.
+0000d050: 2020 2020 2222 220a 2020 2020 4469 7669      """.    Divi
+0000d060: 6465 2061 2076 6964 656f 2066 696c 6520  de a video file 
+0000d070: 696e 746f 206d 756c 7469 706c 6520 7669  into multiple vi
+0000d080: 6465 6f20 6669 6c65 7320 6672 6f6d 2073  deo files from s
+0000d090: 7065 6369 6669 6564 2073 7461 7274 2061  pecified start a
+0000d0a0: 6e64 2073 746f 7020 7469 6d65 732e 0a0a  nd stop times...
+0000d0b0: 2020 2020 3a70 6172 616d 6574 6572 2073      :parameter s
+0000d0c0: 7472 2066 696c 655f 7061 7468 3a20 5061  tr file_path: Pa
+0000d0d0: 7468 2074 6f20 696e 7075 7420 7669 6465  th to input vide
+0000d0e0: 6f20 6669 6c65 2e0a 2020 2020 3a70 6172  o file..    :par
+0000d0f0: 616d 6574 6572 204c 6973 745b 7374 725d  ameter List[str]
+0000d100: 2073 7461 7274 5f74 696d 6573 3a20 5374   start_times: St
+0000d110: 6172 7420 7469 6d65 7320 696e 2048 483a  art times in HH:
+0000d120: 4d4d 3a53 5320 666f 726d 6174 2e0a 2020  MM:SS format..  
+0000d130: 2020 3a70 6172 616d 6574 6572 204c 6973    :parameter Lis
+0000d140: 745b 7374 725d 2065 6e64 5f74 696d 6573  t[str] end_times
+0000d150: 3a20 456e 6420 7469 6d65 7320 696e 2048  : End times in H
+0000d160: 483a 4d4d 3a53 5320 666f 726d 6174 2e0a  H:MM:SS format..
+0000d170: 2020 2020 3a70 6172 616d 6574 6572 204f      :parameter O
+0000d180: 7074 696f 6e61 6c5b 556e 696f 6e5b 7374  ptional[Union[st
+0000d190: 722c 206f 732e 5061 7468 4c69 6b65 5d5d  r, os.PathLike]]
+0000d1a0: 206f 7574 5f64 6972 3a20 4966 204e 6f6e   out_dir: If Non
+0000d1b0: 652c 2074 6865 6e20 7468 6520 636c 6970  e, then the clip
+0000d1c0: 7320 7769 6c6c 2062 6520 7374 6f72 6564  s will be stored
+0000d1d0: 2069 6e20 7468 6520 7361 6d65 2064 6972   in the same dir
+0000d1e0: 2061 7320 7468 6520 696e 7075 7420 7669   as the input vi
+0000d1f0: 6465 6f2e 2049 6620 6469 7265 6374 6f72  deo. If director
+0000d200: 792c 2074 6865 6e20 7468 6520 6c6f 6361  y, then the loca
+0000d210: 7469 6f6e 206f 6620 7468 6520 6f75 7470  tion of the outp
+0000d220: 7574 2066 696c 6573 2e0a 2020 2020 3a70  ut files..    :p
+0000d230: 6172 616d 6574 6572 204f 7074 696f 6e61  arameter Optiona
+0000d240: 6c5b 626f 6f6c 5d20 696e 636c 7564 655f  l[bool] include_
+0000d250: 636c 6970 5f74 696d 655f 696e 5f66 696c  clip_time_in_fil
+0000d260: 656e 616d 653a 2049 6620 5472 7565 2c20  ename: If True, 
+0000d270: 696e 636c 7564 6520 7468 6520 636c 6970  include the clip
+0000d280: 2073 7461 7274 2061 6e64 2065 6e64 2069   start and end i
+0000d290: 6e20 4848 2d4d 4d2d 5353 2066 6f72 6d61  n HH-MM-SS forma
+0000d2a0: 7420 6173 2073 7566 6669 7820 696e 2074  t as suffix in t
+0000d2b0: 6865 2066 696c 656e 616d 652e 2049 6620  he filename. If 
+0000d2c0: 4661 6c73 652c 2074 6865 6e20 7573 6520  False, then use 
+0000d2d0: 696e 7465 6765 7220 7375 6666 6963 2072  integer suffic r
+0000d2e0: 6570 7265 7365 6e74 696e 6720 7468 6520  epresenting the 
+0000d2f0: 636f 756e 742e 0a20 2020 203a 7061 7261  count..    :para
+0000d300: 6d65 7465 7220 4f70 7469 6f6e 616c 5b62  meter Optional[b
+0000d310: 6f6f 6c5d 2067 7075 3a20 4966 2054 7275  ool] gpu: If Tru
+0000d320: 652c 2075 7365 204e 5649 4445 4120 4750  e, use NVIDEA GP
+0000d330: 5520 636f 6465 6373 2e20 4465 6661 756c  U codecs. Defaul
+0000d340: 7420 4661 6c73 652e 0a0a 2020 2020 3a65  t False...    :e
+0000d350: 7861 6d70 6c65 3a0a 2020 2020 3e3e 3e20  xample:.    >>> 
+0000d360: 5f20 3d20 6d75 6c74 695f 7370 6c69 745f  _ = multi_split_
+0000d370: 7669 6465 6f28 6669 6c65 5f70 6174 683d  video(file_path=
+0000d380: 2770 726f 6a65 6374 5f66 6f6c 6465 722f  'project_folder/
+0000d390: 7669 6465 6f73 2f56 6964 656f 5f31 2e6d  videos/Video_1.m
+0000d3a0: 7034 272c 2073 7461 7274 5f74 696d 6573  p4', start_times
+0000d3b0: 3d5b 2730 303a 3030 3a30 3527 2c20 2730  =['00:00:05', '0
+0000d3c0: 303a 3030 3a32 3027 5d2c 2065 6e64 5f74  0:00:20'], end_t
+0000d3d0: 696d 6573 3d5b 2730 303a 3030 3a31 3027  imes=['00:00:10'
+0000d3e0: 2c20 2730 303a 3030 3a32 3527 5d29 0a20  , '00:00:25']). 
+0000d3f0: 2020 2022 2222 0a0a 2020 2020 6368 6563     """..    chec
+0000d400: 6b5f 6666 6d70 6567 5f61 7661 696c 6162  k_ffmpeg_availab
+0000d410: 6c65 2872 6169 7365 5f65 7272 6f72 3d54  le(raise_error=T
+0000d420: 7275 6529 0a20 2020 2074 696d 6572 203d  rue).    timer =
+0000d430: 2053 696d 6261 5469 6d65 7228 7374 6172   SimbaTimer(star
+0000d440: 743d 5472 7565 290a 2020 2020 6368 6563  t=True).    chec
+0000d450: 6b5f 6669 6c65 5f65 7869 7374 5f61 6e64  k_file_exist_and
+0000d460: 5f72 6561 6461 626c 6528 6669 6c65 5f70  _readable(file_p
+0000d470: 6174 683d 6669 6c65 5f70 6174 6829 0a20  ath=file_path). 
+0000d480: 2020 2064 6972 5f6e 616d 652c 2066 696c     dir_name, fil
+0000d490: 655f 6e61 6d65 2c20 6578 7420 3d20 6765  e_name, ext = ge
+0000d4a0: 745f 666e 5f65 7874 2866 696c 6570 6174  t_fn_ext(filepat
+0000d4b0: 683d 6669 6c65 5f70 6174 6829 0a20 2020  h=file_path).   
+0000d4c0: 2069 6620 6f75 745f 6469 7220 6973 206e   if out_dir is n
+0000d4d0: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
+0000d4e0: 2069 6620 6e6f 7420 6f73 2e70 6174 682e   if not os.path.
+0000d4f0: 6973 6469 7228 6f75 745f 6469 7229 3a0a  isdir(out_dir):.
+0000d500: 2020 2020 2020 2020 2020 2020 6f73 2e6d              os.m
+0000d510: 616b 6564 6972 7328 6f75 745f 6469 7229  akedirs(out_dir)
+0000d520: 0a20 2020 2020 2020 2064 6972 5f6e 616d  .        dir_nam
+0000d530: 6520 3d20 6f75 745f 6469 720a 2020 2020  e = out_dir.    
+0000d540: 666f 7220 7374 6172 745f 7469 6d65 5f63  for start_time_c
+0000d550: 6e74 2c20 7374 6172 745f 7469 6d65 2069  nt, start_time i
+0000d560: 6e20 656e 756d 6572 6174 6528 7374 6172  n enumerate(star
+0000d570: 745f 7469 6d65 7329 3a0a 2020 2020 2020  t_times):.      
+0000d580: 2020 6368 6563 6b5f 6966 5f73 7472 696e    check_if_strin
+0000d590: 675f 7661 6c75 655f 6973 5f76 616c 6964  g_value_is_valid
+0000d5a0: 5f76 6964 656f 5f74 696d 6573 7461 6d70  _video_timestamp
+0000d5b0: 280a 2020 2020 2020 2020 2020 2020 7661  (.            va
+0000d5c0: 6c75 653d 7374 6172 745f 7469 6d65 2c20  lue=start_time, 
+0000d5d0: 6e61 6d65 3d66 2253 7461 7274 2074 696d  name=f"Start tim
+0000d5e0: 6520 666f 7220 636c 6970 207b 7374 6172  e for clip {star
+0000d5f0: 745f 7469 6d65 5f63 6e74 2b31 7d22 0a20  t_time_cnt+1}". 
+0000d600: 2020 2020 2020 2029 0a20 2020 2066 6f72         ).    for
+0000d610: 2065 6e64 5f74 696d 655f 636e 742c 2065   end_time_cnt, e
+0000d620: 6e64 5f74 696d 6520 696e 2065 6e75 6d65  nd_time in enume
+0000d630: 7261 7465 2865 6e64 5f74 696d 6573 293a  rate(end_times):
+0000d640: 0a20 2020 2020 2020 2063 6865 636b 5f69  .        check_i
+0000d650: 665f 7374 7269 6e67 5f76 616c 7565 5f69  f_string_value_i
+0000d660: 735f 7661 6c69 645f 7669 6465 6f5f 7469  s_valid_video_ti
+0000d670: 6d65 7374 616d 7028 0a20 2020 2020 2020  mestamp(.       
+0000d680: 2020 2020 2076 616c 7565 3d65 6e64 5f74       value=end_t
+0000d690: 696d 652c 206e 616d 653d 6622 456e 6420  ime, name=f"End 
+0000d6a0: 7469 6d65 2066 6f72 2063 6c69 7020 7b65  time for clip {e
+0000d6b0: 6e64 5f74 696d 655f 636e 742b 317d 220a  nd_time_cnt+1}".
+0000d6c0: 2020 2020 2020 2020 290a 2020 2020 666f          ).    fo
+0000d6d0: 7220 636c 6970 5f63 6e74 2c20 2873 7461  r clip_cnt, (sta
+0000d6e0: 7274 5f74 696d 652c 2065 6e64 5f74 696d  rt_time, end_tim
+0000d6f0: 6529 2069 6e20 656e 756d 6572 6174 6528  e) in enumerate(
+0000d700: 7a69 7028 7374 6172 745f 7469 6d65 732c  zip(start_times,
+0000d710: 2065 6e64 5f74 696d 6573 2929 3a0a 2020   end_times)):.  
+0000d720: 2020 2020 2020 6368 6563 6b5f 7468 6174        check_that
+0000d730: 5f68 686d 6d73 735f 7374 6172 745f 6973  _hhmmss_start_is
+0000d740: 5f62 6566 6f72 655f 656e 6428 0a20 2020  _before_end(.   
+0000d750: 2020 2020 2020 2020 2073 7461 7274 5f74           start_t
+0000d760: 696d 653d 7374 6172 745f 7469 6d65 2c20  ime=start_time, 
+0000d770: 656e 645f 7469 6d65 3d65 6e64 5f74 696d  end_time=end_tim
+0000d780: 652c 206e 616d 653d 6622 436c 6970 207b  e, name=f"Clip {
+0000d790: 7374 7228 636c 6970 5f63 6e74 2b31 297d  str(clip_cnt+1)}
+0000d7a0: 220a 2020 2020 2020 2020 290a 2020 2020  ".        ).    
+0000d7b0: 2020 2020 6368 6563 6b5f 6966 5f68 686d      check_if_hhm
+0000d7c0: 6d73 735f 7469 6d65 7374 616d 705f 6973  mss_timestamp_is
+0000d7d0: 5f76 616c 6964 5f70 6172 745f 6f66 5f76  _valid_part_of_v
+0000d7e0: 6964 656f 280a 2020 2020 2020 2020 2020  ideo(.          
+0000d7f0: 2020 7469 6d65 7374 616d 703d 7374 6172    timestamp=star
+0000d800: 745f 7469 6d65 2c20 7669 6465 6f5f 7061  t_time, video_pa
+0000d810: 7468 3d66 696c 655f 7061 7468 0a20 2020  th=file_path.   
+0000d820: 2020 2020 2029 0a20 2020 2020 2020 2063       ).        c
+0000d830: 6865 636b 5f69 665f 6868 6d6d 7373 5f74  heck_if_hhmmss_t
+0000d840: 696d 6573 7461 6d70 5f69 735f 7661 6c69  imestamp_is_vali
+0000d850: 645f 7061 7274 5f6f 665f 7669 6465 6f28  d_part_of_video(
+0000d860: 0a20 2020 2020 2020 2020 2020 2074 696d  .            tim
+0000d870: 6573 7461 6d70 3d65 6e64 5f74 696d 652c  estamp=end_time,
+0000d880: 2076 6964 656f 5f70 6174 683d 6669 6c65   video_path=file
+0000d890: 5f70 6174 680a 2020 2020 2020 2020 290a  _path.        ).
+0000d8a0: 2020 2020 2020 2020 6966 206e 6f74 2069          if not i
+0000d8b0: 6e63 6c75 6465 5f63 6c69 705f 7469 6d65  nclude_clip_time
+0000d8c0: 5f69 6e5f 6669 6c65 6e61 6d65 3a0a 2020  _in_filename:.  
+0000d8d0: 2020 2020 2020 2020 2020 7361 7665 5f70            save_p
+0000d8e0: 6174 6820 3d20 6f73 2e70 6174 682e 6a6f  ath = os.path.jo
+0000d8f0: 696e 280a 2020 2020 2020 2020 2020 2020  in(.            
+0000d900: 2020 2020 6469 725f 6e61 6d65 2c20 6669      dir_name, fi
+0000d910: 6c65 5f6e 616d 6520 2b20 225f 7b7d 222e  le_name + "_{}".
+0000d920: 666f 726d 6174 2873 7472 2863 6c69 705f  format(str(clip_
+0000d930: 636e 7420 2b20 3129 2920 2b20 222e 6d70  cnt + 1)) + ".mp
+0000d940: 3422 0a20 2020 2020 2020 2020 2020 2029  4".            )
+0000d950: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+0000d960: 2020 2020 2020 2020 2020 2073 6176 655f             save_
+0000d970: 7061 7468 203d 206f 732e 7061 7468 2e6a  path = os.path.j
+0000d980: 6f69 6e28 0a20 2020 2020 2020 2020 2020  oin(.           
+0000d990: 2020 2020 2064 6972 5f6e 616d 652c 0a20       dir_name,. 
+0000d9a0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+0000d9b0: 696c 655f 6e61 6d65 0a20 2020 2020 2020  ile_name.       
+0000d9c0: 2020 2020 2020 2020 202b 2066 275f 7b73           + f'_{s
+0000d9d0: 7461 7274 5f74 696d 652e 7265 706c 6163  tart_time.replac
+0000d9e0: 6528 223a 222c 2022 2d22 297d 5f7b 656e  e(":", "-")}_{en
+0000d9f0: 645f 7469 6d65 2e72 6570 6c61 6365 2822  d_time.replace("
+0000da00: 3a22 2c20 222d 2229 7d2e 6d70 3427 2c0a  :", "-")}.mp4',.
+0000da10: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+0000da20: 2020 2020 2020 6966 206f 732e 7061 7468        if os.path
+0000da30: 2e69 7366 696c 6528 7361 7665 5f70 6174  .isfile(save_pat
+0000da40: 6829 3a0a 2020 2020 2020 2020 2020 2020  h):.            
+0000da50: 7261 6973 6520 4669 6c65 4578 6973 7445  raise FileExistE
+0000da60: 7272 6f72 280a 2020 2020 2020 2020 2020  rror(.          
+0000da70: 2020 2020 2020 6d73 673d 6622 5468 6520        msg=f"The 
+0000da80: 6f75 7466 696c 6520 6669 6c65 2061 6c72  outfile file alr
+0000da90: 6561 6479 2065 7869 7374 3a20 7b73 6176  eady exist: {sav
+0000daa0: 655f 7061 7468 7d2e 222c 0a20 2020 2020  e_path}.",.     
+0000dab0: 2020 2020 2020 2020 2020 2073 6f75 7263             sourc
+0000dac0: 653d 6d75 6c74 695f 7370 6c69 745f 7669  e=multi_split_vi
+0000dad0: 6465 6f2e 5f5f 6e61 6d65 5f5f 2c0a 2020  deo.__name__,.  
+0000dae0: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
+0000daf0: 2020 2020 6966 2067 7075 3a0a 2020 2020      if gpu:.    
+0000db00: 2020 2020 2020 2020 6966 206e 6f74 2063          if not c
+0000db10: 6865 636b 5f6e 7669 6465 615f 6770 755f  heck_nvidea_gpu_
+0000db20: 6176 6169 6c61 626c 6528 293a 0a20 2020  available():.   
+0000db30: 2020 2020 2020 2020 2020 2020 2072 6169               rai
+0000db40: 7365 2046 464d 5045 4743 6f64 6563 4750  se FFMPEGCodecGP
+0000db50: 5545 7272 6f72 280a 2020 2020 2020 2020  UError(.        
+0000db60: 2020 2020 2020 2020 2020 2020 6d73 673d              msg=
+0000db70: 224e 5649 4445 4120 4750 5520 6e6f 7420  "NVIDEA GPU not 
+0000db80: 6176 6169 6c61 626c 6520 2861 7320 6576  available (as ev
+0000db90: 616c 7561 7465 6420 6279 206e 7669 6465  aluated by nvide
+0000dba0: 612d 736d 6920 7265 7475 726e 696e 6720  a-smi returning 
+0000dbb0: 4e6f 6e65 222c 0a20 2020 2020 2020 2020  None",.         
+0000dbc0: 2020 2020 2020 2020 2020 2073 6f75 7263             sourc
+0000dbd0: 653d 6d75 6c74 695f 7370 6c69 745f 7669  e=multi_split_vi
+0000dbe0: 6465 6f2e 5f5f 6e61 6d65 5f5f 2c0a 2020  deo.__name__,.  
+0000dbf0: 2020 2020 2020 2020 2020 2020 2020 290a                ).
+0000dc00: 2020 2020 2020 2020 2020 2020 636f 6d6d              comm
+0000dc10: 616e 6420 3d20 2766 666d 7065 6720 2d68  and = 'ffmpeg -h
+0000dc20: 7761 6363 656c 2061 7574 6f20 2d69 2022  waccel auto -i "
+0000dc30: 7b7d 2220 2d73 7320 7b7d 202d 746f 207b  {}" -ss {} -to {
+0000dc40: 7d20 2d63 3a76 2068 3236 345f 6e76 656e  } -c:v h264_nven
+0000dc50: 6320 2d61 7379 6e63 2031 2022 7b7d 2227  c -async 1 "{}"'
+0000dc60: 2e66 6f72 6d61 7428 0a20 2020 2020 2020  .format(.       
+0000dc70: 2020 2020 2020 2020 2066 696c 655f 7061           file_pa
+0000dc80: 7468 2c20 7374 6172 745f 7469 6d65 2c20  th, start_time, 
+0000dc90: 656e 645f 7469 6d65 2c20 7361 7665 5f70  end_time, save_p
+0000dca0: 6174 680a 2020 2020 2020 2020 2020 2020  ath.            
+0000dcb0: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
+0000dcc0: 2020 2020 2020 2020 2020 2020 636f 6d6d              comm
+0000dcd0: 616e 6420 3d20 6627 6666 6d70 6567 202d  and = f'ffmpeg -
+0000dce0: 6920 227b 6669 6c65 5f70 6174 687d 2220  i "{file_path}" 
+0000dcf0: 2d73 7320 7b73 7461 7274 5f74 696d 657d  -ss {start_time}
+0000dd00: 202d 746f 207b 656e 645f 7469 6d65 7d20   -to {end_time} 
+0000dd10: 2d61 7379 6e63 2031 2022 7b73 6176 655f  -async 1 "{save_
+0000dd20: 7061 7468 7d22 270a 2020 2020 2020 2020  path}"'.        
+0000dd30: 7072 696e 7428 2250 726f 6365 7373 696e  print("Processin
+0000dd40: 6720 7669 6465 6f20 636c 6970 207b 7d2e  g video clip {}.
+0000dd50: 2e2e 222e 666f 726d 6174 2873 7472 2863  ..".format(str(c
+0000dd60: 6c69 705f 636e 7420 2b20 3129 2929 0a20  lip_cnt + 1))). 
+0000dd70: 2020 2020 2020 2073 7562 7072 6f63 6573         subproces
+0000dd80: 732e 6361 6c6c 2863 6f6d 6d61 6e64 2c20  s.call(command, 
+0000dd90: 7368 656c 6c3d 5472 7565 2c20 7374 646f  shell=True, stdo
+0000dda0: 7574 3d73 7562 7072 6f63 6573 732e 5049  ut=subprocess.PI
+0000ddb0: 5045 290a 2020 2020 7469 6d65 722e 7374  PE).    timer.st
+0000ddc0: 6f70 5f74 696d 6572 2829 0a20 2020 2073  op_timer().    s
+0000ddd0: 7464 6f75 745f 7375 6363 6573 7328 0a20  tdout_success(. 
+0000dde0: 2020 2020 2020 206d 7367 3d66 2256 6964         msg=f"Vid
+0000ddf0: 656f 207b 6669 6c65 5f6e 616d 657d 2063  eo {file_name} c
+0000de00: 6f6e 7665 7274 6564 2069 6e74 6f20 7b73  onverted into {s
+0000de10: 7472 286c 656e 2873 7461 7274 5f74 696d  tr(len(start_tim
+0000de20: 6573 2929 7d20 636c 6970 7320 696e 2064  es))} clips in d
+0000de30: 6972 6563 746f 7279 207b 6469 725f 6e61  irectory {dir_na
+0000de40: 6d65 7d21 222c 0a20 2020 2020 2020 2065  me}!",.        e
+0000de50: 6c61 7073 6564 5f74 696d 653d 7469 6d65  lapsed_time=time
+0000de60: 722e 656c 6170 7365 645f 7469 6d65 5f73  r.elapsed_time_s
+0000de70: 7472 2c0a 2020 2020 2020 2020 736f 7572  tr,.        sour
+0000de80: 6365 3d6d 756c 7469 5f73 706c 6974 5f76  ce=multi_split_v
+0000de90: 6964 656f 2e5f 5f6e 616d 655f 5f2c 0a20  ideo.__name__,. 
+0000dea0: 2020 2029 0a0a 0a23 206d 756c 7469 5f73     )...# multi_s
+0000deb0: 706c 6974 5f76 6964 656f 2866 696c 655f  plit_video(file_
+0000dec0: 7061 7468 3d72 272f 5573 6572 732f 7369  path=r'/Users/si
+0000ded0: 6d6f 6e2f 4465 736b 746f 702f 7469 6d65  mon/Desktop/time
+0000dee0: 5f73 5f63 6f6e 7665 7274 6564 2e6d 7034  _s_converted.mp4
+0000def0: 272c 2073 7461 7274 5f74 696d 6573 3d5b  ', start_times=[
+0000df00: 2730 303a 3030 3a30 3127 2c20 2730 303a  '00:00:01', '00:
+0000df10: 3030 3a30 3227 5d2c 2065 6e64 5f74 696d  00:02'], end_tim
+0000df20: 6573 3d5b 2730 303a 3030 3a30 3427 2c20  es=['00:00:04', 
+0000df30: 2730 303a 3030 3a30 3527 5d2c 2067 7075  '00:00:05'], gpu
+0000df40: 3d46 616c 7365 290a 0a0a 6465 6620 6372  =False)...def cr
+0000df50: 6f70 5f73 696e 676c 655f 7669 6465 6f28  op_single_video(
+0000df60: 6669 6c65 5f70 6174 683a 2055 6e69 6f6e  file_path: Union
+0000df70: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
+0000df80: 655d 2c20 6770 753a 204f 7074 696f 6e61  e], gpu: Optiona
+0000df90: 6c5b 626f 6f6c 5d20 3d20 4661 6c73 6529  l[bool] = False)
+0000dfa0: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2222   -> None:.    ""
+0000dfb0: 220a 2020 2020 4372 6f70 2061 2073 696e  ".    Crop a sin
+0000dfc0: 676c 6520 7669 6465 6f20 7573 696e 6720  gle video using 
+0000dfd0: 6060 7369 6d62 612e 7669 6465 6f5f 7072  ``simba.video_pr
+0000dfe0: 6f63 6573 736f 7273 2e72 6f69 5f73 656c  ocessors.roi_sel
+0000dff0: 6563 746f 722e 524f 4953 656c 6563 746f  ector.ROISelecto
+0000e000: 7260 6020 696e 7465 7266 6163 652e 2052  r`` interface. R
+0000e010: 6573 756c 7473 2069 7320 7361 7665 6420  esults is saved 
+0000e020: 696e 2074 6865 2073 616d 6520 6469 7265  in the same dire
+0000e030: 6374 6f72 7920 6173 2069 6e70 7574 2076  ctory as input v
+0000e040: 6964 656f 2077 6974 6820 7468 650a 2020  ideo with the.  
+0000e050: 2020 6060 5f63 726f 7070 6564 2e6d 7034    ``_cropped.mp4
+0000e060: 6060 2073 7566 6669 7860 2e0a 0a20 2020  `` suffix`...   
+0000e070: 202e 2e20 696d 6167 653a 3a20 5f73 7461   .. image:: _sta
+0000e080: 7469 632f 696d 672f 6372 6f70 5f73 696e  tic/img/crop_sin
+0000e090: 676c 655f 7669 6465 6f2e 6769 660a 2020  gle_video.gif.  
+0000e0a0: 2020 2020 203a 7769 6474 683a 2037 3030       :width: 700
+0000e0b0: 0a20 2020 2020 2020 3a61 6c69 676e 3a20  .       :align: 
+0000e0c0: 6365 6e74 6572 0a0a 2020 2020 3a70 6172  center..    :par
+0000e0d0: 616d 6574 6572 2073 7472 2066 696c 655f  ameter str file_
+0000e0e0: 7061 7468 3a20 5061 7468 2074 6f20 7669  path: Path to vi
+0000e0f0: 6465 6f20 6669 6c65 2e0a 2020 2020 3a70  deo file..    :p
+0000e100: 6172 616d 6574 6572 204f 7074 696f 6e61  arameter Optiona
+0000e110: 6c5b 626f 6f6c 5d20 6770 753a 2049 6620  l[bool] gpu: If 
+0000e120: 5472 7565 2c20 7573 6520 4e56 4944 4541  True, use NVIDEA
+0000e130: 2047 5055 2063 6f64 6563 732e 2044 6566   GPU codecs. Def
+0000e140: 6175 6c74 2046 616c 7365 2e0a 0a20 2020  ault False...   
+0000e150: 203a 6578 616d 706c 653a 0a20 2020 203e   :example:.    >
+0000e160: 3e3e 205f 203d 2063 726f 705f 7369 6e67  >> _ = crop_sing
+0000e170: 6c65 5f76 6964 656f 2866 696c 655f 7061  le_video(file_pa
+0000e180: 7468 3d27 7072 6f6a 6563 745f 666f 6c64  th='project_fold
+0000e190: 6572 2f76 6964 656f 732f 5669 6465 6f5f  er/videos/Video_
+0000e1a0: 312e 6d70 3427 290a 2020 2020 2222 220a  1.mp4').    """.
+0000e1b0: 0a20 2020 2063 6865 636b 5f66 666d 7065  .    check_ffmpe
+0000e1c0: 675f 6176 6169 6c61 626c 6528 7261 6973  g_available(rais
+0000e1d0: 655f 6572 726f 723d 5472 7565 290a 2020  e_error=True).  
+0000e1e0: 2020 6966 2067 7075 2061 6e64 206e 6f74    if gpu and not
+0000e1f0: 2063 6865 636b 5f6e 7669 6465 615f 6770   check_nvidea_gp
+0000e200: 755f 6176 6169 6c61 626c 6528 293a 0a20  u_available():. 
+0000e210: 2020 2020 2020 2072 6169 7365 2046 464d         raise FFM
+0000e220: 5045 4743 6f64 6563 4750 5545 7272 6f72  PEGCodecGPUError
+0000e230: 280a 2020 2020 2020 2020 2020 2020 6d73  (.            ms
+0000e240: 673d 224e 5649 4445 4120 4750 5520 6e6f  g="NVIDEA GPU no
+0000e250: 7420 6176 6169 6c61 626c 6520 2861 7320  t available (as 
+0000e260: 6576 616c 7561 7465 6420 6279 206e 7669  evaluated by nvi
+0000e270: 6465 612d 736d 6920 7265 7475 726e 696e  dea-smi returnin
+0000e280: 6720 4e6f 6e65 222c 0a20 2020 2020 2020  g None",.       
+0000e290: 2020 2020 2073 6f75 7263 653d 6372 6f70       source=crop
+0000e2a0: 5f73 696e 676c 655f 7669 6465 6f2e 5f5f  _single_video.__
+0000e2b0: 6e61 6d65 5f5f 2c0a 2020 2020 2020 2020  name__,.        
+0000e2c0: 290a 2020 2020 6368 6563 6b5f 6669 6c65  ).    check_file
+0000e2d0: 5f65 7869 7374 5f61 6e64 5f72 6561 6461  _exist_and_reada
+0000e2e0: 626c 6528 6669 6c65 5f70 6174 683d 6669  ble(file_path=fi
+0000e2f0: 6c65 5f70 6174 6829 0a20 2020 205f 203d  le_path).    _ =
+0000e300: 2067 6574 5f76 6964 656f 5f6d 6574 615f   get_video_meta_
+0000e310: 6461 7461 2876 6964 656f 5f70 6174 683d  data(video_path=
+0000e320: 6669 6c65 5f70 6174 6829 0a20 2020 2064  file_path).    d
+0000e330: 6972 5f6e 616d 652c 2066 696c 655f 6e61  ir_name, file_na
+0000e340: 6d65 2c20 6578 7420 3d20 6765 745f 666e  me, ext = get_fn
+0000e350: 5f65 7874 2866 696c 6570 6174 683d 6669  _ext(filepath=fi
+0000e360: 6c65 5f70 6174 6829 0a20 2020 2072 6f69  le_path).    roi
+0000e370: 5f73 656c 6563 746f 7220 3d20 524f 4953  _selector = ROIS
+0000e380: 656c 6563 746f 7228 7061 7468 3d66 696c  elector(path=fil
+0000e390: 655f 7061 7468 290a 2020 2020 726f 695f  e_path).    roi_
+0000e3a0: 7365 6c65 6374 6f72 2e72 756e 2829 0a20  selector.run(). 
+0000e3b0: 2020 2069 6620 280a 2020 2020 2020 2020     if (.        
+0000e3c0: 2872 6f69 5f73 656c 6563 746f 722e 746f  (roi_selector.to
+0000e3d0: 705f 6c65 6674 5b30 5d20 3c20 3029 0a20  p_left[0] < 0). 
+0000e3e0: 2020 2020 2020 206f 7220 2872 6f69 5f73         or (roi_s
+0000e3f0: 656c 6563 746f 722e 746f 705f 6c65 6674  elector.top_left
+0000e400: 5b31 5d20 3c20 3029 0a20 2020 2020 2020  [1] < 0).       
+0000e410: 206f 7220 2872 6f69 5f73 656c 6563 746f   or (roi_selecto
+0000e420: 722e 626f 7474 6f6d 5f72 6967 6874 5b30  r.bottom_right[0
+0000e430: 5d20 3c20 3029 0a20 2020 2020 2020 206f  ] < 0).        o
+0000e440: 7220 2872 6f69 5f73 656c 6563 746f 722e  r (roi_selector.
+0000e450: 626f 7474 6f6d 5f72 6967 6874 5b31 5d20  bottom_right[1] 
+0000e460: 3c20 3129 0a20 2020 2029 3a0a 2020 2020  < 1).    ):.    
+0000e470: 2020 2020 7261 6973 6520 436f 756e 7445      raise CountE
+0000e480: 7272 6f72 280a 2020 2020 2020 2020 2020  rror(.          
+0000e490: 2020 6d73 673d 2243 524f 5020 4641 494c    msg="CROP FAIL
+0000e4a0: 4544 3a20 4361 6e6e 6f74 2075 7365 206e  ED: Cannot use n
+0000e4b0: 6567 6174 6976 6520 6372 6f70 2063 6f6f  egative crop coo
+0000e4c0: 7264 696e 6174 6573 2e22 2c0a 2020 2020  rdinates.",.    
+0000e4d0: 2020 2020 2020 2020 736f 7572 6365 3d63          source=c
+0000e4e0: 726f 705f 6d75 6c74 6970 6c65 5f76 6964  rop_multiple_vid
+0000e4f0: 656f 732e 5f5f 6e61 6d65 5f5f 2c0a 2020  eos.__name__,.  
+0000e500: 2020 2020 2020 290a 2020 2020 7361 7665        ).    save
+0000e510: 5f70 6174 6820 3d20 6f73 2e70 6174 682e  _path = os.path.
+0000e520: 6a6f 696e 2864 6972 5f6e 616d 652c 2066  join(dir_name, f
+0000e530: 227b 6669 6c65 5f6e 616d 657d 5f63 726f  "{file_name}_cro
+0000e540: 7070 6564 2e6d 7034 2229 0a20 2020 2069  pped.mp4").    i
+0000e550: 6620 6f73 2e70 6174 682e 6973 6669 6c65  f os.path.isfile
+0000e560: 2873 6176 655f 7061 7468 293a 0a20 2020  (save_path):.   
+0000e570: 2020 2020 2072 6169 7365 2046 696c 6545       raise FileE
+0000e580: 7869 7374 4572 726f 7228 0a20 2020 2020  xistError(.     
+0000e590: 2020 2020 2020 206d 7367 3d66 2253 494d         msg=f"SIM
+0000e5a0: 4241 2045 5252 4f52 3a20 5468 6520 6f75  BA ERROR: The ou
+0000e5b0: 7420 6669 6c65 2020 616c 7265 6164 7920  t file  already 
+0000e5c0: 6578 6973 743a 207b 7361 7665 5f70 6174  exist: {save_pat
+0000e5d0: 687d 2e22 2c0a 2020 2020 2020 2020 2020  h}.",.          
+0000e5e0: 2020 736f 7572 6365 3d63 726f 705f 7369    source=crop_si
+0000e5f0: 6e67 6c65 5f76 6964 656f 2e5f 5f6e 616d  ngle_video.__nam
+0000e600: 655f 5f2c 0a20 2020 2020 2020 2029 0a20  e__,.        ). 
+0000e610: 2020 2074 696d 6572 203d 2053 696d 6261     timer = Simba
+0000e620: 5469 6d65 7228 7374 6172 743d 5472 7565  Timer(start=True
+0000e630: 290a 2020 2020 6966 2067 7075 3a0a 2020  ).    if gpu:.  
+0000e640: 2020 2020 2020 636f 6d6d 616e 6420 3d20        command = 
+0000e650: 6627 6666 6d70 6567 202d 6877 6163 6365  f'ffmpeg -hwacce
+0000e660: 6c20 6175 746f 202d 633a 7620 6832 3634  l auto -c:v h264
+0000e670: 5f63 7576 6964 202d 6920 227b 6669 6c65  _cuvid -i "{file
+0000e680: 5f70 6174 687d 2220 2d76 6620 2263 726f  _path}" -vf "cro
+0000e690: 703d 7b72 6f69 5f73 656c 6563 746f 722e  p={roi_selector.
+0000e6a0: 7769 6474 687d 3a7b 726f 695f 7365 6c65  width}:{roi_sele
+0000e6b0: 6374 6f72 2e68 6569 6768 747d 3a7b 726f  ctor.height}:{ro
+0000e6c0: 695f 7365 6c65 6374 6f72 2e74 6f70 5f6c  i_selector.top_l
+0000e6d0: 6566 745b 305d 7d3a 7b72 6f69 5f73 656c  eft[0]}:{roi_sel
+0000e6e0: 6563 746f 722e 746f 705f 6c65 6674 5b31  ector.top_left[1
+0000e6f0: 5d7d 2220 2d63 3a76 2068 3236 345f 6e76  ]}" -c:v h264_nv
+0000e700: 656e 6320 2d63 3a61 2063 6f70 7920 227b  enc -c:a copy "{
+0000e710: 7361 7665 5f70 6174 687d 2227 0a20 2020  save_path}"'.   
+0000e720: 2065 6c73 653a 0a20 2020 2020 2020 2063   else:.        c
+0000e730: 6f6d 6d61 6e64 203d 2066 2766 666d 7065  ommand = f'ffmpe
+0000e740: 6720 2d79 202d 6920 227b 6669 6c65 5f70  g -y -i "{file_p
+0000e750: 6174 687d 2220 2d76 6620 2263 726f 703d  ath}" -vf "crop=
+0000e760: 7b72 6f69 5f73 656c 6563 746f 722e 7769  {roi_selector.wi
+0000e770: 6474 687d 3a7b 726f 695f 7365 6c65 6374  dth}:{roi_select
+0000e780: 6f72 2e68 6569 6768 747d 3a7b 726f 695f  or.height}:{roi_
+0000e790: 7365 6c65 6374 6f72 2e74 6f70 5f6c 6566  selector.top_lef
+0000e7a0: 745b 305d 7d3a 7b72 6f69 5f73 656c 6563  t[0]}:{roi_selec
+0000e7b0: 746f 722e 746f 705f 6c65 6674 5b31 5d7d  tor.top_left[1]}
+0000e7c0: 2220 2d63 3a76 206c 6962 7832 3634 202d  " -c:v libx264 -
+0000e7d0: 6372 6620 3137 202d 633a 6120 636f 7079  crf 17 -c:a copy
+0000e7e0: 2022 7b73 6176 655f 7061 7468 7d22 270a   "{save_path}"'.
+0000e7f0: 2020 2020 7375 6270 726f 6365 7373 2e63      subprocess.c
+0000e800: 616c 6c28 636f 6d6d 616e 642c 2073 6865  all(command, she
+0000e810: 6c6c 3d54 7275 6529 0a20 2020 2074 696d  ll=True).    tim
+0000e820: 6572 2e73 746f 705f 7469 6d65 7228 290a  er.stop_timer().
+0000e830: 2020 2020 7374 646f 7574 5f73 7563 6365      stdout_succe
+0000e840: 7373 280a 2020 2020 2020 2020 6622 5669  ss(.        f"Vi
+0000e850: 6465 6f20 7b66 696c 655f 6e61 6d65 7d20  deo {file_name} 
+0000e860: 6372 6f70 7065 6420 616e 6420 7361 7665  cropped and save
+0000e870: 6420 6174 207b 7361 7665 5f70 6174 687d  d at {save_path}
+0000e880: 222c 0a20 2020 2020 2020 2065 6c61 7073  ",.        elaps
+0000e890: 6564 5f74 696d 653d 7469 6d65 722e 656c  ed_time=timer.el
+0000e8a0: 6170 7365 645f 7469 6d65 5f73 7472 2c0a  apsed_time_str,.
+0000e8b0: 2020 2020 2020 2020 736f 7572 6365 3d63          source=c
+0000e8c0: 726f 705f 7369 6e67 6c65 5f76 6964 656f  rop_single_video
+0000e8d0: 2e5f 5f6e 616d 655f 5f2c 0a20 2020 2029  .__name__,.    )
+0000e8e0: 0a0a 0a23 205f 203d 2063 726f 705f 7369  ...# _ = crop_si
+0000e8f0: 6e67 6c65 5f76 6964 656f 2866 696c 655f  ngle_video(file_
+0000e900: 7061 7468 3d27 2f55 7365 7273 2f73 696d  path='/Users/sim
+0000e910: 6f6e 2f44 6573 6b74 6f70 2f65 6e76 732f  on/Desktop/envs/
+0000e920: 7472 6f75 626c 6573 686f 6f74 696e 672f  troubleshooting/
+0000e930: 4152 4553 5f64 6174 612f 5465 726d 6974  ARES_data/Termit
+0000e940: 6520 5465 7374 2031 2f54 6572 6d69 7465  e Test 1/Termite
+0000e950: 2054 6573 7420 312e 6d70 3427 290a 0a23   Test 1.mp4')..#
+0000e960: 2063 726f 705f 7369 6e67 6c65 5f76 6964   crop_single_vid
+0000e970: 656f 2866 696c 655f 7061 7468 3d72 2743  eo(file_path=r'C
+0000e980: 3a5c 5573 6572 735c 4e61 7065 5f43 6f6d  :\Users\Nape_Com
+0000e990: 7075 7465 725f 325c 4465 736b 746f 705c  puter_2\Desktop\
+0000e9a0: 7465 7374 5f76 6964 656f 735c 426f 7831  test_videos\Box1
+0000e9b0: 5f50 4d32 5f64 6179 5f35 5f32 3032 3131  _PM2_day_5_20211
+0000e9c0: 3130 3454 3137 3130 3231 2e6d 7034 272c  104T171021.mp4',
+0000e9d0: 2067 7075 3d46 616c 7365 290a 0a0a 6465   gpu=False)...de
+0000e9e0: 6620 6372 6f70 5f6d 756c 7469 706c 655f  f crop_multiple_
+0000e9f0: 7669 6465 6f73 280a 2020 2020 6469 7265  videos(.    dire
+0000ea00: 6374 6f72 795f 7061 7468 3a20 556e 696f  ctory_path: Unio
+0000ea10: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
+0000ea20: 6b65 5d2c 0a20 2020 206f 7574 7075 745f  ke],.    output_
+0000ea30: 7061 7468 3a20 556e 696f 6e5b 7374 722c  path: Union[str,
+0000ea40: 206f 732e 5061 7468 4c69 6b65 5d2c 0a20   os.PathLike],. 
+0000ea50: 2020 2067 7075 3a20 4f70 7469 6f6e 616c     gpu: Optional
+0000ea60: 5b62 6f6f 6c5d 203d 2046 616c 7365 2c0a  [bool] = False,.
+0000ea70: 2920 2d3e 204e 6f6e 653a 0a20 2020 2022  ) -> None:.    "
+0000ea80: 2222 0a20 2020 2043 726f 7020 6d75 6c74  "".    Crop mult
+0000ea90: 6970 6c65 2076 6964 656f 7320 696e 2061  iple videos in a
+0000eaa0: 2066 6f6c 6465 7220 6163 636f 7264 696e   folder accordin
+0000eab0: 6720 746f 2063 726f 702d 636f 6f72 6469  g to crop-coordi
+0000eac0: 6e61 7465 7320 6465 6669 6e65 6420 696e  nates defined in
+0000ead0: 2074 6865 202a 2a66 6972 7374 2a2a 2076   the **first** v
+0000eae0: 6964 656f 2e0a 0a20 2020 203a 7061 7261  ideo...    :para
+0000eaf0: 6d65 7465 7220 7374 7220 6469 7265 6374  meter str direct
+0000eb00: 6f72 795f 7061 7468 3a20 4469 7265 6374  ory_path: Direct
+0000eb10: 6f72 7920 636f 6e74 6169 6e69 6e67 2069  ory containing i
+0000eb20: 6e70 7574 2076 6964 656f 732e 0a20 2020  nput videos..   
+0000eb30: 203a 7061 7261 6d65 7465 7220 7374 7220   :parameter str 
+0000eb40: 6f75 7470 7574 5f70 6174 683a 2044 6972  output_path: Dir
+0000eb50: 6563 746f 7279 2077 6865 7265 2074 6f20  ectory where to 
+0000eb60: 7361 7665 2074 6865 2063 726f 7070 6564  save the cropped
+0000eb70: 2076 6964 656f 732e 0a20 2020 203a 7061   videos..    :pa
+0000eb80: 7261 6d65 7465 7220 4f70 7469 6f6e 616c  rameter Optional
+0000eb90: 5b62 6f6f 6c5d 2067 7075 3a20 4966 2054  [bool] gpu: If T
+0000eba0: 7275 652c 2075 7365 204e 5649 4445 4120  rue, use NVIDEA 
+0000ebb0: 4750 5520 636f 6465 6373 2e20 4465 6661  GPU codecs. Defa
+0000ebc0: 756c 7420 4661 6c73 652e 0a0a 2020 2020  ult False...    
+0000ebd0: 3a65 7861 6d70 6c65 3a0a 2020 2020 3e3e  :example:.    >>
+0000ebe0: 3e20 5f20 3d20 6372 6f70 5f6d 756c 7469  > _ = crop_multi
+0000ebf0: 706c 655f 7669 6465 6f73 2864 6972 6563  ple_videos(direc
+0000ec00: 746f 7279 5f70 6174 683d 2770 726f 6a65  tory_path='proje
+0000ec10: 6374 5f66 6f6c 6465 722f 7669 6465 6f73  ct_folder/videos
+0000ec20: 272c 206f 7574 7075 745f 7061 7468 3d27  ', output_path='
+0000ec30: 7072 6f6a 6563 745f 666f 6c64 6572 2f76  project_folder/v
+0000ec40: 6964 656f 732f 6d79 5f6e 6577 5f66 6f6c  ideos/my_new_fol
+0000ec50: 6465 7227 290a 2020 2020 2222 220a 0a20  der').    """.. 
+0000ec60: 2020 2063 6865 636b 5f66 666d 7065 675f     check_ffmpeg_
+0000ec70: 6176 6169 6c61 626c 6528 7261 6973 655f  available(raise_
+0000ec80: 6572 726f 723d 5472 7565 290a 2020 2020  error=True).    
+0000ec90: 6966 2067 7075 2061 6e64 206e 6f74 2063  if gpu and not c
+0000eca0: 6865 636b 5f6e 7669 6465 615f 6770 755f  heck_nvidea_gpu_
+0000ecb0: 6176 6169 6c61 626c 6528 293a 0a20 2020  available():.   
+0000ecc0: 2020 2020 2072 6169 7365 2046 464d 5045       raise FFMPE
+0000ecd0: 4743 6f64 6563 4750 5545 7272 6f72 280a  GCodecGPUError(.
+0000ece0: 2020 2020 2020 2020 2020 2020 6d73 673d              msg=
+0000ecf0: 224e 5649 4445 4120 4750 5520 6e6f 7420  "NVIDEA GPU not 
+0000ed00: 6176 6169 6c61 626c 6520 2861 7320 6576  available (as ev
+0000ed10: 616c 7561 7465 6420 6279 206e 7669 6465  aluated by nvide
+0000ed20: 612d 736d 6920 7265 7475 726e 696e 6720  a-smi returning 
+0000ed30: 4e6f 6e65 222c 0a20 2020 2020 2020 2020  None",.         
+0000ed40: 2020 2073 6f75 7263 653d 6372 6f70 5f6d     source=crop_m
+0000ed50: 756c 7469 706c 655f 7669 6465 6f73 2e5f  ultiple_videos._
+0000ed60: 5f6e 616d 655f 5f2c 0a20 2020 2020 2020  _name__,.       
+0000ed70: 2029 0a20 2020 2069 6620 6e6f 7420 6f73   ).    if not os
+0000ed80: 2e70 6174 682e 6973 6469 7228 6469 7265  .path.isdir(dire
+0000ed90: 6374 6f72 795f 7061 7468 293a 0a20 2020  ctory_path):.   
+0000eda0: 2020 2020 2072 6169 7365 204e 6f74 4469       raise NotDi
+0000edb0: 7265 6374 6f72 7945 7272 6f72 280a 2020  rectoryError(.  
+0000edc0: 2020 2020 2020 2020 2020 6d73 673d 2253            msg="S
+0000edd0: 494d 4241 2045 5252 4f52 3a20 7b7d 2069  IMBA ERROR: {} i
+0000ede0: 7320 6e6f 7420 6120 7661 6c69 6420 6469  s not a valid di
+0000edf0: 7265 6374 6f72 7922 2e66 6f72 6d61 7428  rectory".format(
+0000ee00: 6469 7265 6374 6f72 795f 7061 7468 292c  directory_path),
+0000ee10: 0a20 2020 2020 2020 2020 2020 2073 6f75  .            sou
+0000ee20: 7263 653d 6372 6f70 5f6d 756c 7469 706c  rce=crop_multipl
+0000ee30: 655f 7669 6465 6f73 2e5f 5f6e 616d 655f  e_videos.__name_
+0000ee40: 5f2c 0a20 2020 2020 2020 2029 0a20 2020  _,.        ).   
+0000ee50: 2076 6964 656f 5f70 6174 6873 203d 205b   video_paths = [
+0000ee60: 5d0a 2020 2020 6669 6c65 5f70 6174 6873  ].    file_paths
+0000ee70: 5f69 6e5f 666f 6c64 6572 203d 205b 0a20  _in_folder = [. 
+0000ee80: 2020 2020 2020 2066 2066 6f72 2066 2069         f for f i
+0000ee90: 6e20 676c 6f62 2e67 6c6f 6228 6469 7265  n glob.glob(dire
+0000eea0: 6374 6f72 795f 7061 7468 202b 2022 2f2a  ctory_path + "/*
+0000eeb0: 2229 2069 6620 6f73 2e70 6174 682e 6973  ") if os.path.is
+0000eec0: 6669 6c65 2866 290a 2020 2020 5d0a 2020  file(f).    ].  
+0000eed0: 2020 666f 7220 6669 6c65 5f70 6174 6820    for file_path 
+0000eee0: 696e 2066 696c 655f 7061 7468 735f 696e  in file_paths_in
+0000eef0: 5f66 6f6c 6465 723a 0a20 2020 2020 2020  _folder:.       
+0000ef00: 205f 2c20 5f2c 2065 7874 203d 2067 6574   _, _, ext = get
+0000ef10: 5f66 6e5f 6578 7428 6669 6c65 7061 7468  _fn_ext(filepath
+0000ef20: 3d66 696c 655f 7061 7468 290a 2020 2020  =file_path).    
+0000ef30: 2020 2020 6966 2065 7874 2e6c 6f77 6572      if ext.lower
+0000ef40: 2829 2069 6e20 4f70 7469 6f6e 732e 414c  () in Options.AL
+0000ef50: 4c5f 5649 4445 4f5f 464f 524d 4154 5f4f  L_VIDEO_FORMAT_O
+0000ef60: 5054 494f 4e53 2e76 616c 7565 3a0a 2020  PTIONS.value:.  
+0000ef70: 2020 2020 2020 2020 2020 7669 6465 6f5f            video_
+0000ef80: 7061 7468 732e 6170 7065 6e64 2866 696c  paths.append(fil
+0000ef90: 655f 7061 7468 290a 2020 2020 6966 206c  e_path).    if l
+0000efa0: 656e 2876 6964 656f 5f70 6174 6873 2920  en(video_paths) 
+0000efb0: 3c20 313a 0a20 2020 2020 2020 2072 6169  < 1:.        rai
+0000efc0: 7365 204e 6f46 696c 6573 466f 756e 6445  se NoFilesFoundE
+0000efd0: 7272 6f72 280a 2020 2020 2020 2020 2020  rror(.          
+0000efe0: 2020 6d73 673d 2253 494d 4241 2045 5252    msg="SIMBA ERR
+0000eff0: 4f52 3a20 4e6f 2066 696c 6573 2077 6974  OR: No files wit
+0000f000: 6820 2e6d 7034 2c20 2e61 7669 2c20 2e6d  h .mp4, .avi, .m
+0000f010: 6f76 2c20 2e66 6c76 2066 696c 6520 656e  ov, .flv file en
+0000f020: 6469 6e67 2066 6f75 6e64 2069 6e20 7468  ding found in th
+0000f030: 6520 7b7d 2064 6972 6563 746f 7279 222e  e {} directory".
+0000f040: 666f 726d 6174 280a 2020 2020 2020 2020  format(.        
+0000f050: 2020 2020 2020 2020 6469 7265 6374 6f72          director
+0000f060: 795f 7061 7468 0a20 2020 2020 2020 2020  y_path.         
+0000f070: 2020 2029 2c0a 2020 2020 2020 2020 2020     ),.          
+0000f080: 2020 736f 7572 6365 3d63 726f 705f 6d75    source=crop_mu
+0000f090: 6c74 6970 6c65 5f76 6964 656f 732e 5f5f  ltiple_videos.__
+0000f0a0: 6e61 6d65 5f5f 2c0a 2020 2020 2020 2020  name__,.        
+0000f0b0: 290a 2020 2020 726f 695f 7365 6c65 6374  ).    roi_select
+0000f0c0: 6f72 203d 2052 4f49 5365 6c65 6374 6f72  or = ROISelector
+0000f0d0: 2870 6174 683d 6669 6c65 5f70 6174 6873  (path=file_paths
+0000f0e0: 5f69 6e5f 666f 6c64 6572 5b30 5d29 0a20  _in_folder[0]). 
+0000f0f0: 2020 2072 6f69 5f73 656c 6563 746f 722e     roi_selector.
+0000f100: 7275 6e28 290a 2020 2020 6966 2028 726f  run().    if (ro
+0000f110: 695f 7365 6c65 6374 6f72 2e77 6964 7468  i_selector.width
+0000f120: 203d 3d20 3020 616e 6420 726f 695f 7365   == 0 and roi_se
+0000f130: 6c65 6374 6f72 2e68 6569 6768 7420 3d3d  lector.height ==
+0000f140: 2030 2920 6f72 2028 0a20 2020 2020 2020   0) or (.       
+0000f150: 2072 6f69 5f73 656c 6563 746f 722e 7769   roi_selector.wi
+0000f160: 6474 680a 2020 2020 2020 2020 2b20 726f  dth.        + ro
+0000f170: 695f 7365 6c65 6374 6f72 2e68 6569 6768  i_selector.heigh
+0000f180: 740a 2020 2020 2020 2020 2b20 726f 695f  t.        + roi_
+0000f190: 7365 6c65 6374 6f72 2e74 6f70 5f6c 6566  selector.top_lef
+0000f1a0: 745b 305d 0a20 2020 2020 2020 202b 2072  t[0].        + r
+0000f1b0: 6f69 5f73 656c 6563 746f 722e 746f 705f  oi_selector.top_
+0000f1c0: 6c65 6674 5b31 5d0a 2020 2020 2020 2020  left[1].        
+0000f1d0: 3d3d 2030 0a20 2020 2029 3a0a 2020 2020  == 0.    ):.    
+0000f1e0: 2020 2020 7261 6973 6520 436f 756e 7445      raise CountE
+0000f1f0: 7272 6f72 280a 2020 2020 2020 2020 2020  rror(.          
+0000f200: 2020 6d73 673d 2243 524f 5020 4641 494c    msg="CROP FAIL
+0000f210: 4544 3a20 4372 6f70 7069 6e67 2068 6569  ED: Cropping hei
+0000f220: 6768 7420 616e 6420 7769 6474 6820 6172  ght and width ar
+0000f230: 6520 626f 7468 2030 2e20 506c 6561 7365  e both 0. Please
+0000f240: 2074 7279 2061 6761 696e 2e22 2c0a 2020   try again.",.  
+0000f250: 2020 2020 2020 2020 2020 736f 7572 6365            source
+0000f260: 3d63 726f 705f 6d75 6c74 6970 6c65 5f76  =crop_multiple_v
+0000f270: 6964 656f 732e 5f5f 6e61 6d65 5f5f 2c0a  ideos.__name__,.
+0000f280: 2020 2020 2020 2020 290a 2020 2020 6966          ).    if
+0000f290: 2028 0a20 2020 2020 2020 2028 726f 695f   (.        (roi_
+0000f2a0: 7365 6c65 6374 6f72 2e74 6f70 5f6c 6566  selector.top_lef
+0000f2b0: 745b 305d 203c 2030 290a 2020 2020 2020  t[0] < 0).      
+0000f2c0: 2020 6f72 2028 726f 695f 7365 6c65 6374    or (roi_select
+0000f2d0: 6f72 2e74 6f70 5f6c 6566 745b 315d 203c  or.top_left[1] <
+0000f2e0: 2030 290a 2020 2020 2020 2020 6f72 2028   0).        or (
+0000f2f0: 726f 695f 7365 6c65 6374 6f72 2e62 6f74  roi_selector.bot
+0000f300: 746f 6d5f 7269 6768 745b 305d 203c 2030  tom_right[0] < 0
+0000f310: 290a 2020 2020 2020 2020 6f72 2028 726f  ).        or (ro
+0000f320: 695f 7365 6c65 6374 6f72 2e62 6f74 746f  i_selector.botto
+0000f330: 6d5f 7269 6768 745b 315d 203c 2031 290a  m_right[1] < 1).
+0000f340: 2020 2020 293a 0a20 2020 2020 2020 2072      ):.        r
+0000f350: 6169 7365 2043 6f75 6e74 4572 726f 7228  aise CountError(
+0000f360: 0a20 2020 2020 2020 2020 2020 206d 7367  .            msg
+0000f370: 3d22 4352 4f50 2046 4149 4c45 443a 2043  ="CROP FAILED: C
+0000f380: 616e 6e6f 7420 7573 6520 6e65 6761 7469  annot use negati
+0000f390: 7665 2063 726f 7020 636f 6f72 6469 6e61  ve crop coordina
+0000f3a0: 7465 732e 222c 0a20 2020 2020 2020 2020  tes.",.         
+0000f3b0: 2020 2073 6f75 7263 653d 6372 6f70 5f6d     source=crop_m
+0000f3c0: 756c 7469 706c 655f 7669 6465 6f73 2e5f  ultiple_videos._
+0000f3d0: 5f6e 616d 655f 5f2c 0a20 2020 2020 2020  _name__,.       
+0000f3e0: 2029 0a20 2020 2074 696d 6572 203d 2053   ).    timer = S
+0000f3f0: 696d 6261 5469 6d65 7228 7374 6172 743d  imbaTimer(start=
+0000f400: 5472 7565 290a 2020 2020 666f 7220 6669  True).    for fi
+0000f410: 6c65 5f63 6e74 2c20 6669 6c65 5f70 6174  le_cnt, file_pat
+0000f420: 6820 696e 2065 6e75 6d65 7261 7465 2876  h in enumerate(v
+0000f430: 6964 656f 5f70 6174 6873 293a 0a20 2020  ideo_paths):.   
+0000f440: 2020 2020 2076 6964 656f 5f74 696d 6572       video_timer
+0000f450: 203d 2053 696d 6261 5469 6d65 7228 7374   = SimbaTimer(st
+0000f460: 6172 743d 5472 7565 290a 2020 2020 2020  art=True).      
+0000f470: 2020 6469 725f 6e61 6d65 2c20 6669 6c65    dir_name, file
+0000f480: 5f6e 616d 652c 2065 7874 203d 2067 6574  _name, ext = get
+0000f490: 5f66 6e5f 6578 7428 6669 6c65 7061 7468  _fn_ext(filepath
+0000f4a0: 3d66 696c 655f 7061 7468 290a 2020 2020  =file_path).    
+0000f4b0: 2020 2020 7072 696e 7428 6622 4372 6f70      print(f"Crop
+0000f4c0: 7069 6e67 2076 6964 656f 207b 6669 6c65  ping video {file
+0000f4d0: 5f6e 616d 657d 2e2e 2e22 290a 2020 2020  _name}...").    
+0000f4e0: 2020 2020 7669 6465 6f5f 6d65 7461 5f64      video_meta_d
+0000f4f0: 6174 6120 3d20 6765 745f 7669 6465 6f5f  ata = get_video_
+0000f500: 6d65 7461 5f64 6174 6128 6669 6c65 5f70  meta_data(file_p
+0000f510: 6174 6829 0a20 2020 2020 2020 2069 6620  ath).        if 
+0000f520: 2872 6f69 5f73 656c 6563 746f 722e 626f  (roi_selector.bo
+0000f530: 7474 6f6d 5f72 6967 6874 5b30 5d20 3e20  ttom_right[0] > 
+0000f540: 7669 6465 6f5f 6d65 7461 5f64 6174 615b  video_meta_data[
+0000f550: 2277 6964 7468 225d 2920 6f72 2028 0a20  "width"]) or (. 
+0000f560: 2020 2020 2020 2020 2020 2072 6f69 5f73             roi_s
+0000f570: 656c 6563 746f 722e 626f 7474 6f6d 5f72  elector.bottom_r
+0000f580: 6967 6874 5b31 5d20 3e20 7669 6465 6f5f  ight[1] > video_
+0000f590: 6d65 7461 5f64 6174 615b 2268 6569 6768  meta_data["heigh
+0000f5a0: 7422 5d0a 2020 2020 2020 2020 293a 0a20  t"].        ):. 
+0000f5b0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0000f5c0: 2049 6e76 616c 6964 496e 7075 7445 7272   InvalidInputErr
+0000f5d0: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
+0000f5e0: 2020 2020 6d73 673d 6627 4361 6e6e 6f74      msg=f'Cannot
+0000f5f0: 2063 726f 7020 7669 6465 6f20 7b66 696c   crop video {fil
+0000f600: 655f 6e61 6d65 7d20 6f66 2073 697a 6520  e_name} of size 
+0000f610: 7b76 6964 656f 5f6d 6574 615f 6461 7461  {video_meta_data
+0000f620: 5b22 7265 736f 6c75 7469 6f6e 5f73 7472  ["resolution_str
+0000f630: 225d 7d20 6174 206c 6f63 6174 696f 6e20  "]} at location 
+0000f640: 746f 7020 6c65 6674 3a20 7b72 6f69 5f73  top left: {roi_s
+0000f650: 656c 6563 746f 722e 746f 705f 6c65 6674  elector.top_left
+0000f660: 7d2c 2062 6f74 746f 6d20 7269 6768 743a  }, bottom right:
+0000f670: 207b 726f 695f 7365 6c65 6374 6f72 2e62   {roi_selector.b
+0000f680: 6f74 746f 6d5f 7269 6768 747d 272c 0a20  ottom_right}',. 
+0000f690: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0000f6a0: 6f75 7263 653d 6372 6f70 5f6d 756c 7469  ource=crop_multi
+0000f6b0: 706c 655f 7669 6465 6f73 2e5f 5f6e 616d  ple_videos.__nam
+0000f6c0: 655f 5f2c 0a20 2020 2020 2020 2020 2020  e__,.           
+0000f6d0: 2029 0a20 2020 2020 2020 2073 6176 655f   ).        save_
+0000f6e0: 7061 7468 203d 206f 732e 7061 7468 2e6a  path = os.path.j
+0000f6f0: 6f69 6e28 6f75 7470 7574 5f70 6174 682c  oin(output_path,
+0000f700: 2066 696c 655f 6e61 6d65 202b 2022 5f63   file_name + "_c
+0000f710: 726f 7070 6564 2e6d 7034 2229 0a20 2020  ropped.mp4").   
+0000f720: 2020 2020 2069 6620 6770 753a 0a20 2020       if gpu:.   
+0000f730: 2020 2020 2020 2020 2063 6f6d 6d61 6e64           command
+0000f740: 203d 2066 2766 666d 7065 6720 2d68 7761   = f'ffmpeg -hwa
+0000f750: 6363 656c 2061 7574 6f20 2d63 3a76 2068  ccel auto -c:v h
+0000f760: 3236 345f 6375 7669 6420 2d69 2022 7b66  264_cuvid -i "{f
+0000f770: 696c 655f 7061 7468 7d22 202d 7666 2022  ile_path}" -vf "
+0000f780: 6372 6f70 3d7b 726f 695f 7365 6c65 6374  crop={roi_select
+0000f790: 6f72 2e77 6964 7468 7d3a 7b72 6f69 5f73  or.width}:{roi_s
+0000f7a0: 656c 6563 746f 722e 6865 6967 6874 7d3a  elector.height}:
+0000f7b0: 7b72 6f69 5f73 656c 6563 746f 722e 746f  {roi_selector.to
+0000f7c0: 705f 6c65 6674 5b30 5d7d 3a7b 726f 695f  p_left[0]}:{roi_
+0000f7d0: 7365 6c65 6374 6f72 2e74 6f70 5f6c 6566  selector.top_lef
+0000f7e0: 745b 315d 7d22 202d 633a 7620 6832 3634  t[1]}" -c:v h264
+0000f7f0: 5f6e 7665 6e63 202d 633a 6120 636f 7079  _nvenc -c:a copy
+0000f800: 2022 7b73 6176 655f 7061 7468 7d22 202d   "{save_path}" -
+0000f810: 7927 0a20 2020 2020 2020 2065 6c73 653a  y'.        else:
+0000f820: 0a20 2020 2020 2020 2020 2020 2063 6f6d  .            com
+0000f830: 6d61 6e64 203d 2066 2766 666d 7065 6720  mand = f'ffmpeg 
+0000f840: 2d69 2022 7b66 696c 655f 7061 7468 7d22  -i "{file_path}"
+0000f850: 202d 7666 2022 6372 6f70 3d7b 726f 695f   -vf "crop={roi_
+0000f860: 7365 6c65 6374 6f72 2e77 6964 7468 7d3a  selector.width}:
+0000f870: 7b72 6f69 5f73 656c 6563 746f 722e 6865  {roi_selector.he
+0000f880: 6967 6874 7d3a 7b72 6f69 5f73 656c 6563  ight}:{roi_selec
+0000f890: 746f 722e 746f 705f 6c65 6674 5b30 5d7d  tor.top_left[0]}
+0000f8a0: 3a7b 726f 695f 7365 6c65 6374 6f72 2e74  :{roi_selector.t
+0000f8b0: 6f70 5f6c 6566 745b 315d 7d22 202d 633a  op_left[1]}" -c:
+0000f8c0: 7620 6c69 6278 3236 3420 2d63 7266 2031  v libx264 -crf 1
+0000f8d0: 3720 2d63 3a61 2063 6f70 7920 227b 7361  7 -c:a copy "{sa
+0000f8e0: 7665 5f70 6174 687d 2220 2d79 270a 2020  ve_path}" -y'.  
+0000f8f0: 2020 2020 2020 7375 6270 726f 6365 7373        subprocess
+0000f900: 2e63 616c 6c28 636f 6d6d 616e 642c 2073  .call(command, s
+0000f910: 6865 6c6c 3d54 7275 6529 0a20 2020 2020  hell=True).     
+0000f920: 2020 2076 6964 656f 5f74 696d 6572 2e73     video_timer.s
+0000f930: 746f 705f 7469 6d65 7228 290a 2020 2020  top_timer().    
+0000f940: 2020 2020 7072 696e 7428 0a20 2020 2020      print(.     
+0000f950: 2020 2020 2020 2066 2256 6964 656f 207b         f"Video {
+0000f960: 6669 6c65 5f6e 616d 657d 2063 726f 7070  file_name} cropp
+0000f970: 6564 2028 5669 6465 6f20 7b66 696c 655f  ed (Video {file_
+0000f980: 636e 742b 317d 2f7b 6c65 6e28 7669 6465  cnt+1}/{len(vide
+0000f990: 6f5f 7061 7468 7329 7d2c 2065 6c61 7073  o_paths)}, elaps
+0000f9a0: 6564 2074 696d 653a 207b 7669 6465 6f5f  ed time: {video_
+0000f9b0: 7469 6d65 722e 656c 6170 7365 645f 7469  timer.elapsed_ti
+0000f9c0: 6d65 5f73 7472 7d29 220a 2020 2020 2020  me_str})".      
+0000f9d0: 2020 290a 2020 2020 7469 6d65 722e 7374    ).    timer.st
+0000f9e0: 6f70 5f74 696d 6572 2829 0a20 2020 2073  op_timer().    s
+0000f9f0: 7464 6f75 745f 7375 6363 6573 7328 0a20  tdout_success(. 
+0000fa00: 2020 2020 2020 206d 7367 3d66 227b 7374         msg=f"{st
+0000fa10: 7228 6c65 6e28 7669 6465 6f5f 7061 7468  r(len(video_path
+0000fa20: 7329 297d 2076 6964 656f 7320 6372 6f70  s))} videos crop
+0000fa30: 7065 6420 616e 6420 7361 7665 6420 696e  ped and saved in
+0000fa40: 207b 6469 7265 6374 6f72 795f 7061 7468   {directory_path
+0000fa50: 7d20 6469 7265 6374 6f72 7922 2c0a 2020  } directory",.  
+0000fa60: 2020 2020 2020 656c 6170 7365 645f 7469        elapsed_ti
+0000fa70: 6d65 3d74 696d 6572 2e65 6c61 7073 6564  me=timer.elapsed
+0000fa80: 5f74 696d 655f 7374 722c 0a20 2020 2020  _time_str,.     
+0000fa90: 2020 2073 6f75 7263 653d 6372 6f70 5f6d     source=crop_m
+0000faa0: 756c 7469 706c 655f 7669 6465 6f73 2e5f  ultiple_videos._
+0000fab0: 5f6e 616d 655f 5f2c 0a20 2020 2029 0a0a  _name__,.    )..
+0000fac0: 0a23 205f 203d 2063 726f 705f 6d75 6c74  .# _ = crop_mult
+0000fad0: 6970 6c65 5f76 6964 656f 7328 6469 7265  iple_videos(dire
+0000fae0: 6374 6f72 795f 7061 7468 3d27 2f55 7365  ctory_path='/Use
+0000faf0: 7273 2f73 696d 6f6e 2f44 6573 6b74 6f70  rs/simon/Desktop
+0000fb00: 2f65 6e76 732f 7472 6f75 626c 6573 686f  /envs/troublesho
+0000fb10: 6f74 696e 672f 7477 6f5f 626c 6163 6b5f  oting/two_black_
+0000fb20: 616e 696d 616c 735f 3134 6270 2f76 6964  animals_14bp/vid
+0000fb30: 656f 7327 2c20 6f75 7470 7574 5f70 6174  eos', output_pat
+0000fb40: 683d 272f 5573 6572 732f 7369 6d6f 6e2f  h='/Users/simon/
+0000fb50: 4465 736b 746f 702f 656e 7673 2f74 726f  Desktop/envs/tro
+0000fb60: 7562 6c65 7368 6f6f 7469 6e67 2f74 776f  ubleshooting/two
+0000fb70: 5f62 6c61 636b 5f61 6e69 6d61 6c73 5f31  _black_animals_1
+0000fb80: 3462 702f 7465 7374 2f74 6573 7427 290a  4bp/test/test').
+0000fb90: 0a0a 6465 6620 6672 616d 6573 5f74 6f5f  ..def frames_to_
+0000fba0: 6d6f 7669 6528 6469 7265 6374 6f72 793a  movie(directory:
+0000fbb0: 2055 6e69 6f6e 5b73 7472 2c20 6f73 2e50   Union[str, os.P
+0000fbc0: 6174 684c 696b 655d 2c0a 2020 2020 2020  athLike],.      
+0000fbd0: 2020 2020 2020 2020 2020 2020 2020 6670                fp
+0000fbe0: 733a 2069 6e74 2c0a 2020 2020 2020 2020  s: int,.        
+0000fbf0: 2020 2020 2020 2020 2020 2020 7175 616c              qual
+0000fc00: 6974 793a 2069 6e74 2c0a 2020 2020 2020  ity: int,.      
+0000fc10: 2020 2020 2020 2020 2020 2020 2020 6f75                ou
+0000fc20: 745f 666f 726d 6174 3a20 4f70 7469 6f6e  t_format: Option
+0000fc30: 616c 5b4c 6974 6572 616c 5b27 6d70 3427  al[Literal['mp4'
+0000fc40: 2c20 2761 7669 272c 2027 7765 626d 275d  , 'avi', 'webm']
+0000fc50: 5d20 3d20 276d 7034 272c 0a20 2020 2020  ] = 'mp4',.     
+0000fc60: 2020 2020 2020 2020 2020 2020 2020 2067                 g
+0000fc70: 7075 3a20 4f70 7469 6f6e 616c 5b62 6f6f  pu: Optional[boo
+0000fc80: 6c5d 203d 2046 616c 7365 2920 2d3e 204e  l] = False) -> N
+0000fc90: 6f6e 653a 0a20 2020 2022 2222 0a20 2020  one:.    """.   
+0000fca0: 204d 6572 6765 2061 6c6c 2069 6d61 6765   Merge all image
+0000fcb0: 2066 696c 6573 2069 6e20 6120 666f 6c64   files in a fold
+0000fcc0: 6572 2074 6f20 6120 6d70 3420 7669 6465  er to a mp4 vide
+0000fcd0: 6f20 6669 6c65 2e20 5669 6465 6f20 6669  o file. Video fi
+0000fce0: 6c65 2069 7320 7374 6f72 6564 2069 6e20  le is stored in 
+0000fcf0: 7468 6520 7361 6d65 2064 6972 6563 746f  the same directo
+0000fd00: 7279 2061 7320 7468 650a 2020 2020 696e  ry as the.    in
+0000fd10: 7075 7420 6469 7265 6374 6f72 7920 7375  put directory su
+0000fd20: 622d 666f 6c64 6572 2e0a 0a20 2020 202e  b-folder...    .
+0000fd30: 2e20 6e6f 7465 3a3a 0a20 2020 2020 2020  . note::.       
+0000fd40: 5468 6520 496d 6167 6520 6669 6c65 7320  The Image files 
+0000fd50: 6861 7665 2074 6f20 6861 7665 206f 7264  have to have ord
+0000fd60: 6572 6564 206e 756d 6572 6963 616c 206e  ered numerical n
+0000fd70: 616d 6573 2065 2e67 2e2c 2060 6031 2e70  ames e.g., ``1.p
+0000fd80: 6e67 6060 2c20 6060 322e 706e 6760 6020  ng``, ``2.png`` 
+0000fd90: 6574 632e 2e2e 0a0a 2020 2020 3a70 6172  etc.....    :par
+0000fda0: 616d 6574 6572 2073 7472 2064 6972 6563  ameter str direc
+0000fdb0: 746f 7279 3a20 4469 7265 6374 6f72 7920  tory: Directory 
+0000fdc0: 636f 6e74 6169 6e69 6e67 2074 6865 2069  containing the i
+0000fdd0: 6d61 6765 732e 0a20 2020 203a 7061 7261  mages..    :para
+0000fde0: 6d65 7465 7220 696e 7420 6670 733a 2054  meter int fps: T
+0000fdf0: 6865 2066 7261 6d65 2072 6174 6520 6f66  he frame rate of
+0000fe00: 2074 6865 206f 7574 7075 7420 7669 6465   the output vide
+0000fe10: 6f2e 0a20 2020 203a 7061 7261 6d65 7465  o..    :paramete
+0000fe20: 7220 696e 7420 7175 616c 6974 793a 2049  r int quality: I
+0000fe30: 6e74 6567 6572 2072 6570 7265 7365 6e74  nteger represent
+0000fe40: 696e 6720 7175 6174 6c69 7479 206f 6620  ing quatlity of 
+0000fe50: 7468 6520 6f75 7470 7574 2076 6964 656f  the output video
+0000fe60: 3a20 3130 2c20 3230 2c20 3330 2e2e 2031  : 10, 20, 30.. 1
+0000fe70: 3030 2e20 4869 6768 6572 2076 616c 7565  00. Higher value
+0000fe80: 7320 6769 7665 7320 6c61 7267 6572 2076  s gives larger v
+0000fe90: 6964 656f 7320 6174 2068 6967 6865 7220  ideos at higher 
+0000fea0: 7175 616c 6974 792e 2048 6967 6865 7220  quality. Higher 
+0000feb0: 7661 6c75 6573 206d 6179 206e 6567 6174  values may negat
+0000fec0: 6976 656c 7920 6166 6665 6374 2072 756e  ively affect run
+0000fed0: 7469 6d65 2e0a 2020 2020 3a70 6172 616d  time..    :param
+0000fee0: 6574 6572 204f 7074 696f 6e61 6c5b 4c69  eter Optional[Li
+0000fef0: 7465 7261 6c5b 276d 7034 272c 2027 6176  teral['mp4', 'av
+0000ff00: 6927 2c20 2777 6562 6d27 2c20 276d 6f76  i', 'webm', 'mov
+0000ff10: 275d 5d20 6f75 745f 666f 726d 6174 3a20  ']] out_format: 
+0000ff20: 5468 6520 666f 726d 6174 206f 6620 7468  The format of th
+0000ff30: 6520 6f75 7470 7574 2076 6964 656f 3a20  e output video: 
+0000ff40: 276d 7034 272c 2027 6176 6927 2c20 2777  'mp4', 'avi', 'w
+0000ff50: 6562 6d27 2c20 6f72 2027 6d6f 7627 2e20  ebm', or 'mov'. 
+0000ff60: 4465 6661 756c 743a 206d 7034 2e0a 2020  Default: mp4..  
+0000ff70: 2020 3a70 6172 616d 6574 6572 204f 7074    :parameter Opt
+0000ff80: 696f 6e61 6c5b 626f 6f6c 5d20 6770 753a  ional[bool] gpu:
+0000ff90: 2049 6620 5472 7565 2c20 7573 6520 4e56   If True, use NV
+0000ffa0: 4944 4541 2047 5055 2063 6f64 6563 732e  IDEA GPU codecs.
+0000ffb0: 2044 6566 6175 6c74 2046 616c 7365 2e0a   Default False..
+0000ffc0: 0a20 2020 203a 6578 616d 706c 653a 0a20  .    :example:. 
+0000ffd0: 2020 203e 3e3e 2066 7261 6d65 735f 746f     >>> frames_to
+0000ffe0: 5f6d 6f76 6965 2864 6972 6563 746f 7279  _movie(directory
+0000fff0: 3d27 2f55 7365 7273 2f73 696d 6f6e 2f44  ='/Users/simon/D
+00010000: 6573 6b74 6f70 2f62 6c61 6827 2c20 6670  esktop/blah', fp
+00010010: 733d 3630 2c20 7175 616c 6974 793d 3630  s=60, quality=60
+00010020: 2c20 6f75 745f 666f 726d 6174 3d27 6d70  , out_format='mp
+00010030: 3427 290a 2020 2020 2222 220a 0a20 2020  4').    """..   
+00010040: 2064 6566 206e 6174 7572 616c 5f73 6f72   def natural_sor
+00010050: 745f 6b65 7928 7329 3a0a 2020 2020 2020  t_key(s):.      
+00010060: 2020 7265 7475 726e 205b 696e 7428 7061    return [int(pa
+00010070: 7274 2920 6966 2070 6172 742e 6973 6469  rt) if part.isdi
+00010080: 6769 7428 2920 656c 7365 2070 6172 7420  git() else part 
+00010090: 666f 7220 7061 7274 2069 6e20 732e 7370  for part in s.sp
+000100a0: 6c69 7428 272f 2729 5d0a 0a20 2020 2074  lit('/')]..    t
+000100b0: 696d 6572 203d 2053 696d 6261 5469 6d65  imer = SimbaTime
+000100c0: 7228 7374 6172 743d 5472 7565 290a 2020  r(start=True).  
+000100d0: 2020 6368 6563 6b5f 6666 6d70 6567 5f61    check_ffmpeg_a
+000100e0: 7661 696c 6162 6c65 2872 6169 7365 5f65  vailable(raise_e
+000100f0: 7272 6f72 3d54 7275 6529 0a20 2020 2069  rror=True).    i
+00010100: 6620 6770 7520 616e 6420 6e6f 7420 6368  f gpu and not ch
+00010110: 6563 6b5f 6e76 6964 6561 5f67 7075 5f61  eck_nvidea_gpu_a
+00010120: 7661 696c 6162 6c65 2829 3a0a 2020 2020  vailable():.    
+00010130: 2020 2020 7261 6973 6520 4646 4d50 4547      raise FFMPEG
+00010140: 436f 6465 6347 5055 4572 726f 7228 6d73  CodecGPUError(ms
+00010150: 673d 224e 5649 4445 4120 4750 5520 6e6f  g="NVIDEA GPU no
+00010160: 7420 6176 6169 6c61 626c 6520 2861 7320  t available (as 
+00010170: 6576 616c 7561 7465 6420 6279 206e 7669  evaluated by nvi
+00010180: 6465 612d 736d 6920 7265 7475 726e 696e  dea-smi returnin
+00010190: 6720 4e6f 6e65 222c 2073 6f75 7263 653d  g None", source=
+000101a0: 6672 616d 6573 5f74 6f5f 6d6f 7669 652e  frames_to_movie.
+000101b0: 5f5f 6e61 6d65 5f5f 290a 2020 2020 6368  __name__).    ch
+000101c0: 6563 6b5f 6966 5f64 6972 5f65 7869 7374  eck_if_dir_exist
+000101d0: 7328 696e 5f64 6972 3d64 6972 6563 746f  s(in_dir=directo
+000101e0: 7279 2c20 736f 7572 6365 3d66 7261 6d65  ry, source=frame
+000101f0: 735f 746f 5f6d 6f76 6965 2e5f 5f6e 616d  s_to_movie.__nam
+00010200: 655f 5f29 0a20 2020 2063 6865 636b 5f73  e__).    check_s
+00010210: 7472 286e 616d 653d 276f 7574 5f66 6f72  tr(name='out_for
+00010220: 6d61 7427 2c20 7661 6c75 653d 6f75 745f  mat', value=out_
+00010230: 666f 726d 6174 2c20 6f70 7469 6f6e 733d  format, options=
+00010240: 5b27 6d70 3427 2c20 2761 7669 272c 2027  ['mp4', 'avi', '
+00010250: 7765 626d 275d 290a 2020 2020 6368 6563  webm']).    chec
+00010260: 6b5f 696e 7428 6e61 6d65 3d22 4650 5322  k_int(name="FPS"
+00010270: 2c20 7661 6c75 653d 6670 732c 206d 696e  , value=fps, min
+00010280: 5f76 616c 7565 3d31 290a 2020 2020 6368  _value=1).    ch
+00010290: 6563 6b5f 696e 7428 6e61 6d65 3d22 7175  eck_int(name="qu
+000102a0: 616c 6974 7922 2c20 7661 6c75 653d 7175  ality", value=qu
+000102b0: 616c 6974 792c 206d 696e 5f76 616c 7565  ality, min_value
+000102c0: 3d31 290a 2020 2020 6966 206f 7574 5f66  =1).    if out_f
+000102d0: 6f72 6d61 7420 3d3d 2027 7765 626d 273a  ormat == 'webm':
+000102e0: 0a20 2020 2020 2020 2063 6f64 6563 203d  .        codec =
+000102f0: 2027 6c69 6276 7078 2d76 7039 270a 2020   'libvpx-vp9'.  
+00010300: 2020 656c 6966 206f 7574 5f66 6f72 6d61    elif out_forma
+00010310: 7420 3d3d 2027 6176 6927 3a0a 2020 2020  t == 'avi':.    
+00010320: 2020 2020 636f 6465 6320 3d20 276d 7065      codec = 'mpe
+00010330: 6734 270a 2020 2020 656c 7365 3a0a 2020  g4'.    else:.  
+00010340: 2020 2020 2020 636f 6465 6320 3d20 276c        codec = 'l
+00010350: 6962 7832 3634 270a 2020 2020 6372 665f  ibx264'.    crf_
+00010360: 6c6b 203d 2070 6572 6365 6e74 5f74 6f5f  lk = percent_to_
+00010370: 6372 665f 6c6f 6f6b 7570 2829 0a20 2020  crf_lookup().   
+00010380: 2063 7266 203d 2063 7266 5f6c 6b5b 7374   crf = crf_lk[st
+00010390: 7228 7175 616c 6974 7929 5d0a 2020 2020  r(quality)].    
+000103a0: 7361 7665 5f70 6174 6820 3d20 6f73 2e70  save_path = os.p
+000103b0: 6174 682e 6a6f 696e 286f 732e 7061 7468  ath.join(os.path
+000103c0: 2e64 6972 6e61 6d65 2864 6972 6563 746f  .dirname(directo
+000103d0: 7279 292c 2066 227b 6f73 2e70 6174 682e  ry), f"{os.path.
+000103e0: 6261 7365 6e61 6d65 2864 6972 6563 746f  basename(directo
+000103f0: 7279 297d 2e7b 6f75 745f 666f 726d 6174  ry)}.{out_format
+00010400: 7d22 290a 2020 2020 696d 675f 7061 7468  }").    img_path
+00010410: 7320 3d20 6669 6e64 5f66 696c 6573 5f6f  s = find_files_o
+00010420: 665f 6669 6c65 7479 7065 735f 696e 5f64  f_filetypes_in_d
+00010430: 6972 6563 746f 7279 2864 6972 6563 746f  irectory(directo
+00010440: 7279 3d64 6972 6563 746f 7279 2c20 6578  ry=directory, ex
+00010450: 7465 6e73 696f 6e73 3d4f 7074 696f 6e73  tensions=Options
+00010460: 2e41 4c4c 5f49 4d41 4745 5f46 4f52 4d41  .ALL_IMAGE_FORMA
+00010470: 545f 4f50 5449 4f4e 532e 7661 6c75 652c  T_OPTIONS.value,
+00010480: 2072 6169 7365 5f65 7272 6f72 3d54 7275   raise_error=Tru
+00010490: 6529 0a20 2020 2073 6f72 7465 645f 6669  e).    sorted_fi
+000104a0: 6c65 7061 7468 7320 3d20 736f 7274 6564  lepaths = sorted
+000104b0: 2869 6d67 5f70 6174 6873 2c20 6b65 793d  (img_paths, key=
+000104c0: 6e61 7475 7261 6c5f 736f 7274 5f6b 6579  natural_sort_key
+000104d0: 290a 2020 2020 5f2c 2073 7461 7274 5f69  ).    _, start_i
+000104e0: 642c 205f 203d 2067 6574 5f66 6e5f 6578  d, _ = get_fn_ex
+000104f0: 7428 6669 6c65 7061 7468 3d73 6f72 7465  t(filepath=sorte
+00010500: 645f 6669 6c65 7061 7468 735b 305d 290a  d_filepaths[0]).
+00010510: 2020 2020 6966 206e 6f74 2067 7075 3a0a      if not gpu:.
+00010520: 2020 2020 2020 2020 636d 6420 3d20 6627          cmd = f'
+00010530: 6666 6d70 6567 202d 6672 616d 6572 6174  ffmpeg -framerat
+00010540: 6520 7b66 7073 7d20 2d73 7461 7274 5f6e  e {fps} -start_n
+00010550: 756d 6265 7220 7b73 7461 7274 5f69 647d  umber {start_id}
+00010560: 202d 7061 7474 6572 6e5f 7479 7065 2067   -pattern_type g
+00010570: 6c6f 6220 2d69 2022 7b64 6972 6563 746f  lob -i "{directo
+00010580: 7279 7d2f 2a2e 706e 6722 202d 633a 7620  ry}/*.png" -c:v 
+00010590: 7b63 6f64 6563 7d20 2d63 7266 207b 6372  {codec} -crf {cr
+000105a0: 667d 2022 7b73 6176 655f 7061 7468 7d22  f} "{save_path}"
+000105b0: 202d 6c6f 676c 6576 656c 2065 7272 6f72   -loglevel error
+000105c0: 202d 7374 6174 7320 2d68 6964 655f 6261   -stats -hide_ba
+000105d0: 6e6e 6572 202d 7927 0a20 2020 2065 6c73  nner -y'.    els
+000105e0: 653a 0a20 2020 2020 2020 2063 6d64 203d  e:.        cmd =
+000105f0: 2066 2766 666d 7065 6720 2d66 7261 6d65   f'ffmpeg -frame
+00010600: 7261 7465 207b 6670 737d 202d 7374 6172  rate {fps} -star
+00010610: 745f 6e75 6d62 6572 207b 7374 6172 745f  t_number {start_
+00010620: 6964 7d20 2d70 6174 7465 726e 5f74 7970  id} -pattern_typ
+00010630: 6520 676c 6f62 202d 6920 2224 286c 7320  e glob -i "$(ls 
+00010640: 2d76 207b 6469 7265 6374 6f72 797d 2f2a  -v {directory}/*
+00010650: 2e70 6e67 2922 202d 633a 7620 6832 3634  .png)" -c:v h264
+00010660: 5f6e 7665 6e63 202d 6372 6620 7b63 7266  _nvenc -crf {crf
+00010670: 7d20 227b 7361 7665 5f70 6174 687d 2220  } "{save_path}" 
+00010680: 2d6c 6f67 6c65 7665 6c20 6572 726f 7220  -loglevel error 
+00010690: 2d73 7461 7473 202d 6869 6465 5f62 616e  -stats -hide_ban
+000106a0: 6e65 7220 2d79 270a 2020 2020 7375 6270  ner -y'.    subp
+000106b0: 726f 6365 7373 2e63 616c 6c28 636d 642c  rocess.call(cmd,
+000106c0: 2073 6865 6c6c 3d54 7275 6529 0a20 2020   shell=True).   
+000106d0: 2074 696d 6572 2e73 746f 705f 7469 6d65   timer.stop_time
+000106e0: 7228 290a 2020 2020 7374 646f 7574 5f73  r().    stdout_s
+000106f0: 7563 6365 7373 286d 7367 3d66 2256 6964  uccess(msg=f"Vid
+00010700: 656f 2063 7265 6174 6564 2061 7420 7b73  eo created at {s
+00010710: 6176 655f 7061 7468 7d22 2c20 736f 7572  ave_path}", sour
+00010720: 6365 3d66 7261 6d65 735f 746f 5f6d 6f76  ce=frames_to_mov
+00010730: 6965 2e5f 5f6e 616d 655f 5f2c 2065 6c61  ie.__name__, ela
+00010740: 7073 6564 5f74 696d 653d 7469 6d65 722e  psed_time=timer.
+00010750: 656c 6170 7365 645f 7469 6d65 5f73 7472  elapsed_time_str
+00010760: 290a 0a0a 6465 6620 7669 6465 6f5f 636f  )...def video_co
+00010770: 6e63 6174 656e 6174 6f72 2876 6964 656f  ncatenator(video
+00010780: 5f6f 6e65 5f70 6174 683a 2055 6e69 6f6e  _one_path: Union
+00010790: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
+000107a0: 655d 2c0a 2020 2020 2020 2020 2020 2020  e],.            
+000107b0: 2020 2020 2020 2020 2020 2076 6964 656f             video
+000107c0: 5f74 776f 5f70 6174 683a 2055 6e69 6f6e  _two_path: Union
+000107d0: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
+000107e0: 655d 2c0a 2020 2020 2020 2020 2020 2020  e],.            
+000107f0: 2020 2020 2020 2020 2020 2072 6573 6f6c             resol
+00010800: 7574 696f 6e3a 204f 7074 696f 6e61 6c5b  ution: Optional[
+00010810: 556e 696f 6e5b 696e 742c 2073 7472 5d5d  Union[int, str]]
+00010820: 203d 2027 7669 6465 6f20 3127 2c0a 2020   = 'video 1',.  
+00010830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010840: 2020 2020 2068 6f72 697a 6f6e 7461 6c3a       horizontal:
+00010850: 204f 7074 696f 6e61 6c5b 626f 6f6c 5d20   Optional[bool] 
+00010860: 3d20 5472 7565 2c0a 2020 2020 2020 2020  = True,.        
+00010870: 2020 2020 2020 2020 2020 2020 2020 2067                 g
+00010880: 7075 3a20 4f70 7469 6f6e 616c 5b62 6f6f  pu: Optional[boo
+00010890: 6c5d 203d 2046 616c 7365 2920 2d3e 204e  l] = False) -> N
+000108a0: 6f6e 653a 0a20 2020 2022 2222 0a20 2020  one:.    """.   
+000108b0: 2043 6f6e 6361 7465 6e61 7465 2074 776f   Concatenate two
+000108c0: 2076 6964 656f 7320 746f 2061 2073 696e   videos to a sin
+000108d0: 676c 6520 7669 6465 6f20 6569 7468 6572  gle video either
+000108e0: 2068 6f72 697a 6f6e 7461 6c6c 7920 6f72   horizontally or
+000108f0: 2076 6572 7469 6361 6c6c 790a 0a20 2020   vertically..   
+00010900: 202e 2e20 696d 6167 653a 3a20 5f73 7461   .. image:: _sta
+00010910: 7469 632f 696d 672f 686f 7269 7a6f 6e74  tic/img/horizont
+00010920: 616c 5f76 6964 656f 5f63 6f6e 6361 7465  al_video_concate
+00010930: 6e61 746f 722e 6769 660a 2020 2020 2020  nator.gif.      
+00010940: 203a 7769 6474 683a 2031 3030 300a 2020   :width: 1000.  
+00010950: 2020 2020 203a 616c 6967 6e3a 2063 656e       :align: cen
+00010960: 7465 720a 0a20 2020 202e 2e20 7669 6465  ter..    .. vide
+00010970: 6f3a 3a20 5f73 7461 7469 632f 696d 672f  o:: _static/img/
+00010980: 7665 7274 6963 616c 5f63 6f6e 6361 742e  vertical_concat.
+00010990: 7765 626d 0a20 2020 2020 2020 3a77 6964  webm.       :wid
+000109a0: 7468 3a20 3830 300a 2020 2020 2020 203a  th: 800.       :
+000109b0: 6175 746f 706c 6179 3a0a 2020 2020 2020  autoplay:.      
+000109c0: 203a 6c6f 6f70 3a0a 0a20 2020 203a 7061   :loop:..    :pa
+000109d0: 7261 6d20 7374 7220 7669 6465 6f5f 6f6e  ram str video_on
+000109e0: 655f 7061 7468 3a20 5061 7468 2074 6f20  e_path: Path to 
+000109f0: 7468 6520 6669 7273 7420 7669 6465 6f20  the first video 
+00010a00: 696e 2074 6865 2063 6f6e 6361 7465 6e61  in the concatena
+00010a10: 7465 6420 7669 6465 6f0a 2020 2020 3a70  ted video.    :p
+00010a20: 6172 616d 2073 7472 2076 6964 656f 5f74  aram str video_t
+00010a30: 776f 5f70 6174 683a 2050 6174 6820 746f  wo_path: Path to
+00010a40: 2074 6865 2073 6563 6f6e 6420 7669 6465   the second vide
+00010a50: 6f20 696e 2074 6865 2063 6f6e 6361 7465  o in the concate
+00010a60: 6e61 7465 6420 7669 6465 6f0a 2020 2020  nated video.    
+00010a70: 3a70 6172 616d 2069 6e74 206f 7220 7374  :param int or st
+00010a80: 7220 7265 736f 6c75 7469 6f6e 3a20 4966  r resolution: If
+00010a90: 2073 7472 2c20 7468 656e 2074 6865 206e   str, then the n
+00010aa0: 616d 6520 6f66 2074 6865 2076 6964 656f  ame of the video
+00010ab0: 2077 6869 6368 2072 6573 6f6c 7574 696f   which resolutio
+00010ac0: 6e20 796f 7520 7761 6e74 2074 6f20 7265  n you want to re
+00010ad0: 7461 696e 2e20 452e 672e 2c20 6056 6964  tain. E.g., `Vid
+00010ae0: 656f 5f31 602e 2045 6c73 6520 696e 742c  eo_1`. Else int,
+00010af0: 2072 6570 7265 7365 6e74 696e 6720 7468   representing th
+00010b00: 6520 7669 6465 6f20 7769 6474 6820 2869  e video width (i
+00010b10: 6620 7665 7274 6963 616c 2063 6f6e 6361  f vertical conca
+00010b20: 7429 206f 7220 6865 6967 6874 2028 6966  t) or height (if
+00010b30: 2068 6f72 697a 6f6e 7461 6c20 636f 6e63   horizontal conc
+00010b40: 6174 292e 2041 7370 6563 7420 7261 696f  at). Aspect raio
+00010b50: 2077 696c 6c20 6265 2072 6574 6169 6e65   will be retaine
+00010b60: 642e 0a20 2020 203a 7061 7261 6d20 686f  d..    :param ho
+00010b70: 7269 7a6f 6e74 616c 3a20 4966 2074 7275  rizontal: If tru
+00010b80: 652c 2074 6865 6e20 686f 7269 7a6f 6e74  e, then horizont
+00010b90: 616c 2063 6f6e 6361 7465 6e61 7469 6f6e  al concatenation
+00010ba0: 2e20 456c 7365 2076 6572 7469 6361 6c20  . Else vertical 
+00010bb0: 636f 6e63 6174 656e 6174 696f 6e2e 0a20  concatenation.. 
+00010bc0: 2020 203a 7061 7261 6d65 7465 7220 4f70     :parameter Op
+00010bd0: 7469 6f6e 616c 5b62 6f6f 6c5d 2067 7075  tional[bool] gpu
+00010be0: 3a20 4966 2054 7275 652c 2075 7365 204e  : If True, use N
+00010bf0: 5649 4445 4120 4750 5520 636f 6465 6373  VIDEA GPU codecs
+00010c00: 2e20 4465 6661 756c 7420 4661 6c73 652e  . Default False.
+00010c10: 0a0a 2020 2020 3a65 7861 6d70 6c65 3a0a  ..    :example:.
+00010c20: 2020 2020 3e3e 3e20 7669 6465 6f5f 636f      >>> video_co
+00010c30: 6e63 6174 656e 6174 6f72 2876 6964 656f  ncatenator(video
+00010c40: 5f6f 6e65 5f70 6174 683d 2770 726f 6a65  _one_path='proje
+00010c50: 6374 5f66 6f6c 6465 722f 7669 6465 6f73  ct_folder/videos
+00010c60: 2f56 6964 656f 5f31 2e6d 7034 272c 2076  /Video_1.mp4', v
+00010c70: 6964 656f 5f74 776f 5f70 6174 683d 2770  ideo_two_path='p
+00010c80: 726f 6a65 6374 5f66 6f6c 6465 722f 7669  roject_folder/vi
+00010c90: 6465 6f73 2f56 6964 656f 5f32 2e6d 7034  deos/Video_2.mp4
+00010ca0: 272c 2072 6573 6f6c 7574 696f 6e3d 3830  ', resolution=80
+00010cb0: 302c 2068 6f72 697a 6f6e 7461 6c3d 5472  0, horizontal=Tr
+00010cc0: 7565 290a 2020 2020 2222 220a 0a20 2020  ue).    """..   
+00010cd0: 2069 6620 6770 7520 616e 6420 6e6f 7420   if gpu and not 
+00010ce0: 6368 6563 6b5f 6e76 6964 6561 5f67 7075  check_nvidea_gpu
+00010cf0: 5f61 7661 696c 6162 6c65 2829 3a0a 2020  _available():.  
+00010d00: 2020 2020 2020 7261 6973 6520 4646 4d50        raise FFMP
+00010d10: 4547 436f 6465 6347 5055 4572 726f 7228  EGCodecGPUError(
+00010d20: 6d73 673d 224e 5649 4445 4120 4750 5520  msg="NVIDEA GPU 
+00010d30: 6e6f 7420 6176 6169 6c61 626c 6520 2861  not available (a
+00010d40: 7320 6576 616c 7561 7465 6420 6279 206e  s evaluated by n
+00010d50: 7669 6465 612d 736d 6920 7265 7475 726e  videa-smi return
+00010d60: 696e 6720 4e6f 6e65 222c 2073 6f75 7263  ing None", sourc
+00010d70: 653d 7669 6465 6f5f 636f 6e63 6174 656e  e=video_concaten
+00010d80: 6174 6f72 2e5f 5f6e 616d 655f 5f29 0a20  ator.__name__). 
+00010d90: 2020 2069 6620 6e6f 7420 6368 6563 6b5f     if not check_
+00010da0: 6666 6d70 6567 5f61 7661 696c 6162 6c65  ffmpeg_available
+00010db0: 2829 3a0a 2020 2020 2020 2020 7261 6973  ():.        rais
+00010dc0: 6520 4646 4d50 4547 4e6f 7446 6f75 6e64  e FFMPEGNotFound
+00010dd0: 4572 726f 7228 6d73 673d 2246 464d 5045  Error(msg="FFMPE
+00010de0: 4720 6e6f 7420 666f 756e 6420 6f6e 2074  G not found on t
+00010df0: 6865 2063 6f6d 7075 7465 722e 2049 6e73  he computer. Ins
+00010e00: 7461 6c6c 2046 464d 5045 4720 746f 2075  tall FFMPEG to u
+00010e10: 7365 2074 6865 2063 6f6e 6361 7465 6e61  se the concatena
+00010e20: 7469 6f6e 206d 6574 686f 642e 222c 2073  tion method.", s
+00010e30: 6f75 7263 653d 7669 6465 6f5f 636f 6e63  ource=video_conc
+00010e40: 6174 656e 6174 6f72 2e5f 5f6e 616d 655f  atenator.__name_
+00010e50: 5f29 0a20 2020 2074 696d 6572 203d 2053  _).    timer = S
+00010e60: 696d 6261 5469 6d65 7228 7374 6172 743d  imbaTimer(start=
+00010e70: 5472 7565 290a 2020 2020 666f 7220 6669  True).    for fi
+00010e80: 6c65 5f70 6174 6820 696e 205b 7669 6465  le_path in [vide
+00010e90: 6f5f 6f6e 655f 7061 7468 2c20 7669 6465  o_one_path, vide
+00010ea0: 6f5f 7477 6f5f 7061 7468 5d3a 0a20 2020  o_two_path]:.   
+00010eb0: 2020 2020 2063 6865 636b 5f66 696c 655f       check_file_
+00010ec0: 6578 6973 745f 616e 645f 7265 6164 6162  exist_and_readab
+00010ed0: 6c65 2866 696c 655f 7061 7468 3d66 696c  le(file_path=fil
+00010ee0: 655f 7061 7468 290a 2020 2020 2020 2020  e_path).        
+00010ef0: 5f20 3d20 6765 745f 7669 6465 6f5f 6d65  _ = get_video_me
+00010f00: 7461 5f64 6174 6128 6669 6c65 5f70 6174  ta_data(file_pat
+00010f10: 6829 0a20 2020 2063 6865 636b 5f69 6e73  h).    check_ins
+00010f20: 7461 6e63 6528 736f 7572 6365 3d76 6964  tance(source=vid
+00010f30: 656f 5f63 6f6e 6361 7465 6e61 746f 722e  eo_concatenator.
+00010f40: 5f5f 6e61 6d65 5f5f 2c20 696e 7374 616e  __name__, instan
+00010f50: 6365 3d72 6573 6f6c 7574 696f 6e2c 2061  ce=resolution, a
+00010f60: 6363 6570 7465 645f 7479 7065 733d 2873  ccepted_types=(s
+00010f70: 7472 2c20 696e 7429 290a 2020 2020 6966  tr, int)).    if
+00010f80: 2074 7970 6528 7265 736f 6c75 7469 6f6e   type(resolution
+00010f90: 2920 6973 2069 6e74 3a0a 2020 2020 2020  ) is int:.      
+00010fa0: 2020 6368 6563 6b5f 696e 7428 6e61 6d65    check_int(name
+00010fb0: 3d27 7265 736f 6c75 7469 6f6e 272c 2076  ='resolution', v
+00010fc0: 616c 7565 3d72 6573 6f6c 7574 696f 6e2c  alue=resolution,
+00010fd0: 206d 696e 5f76 616c 7565 3d31 290a 2020   min_value=1).  
+00010fe0: 2020 2020 2020 7669 6465 6f5f 6d65 7461        video_meta
+00010ff0: 5f64 6174 6120 3d20 7b7d 0a20 2020 2020  _data = {}.     
+00011000: 2020 2076 6964 656f 5f6d 6574 615f 6461     video_meta_da
+00011010: 7461 5b22 6865 6967 6874 225d 203d 2072  ta["height"] = r
+00011020: 6573 6f6c 7574 696f 6e0a 2020 2020 2020  esolution.      
+00011030: 2020 7669 6465 6f5f 6d65 7461 5f64 6174    video_meta_dat
+00011040: 615b 2277 6964 7468 225d 203d 2072 6573  a["width"] = res
+00011050: 6f6c 7574 696f 6e0a 2020 2020 656c 6966  olution.    elif
+00011060: 2072 6573 6f6c 7574 696f 6e2e 6c6f 7765   resolution.lowe
+00011070: 7228 2920 6973 2022 7669 6465 6f20 3122  r() is "video 1"
+00011080: 3a0a 2020 2020 2020 2020 7669 6465 6f5f  :.        video_
+00011090: 6d65 7461 5f64 6174 6120 3d20 6765 745f  meta_data = get_
+000110a0: 7669 6465 6f5f 6d65 7461 5f64 6174 6128  video_meta_data(
+000110b0: 7669 6465 6f5f 6f6e 655f 7061 7468 290a  video_one_path).
+000110c0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+000110d0: 2020 7669 6465 6f5f 6d65 7461 5f64 6174    video_meta_dat
+000110e0: 6120 3d20 6765 745f 7669 6465 6f5f 6d65  a = get_video_me
+000110f0: 7461 5f64 6174 6128 7669 6465 6f5f 7477  ta_data(video_tw
+00011100: 6f5f 7061 7468 290a 2020 2020 6966 2076  o_path).    if v
+00011110: 6964 656f 5f6d 6574 615f 6461 7461 5b22  ideo_meta_data["
+00011120: 6865 6967 6874 225d 2025 2032 2021 3d20  height"] % 2 != 
+00011130: 303a 0a20 2020 2020 2020 2076 6964 656f  0:.        video
+00011140: 5f6d 6574 615f 6461 7461 5b22 6865 6967  _meta_data["heig
+00011150: 6874 225d 203d 2076 6964 656f 5f6d 6574  ht"] = video_met
+00011160: 615f 6461 7461 5b22 6865 6967 6874 225d  a_data["height"]
+00011170: 202b 2031 0a20 2020 2069 6620 7669 6465   + 1.    if vide
+00011180: 6f5f 6d65 7461 5f64 6174 615b 2277 6964  o_meta_data["wid
+00011190: 7468 225d 2025 2032 2021 3d20 303a 0a20  th"] % 2 != 0:. 
+000111a0: 2020 2020 2020 2076 6964 656f 5f6d 6574         video_met
+000111b0: 615f 6461 7461 5b22 7769 6474 6822 5d20  a_data["width"] 
+000111c0: 3d20 7669 6465 6f5f 6d65 7461 5f64 6174  = video_meta_dat
+000111d0: 615b 2277 6964 7468 225d 202b 2031 0a20  a["width"] + 1. 
+000111e0: 2020 2064 6972 2c20 6669 6c65 5f6e 616d     dir, file_nam
+000111f0: 655f 312c 205f 203d 2067 6574 5f66 6e5f  e_1, _ = get_fn_
+00011200: 6578 7428 7669 6465 6f5f 6f6e 655f 7061  ext(video_one_pa
+00011210: 7468 290a 2020 2020 5f2c 2066 696c 655f  th).    _, file_
+00011220: 6e61 6d65 5f32 2c20 5f20 3d20 6765 745f  name_2, _ = get_
+00011230: 666e 5f65 7874 2876 6964 656f 5f74 776f  fn_ext(video_two
+00011240: 5f70 6174 6829 0a20 2020 2070 7269 6e74  _path).    print
+00011250: 2866 2243 6f6e 6361 7465 6e61 7469 6e67  (f"Concatenating
+00011260: 2076 6964 656f 7320 7b66 696c 655f 6e61   videos {file_na
+00011270: 6d65 5f31 7d20 616e 6420 7b66 696c 655f  me_1} and {file_
+00011280: 6e61 6d65 5f32 7d2e 2e2e 2229 0a20 2020  name_2}...").   
+00011290: 2073 6176 655f 7061 7468 203d 206f 732e   save_path = os.
+000112a0: 7061 7468 2e6a 6f69 6e28 6469 722c 2066  path.join(dir, f
+000112b0: 227b 6669 6c65 5f6e 616d 655f 317d 5f7b  "{file_name_1}_{
+000112c0: 6669 6c65 5f6e 616d 655f 327d 5f63 6f6e  file_name_2}_con
+000112d0: 6361 742e 6d70 3422 290a 2020 2020 6966  cat.mp4").    if
+000112e0: 2068 6f72 697a 6f6e 7461 6c3a 0a20 2020   horizontal:.   
+000112f0: 2020 2020 2069 6620 6770 753a 0a20 2020       if gpu:.   
+00011300: 2020 2020 2020 2020 2063 6d64 203d 2066           cmd = f
+00011310: 2766 666d 7065 6720 2d79 202d 6877 6163  'ffmpeg -y -hwac
+00011320: 6365 6c20 6175 746f 202d 633a 7620 6832  cel auto -c:v h2
+00011330: 3634 5f63 7576 6964 202d 6920 227b 7669  64_cuvid -i "{vi
+00011340: 6465 6f5f 6f6e 655f 7061 7468 7d22 202d  deo_one_path}" -
+00011350: 6877 6163 6365 6c20 6175 746f 202d 633a  hwaccel auto -c:
+00011360: 7620 6832 3634 5f63 7576 6964 202d 6920  v h264_cuvid -i 
+00011370: 227b 7669 6465 6f5f 7477 6f5f 7061 7468  "{video_two_path
+00011380: 7d22 202d 6669 6c74 6572 5f63 6f6d 706c  }" -filter_compl
+00011390: 6578 2022 5b30 3a76 5d73 6361 6c65 3d2d  ex "[0:v]scale=-
+000113a0: 313a 7b76 6964 656f 5f6d 6574 615f 6461  1:{video_meta_da
+000113b0: 7461 5b22 6865 6967 6874 225d 7d5b 7630  ta["height"]}[v0
+000113c0: 5d3b 5b76 305d 5b31 3a76 5d68 7374 6163  ];[v0][1:v]hstac
+000113d0: 6b3d 696e 7075 7473 3d32 2220 2d63 3a76  k=inputs=2" -c:v
+000113e0: 2068 3236 345f 6e76 656e 6320 227b 7361   h264_nvenc "{sa
+000113f0: 7665 5f70 6174 687d 2220 2d68 6964 655f  ve_path}" -hide_
+00011400: 6261 6e6e 6572 202d 6c6f 676c 6576 656c  banner -loglevel
+00011410: 2065 7272 6f72 202d 7374 6174 7320 2d79   error -stats -y
+00011420: 270a 2020 2020 2020 2020 656c 7365 3a0a  '.        else:.
+00011430: 2020 2020 2020 2020 2020 2020 636d 6420              cmd 
+00011440: 3d20 2866 2766 666d 7065 6720 2d79 202d  = (f'ffmpeg -y -
+00011450: 6920 227b 7669 6465 6f5f 6f6e 655f 7061  i "{video_one_pa
+00011460: 7468 7d22 202d 6920 227b 7669 6465 6f5f  th}" -i "{video_
+00011470: 7477 6f5f 7061 7468 7d22 2027 0a20 2020  two_path}" '.   
+00011480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011490: 6627 2d66 696c 7465 725f 636f 6d70 6c65  f'-filter_comple
+000114a0: 7820 225b 303a 765d 7363 616c 653d 6365  x "[0:v]scale=ce
+000114b0: 696c 2869 772f 3229 2a32 3a7b 7669 6465  il(iw/2)*2:{vide
+000114c0: 6f5f 6d65 7461 5f64 6174 615b 2268 6569  o_meta_data["hei
+000114d0: 6768 7422 5d7d 5b76 305d 3b27 0a20 2020  ght"]}[v0];'.   
+000114e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000114f0: 6627 5b31 3a76 5d73 6361 6c65 3d63 6569  f'[1:v]scale=cei
+00011500: 6c28 6977 2f32 292a 323a 7b76 6964 656f  l(iw/2)*2:{video
+00011510: 5f6d 6574 615f 6461 7461 5b22 6865 6967  _meta_data["heig
+00011520: 6874 225d 7d5b 7631 5d3b 270a 2020 2020  ht"]}[v1];'.    
+00011530: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+00011540: 275b 7630 5d5b 7631 5d68 7374 6163 6b3d  '[v0][v1]hstack=
+00011550: 696e 7075 7473 3d32 2220 227b 7361 7665  inputs=2" "{save
+00011560: 5f70 6174 687d 2220 2d68 6964 655f 6261  _path}" -hide_ba
+00011570: 6e6e 6572 202d 6c6f 676c 6576 656c 2065  nner -loglevel e
+00011580: 7272 6f72 202d 7374 6174 7320 2d79 2729  rror -stats -y')
+00011590: 0a20 2020 2065 6c73 653a 0a20 2020 2020  .    else:.     
+000115a0: 2020 2069 6620 6770 753a 0a20 2020 2020     if gpu:.     
+000115b0: 2020 2020 2020 2063 6d64 203d 2066 2766         cmd = f'f
+000115c0: 666d 7065 6720 2d79 202d 6877 6163 6365  fmpeg -y -hwacce
+000115d0: 6c20 6175 746f 202d 633a 7620 6832 3634  l auto -c:v h264
+000115e0: 5f63 7576 6964 202d 6920 227b 7669 6465  _cuvid -i "{vide
+000115f0: 6f5f 6f6e 655f 7061 7468 7d22 202d 6877  o_one_path}" -hw
+00011600: 6163 6365 6c20 6175 746f 202d 633a 7620  accel auto -c:v 
+00011610: 6832 3634 5f63 7576 6964 202d 6920 227b  h264_cuvid -i "{
+00011620: 7669 6465 6f5f 7477 6f5f 7061 7468 7d22  video_two_path}"
+00011630: 202d 6669 6c74 6572 5f63 6f6d 706c 6578   -filter_complex
+00011640: 2022 5b30 3a76 5d73 6361 6c65 3d7b 7669   "[0:v]scale={vi
+00011650: 6465 6f5f 6d65 7461 5f64 6174 615b 2277  deo_meta_data["w
+00011660: 6964 7468 225d 7d3a 2d31 5b76 305d 3b5b  idth"]}:-1[v0];[
+00011670: 7630 5d5b 313a 765d 7673 7461 636b 3d69  v0][1:v]vstack=i
+00011680: 6e70 7574 733d 3222 202d 633a 7620 6832  nputs=2" -c:v h2
+00011690: 3634 5f6e 7665 6e63 2022 7b73 6176 655f  64_nvenc "{save_
+000116a0: 7061 7468 7d22 202d 6869 6465 5f62 616e  path}" -hide_ban
+000116b0: 6e65 7220 2d6c 6f67 6c65 7665 6c20 6572  ner -loglevel er
+000116c0: 726f 7220 2d73 7461 7473 202d 7927 0a20  ror -stats -y'. 
+000116d0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+000116e0: 2020 2020 2020 2020 2063 6d64 203d 2028           cmd = (
+000116f0: 6627 6666 6d70 6567 202d 7920 2d69 2022  f'ffmpeg -y -i "
+00011700: 7b76 6964 656f 5f6f 6e65 5f70 6174 687d  {video_one_path}
+00011710: 2220 2d69 2022 7b76 6964 656f 5f74 776f  " -i "{video_two
+00011720: 5f70 6174 687d 2220 270a 2020 2020 2020  _path}" '.      
+00011730: 2020 2020 2020 2020 2020 2020 2066 272d               f'-
+00011740: 6669 6c74 6572 5f63 6f6d 706c 6578 2022  filter_complex "
+00011750: 5b30 3a76 5d73 6361 6c65 3d7b 7669 6465  [0:v]scale={vide
+00011760: 6f5f 6d65 7461 5f64 6174 615b 2277 6964  o_meta_data["wid
+00011770: 7468 225d 7d3a 2d31 5b76 305d 3b27 0a20  th"]}:-1[v0];'. 
+00011780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011790: 2020 6627 5b31 3a76 5d73 6361 6c65 3d7b    f'[1:v]scale={
+000117a0: 7669 6465 6f5f 6d65 7461 5f64 6174 615b  video_meta_data[
+000117b0: 2277 6964 7468 225d 7d3a 2d31 5b76 315d  "width"]}:-1[v1]
+000117c0: 3b27 0a20 2020 2020 2020 2020 2020 2020  ;'.             
+000117d0: 2020 2020 2020 6627 5b76 305d 5b76 315d        f'[v0][v1]
+000117e0: 7673 7461 636b 3d69 6e70 7574 733d 3222  vstack=inputs=2"
+000117f0: 2022 7b73 6176 655f 7061 7468 7d22 202d   "{save_path}" -
+00011800: 6869 6465 5f62 616e 6e65 7220 2d6c 6f67  hide_banner -log
+00011810: 6c65 7665 6c20 6572 726f 7220 2d73 7461  level error -sta
+00011820: 7473 202d 7927 290a 2020 2020 6966 2067  ts -y').    if g
+00011830: 7075 3a0a 2020 2020 2020 2020 7072 6f63  pu:.        proc
+00011840: 6573 7320 3d20 7375 6270 726f 6365 7373  ess = subprocess
+00011850: 2e50 6f70 656e 2863 6d64 2c20 7368 656c  .Popen(cmd, shel
+00011860: 6c3d 5472 7565 290a 2020 2020 2020 2020  l=True).        
+00011870: 6f75 7470 7574 2c20 6572 726f 7220 3d20  output, error = 
+00011880: 7072 6f63 6573 732e 636f 6d6d 756e 6963  process.communic
+00011890: 6174 6528 290a 2020 2020 2020 2020 6966  ate().        if
+000118a0: 2070 726f 6365 7373 2e72 6574 7572 6e63   process.returnc
+000118b0: 6f64 6520 213d 2030 3a0a 2020 2020 2020  ode != 0:.      
+000118c0: 2020 2020 2020 6966 2022 556e 6b6e 6f77        if "Unknow
+000118d0: 6e20 6465 636f 6465 7222 2069 6e20 7374  n decoder" in st
+000118e0: 7228 6572 726f 722e 7370 6c69 7428 6222  r(error.split(b"
+000118f0: 5c6e 2229 5b2d 325d 293a 0a20 2020 2020  \n")[-2]):.     
+00011900: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00011910: 2046 464d 5045 4743 6f64 6563 4750 5545   FFMPEGCodecGPUE
+00011920: 7272 6f72 286d 7367 3d22 4750 5520 636f  rror(msg="GPU co
+00011930: 6465 6320 6e6f 7420 666f 756e 643a 2072  dec not found: r
+00011940: 6576 6572 7469 6e67 2074 6f20 4350 552e  everting to CPU.
+00011950: 2050 726f 7065 726c 7920 636f 6e66 6967   Properly config
+00011960: 7572 6520 4646 4d70 6567 2061 6e64 2065  ure FFMpeg and e
+00011970: 6e73 7572 6520 796f 7520 6861 7665 2047  nsure you have G
+00011980: 5055 2061 7661 696c 6162 6c65 206f 7220  PU available or 
+00011990: 7573 6520 4350 552e 222c 2073 6f75 7263  use CPU.", sourc
+000119a0: 653d 7669 6465 6f5f 636f 6e63 6174 656e  e=video_concaten
+000119b0: 6174 6f72 2e5f 5f6e 616d 655f 5f29 0a20  ator.__name__). 
+000119c0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+000119d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000119e0: 2072 6169 7365 2046 464d 5045 4743 6f64   raise FFMPEGCod
+000119f0: 6563 4750 5545 7272 6f72 286d 7367 3d22  ecGPUError(msg="
+00011a00: 4750 5520 6572 726f 722e 2050 726f 7065  GPU error. Prope
+00011a10: 726c 7920 636f 6e66 6967 7572 6520 4646  rly configure FF
+00011a20: 4d70 6567 2061 6e64 2065 6e73 7572 6520  Mpeg and ensure 
+00011a30: 796f 7520 6861 7665 2047 5055 2061 7661  you have GPU ava
+00011a40: 696c 6162 6c65 2c20 6f72 2075 7365 2043  ilable, or use C
+00011a50: 5055 2e22 2c20 736f 7572 6365 3d76 6964  PU.", source=vid
+00011a60: 656f 5f63 6f6e 6361 7465 6e61 746f 722e  eo_concatenator.
+00011a70: 5f5f 6e61 6d65 5f5f 290a 2020 2020 2020  __name__).      
+00011a80: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00011a90: 2020 2020 7061 7373 0a20 2020 2065 6c73      pass.    els
+00011aa0: 653a 0a20 2020 2020 2020 2073 7562 7072  e:.        subpr
+00011ab0: 6f63 6573 732e 6361 6c6c 2863 6d64 2c20  ocess.call(cmd, 
+00011ac0: 7368 656c 6c3d 5472 7565 2c20 7374 646f  shell=True, stdo
+00011ad0: 7574 3d73 7562 7072 6f63 6573 732e 5049  ut=subprocess.PI
+00011ae0: 5045 290a 2020 2020 7469 6d65 722e 7374  PE).    timer.st
+00011af0: 6f70 5f74 696d 6572 2829 0a20 2020 2073  op_timer().    s
+00011b00: 7464 6f75 745f 7375 6363 6573 7328 6d73  tdout_success(ms
+00011b10: 673d 6622 5669 6465 6f73 2063 6f6e 6361  g=f"Videos conca
+00011b20: 7465 6e61 7465 6420 616e 6420 7361 7665  tenated and save
+00011b30: 6420 6174 207b 7361 7665 5f70 6174 687d  d at {save_path}
+00011b40: 222c 2065 6c61 7073 6564 5f74 696d 653d  ", elapsed_time=
+00011b50: 7469 6d65 722e 656c 6170 7365 645f 7469  timer.elapsed_ti
+00011b60: 6d65 5f73 7472 2c20 736f 7572 6365 3d76  me_str, source=v
+00011b70: 6964 656f 5f63 6f6e 6361 7465 6e61 746f  ideo_concatenato
+00011b80: 722e 5f5f 6e61 6d65 5f5f 290a 0a0a 2320  r.__name__)...# 
+00011b90: 7669 6465 6f5f 636f 6e63 6174 656e 6174  video_concatenat
+00011ba0: 6f72 2876 6964 656f 5f6f 6e65 5f70 6174  or(video_one_pat
+00011bb0: 683d 7227 2f55 7365 7273 2f73 696d 6f6e  h=r'/Users/simon
+00011bc0: 2f44 6573 6b74 6f70 2f65 6e76 732f 7369  /Desktop/envs/si
+00011bd0: 6d62 612f 7472 6f75 626c 6573 686f 6f74  mba/troubleshoot
+00011be0: 696e 672f 6d6f 7573 655f 6f70 656e 5f66  ing/mouse_open_f
+00011bf0: 6965 6c64 2f70 726f 6a65 6374 5f66 6f6c  ield/project_fol
+00011c00: 6465 722f 7669 6465 6f73 2f53 495f 4441  der/videos/SI_DA
+00011c10: 5933 5f33 3038 5f43 4431 5f50 5245 5345  Y3_308_CD1_PRESE
+00011c20: 4e54 5f64 6f77 6e73 616d 706c 6564 2e6d  NT_downsampled.m
+00011c30: 7034 272c 0a23 2020 2020 2020 2020 2020  p4',.#          
+00011c40: 2020 2020 2020 2020 2020 7669 6465 6f5f            video_
+00011c50: 7477 6f5f 7061 7468 3d72 272f 5573 6572  two_path=r'/User
+00011c60: 732f 7369 6d6f 6e2f 4465 736b 746f 702f  s/simon/Desktop/
+00011c70: 656e 7673 2f73 696d 6261 2f74 726f 7562  envs/simba/troub
+00011c80: 6c65 7368 6f6f 7469 6e67 2f6d 6f75 7365  leshooting/mouse
+00011c90: 5f6f 7065 6e5f 6669 656c 642f 7072 6f6a  _open_field/proj
+00011ca0: 6563 745f 666f 6c64 6572 2f76 6964 656f  ect_folder/video
+00011cb0: 732f 5349 5f44 4159 335f 3330 385f 4344  s/SI_DAY3_308_CD
+00011cc0: 315f 5052 4553 454e 545f 646f 776e 7361  1_PRESENT_downsa
+00011cd0: 6d70 6c65 642e 6d70 3427 2c20 7265 736f  mpled.mp4', reso
+00011ce0: 6c75 7469 6f6e 3d27 5669 6465 6f5f 3127  lution='Video_1'
+00011cf0: 2c0a 2320 2020 2020 2020 2020 2020 2020  ,.#             
+00011d00: 2020 2020 2020 2068 6f72 697a 6f6e 7461         horizonta
+00011d10: 6c3d 5472 7565 2c0a 2320 2020 2020 2020  l=True,.#       
+00011d20: 2020 2020 2020 2020 2020 2020 2067 7075               gpu
+00011d30: 3d46 616c 7365 290a 0a0a 636c 6173 7320  =False)...class 
+00011d40: 5669 6465 6f52 6f74 6174 6f72 2843 6f6e  VideoRotator(Con
+00011d50: 6669 6752 6561 6465 7229 3a0a 2020 2020  figReader):.    
+00011d60: 2222 220a 2020 2020 4755 4920 546f 6f6c  """.    GUI Tool
+00011d70: 2066 6f72 2072 6f74 6174 696e 6720 7669   for rotating vi
+00011d80: 6465 6f2e 2052 6f74 6174 6564 2076 6964  deo. Rotated vid
+00011d90: 656f 2069 7320 7361 7665 6420 7769 7468  eo is saved with
+00011da0: 2074 6865 2060 605f 726f 7461 7465 645f   the ``_rotated_
+00011db0: 4441 5445 5449 4d45 2e6d 7034 6060 2073  DATETIME.mp4`` s
+00011dc0: 7566 6669 782e 0a0a 0a20 2020 202e 2e20  uffix....    .. 
+00011dd0: 696d 6167 653a 3a20 5f73 7461 7469 632f  image:: _static/
+00011de0: 696d 672f 5669 6465 6f52 6f74 6174 6f72  img/VideoRotator
+00011df0: 2e67 6966 0a20 2020 2020 2020 3a77 6964  .gif.       :wid
+00011e00: 7468 3a20 3730 300a 2020 2020 2020 203a  th: 700.       :
+00011e10: 616c 6967 6e3a 2063 656e 7465 720a 0a20  align: center.. 
+00011e20: 2020 203a 7061 7261 6d65 7465 7220 7374     :parameter st
+00011e30: 7220 696e 7075 745f 7061 7468 3a20 5061  r input_path: Pa
+00011e40: 7468 2074 6f20 7669 6465 6f20 746f 2072  th to video to r
+00011e50: 6f74 6174 652e 0a20 2020 203a 7061 7261  otate..    :para
+00011e60: 6d65 7465 7220 7374 7220 6f75 7470 7574  meter str output
+00011e70: 5f64 6972 3a20 4469 7265 6374 6f72 7920  _dir: Directory 
+00011e80: 7768 6572 6520 746f 2073 6176 6520 7468  where to save th
+00011e90: 6520 726f 7461 7465 6420 7669 6465 6f2e  e rotated video.
+00011ea0: 0a20 2020 203a 7061 7261 6d65 7465 7220  .    :parameter 
+00011eb0: 4f70 7469 6f6e 616c 5b62 6f6f 6c5d 2067  Optional[bool] g
+00011ec0: 7075 3a20 4966 2054 7275 652c 2075 7365  pu: If True, use
+00011ed0: 2046 464d 5045 4720 4e56 4944 4541 2047   FFMPEG NVIDEA G
+00011ee0: 5055 2063 6f64 6563 732e 2045 6c73 6520  PU codecs. Else 
+00011ef0: 4350 5520 636f 6465 6373 2e0a 2020 2020  CPU codecs..    
+00011f00: 3a70 6172 616d 6574 6572 204f 7074 696f  :parameter Optio
+00011f10: 6e61 6c5b 626f 6f6c 5d20 6770 753a 2049  nal[bool] gpu: I
+00011f20: 6620 5472 7565 2c20 7573 6520 4646 504d  f True, use FFPM
+00011f30: 5045 472e 2045 6c73 652c 204f 7065 6e43  PEG. Else, OpenC
+00011f40: 562e 0a0a 0a0a 0a20 2020 203a 6578 616d  V......    :exam
+00011f50: 706c 653a 0a20 2020 203e 3e3e 2056 6964  ple:.    >>> Vid
+00011f60: 656f 526f 7461 746f 7228 696e 7075 745f  eoRotator(input_
+00011f70: 7061 7468 3d27 7072 6f6a 6563 745f 666f  path='project_fo
+00011f80: 6c64 6572 2f76 6964 656f 732f 5669 6465  lder/videos/Vide
+00011f90: 6f5f 312e 6d70 3427 2c20 6f75 7470 7574  o_1.mp4', output
+00011fa0: 5f64 6972 3d27 7072 6f6a 6563 745f 666f  _dir='project_fo
+00011fb0: 6c64 6572 2f76 6964 656f 7327 290a 2020  lder/videos').  
+00011fc0: 2020 2222 220a 0a20 2020 2064 6566 205f    """..    def _
+00011fd0: 5f69 6e69 745f 5f28 0a20 2020 2020 2020  _init__(.       
+00011fe0: 2073 656c 662c 0a20 2020 2020 2020 2069   self,.        i
+00011ff0: 6e70 7574 5f70 6174 683a 2055 6e69 6f6e  nput_path: Union
+00012000: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
+00012010: 655d 2c0a 2020 2020 2020 2020 6f75 7470  e],.        outp
+00012020: 7574 5f64 6972 3a20 556e 696f 6e5b 7374  ut_dir: Union[st
+00012030: 722c 206f 732e 5061 7468 4c69 6b65 5d2c  r, os.PathLike],
+00012040: 0a20 2020 2020 2020 2067 7075 3a20 4f70  .        gpu: Op
+00012050: 7469 6f6e 616c 5b62 6f6f 6c5d 203d 2046  tional[bool] = F
+00012060: 616c 7365 2c0a 2020 2020 2020 2020 6666  alse,.        ff
+00012070: 6d70 6567 3a20 4f70 7469 6f6e 616c 5b62  mpeg: Optional[b
+00012080: 6f6f 6c5d 203d 2046 616c 7365 2c0a 2020  ool] = False,.  
+00012090: 2020 2920 2d3e 204e 6f6e 653a 0a0a 2020    ) -> None:..  
+000120a0: 2020 2020 2020 6966 2067 7075 2061 6e64        if gpu and
+000120b0: 206e 6f74 2063 6865 636b 5f6e 7669 6465   not check_nvide
+000120c0: 615f 6770 755f 6176 6169 6c61 626c 6528  a_gpu_available(
+000120d0: 293a 0a20 2020 2020 2020 2020 2020 2072  ):.            r
+000120e0: 6169 7365 2046 464d 5045 4743 6f64 6563  aise FFMPEGCodec
+000120f0: 4750 5545 7272 6f72 280a 2020 2020 2020  GPUError(.      
+00012100: 2020 2020 2020 2020 2020 6d73 673d 224e            msg="N
+00012110: 6f20 4750 5520 666f 756e 6420 2861 7320  o GPU found (as 
+00012120: 6576 616c 7561 7465 6420 6279 206e 7669  evaluated by nvi
+00012130: 6465 612d 736d 6920 7265 7475 726e 696e  dea-smi returnin
+00012140: 6720 4e6f 6e65 2922 2c0a 2020 2020 2020  g None)",.      
+00012150: 2020 2020 2020 2020 2020 736f 7572 6365            source
+00012160: 3d73 656c 662e 5f5f 636c 6173 735f 5f2e  =self.__class__.
+00012170: 5f5f 6e61 6d65 5f5f 2c0a 2020 2020 2020  __name__,.      
+00012180: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00012190: 6966 2066 666d 7065 6720 616e 6420 6e6f  if ffmpeg and no
+000121a0: 7420 6368 6563 6b5f 6666 6d70 6567 5f61  t check_ffmpeg_a
+000121b0: 7661 696c 6162 6c65 2829 3a0a 2020 2020  vailable():.    
+000121c0: 2020 2020 2020 2020 7261 6973 6520 4646          raise FF
+000121d0: 4d50 4547 4e6f 7446 6f75 6e64 4572 726f  MPEGNotFoundErro
+000121e0: 7228 0a20 2020 2020 2020 2020 2020 2020  r(.             
+000121f0: 2020 206d 7367 3d27 4646 4d50 4547 206e     msg='FFMPEG n
+00012200: 6f74 2066 6f75 6e64 206f 6e20 7468 6520  ot found on the 
+00012210: 636f 6d70 7574 6572 2028 6173 2065 7661  computer (as eva
+00012220: 6c75 6174 6564 2062 7920 2266 666d 7065  luated by "ffmpe
+00012230: 6722 2072 6574 7572 6e69 6e67 204e 6f6e  g" returning Non
+00012240: 6529 272c 0a20 2020 2020 2020 2020 2020  e)',.           
+00012250: 2020 2020 2073 6f75 7263 653d 7365 6c66       source=self
+00012260: 2e5f 5f63 6c61 7373 5f5f 2e5f 5f6e 616d  .__class__.__nam
+00012270: 655f 5f2c 0a20 2020 2020 2020 2020 2020  e__,.           
+00012280: 2029 0a20 2020 2020 2020 205f 2c20 7365   ).        _, se
+00012290: 6c66 2e63 7075 5f63 6e74 203d 2066 696e  lf.cpu_cnt = fin
+000122a0: 645f 636f 7265 5f63 6e74 2829 0a20 2020  d_core_cnt().   
+000122b0: 2020 2020 2073 656c 662e 6770 752c 2073       self.gpu, s
+000122c0: 656c 662e 6666 6d70 6567 203d 2067 7075  elf.ffmpeg = gpu
+000122d0: 2c20 6666 6d70 6567 0a20 2020 2020 2020  , ffmpeg.       
+000122e0: 2073 656c 662e 7361 7665 5f64 6972 203d   self.save_dir =
+000122f0: 206f 7574 7075 745f 6469 720a 2020 2020   output_dir.    
+00012300: 2020 2020 7365 6c66 2e64 6174 6574 696d      self.datetim
+00012310: 6520 3d20 6461 7465 7469 6d65 2e6e 6f77  e = datetime.now
+00012320: 2829 2e73 7472 6674 696d 6528 2225 5925  ().strftime("%Y%
+00012330: 6d25 6425 4825 4d25 5322 290a 2020 2020  m%d%H%M%S").    
+00012340: 2020 2020 6966 206f 732e 7061 7468 2e69      if os.path.i
+00012350: 7366 696c 6528 696e 7075 745f 7061 7468  sfile(input_path
+00012360: 293a 0a20 2020 2020 2020 2020 2020 2073  ):.            s
+00012370: 656c 662e 7669 6465 6f5f 7061 7468 7320  elf.video_paths 
+00012380: 3d20 5b69 6e70 7574 5f70 6174 685d 0a20  = [input_path]. 
+00012390: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+000123a0: 2020 2020 2020 2020 2073 656c 662e 7669           self.vi
+000123b0: 6465 6f5f 7061 7468 7320 3d20 6669 6e64  deo_paths = find
+000123c0: 5f61 6c6c 5f76 6964 656f 735f 696e 5f64  _all_videos_in_d
+000123d0: 6972 6563 746f 7279 280a 2020 2020 2020  irectory(.      
+000123e0: 2020 2020 2020 2020 2020 6469 7265 6374            direct
+000123f0: 6f72 793d 696e 7075 745f 7061 7468 2c20  ory=input_path, 
+00012400: 6173 5f64 6963 743d 5472 7565 0a20 2020  as_dict=True.   
+00012410: 2020 2020 2020 2020 2029 2e76 616c 7565           ).value
+00012420: 7328 290a 2020 2020 2020 2020 2020 2020  s().            
+00012430: 6368 6563 6b5f 6966 5f66 696c 6570 6174  check_if_filepat
+00012440: 685f 6c69 7374 5f69 735f 656d 7074 7928  h_list_is_empty(
+00012450: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012460: 2066 696c 6570 6174 6873 3d73 656c 662e   filepaths=self.
+00012470: 7669 6465 6f5f 7061 7468 732c 0a20 2020  video_paths,.   
+00012480: 2020 2020 2020 2020 2020 2020 2065 7272               err
+00012490: 6f72 5f6d 7367 3d66 224e 6f20 7669 6465  or_msg=f"No vide
+000124a0: 6f73 2066 6f75 6e64 2069 6e20 7b69 6e70  os found in {inp
+000124b0: 7574 5f70 6174 687d 2064 6972 6563 746f  ut_path} directo
+000124c0: 7279 222c 0a20 2020 2020 2020 2020 2020  ry",.           
+000124d0: 2029 0a0a 2020 2020 6465 6620 5f5f 696e   )..    def __in
+000124e0: 7365 7274 5f69 6d67 2873 656c 662c 2069  sert_img(self, i
+000124f0: 6d67 3a20 6e70 2e61 7272 6179 293a 0a20  mg: np.array):. 
+00012500: 2020 2020 2020 2063 7572 7265 6e74 5f66         current_f
+00012510: 726d 5f70 696c 203d 2049 6d61 6765 2e66  rm_pil = Image.f
+00012520: 726f 6d61 7272 6179 2869 6d67 290a 2020  romarray(img).  
+00012530: 2020 2020 2020 6375 7272 656e 745f 6672        current_fr
+00012540: 6d5f 7069 6c2e 7468 756d 626e 6169 6c28  m_pil.thumbnail(
+00012550: 4d41 585f 4652 4d5f 5349 5a45 2c20 496d  MAX_FRM_SIZE, Im
+00012560: 6167 652e 414e 5449 414c 4941 5329 0a20  age.ANTIALIAS). 
+00012570: 2020 2020 2020 2063 7572 7265 6e74 5f66         current_f
+00012580: 726d 5f70 696c 203d 2049 6d61 6765 546b  rm_pil = ImageTk
+00012590: 2e50 686f 746f 496d 6167 6528 0a20 2020  .PhotoImage(.   
+000125a0: 2020 2020 2020 2020 206d 6173 7465 723d           master=
+000125b0: 7365 6c66 2e6d 6169 6e5f 6672 6d2c 2069  self.main_frm, i
+000125c0: 6d61 6765 3d63 7572 7265 6e74 5f66 726d  mage=current_frm
+000125d0: 5f70 696c 0a20 2020 2020 2020 2029 0a20  _pil.        ). 
+000125e0: 2020 2020 2020 2073 656c 662e 7669 6465         self.vide
+000125f0: 6f5f 6672 616d 6520 3d20 4c61 6265 6c28  o_frame = Label(
+00012600: 7365 6c66 2e6d 6169 6e5f 6672 6d2c 2069  self.main_frm, i
+00012610: 6d61 6765 3d63 7572 7265 6e74 5f66 726d  mage=current_frm
+00012620: 5f70 696c 290a 2020 2020 2020 2020 7365  _pil).        se
+00012630: 6c66 2e76 6964 656f 5f66 7261 6d65 2e69  lf.video_frame.i
+00012640: 6d61 6765 203d 2063 7572 7265 6e74 5f66  mage = current_f
+00012650: 726d 5f70 696c 0a20 2020 2020 2020 2073  rm_pil.        s
+00012660: 656c 662e 7669 6465 6f5f 6672 616d 652e  elf.video_frame.
+00012670: 6772 6964 2872 6f77 3d30 2c20 636f 6c75  grid(row=0, colu
+00012680: 6d6e 3d30 290a 0a20 2020 2064 6566 205f  mn=0)..    def _
+00012690: 5f72 6f74 6174 6528 7365 6c66 2c20 7661  _rotate(self, va
+000126a0: 6c75 653a 2069 6e74 2c20 696d 673a 206e  lue: int, img: n
+000126b0: 702e 6172 7261 7929 3a0a 2020 2020 2020  p.array):.      
+000126c0: 2020 7365 6c66 2e64 6966 5f61 6e67 6c65    self.dif_angle
+000126d0: 202b 3d20 7661 6c75 650a 2020 2020 2020   += value.      
+000126e0: 2020 726f 7461 7469 6f6e 5f6d 6174 7269    rotation_matri
+000126f0: 7820 3d20 6376 322e 6765 7452 6f74 6174  x = cv2.getRotat
+00012700: 696f 6e4d 6174 7269 7832 4428 0a20 2020  ionMatrix2D(.   
+00012710: 2020 2020 2020 2020 2028 7365 6c66 2e76           (self.v
+00012720: 6964 656f 5f6d 6574 615f 6461 7461 5b22  ideo_meta_data["
+00012730: 7769 6474 6822 5d20 2f20 322c 2073 656c  width"] / 2, sel
+00012740: 662e 7669 6465 6f5f 6d65 7461 5f64 6174  f.video_meta_dat
+00012750: 615b 2268 6569 6768 7422 5d20 2f20 3229  a["height"] / 2)
+00012760: 2c0a 2020 2020 2020 2020 2020 2020 7365  ,.            se
+00012770: 6c66 2e64 6966 5f61 6e67 6c65 2c0a 2020  lf.dif_angle,.  
+00012780: 2020 2020 2020 2020 2020 312c 0a20 2020            1,.   
+00012790: 2020 2020 2029 0a20 2020 2020 2020 2069       ).        i
+000127a0: 6d67 203d 2063 7632 2e77 6172 7041 6666  mg = cv2.warpAff
+000127b0: 696e 6528 0a20 2020 2020 2020 2020 2020  ine(.           
+000127c0: 2069 6d67 2c0a 2020 2020 2020 2020 2020   img,.          
+000127d0: 2020 726f 7461 7469 6f6e 5f6d 6174 7269    rotation_matri
+000127e0: 782c 0a20 2020 2020 2020 2020 2020 2028  x,.            (
+000127f0: 7365 6c66 2e76 6964 656f 5f6d 6574 615f  self.video_meta_
+00012800: 6461 7461 5b22 7769 6474 6822 5d2c 2073  data["width"], s
+00012810: 656c 662e 7669 6465 6f5f 6d65 7461 5f64  elf.video_meta_d
+00012820: 6174 615b 2268 6569 6768 7422 5d29 2c0a  ata["height"]),.
+00012830: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00012840: 2020 7365 6c66 2e5f 5f69 6e73 6572 745f    self.__insert_
+00012850: 696d 6728 696d 673d 696d 6729 0a0a 2020  img(img=img)..  
+00012860: 2020 6465 6620 5f5f 7275 6e5f 726f 7461    def __run_rota
+00012870: 7469 6f6e 2873 656c 6629 3a0a 2020 2020  tion(self):.    
+00012880: 2020 2020 7365 6c66 2e6d 6169 6e5f 6672      self.main_fr
+00012890: 6d2e 6465 7374 726f 7928 290a 2020 2020  m.destroy().    
+000128a0: 2020 2020 7374 6172 7420 3d20 7469 6d65      start = time
+000128b0: 2e74 696d 6528 290a 2020 2020 2020 2020  .time().        
+000128c0: 6966 2073 656c 662e 6666 6d70 6567 206f  if self.ffmpeg o
+000128d0: 7220 7365 6c66 2e67 7075 3a0a 2020 2020  r self.gpu:.    
+000128e0: 2020 2020 2020 2020 666f 7220 7669 6465          for vide
+000128f0: 6f5f 636e 742c 2028 7669 6465 6f5f 7061  o_cnt, (video_pa
+00012900: 7468 2c20 726f 7461 7469 6f6e 2920 696e  th, rotation) in
+00012910: 2065 6e75 6d65 7261 7465 2873 656c 662e   enumerate(self.
+00012920: 7265 7375 6c74 732e 6974 656d 7328 2929  results.items())
+00012930: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00012940: 2020 5f2c 206e 616d 652c 205f 203d 2067    _, name, _ = g
+00012950: 6574 5f66 6e5f 6578 7428 6669 6c65 7061  et_fn_ext(filepa
+00012960: 7468 3d76 6964 656f 5f70 6174 6829 0a20  th=video_path). 
+00012970: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00012980: 6176 655f 7061 7468 203d 206f 732e 7061  ave_path = os.pa
+00012990: 7468 2e6a 6f69 6e28 0a20 2020 2020 2020  th.join(.       
+000129a0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+000129b0: 662e 7361 7665 5f64 6972 2c20 6622 7b6e  f.save_dir, f"{n
+000129c0: 616d 657d 5f72 6f74 6174 6564 5f7b 7365  ame}_rotated_{se
+000129d0: 6c66 2e64 6174 6574 696d 657d 2e6d 7034  lf.datetime}.mp4
+000129e0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+000129f0: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
+00012a00: 2020 2020 6966 2073 656c 662e 6770 753a      if self.gpu:
+00012a10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012a20: 2020 2020 2063 6d64 203d 2066 2766 666d       cmd = f'ffm
+00012a30: 7065 6720 2d68 7761 6363 656c 2061 7574  peg -hwaccel aut
+00012a40: 6f20 2d69 2022 7b76 6964 656f 5f70 6174  o -i "{video_pat
+00012a50: 687d 2220 2d76 6620 2268 7775 706c 6f61  h}" -vf "hwuploa
+00012a60: 645f 6375 6461 2c72 6f74 6174 653d 7b72  d_cuda,rotate={r
+00012a70: 6f74 6174 696f 6e7d 2a28 5049 2f31 3830  otation}*(PI/180
+00012a80: 292c 666f 726d 6174 3d6e 7631 327c 6375  ),format=nv12|cu
+00012a90: 6461 2220 2d63 3a76 2068 3236 345f 6e76  da" -c:v h264_nv
+00012aa0: 656e 6320 227b 7361 7665 5f70 6174 687d  enc "{save_path}
+00012ab0: 2220 2d79 270a 2020 2020 2020 2020 2020  " -y'.          
+00012ac0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00012ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012ae0: 636d 6420 3d20 6627 6666 6d70 6567 202d  cmd = f'ffmpeg -
+00012af0: 6920 227b 7669 6465 6f5f 7061 7468 7d22  i "{video_path}"
+00012b00: 202d 7666 2022 726f 7461 7465 3d7b 726f   -vf "rotate={ro
+00012b10: 7461 7469 6f6e 7d2a 2850 492f 3138 3029  tation}*(PI/180)
+00012b20: 2220 227b 7361 7665 5f70 6174 687d 2220  " "{save_path}" 
+00012b30: 2d79 270a 2020 2020 2020 2020 2020 2020  -y'.            
+00012b40: 2020 2020 7375 6270 726f 6365 7373 2e63      subprocess.c
+00012b50: 616c 6c28 636d 642c 2073 6865 6c6c 3d54  all(cmd, shell=T
+00012b60: 7275 652c 2073 7464 6f75 743d 7375 6270  rue, stdout=subp
+00012b70: 726f 6365 7373 2e50 4950 4529 0a20 2020  rocess.PIPE).   
+00012b80: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00012b90: 2020 2020 2020 2066 6f72 2076 6964 656f         for video
+00012ba0: 5f63 6e74 2c20 2876 6964 656f 5f70 6174  _cnt, (video_pat
+00012bb0: 682c 2072 6f74 6174 696f 6e29 2069 6e20  h, rotation) in 
+00012bc0: 656e 756d 6572 6174 6528 7365 6c66 2e72  enumerate(self.r
+00012bd0: 6573 756c 7473 2e69 7465 6d73 2829 293a  esults.items()):
+00012be0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012bf0: 2063 6170 203d 2063 7632 2e56 6964 656f   cap = cv2.Video
+00012c00: 4361 7074 7572 6528 7669 6465 6f5f 7061  Capture(video_pa
+00012c10: 7468 290a 2020 2020 2020 2020 2020 2020  th).            
+00012c20: 2020 2020 5f2c 206e 616d 652c 205f 203d      _, name, _ =
+00012c30: 2067 6574 5f66 6e5f 6578 7428 6669 6c65   get_fn_ext(file
+00012c40: 7061 7468 3d76 6964 656f 5f70 6174 6829  path=video_path)
+00012c50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012c60: 2072 6f74 6174 696f 6e5f 6d61 7472 6978   rotation_matrix
+00012c70: 203d 2063 7632 2e67 6574 526f 7461 7469   = cv2.getRotati
+00012c80: 6f6e 4d61 7472 6978 3244 280a 2020 2020  onMatrix2D(.    
+00012c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012ca0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00012cb0: 2020 2020 2020 2020 2020 7365 6c66 2e76            self.v
+00012cc0: 6964 656f 5f6d 6574 615f 6461 7461 5b22  ideo_meta_data["
+00012cd0: 7769 6474 6822 5d20 2f20 322c 0a20 2020  width"] / 2,.   
+00012ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012cf0: 2020 2020 2073 656c 662e 7669 6465 6f5f       self.video_
+00012d00: 6d65 7461 5f64 6174 615b 2268 6569 6768  meta_data["heigh
+00012d10: 7422 5d20 2f20 322c 0a20 2020 2020 2020  t"] / 2,.       
+00012d20: 2020 2020 2020 2020 2020 2020 2029 2c0a               ),.
+00012d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012d40: 2020 2020 726f 7461 7469 6f6e 2c0a 2020      rotation,.  
+00012d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012d60: 2020 312c 0a20 2020 2020 2020 2020 2020    1,.           
+00012d70: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
+00012d80: 2020 2020 2020 2073 6176 655f 7061 7468         save_path
+00012d90: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
+00012da0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012db0: 2020 2020 2073 656c 662e 7361 7665 5f64       self.save_d
+00012dc0: 6972 2c20 6622 7b6e 616d 657d 5f72 6f74  ir, f"{name}_rot
+00012dd0: 6174 6564 5f7b 7365 6c66 2e64 6174 6574  ated_{self.datet
+00012de0: 696d 657d 2e6d 7034 220a 2020 2020 2020  ime}.mp4".      
+00012df0: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
+00012e00: 2020 2020 2020 2020 2020 2020 7669 6465              vide
+00012e10: 6f5f 6d65 7461 203d 2067 6574 5f76 6964  o_meta = get_vid
+00012e20: 656f 5f6d 6574 615f 6461 7461 2876 6964  eo_meta_data(vid
+00012e30: 656f 5f70 6174 683d 7669 6465 6f5f 7061  eo_path=video_pa
+00012e40: 7468 290a 2020 2020 2020 2020 2020 2020  th).            
+00012e50: 2020 2020 666f 7572 6363 203d 2063 7632      fourcc = cv2
+00012e60: 2e56 6964 656f 5772 6974 6572 5f66 6f75  .VideoWriter_fou
+00012e70: 7263 6328 2a46 6f72 6d61 7473 2e4d 5034  rcc(*Formats.MP4
+00012e80: 5f43 4f44 4543 2e76 616c 7565 290a 2020  _CODEC.value).  
+00012e90: 2020 2020 2020 2020 2020 2020 2020 7772                wr
+00012ea0: 6974 6572 203d 2063 7632 2e56 6964 656f  iter = cv2.Video
+00012eb0: 5772 6974 6572 280a 2020 2020 2020 2020  Writer(.        
+00012ec0: 2020 2020 2020 2020 2020 2020 7361 7665              save
+00012ed0: 5f70 6174 682c 0a20 2020 2020 2020 2020  _path,.         
+00012ee0: 2020 2020 2020 2020 2020 2066 6f75 7263             fourc
+00012ef0: 632c 0a20 2020 2020 2020 2020 2020 2020  c,.             
+00012f00: 2020 2020 2020 2076 6964 656f 5f6d 6574         video_met
+00012f10: 615b 2266 7073 225d 2c0a 2020 2020 2020  a["fps"],.      
+00012f20: 2020 2020 2020 2020 2020 2020 2020 2876                (v
+00012f30: 6964 656f 5f6d 6574 615b 2277 6964 7468  ideo_meta["width
+00012f40: 225d 2c20 7669 6465 6f5f 6d65 7461 5b22  "], video_meta["
+00012f50: 6865 6967 6874 225d 292c 0a20 2020 2020  height"]),.     
+00012f60: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+00012f70: 2020 2020 2020 2020 2020 2020 2069 6d67               img
+00012f80: 5f63 6e74 203d 2030 0a20 2020 2020 2020  _cnt = 0.       
+00012f90: 2020 2020 2020 2020 2077 6869 6c65 2054           while T
+00012fa0: 7275 653a 0a20 2020 2020 2020 2020 2020  rue:.           
+00012fb0: 2020 2020 2020 2020 2072 6574 2c20 696d           ret, im
+00012fc0: 6720 3d20 6361 702e 7265 6164 2829 0a20  g = cap.read(). 
+00012fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012fe0: 2020 2069 6620 6e6f 7420 7265 743a 0a20     if not ret:. 
+00012ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013000: 2020 2020 2020 2062 7265 616b 0a20 2020         break.   
+00013010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013020: 2069 6d67 203d 2063 7632 2e77 6172 7041   img = cv2.warpA
+00013030: 6666 696e 6528 0a20 2020 2020 2020 2020  ffine(.         
+00013040: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00013050: 6d67 2c0a 2020 2020 2020 2020 2020 2020  mg,.            
+00013060: 2020 2020 2020 2020 2020 2020 726f 7461              rota
+00013070: 7469 6f6e 5f6d 6174 7269 782c 0a20 2020  tion_matrix,.   
+00013080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013090: 2020 2020 2028 7365 6c66 2e76 6964 656f       (self.video
+000130a0: 5f6d 6574 615f 6461 7461 5b22 7769 6474  _meta_data["widt
+000130b0: 6822 5d2c 2073 656c 662e 7669 6465 6f5f  h"], self.video_
+000130c0: 6d65 7461 5f64 6174 615b 2268 6569 6768  meta_data["heigh
+000130d0: 7422 5d29 2c0a 2020 2020 2020 2020 2020  t"]),.          
+000130e0: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
+000130f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013100: 7772 6974 6572 2e77 7269 7465 2869 6d67  writer.write(img
+00013110: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00013120: 2020 2020 2020 696d 675f 636e 7420 2b3d        img_cnt +=
+00013130: 2031 0a20 2020 2020 2020 2020 2020 2020   1.             
+00013140: 2020 2020 2020 2070 7269 6e74 280a 2020         print(.  
+00013150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013160: 2020 2020 2020 6627 526f 7461 7469 6e67        f'Rotating
+00013170: 2066 7261 6d65 207b 696d 675f 636e 747d   frame {img_cnt}
+00013180: 2f7b 7669 6465 6f5f 6d65 7461 5b22 6672  /{video_meta["fr
+00013190: 616d 655f 636f 756e 7422 5d7d 2028 5669  ame_count"]} (Vi
+000131a0: 6465 6f20 7b76 6964 656f 5f63 6e74 202b  deo {video_cnt +
+000131b0: 2031 7d2f 7b6c 656e 2873 656c 662e 7265   1}/{len(self.re
+000131c0: 7375 6c74 732e 6b65 7973 2829 297d 2920  sults.keys())}) 
+000131d0: 270a 2020 2020 2020 2020 2020 2020 2020  '.              
+000131e0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+000131f0: 2020 2020 2020 2020 6361 702e 7265 6c65          cap.rele
+00013200: 6173 6528 290a 2020 2020 2020 2020 2020  ase().          
+00013210: 2020 2020 2020 7772 6974 6572 2e72 656c        writer.rel
+00013220: 6561 7365 2829 0a20 2020 2020 2020 2073  ease().        s
+00013230: 7464 6f75 745f 7375 6363 6573 7328 0a20  tdout_success(. 
+00013240: 2020 2020 2020 2020 2020 206d 7367 3d66             msg=f
+00013250: 2241 6c6c 2076 6964 656f 7320 726f 7461  "All videos rota
+00013260: 7465 6420 616e 6420 7361 7665 6420 696e  ted and saved in
+00013270: 207b 7365 6c66 2e73 6176 655f 6469 727d   {self.save_dir}
+00013280: 222c 0a20 2020 2020 2020 2020 2020 2065  ",.            e
+00013290: 6c61 7073 6564 5f74 696d 653d 7374 7228  lapsed_time=str(
+000132a0: 726f 756e 6428 2874 696d 652e 7469 6d65  round((time.time
+000132b0: 2829 202d 2073 7461 7274 292c 2032 2929  () - start), 2))
+000132c0: 2c0a 2020 2020 2020 2020 2020 2020 736f  ,.            so
+000132d0: 7572 6365 3d73 656c 662e 5f5f 636c 6173  urce=self.__clas
+000132e0: 735f 5f2e 5f5f 6e61 6d65 5f5f 2c0a 2020  s__.__name__,.  
+000132f0: 2020 2020 2020 290a 0a20 2020 2064 6566        )..    def
+00013300: 205f 5f73 6176 6528 7365 6c66 293a 0a20   __save(self):. 
+00013310: 2020 2020 2020 2070 726f 6365 7373 203d         process =
+00013320: 204e 6f6e 650a 2020 2020 2020 2020 7365   None.        se
+00013330: 6c66 2e72 6573 756c 7473 5b73 656c 662e  lf.results[self.
+00013340: 6669 6c65 5f70 6174 685d 203d 2073 656c  file_path] = sel
+00013350: 662e 6469 665f 616e 676c 650a 2020 2020  f.dif_angle.    
+00013360: 2020 2020 6966 206c 656e 2873 656c 662e      if len(self.
+00013370: 7265 7375 6c74 732e 6b65 7973 2829 2920  results.keys()) 
+00013380: 3d3d 206c 656e 2873 656c 662e 7669 6465  == len(self.vide
+00013390: 6f5f 7061 7468 7329 3a0a 2020 2020 2020  o_paths):.      
+000133a0: 2020 2020 2020 7072 6f63 6573 7320 3d20        process = 
+000133b0: 6d75 6c74 6970 726f 6365 7373 696e 672e  multiprocessing.
+000133c0: 5072 6f63 6573 7328 7461 7267 6574 3d73  Process(target=s
+000133d0: 656c 662e 5f5f 7275 6e5f 726f 7461 7469  elf.__run_rotati
+000133e0: 6f6e 2829 290a 2020 2020 2020 2020 2020  on()).          
+000133f0: 2020 7072 6f63 6573 732e 7374 6172 7428    process.start(
+00013400: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
+00013410: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00013420: 2e5f 5f72 756e 5f69 6e74 6572 6661 6365  .__run_interface
+00013430: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00013440: 2020 6669 6c65 5f70 6174 683d 7365 6c66    file_path=self
+00013450: 2e76 6964 656f 5f70 6174 6873 5b6c 656e  .video_paths[len
+00013460: 2873 656c 662e 7265 7375 6c74 732e 6b65  (self.results.ke
+00013470: 7973 2829 2920 2d20 315d 0a20 2020 2020  ys()) - 1].     
+00013480: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00013490: 2069 6620 7072 6f63 6573 7320 6973 206e   if process is n
+000134a0: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
+000134b0: 2020 2020 2070 726f 6365 7373 2e6a 6f69       process.joi
+000134c0: 6e28 290a 0a20 2020 2064 6566 205f 5f62  n()..    def __b
+000134d0: 696e 645f 6b65 7973 2873 656c 6629 3a0a  ind_keys(self):.
+000134e0: 2020 2020 2020 2020 7365 6c66 2e6d 6169          self.mai
+000134f0: 6e5f 6672 6d2e 6269 6e64 280a 2020 2020  n_frm.bind(.    
+00013500: 2020 2020 2020 2020 223c 4c65 6674 3e22          "<Left>"
+00013510: 2c20 6c61 6d62 6461 2078 3a20 7365 6c66  , lambda x: self
+00013520: 2e5f 5f72 6f74 6174 6528 7661 6c75 653d  .__rotate(value=
+00013530: 312c 2069 6d67 3d73 656c 662e 5f6f 7269  1, img=self._ori
+00013540: 675f 696d 6729 0a20 2020 2020 2020 2029  g_img).        )
+00013550: 0a20 2020 2020 2020 2073 656c 662e 6d61  .        self.ma
+00013560: 696e 5f66 726d 2e62 696e 6428 0a20 2020  in_frm.bind(.   
+00013570: 2020 2020 2020 2020 2022 3c52 6967 6874           "<Right
+00013580: 3e22 2c20 6c61 6d62 6461 2078 3a20 7365  >", lambda x: se
+00013590: 6c66 2e5f 5f72 6f74 6174 6528 7661 6c75  lf.__rotate(valu
+000135a0: 653d 2d31 2c20 696d 673d 7365 6c66 2e5f  e=-1, img=self._
+000135b0: 6f72 6967 5f69 6d67 290a 2020 2020 2020  orig_img).      
+000135c0: 2020 290a 2020 2020 2020 2020 7365 6c66    ).        self
+000135d0: 2e6d 6169 6e5f 6672 6d2e 6269 6e64 2822  .main_frm.bind("
+000135e0: 3c45 7363 6170 653e 222c 206c 616d 6264  <Escape>", lambd
+000135f0: 6120 783a 2073 656c 662e 5f5f 7361 7665  a x: self.__save
+00013600: 2829 290a 0a20 2020 2064 6566 205f 5f72  ())..    def __r
+00013610: 756e 5f69 6e74 6572 6661 6365 2873 656c  un_interface(sel
+00013620: 662c 2066 696c 655f 7061 7468 3a20 7374  f, file_path: st
+00013630: 7229 3a0a 2020 2020 2020 2020 7365 6c66  r):.        self
+00013640: 2e64 6966 5f61 6e67 6c65 203d 2030 0a20  .dif_angle = 0. 
+00013650: 2020 2020 2020 2070 7269 6e74 2866 696c         print(fil
+00013660: 655f 7061 7468 290a 2020 2020 2020 2020  e_path).        
+00013670: 7365 6c66 2e76 6964 656f 5f6d 6574 615f  self.video_meta_
+00013680: 6461 7461 203d 2067 6574 5f76 6964 656f  data = get_video
+00013690: 5f6d 6574 615f 6461 7461 2876 6964 656f  _meta_data(video
+000136a0: 5f70 6174 683d 6669 6c65 5f70 6174 6829  _path=file_path)
+000136b0: 0a20 2020 2020 2020 2073 656c 662e 6669  .        self.fi
+000136c0: 6c65 5f70 6174 6820 3d20 6669 6c65 5f70  le_path = file_p
+000136d0: 6174 680a 2020 2020 2020 2020 5f2c 2073  ath.        _, s
+000136e0: 656c 662e 7669 6465 6f5f 6e61 6d65 2c20  elf.video_name, 
+000136f0: 5f20 3d20 6765 745f 666e 5f65 7874 2866  _ = get_fn_ext(f
+00013700: 696c 6570 6174 683d 6669 6c65 5f70 6174  ilepath=file_pat
+00013710: 6829 0a20 2020 2020 2020 2073 656c 662e  h).        self.
+00013720: 6d61 696e 5f66 726d 203d 2054 6f70 6c65  main_frm = Tople
+00013730: 7665 6c28 290a 2020 2020 2020 2020 7365  vel().        se
+00013740: 6c66 2e6d 6169 6e5f 6672 6d2e 7469 746c  lf.main_frm.titl
+00013750: 6528 6622 524f 5441 5445 2056 4944 454f  e(f"ROTATE VIDEO
+00013760: 207b 7365 6c66 2e76 6964 656f 5f6e 616d   {self.video_nam
+00013770: 657d 2229 0a20 2020 2020 2020 2073 656c  e}").        sel
+00013780: 662e 7669 6465 6f5f 6672 6d20 3d20 4672  f.video_frm = Fr
+00013790: 616d 6528 7365 6c66 2e6d 6169 6e5f 6672  ame(self.main_fr
+000137a0: 6d29 0a20 2020 2020 2020 2073 656c 662e  m).        self.
+000137b0: 7669 6465 6f5f 6672 6d2e 6772 6964 2872  video_frm.grid(r
+000137c0: 6f77 3d30 2c20 636f 6c75 6d6e 3d30 290a  ow=0, column=0).
+000137d0: 2020 2020 2020 2020 7365 6c66 2e69 6e73          self.ins
+000137e0: 7472 7563 7469 6f6e 5f66 726d 203d 2046  truction_frm = F
+000137f0: 7261 6d65 2873 656c 662e 6d61 696e 5f66  rame(self.main_f
+00013800: 726d 2c20 7769 6474 683d 3130 302c 2068  rm, width=100, h
+00013810: 6569 6768 743d 3130 3029 0a20 2020 2020  eight=100).     
+00013820: 2020 2073 656c 662e 696e 7374 7275 6374     self.instruct
+00013830: 696f 6e5f 6672 6d2e 6772 6964 2872 6f77  ion_frm.grid(row
+00013840: 3d30 2c20 636f 6c75 6d6e 3d32 2c20 7374  =0, column=2, st
+00013850: 6963 6b79 3d4e 5729 0a20 2020 2020 2020  icky=NW).       
+00013860: 2073 656c 662e 6b65 795f 6c62 6c73 203d   self.key_lbls =
+00013870: 204c 6162 656c 280a 2020 2020 2020 2020   Label(.        
+00013880: 2020 2020 7365 6c66 2e69 6e73 7472 7563      self.instruc
+00013890: 7469 6f6e 5f66 726d 2c0a 2020 2020 2020  tion_frm,.      
+000138a0: 2020 2020 2020 7465 7874 3d22 5c6e 5c6e        text="\n\n
+000138b0: 204e 6176 6967 6174 696f 6e3a 2022 0a20   Navigation: ". 
+000138c0: 2020 2020 2020 2020 2020 2022 5c6e 204c             "\n L
+000138d0: 6566 7420 6172 726f 7720 3d20 31c2 b020  eft arrow = 1.. 
+000138e0: 6c65 6674 220a 2020 2020 2020 2020 2020  left".          
+000138f0: 2020 225c 6e20 5269 6768 7420 6172 726f    "\n Right arro
+00013900: 7720 3d20 31c2 b020 7269 6768 7422 0a20  w = 1.. right". 
+00013910: 2020 2020 2020 2020 2020 2022 5c6e 2045             "\n E
+00013920: 7363 203d 2053 6176 6522 2c0a 2020 2020  sc = Save",.    
+00013930: 2020 2020 290a 0a20 2020 2020 2020 2073      )..        s
+00013940: 656c 662e 6b65 795f 6c62 6c73 2e67 7269  elf.key_lbls.gri
+00013950: 6428 7374 6963 6b79 3d4e 5729 0a20 2020  d(sticky=NW).   
+00013960: 2020 2020 2073 656c 662e 6361 7020 3d20       self.cap = 
+00013970: 6376 322e 5669 6465 6f43 6170 7475 7265  cv2.VideoCapture
+00013980: 2866 696c 655f 7061 7468 290a 2020 2020  (file_path).    
+00013990: 2020 2020 5f2c 2073 656c 662e 696d 6720      _, self.img 
+000139a0: 3d20 7365 6c66 2e63 6170 2e72 6561 6428  = self.cap.read(
+000139b0: 290a 2020 2020 2020 2020 7365 6c66 2e5f  ).        self._
+000139c0: 6f72 6967 5f69 6d67 203d 2063 7632 2e63  orig_img = cv2.c
+000139d0: 7674 436f 6c6f 7228 7365 6c66 2e69 6d67  vtColor(self.img
+000139e0: 2c20 6376 322e 434f 4c4f 525f 5247 4232  , cv2.COLOR_RGB2
+000139f0: 4247 5229 0a20 2020 2020 2020 2073 656c  BGR).        sel
+00013a00: 662e 5f5f 696e 7365 7274 5f69 6d67 2869  f.__insert_img(i
+00013a10: 6d67 3d73 656c 662e 5f6f 7269 675f 696d  mg=self._orig_im
+00013a20: 6729 0a20 2020 2020 2020 2073 656c 662e  g).        self.
+00013a30: 5f5f 6269 6e64 5f6b 6579 7328 290a 0a20  __bind_keys().. 
+00013a40: 2020 2064 6566 2072 756e 2873 656c 6629     def run(self)
+00013a50: 3a0a 2020 2020 2020 2020 7365 6c66 2e72  :.        self.r
+00013a60: 6573 756c 7473 203d 207b 7d0a 2020 2020  esults = {}.    
+00013a70: 2020 2020 666f 7220 7669 6465 6f5f 7061      for video_pa
+00013a80: 7468 2069 6e20 7365 6c66 2e76 6964 656f  th in self.video
+00013a90: 5f70 6174 6873 3a0a 2020 2020 2020 2020  _paths:.        
+00013aa0: 2020 2020 7365 6c66 2e5f 5f72 756e 5f69      self.__run_i
+00013ab0: 6e74 6572 6661 6365 2876 6964 656f 5f70  nterface(video_p
+00013ac0: 6174 6829 0a20 2020 2020 2020 2073 656c  ath).        sel
+00013ad0: 662e 6d61 696e 5f66 726d 2e6d 6169 6e6c  f.main_frm.mainl
+00013ae0: 6f6f 7028 290a 0a0a 6465 6620 6578 7472  oop()...def extr
+00013af0: 6163 745f 6672 616d 6573 5f66 726f 6d5f  act_frames_from_
+00013b00: 616c 6c5f 7669 6465 6f73 5f69 6e5f 6469  all_videos_in_di
+00013b10: 7265 6374 6f72 7928 0a20 2020 2063 6f6e  rectory(.    con
+00013b20: 6669 675f 7061 7468 3a20 556e 696f 6e5b  fig_path: Union[
+00013b30: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
+00013b40: 5d2c 2064 6972 6563 746f 7279 3a20 556e  ], directory: Un
+00013b50: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+00013b60: 4c69 6b65 5d0a 2920 2d3e 204e 6f6e 653a  Like].) -> None:
+00013b70: 0a20 2020 2022 2222 0a20 2020 2045 7874  .    """.    Ext
+00013b80: 7261 6374 2061 6c6c 2066 7261 6d65 7320  ract all frames 
+00013b90: 6672 6f6d 2061 6c6c 2076 6964 656f 7320  from all videos 
+00013ba0: 696e 2061 2064 6972 6563 746f 7279 2e20  in a directory. 
+00013bb0: 5468 6520 7265 7375 6c74 7320 6172 6520  The results are 
+00013bc0: 7361 7665 6420 696e 2074 6865 2070 726f  saved in the pro
+00013bd0: 6a65 6374 5f66 6f6c 6465 722f 6672 616d  ject_folder/fram
+00013be0: 6573 2f69 6e70 7574 2064 6972 6563 746f  es/input directo
+00013bf0: 7279 206f 6620 7468 6520 5369 6d42 4120  ry of the SimBA 
+00013c00: 7072 6f6a 6563 740a 0a20 2020 203a 7061  project..    :pa
+00013c10: 7261 6d65 7465 7220 7374 7220 636f 6e66  rameter str conf
+00013c20: 6967 5f70 6174 683a 2070 6174 6820 746f  ig_path: path to
+00013c30: 2053 696d 4241 2070 726f 6a65 6374 2063   SimBA project c
+00013c40: 6f6e 6669 6720 6669 6c65 2069 6e20 436f  onfig file in Co
+00013c50: 6e66 6967 7061 7273 6572 2066 6f72 6d61  nfigparser forma
+00013c60: 742e 0a20 2020 203a 7061 7261 6d65 7465  t..    :paramete
+00013c70: 7220 7374 7220 6469 7265 6374 6f72 793a  r str directory:
+00013c80: 2070 6174 6820 746f 2066 696c 6520 6f72   path to file or
+00013c90: 2066 6f6c 6465 7220 636f 6e74 6169 6e69   folder containi
+00013ca0: 6e67 2076 6964 656f 7320 696e 206d 7034  ng videos in mp4
+00013cb0: 2061 6e64 2f6f 7220 6176 6920 666f 726d   and/or avi form
+00013cc0: 6174 2e0a 0a20 2020 203a 6578 616d 706c  at...    :exampl
+00013cd0: 653a 0a20 2020 203e 3e3e 2065 7874 7261  e:.    >>> extra
+00013ce0: 6374 5f66 7261 6d65 735f 6672 6f6d 5f61  ct_frames_from_a
+00013cf0: 6c6c 5f76 6964 656f 735f 696e 5f64 6972  ll_videos_in_dir
+00013d00: 6563 746f 7279 2863 6f6e 6669 675f 7061  ectory(config_pa
+00013d10: 7468 3d27 7072 6f6a 6563 745f 666f 6c64  th='project_fold
+00013d20: 6572 2f70 726f 6a65 6374 5f63 6f6e 6669  er/project_confi
+00013d30: 672e 696e 6927 2c20 736f 7572 6365 3d27  g.ini', source='
+00013d40: 2f74 6573 7473 2f74 6573 745f 6461 7461  /tests/test_data
+00013d50: 2f76 6964 656f 5f74 6573 7473 2729 0a20  /video_tests'). 
+00013d60: 2020 2022 2222 0a0a 2020 2020 7469 6d65     """..    time
+00013d70: 7220 3d20 5369 6d62 6154 696d 6572 2873  r = SimbaTimer(s
+00013d80: 7461 7274 3d54 7275 6529 0a20 2020 2076  tart=True).    v
+00013d90: 6964 656f 5f70 6174 6873 2c20 7669 6465  ideo_paths, vide
+00013da0: 6f5f 7479 7065 7320 3d20 5b5d 2c20 5b22  o_types = [], ["
+00013db0: 2e61 7669 222c 2022 2e6d 7034 225d 0a20  .avi", ".mp4"]. 
+00013dc0: 2020 2066 696c 6573 5f69 6e5f 666f 6c64     files_in_fold
+00013dd0: 6572 203d 2067 6c6f 622e 676c 6f62 2864  er = glob.glob(d
+00013de0: 6972 6563 746f 7279 202b 2022 2f2a 2229  irectory + "/*")
+00013df0: 0a20 2020 2066 6f72 2066 696c 655f 7061  .    for file_pa
+00013e00: 7468 2069 6e20 6669 6c65 735f 696e 5f66  th in files_in_f
+00013e10: 6f6c 6465 723a 0a20 2020 2020 2020 205f  older:.        _
+00013e20: 2c20 5f2c 2065 7874 203d 2067 6574 5f66  , _, ext = get_f
+00013e30: 6e5f 6578 7428 6669 6c65 7061 7468 3d66  n_ext(filepath=f
+00013e40: 696c 655f 7061 7468 290a 2020 2020 2020  ile_path).      
+00013e50: 2020 6966 2065 7874 2e6c 6f77 6572 2829    if ext.lower()
+00013e60: 2069 6e20 7669 6465 6f5f 7479 7065 733a   in video_types:
+00013e70: 0a20 2020 2020 2020 2020 2020 2076 6964  .            vid
+00013e80: 656f 5f70 6174 6873 2e61 7070 656e 6428  eo_paths.append(
+00013e90: 6669 6c65 5f70 6174 6829 0a20 2020 2069  file_path).    i
+00013ea0: 6620 6c65 6e28 7669 6465 6f5f 7061 7468  f len(video_path
+00013eb0: 7329 203d 3d20 303a 0a20 2020 2020 2020  s) == 0:.       
+00013ec0: 2072 6169 7365 204e 6f46 696c 6573 466f   raise NoFilesFo
+00013ed0: 756e 6445 7272 6f72 280a 2020 2020 2020  undError(.      
+00013ee0: 2020 2020 2020 6d73 673d 6622 5349 4d42        msg=f"SIMB
+00013ef0: 4120 4552 524f 523a 2030 2076 6964 656f  A ERROR: 0 video
+00013f00: 2066 696c 6573 2069 6e20 6d70 3420 6f72   files in mp4 or
+00013f10: 2061 7669 2066 6f72 6d61 7420 666f 756e   avi format foun
+00013f20: 6420 696e 207b 6469 7265 6374 6f72 797d  d in {directory}
+00013f30: 222c 0a20 2020 2020 2020 2020 2020 2073  ",.            s
+00013f40: 6f75 7263 653d 6578 7472 6163 745f 6672  ource=extract_fr
+00013f50: 616d 6573 5f66 726f 6d5f 616c 6c5f 7669  ames_from_all_vi
+00013f60: 6465 6f73 5f69 6e5f 6469 7265 6374 6f72  deos_in_director
+00013f70: 792e 5f5f 6e61 6d65 5f5f 2c0a 2020 2020  y.__name__,.    
+00013f80: 2020 2020 290a 2020 2020 636f 6e66 6967      ).    config
+00013f90: 203d 2072 6561 645f 636f 6e66 6967 5f66   = read_config_f
+00013fa0: 696c 6528 636f 6e66 6967 5f70 6174 6829  ile(config_path)
+00013fb0: 0a20 2020 2070 726f 6a65 6374 5f70 6174  .    project_pat
+00013fc0: 6820 3d20 7265 6164 5f63 6f6e 6669 675f  h = read_config_
+00013fd0: 656e 7472 7928 0a20 2020 2020 2020 2063  entry(.        c
+00013fe0: 6f6e 6669 672c 2022 4765 6e65 7261 6c20  onfig, "General 
+00013ff0: 7365 7474 696e 6773 222c 2022 7072 6f6a  settings", "proj
+00014000: 6563 745f 7061 7468 222c 2064 6174 615f  ect_path", data_
+00014010: 7479 7065 3d22 666f 6c64 6572 5f70 6174  type="folder_pat
+00014020: 6822 0a20 2020 2029 0a0a 2020 2020 7072  h".    )..    pr
+00014030: 696e 7428 0a20 2020 2020 2020 2022 4578  int(.        "Ex
+00014040: 7472 6163 7469 6e67 2066 7261 6d65 7320  tracting frames 
+00014050: 666f 7220 7b7d 2076 6964 656f 7320 696e  for {} videos in
+00014060: 746f 2070 726f 6a65 6374 5f66 6f6c 6465  to project_folde
+00014070: 722f 6672 616d 6573 2f69 6e70 7574 2064  r/frames/input d
+00014080: 6972 6563 746f 7279 2e2e 2e22 2e66 6f72  irectory...".for
+00014090: 6d61 7428 0a20 2020 2020 2020 2020 2020  mat(.           
+000140a0: 206c 656e 2876 6964 656f 5f70 6174 6873   len(video_paths
+000140b0: 290a 2020 2020 2020 2020 290a 2020 2020  ).        ).    
+000140c0: 290a 2020 2020 666f 7220 7669 6465 6f5f  ).    for video_
+000140d0: 7061 7468 2069 6e20 7669 6465 6f5f 7061  path in video_pa
+000140e0: 7468 733a 0a20 2020 2020 2020 2064 6972  ths:.        dir
+000140f0: 5f6e 616d 652c 2076 6964 656f 5f6e 616d  _name, video_nam
+00014100: 652c 2065 7874 203d 2067 6574 5f66 6e5f  e, ext = get_fn_
+00014110: 6578 7428 7669 6465 6f5f 7061 7468 290a  ext(video_path).
+00014120: 2020 2020 2020 2020 7361 7665 5f70 6174          save_pat
+00014130: 6820 3d20 6f73 2e70 6174 682e 6a6f 696e  h = os.path.join
+00014140: 2870 726f 6a65 6374 5f70 6174 682c 2022  (project_path, "
+00014150: 6672 616d 6573 222c 2022 696e 7075 7422  frames", "input"
+00014160: 2c20 7669 6465 6f5f 6e61 6d65 290a 2020  , video_name).  
+00014170: 2020 2020 2020 6966 206e 6f74 206f 732e        if not os.
+00014180: 7061 7468 2e65 7869 7374 7328 7361 7665  path.exists(save
+00014190: 5f70 6174 6829 3a0a 2020 2020 2020 2020  _path):.        
+000141a0: 2020 2020 6f73 2e6d 616b 6564 6972 7328      os.makedirs(
+000141b0: 7361 7665 5f70 6174 6829 0a20 2020 2020  save_path).     
+000141c0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+000141d0: 2020 2020 2070 7269 6e74 280a 2020 2020       print(.    
+000141e0: 2020 2020 2020 2020 2020 2020 6622 4672              f"Fr
+000141f0: 616d 6573 2066 6f72 2076 6964 656f 207b  ames for video {
+00014200: 7669 6465 6f5f 6e61 6d65 7d20 616c 7265  video_name} alre
+00014210: 6164 7920 6578 7472 6163 7465 642e 2053  ady extracted. S
+00014220: 696d 4241 2069 7320 6f76 6572 7772 6974  imBA is overwrit
+00014230: 696e 6720 7072 696f 7220 6672 616d 6573  ing prior frames
+00014240: 2e2e 2e22 0a20 2020 2020 2020 2020 2020  ...".           
+00014250: 2029 0a20 2020 2020 2020 2076 6964 656f   ).        video
+00014260: 5f74 6f5f 6672 616d 6573 2876 6964 656f  _to_frames(video
+00014270: 5f70 6174 682c 2073 6176 655f 7061 7468  _path, save_path
+00014280: 2c20 6f76 6572 7772 6974 653d 5472 7565  , overwrite=True
+00014290: 2c20 6576 6572 793d 312c 2063 6875 6e6b  , every=1, chunk
+000142a0: 5f73 697a 653d 3130 3030 290a 2020 2020  _size=1000).    
+000142b0: 7469 6d65 722e 7374 6f70 5f74 696d 6572  timer.stop_timer
+000142c0: 2829 0a20 2020 2073 7464 6f75 745f 7375  ().    stdout_su
+000142d0: 6363 6573 7328 0a20 2020 2020 2020 2066  ccess(.        f
+000142e0: 2246 7261 6d65 7320 6372 6561 7465 6420  "Frames created 
+000142f0: 666f 7220 7b73 7472 286c 656e 2876 6964  for {str(len(vid
+00014300: 656f 5f70 6174 6873 2929 7d20 7669 6465  eo_paths))} vide
+00014310: 6f73 222c 0a20 2020 2020 2020 2065 6c61  os",.        ela
+00014320: 7073 6564 5f74 696d 653d 7469 6d65 722e  psed_time=timer.
+00014330: 656c 6170 7365 645f 7469 6d65 5f73 7472  elapsed_time_str
+00014340: 2c0a 2020 2020 2020 2020 736f 7572 6365  ,.        source
+00014350: 3d65 7874 7261 6374 5f66 7261 6d65 735f  =extract_frames_
+00014360: 6672 6f6d 5f61 6c6c 5f76 6964 656f 735f  from_all_videos_
+00014370: 696e 5f64 6972 6563 746f 7279 2e5f 5f6e  in_directory.__n
+00014380: 616d 655f 5f2c 0a20 2020 2029 0a0a 0a64  ame__,.    )...d
+00014390: 6566 2063 6f70 795f 696d 675f 666f 6c64  ef copy_img_fold
+000143a0: 6572 280a 2020 2020 636f 6e66 6967 5f70  er(.    config_p
+000143b0: 6174 683a 2055 6e69 6f6e 5b73 7472 2c20  ath: Union[str, 
+000143c0: 6f73 2e50 6174 684c 696b 655d 2c20 736f  os.PathLike], so
+000143d0: 7572 6365 3a20 556e 696f 6e5b 7374 722c  urce: Union[str,
+000143e0: 206f 732e 5061 7468 4c69 6b65 5d0a 2920   os.PathLike].) 
+000143f0: 2d3e 204e 6f6e 653a 0a20 2020 2022 2222  -> None:.    """
+00014400: 0a20 2020 2043 6f70 7920 6469 7265 6374  .    Copy direct
+00014410: 6f72 7920 6f66 2070 6e67 2066 696c 6573  ory of png files
+00014420: 2074 6f20 7468 6520 5369 6d42 4120 7072   to the SimBA pr
+00014430: 6f6a 6563 742e 2054 6865 2064 6972 6563  oject. The direc
+00014440: 746f 7279 2069 7320 7374 6f72 6564 2069  tory is stored i
+00014450: 6e20 7468 6520 7072 6f6a 6563 745f 666f  n the project_fo
+00014460: 6c64 6572 2f66 7261 6d65 732f 696e 7075  lder/frames/inpu
+00014470: 7420 666f 6c64 6572 206f 6620 7468 6520  t folder of the 
+00014480: 5369 6d42 4120 7072 6f6a 6563 740a 0a20  SimBA project.. 
+00014490: 2020 203a 7061 7261 6d65 7465 7220 7374     :parameter st
+000144a0: 7220 636f 6e66 6967 5f70 6174 683a 2070  r config_path: p
+000144b0: 6174 6820 746f 2053 696d 4241 2070 726f  ath to SimBA pro
+000144c0: 6a65 6374 2063 6f6e 6669 6720 6669 6c65  ject config file
+000144d0: 2069 6e20 436f 6e66 6967 7061 7273 6572   in Configparser
+000144e0: 2066 6f72 6d61 742e 0a20 2020 203a 7061   format..    :pa
+000144f0: 7261 6d65 7465 7220 7374 7220 736f 7572  rameter str sour
+00014500: 6365 3a20 7061 7468 2074 6f20 696d 6167  ce: path to imag
+00014510: 6520 666f 6c64 6572 206f 7574 7369 6465  e folder outside
+00014520: 2053 696d 4241 2070 726f 6a65 6374 2e0a   SimBA project..
+00014530: 0a20 2020 203a 6578 616d 706c 653a 0a20  .    :example:. 
+00014540: 2020 203e 3e3e 2063 6f70 795f 696d 675f     >>> copy_img_
+00014550: 666f 6c64 6572 2863 6f6e 6669 675f 7061  folder(config_pa
+00014560: 7468 3d27 4d79 5369 6d42 4170 726f 6a65  th='MySimBAproje
+00014570: 6374 436f 6e66 6967 272c 2073 6f75 7263  ctConfig', sourc
+00014580: 653d 272f 4469 7265 6374 6f72 7957 6974  e='/DirectoryWit
+00014590: 6856 6964 656f 732f 2729 0a0a 2020 2020  hVideos/')..    
+000145a0: 2222 220a 2020 2020 7469 6d65 7220 3d20  """.    timer = 
+000145b0: 5369 6d62 6154 696d 6572 2873 7461 7274  SimbaTimer(start
+000145c0: 3d54 7275 6529 0a20 2020 2069 6620 6e6f  =True).    if no
+000145d0: 7420 6f73 2e70 6174 682e 6973 6469 7228  t os.path.isdir(
+000145e0: 736f 7572 6365 293a 0a20 2020 2020 2020  source):.       
+000145f0: 2072 6169 7365 204e 6f74 4469 7265 6374   raise NotDirect
+00014600: 6f72 7945 7272 6f72 280a 2020 2020 2020  oryError(.      
+00014610: 2020 2020 2020 6d73 673d 6622 5349 4d42        msg=f"SIMB
+00014620: 4120 4552 524f 523a 2073 6f75 7263 6520  A ERROR: source 
+00014630: 7b73 6f75 7263 657d 2069 7320 6e6f 7420  {source} is not 
+00014640: 6120 6469 7265 6374 6f72 792e 222c 0a20  a directory.",. 
+00014650: 2020 2020 2020 2020 2020 2073 6f75 7263             sourc
+00014660: 653d 636f 7079 5f69 6d67 5f66 6f6c 6465  e=copy_img_folde
+00014670: 722e 5f5f 6e61 6d65 5f5f 2c0a 2020 2020  r.__name__,.    
+00014680: 2020 2020 290a 2020 2020 6966 206c 656e      ).    if len
+00014690: 2867 6c6f 622e 676c 6f62 2873 6f75 7263  (glob.glob(sourc
+000146a0: 6520 2b20 222f 2a2e 706e 6722 2929 203d  e + "/*.png")) =
+000146b0: 3d20 303a 0a20 2020 2020 2020 2072 6169  = 0:.        rai
+000146c0: 7365 204e 6f46 696c 6573 466f 756e 6445  se NoFilesFoundE
+000146d0: 7272 6f72 280a 2020 2020 2020 2020 2020  rror(.          
+000146e0: 2020 6d73 673d 6622 5349 4d42 4120 4552    msg=f"SIMBA ER
+000146f0: 524f 523a 2073 6f75 7263 6520 7b73 6f75  ROR: source {sou
+00014700: 7263 657d 2064 6f65 7320 6e6f 7420 636f  rce} does not co
+00014710: 6e74 6169 6e20 616e 7920 2e70 6e67 2066  ntain any .png f
+00014720: 696c 6573 2e22 2c0a 2020 2020 2020 2020  iles.",.        
+00014730: 2020 2020 736f 7572 6365 3d63 6f70 795f      source=copy_
+00014740: 696d 675f 666f 6c64 6572 2e5f 5f6e 616d  img_folder.__nam
+00014750: 655f 5f2c 0a20 2020 2020 2020 2029 0a20  e__,.        ). 
+00014760: 2020 2069 6e70 7574 5f62 6173 656e 616d     input_basenam
+00014770: 6520 3d20 6f73 2e70 6174 682e 6261 7365  e = os.path.base
+00014780: 6e61 6d65 2873 6f75 7263 6529 0a20 2020  name(source).   
+00014790: 2063 6f6e 6669 6720 3d20 7265 6164 5f63   config = read_c
+000147a0: 6f6e 6669 675f 6669 6c65 2863 6f6e 6669  onfig_file(confi
+000147b0: 675f 7061 7468 290a 2020 2020 7072 6f6a  g_path).    proj
+000147c0: 6563 745f 7061 7468 203d 2072 6561 645f  ect_path = read_
+000147d0: 636f 6e66 6967 5f65 6e74 7279 280a 2020  config_entry(.  
+000147e0: 2020 2020 2020 636f 6e66 6967 2c0a 2020        config,.  
+000147f0: 2020 2020 2020 436f 6e66 6967 4b65 792e        ConfigKey.
+00014800: 4745 4e45 5241 4c5f 5345 5454 494e 4753  GENERAL_SETTINGS
+00014810: 2e76 616c 7565 2c0a 2020 2020 2020 2020  .value,.        
+00014820: 436f 6e66 6967 4b65 792e 5052 4f4a 4543  ConfigKey.PROJEC
+00014830: 545f 5041 5448 2e76 616c 7565 2c0a 2020  T_PATH.value,.  
+00014840: 2020 2020 2020 6461 7461 5f74 7970 653d        data_type=
+00014850: 2266 6f6c 6465 725f 7061 7468 222c 0a20  "folder_path",. 
+00014860: 2020 2029 0a20 2020 2069 6e70 7574 5f66     ).    input_f
+00014870: 7261 6d65 735f 6469 7220 3d20 6f73 2e70  rames_dir = os.p
+00014880: 6174 682e 6a6f 696e 2870 726f 6a65 6374  ath.join(project
+00014890: 5f70 6174 682c 2050 6174 6873 2e49 4e50  _path, Paths.INP
+000148a0: 5554 5f46 5241 4d45 535f 4449 522e 7661  UT_FRAMES_DIR.va
+000148b0: 6c75 6529 0a20 2020 2064 6573 7469 6e61  lue).    destina
+000148c0: 7469 6f6e 203d 206f 732e 7061 7468 2e6a  tion = os.path.j
+000148d0: 6f69 6e28 696e 7075 745f 6672 616d 6573  oin(input_frames
+000148e0: 5f64 6972 2c20 696e 7075 745f 6261 7365  _dir, input_base
+000148f0: 6e61 6d65 290a 2020 2020 6966 206f 732e  name).    if os.
+00014900: 7061 7468 2e69 7364 6972 2864 6573 7469  path.isdir(desti
+00014910: 6e61 7469 6f6e 293a 0a20 2020 2020 2020  nation):.       
+00014920: 2072 6169 7365 2044 6972 6563 746f 7279   raise Directory
+00014930: 4578 6973 7445 7272 6f72 280a 2020 2020  ExistError(.    
+00014940: 2020 2020 2020 2020 6d73 673d 6622 5349          msg=f"SI
+00014950: 4d42 4120 4552 524f 523a 207b 6465 7374  MBA ERROR: {dest
+00014960: 696e 6174 696f 6e7d 2061 6c72 6561 6479  ination} already
+00014970: 2065 7869 7374 2069 6e20 5369 6d42 4120   exist in SimBA 
+00014980: 7072 6f6a 6563 742e 222c 0a20 2020 2020  project.",.     
+00014990: 2020 2020 2020 2073 6f75 7263 653d 636f         source=co
+000149a0: 7079 5f69 6d67 5f66 6f6c 6465 722e 5f5f  py_img_folder.__
+000149b0: 6e61 6d65 5f5f 2c0a 2020 2020 2020 2020  name__,.        
+000149c0: 290a 2020 2020 7072 696e 7428 6622 496d  ).    print(f"Im
+000149d0: 706f 7274 696e 6720 696d 6167 6520 6669  porting image fi
+000149e0: 6c65 7320 666f 7220 7b69 6e70 7574 5f62  les for {input_b
+000149f0: 6173 656e 616d 657d 2e2e 2e22 290a 2020  asename}...").  
+00014a00: 2020 7368 7574 696c 2e63 6f70 7974 7265    shutil.copytre
+00014a10: 6528 736f 7572 6365 2c20 6465 7374 696e  e(source, destin
+00014a20: 6174 696f 6e29 0a20 2020 2074 696d 6572  ation).    timer
+00014a30: 2e73 746f 705f 7469 6d65 7228 290a 2020  .stop_timer().  
+00014a40: 2020 7374 646f 7574 5f73 7563 6365 7373    stdout_success
+00014a50: 280a 2020 2020 2020 2020 6d73 673d 6622  (.        msg=f"
+00014a60: 7b64 6573 7469 6e61 7469 6f6e 7d20 696d  {destination} im
+00014a70: 706f 7274 6564 2074 6f20 5369 6d42 4120  ported to SimBA 
+00014a80: 7072 6f6a 6563 7422 2c0a 2020 2020 2020  project",.      
+00014a90: 2020 656c 6170 7365 645f 7469 6d65 3d74    elapsed_time=t
+00014aa0: 696d 6572 2e65 6c61 7073 6564 5f74 696d  imer.elapsed_tim
+00014ab0: 655f 7374 722c 0a20 2020 2020 2020 2073  e_str,.        s
+00014ac0: 6f75 7263 653d 636f 7079 5f69 6d67 5f66  ource=copy_img_f
+00014ad0: 6f6c 6465 722e 5f5f 6e61 6d65 5f5f 2c0a  older.__name__,.
+00014ae0: 2020 2020 290a 0a0a 6465 6620 6170 7065      )...def appe
+00014af0: 6e64 5f61 7564 696f 280a 2020 2020 7669  nd_audio(.    vi
+00014b00: 6465 6f5f 7061 7468 3a20 556e 696f 6e5b  deo_path: Union[
+00014b10: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
+00014b20: 5d2c 0a20 2020 2061 7564 696f 5f70 6174  ],.    audio_pat
+00014b30: 683a 2055 6e69 6f6e 5b73 7472 2c20 6f73  h: Union[str, os
+00014b40: 2e50 6174 684c 696b 655d 2c0a 2020 2020  .PathLike],.    
+00014b50: 6175 6469 6f5f 7372 635f 7479 7065 3a20  audio_src_type: 
+00014b60: 4c69 7465 7261 6c5b 2276 6964 656f 222c  Literal["video",
+00014b70: 2022 6175 6469 6f22 5d20 3d20 2276 6964   "audio"] = "vid
+00014b80: 656f 222c 0a29 202d 3e20 4e6f 6e65 3a0a  eo",.) -> None:.
+00014b90: 2020 2020 2222 220a 2020 2020 4170 7065      """.    Appe
+00014ba0: 6e64 2061 7564 696f 2074 7261 636b 2066  nd audio track f
+00014bb0: 726f 6d20 6f6e 6520 7669 6465 6f20 746f  rom one video to
+00014bc0: 2061 6e6f 7468 6572 2076 6964 656f 2077   another video w
+00014bd0: 6974 686f 7574 2061 6e20 6175 6469 6f20  ithout an audio 
+00014be0: 7472 6163 6b2e 0a0a 2020 2020 3a70 6172  track...    :par
+00014bf0: 616d 2055 6e69 6f6e 5b73 7472 2c20 6f73  am Union[str, os
+00014c00: 2e50 6174 684c 696b 655d 2076 6964 656f  .PathLike] video
+00014c10: 5f6f 6e65 5f70 6174 683a 2050 6174 6820  _one_path: Path 
+00014c20: 746f 2076 6964 656f 2066 696c 6520 7769  to video file wi
+00014c30: 7468 6f75 7420 6175 6469 6f20 7472 6163  thout audio trac
+00014c40: 6b2e 0a20 2020 203a 7061 7261 6d20 556e  k..    :param Un
+00014c50: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+00014c60: 4c69 6b65 5d20 6175 6469 6f5f 7061 7468  Like] audio_path
+00014c70: 3a20 5061 7468 2074 6f20 6669 6c65 2028  : Path to file (
+00014c80: 652e 672e 2c20 7669 6465 6f29 2077 6974  e.g., video) wit
+00014c90: 6820 6175 6469 6f20 7472 6163 6b2e 0a20  h audio track.. 
+00014ca0: 2020 203a 7061 7261 6d20 4c69 7465 7261     :param Litera
+00014cb0: 6c5b 2776 6964 656f 272c 2027 6175 6469  l['video', 'audi
+00014cc0: 6f27 5d20 6175 6469 6f5f 7372 635f 7479  o'] audio_src_ty
+00014cd0: 7065 3a20 5479 7065 206f 6620 6175 6469  pe: Type of audi
+00014ce0: 6f20 736f 7572 6365 206f 6620 2276 6964  o source of "vid
+00014cf0: 656f 5f74 776f 5f70 6174 6822 2028 652e  eo_two_path" (e.
+00014d00: 672e 2c20 7669 6465 6f20 6f72 2061 7564  g., video or aud
+00014d10: 696f 2066 696c 6529 2e0a 0a20 2020 203a  io file)...    :
+00014d20: 6578 616d 706c 653a 0a20 2020 203e 3e3e  example:.    >>>
+00014d30: 2061 7070 656e 645f 6175 6469 6f28 7669   append_audio(vi
+00014d40: 6465 6f5f 7061 7468 3d27 2f55 7365 7273  deo_path='/Users
+00014d50: 2f73 696d 6f6e 2f44 6573 6b74 6f70 2f65  /simon/Desktop/e
+00014d60: 6e76 732f 7472 6f75 626c 6573 686f 6f74  nvs/troubleshoot
+00014d70: 696e 672f 7477 6f5f 626c 6163 6b5f 616e  ing/two_black_an
+00014d80: 696d 616c 735f 3134 6270 2f70 726f 6a65  imals_14bp/proje
+00014d90: 6374 5f66 6f6c 6465 722f 7669 6465 6f73  ct_folder/videos
+00014da0: 2f6d 6572 6765 645f 7669 6465 6f5f 3230  /merged_video_20
+00014db0: 3233 3034 3235 3230 3136 3337 2e6d 7034  230425201637.mp4
+00014dc0: 272c 0a20 2020 203e 3e3e 2061 7564 696f  ',.    >>> audio
+00014dd0: 5f70 6174 683d 222f 5573 6572 732f 7369  _path="/Users/si
+00014de0: 6d6f 6e2f 446f 6375 6d65 6e74 732f 5a6f  mon/Documents/Zo
+00014df0: 6f6d 2f64 6464 2f76 6964 656f 3131 3830  om/ddd/video1180
+00014e00: 3733 3232 3333 2e6d 7034 2229 0a20 2020  732233.mp4").   
+00014e10: 2022 2222 0a0a 2020 2020 6966 206e 6f74   """..    if not
+00014e20: 2063 6865 636b 5f66 666d 7065 675f 6176   check_ffmpeg_av
+00014e30: 6169 6c61 626c 6528 293a 0a20 2020 2020  ailable():.     
+00014e40: 2020 2072 6169 7365 2046 464d 5045 474e     raise FFMPEGN
+00014e50: 6f74 466f 756e 6445 7272 6f72 280a 2020  otFoundError(.  
+00014e60: 2020 2020 2020 2020 2020 6d73 673d 2246            msg="F
+00014e70: 464d 7065 6720 6e6f 7420 666f 756e 6420  FMpeg not found 
+00014e80: 6f6e 2063 6f6d 7075 7465 722e 2053 6565  on computer. See
+00014e90: 2053 696d 4241 2064 6f63 7320 666f 7220   SimBA docs for 
+00014ea0: 696e 7374 616c 6c20 696e 7374 7275 6374  install instruct
+00014eb0: 696f 6e73 2e22 2c0a 2020 2020 2020 2020  ions.",.        
+00014ec0: 2020 2020 736f 7572 6365 3d61 7070 656e      source=appen
+00014ed0: 645f 6175 6469 6f2e 5f5f 6e61 6d65 5f5f  d_audio.__name__
+00014ee0: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
+00014ef0: 6368 6563 6b5f 6669 6c65 5f65 7869 7374  check_file_exist
+00014f00: 5f61 6e64 5f72 6561 6461 626c 6528 6669  _and_readable(fi
+00014f10: 6c65 5f70 6174 683d 7669 6465 6f5f 7061  le_path=video_pa
+00014f20: 7468 290a 2020 2020 6368 6563 6b5f 6669  th).    check_fi
+00014f30: 6c65 5f65 7869 7374 5f61 6e64 5f72 6561  le_exist_and_rea
+00014f40: 6461 626c 6528 6669 6c65 5f70 6174 683d  dable(file_path=
+00014f50: 6175 6469 6f5f 7061 7468 290a 2020 2020  audio_path).    
+00014f60: 7669 6465 6f5f 6d65 7461 5f64 6174 6120  video_meta_data 
+00014f70: 3d20 6765 745f 7669 6465 6f5f 6d65 7461  = get_video_meta
+00014f80: 5f64 6174 6128 7669 6465 6f5f 7061 7468  _data(video_path
+00014f90: 3d76 6964 656f 5f70 6174 6829 0a20 2020  =video_path).   
+00014fa0: 2061 7564 696f 5f73 7263 5f6d 6574 615f   audio_src_meta_
+00014fb0: 6461 7461 203d 2067 6574 5f76 6964 656f  data = get_video
+00014fc0: 5f6d 6574 615f 6461 7461 2876 6964 656f  _meta_data(video
+00014fd0: 5f70 6174 683d 6175 6469 6f5f 7061 7468  _path=audio_path
+00014fe0: 290a 2020 2020 7361 7665 5f70 6174 6820  ).    save_path 
+00014ff0: 3d20 6f73 2e70 6174 682e 6a6f 696e 280a  = os.path.join(.
+00015000: 2020 2020 2020 2020 6f73 2e70 6174 682e          os.path.
+00015010: 6469 726e 616d 6528 7669 6465 6f5f 7061  dirname(video_pa
+00015020: 7468 292c 2067 6574 5f66 6e5f 6578 7428  th), get_fn_ext(
+00015030: 6669 6c65 7061 7468 3d76 6964 656f 5f70  filepath=video_p
+00015040: 6174 6829 5b31 5d20 2b20 225f 775f 6175  ath)[1] + "_w_au
+00015050: 6469 6f2e 6d70 3422 0a20 2020 2029 0a20  dio.mp4".    ). 
+00015060: 2020 2063 6d64 203d 205b 0a20 2020 2020     cmd = [.     
+00015070: 2020 2022 6666 7072 6f62 6522 2c0a 2020     "ffprobe",.  
+00015080: 2020 2020 2020 222d 7622 2c0a 2020 2020        "-v",.    
+00015090: 2020 2020 2265 7272 6f72 222c 0a20 2020      "error",.   
+000150a0: 2020 2020 2022 2d73 656c 6563 745f 7374       "-select_st
+000150b0: 7265 616d 7322 2c0a 2020 2020 2020 2020  reams",.        
+000150c0: 2261 3a30 222c 0a20 2020 2020 2020 2022  "a:0",.        "
+000150d0: 2d73 686f 775f 656e 7472 6965 7322 2c0a  -show_entries",.
+000150e0: 2020 2020 2020 2020 2273 7472 6561 6d3d          "stream=
+000150f0: 636f 6465 635f 6e61 6d65 222c 0a20 2020  codec_name",.   
+00015100: 2020 2020 2022 2d6f 6622 2c0a 2020 2020       "-of",.    
+00015110: 2020 2020 2264 6566 6175 6c74 3d6e 6f70      "default=nop
+00015120: 7269 6e74 5f77 7261 7070 6572 733d 313a  rint_wrappers=1:
+00015130: 6e6f 6b65 793d 3122 2c0a 2020 2020 2020  nokey=1",.      
+00015140: 2020 6175 6469 6f5f 7061 7468 2c0a 2020    audio_path,.  
+00015150: 2020 5d0a 2020 2020 7472 793a 0a20 2020    ].    try:.   
+00015160: 2020 2020 2074 7261 636b 5f74 7970 6520       track_type 
+00015170: 3d20 280a 2020 2020 2020 2020 2020 2020  = (.            
+00015180: 7375 6270 726f 6365 7373 2e63 6865 636b  subprocess.check
+00015190: 5f6f 7574 7075 7428 636d 642c 2073 7464  _output(cmd, std
+000151a0: 6572 723d 7375 6270 726f 6365 7373 2e53  err=subprocess.S
+000151b0: 5444 4f55 5429 0a20 2020 2020 2020 2020  TDOUT).         
+000151c0: 2020 202e 6465 636f 6465 2822 7574 662d     .decode("utf-
+000151d0: 3822 290a 2020 2020 2020 2020 2020 2020  8").            
+000151e0: 2e73 7472 6970 2829 0a20 2020 2020 2020  .strip().       
+000151f0: 2029 0a20 2020 2065 7863 6570 7420 7375   ).    except su
+00015200: 6270 726f 6365 7373 2e43 616c 6c65 6450  bprocess.CalledP
+00015210: 726f 6365 7373 4572 726f 723a 0a20 2020  rocessError:.   
+00015220: 2020 2020 2072 6169 7365 204e 6f44 6174       raise NoDat
+00015230: 6145 7272 6f72 280a 2020 2020 2020 2020  aError(.        
+00015240: 2020 2020 6d73 673d 6622 4e6f 2061 7564      msg=f"No aud
+00015250: 696f 2074 7261 636b 2066 6f75 6e64 2069  io track found i
+00015260: 6e20 6669 6c65 207b 6175 6469 6f5f 7061  n file {audio_pa
+00015270: 7468 7d22 2c0a 2020 2020 2020 2020 2020  th}",.          
+00015280: 2020 736f 7572 6365 3d61 7070 656e 645f    source=append_
+00015290: 6175 6469 6f2e 5f5f 6e61 6d65 5f5f 2c0a  audio.__name__,.
+000152a0: 2020 2020 2020 2020 290a 0a20 2020 2069          )..    i
+000152b0: 6620 7669 6465 6f5f 6d65 7461 5f64 6174  f video_meta_dat
+000152c0: 615b 2266 7261 6d65 5f63 6f75 6e74 225d  a["frame_count"]
+000152d0: 2021 3d20 6175 6469 6f5f 7372 635f 6d65   != audio_src_me
+000152e0: 7461 5f64 6174 615b 2266 7261 6d65 5f63  ta_data["frame_c
+000152f0: 6f75 6e74 225d 3a0a 2020 2020 2020 2020  ount"]:.        
+00015300: 496e 5661 6c69 6455 7365 7249 6e70 7574  InValidUserInput
+00015310: 5761 726e 696e 6728 0a20 2020 2020 2020  Warning(.       
+00015320: 2020 2020 206d 7367 3d66 2754 6865 2076       msg=f'The v
+00015330: 6964 656f 2028 7b76 6964 656f 5f6d 6574  ideo ({video_met
+00015340: 615f 6461 7461 5b22 6672 616d 655f 636f  a_data["frame_co
+00015350: 756e 7422 5d7d 2920 616e 6420 6175 6469  unt"]}) and audi
+00015360: 6f20 736f 7572 6365 2028 7b61 7564 696f  o source ({audio
+00015370: 5f73 7263 5f6d 6574 615f 6461 7461 5b22  _src_meta_data["
+00015380: 6672 616d 655f 636f 756e 7422 5d7d 2920  frame_count"]}) 
+00015390: 646f 6573 206e 6f74 2068 6176 6520 616e  does not have an
+000153a0: 2065 7175 616c 206e 756d 6265 7220 6f66   equal number of
+000153b0: 2066 7261 6d65 732e 272c 0a20 2020 2020   frames.',.     
+000153c0: 2020 2020 2020 2073 6f75 7263 653d 6170         source=ap
+000153d0: 7065 6e64 5f61 7564 696f 2e5f 5f6e 616d  pend_audio.__nam
+000153e0: 655f 5f2c 0a20 2020 2020 2020 2029 0a0a  e__,.        )..
+000153f0: 2020 2020 636d 6420 3d20 6627 6666 6d70      cmd = f'ffmp
+00015400: 6567 202d 6920 227b 7669 6465 6f5f 7061  eg -i "{video_pa
+00015410: 7468 7d22 202d 6920 227b 6175 6469 6f5f  th}" -i "{audio_
+00015420: 7061 7468 7d22 202d 633a 7620 636f 7079  path}" -c:v copy
+00015430: 202d 6d61 7020 303a 763a 3020 2d6d 6170   -map 0:v:0 -map
+00015440: 2031 3a61 3a30 2022 7b73 6176 655f 7061   1:a:0 "{save_pa
+00015450: 7468 7d22 202d 7927 0a0a 2020 2020 7472  th}" -y'..    tr
+00015460: 793a 0a20 2020 2020 2020 2073 7562 7072  y:.        subpr
+00015470: 6f63 6573 732e 7275 6e28 636d 642c 2073  ocess.run(cmd, s
+00015480: 6865 6c6c 3d54 7275 652c 2063 6865 636b  hell=True, check
+00015490: 3d54 7275 6529 0a20 2020 2065 7863 6570  =True).    excep
+000154a0: 7420 7375 6270 726f 6365 7373 2e43 616c  t subprocess.Cal
+000154b0: 6c65 6450 726f 6365 7373 4572 726f 7220  ledProcessError 
+000154c0: 6173 2065 3a0a 2020 2020 2020 2020 7072  as e:.        pr
+000154d0: 696e 7428 2245 7272 6f72 3a22 2c20 6529  int("Error:", e)
+000154e0: 0a0a 2020 2020 7374 646f 7574 5f73 7563  ..    stdout_suc
+000154f0: 6365 7373 280a 2020 2020 2020 2020 6d73  cess(.        ms
+00015500: 673d 6622 4175 6469 6f20 6d65 7267 6564  g=f"Audio merged
+00015510: 2073 7563 6365 7373 6675 6c6c 792c 2066   successfully, f
+00015520: 696c 6520 7361 7665 6420 6174 207b 7361  ile saved at {sa
+00015530: 7665 5f70 6174 687d 2122 2c0a 2020 2020  ve_path}!",.    
+00015540: 2020 2020 736f 7572 6365 3d61 7070 656e      source=appen
+00015550: 645f 6175 6469 6f2e 5f5f 6e61 6d65 5f5f  d_audio.__name__
+00015560: 2c0a 2020 2020 290a 0a0a 6465 6620 6372  ,.    )...def cr
+00015570: 6f70 5f73 696e 676c 655f 7669 6465 6f5f  op_single_video_
+00015580: 6369 7263 6c65 2866 696c 655f 7061 7468  circle(file_path
+00015590: 3a20 556e 696f 6e5b 7374 722c 206f 732e  : Union[str, os.
+000155a0: 5061 7468 4c69 6b65 5d29 202d 3e20 4e6f  PathLike]) -> No
+000155b0: 6e65 3a0a 2020 2020 2222 220a 2020 2020  ne:.    """.    
+000155c0: 4372 6f70 2061 2076 6964 656f 2062 6173  Crop a video bas
+000155d0: 6564 206f 6e20 6369 7263 756c 6172 2072  ed on circular r
+000155e0: 6567 696f 6e73 206f 6620 696e 7465 7265  egions of intere
+000155f0: 7374 2028 524f 4973 2920 7365 6c65 6374  st (ROIs) select
+00015600: 6564 2062 7920 7468 6520 7573 6572 2e0a  ed by the user..
+00015610: 0a20 2020 202e 2e20 696d 6167 653a 3a20  .    .. image:: 
+00015620: 5f73 7461 7469 632f 696d 672f 6372 6f70  _static/img/crop
+00015630: 5f73 696e 676c 655f 7669 6465 6f5f 6369  _single_video_ci
+00015640: 7263 6c65 2e67 6966 0a20 2020 2020 2020  rcle.gif.       
+00015650: 3a77 6964 7468 3a20 3630 300a 2020 2020  :width: 600.    
+00015660: 2020 203a 616c 6967 6e3a 2063 656e 7465     :align: cente
+00015670: 720a 2020 2020 2e2e 206e 6f74 653a 3a0a  r.    .. note::.
+00015680: 2020 2020 2020 2054 6869 7320 6675 6e63         This func
+00015690: 7469 6f6e 2063 726f 7073 2074 6865 2069  tion crops the i
+000156a0: 6e70 7574 2076 6964 656f 2062 6173 6564  nput video based
+000156b0: 206f 6e20 6369 7263 756c 6172 2072 6567   on circular reg
+000156c0: 696f 6e73 206f 6620 696e 7465 7265 7374  ions of interest
+000156d0: 2028 524f 4973 2920 7365 6c65 6374 6564   (ROIs) selected
+000156e0: 2062 7920 7468 6520 7573 6572 2e0a 2020   by the user..  
+000156f0: 2020 2020 2054 6865 2075 7365 7220 6973       The user is
+00015700: 2070 726f 6d70 7465 6420 746f 2073 656c   prompted to sel
+00015710: 6563 7420 6120 6369 7263 756c 6172 2052  ect a circular R
+00015720: 4f49 206f 6e20 7468 6520 7669 6465 6f20  OI on the video 
+00015730: 6672 616d 652c 2061 6e64 2074 6865 2066  frame, and the f
+00015740: 756e 6374 696f 6e20 7468 656e 2063 726f  unction then cro
+00015750: 7073 2074 6865 2076 6964 656f 0a20 2020  ps the video.   
+00015760: 2020 2020 6261 7365 6420 6f6e 2074 6865      based on the
+00015770: 2073 656c 6563 7465 6420 524f 492e 2054   selected ROI. T
+00015780: 6865 2063 726f 7070 6564 2076 6964 656f  he cropped video
+00015790: 2069 7320 7361 7665 6420 7769 7468 2022   is saved with "
+000157a0: 5f63 6972 636c 655f 6372 6f70 7065 6422  _circle_cropped"
+000157b0: 2073 7566 6669 7820 696e 2074 6865 2073   suffix in the s
+000157c0: 616d 6520 6469 7265 6374 6f72 790a 2020  ame directory.  
+000157d0: 2020 2020 2061 7320 7468 6520 696e 7075       as the inpu
+000157e0: 7420 7669 6465 6f20 6669 6c65 2e0a 0a20  t video file... 
+000157f0: 2020 203a 7061 7261 6d20 2055 6e69 6f6e     :param  Union
+00015800: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
+00015810: 655d 2066 696c 655f 7061 7468 3a20 5468  e] file_path: Th
+00015820: 6520 7061 7468 2074 6f20 7468 6520 696e  e path to the in
+00015830: 7075 7420 7669 6465 6f20 6669 6c65 2e0a  put video file..
+00015840: 0a20 2020 203a 6578 616d 706c 653a 0a20  .    :example:. 
+00015850: 2020 203e 3e3e 2063 726f 705f 7369 6e67     >>> crop_sing
+00015860: 6c65 5f76 6964 656f 5f63 6972 636c 6528  le_video_circle(
+00015870: 6669 6c65 5f70 6174 683d 272f 5573 6572  file_path='/User
+00015880: 732f 7369 6d6f 6e2f 4465 736b 746f 702f  s/simon/Desktop/
+00015890: 4147 4752 4553 5349 5649 5459 5f34 5f31  AGGRESSIVITY_4_1
+000158a0: 315f 3231 5f54 7269 616c 5f32 5f63 616d  1_21_Trial_2_cam
+000158b0: 6572 6131 5f72 6f74 6174 6564 5f32 3032  era1_rotated_202
+000158c0: 3430 3231 3131 3433 3335 352e 6d70 3427  40211143355.mp4'
+000158d0: 290a 2020 2020 2222 220a 0a20 2020 2064  ).    """..    d
+000158e0: 6972 2c20 7669 6465 6f5f 6e61 6d65 2c20  ir, video_name, 
+000158f0: 5f20 3d20 6765 745f 666e 5f65 7874 2866  _ = get_fn_ext(f
+00015900: 696c 6570 6174 683d 6669 6c65 5f70 6174  ilepath=file_pat
+00015910: 6829 0a20 2020 2073 6176 655f 7061 7468  h).    save_path
+00015920: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
+00015930: 6469 722c 2066 227b 7669 6465 6f5f 6e61  dir, f"{video_na
+00015940: 6d65 7d5f 6369 7263 6c65 5f63 726f 7070  me}_circle_cropp
+00015950: 6564 2e6d 7034 2229 0a20 2020 2076 6964  ed.mp4").    vid
+00015960: 656f 5f6d 6574 615f 6461 7461 203d 2067  eo_meta_data = g
+00015970: 6574 5f76 6964 656f 5f6d 6574 615f 6461  et_video_meta_da
+00015980: 7461 2876 6964 656f 5f70 6174 683d 6669  ta(video_path=fi
+00015990: 6c65 5f70 6174 6829 0a20 2020 2063 6865  le_path).    che
+000159a0: 636b 5f66 696c 655f 6578 6973 745f 616e  ck_file_exist_an
+000159b0: 645f 7265 6164 6162 6c65 2866 696c 655f  d_readable(file_
+000159c0: 7061 7468 3d66 696c 655f 7061 7468 290a  path=file_path).
+000159d0: 2020 2020 6369 7263 6c65 5f73 656c 6563      circle_selec
+000159e0: 746f 7220 3d20 524f 4953 656c 6563 746f  tor = ROISelecto
+000159f0: 7243 6972 636c 6528 7061 7468 3d66 696c  rCircle(path=fil
+00015a00: 655f 7061 7468 290a 2020 2020 6369 7263  e_path).    circ
+00015a10: 6c65 5f73 656c 6563 746f 722e 7275 6e28  le_selector.run(
+00015a20: 290a 2020 2020 7469 6d65 7220 3d20 5369  ).    timer = Si
+00015a30: 6d62 6154 696d 6572 2873 7461 7274 3d54  mbaTimer(start=T
+00015a40: 7275 6529 0a20 2020 2072 203d 2063 6972  rue).    r = cir
+00015a50: 636c 655f 7365 6c65 6374 6f72 2e63 6972  cle_selector.cir
+00015a60: 636c 655f 7261 6469 7573 0a20 2020 2078  cle_radius.    x
+00015a70: 2c20 7920 3d20 6369 7263 6c65 5f73 656c  , y = circle_sel
+00015a80: 6563 746f 722e 6369 7263 6c65 5f63 656e  ector.circle_cen
+00015a90: 7465 725b 305d 2c20 6369 7263 6c65 5f73  ter[0], circle_s
+00015aa0: 656c 6563 746f 722e 6369 7263 6c65 5f63  elector.circle_c
+00015ab0: 656e 7465 725b 315d 0a20 2020 2070 6f6c  enter[1].    pol
+00015ac0: 7967 6f6e 203d 2050 6f6c 7967 6f6e 285b  ygon = Polygon([
+00015ad0: 2878 202b 2072 202a 206e 702e 636f 7328  (x + r * np.cos(
+00015ae0: 616e 676c 6529 2c20 7920 2b20 7220 2a20  angle), y + r * 
+00015af0: 6e70 2e73 696e 2861 6e67 6c65 2929 2066  np.sin(angle)) f
+00015b00: 6f72 2061 6e67 6c65 2069 6e20 6e70 2e6c  or angle in np.l
+00015b10: 696e 7370 6163 6528 302c 2032 202a 206e  inspace(0, 2 * n
+00015b20: 702e 7069 2c20 3130 3029 5d29 0a20 2020  p.pi, 100)]).   
+00015b30: 2070 6f6c 7967 6f6e 7320 3d20 5b70 6f6c   polygons = [pol
+00015b40: 7967 6f6e 2066 6f72 2078 2069 6e20 7261  ygon for x in ra
+00015b50: 6e67 6528 7669 6465 6f5f 6d65 7461 5f64  nge(video_meta_d
+00015b60: 6174 615b 2266 7261 6d65 5f63 6f75 6e74  ata["frame_count
+00015b70: 225d 295d 0a20 2020 2069 6620 2870 6c61  "])].    if (pla
+00015b80: 7466 6f72 6d2e 7379 7374 656d 2829 203d  tform.system() =
+00015b90: 3d20 2244 6172 7769 6e22 2920 616e 6420  = "Darwin") and 
+00015ba0: 286d 756c 7469 7072 6f63 6573 7369 6e67  (multiprocessing
+00015bb0: 2e67 6574 5f73 7461 7274 5f6d 6574 686f  .get_start_metho
+00015bc0: 6428 2920 6973 204e 6f6e 6529 3a0a 2020  d() is None):.  
+00015bd0: 2020 2020 2020 6d75 6c74 6970 726f 6365        multiproce
+00015be0: 7373 696e 672e 7365 745f 7374 6172 745f  ssing.set_start_
+00015bf0: 6d65 7468 6f64 2822 7370 6177 6e22 2c20  method("spawn", 
+00015c00: 666f 7263 653d 5472 7565 290a 2020 2020  force=True).    
+00015c10: 706f 6c79 676f 6e73 203d 2049 6d61 6765  polygons = Image
+00015c20: 4d69 7869 6e28 292e 736c 6963 655f 7368  Mixin().slice_sh
+00015c30: 6170 6573 5f69 6e5f 696d 6773 2869 6d67  apes_in_imgs(img
+00015c40: 733d 6669 6c65 5f70 6174 682c 2073 6861  s=file_path, sha
+00015c50: 7065 733d 706f 6c79 676f 6e73 2c20 7665  pes=polygons, ve
+00015c60: 7262 6f73 653d 4661 6c73 6529 0a20 2020  rbose=False).   
+00015c70: 2074 696d 652e 736c 6565 7028 3329 0a20   time.sleep(3). 
+00015c80: 2020 205f 203d 2049 6d61 6765 4d69 7869     _ = ImageMixi
+00015c90: 6e2e 696d 675f 7374 6163 6b5f 746f 5f76  n.img_stack_to_v
+00015ca0: 6964 656f 2869 6d67 733d 706f 6c79 676f  ideo(imgs=polygo
+00015cb0: 6e73 2c20 7361 7665 5f70 6174 683d 7361  ns, save_path=sa
+00015cc0: 7665 5f70 6174 682c 2066 7073 3d76 6964  ve_path, fps=vid
+00015cd0: 656f 5f6d 6574 615f 6461 7461 5b22 6670  eo_meta_data["fp
+00015ce0: 7322 5d29 0a20 2020 2074 696d 6572 2e73  s"]).    timer.s
+00015cf0: 746f 705f 7469 6d65 7228 290a 2020 2020  top_timer().    
+00015d00: 7374 646f 7574 5f73 7563 6365 7373 286d  stdout_success(m
+00015d10: 7367 3d66 2243 6972 636c 652d 6261 7365  sg=f"Circle-base
+00015d20: 6420 6372 6f70 7065 6420 7361 7665 6420  d cropped saved 
+00015d30: 6174 2074 6f20 7b73 6176 655f 7061 7468  at to {save_path
+00015d40: 7d22 2c20 656c 6170 7365 645f 7469 6d65  }", elapsed_time
+00015d50: 3d74 696d 6572 2e65 6c61 7073 6564 5f74  =timer.elapsed_t
+00015d60: 696d 655f 7374 722c 290a 0a0a 6465 6620  ime_str,)...def 
+00015d70: 6372 6f70 5f6d 756c 7469 706c 655f 7669  crop_multiple_vi
+00015d80: 6465 6f73 5f63 6972 636c 6573 2869 6e5f  deos_circles(in_
+00015d90: 6469 723a 2055 6e69 6f6e 5b73 7472 2c20  dir: Union[str, 
+00015da0: 6f73 2e50 6174 684c 696b 655d 2c20 6f75  os.PathLike], ou
+00015db0: 745f 6469 723a 2055 6e69 6f6e 5b73 7472  t_dir: Union[str
+00015dc0: 2c20 6f73 2e50 6174 684c 696b 655d 2920  , os.PathLike]) 
+00015dd0: 2d3e 204e 6f6e 653a 0a20 2020 2022 2222  -> None:.    """
+00015de0: 0a20 2020 2043 726f 7020 6d75 6c74 6970  .    Crop multip
+00015df0: 6c65 2076 6964 656f 7320 6261 7365 6420  le videos based 
+00015e00: 6f6e 2063 6972 6375 6c61 7220 7265 6769  on circular regi
+00015e10: 6f6e 7320 6f66 2069 6e74 6572 6573 7420  ons of interest 
+00015e20: 2852 4f49 7329 2073 656c 6563 7465 6420  (ROIs) selected 
+00015e30: 6279 2074 6865 2075 7365 722e 0a0a 0a20  by the user.... 
+00015e40: 2020 202e 2e20 696d 6167 653a 3a20 5f73     .. image:: _s
+00015e50: 7461 7469 632f 696d 672f 6372 6f70 5f73  tatic/img/crop_s
+00015e60: 696e 676c 655f 7669 6465 6f5f 6369 7263  ingle_video_circ
+00015e70: 6c65 2e67 6966 0a20 2020 2020 2020 3a77  le.gif.       :w
+00015e80: 6964 7468 3a20 3630 300a 2020 2020 2020  idth: 600.      
+00015e90: 203a 616c 6967 6e3a 2063 656e 7465 720a   :align: center.
+00015ea0: 0a20 2020 202e 2e20 6e6f 7465 3a3a 0a20  .    .. note::. 
+00015eb0: 2020 2020 2020 5468 6973 2066 756e 6374        This funct
+00015ec0: 696f 6e20 6372 6f70 7320 6d75 6c74 6970  ion crops multip
+00015ed0: 6c65 2076 6964 656f 7320 6261 7365 6420  le videos based 
+00015ee0: 6f6e 2063 6972 6375 6c61 7220 524f 4973  on circular ROIs
+00015ef0: 2073 656c 6563 7465 6420 6279 2074 6865   selected by the
+00015f00: 2075 7365 722e 0a20 2020 2020 2020 5468   user..       Th
+00015f10: 6520 7573 6572 2069 7320 6173 6b65 6420  e user is asked 
+00015f20: 746f 2064 6566 696e 6520 6120 6369 7263  to define a circ
+00015f30: 6c65 206d 616e 7561 6c6c 7920 696e 206f  le manually in o
+00015f40: 6e65 2076 6964 656f 2077 6974 6869 6e20  ne video within 
+00015f50: 7468 6520 696e 7075 7420 6469 7265 6374  the input direct
+00015f60: 6f72 792e 0a20 2020 2020 2020 5468 6520  ory..       The 
+00015f70: 6675 6e63 7469 6f6e 2074 6865 6e20 6372  function then cr
+00015f80: 6f70 7320 616c 6c20 7468 6520 7669 6465  ops all the vide
+00015f90: 6f20 696e 2074 6865 2069 6e70 7574 2064  o in the input d
+00015fa0: 6972 6563 746f 7279 2061 6363 6f72 6469  irectory accordi
+00015fb0: 6e67 2074 6f20 7468 6520 7368 6170 6520  ng to the shape 
+00015fc0: 6465 6669 6e65 640a 2020 2020 2020 2075  defined.       u
+00015fd0: 7369 6e67 2074 6865 2066 6972 7374 2076  sing the first v
+00015fe0: 6964 656f 2061 6e64 2073 6176 6573 2074  ideo and saves t
+00015ff0: 6865 2076 6964 656f 7320 696e 2074 6865  he videos in the
+00016000: 2060 606f 7574 5f64 6972 6060 2077 6974   ``out_dir`` wit
+00016010: 6820 7468 6520 7361 6d65 2066 696c 656e  h the same filen
+00016020: 616d 6573 2061 7320 7468 6520 6f72 6967  ames as the orig
+00016030: 696e 616c 2076 6964 656f 732e 2e0a 0a0a  inal videos.....
+00016040: 0a20 2020 203a 7061 7261 6d20 2055 6e69  .    :param  Uni
+00016050: 6f6e 5b73 7472 2c20 6f73 2e50 6174 684c  on[str, os.PathL
+00016060: 696b 655d 2069 6e5f 6469 723a 2054 6865  ike] in_dir: The
+00016070: 2064 6972 6563 746f 7279 2063 6f6e 7461   directory conta
+00016080: 696e 696e 6720 696e 7075 7420 7669 6465  ining input vide
+00016090: 6f20 6669 6c65 732e 0a20 2020 203a 7061  o files..    :pa
+000160a0: 7261 6d20 2055 6e69 6f6e 5b73 7472 2c20  ram  Union[str, 
+000160b0: 6f73 2e50 6174 684c 696b 655d 206f 7574  os.PathLike] out
+000160c0: 5f64 6972 3a20 5468 6520 6469 7265 6374  _dir: The direct
+000160d0: 6f72 7920 746f 2073 6176 6520 7468 6520  ory to save the 
+000160e0: 6372 6f70 7065 6420 7669 6465 6f20 6669  cropped video fi
+000160f0: 6c65 732e 0a0a 0a20 2020 203a 6578 616d  les....    :exam
+00016100: 706c 653a 0a20 2020 203e 3e3e 2063 726f  ple:.    >>> cro
+00016110: 705f 6d75 6c74 6970 6c65 5f76 6964 656f  p_multiple_video
+00016120: 735f 6369 7263 6c65 7328 696e 5f64 6972  s_circles(in_dir
+00016130: 3d27 2f55 7365 7273 2f73 696d 6f6e 2f44  ='/Users/simon/D
+00016140: 6573 6b74 6f70 2f65 6469 7465 642f 7465  esktop/edited/te
+00016150: 7374 7327 2c20 6f75 745f 6469 723d 272f  sts', out_dir='/
+00016160: 5573 6572 732f 7369 6d6f 6e2f 4465 736b  Users/simon/Desk
+00016170: 746f 7027 290a 2020 2020 2222 220a 0a20  top').    """.. 
+00016180: 2020 2063 6865 636b 5f69 665f 6469 725f     check_if_dir_
+00016190: 6578 6973 7473 2869 6e5f 6469 723d 696e  exists(in_dir=in
+000161a0: 5f64 6972 290a 2020 2020 6368 6563 6b5f  _dir).    check_
+000161b0: 6966 5f64 6972 5f65 7869 7374 7328 696e  if_dir_exists(in
+000161c0: 5f64 6972 3d6f 7574 5f64 6972 290a 2020  _dir=out_dir).  
+000161d0: 2020 7669 6465 6f5f 6669 6c65 7320 3d20    video_files = 
+000161e0: 6669 6e64 5f61 6c6c 5f76 6964 656f 735f  find_all_videos_
+000161f0: 696e 5f64 6972 6563 746f 7279 2864 6972  in_directory(dir
+00016200: 6563 746f 7279 3d69 6e5f 6469 7229 0a20  ectory=in_dir). 
+00016210: 2020 2063 6972 636c 655f 7365 6c65 6374     circle_select
+00016220: 6f72 203d 2052 4f49 5365 6c65 6374 6f72  or = ROISelector
+00016230: 4369 7263 6c65 2870 6174 683d 6f73 2e70  Circle(path=os.p
+00016240: 6174 682e 6a6f 696e 2869 6e5f 6469 722c  ath.join(in_dir,
+00016250: 2076 6964 656f 5f66 696c 6573 5b30 5d29   video_files[0])
+00016260: 290a 2020 2020 6369 7263 6c65 5f73 656c  ).    circle_sel
+00016270: 6563 746f 722e 7275 6e28 290a 2020 2020  ector.run().    
+00016280: 7220 3d20 6369 7263 6c65 5f73 656c 6563  r = circle_selec
+00016290: 746f 722e 6369 7263 6c65 5f72 6164 6975  tor.circle_radiu
+000162a0: 730a 2020 2020 782c 2079 203d 2063 6972  s.    x, y = cir
+000162b0: 636c 655f 7365 6c65 6374 6f72 2e63 6972  cle_selector.cir
+000162c0: 636c 655f 6365 6e74 6572 5b30 5d2c 2063  cle_center[0], c
+000162d0: 6972 636c 655f 7365 6c65 6374 6f72 2e63  ircle_selector.c
+000162e0: 6972 636c 655f 6365 6e74 6572 5b31 5d0a  ircle_center[1].
+000162f0: 2020 2020 706f 6c79 676f 6e20 3d20 506f      polygon = Po
+00016300: 6c79 676f 6e28 0a20 2020 2020 2020 205b  lygon(.        [
+00016310: 0a20 2020 2020 2020 2020 2020 2028 7820  .            (x 
+00016320: 2b20 7220 2a20 6e70 2e63 6f73 2861 6e67  + r * np.cos(ang
+00016330: 6c65 292c 2079 202b 2072 202a 206e 702e  le), y + r * np.
+00016340: 7369 6e28 616e 676c 6529 290a 2020 2020  sin(angle)).    
+00016350: 2020 2020 2020 2020 666f 7220 616e 676c          for angl
+00016360: 6520 696e 206e 702e 6c69 6e73 7061 6365  e in np.linspace
+00016370: 2830 2c20 3220 2a20 6e70 2e70 692c 2031  (0, 2 * np.pi, 1
+00016380: 3030 290a 2020 2020 2020 2020 5d0a 2020  00).        ].  
+00016390: 2020 290a 2020 2020 7469 6d65 7220 3d20    ).    timer = 
+000163a0: 5369 6d62 6154 696d 6572 2873 7461 7274  SimbaTimer(start
+000163b0: 3d54 7275 6529 0a20 2020 2069 6620 2870  =True).    if (p
+000163c0: 6c61 7466 6f72 6d2e 7379 7374 656d 2829  latform.system()
+000163d0: 203d 3d20 2244 6172 7769 6e22 2920 616e   == "Darwin") an
+000163e0: 6420 286d 756c 7469 7072 6f63 6573 7369  d (multiprocessi
+000163f0: 6e67 2e67 6574 5f73 7461 7274 5f6d 6574  ng.get_start_met
+00016400: 686f 6428 2920 6973 204e 6f6e 6529 3a0a  hod() is None):.
+00016410: 2020 2020 2020 2020 6d75 6c74 6970 726f          multipro
+00016420: 6365 7373 696e 672e 7365 745f 7374 6172  cessing.set_star
+00016430: 745f 6d65 7468 6f64 2822 7370 6177 6e22  t_method("spawn"
+00016440: 2c20 666f 7263 653d 4661 6c73 6529 0a20  , force=False). 
+00016450: 2020 2066 6f72 2076 6964 656f 5f63 6e74     for video_cnt
+00016460: 2c20 7669 6465 6f5f 7061 7468 2069 6e20  , video_path in 
+00016470: 656e 756d 6572 6174 6528 7669 6465 6f5f  enumerate(video_
+00016480: 6669 6c65 7329 3a0a 2020 2020 2020 2020  files):.        
+00016490: 7072 696e 7428 0a20 2020 2020 2020 2020  print(.         
+000164a0: 2020 2066 2243 6972 636c 6520 6372 6f70     f"Circle crop
+000164b0: 7069 6e67 2076 6964 656f 207b 7669 6465  ping video {vide
+000164c0: 6f5f 7061 7468 7d20 287b 7669 6465 6f5f  o_path} ({video_
+000164d0: 636e 742b 317d 2f7b 6c65 6e28 7669 6465  cnt+1}/{len(vide
+000164e0: 6f5f 6669 6c65 7329 7d29 2e2e 2e22 0a20  o_files)})...". 
+000164f0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00016500: 2076 6964 656f 5f70 6174 6820 3d20 6f73   video_path = os
+00016510: 2e70 6174 682e 6a6f 696e 2869 6e5f 6469  .path.join(in_di
+00016520: 722c 2076 6964 656f 5f70 6174 6829 0a20  r, video_path). 
+00016530: 2020 2020 2020 205f 2c20 7669 6465 6f5f         _, video_
+00016540: 6e61 6d65 2c20 5f20 3d20 6765 745f 666e  name, _ = get_fn
+00016550: 5f65 7874 2866 696c 6570 6174 683d 7669  _ext(filepath=vi
+00016560: 6465 6f5f 7061 7468 290a 2020 2020 2020  deo_path).      
+00016570: 2020 7361 7665 5f70 6174 6820 3d20 6f73    save_path = os
+00016580: 2e70 6174 682e 6a6f 696e 286f 7574 5f64  .path.join(out_d
+00016590: 6972 2c20 6622 7b76 6964 656f 5f6e 616d  ir, f"{video_nam
+000165a0: 657d 2e6d 7034 2229 0a20 2020 2020 2020  e}.mp4").       
+000165b0: 2076 6964 656f 5f6d 6574 615f 6461 7461   video_meta_data
+000165c0: 203d 2067 6574 5f76 6964 656f 5f6d 6574   = get_video_met
+000165d0: 615f 6461 7461 2876 6964 656f 5f70 6174  a_data(video_pat
+000165e0: 683d 7669 6465 6f5f 7061 7468 290a 2020  h=video_path).  
+000165f0: 2020 2020 2020 706f 6c79 676f 6e73 203d        polygons =
+00016600: 205b 706f 6c79 676f 6e20 666f 7220 7820   [polygon for x 
+00016610: 696e 2072 616e 6765 2876 6964 656f 5f6d  in range(video_m
+00016620: 6574 615f 6461 7461 5b22 6672 616d 655f  eta_data["frame_
+00016630: 636f 756e 7422 5d29 5d0a 2020 2020 2020  count"])].      
+00016640: 2020 706f 6c79 676f 6e73 203d 2049 6d61    polygons = Ima
+00016650: 6765 4d69 7869 6e28 292e 736c 6963 655f  geMixin().slice_
+00016660: 7368 6170 6573 5f69 6e5f 696d 6773 280a  shapes_in_imgs(.
+00016670: 2020 2020 2020 2020 2020 2020 696d 6773              imgs
+00016680: 3d76 6964 656f 5f70 6174 682c 2073 6861  =video_path, sha
+00016690: 7065 733d 706f 6c79 676f 6e73 2c20 7665  pes=polygons, ve
+000166a0: 7262 6f73 653d 4661 6c73 650a 2020 2020  rbose=False.    
+000166b0: 2020 2020 290a 2020 2020 2020 2020 7469      ).        ti
+000166c0: 6d65 2e73 6c65 6570 2831 290a 2020 2020  me.sleep(1).    
+000166d0: 2020 2020 5f20 3d20 496d 6167 654d 6978      _ = ImageMix
+000166e0: 696e 2e69 6d67 5f73 7461 636b 5f74 6f5f  in.img_stack_to_
+000166f0: 7669 6465 6f28 0a20 2020 2020 2020 2020  video(.         
+00016700: 2020 2069 6d67 733d 706f 6c79 676f 6e73     imgs=polygons
+00016710: 2c20 7361 7665 5f70 6174 683d 7361 7665  , save_path=save
+00016720: 5f70 6174 682c 2066 7073 3d76 6964 656f  _path, fps=video
+00016730: 5f6d 6574 615f 6461 7461 5b22 6670 7322  _meta_data["fps"
+00016740: 5d0a 2020 2020 2020 2020 290a 2020 2020  ].        ).    
+00016750: 7469 6d65 722e 7374 6f70 5f74 696d 6572  timer.stop_timer
+00016760: 2829 0a20 2020 2073 7464 6f75 745f 7375  ().    stdout_su
+00016770: 6363 6573 7328 0a20 2020 2020 2020 206d  ccess(.        m
+00016780: 7367 3d66 2243 6972 636c 652d 6261 7365  sg=f"Circle-base
+00016790: 6420 6372 6f70 7065 6420 7b6c 656e 2876  d cropped {len(v
+000167a0: 6964 656f 5f66 696c 6573 297d 2066 696c  ideo_files)} fil
+000167b0: 6573 2074 6f20 6469 7265 6374 6f72 7920  es to directory 
+000167c0: 7b6f 7574 5f64 6972 7d22 2c0a 2020 2020  {out_dir}",.    
+000167d0: 2020 2020 656c 6170 7365 645f 7469 6d65      elapsed_time
+000167e0: 3d74 696d 6572 2e65 6c61 7073 6564 5f74  =timer.elapsed_t
+000167f0: 696d 655f 7374 722c 0a20 2020 2029 0a0a  ime_str,.    )..
+00016800: 0a64 6566 2063 726f 705f 7369 6e67 6c65  .def crop_single
+00016810: 5f76 6964 656f 5f70 6f6c 7967 6f6e 2866  _video_polygon(f
+00016820: 696c 655f 7061 7468 3a20 556e 696f 6e5b  ile_path: Union[
+00016830: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
+00016840: 5d29 202d 3e20 4e6f 6e65 3a0a 2020 2020  ]) -> None:.    
+00016850: 2222 220a 2020 2020 4372 6f70 2061 2076  """.    Crop a v
+00016860: 6964 656f 2062 6173 6564 206f 6e20 706f  ideo based on po
+00016870: 6c79 676f 6e61 6c20 7265 6769 6f6e 7320  lygonal regions 
+00016880: 6f66 2069 6e74 6572 6573 7420 2852 4f49  of interest (ROI
+00016890: 7329 2073 656c 6563 7465 6420 6279 2074  s) selected by t
+000168a0: 6865 2075 7365 722e 0a0a 2020 2020 2e2e  he user...    ..
+000168b0: 2069 6d61 6765 3a3a 205f 7374 6174 6963   image:: _static
+000168c0: 2f69 6d67 2f72 6f69 5f73 656c 6563 746f  /img/roi_selecto
+000168d0: 725f 706f 6c79 676f 6e2e 6769 660a 2020  r_polygon.gif.  
+000168e0: 2020 2020 203a 7769 6474 683a 2034 3030       :width: 400
+000168f0: 0a20 2020 2020 2020 3a61 6c69 676e 3a20  .       :align: 
+00016900: 6365 6e74 6572 0a0a 2020 2020 3a70 6172  center..    :par
+00016910: 616d 2020 556e 696f 6e5b 7374 722c 206f  am  Union[str, o
+00016920: 732e 5061 7468 4c69 6b65 5d20 6669 6c65  s.PathLike] file
+00016930: 5f70 6174 683a 2054 6865 2070 6174 6820  _path: The path 
+00016940: 746f 2074 6865 2069 6e70 7574 2076 6964  to the input vid
+00016950: 656f 2066 696c 652e 0a0a 2020 2020 2e2e  eo file...    ..
+00016960: 206e 6f74 653a 3a0a 2020 2020 2020 2054   note::.       T
+00016970: 6869 7320 6675 6e63 7469 6f6e 2063 726f  his function cro
+00016980: 7073 2074 6865 2069 6e70 7574 2076 6964  ps the input vid
+00016990: 656f 2062 6173 6564 206f 6e20 706f 6c79  eo based on poly
+000169a0: 676f 6e61 6c20 7265 6769 6f6e 7320 6f66  gonal regions of
+000169b0: 2069 6e74 6572 6573 7420 2852 4f49 7329   interest (ROIs)
+000169c0: 2073 656c 6563 7465 6420 6279 2074 6865   selected by the
+000169d0: 2075 7365 722e 0a20 2020 2020 2020 5468   user..       Th
+000169e0: 6520 7573 6572 2069 7320 7072 6f6d 7074  e user is prompt
+000169f0: 6564 2074 6f20 7365 6c65 6374 2061 2070  ed to select a p
+00016a00: 6f6c 7967 6f6e 616c 2052 4f49 206f 6e20  olygonal ROI on 
+00016a10: 7468 6520 7669 6465 6f20 6672 616d 652c  the video frame,
+00016a20: 2061 6e64 2074 6865 2066 756e 6374 696f   and the functio
+00016a30: 6e20 7468 656e 2063 726f 7073 2074 6865  n then crops the
+00016a40: 2076 6964 656f 0a20 2020 2020 2020 6261   video.       ba
+00016a50: 7365 6420 6f6e 2074 6865 2073 656c 6563  sed on the selec
+00016a60: 7465 6420 524f 492e 2054 6865 2063 726f  ted ROI. The cro
+00016a70: 7070 6564 2076 6964 656f 2069 7320 7361  pped video is sa
+00016a80: 7665 6420 7769 7468 2022 5f70 6f6c 7967  ved with "_polyg
+00016a90: 6f6e 5f63 726f 7070 6564 2220 7375 6666  on_cropped" suff
+00016aa0: 6978 2069 6e20 7468 6520 7361 6d65 2064  ix in the same d
+00016ab0: 6972 6563 746f 7279 0a20 2020 2020 2020  irectory.       
+00016ac0: 6173 2074 6865 2069 6e70 7574 2076 6964  as the input vid
+00016ad0: 656f 2066 696c 652e 0a0a 2020 2020 3a65  eo file...    :e
+00016ae0: 7861 6d70 6c65 3a0a 2020 2020 3e3e 3e20  xample:.    >>> 
+00016af0: 6372 6f70 5f73 696e 676c 655f 7669 6465  crop_single_vide
+00016b00: 6f5f 706f 6c79 676f 6e28 6669 6c65 5f70  o_polygon(file_p
+00016b10: 6174 683d 272f 5573 6572 732f 7369 6d6f  ath='/Users/simo
+00016b20: 6e2f 4465 736b 746f 702f 4147 4752 4553  n/Desktop/AGGRES
+00016b30: 5349 5649 5459 5f34 5f31 315f 3231 5f54  SIVITY_4_11_21_T
+00016b40: 7269 616c 5f32 5f63 616d 6572 6131 5f72  rial_2_camera1_r
+00016b50: 6f74 6174 6564 5f32 3032 3430 3231 3131  otated_202402111
+00016b60: 3433 3335 352e 6d70 3427 290a 2020 2020  43355.mp4').    
+00016b70: 2222 220a 0a20 2020 2064 6972 2c20 7669  """..    dir, vi
+00016b80: 6465 6f5f 6e61 6d65 2c20 5f20 3d20 6765  deo_name, _ = ge
+00016b90: 745f 666e 5f65 7874 2866 696c 6570 6174  t_fn_ext(filepat
+00016ba0: 683d 6669 6c65 5f70 6174 6829 0a20 2020  h=file_path).   
+00016bb0: 2073 6176 655f 7061 7468 203d 206f 732e   save_path = os.
+00016bc0: 7061 7468 2e6a 6f69 6e28 6469 722c 2066  path.join(dir, f
+00016bd0: 227b 7669 6465 6f5f 6e61 6d65 7d5f 706f  "{video_name}_po
+00016be0: 6c79 676f 6e5f 6372 6f70 7065 642e 6d70  lygon_cropped.mp
+00016bf0: 3422 290a 2020 2020 7669 6465 6f5f 6d65  4").    video_me
+00016c00: 7461 5f64 6174 6120 3d20 6765 745f 7669  ta_data = get_vi
+00016c10: 6465 6f5f 6d65 7461 5f64 6174 6128 7669  deo_meta_data(vi
+00016c20: 6465 6f5f 7061 7468 3d66 696c 655f 7061  deo_path=file_pa
+00016c30: 7468 290a 2020 2020 6368 6563 6b5f 6669  th).    check_fi
+00016c40: 6c65 5f65 7869 7374 5f61 6e64 5f72 6561  le_exist_and_rea
+00016c50: 6461 626c 6528 6669 6c65 5f70 6174 683d  dable(file_path=
+00016c60: 6669 6c65 5f70 6174 6829 0a20 2020 2070  file_path).    p
+00016c70: 6f6c 7967 6f6e 5f73 656c 6563 746f 7220  olygon_selector 
+00016c80: 3d20 524f 4953 656c 6563 746f 7250 6f6c  = ROISelectorPol
+00016c90: 7967 6f6e 2870 6174 683d 6669 6c65 5f70  ygon(path=file_p
+00016ca0: 6174 6829 0a20 2020 2070 6f6c 7967 6f6e  ath).    polygon
+00016cb0: 5f73 656c 6563 746f 722e 7275 6e28 290a  _selector.run().
+00016cc0: 2020 2020 7469 6d65 7220 3d20 5369 6d62      timer = Simb
+00016cd0: 6154 696d 6572 2873 7461 7274 3d54 7275  aTimer(start=Tru
+00016ce0: 6529 0a20 2020 2076 6572 7469 6365 7320  e).    vertices 
+00016cf0: 3d20 706f 6c79 676f 6e5f 7365 6c65 6374  = polygon_select
+00016d00: 6f72 2e70 6f6c 7967 6f6e 5f76 6572 7469  or.polygon_verti
+00016d10: 6365 730a 2020 2020 706f 6c79 676f 6e20  ces.    polygon 
+00016d20: 3d20 506f 6c79 676f 6e28 7665 7274 6963  = Polygon(vertic
+00016d30: 6573 290a 2020 2020 706f 6c79 676f 6e73  es).    polygons
+00016d40: 203d 205b 706f 6c79 676f 6e20 666f 7220   = [polygon for 
+00016d50: 7820 696e 2072 616e 6765 2876 6964 656f  x in range(video
+00016d60: 5f6d 6574 615f 6461 7461 5b22 6672 616d  _meta_data["fram
+00016d70: 655f 636f 756e 7422 5d29 5d0a 2020 2020  e_count"])].    
+00016d80: 6966 2028 706c 6174 666f 726d 2e73 7973  if (platform.sys
+00016d90: 7465 6d28 2920 3d3d 2022 4461 7277 696e  tem() == "Darwin
+00016da0: 2229 2061 6e64 2028 6d75 6c74 6970 726f  ") and (multipro
+00016db0: 6365 7373 696e 672e 6765 745f 7374 6172  cessing.get_star
+00016dc0: 745f 6d65 7468 6f64 2829 2069 7320 4e6f  t_method() is No
+00016dd0: 6e65 293a 0a20 2020 2020 2020 206d 756c  ne):.        mul
+00016de0: 7469 7072 6f63 6573 7369 6e67 2e73 6574  tiprocessing.set
+00016df0: 5f73 7461 7274 5f6d 6574 686f 6428 2273  _start_method("s
+00016e00: 7061 776e 222c 2066 6f72 6365 3d46 616c  pawn", force=Fal
+00016e10: 7365 290a 2020 2020 706f 6c79 676f 6e73  se).    polygons
+00016e20: 203d 2049 6d61 6765 4d69 7869 6e28 292e   = ImageMixin().
+00016e30: 736c 6963 655f 7368 6170 6573 5f69 6e5f  slice_shapes_in_
+00016e40: 696d 6773 280a 2020 2020 2020 2020 696d  imgs(.        im
+00016e50: 6773 3d66 696c 655f 7061 7468 2c20 7368  gs=file_path, sh
+00016e60: 6170 6573 3d70 6f6c 7967 6f6e 732c 2076  apes=polygons, v
+00016e70: 6572 626f 7365 3d54 7275 650a 2020 2020  erbose=True.    
+00016e80: 290a 2020 2020 5f20 3d20 496d 6167 654d  ).    _ = ImageM
+00016e90: 6978 696e 2e69 6d67 5f73 7461 636b 5f74  ixin.img_stack_t
+00016ea0: 6f5f 7669 6465 6f28 0a20 2020 2020 2020  o_video(.       
+00016eb0: 2069 6d67 733d 706f 6c79 676f 6e73 2c20   imgs=polygons, 
+00016ec0: 7361 7665 5f70 6174 683d 7361 7665 5f70  save_path=save_p
+00016ed0: 6174 682c 2066 7073 3d76 6964 656f 5f6d  ath, fps=video_m
+00016ee0: 6574 615f 6461 7461 5b22 6670 7322 5d0a  eta_data["fps"].
+00016ef0: 2020 2020 290a 2020 2020 7469 6d65 722e      ).    timer.
+00016f00: 7374 6f70 5f74 696d 6572 2829 0a20 2020  stop_timer().   
+00016f10: 2073 7464 6f75 745f 7375 6363 6573 7328   stdout_success(
+00016f20: 0a20 2020 2020 2020 206d 7367 3d66 2250  .        msg=f"P
+00016f30: 6f6c 7967 6f6e 2d62 6173 6564 2063 726f  olygon-based cro
+00016f40: 7070 6564 2073 6176 6564 2061 7420 746f  pped saved at to
+00016f50: 207b 7361 7665 5f70 6174 687d 222c 0a20   {save_path}",. 
+00016f60: 2020 2020 2020 2065 6c61 7073 6564 5f74         elapsed_t
+00016f70: 696d 653d 7469 6d65 722e 656c 6170 7365  ime=timer.elapse
+00016f80: 645f 7469 6d65 5f73 7472 2c0a 2020 2020  d_time_str,.    
+00016f90: 290a 0a23 6372 6f70 5f73 696e 676c 655f  )..#crop_single_
+00016fa0: 7669 6465 6f5f 706f 6c79 676f 6e28 6669  video_polygon(fi
+00016fb0: 6c65 5f70 6174 683d 272f 5573 6572 732f  le_path='/Users/
+00016fc0: 7369 6d6f 6e2f 4465 736b 746f 702f 656e  simon/Desktop/en
+00016fd0: 7673 2f73 696d 6261 2f74 726f 7562 6c65  vs/simba/trouble
+00016fe0: 7368 6f6f 7469 6e67 2f73 706f 6e74 656e  shooting/sponten
+00016ff0: 6f75 735f 616c 7465 726e 6174 696f 6e2f  ous_alternation/
+00017000: 7072 6f6a 6563 745f 666f 6c64 6572 2f76  project_folder/v
+00017010: 6964 656f 732f 4631 2048 4142 2e6d 7034  ideos/F1 HAB.mp4
+00017020: 2729 0a0a 6465 6620 6372 6f70 5f6d 756c  ')..def crop_mul
+00017030: 7469 706c 655f 7669 6465 6f73 5f70 6f6c  tiple_videos_pol
+00017040: 7967 6f6e 7328 0a20 2020 2069 6e5f 6469  ygons(.    in_di
+00017050: 723a 2055 6e69 6f6e 5b73 7472 2c20 6f73  r: Union[str, os
+00017060: 2e50 6174 684c 696b 655d 2c20 6f75 745f  .PathLike], out_
+00017070: 6469 723a 2055 6e69 6f6e 5b73 7472 2c20  dir: Union[str, 
+00017080: 6f73 2e50 6174 684c 696b 655d 0a29 202d  os.PathLike].) -
+00017090: 3e20 4e6f 6e65 3a0a 2020 2020 2222 220a  > None:.    """.
+000170a0: 2020 2020 4372 6f70 206d 756c 7469 706c      Crop multipl
+000170b0: 6520 7669 6465 6f73 2062 6173 6564 206f  e videos based o
+000170c0: 6e20 706f 6c79 676f 6e61 6c20 7265 6769  n polygonal regi
+000170d0: 6f6e 7320 6f66 2069 6e74 6572 6573 7420  ons of interest 
+000170e0: 2852 4f49 7329 2073 656c 6563 7465 6420  (ROIs) selected 
+000170f0: 6279 2074 6865 2075 7365 722e 0a0a 2020  by the user...  
+00017100: 2020 3a70 6172 616d 2020 556e 696f 6e5b    :param  Union[
+00017110: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
+00017120: 5d20 696e 5f64 6972 3a20 5468 6520 6469  ] in_dir: The di
+00017130: 7265 6374 6f72 7920 636f 6e74 6169 6e69  rectory containi
+00017140: 6e67 2069 6e70 7574 2076 6964 656f 2066  ng input video f
+00017150: 696c 6573 2e0a 2020 2020 3a70 6172 616d  iles..    :param
+00017160: 2020 556e 696f 6e5b 7374 722c 206f 732e    Union[str, os.
+00017170: 5061 7468 4c69 6b65 5d20 6f75 745f 6469  PathLike] out_di
+00017180: 723a 2054 6865 2064 6972 6563 746f 7279  r: The directory
+00017190: 2074 6f20 7361 7665 2074 6865 2063 726f   to save the cro
+000171a0: 7070 6564 2076 6964 656f 2066 696c 6573  pped video files
+000171b0: 2e0a 0a20 2020 202e 2e20 6e6f 7465 3a3a  ...    .. note::
+000171c0: 0a20 2020 2020 2020 5468 6973 2066 756e  .       This fun
+000171d0: 6374 696f 6e20 6372 6f70 7320 6d75 6c74  ction crops mult
+000171e0: 6970 6c65 2076 6964 656f 7320 6261 7365  iple videos base
+000171f0: 6420 6f6e 2070 6f6c 7967 6f6e 616c 2052  d on polygonal R
+00017200: 4f49 7320 7365 6c65 6374 6564 2062 7920  OIs selected by 
+00017210: 7468 6520 7573 6572 2e0a 2020 2020 2020  the user..      
+00017220: 2054 6865 2075 7365 7220 6973 2061 736b   The user is ask
+00017230: 6564 2074 6f20 6465 6669 6e65 2061 2070  ed to define a p
+00017240: 6f6c 7967 6f6e 206d 616e 7561 6c6c 7920  olygon manually 
+00017250: 696e 206f 6e65 2076 6964 656f 2077 6974  in one video wit
+00017260: 6869 6e20 7468 6520 696e 7075 7420 6469  hin the input di
+00017270: 7265 6374 6f72 792e 0a20 2020 2020 2020  rectory..       
+00017280: 5468 6520 6675 6e63 7469 6f6e 2074 6865  The function the
+00017290: 6e20 6372 6f70 7320 616c 6c20 7468 6520  n crops all the 
+000172a0: 7669 6465 6f20 696e 2074 6865 2069 6e70  video in the inp
+000172b0: 7574 2064 6972 6563 746f 7279 2061 6363  ut directory acc
+000172c0: 6f72 6469 6e67 2074 6f20 7468 6520 7368  ording to the sh
+000172d0: 6170 6520 6465 6669 6e65 640a 2020 2020  ape defined.    
+000172e0: 2020 2075 7369 6e67 2074 6865 2066 6972     using the fir
+000172f0: 7374 2076 6964 656f 2061 6e64 2073 6176  st video and sav
+00017300: 6573 2074 6865 2076 6964 656f 7320 696e  es the videos in
+00017310: 2074 6865 2060 606f 7574 5f64 6972 6060   the ``out_dir``
+00017320: 2077 6974 6820 7468 6520 7361 6d65 2066   with the same f
+00017330: 696c 656e 616d 6573 2061 7320 7468 6520  ilenames as the 
+00017340: 6f72 6967 696e 616c 2076 6964 656f 732e  original videos.
+00017350: 2e0a 0a20 2020 203a 6578 616d 706c 653a  ...    :example:
+00017360: 0a20 2020 203e 3e3e 2063 726f 705f 6d75  .    >>> crop_mu
+00017370: 6c74 6970 6c65 5f76 6964 656f 735f 706f  ltiple_videos_po
+00017380: 6c79 676f 6e73 2869 6e5f 6469 723d 272f  lygons(in_dir='/
+00017390: 5573 6572 732f 7369 6d6f 6e2f 4465 736b  Users/simon/Desk
+000173a0: 746f 702f 6564 6974 6564 2f74 6573 7473  top/edited/tests
+000173b0: 272c 206f 7574 5f64 6972 3d27 2f55 7365  ', out_dir='/Use
+000173c0: 7273 2f73 696d 6f6e 2f44 6573 6b74 6f70  rs/simon/Desktop
+000173d0: 2729 0a20 2020 2022 2222 0a0a 2020 2020  ').    """..    
+000173e0: 6368 6563 6b5f 6966 5f64 6972 5f65 7869  check_if_dir_exi
+000173f0: 7374 7328 696e 5f64 6972 3d69 6e5f 6469  sts(in_dir=in_di
+00017400: 7229 0a20 2020 2063 6865 636b 5f69 665f  r).    check_if_
+00017410: 6469 725f 6578 6973 7473 2869 6e5f 6469  dir_exists(in_di
+00017420: 723d 6f75 745f 6469 7229 0a20 2020 2076  r=out_dir).    v
+00017430: 6964 656f 5f66 696c 6573 203d 2066 696e  ideo_files = fin
+00017440: 645f 616c 6c5f 7669 6465 6f73 5f69 6e5f  d_all_videos_in_
+00017450: 6469 7265 6374 6f72 7928 6469 7265 6374  directory(direct
+00017460: 6f72 793d 696e 5f64 6972 290a 2020 2020  ory=in_dir).    
+00017470: 706f 6c79 676f 6e5f 7365 6c65 6374 6f72  polygon_selector
+00017480: 203d 2052 4f49 5365 6c65 6374 6f72 506f   = ROISelectorPo
+00017490: 6c79 676f 6e28 7061 7468 3d6f 732e 7061  lygon(path=os.pa
+000174a0: 7468 2e6a 6f69 6e28 696e 5f64 6972 2c20  th.join(in_dir, 
+000174b0: 7669 6465 6f5f 6669 6c65 735b 305d 2929  video_files[0]))
+000174c0: 0a20 2020 2070 6f6c 7967 6f6e 5f73 656c  .    polygon_sel
+000174d0: 6563 746f 722e 7275 6e28 290a 2020 2020  ector.run().    
+000174e0: 7665 7274 6963 6573 203d 2070 6f6c 7967  vertices = polyg
+000174f0: 6f6e 5f73 656c 6563 746f 722e 706f 6c79  on_selector.poly
+00017500: 676f 6e5f 7665 7274 6963 6573 0a20 2020  gon_vertices.   
+00017510: 2070 6f6c 7967 6f6e 203d 2050 6f6c 7967   polygon = Polyg
+00017520: 6f6e 2876 6572 7469 6365 7329 0a20 2020  on(vertices).   
+00017530: 2074 696d 6572 203d 2053 696d 6261 5469   timer = SimbaTi
+00017540: 6d65 7228 7374 6172 743d 5472 7565 290a  mer(start=True).
+00017550: 2020 2020 666f 7220 7669 6465 6f5f 636e      for video_cn
+00017560: 742c 2076 6964 656f 5f70 6174 6820 696e  t, video_path in
+00017570: 2065 6e75 6d65 7261 7465 2876 6964 656f   enumerate(video
+00017580: 5f66 696c 6573 293a 0a20 2020 2020 2020  _files):.       
+00017590: 2070 7269 6e74 280a 2020 2020 2020 2020   print(.        
+000175a0: 2020 2020 6622 506f 6c79 676f 6e20 6372      f"Polygon cr
+000175b0: 6f70 7069 6e67 2076 6964 656f 207b 7669  opping video {vi
+000175c0: 6465 6f5f 7061 7468 7d20 287b 7669 6465  deo_path} ({vide
+000175d0: 6f5f 636e 742b 317d 2f7b 6c65 6e28 7669  o_cnt+1}/{len(vi
+000175e0: 6465 6f5f 6669 6c65 7329 7d29 2e2e 2e22  deo_files)})..."
+000175f0: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+00017600: 2020 2076 6964 656f 5f70 6174 6820 3d20     video_path = 
+00017610: 6f73 2e70 6174 682e 6a6f 696e 2869 6e5f  os.path.join(in_
+00017620: 6469 722c 2076 6964 656f 5f70 6174 6829  dir, video_path)
+00017630: 0a20 2020 2020 2020 205f 2c20 7669 6465  .        _, vide
+00017640: 6f5f 6e61 6d65 2c20 5f20 3d20 6765 745f  o_name, _ = get_
+00017650: 666e 5f65 7874 2866 696c 6570 6174 683d  fn_ext(filepath=
+00017660: 7669 6465 6f5f 7061 7468 290a 2020 2020  video_path).    
+00017670: 2020 2020 7361 7665 5f70 6174 6820 3d20      save_path = 
+00017680: 6f73 2e70 6174 682e 6a6f 696e 286f 7574  os.path.join(out
+00017690: 5f64 6972 2c20 6622 7b76 6964 656f 5f6e  _dir, f"{video_n
+000176a0: 616d 657d 2e6d 7034 2229 0a20 2020 2020  ame}.mp4").     
+000176b0: 2020 2076 6964 656f 5f6d 6574 615f 6461     video_meta_da
+000176c0: 7461 203d 2067 6574 5f76 6964 656f 5f6d  ta = get_video_m
+000176d0: 6574 615f 6461 7461 2876 6964 656f 5f70  eta_data(video_p
+000176e0: 6174 683d 7669 6465 6f5f 7061 7468 290a  ath=video_path).
+000176f0: 2020 2020 2020 2020 706f 6c79 676f 6e73          polygons
+00017700: 203d 205b 706f 6c79 676f 6e20 666f 7220   = [polygon for 
+00017710: 7820 696e 2072 616e 6765 2876 6964 656f  x in range(video
+00017720: 5f6d 6574 615f 6461 7461 5b22 6672 616d  _meta_data["fram
+00017730: 655f 636f 756e 7422 5d29 5d0a 2020 2020  e_count"])].    
+00017740: 2020 2020 706f 6c79 676f 6e73 203d 2049      polygons = I
+00017750: 6d61 6765 4d69 7869 6e28 292e 736c 6963  mageMixin().slic
+00017760: 655f 7368 6170 6573 5f69 6e5f 696d 6773  e_shapes_in_imgs
+00017770: 280a 2020 2020 2020 2020 2020 2020 696d  (.            im
+00017780: 6773 3d76 6964 656f 5f70 6174 682c 2073  gs=video_path, s
+00017790: 6861 7065 733d 706f 6c79 676f 6e73 2c20  hapes=polygons, 
+000177a0: 7665 7262 6f73 653d 4661 6c73 650a 2020  verbose=False.  
+000177b0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+000177c0: 5f20 3d20 496d 6167 654d 6978 696e 2e69  _ = ImageMixin.i
+000177d0: 6d67 5f73 7461 636b 5f74 6f5f 7669 6465  mg_stack_to_vide
+000177e0: 6f28 0a20 2020 2020 2020 2020 2020 2069  o(.            i
+000177f0: 6d67 733d 706f 6c79 676f 6e73 2c20 7361  mgs=polygons, sa
+00017800: 7665 5f70 6174 683d 7361 7665 5f70 6174  ve_path=save_pat
+00017810: 682c 2066 7073 3d76 6964 656f 5f6d 6574  h, fps=video_met
+00017820: 615f 6461 7461 5b22 6670 7322 5d0a 2020  a_data["fps"].  
+00017830: 2020 2020 2020 290a 2020 2020 7469 6d65        ).    time
+00017840: 722e 7374 6f70 5f74 696d 6572 2829 0a20  r.stop_timer(). 
+00017850: 2020 2073 7464 6f75 745f 7375 6363 6573     stdout_succes
+00017860: 7328 0a20 2020 2020 2020 206d 7367 3d66  s(.        msg=f
+00017870: 2250 6f6c 7967 6f6e 2d62 6173 6564 2063  "Polygon-based c
+00017880: 726f 7070 6564 207b 6c65 6e28 7669 6465  ropped {len(vide
+00017890: 6f5f 6669 6c65 7329 7d20 6669 6c65 7320  o_files)} files 
+000178a0: 746f 2064 6972 6563 746f 7279 207b 6f75  to directory {ou
+000178b0: 745f 6469 727d 222c 0a20 2020 2020 2020  t_dir}",.       
+000178c0: 2065 6c61 7073 6564 5f74 696d 653d 7469   elapsed_time=ti
+000178d0: 6d65 722e 656c 6170 7365 645f 7469 6d65  mer.elapsed_time
+000178e0: 5f73 7472 2c0a 2020 2020 290a 0a0a 6465  _str,.    )...de
+000178f0: 6620 7265 7369 7a65 5f76 6964 656f 735f  f resize_videos_
+00017900: 6279 5f68 6569 6768 7428 7669 6465 6f5f  by_height(video_
+00017910: 7061 7468 733a 204c 6973 745b 556e 696f  paths: List[Unio
+00017920: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
+00017930: 6b65 5d5d 2c0a 2020 2020 2020 2020 2020  ke]],.          
+00017940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017950: 2020 6865 6967 6874 3a20 556e 696f 6e5b    height: Union[
+00017960: 696e 742c 2073 7472 5d2c 0a20 2020 2020  int, str],.     
+00017970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017980: 2020 2020 2020 206f 7665 7277 7269 7465         overwrite
+00017990: 3a20 4f70 7469 6f6e 616c 5b62 6f6f 6c5d  : Optional[bool]
+000179a0: 203d 2046 616c 7365 2c0a 2020 2020 2020   = False,.      
+000179b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000179c0: 2020 2020 2020 7361 7665 5f64 6972 3a20        save_dir: 
+000179d0: 4f70 7469 6f6e 616c 5b55 6e69 6f6e 5b73  Optional[Union[s
+000179e0: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
+000179f0: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
+00017a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017a10: 2020 2020 2020 6770 753a 204f 7074 696f        gpu: Optio
+00017a20: 6e61 6c5b 626f 6f6c 5d20 3d20 4661 6c73  nal[bool] = Fals
+00017a30: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00017a40: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00017a50: 7566 6669 783a 204f 7074 696f 6e61 6c5b  uffix: Optional[
+00017a60: 7374 725d 203d 204e 6f6e 652c 0a20 2020  str] = None,.   
+00017a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017a80: 2020 2020 2020 2020 2076 6572 626f 7365           verbose
+00017a90: 3a20 4f70 7469 6f6e 616c 5b62 6f6f 6c5d  : Optional[bool]
+00017aa0: 203d 2054 7275 6529 202d 3e20 556e 696f   = True) -> Unio
+00017ab0: 6e5b 4e6f 6e65 2c20 4c69 7374 5b55 6e69  n[None, List[Uni
+00017ac0: 6f6e 5b4e 6f6e 652c 2073 7472 2c20 6f73  on[None, str, os
+00017ad0: 2e50 6174 684c 696b 655d 5d5d 3a0a 2020  .PathLike]]]:.  
+00017ae0: 2020 2222 220a 2020 2020 5265 2d73 697a    """.    Re-siz
+00017af0: 6520 6120 6c69 7374 206f 6620 7669 6465  e a list of vide
+00017b00: 6f73 2074 6f20 6120 7370 6563 6966 6965  os to a specifie
+00017b10: 6420 6865 6967 6874 2077 6869 6c65 2072  d height while r
+00017b20: 6574 6169 6e69 6e67 2074 6865 6972 2061  etaining their a
+00017b30: 7370 6563 7420 7261 7469 6f73 2e0a 0a20  spect ratios... 
+00017b40: 2020 203a 7061 7261 6d20 4c69 7374 5b55     :param List[U
+00017b50: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
+00017b60: 684c 696b 655d 5d20 7669 6465 6f5f 7061  hLike]] video_pa
+00017b70: 7468 733a 204c 6973 7420 6f66 2070 6174  ths: List of pat
+00017b80: 6820 746f 2076 6964 656f 732e 0a20 2020  h to videos..   
+00017b90: 203a 7061 7261 6d20 556e 696f 6e5b 696e   :param Union[in
+00017ba0: 742c 2073 7472 5d20 6865 6967 6874 3a20  t, str] height: 
+00017bb0: 5468 6520 6865 6967 6874 206f 6620 7468  The height of th
+00017bc0: 6520 6f75 7470 7574 2076 6964 656f 732e  e output videos.
+00017bd0: 2049 6620 696e 742c 2074 6865 6e20 7468   If int, then th
+00017be0: 6520 6865 6967 6874 2069 6e20 7069 7865  e height in pixe
+00017bf0: 6c73 2e20 4966 2073 7472 2c20 7468 656e  ls. If str, then
+00017c00: 2074 6865 2069 6e64 6578 2069 6e20 6060   the index in ``
+00017c10: 7669 6465 6f5f 7061 7468 7360 6020 6672  video_paths`` fr
+00017c20: 6f6d 2077 6869 6368 2074 6f20 6772 6162  om which to grab
+00017c30: 2074 6865 2068 6569 6768 742e 0a20 2020   the height..   
+00017c40: 203a 7061 7261 6d20 4f70 7469 6f6e 616c   :param Optional
+00017c50: 5b62 6f6f 6c5d 206f 7665 7277 7269 7465  [bool] overwrite
+00017c60: 3a20 4966 2054 7275 652c 2074 6865 6e20  : If True, then 
+00017c70: 6f76 6572 7772 6974 6573 2074 6865 206f  overwrites the o
+00017c80: 7269 6769 6e61 6c20 7669 6465 6f73 2e20  riginal videos. 
+00017c90: 4465 6661 756c 7420 4661 6c73 652e 0a20  Default False.. 
+00017ca0: 2020 203a 7061 7261 6d20 4f70 7469 6f6e     :param Option
+00017cb0: 616c 5b55 6e69 6f6e 5b73 7472 2c20 6f73  al[Union[str, os
+00017cc0: 2e50 6174 684c 696b 655d 5d20 7361 7665  .PathLike]] save
+00017cd0: 5f64 6972 3a20 4966 206e 6f74 204e 6f6e  _dir: If not Non
+00017ce0: 652c 2074 6865 6e20 7468 6520 6469 7265  e, then the dire
+00017cf0: 6374 6f72 7920 7768 6572 6520 746f 2073  ctory where to s
+00017d00: 746f 7265 2074 6865 2072 652d 7369 7a65  tore the re-size
+00017d10: 6420 7669 6465 6f73 2e0a 2020 2020 3a70  d videos..    :p
+00017d20: 6172 616d 204f 7074 696f 6e61 6c5b 626f  aram Optional[bo
+00017d30: 6f6c 5d20 6770 753a 2049 6620 5472 7565  ol] gpu: If True
+00017d40: 2c20 7468 656e 2075 7365 2046 466d 7065  , then use FFmpe
+00017d50: 6720 4750 5520 636f 6465 6373 2e20 4465  g GPU codecs. De
+00017d60: 6661 756c 7420 4661 6c73 652e 0a20 2020  fault False..   
+00017d70: 203a 7061 7261 6d20 4f70 7469 6f6e 616c   :param Optional
+00017d80: 5b62 6f6f 6c5d 2073 7566 6669 783a 2049  [bool] suffix: I
+00017d90: 6620 6e6f 7420 4e6f 6e65 2c20 7468 656e  f not None, then
+00017da0: 2073 746f 7265 7320 7468 6520 7265 7369   stores the resi
+00017db0: 7a65 6420 7669 6465 6f73 2069 6e20 7468  zed videos in th
+00017dc0: 6520 7361 6d65 2064 6972 6563 746f 7279  e same directory
+00017dd0: 2061 7320 7468 6520 696e 7075 7420 7669   as the input vi
+00017de0: 6465 6f73 2077 6974 6820 7468 6520 7072  deos with the pr
+00017df0: 6f76 6964 6564 2073 7566 6669 782e 0a20  ovided suffix.. 
+00017e00: 2020 203a 7061 7261 6d20 4f70 7469 6f6e     :param Option
+00017e10: 616c 5b62 6f6f 6c5d 2076 6572 626f 7365  al[bool] verbose
+00017e20: 3a20 4966 2054 7275 652c 2070 7269 6e74  : If True, print
+00017e30: 7320 7072 6f67 7265 7373 2e20 4465 6661  s progress. Defa
+00017e40: 756c 7420 5472 7565 2e0a 2020 2020 3a72  ult True..    :r
+00017e50: 6574 7572 6e20 556e 696f 6e5b 4e6f 6e65  eturn Union[None
+00017e60: 2c20 4c69 7374 5b55 6e69 6f6e 5b73 7472  , List[Union[str
+00017e70: 2c20 6f73 2e50 6174 684c 696b 655d 5d5d  , os.PathLike]]]
+00017e80: 3a20 4966 2073 6176 655f 6469 7220 6973  : If save_dir is
+00017e90: 206e 6f74 204e 6f6e 652c 2072 6574 7572   not None, retur
+00017ea0: 6e73 2074 6865 2070 6174 6873 206f 6620  ns the paths of 
+00017eb0: 7468 6520 7265 2d73 697a 6564 2076 6964  the re-sized vid
+00017ec0: 656f 732e 2045 6c73 6520 7265 7475 726e  eos. Else return
+00017ed0: 7320 656d 7074 7920 6c69 7374 2e0a 0a20  s empty list... 
+00017ee0: 2020 203a 6578 616d 706c 653a 0a20 2020     :example:.   
+00017ef0: 203e 3e3e 2076 6964 656f 5f70 6174 6873   >>> video_paths
+00017f00: 3d20 5b27 2f55 7365 7273 2f73 696d 6f6e  = ['/Users/simon
+00017f10: 2f44 6573 6b74 6f70 2f65 6e76 732f 7369  /Desktop/envs/si
+00017f20: 6d62 612f 7472 6f75 626c 6573 686f 6f74  mba/troubleshoot
+00017f30: 696e 672f 5241 545f 4e4f 522f 7072 6f6a  ing/RAT_NOR/proj
+00017f40: 6563 745f 666f 6c64 6572 2f76 6964 656f  ect_folder/video
+00017f50: 732f 7465 7374 2f30 3831 3032 3032 315f  s/test/08102021_
+00017f60: 444f 545f 5261 7437 5f38 2832 292e 6d70  DOT_Rat7_8(2).mp
+00017f70: 3427 2c20 272f 5573 6572 732f 7369 6d6f  4', '/Users/simo
+00017f80: 6e2f 4465 736b 746f 702f 656e 7673 2f73  n/Desktop/envs/s
+00017f90: 696d 6261 2f74 726f 7562 6c65 7368 6f6f  imba/troubleshoo
+00017fa0: 7469 6e67 2f52 4154 5f4e 4f52 2f70 726f  ting/RAT_NOR/pro
+00017fb0: 6a65 6374 5f66 6f6c 6465 722f 7669 6465  ject_folder/vide
+00017fc0: 6f73 2f74 6573 742f 3038 3130 3230 3231  os/test/08102021
+00017fd0: 5f44 4f54 5f52 6174 3131 5f31 322e 6d70  _DOT_Rat11_12.mp
+00017fe0: 3427 5d0a 2020 2020 3e3e 3e20 5f20 3d20  4'].    >>> _ = 
+00017ff0: 7265 7369 7a65 5f76 6964 656f 735f 6279  resize_videos_by
+00018000: 5f68 6569 6768 7428 7669 6465 6f5f 7061  _height(video_pa
+00018010: 7468 733d 7669 6465 6f5f 7061 7468 732c  ths=video_paths,
+00018020: 2068 6569 6768 743d 3330 302c 206f 7665   height=300, ove
+00018030: 7277 7269 7465 3d46 616c 7365 2c20 7361  rwrite=False, sa
+00018040: 7665 5f64 6972 3d27 2f55 7365 7273 2f73  ve_dir='/Users/s
+00018050: 696d 6f6e 2f44 6573 6b74 6f70 2f65 6e76  imon/Desktop/env
+00018060: 732f 7369 6d62 612f 7472 6f75 626c 6573  s/simba/troubles
+00018070: 686f 6f74 696e 672f 5241 545f 4e4f 522f  hooting/RAT_NOR/
+00018080: 7072 6f6a 6563 745f 666f 6c64 6572 2f76  project_folder/v
+00018090: 6964 656f 732f 7465 7374 2f6e 6577 2729  ideos/test/new')
+000180a0: 0a20 2020 2022 2222 0a20 2020 2074 696d  .    """.    tim
+000180b0: 6572 203d 2053 696d 6261 5469 6d65 7228  er = SimbaTimer(
+000180c0: 7374 6172 743d 5472 7565 290a 2020 2020  start=True).    
+000180d0: 6966 2028 6e6f 7420 6f76 6572 7772 6974  if (not overwrit
+000180e0: 6529 2061 6e64 2028 7361 7665 5f64 6972  e) and (save_dir
+000180f0: 2069 7320 4e6f 6e65 2920 616e 6420 2873   is None) and (s
+00018100: 7566 6669 7820 6973 204e 6f6e 6529 3a0a  uffix is None):.
+00018110: 2020 2020 2020 2020 7261 6973 6520 496e          raise In
+00018120: 7661 6c69 6449 6e70 7574 4572 726f 7228  validInputError(
+00018130: 6d73 673d 2250 726f 7669 6465 2061 2073  msg="Provide a s
+00018140: 6176 655f 6469 722c 204f 5220 7365 7420  ave_dir, OR set 
+00018150: 6f76 6572 7772 6974 6520 746f 2054 7275  overwrite to Tru
+00018160: 652c 204f 5220 7072 6f76 6964 6520 6120  e, OR provide a 
+00018170: 7375 6666 6978 222c 2073 6f75 7263 653d  suffix", source=
+00018180: 7265 7369 7a65 5f76 6964 656f 735f 6279  resize_videos_by
+00018190: 5f68 6569 6768 742e 5f5f 6e61 6d65 5f5f  _height.__name__
+000181a0: 290a 2020 2020 656c 6966 2028 6f76 6572  ).    elif (over
+000181b0: 7772 6974 6529 2061 6e64 2028 7361 7665  write) and (save
+000181c0: 5f64 6972 2069 7320 6e6f 7420 4e6f 6e65  _dir is not None
+000181d0: 293a 0a20 2020 2020 2020 2072 6169 7365  ):.        raise
+000181e0: 2049 6e76 616c 6964 496e 7075 7445 7272   InvalidInputErr
+000181f0: 6f72 286d 7367 3d22 5072 6f76 6964 6520  or(msg="Provide 
+00018200: 6120 7361 7665 5f64 6972 2c20 4f52 2073  a save_dir, OR s
+00018210: 6574 206f 7665 7277 7269 7465 2074 6f20  et overwrite to 
+00018220: 5472 7565 2c20 4f52 2070 726f 7669 6465  True, OR provide
+00018230: 2061 2073 7566 6669 7822 2c20 736f 7572   a suffix", sour
+00018240: 6365 3d72 6573 697a 655f 7669 6465 6f73  ce=resize_videos
+00018250: 5f62 795f 6865 6967 6874 2e5f 5f6e 616d  _by_height.__nam
+00018260: 655f 5f29 0a20 2020 2065 6c69 6620 286f  e__).    elif (o
+00018270: 7665 7277 7269 7465 2920 616e 6420 2873  verwrite) and (s
+00018280: 7566 6669 7820 6973 206e 6f74 204e 6f6e  uffix is not Non
+00018290: 6529 3a0a 2020 2020 2020 2020 7261 6973  e):.        rais
+000182a0: 6520 496e 7661 6c69 6449 6e70 7574 4572  e InvalidInputEr
+000182b0: 726f 7228 6d73 673d 2250 726f 7669 6465  ror(msg="Provide
+000182c0: 2061 2073 6176 655f 6469 722c 204f 5220   a save_dir, OR 
+000182d0: 7365 7420 6f76 6572 7772 6974 6520 746f  set overwrite to
+000182e0: 2054 7275 652c 204f 5220 7072 6f76 6964   True, OR provid
+000182f0: 6520 6120 7375 6666 6978 222c 2073 6f75  e a suffix", sou
+00018300: 7263 653d 7265 7369 7a65 5f76 6964 656f  rce=resize_video
+00018310: 735f 6279 5f68 6569 6768 742e 5f5f 6e61  s_by_height.__na
+00018320: 6d65 5f5f 290a 2020 2020 656c 6966 2028  me__).    elif (
+00018330: 7361 7665 5f64 6972 2069 7320 6e6f 7420  save_dir is not 
+00018340: 4e6f 6e65 2920 616e 6420 2873 7566 6669  None) and (suffi
+00018350: 7820 6973 206e 6f74 204e 6f6e 6529 3a0a  x is not None):.
+00018360: 2020 2020 2020 2020 7261 6973 6520 496e          raise In
+00018370: 7661 6c69 6449 6e70 7574 4572 726f 7228  validInputError(
+00018380: 6d73 673d 2250 726f 7669 6465 2061 2073  msg="Provide a s
+00018390: 6176 655f 6469 722c 204f 5220 7365 7420  ave_dir, OR set 
+000183a0: 6f76 6572 7772 6974 6520 746f 2054 7275  overwrite to Tru
+000183b0: 652c 204f 5220 7072 6f76 6964 6520 6120  e, OR provide a 
+000183c0: 7375 6666 6978 222c 2073 6f75 7263 653d  suffix", source=
+000183d0: 7265 7369 7a65 5f76 6964 656f 735f 6279  resize_videos_by
+000183e0: 5f68 6569 6768 742e 5f5f 6e61 6d65 5f5f  _height.__name__
+000183f0: 290a 2020 2020 6966 2073 6176 655f 6469  ).    if save_di
+00018400: 7220 6973 206e 6f74 204e 6f6e 653a 0a20  r is not None:. 
+00018410: 2020 2020 2020 2069 6620 6e6f 7420 6f73         if not os
+00018420: 2e70 6174 682e 6973 6469 7228 7361 7665  .path.isdir(save
+00018430: 5f64 6972 293a 0a20 2020 2020 2020 2020  _dir):.         
+00018440: 2020 206f 732e 6d61 6b65 6469 7273 2873     os.makedirs(s
+00018450: 6176 655f 6469 7229 0a20 2020 2063 6865  ave_dir).    che
+00018460: 636b 5f76 616c 6964 5f6c 7374 280a 2020  ck_valid_lst(.  
+00018470: 2020 2020 2020 6461 7461 3d76 6964 656f        data=video
+00018480: 5f70 6174 6873 2c20 736f 7572 6365 3d72  _paths, source=r
+00018490: 6573 697a 655f 7669 6465 6f73 5f62 795f  esize_videos_by_
+000184a0: 6865 6967 6874 2e5f 5f6e 616d 655f 5f2c  height.__name__,
+000184b0: 206d 696e 5f6c 656e 3d31 0a20 2020 2029   min_len=1.    )
+000184c0: 0a20 2020 205f 203d 205b 6368 6563 6b5f  .    _ = [check_
+000184d0: 6669 6c65 5f65 7869 7374 5f61 6e64 5f72  file_exist_and_r
+000184e0: 6561 6461 626c 6528 7829 2066 6f72 2078  eadable(x) for x
+000184f0: 2069 6e20 7669 6465 6f5f 7061 7468 735d   in video_paths]
+00018500: 0a20 2020 206e 6577 5f76 6964 656f 5f70  .    new_video_p
+00018510: 6174 6873 203d 205b 5d0a 2020 2020 6966  aths = [].    if
+00018520: 2069 7369 6e73 7461 6e63 6528 6865 6967   isinstance(heig
+00018530: 6874 2c20 7374 7229 3a0a 2020 2020 2020  ht, str):.      
+00018540: 2020 6368 6563 6b5f 696e 7428 6e61 6d65    check_int(name
+00018550: 3d66 227b 7265 7369 7a65 5f76 6964 656f  =f"{resize_video
+00018560: 735f 6279 5f68 6569 6768 742e 5f5f 6e61  s_by_height.__na
+00018570: 6d65 5f5f 7d20 6865 6967 6874 222c 7661  me__} height",va
+00018580: 6c75 653d 6865 6967 6874 2c6d 696e 5f76  lue=height,min_v
+00018590: 616c 7565 3d30 2c6d 6178 5f76 616c 7565  alue=0,max_value
+000185a0: 3d6c 656e 2876 6964 656f 5f70 6174 6873  =len(video_paths
+000185b0: 2929 0a20 2020 2020 2020 2076 6964 656f  )).        video
+000185c0: 5f68 6569 6768 7473 203d 205b 5d0a 2020  _heights = [].  
+000185d0: 2020 2020 2020 666f 7220 6920 696e 2076        for i in v
+000185e0: 6964 656f 5f70 6174 6873 3a0a 2020 2020  ideo_paths:.    
+000185f0: 2020 2020 2020 2020 7669 6465 6f5f 6865          video_he
+00018600: 6967 6874 732e 6170 7065 6e64 2867 6574  ights.append(get
+00018610: 5f76 6964 656f 5f6d 6574 615f 6461 7461  _video_meta_data
+00018620: 2876 6964 656f 5f70 6174 683d 6929 5b22  (video_path=i)["
+00018630: 6865 6967 6874 225d 290a 2020 2020 2020  height"]).      
+00018640: 2020 6865 6967 6874 203d 2076 6964 656f    height = video
+00018650: 5f68 6569 6768 7473 5b69 6e74 2868 6569  _heights[int(hei
+00018660: 6768 7429 5d0a 2020 2020 666f 7220 636e  ght)].    for cn
+00018670: 742c 2076 6964 656f 5f70 6174 6820 696e  t, video_path in
+00018680: 2065 6e75 6d65 7261 7465 2876 6964 656f   enumerate(video
+00018690: 5f70 6174 6873 293a 0a20 2020 2020 2020  _paths):.       
+000186a0: 2064 6972 5f6e 616d 652c 2076 6964 656f   dir_name, video
+000186b0: 5f6e 616d 652c 2065 7874 203d 2067 6574  _name, ext = get
+000186c0: 5f66 6e5f 6578 7428 7669 6465 6f5f 7061  _fn_ext(video_pa
+000186d0: 7468 290a 2020 2020 2020 2020 6966 2076  th).        if v
+000186e0: 6572 626f 7365 3a0a 2020 2020 2020 2020  erbose:.        
+000186f0: 2020 2020 7072 696e 7428 6622 5265 7369      print(f"Resi
+00018700: 7a69 6e67 2068 6569 6768 7420 7669 6465  zing height vide
+00018710: 6f20 7b76 6964 656f 5f6e 616d 657d 2028  o {video_name} (
+00018720: 5669 6465 6f20 7b63 6e74 2b31 7d2f 7b6c  Video {cnt+1}/{l
+00018730: 656e 2876 6964 656f 5f70 6174 6873 297d  en(video_paths)}
+00018740: 292e 2e2e 2229 0a20 2020 2020 2020 2069  )...").        i
+00018750: 6620 6f76 6572 7772 6974 653a 0a20 2020  f overwrite:.   
+00018760: 2020 2020 2020 2020 2064 7420 3d20 6461           dt = da
+00018770: 7465 7469 6d65 2e6e 6f77 2829 2e73 7472  tetime.now().str
+00018780: 6674 696d 6528 2225 5925 6d25 6425 4825  ftime("%Y%m%d%H%
+00018790: 4d25 5322 290a 2020 2020 2020 2020 2020  M%S").          
+000187a0: 2020 7361 7665 5f70 6174 6820 3d20 6f73    save_path = os
+000187b0: 2e70 6174 682e 6a6f 696e 2864 6972 5f6e  .path.join(dir_n
+000187c0: 616d 652c 2066 227b 7669 6465 6f5f 6e61  ame, f"{video_na
+000187d0: 6d65 7d5f 7b64 747d 2e6d 7034 2229 0a20  me}_{dt}.mp4"). 
+000187e0: 2020 2020 2020 2069 6620 7375 6666 6978         if suffix
+000187f0: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
+00018800: 2020 2020 2020 7361 7665 5f70 6174 6820        save_path 
+00018810: 3d20 6f73 2e70 6174 682e 6a6f 696e 2873  = os.path.join(s
+00018820: 6176 655f 6469 722c 2066 227b 7669 6465  ave_dir, f"{vide
+00018830: 6f5f 6e61 6d65 7d2e 6d70 3422 290a 2020  o_name}.mp4").  
+00018840: 2020 2020 2020 2020 2020 6e65 775f 7669            new_vi
+00018850: 6465 6f5f 7061 7468 732e 6170 7065 6e64  deo_paths.append
+00018860: 2873 6176 655f 7061 7468 290a 2020 2020  (save_path).    
+00018870: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00018880: 2020 2020 2020 6368 6563 6b5f 7374 7228        check_str(
+00018890: 6e61 6d65 3d66 277b 7265 7369 7a65 5f76  name=f'{resize_v
+000188a0: 6964 656f 735f 6279 5f68 6569 6768 742e  ideos_by_height.
+000188b0: 5f5f 6e61 6d65 5f5f 7d20 7375 6666 6978  __name__} suffix
+000188c0: 272c 2076 616c 7565 3d73 7566 6669 7829  ', value=suffix)
+000188d0: 0a20 2020 2020 2020 2020 2020 2073 6176  .            sav
+000188e0: 655f 7061 7468 203d 206f 732e 7061 7468  e_path = os.path
+000188f0: 2e6a 6f69 6e28 6469 725f 6e61 6d65 2c20  .join(dir_name, 
+00018900: 6622 7b76 6964 656f 5f6e 616d 657d 5f7b  f"{video_name}_{
+00018910: 7375 6666 6978 7d2e 6d70 3422 290a 2020  suffix}.mp4").  
+00018920: 2020 2020 2020 2020 2020 6e65 775f 7669            new_vi
+00018930: 6465 6f5f 7061 7468 732e 6170 7065 6e64  deo_paths.append
+00018940: 2873 6176 655f 7061 7468 290a 2020 2020  (save_path).    
+00018950: 2020 2020 6966 2067 7075 3a0a 2020 2020      if gpu:.    
+00018960: 2020 2020 2020 2020 636d 6420 3d20 6627          cmd = f'
+00018970: 6666 6d70 6567 202d 7920 2d68 7761 6363  ffmpeg -y -hwacc
+00018980: 656c 2061 7574 6f20 2d63 3a76 2068 3236  el auto -c:v h26
+00018990: 345f 6375 7669 6420 2d69 2022 7b76 6964  4_cuvid -i "{vid
+000189a0: 656f 5f70 6174 687d 2220 2d76 6620 7363  eo_path}" -vf sc
+000189b0: 616c 655f 6e70 703d 2d32 3a7b 6865 6967  ale_npp=-2:{heig
+000189c0: 6874 7d20 2d63 3a76 2068 3236 345f 6e76  ht} -c:v h264_nv
+000189d0: 656e 6320 227b 7361 7665 5f70 6174 687d  enc "{save_path}
+000189e0: 2220 2d68 6964 655f 6261 6e6e 6572 202d  " -hide_banner -
+000189f0: 6c6f 676c 6576 656c 2065 7272 6f72 202d  loglevel error -
+00018a00: 7927 0a20 2020 2020 2020 2065 6c73 653a  y'.        else:
+00018a10: 0a20 2020 2020 2020 2020 2020 2063 6d64  .            cmd
+00018a20: 203d 2066 2766 666d 7065 6720 2d79 202d   = f'ffmpeg -y -
+00018a30: 6920 227b 7669 6465 6f5f 7061 7468 7d22  i "{video_path}"
+00018a40: 202d 7666 2073 6361 6c65 3d2d 323a 7b68   -vf scale=-2:{h
+00018a50: 6569 6768 747d 2022 7b73 6176 655f 7061  eight} "{save_pa
+00018a60: 7468 7d22 202d 6869 6465 5f62 616e 6e65  th}" -hide_banne
+00018a70: 7220 2d6c 6f67 6c65 7665 6c20 6572 726f  r -loglevel erro
+00018a80: 7220 2d73 7461 7473 202d 7927 0a20 2020  r -stats -y'.   
+00018a90: 2020 2020 2073 7562 7072 6f63 6573 732e       subprocess.
+00018aa0: 6361 6c6c 2863 6d64 2c20 7368 656c 6c3d  call(cmd, shell=
+00018ab0: 5472 7565 2c20 7374 646f 7574 3d73 7562  True, stdout=sub
+00018ac0: 7072 6f63 6573 732e 5049 5045 290a 2020  process.PIPE).  
+00018ad0: 2020 2020 2020 6966 206f 7665 7277 7269        if overwri
+00018ae0: 7465 3a0a 2020 2020 2020 2020 2020 2020  te:.            
+00018af0: 7368 7574 696c 2e63 6f70 7928 7361 7665  shutil.copy(save
+00018b00: 5f70 6174 682c 2076 6964 656f 5f70 6174  _path, video_pat
+00018b10: 6829 0a20 2020 2020 2020 2020 2020 206f  h).            o
+00018b20: 732e 7265 6d6f 7665 2873 6176 655f 7061  s.remove(save_pa
+00018b30: 7468 290a 2020 2020 2020 2020 6966 2076  th).        if v
+00018b40: 6572 626f 7365 3a0a 2020 2020 2020 2020  erbose:.        
+00018b50: 2020 2020 7072 696e 7428 6622 5265 7369      print(f"Resi
+00018b60: 7a65 6420 7669 6465 6f20 7b73 6176 655f  zed video {save_
+00018b70: 7061 7468 7d2e 2e2e 2229 0a20 2020 2074  path}...").    t
+00018b80: 696d 6572 2e73 746f 705f 7469 6d65 7228  imer.stop_timer(
+00018b90: 290a 2020 2020 6966 2076 6572 626f 7365  ).    if verbose
+00018ba0: 3a0a 2020 2020 2020 2020 7072 696e 7428  :.        print(
+00018bb0: 6622 5265 7369 7a65 6420 6865 6967 6874  f"Resized height
+00018bc0: 207b 6c65 6e28 7669 6465 6f5f 7061 7468   {len(video_path
+00018bd0: 7329 7d20 7669 6465 6f28 7329 2e20 456c  s)} video(s). El
+00018be0: 6170 7365 6420 7469 6d65 3a20 7b74 696d  apsed time: {tim
+00018bf0: 6572 2e65 6c61 7073 6564 5f74 696d 655f  er.elapsed_time_
+00018c00: 7374 727d 732e 2229 0a20 2020 2072 6574  str}s.").    ret
+00018c10: 7572 6e20 6e65 775f 7669 6465 6f5f 7061  urn new_video_pa
+00018c20: 7468 730a 0a0a 6465 6620 7265 7369 7a65  ths...def resize
+00018c30: 5f76 6964 656f 735f 6279 5f77 6964 7468  _videos_by_width
+00018c40: 2876 6964 656f 5f70 6174 6873 3a20 4c69  (video_paths: Li
+00018c50: 7374 5b55 6e69 6f6e 5b73 7472 2c20 6f73  st[Union[str, os
+00018c60: 2e50 6174 684c 696b 655d 5d2c 0a20 2020  .PathLike]],.   
+00018c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018c80: 2020 2020 2020 2020 7769 6474 683a 2055          width: U
+00018c90: 6e69 6f6e 5b69 6e74 2c20 7374 725d 2c0a  nion[int, str],.
+00018ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018cb0: 2020 2020 2020 2020 2020 206f 7665 7277             overw
+00018cc0: 7269 7465 3a20 4f70 7469 6f6e 616c 5b62  rite: Optional[b
+00018cd0: 6f6f 6c5d 203d 2046 616c 7365 2c0a 2020  ool] = False,.  
+00018ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018cf0: 2020 2020 2020 2020 2073 6176 655f 6469           save_di
+00018d00: 723a 204f 7074 696f 6e61 6c5b 556e 696f  r: Optional[Unio
+00018d10: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
+00018d20: 6b65 5d5d 203d 204e 6f6e 652c 0a20 2020  ke]] = None,.   
+00018d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018d40: 2020 2020 2020 2020 6770 753a 204f 7074          gpu: Opt
+00018d50: 696f 6e61 6c5b 626f 6f6c 5d20 3d20 4661  ional[bool] = Fa
+00018d60: 6c73 652c 0a20 2020 2020 2020 2020 2020  lse,.           
+00018d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018d80: 7375 6666 6978 3a20 4f70 7469 6f6e 616c  suffix: Optional
+00018d90: 5b73 7472 5d20 3d20 4e6f 6e65 2c0a 2020  [str] = None,.  
+00018da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018db0: 2020 2020 2020 2020 2076 6572 626f 7365           verbose
+00018dc0: 3a20 4f70 7469 6f6e 616c 5b62 6f6f 6c5d  : Optional[bool]
+00018dd0: 203d 2054 7275 6529 202d 3e20 556e 696f   = True) -> Unio
+00018de0: 6e5b 4e6f 6e65 2c20 4c69 7374 5b55 6e69  n[None, List[Uni
+00018df0: 6f6e 5b4e 6f6e 652c 2073 7472 2c20 6f73  on[None, str, os
+00018e00: 2e50 6174 684c 696b 655d 5d5d 3a0a 2020  .PathLike]]]:.  
+00018e10: 2020 2222 220a 2020 2020 5265 2d73 697a    """.    Re-siz
+00018e20: 6520 6120 6c69 7374 206f 6620 7669 6465  e a list of vide
+00018e30: 6f73 2074 6f20 6120 7370 6563 6966 6965  os to a specifie
+00018e40: 6420 7769 6474 6820 7768 696c 6520 7265  d width while re
+00018e50: 7461 696e 696e 6720 7468 6569 7220 6173  taining their as
+00018e60: 7065 6374 2072 6174 696f 732e 0a0a 2020  pect ratios...  
+00018e70: 2020 3a70 6172 616d 204c 6973 745b 556e    :param List[Un
+00018e80: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+00018e90: 4c69 6b65 5d5d 2076 6964 656f 5f70 6174  Like]] video_pat
+00018ea0: 6873 3a20 4c69 7374 206f 6620 7061 7468  hs: List of path
+00018eb0: 2074 6f20 7669 6465 6f73 2e0a 2020 2020   to videos..    
+00018ec0: 3a70 6172 616d 2055 6e69 6f6e 5b69 6e74  :param Union[int
+00018ed0: 2c20 7374 725d 2077 6964 7468 3a20 5468  , str] width: Th
+00018ee0: 6520 7769 6474 6820 6f66 2074 6865 206f  e width of the o
+00018ef0: 7574 7075 7420 7669 6465 6f73 2e20 4966  utput videos. If
+00018f00: 2069 6e74 2c20 7468 656e 2074 6865 2077   int, then the w
+00018f10: 6964 7468 2069 6e20 7069 7865 6c73 2e20  idth in pixels. 
+00018f20: 4966 2073 7472 2c20 7468 656e 2074 6865  If str, then the
+00018f30: 2069 6e64 6578 2069 6e20 6060 7669 6465   index in ``vide
+00018f40: 6f5f 7061 7468 7360 6020 6672 6f6d 2077  o_paths`` from w
+00018f50: 6869 6368 2074 6f20 6772 6162 2074 6865  hich to grab the
+00018f60: 2077 6964 7468 2e0a 2020 2020 3a70 6172   width..    :par
+00018f70: 616d 204f 7074 696f 6e61 6c5b 626f 6f6c  am Optional[bool
+00018f80: 5d20 6f76 6572 7772 6974 653a 2049 6620  ] overwrite: If 
+00018f90: 5472 7565 2c20 7468 656e 206f 7665 7277  True, then overw
+00018fa0: 7269 7465 7320 7468 6520 6f72 6967 696e  rites the origin
+00018fb0: 616c 2076 6964 656f 732e 2044 6566 6175  al videos. Defau
+00018fc0: 6c74 2046 616c 7365 2e0a 2020 2020 3a70  lt False..    :p
+00018fd0: 6172 616d 204f 7074 696f 6e61 6c5b 556e  aram Optional[Un
+00018fe0: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+00018ff0: 4c69 6b65 5d5d 2073 6176 655f 6469 723a  Like]] save_dir:
+00019000: 2049 6620 6e6f 7420 4e6f 6e65 2c20 7468   If not None, th
+00019010: 656e 2074 6865 2064 6972 6563 746f 7279  en the directory
+00019020: 2077 6865 7265 2074 6f20 7374 6f72 6520   where to store 
+00019030: 7468 6520 7265 2d73 697a 6564 2076 6964  the re-sized vid
+00019040: 656f 732e 0a20 2020 203a 7061 7261 6d20  eos..    :param 
+00019050: 4f70 7469 6f6e 616c 5b62 6f6f 6c5d 2067  Optional[bool] g
+00019060: 7075 3a20 4966 2054 7275 652c 2074 6865  pu: If True, the
+00019070: 6e20 7573 6520 4646 6d70 6567 2047 5055  n use FFmpeg GPU
+00019080: 2063 6f64 6563 732e 2044 6566 6175 6c74   codecs. Default
+00019090: 2046 616c 7365 2e0a 2020 2020 3a70 6172   False..    :par
+000190a0: 616d 204f 7074 696f 6e61 6c5b 626f 6f6c  am Optional[bool
+000190b0: 5d20 7375 6666 6978 3a20 4966 206e 6f74  ] suffix: If not
+000190c0: 204e 6f6e 652c 2074 6865 6e20 7374 6f72   None, then stor
+000190d0: 6573 2074 6865 2072 6573 697a 6564 2076  es the resized v
+000190e0: 6964 656f 7320 696e 2074 6865 2073 616d  ideos in the sam
+000190f0: 6520 6469 7265 6374 6f72 7920 6173 2074  e directory as t
+00019100: 6865 2069 6e70 7574 2076 6964 656f 7320  he input videos 
+00019110: 7769 7468 2074 6865 2070 726f 7669 6465  with the provide
+00019120: 6420 7375 6666 6978 2e0a 2020 2020 3a70  d suffix..    :p
+00019130: 6172 616d 204f 7074 696f 6e61 6c5b 626f  aram Optional[bo
+00019140: 6f6c 5d20 7665 7262 6f73 653a 2049 6620  ol] verbose: If 
+00019150: 5472 7565 2c20 7072 696e 7473 2070 726f  True, prints pro
+00019160: 6772 6573 732e 2044 6566 6175 6c74 2054  gress. Default T
+00019170: 7275 652e 0a20 2020 203a 7265 7475 726e  rue..    :return
+00019180: 2055 6e69 6f6e 5b4e 6f6e 652c 204c 6973   Union[None, Lis
+00019190: 745b 556e 696f 6e5b 7374 722c 206f 732e  t[Union[str, os.
+000191a0: 5061 7468 4c69 6b65 5d5d 5d3a 2049 6620  PathLike]]]: If 
+000191b0: 7361 7665 5f64 6972 2069 7320 6e6f 7420  save_dir is not 
+000191c0: 4e6f 6e65 2c20 7265 7475 726e 7320 7468  None, returns th
+000191d0: 6520 7061 7468 7320 6f66 2074 6865 2072  e paths of the r
+000191e0: 652d 7369 7a65 6420 7669 6465 6f73 2e20  e-sized videos. 
+000191f0: 456c 7365 2072 6574 7572 6e73 2065 6d70  Else returns emp
+00019200: 7479 206c 6973 742e 0a0a 2020 2020 3a65  ty list...    :e
+00019210: 7861 6d70 6c65 3a0a 2020 2020 3e3e 3e20  xample:.    >>> 
+00019220: 7669 6465 6f5f 7061 7468 733d 205b 272f  video_paths= ['/
+00019230: 5573 6572 732f 7369 6d6f 6e2f 4465 736b  Users/simon/Desk
+00019240: 746f 702f 656e 7673 2f73 696d 6261 2f74  top/envs/simba/t
+00019250: 726f 7562 6c65 7368 6f6f 7469 6e67 2f52  roubleshooting/R
+00019260: 4154 5f4e 4f52 2f70 726f 6a65 6374 5f66  AT_NOR/project_f
+00019270: 6f6c 6465 722f 7669 6465 6f73 2f74 6573  older/videos/tes
+00019280: 742f 3038 3130 3230 3231 5f44 4f54 5f52  t/08102021_DOT_R
+00019290: 6174 375f 3828 3229 2e6d 7034 272c 2027  at7_8(2).mp4', '
+000192a0: 2f55 7365 7273 2f73 696d 6f6e 2f44 6573  /Users/simon/Des
+000192b0: 6b74 6f70 2f65 6e76 732f 7369 6d62 612f  ktop/envs/simba/
+000192c0: 7472 6f75 626c 6573 686f 6f74 696e 672f  troubleshooting/
+000192d0: 5241 545f 4e4f 522f 7072 6f6a 6563 745f  RAT_NOR/project_
+000192e0: 666f 6c64 6572 2f76 6964 656f 732f 7465  folder/videos/te
+000192f0: 7374 2f30 3831 3032 3032 315f 444f 545f  st/08102021_DOT_
+00019300: 5261 7431 315f 3132 2e6d 7034 275d 0a20  Rat11_12.mp4']. 
+00019310: 2020 203e 3e3e 205f 203d 2072 6573 697a     >>> _ = resiz
+00019320: 655f 7669 6465 6f73 5f62 795f 7769 6474  e_videos_by_widt
+00019330: 6828 7669 6465 6f5f 7061 7468 733d 7669  h(video_paths=vi
+00019340: 6465 6f5f 7061 7468 732c 2077 6964 7468  deo_paths, width
+00019350: 3d33 3030 2c20 6f76 6572 7772 6974 653d  =300, overwrite=
+00019360: 4661 6c73 652c 2073 6176 655f 6469 723d  False, save_dir=
+00019370: 272f 5573 6572 732f 7369 6d6f 6e2f 4465  '/Users/simon/De
+00019380: 736b 746f 702f 656e 7673 2f73 696d 6261  sktop/envs/simba
+00019390: 2f74 726f 7562 6c65 7368 6f6f 7469 6e67  /troubleshooting
+000193a0: 2f52 4154 5f4e 4f52 2f70 726f 6a65 6374  /RAT_NOR/project
+000193b0: 5f66 6f6c 6465 722f 7669 6465 6f73 2f74  _folder/videos/t
+000193c0: 6573 742f 6e65 7727 290a 2020 2020 2222  est/new').    ""
+000193d0: 220a 0a20 2020 2074 696d 6572 203d 2053  "..    timer = S
+000193e0: 696d 6261 5469 6d65 7228 7374 6172 743d  imbaTimer(start=
+000193f0: 5472 7565 290a 2020 2020 6966 2028 6e6f  True).    if (no
+00019400: 7420 6f76 6572 7772 6974 6529 2061 6e64  t overwrite) and
+00019410: 2028 7361 7665 5f64 6972 2069 7320 4e6f   (save_dir is No
+00019420: 6e65 2920 616e 6420 2873 7566 6669 7820  ne) and (suffix 
+00019430: 6973 204e 6f6e 6529 3a0a 2020 2020 2020  is None):.      
+00019440: 2020 7261 6973 6520 496e 7661 6c69 6449    raise InvalidI
+00019450: 6e70 7574 4572 726f 7228 6d73 673d 2250  nputError(msg="P
+00019460: 726f 7669 6465 2061 2073 6176 655f 6469  rovide a save_di
+00019470: 722c 204f 5220 7365 7420 6f76 6572 7772  r, OR set overwr
+00019480: 6974 6520 746f 2054 7275 652c 204f 5220  ite to True, OR 
+00019490: 7072 6f76 6964 6520 6120 7375 6666 6978  provide a suffix
+000194a0: 222c 2073 6f75 7263 653d 7265 7369 7a65  ", source=resize
+000194b0: 5f76 6964 656f 735f 6279 5f77 6964 7468  _videos_by_width
+000194c0: 2e5f 5f6e 616d 655f 5f29 0a20 2020 2065  .__name__).    e
+000194d0: 6c69 6620 286f 7665 7277 7269 7465 2920  lif (overwrite) 
+000194e0: 616e 6420 2873 6176 655f 6469 7220 6973  and (save_dir is
+000194f0: 206e 6f74 204e 6f6e 6529 3a0a 2020 2020   not None):.    
+00019500: 2020 2020 7261 6973 6520 496e 7661 6c69      raise Invali
+00019510: 6449 6e70 7574 4572 726f 7228 6d73 673d  dInputError(msg=
+00019520: 2250 726f 7669 6465 2061 2073 6176 655f  "Provide a save_
+00019530: 6469 722c 204f 5220 7365 7420 6f76 6572  dir, OR set over
+00019540: 7772 6974 6520 746f 2054 7275 652c 204f  write to True, O
+00019550: 5220 7072 6f76 6964 6520 6120 7375 6666  R provide a suff
+00019560: 6978 222c 2073 6f75 7263 653d 7265 7369  ix", source=resi
+00019570: 7a65 5f76 6964 656f 735f 6279 5f77 6964  ze_videos_by_wid
+00019580: 7468 2e5f 5f6e 616d 655f 5f29 0a20 2020  th.__name__).   
+00019590: 2065 6c69 6620 286f 7665 7277 7269 7465   elif (overwrite
+000195a0: 2920 616e 6420 2873 7566 6669 7820 6973  ) and (suffix is
+000195b0: 206e 6f74 204e 6f6e 6529 3a0a 2020 2020   not None):.    
+000195c0: 2020 2020 7261 6973 6520 496e 7661 6c69      raise Invali
+000195d0: 6449 6e70 7574 4572 726f 7228 6d73 673d  dInputError(msg=
+000195e0: 2250 726f 7669 6465 2061 2073 6176 655f  "Provide a save_
+000195f0: 6469 722c 204f 5220 7365 7420 6f76 6572  dir, OR set over
+00019600: 7772 6974 6520 746f 2054 7275 652c 204f  write to True, O
+00019610: 5220 7072 6f76 6964 6520 6120 7375 6666  R provide a suff
+00019620: 6978 222c 2073 6f75 7263 653d 7265 7369  ix", source=resi
+00019630: 7a65 5f76 6964 656f 735f 6279 5f77 6964  ze_videos_by_wid
+00019640: 7468 2e5f 5f6e 616d 655f 5f29 0a20 2020  th.__name__).   
+00019650: 2065 6c69 6620 2873 6176 655f 6469 7220   elif (save_dir 
+00019660: 6973 206e 6f74 204e 6f6e 6529 2061 6e64  is not None) and
+00019670: 2028 7375 6666 6978 2069 7320 6e6f 7420   (suffix is not 
+00019680: 4e6f 6e65 293a 0a20 2020 2020 2020 2072  None):.        r
+00019690: 6169 7365 2049 6e76 616c 6964 496e 7075  aise InvalidInpu
+000196a0: 7445 7272 6f72 286d 7367 3d22 5072 6f76  tError(msg="Prov
+000196b0: 6964 6520 6120 7361 7665 5f64 6972 2c20  ide a save_dir, 
+000196c0: 4f52 2073 6574 206f 7665 7277 7269 7465  OR set overwrite
+000196d0: 2074 6f20 5472 7565 2c20 4f52 2070 726f   to True, OR pro
+000196e0: 7669 6465 2061 2073 7566 6669 7822 2c20  vide a suffix", 
+000196f0: 736f 7572 6365 3d72 6573 697a 655f 7669  source=resize_vi
+00019700: 6465 6f73 5f62 795f 7769 6474 682e 5f5f  deos_by_width.__
+00019710: 6e61 6d65 5f5f 290a 2020 2020 6966 2073  name__).    if s
+00019720: 6176 655f 6469 7220 6973 206e 6f74 204e  ave_dir is not N
+00019730: 6f6e 653a 0a20 2020 2020 2020 2069 6620  one:.        if 
+00019740: 6e6f 7420 6f73 2e70 6174 682e 6973 6469  not os.path.isdi
+00019750: 7228 7361 7665 5f64 6972 293a 0a20 2020  r(save_dir):.   
+00019760: 2020 2020 2020 2020 206f 732e 6d61 6b65           os.make
+00019770: 6469 7273 2873 6176 655f 6469 7229 0a20  dirs(save_dir). 
+00019780: 2020 2063 6865 636b 5f76 616c 6964 5f6c     check_valid_l
+00019790: 7374 2864 6174 613d 7669 6465 6f5f 7061  st(data=video_pa
+000197a0: 7468 732c 2073 6f75 7263 653d 7265 7369  ths, source=resi
+000197b0: 7a65 5f76 6964 656f 735f 6279 5f77 6964  ze_videos_by_wid
+000197c0: 7468 2e5f 5f6e 616d 655f 5f2c 206d 696e  th.__name__, min
+000197d0: 5f6c 656e 3d31 290a 2020 2020 5f20 3d20  _len=1).    _ = 
+000197e0: 5b63 6865 636b 5f66 696c 655f 6578 6973  [check_file_exis
+000197f0: 745f 616e 645f 7265 6164 6162 6c65 2878  t_and_readable(x
+00019800: 2920 666f 7220 7820 696e 2076 6964 656f  ) for x in video
+00019810: 5f70 6174 6873 5d0a 2020 2020 6e65 775f  _paths].    new_
+00019820: 7669 6465 6f5f 7061 7468 7320 3d20 5b5d  video_paths = []
+00019830: 0a20 2020 2069 6620 6973 696e 7374 616e  .    if isinstan
+00019840: 6365 2877 6964 7468 2c20 7374 7229 3a0a  ce(width, str):.
+00019850: 2020 2020 2020 2020 6368 6563 6b5f 696e          check_in
+00019860: 7428 0a20 2020 2020 2020 2020 2020 206e  t(.            n
+00019870: 616d 653d 6622 7b72 6573 697a 655f 7669  ame=f"{resize_vi
+00019880: 6465 6f73 5f62 795f 7769 6474 682e 5f5f  deos_by_width.__
+00019890: 6e61 6d65 5f5f 7d20 6865 6967 6874 222c  name__} height",
+000198a0: 0a20 2020 2020 2020 2020 2020 2076 616c  .            val
+000198b0: 7565 3d77 6964 7468 2c0a 2020 2020 2020  ue=width,.      
+000198c0: 2020 2020 2020 6d69 6e5f 7661 6c75 653d        min_value=
+000198d0: 302c 0a20 2020 2020 2020 2020 2020 206d  0,.            m
+000198e0: 6178 5f76 616c 7565 3d6c 656e 2876 6964  ax_value=len(vid
+000198f0: 656f 5f70 6174 6873 292c 0a20 2020 2020  eo_paths),.     
+00019900: 2020 2029 0a20 2020 2020 2020 2076 6964     ).        vid
+00019910: 656f 5f77 6964 7468 7320 3d20 5b5d 0a20  eo_widths = []. 
+00019920: 2020 2020 2020 2066 6f72 2069 2069 6e20         for i in 
+00019930: 7669 6465 6f5f 7061 7468 733a 0a20 2020  video_paths:.   
+00019940: 2020 2020 2020 2020 2076 6964 656f 5f77           video_w
+00019950: 6964 7468 732e 6170 7065 6e64 2867 6574  idths.append(get
+00019960: 5f76 6964 656f 5f6d 6574 615f 6461 7461  _video_meta_data
+00019970: 2876 6964 656f 5f70 6174 683d 6929 5b22  (video_path=i)["
+00019980: 7769 6474 6822 5d29 0a20 2020 2020 2020  width"]).       
+00019990: 2077 6964 7468 203d 2076 6964 656f 5f77   width = video_w
+000199a0: 6964 7468 735b 696e 7428 7769 6474 6829  idths[int(width)
+000199b0: 5d0a 2020 2020 666f 7220 636e 742c 2076  ].    for cnt, v
+000199c0: 6964 656f 5f70 6174 6820 696e 2065 6e75  ideo_path in enu
+000199d0: 6d65 7261 7465 2876 6964 656f 5f70 6174  merate(video_pat
+000199e0: 6873 293a 0a20 2020 2020 2020 2064 6972  hs):.        dir
+000199f0: 5f6e 616d 652c 2076 6964 656f 5f6e 616d  _name, video_nam
+00019a00: 652c 2065 7874 203d 2067 6574 5f66 6e5f  e, ext = get_fn_
+00019a10: 6578 7428 7669 6465 6f5f 7061 7468 290a  ext(video_path).
+00019a20: 2020 2020 2020 2020 6966 2076 6572 626f          if verbo
+00019a30: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00019a40: 7072 696e 7428 0a20 2020 2020 2020 2020  print(.         
+00019a50: 2020 2020 2020 2066 2252 6573 697a 696e         f"Resizin
+00019a60: 6720 7769 6474 6820 7669 6465 6f20 7b76  g width video {v
+00019a70: 6964 656f 5f6e 616d 657d 2028 5669 6465  ideo_name} (Vide
+00019a80: 6f20 7b63 6e74 2b31 7d2f 7b6c 656e 2876  o {cnt+1}/{len(v
+00019a90: 6964 656f 5f70 6174 6873 297d 292e 2e2e  ideo_paths)})...
+00019aa0: 220a 2020 2020 2020 2020 2020 2020 290a  ".            ).
+00019ab0: 2020 2020 2020 2020 6966 206f 7665 7277          if overw
+00019ac0: 7269 7465 3a0a 2020 2020 2020 2020 2020  rite:.          
+00019ad0: 2020 6474 203d 2064 6174 6574 696d 652e    dt = datetime.
+00019ae0: 6e6f 7728 292e 7374 7266 7469 6d65 2822  now().strftime("
+00019af0: 2559 256d 2564 2548 254d 2553 2229 0a20  %Y%m%d%H%M%S"). 
+00019b00: 2020 2020 2020 2020 2020 2073 6176 655f             save_
+00019b10: 7061 7468 203d 206f 732e 7061 7468 2e6a  path = os.path.j
+00019b20: 6f69 6e28 6469 725f 6e61 6d65 2c20 6622  oin(dir_name, f"
+00019b30: 7b76 6964 656f 5f6e 616d 657d 5f7b 6474  {video_name}_{dt
+00019b40: 7d2e 6d70 3422 290a 2020 2020 2020 2020  }.mp4").        
+00019b50: 6966 2073 7566 6669 7820 6973 204e 6f6e  if suffix is Non
+00019b60: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
+00019b70: 6176 655f 7061 7468 203d 206f 732e 7061  ave_path = os.pa
+00019b80: 7468 2e6a 6f69 6e28 7361 7665 5f64 6972  th.join(save_dir
+00019b90: 2c20 6622 7b76 6964 656f 5f6e 616d 657d  , f"{video_name}
+00019ba0: 2e6d 7034 2229 0a20 2020 2020 2020 2020  .mp4").         
+00019bb0: 2020 206e 6577 5f76 6964 656f 5f70 6174     new_video_pat
+00019bc0: 6873 2e61 7070 656e 6428 7361 7665 5f70  hs.append(save_p
+00019bd0: 6174 6829 0a20 2020 2020 2020 2065 6c73  ath).        els
+00019be0: 653a 0a20 2020 2020 2020 2020 2020 2063  e:.            c
+00019bf0: 6865 636b 5f73 7472 286e 616d 653d 6627  heck_str(name=f'
+00019c00: 7b72 6573 697a 655f 7669 6465 6f73 5f62  {resize_videos_b
+00019c10: 795f 7769 6474 682e 5f5f 6e61 6d65 5f5f  y_width.__name__
+00019c20: 7d20 7375 6666 6978 272c 2076 616c 7565  } suffix', value
+00019c30: 3d73 7566 6669 7829 0a20 2020 2020 2020  =suffix).       
+00019c40: 2020 2020 2073 6176 655f 7061 7468 203d       save_path =
+00019c50: 206f 732e 7061 7468 2e6a 6f69 6e28 6469   os.path.join(di
+00019c60: 725f 6e61 6d65 2c20 6622 7b76 6964 656f  r_name, f"{video
+00019c70: 5f6e 616d 657d 5f7b 7375 6666 6978 7d2e  _name}_{suffix}.
+00019c80: 6d70 3422 290a 2020 2020 2020 2020 2020  mp4").          
+00019c90: 2020 6e65 775f 7669 6465 6f5f 7061 7468    new_video_path
+00019ca0: 732e 6170 7065 6e64 2873 6176 655f 7061  s.append(save_pa
+00019cb0: 7468 290a 2020 2020 2020 2020 6966 2067  th).        if g
+00019cc0: 7075 3a0a 2020 2020 2020 2020 2020 2020  pu:.            
+00019cd0: 636d 6420 3d20 6627 6666 6d70 6567 202d  cmd = f'ffmpeg -
+00019ce0: 7920 2d68 7761 6363 656c 2061 7574 6f20  y -hwaccel auto 
+00019cf0: 2d69 2022 7b76 6964 656f 5f70 6174 687d  -i "{video_path}
+00019d00: 2220 2d76 6620 7363 616c 655f 6e70 703d  " -vf scale_npp=
+00019d10: 7b77 6964 7468 7d3a 2d32 202d 633a 7620  {width}:-2 -c:v 
+00019d20: 6832 3634 5f6e 7665 6e63 2022 7b73 6176  h264_nvenc "{sav
+00019d30: 655f 7061 7468 7d22 202d 6869 6465 5f62  e_path}" -hide_b
+00019d40: 616e 6e65 7220 2d6c 6f67 6c65 7665 6c20  anner -loglevel 
+00019d50: 6572 726f 7220 2d79 270a 2020 2020 2020  error -y'.      
+00019d60: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00019d70: 2020 2020 636d 6420 3d20 6627 6666 6d70      cmd = f'ffmp
+00019d80: 6567 202d 7920 2d69 2022 7b76 6964 656f  eg -y -i "{video
+00019d90: 5f70 6174 687d 2220 2d76 6620 7363 616c  _path}" -vf scal
+00019da0: 653d 7b77 6964 7468 7d3a 2d32 2022 7b73  e={width}:-2 "{s
+00019db0: 6176 655f 7061 7468 7d22 202d 6869 6465  ave_path}" -hide
+00019dc0: 5f62 616e 6e65 7220 2d6c 6f67 6c65 7665  _banner -logleve
+00019dd0: 6c20 6572 726f 7220 2d73 7461 7473 202d  l error -stats -
+00019de0: 7927 0a20 2020 2020 2020 2073 7562 7072  y'.        subpr
+00019df0: 6f63 6573 732e 6361 6c6c 2863 6d64 2c20  ocess.call(cmd, 
+00019e00: 7368 656c 6c3d 5472 7565 2c20 7374 646f  shell=True, stdo
+00019e10: 7574 3d73 7562 7072 6f63 6573 732e 5049  ut=subprocess.PI
+00019e20: 5045 290a 2020 2020 2020 2020 6966 206f  PE).        if o
+00019e30: 7665 7277 7269 7465 3a0a 0a20 2020 2020  verwrite:..     
+00019e40: 2020 2020 2020 2073 6875 7469 6c2e 636f         shutil.co
+00019e50: 7079 2873 6176 655f 7061 7468 2c20 7669  py(save_path, vi
+00019e60: 6465 6f5f 7061 7468 290a 2020 2020 2020  deo_path).      
+00019e70: 2020 2020 2020 6f73 2e72 656d 6f76 6528        os.remove(
+00019e80: 7361 7665 5f70 6174 6829 0a20 2020 2020  save_path).     
+00019e90: 2020 2069 6620 7665 7262 6f73 653a 0a20     if verbose:. 
+00019ea0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
+00019eb0: 2866 2252 6573 697a 6564 2076 6964 656f  (f"Resized video
+00019ec0: 207b 7361 7665 5f70 6174 687d 2e2e 2e22   {save_path}..."
+00019ed0: 290a 2020 2020 7469 6d65 722e 7374 6f70  ).    timer.stop
+00019ee0: 5f74 696d 6572 2829 0a20 2020 2069 6620  _timer().    if 
+00019ef0: 7665 7262 6f73 653a 0a20 2020 2020 2020  verbose:.       
+00019f00: 2070 7269 6e74 2866 2252 6573 697a 6564   print(f"Resized
+00019f10: 2077 6964 7468 207b 6c65 6e28 7669 6465   width {len(vide
+00019f20: 6f5f 7061 7468 7329 7d20 7669 6465 6f28  o_paths)} video(
+00019f30: 7329 2e20 456c 6170 7365 6420 7469 6d65  s). Elapsed time
+00019f40: 3a20 7b74 696d 6572 2e65 6c61 7073 6564  : {timer.elapsed
+00019f50: 5f74 696d 655f 7374 727d 732e 2229 0a20  _time_str}s."). 
+00019f60: 2020 2072 6574 7572 6e20 6e65 775f 7669     return new_vi
+00019f70: 6465 6f5f 7061 7468 730a 0a0a 6465 6620  deo_paths...def 
+00019f80: 6372 6561 7465 5f62 6c61 6e6b 5f76 6964  create_blank_vid
+00019f90: 656f 2870 6174 683a 2055 6e69 6f6e 5b73  eo(path: Union[s
+00019fa0: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
+00019fb0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00019fc0: 2020 2020 2020 2020 206c 656e 6774 683a           length:
+00019fd0: 2069 6e74 2c0a 2020 2020 2020 2020 2020   int,.          
+00019fe0: 2020 2020 2020 2020 2020 2020 2077 6964               wid
+00019ff0: 7468 3a20 696e 742c 0a20 2020 2020 2020  th: int,.       
+0001a000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a010: 6865 6967 6874 3a20 696e 742c 0a20 2020  height: int,.   
+0001a020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a030: 2020 2020 636f 6c6f 723a 204f 7074 696f      color: Optio
+0001a040: 6e61 6c5b 7374 725d 203d 2022 626c 6163  nal[str] = "blac
+0001a050: 6b22 2c0a 2020 2020 2020 2020 2020 2020  k",.            
+0001a060: 2020 2020 2020 2020 2020 2067 7075 3a20             gpu: 
+0001a070: 4f70 7469 6f6e 616c 5b62 6f6f 6c5d 203d  Optional[bool] =
+0001a080: 2046 616c 7365 2c0a 2020 2020 2020 2020   False,.        
+0001a090: 2020 2020 2020 2020 2020 2020 2020 2076                 v
+0001a0a0: 6572 626f 7365 3a20 4f70 7469 6f6e 616c  erbose: Optional
+0001a0b0: 5b62 6f6f 6c5d 203d 2046 616c 7365 2920  [bool] = False) 
+0001a0c0: 2d3e 204e 6f6e 653a 0a20 2020 2022 2222  -> None:.    """
+0001a0d0: 0a20 2020 2043 7265 6174 6520 6120 2262  .    Create a "b
+0001a0e0: 6c61 6e6b 2220 756e 692d 636f 6c6f 7265  lank" uni-colore
+0001a0f0: 6420 7669 6465 6f20 6f66 2073 7065 6369  d video of speci
+0001a100: 6669 6564 2073 697a 6520 616e 6420 6c65  fied size and le
+0001a110: 6e67 7468 2e0a 0a20 2020 202e 2e20 6e6f  ngth...    .. no
+0001a120: 7465 3a3a 0a20 2020 2020 2020 5573 6566  te::.       Usef
+0001a130: 756c 2066 6f72 2077 6865 6e20 6372 6561  ul for when crea
+0001a140: 7469 6e67 2069 6d61 6765 206d 6f73 6169  ting image mosai
+0001a150: 6373 2077 6974 6820 756e 2d65 7665 6e20  cs with un-even 
+0001a160: 6e75 6d62 6572 206f 6620 7669 6465 6f73  number of videos
+0001a170: 2061 6e64 206e 6565 6420 6120 2266 696c   and need a "fil
+0001a180: 6c22 2076 6964 656f 2069 6e20 652e 672e  l" video in e.g.
+0001a190: 2062 6c61 636b 2063 6f6c 6f72 2e0a 0a20   black color... 
+0001a1a0: 2020 203a 7061 7261 6d20 556e 696f 6e5b     :param Union[
+0001a1b0: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
+0001a1c0: 5d20 7061 7468 3a20 4c6f 6361 7469 6f6e  ] path: Location
+0001a1d0: 2077 6865 7265 2074 6f20 7374 6f72 6520   where to store 
+0001a1e0: 7468 6520 626c 616e 6b20 7669 6465 6f2e  the blank video.
+0001a1f0: 0a20 2020 203a 7061 7261 6d20 696e 7420  .    :param int 
+0001a200: 6c65 6e67 7468 3a20 4c65 6e67 7468 206f  length: Length o
+0001a210: 6620 7468 6520 626c 616e 6b20 7669 6465  f the blank vide
+0001a220: 6f20 696e 2073 6563 6f6e 6473 2e0a 2020  o in seconds..  
+0001a230: 2020 3a70 6172 616d 2069 6e74 2077 6964    :param int wid
+0001a240: 7468 3a20 5769 6474 6820 6f66 2074 6865  th: Width of the
+0001a250: 2062 6c61 6e6b 2076 6964 656f 2069 6e20   blank video in 
+0001a260: 7069 7865 6c73 2e0a 2020 2020 3a70 6172  pixels..    :par
+0001a270: 616d 2069 6e74 2068 6569 6768 743a 2048  am int height: H
+0001a280: 6569 6768 7420 6f66 2074 6865 2062 6c61  eight of the bla
+0001a290: 6e6b 2076 6964 656f 2069 6e20 7069 7865  nk video in pixe
+0001a2a0: 6c73 2e0a 2020 2020 3a70 6172 616d 204f  ls..    :param O
+0001a2b0: 7074 696f 6e61 6c5b 7374 725d 2063 6f6c  ptional[str] col
+0001a2c0: 6f72 3a20 436f 6c6f 7220 6f66 2074 6865  or: Color of the
+0001a2d0: 2062 6c61 6e6b 2076 6964 656f 2e20 4465   blank video. De
+0001a2e0: 6661 756c 7420 626c 6163 6b2e 0a20 2020  fault black..   
+0001a2f0: 203a 7061 7261 6d20 4f70 7469 6f6e 616c   :param Optional
+0001a300: 5b62 6f6f 6c5d 2067 7075 3a20 4966 2054  [bool] gpu: If T
+0001a310: 7275 652c 2074 6865 6e20 7573 6520 4646  rue, then use FF
+0001a320: 6d70 6567 2047 5055 2063 6f64 6563 732e  mpeg GPU codecs.
+0001a330: 2044 6566 6175 6c74 2046 616c 7365 2e0a   Default False..
+0001a340: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
+0001a350: 6e61 6c5b 626f 6f6c 5d20 7665 7262 6f73  nal[bool] verbos
+0001a360: 653a 2049 6620 5472 7565 2c20 7072 696e  e: If True, prin
+0001a370: 7473 2070 726f 6772 6573 732e 2044 6566  ts progress. Def
+0001a380: 6175 6c74 2054 7275 652e 0a20 2020 203a  ault True..    :
+0001a390: 7265 7475 726e 3a20 4e6f 6e65 2e0a 0a20  return: None... 
+0001a3a0: 2020 203a 6578 616d 706c 653a 0a20 2020     :example:.   
+0001a3b0: 203e 3e3e 205f 203d 2063 7265 6174 655f   >>> _ = create_
+0001a3c0: 626c 616e 6b5f 7669 6465 6f28 7061 7468  blank_video(path
+0001a3d0: 3d27 2f55 7365 7273 2f73 696d 6f6e 2f44  ='/Users/simon/D
+0001a3e0: 6573 6b74 6f70 2f65 6e76 732f 7369 6d62  esktop/envs/simb
+0001a3f0: 612f 7472 6f75 626c 6573 686f 6f74 696e  a/troubleshootin
+0001a400: 672f 5241 545f 4e4f 522f 7072 6f6a 6563  g/RAT_NOR/projec
+0001a410: 745f 666f 6c64 6572 2f76 6964 656f 732f  t_folder/videos/
+0001a420: 7465 7374 2f6e 6577 2f62 6c61 6e6b 5f74  test/new/blank_t
+0001a430: 6573 742e 6d70 3427 2c20 6c65 6e67 7468  est.mp4', length
+0001a440: 3d35 2c20 7769 6474 683d 3330 302c 2068  =5, width=300, h
+0001a450: 6569 6768 743d 3430 302c 2067 7075 3d46  eight=400, gpu=F
+0001a460: 616c 7365 2c20 7665 7262 6f73 653d 5472  alse, verbose=Tr
+0001a470: 7565 2c20 636f 6c6f 723d 276f 7261 6e67  ue, color='orang
+0001a480: 6527 290a 2020 2020 2222 220a 0a20 2020  e').    """..   
+0001a490: 2063 6865 636b 5f69 6e74 286e 616d 653d   check_int(name=
+0001a4a0: 6622 7b63 7265 6174 655f 626c 616e 6b5f  f"{create_blank_
+0001a4b0: 7669 6465 6f2e 5f5f 6e61 6d65 5f5f 7d20  video.__name__} 
+0001a4c0: 6c65 6e67 7468 222c 2076 616c 7565 3d6c  length", value=l
+0001a4d0: 656e 6774 682c 206d 696e 5f76 616c 7565  ength, min_value
+0001a4e0: 3d31 290a 2020 2020 6368 6563 6b5f 696e  =1).    check_in
+0001a4f0: 7428 6e61 6d65 3d66 227b 6372 6561 7465  t(name=f"{create
+0001a500: 5f62 6c61 6e6b 5f76 6964 656f 2e5f 5f6e  _blank_video.__n
+0001a510: 616d 655f 5f7d 2077 6964 7468 222c 2076  ame__} width", v
+0001a520: 616c 7565 3d77 6964 7468 2c20 6d69 6e5f  alue=width, min_
+0001a530: 7661 6c75 653d 3129 0a20 2020 2063 6865  value=1).    che
+0001a540: 636b 5f69 6e74 286e 616d 653d 6622 7b63  ck_int(name=f"{c
+0001a550: 7265 6174 655f 626c 616e 6b5f 7669 6465  reate_blank_vide
+0001a560: 6f2e 5f5f 6e61 6d65 5f5f 7d20 6865 6967  o.__name__} heig
+0001a570: 6874 222c 2076 616c 7565 3d68 6569 6768  ht", value=heigh
+0001a580: 742c 206d 696e 5f76 616c 7565 3d31 290a  t, min_value=1).
+0001a590: 2020 2020 6368 6563 6b5f 6966 5f64 6972      check_if_dir
+0001a5a0: 5f65 7869 7374 7328 0a20 2020 2020 2020  _exists(.       
+0001a5b0: 2069 6e5f 6469 723d 6f73 2e70 6174 682e   in_dir=os.path.
+0001a5c0: 6469 726e 616d 6528 7061 7468 292c 0a20  dirname(path),. 
+0001a5d0: 2020 2020 2020 2073 6f75 7263 653d 6372         source=cr
+0001a5e0: 6561 7465 5f62 6c61 6e6b 5f76 6964 656f  eate_blank_video
+0001a5f0: 2e5f 5f6e 616d 655f 5f2c 0a20 2020 2020  .__name__,.     
+0001a600: 2020 2063 7265 6174 655f 6966 5f6e 6f74     create_if_not
+0001a610: 5f65 7869 7374 3d54 7275 652c 0a20 2020  _exist=True,.   
+0001a620: 2029 0a20 2020 2074 696d 6572 203d 2053   ).    timer = S
+0001a630: 696d 6261 5469 6d65 7228 7374 6172 743d  imbaTimer(start=
+0001a640: 5472 7565 290a 2020 2020 6966 2076 6572  True).    if ver
+0001a650: 626f 7365 3a0a 2020 2020 2020 2020 7072  bose:.        pr
+0001a660: 696e 7428 2243 7265 6174 696e 6720 626c  int("Creating bl
+0001a670: 616e 6b20 7669 6465 6f2e 2e2e 2229 0a20  ank video..."). 
+0001a680: 2020 2069 6620 6770 753a 0a20 2020 2020     if gpu:.     
+0001a690: 2020 2063 6d64 203d 2066 2766 666d 7065     cmd = f'ffmpe
+0001a6a0: 6720 2d79 202d 7420 7b6c 656e 6774 687d  g -y -t {length}
+0001a6b0: 202d 6620 6c61 7666 6920 2d69 2063 6f6c   -f lavfi -i col
+0001a6c0: 6f72 3d63 3d7b 636f 6c6f 727d 3a73 3d7b  or=c={color}:s={
+0001a6d0: 7769 6474 687d 787b 6865 6967 6874 7d20  width}x{height} 
+0001a6e0: 2d63 3a76 2068 3236 345f 6e76 656e 6320  -c:v h264_nvenc 
+0001a6f0: 2d70 7265 7365 7420 736c 6f77 202d 7475  -preset slow -tu
+0001a700: 6e65 2073 7469 6c6c 696d 6167 6520 2d70  ne stillimage -p
+0001a710: 6978 5f66 6d74 2079 7576 3432 3070 2022  ix_fmt yuv420p "
+0001a720: 7b70 6174 687d 2220 2d68 6964 655f 6261  {path}" -hide_ba
+0001a730: 6e6e 6572 202d 6c6f 676c 6576 656c 2065  nner -loglevel e
+0001a740: 7272 6f72 202d 7927 0a20 2020 2065 6c73  rror -y'.    els
+0001a750: 653a 0a20 2020 2020 2020 2063 6d64 203d  e:.        cmd =
+0001a760: 2066 2766 666d 7065 6720 2d79 202d 7420   f'ffmpeg -y -t 
+0001a770: 7b6c 656e 6774 687d 202d 6620 6c61 7666  {length} -f lavf
+0001a780: 6920 2d69 2063 6f6c 6f72 3d63 3d7b 636f  i -i color=c={co
+0001a790: 6c6f 727d 3a73 3d7b 7769 6474 687d 787b  lor}:s={width}x{
+0001a7a0: 6865 6967 6874 7d20 2d63 3a76 206c 6962  height} -c:v lib
+0001a7b0: 7832 3634 202d 7475 6e65 2073 7469 6c6c  x264 -tune still
+0001a7c0: 696d 6167 6520 2d70 6978 5f66 6d74 2079  image -pix_fmt y
+0001a7d0: 7576 3432 3070 2022 7b70 6174 687d 2220  uv420p "{path}" 
+0001a7e0: 2d68 6964 655f 6261 6e6e 6572 202d 6c6f  -hide_banner -lo
+0001a7f0: 676c 6576 656c 2065 7272 6f72 202d 7927  glevel error -y'
+0001a800: 0a20 2020 2073 7562 7072 6f63 6573 732e  .    subprocess.
+0001a810: 6361 6c6c 2863 6d64 2c20 7368 656c 6c3d  call(cmd, shell=
+0001a820: 5472 7565 2c20 7374 646f 7574 3d73 7562  True, stdout=sub
+0001a830: 7072 6f63 6573 732e 5049 5045 290a 2020  process.PIPE).  
+0001a840: 2020 7469 6d65 722e 7374 6f70 5f74 696d    timer.stop_tim
+0001a850: 6572 2829 0a20 2020 2069 6620 7665 7262  er().    if verb
+0001a860: 6f73 653a 0a20 2020 2020 2020 2070 7269  ose:.        pri
+0001a870: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
+0001a880: 6622 426c 616e 6b20 7669 6465 6f20 636f  f"Blank video co
+0001a890: 6d70 6c65 7465 2e20 5361 7665 6420 6174  mplete. Saved at
+0001a8a0: 207b 7061 7468 7d2e 2045 6c61 7073 6564   {path}. Elapsed
+0001a8b0: 2074 696d 653a 207b 7469 6d65 722e 656c   time: {timer.el
+0001a8c0: 6170 7365 645f 7469 6d65 5f73 7472 7d73  apsed_time_str}s
+0001a8d0: 2e22 0a20 2020 2020 2020 2029 0a0a 0a64  .".        )...d
+0001a8e0: 6566 2068 6f72 697a 6f6e 7461 6c5f 7669  ef horizontal_vi
+0001a8f0: 6465 6f5f 636f 6e63 6174 656e 6174 6f72  deo_concatenator
+0001a900: 280a 2020 2020 7669 6465 6f5f 7061 7468  (.    video_path
+0001a910: 733a 204c 6973 745b 556e 696f 6e5b 7374  s: List[Union[st
+0001a920: 722c 206f 732e 5061 7468 4c69 6b65 5d5d  r, os.PathLike]]
+0001a930: 2c0a 2020 2020 7361 7665 5f70 6174 683a  ,.    save_path:
+0001a940: 2055 6e69 6f6e 5b73 7472 2c20 6f73 2e50   Union[str, os.P
+0001a950: 6174 684c 696b 655d 2c0a 2020 2020 6865  athLike],.    he
+0001a960: 6967 6874 5f70 783a 204f 7074 696f 6e61  ight_px: Optiona
+0001a970: 6c5b 556e 696f 6e5b 696e 742c 2073 7472  l[Union[int, str
+0001a980: 5d5d 203d 204e 6f6e 652c 0a20 2020 2068  ]] = None,.    h
+0001a990: 6569 6768 745f 6964 783a 204f 7074 696f  eight_idx: Optio
+0001a9a0: 6e61 6c5b 556e 696f 6e5b 696e 742c 2073  nal[Union[int, s
+0001a9b0: 7472 5d5d 203d 204e 6f6e 652c 0a20 2020  tr]] = None,.   
+0001a9c0: 2067 7075 3a20 4f70 7469 6f6e 616c 5b62   gpu: Optional[b
+0001a9d0: 6f6f 6c5d 203d 2046 616c 7365 2c0a 2020  ool] = False,.  
+0001a9e0: 2020 7665 7262 6f73 653a 204f 7074 696f    verbose: Optio
+0001a9f0: 6e61 6c5b 626f 6f6c 5d20 3d20 5472 7565  nal[bool] = True
+0001aa00: 2c0a 2920 2d3e 204e 6f6e 653a 0a20 2020  ,.) -> None:.   
+0001aa10: 2022 2222 0a20 2020 2043 6f6e 6361 7465   """.    Concate
+0001aa20: 6e61 7465 7320 6d75 6c74 6970 6c65 2076  nates multiple v
+0001aa30: 6964 656f 7320 686f 7269 7a6f 6e74 616c  ideos horizontal
+0001aa40: 6c79 2e0a 0a20 2020 202e 2e20 696d 6167  ly...    .. imag
+0001aa50: 653a 3a20 5f73 7461 7469 632f 696d 672f  e:: _static/img/
+0001aa60: 686f 7269 7a6f 6e74 616c 5f76 6964 656f  horizontal_video
+0001aa70: 5f63 6f6e 6361 7465 6e61 746f 722e 6769  _concatenator.gi
+0001aa80: 660a 2020 2020 2020 203a 7769 6474 683a  f.       :width:
+0001aa90: 2031 3030 300a 2020 2020 2020 203a 616c   1000.       :al
+0001aaa0: 6967 6e3a 2063 656e 7465 720a 0a20 2020  ign: center..   
+0001aab0: 203a 7061 7261 6d20 4c69 7374 5b55 6e69   :param List[Uni
+0001aac0: 6f6e 5b73 7472 2c20 6f73 2e50 6174 684c  on[str, os.PathL
+0001aad0: 696b 655d 5d20 7669 6465 6f5f 7061 7468  ike]] video_path
+0001aae0: 733a 204c 6973 7420 6f66 2069 6e70 7574  s: List of input
+0001aaf0: 2076 6964 656f 2066 696c 6520 7061 7468   video file path
+0001ab00: 732e 0a20 2020 203a 7061 7261 6d20 556e  s..    :param Un
+0001ab10: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+0001ab20: 4c69 6b65 5d20 7361 7665 5f70 6174 683a  Like] save_path:
+0001ab30: 2046 696c 6520 7061 7468 2074 6f20 7361   File path to sa
+0001ab40: 7665 2074 6865 2063 6f6e 6361 7465 6e61  ve the concatena
+0001ab50: 7465 6420 7669 6465 6f2e 0a20 2020 203a  ted video..    :
+0001ab60: 7061 7261 6d20 4f70 7469 6f6e 616c 5b69  param Optional[i
+0001ab70: 6e74 5d20 6865 6967 6874 5f70 783a 2048  nt] height_px: H
+0001ab80: 6569 6768 7420 6f66 2074 6865 206f 7574  eight of the out
+0001ab90: 7075 7420 7669 6465 6f20 696e 2070 6978  put video in pix
+0001aba0: 656c 732e 0a20 2020 203a 7061 7261 6d20  els..    :param 
+0001abb0: 4f70 7469 6f6e 616c 5b69 6e74 5d20 6865  Optional[int] he
+0001abc0: 6967 6874 5f69 6478 3a20 496e 6465 7820  ight_idx: Index 
+0001abd0: 6f66 2074 6865 2076 6964 656f 2074 6f20  of the video to 
+0001abe0: 7573 6520 666f 7220 6465 7465 726d 696e  use for determin
+0001abf0: 696e 6720 4865 6967 6874 2e0a 2020 2020  ing Height..    
+0001ac00: 3a70 6172 616d 204f 7074 696f 6e61 6c5b  :param Optional[
+0001ac10: 626f 6f6c 5d20 6770 753a 2057 6865 7468  bool] gpu: Wheth
+0001ac20: 6572 2074 6f20 7573 6520 4750 552d 6163  er to use GPU-ac
+0001ac30: 6365 6c65 7261 7465 6420 636f 6465 6320  celerated codec 
+0001ac40: 2864 6566 6175 6c74 3a20 4661 6c73 6529  (default: False)
+0001ac50: 2e0a 2020 2020 3a70 6172 616d 204f 7074  ..    :param Opt
+0001ac60: 696f 6e61 6c5b 626f 6f6c 5d20 7665 7262  ional[bool] verb
+0001ac70: 6f73 653a 5768 6574 6865 7220 746f 2070  ose:Whether to p
+0001ac80: 7269 6e74 2070 726f 6772 6573 7320 6d65  rint progress me
+0001ac90: 7373 6167 6573 2028 6465 6661 756c 743a  ssages (default:
+0001aca0: 2054 7275 6529 2e0a 0a20 2020 203a 6578   True)...    :ex
+0001acb0: 616d 706c 653a 0a20 2020 203e 3e3e 2076  ample:.    >>> v
+0001acc0: 6964 656f 5f70 6174 6873 203d 205b 2776  ideo_paths = ['v
+0001acd0: 6964 656f 312e 6d70 3427 2c20 2776 6964  ideo1.mp4', 'vid
+0001ace0: 656f 322e 6d70 3427 5d0a 2020 2020 3e3e  eo2.mp4'].    >>
+0001acf0: 3e20 7820 3d20 686f 7269 7a6f 6e74 616c  > x = horizontal
+0001ad00: 5f76 6964 656f 5f63 6f6e 6361 7465 6e61  _video_concatena
+0001ad10: 746f 7228 7669 6465 6f5f 7061 7468 733d  tor(video_paths=
+0001ad20: 7669 6465 6f5f 7061 7468 732c 2068 6569  video_paths, hei
+0001ad30: 6768 745f 7078 3d35 302c 2073 6176 655f  ght_px=50, save_
+0001ad40: 7061 7468 3d27 2f55 7365 7273 2f73 696d  path='/Users/sim
+0001ad50: 6f6e 2f44 6573 6b74 6f70 2f65 6e76 732f  on/Desktop/envs/
+0001ad60: 7369 6d62 612f 7472 6f75 626c 6573 686f  simba/troublesho
+0001ad70: 6f74 696e 672f 5241 545f 4e4f 522f 7072  oting/RAT_NOR/pr
+0001ad80: 6f6a 6563 745f 666f 6c64 6572 2f76 6964  oject_folder/vid
+0001ad90: 656f 732f 7465 7374 2f6e 6577 2f30 3831  eos/test/new/081
+0001ada0: 3032 3032 315f 444f 545f 5261 7437 5f38  02021_DOT_Rat7_8
+0001adb0: 2832 295f 2e6d 7034 272c 2067 7075 3d46  (2)_.mp4', gpu=F
+0001adc0: 616c 7365 290a 2020 2020 2222 220a 2020  alse).    """.  
+0001add0: 2020 6368 6563 6b5f 6666 6d70 6567 5f61    check_ffmpeg_a
+0001ade0: 7661 696c 6162 6c65 2829 0a20 2020 2069  vailable().    i
+0001adf0: 6620 6770 7520 616e 6420 6e6f 7420 6368  f gpu and not ch
+0001ae00: 6563 6b5f 6e76 6964 6561 5f67 7075 5f61  eck_nvidea_gpu_a
+0001ae10: 7661 696c 6162 6c65 2829 3a0a 2020 2020  vailable():.    
+0001ae20: 2020 2020 7261 6973 6520 4646 4d50 4547      raise FFMPEG
+0001ae30: 436f 6465 6347 5055 4572 726f 7228 0a20  CodecGPUError(. 
+0001ae40: 2020 2020 2020 2020 2020 206d 7367 3d22             msg="
+0001ae50: 4e56 4944 4541 2047 5055 206e 6f74 2061  NVIDEA GPU not a
+0001ae60: 7661 696c 6162 6c65 2028 6173 2065 7661  vailable (as eva
+0001ae70: 6c75 6174 6564 2062 7920 6e76 6964 6561  luated by nvidea
+0001ae80: 2d73 6d69 2072 6574 7572 6e69 6e67 204e  -smi returning N
+0001ae90: 6f6e 6529 222c 0a20 2020 2020 2020 2020  one)",.         
+0001aea0: 2020 2073 6f75 7263 653d 686f 7269 7a6f     source=horizo
+0001aeb0: 6e74 616c 5f76 6964 656f 5f63 6f6e 6361  ntal_video_conca
+0001aec0: 7465 6e61 746f 722e 5f5f 6e61 6d65 5f5f  tenator.__name__
+0001aed0: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
+0001aee0: 7469 6d65 7220 3d20 5369 6d62 6154 696d  timer = SimbaTim
+0001aef0: 6572 2873 7461 7274 3d54 7275 6529 0a20  er(start=True). 
+0001af00: 2020 2063 6865 636b 5f76 616c 6964 5f6c     check_valid_l
+0001af10: 7374 280a 2020 2020 2020 2020 6461 7461  st(.        data
+0001af20: 3d76 6964 656f 5f70 6174 6873 2c20 736f  =video_paths, so
+0001af30: 7572 6365 3d68 6f72 697a 6f6e 7461 6c5f  urce=horizontal_
+0001af40: 7669 6465 6f5f 636f 6e63 6174 656e 6174  video_concatenat
+0001af50: 6f72 2e5f 5f6e 616d 655f 5f2c 206d 696e  or.__name__, min
+0001af60: 5f6c 656e 3d32 0a20 2020 2029 0a20 2020  _len=2.    ).   
+0001af70: 2063 6865 636b 5f69 665f 6469 725f 6578   check_if_dir_ex
+0001af80: 6973 7473 280a 2020 2020 2020 2020 696e  ists(.        in
+0001af90: 5f64 6972 3d6f 732e 7061 7468 2e64 6972  _dir=os.path.dir
+0001afa0: 6e61 6d65 2873 6176 655f 7061 7468 292c  name(save_path),
+0001afb0: 2073 6f75 7263 653d 686f 7269 7a6f 6e74   source=horizont
+0001afc0: 616c 5f76 6964 656f 5f63 6f6e 6361 7465  al_video_concate
+0001afd0: 6e61 746f 722e 5f5f 6e61 6d65 5f5f 0a20  nator.__name__. 
+0001afe0: 2020 2029 0a20 2020 2076 6964 656f 5f6d     ).    video_m
+0001aff0: 6574 615f 6461 7461 203d 205b 0a20 2020  eta_data = [.   
+0001b000: 2020 2020 2067 6574 5f76 6964 656f 5f6d       get_video_m
+0001b010: 6574 615f 6461 7461 2876 6964 656f 5f70  eta_data(video_p
+0001b020: 6174 683d 7669 6465 6f5f 7061 7468 2920  ath=video_path) 
+0001b030: 666f 7220 7669 6465 6f5f 7061 7468 2069  for video_path i
+0001b040: 6e20 7669 6465 6f5f 7061 7468 730a 2020  n video_paths.  
+0001b050: 2020 5d0a 2020 2020 6966 2028 2868 6569    ].    if ((hei
+0001b060: 6768 745f 7078 2069 7320 4e6f 6e65 2920  ght_px is None) 
+0001b070: 616e 6420 2868 6569 6768 745f 6964 7820  and (height_idx 
+0001b080: 6973 204e 6f6e 6529 2920 6f72 2028 0a20  is None)) or (. 
+0001b090: 2020 2020 2020 2028 6865 6967 6874 5f70         (height_p
+0001b0a0: 7820 6973 206e 6f74 204e 6f6e 6529 2061  x is not None) a
+0001b0b0: 6e64 2028 6865 6967 6874 5f69 6478 2069  nd (height_idx i
+0001b0c0: 7320 6e6f 7420 4e6f 6e65 290a 2020 2020  s not None).    
+0001b0d0: 293a 0a20 2020 2020 2020 2072 6169 7365  ):.        raise
+0001b0e0: 2049 6e76 616c 6964 496e 7075 7445 7272   InvalidInputErr
+0001b0f0: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
+0001b100: 6d73 673d 2250 726f 7669 6465 2061 2068  msg="Provide a h
+0001b110: 6569 6768 745f 7078 204f 5220 6865 6967  eight_px OR heig
+0001b120: 6874 5f69 6478 222c 0a20 2020 2020 2020  ht_idx",.       
+0001b130: 2020 2020 2073 6f75 7263 653d 686f 7269       source=hori
+0001b140: 7a6f 6e74 616c 5f76 6964 656f 5f63 6f6e  zontal_video_con
+0001b150: 6361 7465 6e61 746f 722e 5f5f 6e61 6d65  catenator.__name
+0001b160: 5f5f 2c0a 2020 2020 2020 2020 290a 2020  __,.        ).  
+0001b170: 2020 6966 2068 6569 6768 745f 6964 7820    if height_idx 
+0001b180: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
+0001b190: 2020 2020 2063 6865 636b 5f69 6e74 280a       check_int(.
+0001b1a0: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
+0001b1b0: 3d66 227b 686f 7269 7a6f 6e74 616c 5f76  =f"{horizontal_v
+0001b1c0: 6964 656f 5f63 6f6e 6361 7465 6e61 746f  ideo_concatenato
+0001b1d0: 722e 5f5f 6e61 6d65 5f5f 7d20 6865 6967  r.__name__} heig
+0001b1e0: 6874 222c 0a20 2020 2020 2020 2020 2020  ht",.           
+0001b1f0: 2076 616c 7565 3d68 6569 6768 745f 6964   value=height_id
+0001b200: 782c 0a20 2020 2020 2020 2020 2020 206d  x,.            m
+0001b210: 696e 5f76 616c 7565 3d30 2c0a 2020 2020  in_value=0,.    
+0001b220: 2020 2020 2020 2020 6d61 785f 7661 6c75          max_valu
+0001b230: 653d 6c65 6e28 7669 6465 6f5f 7061 7468  e=len(video_path
+0001b240: 7329 202d 2031 2c0a 2020 2020 2020 2020  s) - 1,.        
+0001b250: 290a 2020 2020 2020 2020 6865 6967 6874  ).        height
+0001b260: 203d 2069 6e74 2876 6964 656f 5f6d 6574   = int(video_met
+0001b270: 615f 6461 7461 5b68 6569 6768 745f 6964  a_data[height_id
+0001b280: 785d 5b22 6865 6967 6874 225d 290a 2020  x]["height"]).  
+0001b290: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001b2a0: 6368 6563 6b5f 696e 7428 0a20 2020 2020  check_int(.     
+0001b2b0: 2020 2020 2020 206e 616d 653d 6622 7b68         name=f"{h
+0001b2c0: 6f72 697a 6f6e 7461 6c5f 7669 6465 6f5f  orizontal_video_
+0001b2d0: 636f 6e63 6174 656e 6174 6f72 2e5f 5f6e  concatenator.__n
+0001b2e0: 616d 655f 5f7d 2068 6569 6768 7422 2c0a  ame__} height",.
+0001b2f0: 2020 2020 2020 2020 2020 2020 7661 6c75              valu
+0001b300: 653d 6865 6967 6874 5f70 782c 0a20 2020  e=height_px,.   
+0001b310: 2020 2020 2020 2020 206d 696e 5f76 616c           min_val
+0001b320: 7565 3d31 2c0a 2020 2020 2020 2020 290a  ue=1,.        ).
+0001b330: 2020 2020 2020 2020 6865 6967 6874 203d          height =
+0001b340: 2069 6e74 2868 6569 6768 745f 7078 290a   int(height_px).
+0001b350: 2020 2020 7669 6465 6f5f 7061 7468 5f73      video_path_s
+0001b360: 7472 203d 2022 2022 2e6a 6f69 6e28 5b66  tr = " ".join([f
+0001b370: 272d 6920 227b 7061 7468 7d22 2720 666f  '-i "{path}"' fo
+0001b380: 7220 7061 7468 2069 6e20 7669 6465 6f5f  r path in video_
+0001b390: 7061 7468 735d 290a 2020 2020 636f 6465  paths]).    code
+0001b3a0: 6320 3d20 2268 3236 345f 6e76 656e 6322  c = "h264_nvenc"
+0001b3b0: 2069 6620 6770 7520 656c 7365 2022 6c69   if gpu else "li
+0001b3c0: 6276 7078 2d76 7039 220a 2020 2020 6669  bvpx-vp9".    fi
+0001b3d0: 6c74 6572 5f63 6f6d 706c 6578 203d 2022  lter_complex = "
+0001b3e0: 3b22 2e6a 6f69 6e28 0a20 2020 2020 2020  ;".join(.       
+0001b3f0: 205b 6622 5b7b 6964 787d 3a76 5d73 6361   [f"[{idx}:v]sca
+0001b400: 6c65 3d2d 313a 7b68 6569 6768 747d 5b76  le=-1:{height}[v
+0001b410: 7b69 6478 7d5d 2220 666f 7220 6964 7820  {idx}]" for idx 
+0001b420: 696e 2072 616e 6765 286c 656e 2876 6964  in range(len(vid
+0001b430: 656f 5f70 6174 6873 2929 5d0a 2020 2020  eo_paths))].    
+0001b440: 290a 2020 2020 6669 6c74 6572 5f63 6f6d  ).    filter_com
+0001b450: 706c 6578 202b 3d20 6622 3b7b 2727 2e6a  plex += f";{''.j
+0001b460: 6f69 6e28 5b66 275b 767b 6964 787d 5d27  oin([f'[v{idx}]'
+0001b470: 2066 6f72 2069 6478 2069 6e20 7261 6e67   for idx in rang
+0001b480: 6528 6c65 6e28 7669 6465 6f5f 7061 7468  e(len(video_path
+0001b490: 7329 295d 297d 6873 7461 636b 3d69 6e70  s))])}hstack=inp
+0001b4a0: 7574 733d 7b6c 656e 2876 6964 656f 5f70  uts={len(video_p
+0001b4b0: 6174 6873 297d 5b76 5d22 0a20 2020 2069  aths)}[v]".    i
+0001b4c0: 6620 7665 7262 6f73 653a 0a20 2020 2020  f verbose:.     
+0001b4d0: 2020 2070 7269 6e74 280a 2020 2020 2020     print(.      
+0001b4e0: 2020 2020 2020 6622 436f 6e63 6174 656e        f"Concaten
+0001b4f0: 6174 696e 6720 7b6c 656e 2876 6964 656f  ating {len(video
+0001b500: 5f70 6174 6873 297d 2076 6964 656f 7320  _paths)} videos 
+0001b510: 686f 7269 7a6f 6e74 616c 6c79 2077 6974  horizontally wit
+0001b520: 6820 6120 7b68 6569 6768 747d 2070 6978  h a {height} pix
+0001b530: 656c 2068 6569 6768 742e 2e2e 2022 0a20  el height... ". 
+0001b540: 2020 2020 2020 2029 0a20 2020 2063 6d64         ).    cmd
+0001b550: 203d 2066 2766 666d 7065 6720 7b76 6964   = f'ffmpeg {vid
+0001b560: 656f 5f70 6174 685f 7374 727d 202d 6669  eo_path_str} -fi
+0001b570: 6c74 6572 5f63 6f6d 706c 6578 2022 7b66  lter_complex "{f
+0001b580: 696c 7465 725f 636f 6d70 6c65 787d 2220  ilter_complex}" 
+0001b590: 2d6d 6170 2022 5b76 5d22 202d 633a 7620  -map "[v]" -c:v 
+0001b5a0: 7b63 6f64 6563 7d20 2d6c 6f67 6c65 7665  {codec} -logleve
+0001b5b0: 6c20 6572 726f 7220 2d73 7461 7473 2022  l error -stats "
+0001b5c0: 7b73 6176 655f 7061 7468 7d22 202d 7927  {save_path}" -y'
+0001b5d0: 0a20 2020 2073 7562 7072 6f63 6573 732e  .    subprocess.
+0001b5e0: 6361 6c6c 2863 6d64 2c20 7368 656c 6c3d  call(cmd, shell=
+0001b5f0: 5472 7565 2c20 7374 646f 7574 3d73 7562  True, stdout=sub
+0001b600: 7072 6f63 6573 732e 5049 5045 290a 2020  process.PIPE).  
+0001b610: 2020 7469 6d65 722e 7374 6f70 5f74 696d    timer.stop_tim
+0001b620: 6572 2829 0a20 2020 2069 6620 7665 7262  er().    if verb
+0001b630: 6f73 653a 0a20 2020 2020 2020 2070 7269  ose:.        pri
+0001b640: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
+0001b650: 6622 486f 7269 7a6f 6e74 616c 2063 6f6e  f"Horizontal con
+0001b660: 6361 7465 6e61 7469 6f6e 2063 6f6d 706c  catenation compl
+0001b670: 6574 652c 2073 6176 6564 2061 7420 7b73  ete, saved at {s
+0001b680: 6176 655f 7061 7468 7d20 2865 6c61 7073  ave_path} (elaps
+0001b690: 6564 2074 696d 653a 207b 7469 6d65 722e  ed time: {timer.
+0001b6a0: 656c 6170 7365 645f 7469 6d65 5f73 7472  elapsed_time_str
+0001b6b0: 7d73 2e29 220a 2020 2020 2020 2020 290a  }s.)".        ).
+0001b6c0: 0a0a 6465 6620 7665 7274 6963 616c 5f76  ..def vertical_v
+0001b6d0: 6964 656f 5f63 6f6e 6361 7465 6e61 746f  ideo_concatenato
+0001b6e0: 7228 0a20 2020 2076 6964 656f 5f70 6174  r(.    video_pat
+0001b6f0: 6873 3a20 4c69 7374 5b55 6e69 6f6e 5b73  hs: List[Union[s
+0001b700: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
+0001b710: 5d2c 0a20 2020 2073 6176 655f 7061 7468  ],.    save_path
+0001b720: 3a20 556e 696f 6e5b 7374 722c 206f 732e  : Union[str, os.
+0001b730: 5061 7468 4c69 6b65 5d2c 0a20 2020 2077  PathLike],.    w
+0001b740: 6964 7468 5f70 783a 204f 7074 696f 6e61  idth_px: Optiona
+0001b750: 6c5b 696e 745d 203d 204e 6f6e 652c 0a20  l[int] = None,. 
+0001b760: 2020 2077 6964 7468 5f69 6478 3a20 4f70     width_idx: Op
+0001b770: 7469 6f6e 616c 5b69 6e74 5d20 3d20 4e6f  tional[int] = No
+0001b780: 6e65 2c0a 2020 2020 6770 753a 204f 7074  ne,.    gpu: Opt
+0001b790: 696f 6e61 6c5b 626f 6f6c 5d20 3d20 4661  ional[bool] = Fa
+0001b7a0: 6c73 652c 0a20 2020 2076 6572 626f 7365  lse,.    verbose
+0001b7b0: 3a20 4f70 7469 6f6e 616c 5b62 6f6f 6c5d  : Optional[bool]
+0001b7c0: 203d 2054 7275 652c 0a29 202d 3e20 4e6f   = True,.) -> No
+0001b7d0: 6e65 3a0a 2020 2020 2222 220a 2020 2020  ne:.    """.    
+0001b7e0: 436f 6e63 6174 656e 6174 6573 206d 756c  Concatenates mul
+0001b7f0: 7469 706c 6520 7669 6465 6f73 2076 6572  tiple videos ver
+0001b800: 7469 6361 6c6c 792e 0a0a 2020 2020 2e2e  tically...    ..
+0001b810: 2069 6d61 6765 3a3a 205f 7374 6174 6963   image:: _static
+0001b820: 2f69 6d67 2f76 6572 7469 6361 6c5f 7669  /img/vertical_vi
+0001b830: 6465 6f5f 636f 6e63 6174 656e 6174 6f72  deo_concatenator
+0001b840: 2e70 6e67 0a20 2020 2020 2020 3a77 6964  .png.       :wid
+0001b850: 7468 3a20 3330 300a 2020 2020 2020 203a  th: 300.       :
+0001b860: 616c 6967 6e3a 2063 656e 7465 720a 0a20  align: center.. 
+0001b870: 2020 203a 7061 7261 6d20 4c69 7374 5b55     :param List[U
+0001b880: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
+0001b890: 684c 696b 655d 5d20 7669 6465 6f5f 7061  hLike]] video_pa
+0001b8a0: 7468 733a 204c 6973 7420 6f66 2069 6e70  ths: List of inp
+0001b8b0: 7574 2076 6964 656f 2066 696c 6520 7061  ut video file pa
+0001b8c0: 7468 732e 0a20 2020 203a 7061 7261 6d20  ths..    :param 
+0001b8d0: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
+0001b8e0: 7468 4c69 6b65 5d20 7361 7665 5f70 6174  thLike] save_pat
+0001b8f0: 683a 2046 696c 6520 7061 7468 2074 6f20  h: File path to 
+0001b900: 7361 7665 2074 6865 2063 6f6e 6361 7465  save the concate
+0001b910: 6e61 7465 6420 7669 6465 6f2e 0a20 2020  nated video..   
+0001b920: 203a 7061 7261 6d20 4f70 7469 6f6e 616c   :param Optional
+0001b930: 5b69 6e74 5d20 7769 6474 685f 7078 3a20  [int] width_px: 
+0001b940: 5769 6474 6820 6f66 2074 6865 206f 7574  Width of the out
+0001b950: 7075 7420 7669 6465 6f20 696e 2070 6978  put video in pix
+0001b960: 656c 732e 0a20 2020 203a 7061 7261 6d20  els..    :param 
+0001b970: 4f70 7469 6f6e 616c 5b69 6e74 5d20 7769  Optional[int] wi
+0001b980: 6474 685f 6964 783a 2049 6e64 6578 206f  dth_idx: Index o
+0001b990: 6620 7468 6520 7669 6465 6f20 746f 2075  f the video to u
+0001b9a0: 7365 2066 6f72 2064 6574 6572 6d69 6e69  se for determini
+0001b9b0: 6e67 2077 6964 7468 2e0a 2020 2020 3a70  ng width..    :p
+0001b9c0: 6172 616d 204f 7074 696f 6e61 6c5b 626f  aram Optional[bo
+0001b9d0: 6f6c 5d20 6770 753a 2057 6865 7468 6572  ol] gpu: Whether
+0001b9e0: 2074 6f20 7573 6520 4750 552d 6163 6365   to use GPU-acce
+0001b9f0: 6c65 7261 7465 6420 636f 6465 6320 2864  lerated codec (d
+0001ba00: 6566 6175 6c74 3a20 4661 6c73 6529 2e0a  efault: False)..
+0001ba10: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
+0001ba20: 6e61 6c5b 626f 6f6c 5d20 7665 7262 6f73  nal[bool] verbos
+0001ba30: 653a 5768 6574 6865 7220 746f 2070 7269  e:Whether to pri
+0001ba40: 6e74 2070 726f 6772 6573 7320 6d65 7373  nt progress mess
+0001ba50: 6167 6573 2028 6465 6661 756c 743a 2054  ages (default: T
+0001ba60: 7275 6529 2e0a 2020 2020 3a72 6169 7365  rue)..    :raise
+0001ba70: 7320 4646 4d50 4547 436f 6465 6347 5055  s FFMPEGCodecGPU
+0001ba80: 4572 726f 723a 2049 6620 4750 5520 6973  Error: If GPU is
+0001ba90: 2072 6571 7565 7374 6564 2062 7574 206e   requested but n
+0001baa0: 6f74 2061 7661 696c 6162 6c65 2e0a 2020  ot available..  
+0001bab0: 2020 3a72 6169 7365 7320 496e 7661 6c69    :raises Invali
+0001bac0: 6449 6e70 7574 4572 726f 723a 2049 6620  dInputError: If 
+0001bad0: 626f 7468 206f 7220 6e65 6974 6865 7220  both or neither 
+0001bae0: 7769 6474 685f 7078 2061 6e64 2077 6964  width_px and wid
+0001baf0: 7468 5f69 6478 2061 7265 2070 726f 7669  th_idx are provi
+0001bb00: 6465 642e 0a0a 2020 2020 3a65 7861 6d70  ded...    :examp
+0001bb10: 6c65 3a0a 2020 2020 3e3e 3e20 7669 6465  le:.    >>> vide
+0001bb20: 6f5f 7061 7468 7320 3d20 5b27 2f55 7365  o_paths = ['/Use
+0001bb30: 7273 2f73 696d 6f6e 2f44 6573 6b74 6f70  rs/simon/Desktop
+0001bb40: 2f65 6e76 732f 7369 6d62 612f 7472 6f75  /envs/simba/trou
+0001bb50: 626c 6573 686f 6f74 696e 672f 5241 545f  bleshooting/RAT_
+0001bb60: 4e4f 522f 7072 6f6a 6563 745f 666f 6c64  NOR/project_fold
+0001bb70: 6572 2f76 6964 656f 732f 7465 7374 2f30  er/videos/test/0
+0001bb80: 3831 3032 3032 315f 444f 545f 5261 7437  8102021_DOT_Rat7
+0001bb90: 5f38 2832 292e 6d70 3427 2c0a 2020 2020  _8(2).mp4',.    
+0001bba0: 3e3e 3e20 2020 2020 2020 2020 2020 2020  >>>             
+0001bbb0: 2020 2027 2f55 7365 7273 2f73 696d 6f6e     '/Users/simon
+0001bbc0: 2f44 6573 6b74 6f70 2f65 6e76 732f 7369  /Desktop/envs/si
+0001bbd0: 6d62 612f 7472 6f75 626c 6573 686f 6f74  mba/troubleshoot
+0001bbe0: 696e 672f 5241 545f 4e4f 522f 7072 6f6a  ing/RAT_NOR/proj
+0001bbf0: 6563 745f 666f 6c64 6572 2f76 6964 656f  ect_folder/video
+0001bc00: 732f 7465 7374 2f30 3831 3032 3032 315f  s/test/08102021_
+0001bc10: 444f 545f 5261 7431 315f 3132 2e6d 7034  DOT_Rat11_12.mp4
+0001bc20: 272c 0a20 2020 203e 3e3e 2020 2020 2020  ',.    >>>      
+0001bc30: 2020 2020 2020 2020 2020 272f 5573 6572            '/User
+0001bc40: 732f 7369 6d6f 6e2f 4465 736b 746f 702f  s/simon/Desktop/
+0001bc50: 656e 7673 2f73 696d 6261 2f74 726f 7562  envs/simba/troub
+0001bc60: 6c65 7368 6f6f 7469 6e67 2f52 4154 5f4e  leshooting/RAT_N
+0001bc70: 4f52 2f70 726f 6a65 6374 5f66 6f6c 6465  OR/project_folde
+0001bc80: 722f 7669 6465 6f73 2f74 6573 742f 3038  r/videos/test/08
+0001bc90: 3130 3230 3231 5f44 4f54 5f52 6174 3131  102021_DOT_Rat11
+0001bca0: 5f31 325f 312e 6d70 3427 5d0a 2020 2020  _12_1.mp4'].    
+0001bcb0: 3e3e 3e20 5f20 3d20 7665 7274 6963 616c  >>> _ = vertical
+0001bcc0: 5f76 6964 656f 5f63 6f6e 6361 7465 6e61  _video_concatena
+0001bcd0: 746f 7228 7669 6465 6f5f 7061 7468 733d  tor(video_paths=
+0001bce0: 7669 6465 6f5f 7061 7468 732c 2077 6964  video_paths, wid
+0001bcf0: 7468 5f69 6478 3d31 2c20 7361 7665 5f70  th_idx=1, save_p
+0001bd00: 6174 683d 272f 5573 6572 732f 7369 6d6f  ath='/Users/simo
+0001bd10: 6e2f 4465 736b 746f 702f 656e 7673 2f73  n/Desktop/envs/s
+0001bd20: 696d 6261 2f74 726f 7562 6c65 7368 6f6f  imba/troubleshoo
+0001bd30: 7469 6e67 2f52 4154 5f4e 4f52 2f70 726f  ting/RAT_NOR/pro
+0001bd40: 6a65 6374 5f66 6f6c 6465 722f 7669 6465  ject_folder/vide
+0001bd50: 6f73 2f74 6573 742f 6e65 772f 3038 3130  os/test/new/0810
+0001bd60: 3230 3231 5f44 4f54 5f52 6174 375f 3828  2021_DOT_Rat7_8(
+0001bd70: 3229 5f2e 6d70 3427 2c20 6770 753d 4661  2)_.mp4', gpu=Fa
+0001bd80: 6c73 6529 0a20 2020 2022 2222 0a0a 2020  lse).    """..  
+0001bd90: 2020 6368 6563 6b5f 6666 6d70 6567 5f61    check_ffmpeg_a
+0001bda0: 7661 696c 6162 6c65 2829 0a20 2020 2069  vailable().    i
+0001bdb0: 6620 6770 7520 616e 6420 6e6f 7420 6368  f gpu and not ch
+0001bdc0: 6563 6b5f 6e76 6964 6561 5f67 7075 5f61  eck_nvidea_gpu_a
+0001bdd0: 7661 696c 6162 6c65 2829 3a0a 2020 2020  vailable():.    
+0001bde0: 2020 2020 7261 6973 6520 4646 4d50 4547      raise FFMPEG
+0001bdf0: 436f 6465 6347 5055 4572 726f 7228 0a20  CodecGPUError(. 
+0001be00: 2020 2020 2020 2020 2020 206d 7367 3d22             msg="
+0001be10: 4e56 4944 4941 2047 5055 206e 6f74 2061  NVIDIA GPU not a
+0001be20: 7661 696c 6162 6c65 222c 2073 6f75 7263  vailable", sourc
+0001be30: 653d 7665 7274 6963 616c 5f76 6964 656f  e=vertical_video
+0001be40: 5f63 6f6e 6361 7465 6e61 746f 722e 5f5f  _concatenator.__
+0001be50: 6e61 6d65 5f5f 0a20 2020 2020 2020 2029  name__.        )
+0001be60: 0a20 2020 2076 6964 656f 5f6d 6574 615f  .    video_meta_
+0001be70: 6461 7461 203d 205b 0a20 2020 2020 2020  data = [.       
+0001be80: 2067 6574 5f76 6964 656f 5f6d 6574 615f   get_video_meta_
+0001be90: 6461 7461 2876 6964 656f 5f70 6174 683d  data(video_path=
+0001bea0: 7669 6465 6f5f 7061 7468 2920 666f 7220  video_path) for 
+0001beb0: 7669 6465 6f5f 7061 7468 2069 6e20 7669  video_path in vi
+0001bec0: 6465 6f5f 7061 7468 730a 2020 2020 5d0a  deo_paths.    ].
+0001bed0: 2020 2020 7469 6d65 7220 3d20 5369 6d62      timer = Simb
+0001bee0: 6154 696d 6572 2873 7461 7274 3d54 7275  aTimer(start=Tru
+0001bef0: 6529 0a20 2020 2063 6865 636b 5f76 616c  e).    check_val
+0001bf00: 6964 5f6c 7374 280a 2020 2020 2020 2020  id_lst(.        
+0001bf10: 6461 7461 3d76 6964 656f 5f70 6174 6873  data=video_paths
+0001bf20: 2c20 736f 7572 6365 3d76 6572 7469 6361  , source=vertica
+0001bf30: 6c5f 7669 6465 6f5f 636f 6e63 6174 656e  l_video_concaten
+0001bf40: 6174 6f72 2e5f 5f6e 616d 655f 5f2c 206d  ator.__name__, m
+0001bf50: 696e 5f6c 656e 3d32 0a20 2020 2029 0a20  in_len=2.    ). 
+0001bf60: 2020 2063 6865 636b 5f69 665f 6469 725f     check_if_dir_
+0001bf70: 6578 6973 7473 280a 2020 2020 2020 2020  exists(.        
+0001bf80: 696e 5f64 6972 3d6f 732e 7061 7468 2e64  in_dir=os.path.d
+0001bf90: 6972 6e61 6d65 2873 6176 655f 7061 7468  irname(save_path
+0001bfa0: 292c 2073 6f75 7263 653d 7665 7274 6963  ), source=vertic
+0001bfb0: 616c 5f76 6964 656f 5f63 6f6e 6361 7465  al_video_concate
+0001bfc0: 6e61 746f 722e 5f5f 6e61 6d65 5f5f 0a20  nator.__name__. 
+0001bfd0: 2020 2029 0a20 2020 2069 6620 2828 7769     ).    if ((wi
+0001bfe0: 6474 685f 7078 2069 7320 4e6f 6e65 2920  dth_px is None) 
+0001bff0: 616e 6420 2877 6964 7468 5f69 6478 2069  and (width_idx i
+0001c000: 7320 4e6f 6e65 2929 206f 7220 280a 2020  s None)) or (.  
+0001c010: 2020 2020 2020 2877 6964 7468 5f70 7820        (width_px 
+0001c020: 6973 206e 6f74 204e 6f6e 6529 2061 6e64  is not None) and
+0001c030: 2028 7769 6474 685f 6964 7820 6973 206e   (width_idx is n
+0001c040: 6f74 204e 6f6e 6529 0a20 2020 2029 3a0a  ot None).    ):.
+0001c050: 2020 2020 2020 2020 7261 6973 6520 496e          raise In
+0001c060: 7661 6c69 6449 6e70 7574 4572 726f 7228  validInputError(
+0001c070: 0a20 2020 2020 2020 2020 2020 206d 7367  .            msg
+0001c080: 3d22 5072 6f76 6964 6520 6120 7769 6474  ="Provide a widt
+0001c090: 685f 7078 204f 5220 7769 6474 685f 6964  h_px OR width_id
+0001c0a0: 7822 2c0a 2020 2020 2020 2020 2020 2020  x",.            
+0001c0b0: 736f 7572 6365 3d76 6572 7469 6361 6c5f  source=vertical_
+0001c0c0: 7669 6465 6f5f 636f 6e63 6174 656e 6174  video_concatenat
+0001c0d0: 6f72 2e5f 5f6e 616d 655f 5f2c 0a20 2020  or.__name__,.   
+0001c0e0: 2020 2020 2029 0a20 2020 2069 6620 7769       ).    if wi
+0001c0f0: 6474 685f 6964 7820 6973 206e 6f74 204e  dth_idx is not N
+0001c100: 6f6e 653a 0a20 2020 2020 2020 2063 6865  one:.        che
+0001c110: 636b 5f69 6e74 280a 2020 2020 2020 2020  ck_int(.        
+0001c120: 2020 2020 6e61 6d65 3d66 227b 7665 7274      name=f"{vert
+0001c130: 6963 616c 5f76 6964 656f 5f63 6f6e 6361  ical_video_conca
+0001c140: 7465 6e61 746f 722e 5f5f 6e61 6d65 5f5f  tenator.__name__
+0001c150: 7d20 7769 6474 6820 696e 6465 7822 2c0a  } width index",.
+0001c160: 2020 2020 2020 2020 2020 2020 7661 6c75              valu
+0001c170: 653d 7769 6474 685f 6964 782c 0a20 2020  e=width_idx,.   
+0001c180: 2020 2020 2020 2020 206d 696e 5f76 616c           min_val
+0001c190: 7565 3d30 2c0a 2020 2020 2020 2020 2020  ue=0,.          
+0001c1a0: 2020 6d61 785f 7661 6c75 653d 6c65 6e28    max_value=len(
+0001c1b0: 7669 6465 6f5f 7061 7468 7329 202d 2031  video_paths) - 1
+0001c1c0: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
+0001c1d0: 2020 2020 7769 6474 6820 3d20 696e 7428      width = int(
+0001c1e0: 7669 6465 6f5f 6d65 7461 5f64 6174 615b  video_meta_data[
+0001c1f0: 7769 6474 685f 6964 785d 5b22 7769 6474  width_idx]["widt
+0001c200: 6822 5d29 0a20 2020 2065 6c73 653a 0a20  h"]).    else:. 
+0001c210: 2020 2020 2020 2063 6865 636b 5f69 6e74         check_int
+0001c220: 280a 2020 2020 2020 2020 2020 2020 6e61  (.            na
+0001c230: 6d65 3d66 227b 7665 7274 6963 616c 5f76  me=f"{vertical_v
+0001c240: 6964 656f 5f63 6f6e 6361 7465 6e61 746f  ideo_concatenato
+0001c250: 722e 5f5f 6e61 6d65 5f5f 7d20 7769 6474  r.__name__} widt
+0001c260: 6822 2c0a 2020 2020 2020 2020 2020 2020  h",.            
+0001c270: 7661 6c75 653d 7769 6474 685f 7078 2c0a  value=width_px,.
+0001c280: 2020 2020 2020 2020 2020 2020 6d69 6e5f              min_
+0001c290: 7661 6c75 653d 312c 0a20 2020 2020 2020  value=1,.       
+0001c2a0: 2029 0a20 2020 2020 2020 2077 6964 7468   ).        width
+0001c2b0: 203d 2069 6e74 2877 6964 7468 5f70 7829   = int(width_px)
+0001c2c0: 0a20 2020 2076 6964 656f 5f70 6174 685f  .    video_path_
+0001c2d0: 7374 7220 3d20 2220 222e 6a6f 696e 285b  str = " ".join([
+0001c2e0: 6627 2d69 2022 7b70 6174 687d 2227 2066  f'-i "{path}"' f
+0001c2f0: 6f72 2070 6174 6820 696e 2076 6964 656f  or path in video
+0001c300: 5f70 6174 6873 5d29 0a20 2020 2063 6f64  _paths]).    cod
+0001c310: 6563 203d 2022 6832 3634 5f6e 7665 6e63  ec = "h264_nvenc
+0001c320: 2220 6966 2067 7075 2065 6c73 6520 226c  " if gpu else "l
+0001c330: 6962 7670 782d 7670 3922 0a20 2020 2066  ibvpx-vp9".    f
+0001c340: 696c 7465 725f 636f 6d70 6c65 7820 3d20  ilter_complex = 
+0001c350: 223b 222e 6a6f 696e 280a 2020 2020 2020  ";".join(.      
+0001c360: 2020 5b66 225b 7b69 6478 7d3a 765d 7363    [f"[{idx}:v]sc
+0001c370: 616c 653d 7b77 6964 7468 7d3a 2d31 5b76  ale={width}:-1[v
+0001c380: 7b69 6478 7d5d 2220 666f 7220 6964 7820  {idx}]" for idx 
+0001c390: 696e 2072 616e 6765 286c 656e 2876 6964  in range(len(vid
+0001c3a0: 656f 5f70 6174 6873 2929 5d0a 2020 2020  eo_paths))].    
+0001c3b0: 290a 2020 2020 6669 6c74 6572 5f63 6f6d  ).    filter_com
+0001c3c0: 706c 6578 202b 3d20 6622 3b7b 2727 2e6a  plex += f";{''.j
+0001c3d0: 6f69 6e28 5b66 275b 767b 6964 787d 5d27  oin([f'[v{idx}]'
+0001c3e0: 2066 6f72 2069 6478 2069 6e20 7261 6e67   for idx in rang
+0001c3f0: 6528 6c65 6e28 7669 6465 6f5f 7061 7468  e(len(video_path
+0001c400: 7329 295d 297d 220a 2020 2020 6669 6c74  s))])}".    filt
+0001c410: 6572 5f63 6f6d 706c 6578 202b 3d20 6622  er_complex += f"
+0001c420: 7673 7461 636b 3d69 6e70 7574 733d 7b6c  vstack=inputs={l
+0001c430: 656e 2876 6964 656f 5f70 6174 6873 297d  en(video_paths)}
+0001c440: 5b76 5d22 0a20 2020 2069 6620 7665 7262  [v]".    if verb
+0001c450: 6f73 653a 0a20 2020 2020 2020 2070 7269  ose:.        pri
+0001c460: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
+0001c470: 6622 436f 6e63 6174 656e 6174 696e 6720  f"Concatenating 
+0001c480: 7b6c 656e 2876 6964 656f 5f70 6174 6873  {len(video_paths
+0001c490: 297d 2076 6964 656f 7320 7665 7274 6963  )} videos vertic
+0001c4a0: 616c 6c79 2077 6974 6820 6120 7b77 6964  ally with a {wid
+0001c4b0: 7468 7d20 7069 7865 6c20 7769 6474 682e  th} pixel width.
+0001c4c0: 2e2e 220a 2020 2020 2020 2020 290a 2020  ..".        ).  
+0001c4d0: 2020 636d 6420 3d20 6627 6666 6d70 6567    cmd = f'ffmpeg
+0001c4e0: 207b 7669 6465 6f5f 7061 7468 5f73 7472   {video_path_str
+0001c4f0: 7d20 2d66 696c 7465 725f 636f 6d70 6c65  } -filter_comple
+0001c500: 7820 227b 6669 6c74 6572 5f63 6f6d 706c  x "{filter_compl
+0001c510: 6578 7d22 202d 6d61 7020 225b 765d 2220  ex}" -map "[v]" 
+0001c520: 2d63 3a76 207b 636f 6465 637d 202d 6c6f  -c:v {codec} -lo
+0001c530: 676c 6576 656c 2065 7272 6f72 202d 7374  glevel error -st
+0001c540: 6174 7320 227b 7361 7665 5f70 6174 687d  ats "{save_path}
+0001c550: 2220 2d79 270a 2020 2020 7375 6270 726f  " -y'.    subpro
+0001c560: 6365 7373 2e63 616c 6c28 636d 642c 2073  cess.call(cmd, s
+0001c570: 6865 6c6c 3d54 7275 652c 2073 7464 6f75  hell=True, stdou
+0001c580: 743d 7375 6270 726f 6365 7373 2e50 4950  t=subprocess.PIP
+0001c590: 4529 0a20 2020 2074 696d 6572 2e73 746f  E).    timer.sto
+0001c5a0: 705f 7469 6d65 7228 290a 2020 2020 6966  p_timer().    if
+0001c5b0: 2076 6572 626f 7365 3a0a 2020 2020 2020   verbose:.      
+0001c5c0: 2020 7072 696e 7428 0a20 2020 2020 2020    print(.       
+0001c5d0: 2020 2020 2066 2256 6572 7469 6361 6c20       f"Vertical 
+0001c5e0: 636f 6e63 6174 656e 6174 696f 6e20 636f  concatenation co
+0001c5f0: 6d70 6c65 7465 2e20 5361 7665 6420 6174  mplete. Saved at
+0001c600: 207b 7361 7665 5f70 6174 687d 2028 456c   {save_path} (El
+0001c610: 6170 7365 6420 7469 6d65 3a20 7b74 696d  apsed time: {tim
+0001c620: 6572 2e65 6c61 7073 6564 5f74 696d 655f  er.elapsed_time_
+0001c630: 7374 727d 732e 2922 0a20 2020 2020 2020  str}s.)".       
+0001c640: 2029 0a0a 0a64 6566 206d 6f73 6169 635f   )...def mosaic_
+0001c650: 636f 6e63 6174 656e 6174 6f72 280a 2020  concatenator(.  
+0001c660: 2020 7669 6465 6f5f 7061 7468 733a 204c    video_paths: L
+0001c670: 6973 745b 556e 696f 6e5b 7374 722c 206f  ist[Union[str, o
+0001c680: 732e 5061 7468 4c69 6b65 5d5d 2c0a 2020  s.PathLike]],.  
+0001c690: 2020 7361 7665 5f70 6174 683a 2055 6e69    save_path: Uni
+0001c6a0: 6f6e 5b73 7472 2c20 6f73 2e50 6174 684c  on[str, os.PathL
+0001c6b0: 696b 655d 2c0a 2020 2020 7769 6474 685f  ike],.    width_
+0001c6c0: 6964 783a 204f 7074 696f 6e61 6c5b 556e  idx: Optional[Un
+0001c6d0: 696f 6e5b 696e 742c 2073 7472 5d5d 203d  ion[int, str]] =
+0001c6e0: 204e 6f6e 652c 0a20 2020 2077 6964 7468   None,.    width
+0001c6f0: 5f70 783a 204f 7074 696f 6e61 6c5b 556e  _px: Optional[Un
+0001c700: 696f 6e5b 696e 742c 2073 7472 5d5d 203d  ion[int, str]] =
+0001c710: 204e 6f6e 652c 0a20 2020 2068 6569 6768   None,.    heigh
+0001c720: 745f 6964 783a 204f 7074 696f 6e61 6c5b  t_idx: Optional[
+0001c730: 556e 696f 6e5b 696e 742c 2073 7472 5d5d  Union[int, str]]
+0001c740: 203d 204e 6f6e 652c 0a20 2020 2068 6569   = None,.    hei
+0001c750: 6768 745f 7078 3a20 4f70 7469 6f6e 616c  ght_px: Optional
+0001c760: 5b55 6e69 6f6e 5b69 6e74 2c20 7374 725d  [Union[int, str]
+0001c770: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 6770  ] = None,.    gp
+0001c780: 753a 204f 7074 696f 6e61 6c5b 626f 6f6c  u: Optional[bool
+0001c790: 5d20 3d20 4661 6c73 652c 0a20 2020 2076  ] = False,.    v
+0001c7a0: 6572 626f 7365 3a20 4f70 7469 6f6e 616c  erbose: Optional
+0001c7b0: 5b62 6f6f 6c5d 203d 2054 7275 652c 0a20  [bool] = True,. 
+0001c7c0: 2020 2075 6e65 7665 6e5f 6669 6c6c 5f63     uneven_fill_c
+0001c7d0: 6f6c 6f72 3a20 4f70 7469 6f6e 616c 5b73  olor: Optional[s
+0001c7e0: 7472 5d20 3d20 2262 6c61 636b 222c 0a29  tr] = "black",.)
+0001c7f0: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2222   -> None:.    ""
+0001c800: 220a 2020 2020 436f 6e63 6174 656e 6174  ".    Concatenat
+0001c810: 6573 206d 756c 7469 706c 6520 7669 6465  es multiple vide
+0001c820: 6f73 2069 6e74 6f20 6120 6d6f 7361 6963  os into a mosaic
+0001c830: 206c 6179 6f75 742e 0a0a 2020 2020 2e2e   layout...    ..
+0001c840: 2069 6d61 6765 3a3a 205f 7374 6174 6963   image:: _static
+0001c850: 2f69 6d67 2f6d 6f73 6169 635f 636f 6e63  /img/mosaic_conc
+0001c860: 6174 656e 6174 6f72 2e70 6e67 0a20 2020  atenator.png.   
+0001c870: 2020 2020 3a77 6964 7468 3a20 3630 300a      :width: 600.
+0001c880: 2020 2020 2020 203a 616c 6967 6e3a 2063         :align: c
+0001c890: 656e 7465 720a 0a20 2020 202e 2e20 6e6f  enter..    .. no
+0001c8a0: 7465 3a3a 0a20 2020 2020 2020 6966 2061  te::.       if a
+0001c8b0: 6e20 756e 6576 656e 206e 756d 6265 7220  n uneven number 
+0001c8c0: 6f66 2076 6964 656f 732c 2074 6865 206c  of videos, the l
+0001c8d0: 6173 7420 696e 6465 7820 7769 6c6c 2062  ast index will b
+0001c8e0: 6520 6669 6c6c 6564 2062 7920 6060 756e  e filled by ``un
+0001c8f0: 6576 656e 5f66 696c 6c5f 636f 6c6f 7260  even_fill_color`
+0001c900: 602e 0a0a 2020 2020 3a70 6172 616d 204c  `...    :param L
+0001c910: 6973 745b 556e 696f 6e5b 7374 722c 206f  ist[Union[str, o
+0001c920: 732e 5061 7468 4c69 6b65 5d5d 2076 6964  s.PathLike]] vid
+0001c930: 656f 5f70 6174 6873 3a20 4c69 7374 206f  eo_paths: List o
+0001c940: 6620 696e 7075 7420 7669 6465 6f20 6669  f input video fi
+0001c950: 6c65 2070 6174 6873 2e0a 2020 2020 3a70  le paths..    :p
+0001c960: 6172 616d 2055 6e69 6f6e 5b73 7472 2c20  aram Union[str, 
+0001c970: 6f73 2e50 6174 684c 696b 655d 2073 6176  os.PathLike] sav
+0001c980: 655f 7061 7468 3a20 4669 6c65 2070 6174  e_path: File pat
+0001c990: 6820 746f 2073 6176 6520 7468 6520 636f  h to save the co
+0001c9a0: 6e63 6174 656e 6174 6564 2076 6964 656f  ncatenated video
+0001c9b0: 2e0a 2020 2020 3a70 6172 616d 204f 7074  ..    :param Opt
+0001c9c0: 696f 6e61 6c5b 696e 745d 2077 6964 7468  ional[int] width
+0001c9d0: 5f70 783a 2057 6964 7468 206f 6620 7468  _px: Width of th
+0001c9e0: 6520 6f75 7470 7574 2076 6964 656f 2069  e output video i
+0001c9f0: 6e20 7069 7865 6c73 2e0a 2020 2020 3a70  n pixels..    :p
+0001ca00: 6172 616d 204f 7074 696f 6e61 6c5b 696e  aram Optional[in
+0001ca10: 745d 2077 6964 7468 5f69 6478 3a20 496e  t] width_idx: In
+0001ca20: 6465 7820 6f66 2074 6865 2076 6964 656f  dex of the video
+0001ca30: 2074 6f20 7573 6520 666f 7220 6465 7465   to use for dete
+0001ca40: 726d 696e 696e 6720 7769 6474 682e 0a20  rmining width.. 
+0001ca50: 2020 203a 7061 7261 6d20 4f70 7469 6f6e     :param Option
+0001ca60: 616c 5b69 6e74 5d20 6865 6967 6874 5f70  al[int] height_p
+0001ca70: 783a 2048 6569 6768 7420 6f66 2074 6865  x: Height of the
+0001ca80: 206f 7574 7075 7420 7669 6465 6f20 7061   output video pa
+0001ca90: 6e65 6c73 2069 6e20 7069 7865 6c73 2e0a  nels in pixels..
+0001caa0: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
+0001cab0: 6e61 6c5b 696e 745d 2068 6569 6768 745f  nal[int] height_
+0001cac0: 6964 783a 2048 6569 6768 7420 6f66 2074  idx: Height of t
+0001cad0: 6865 2076 6964 656f 2074 6f20 7573 6520  he video to use 
+0001cae0: 666f 7220 6465 7465 726d 696e 696e 6720  for determining 
+0001caf0: 7769 6474 682e 0a20 2020 203a 7061 7261  width..    :para
+0001cb00: 6d20 4f70 7469 6f6e 616c 5b62 6f6f 6c5d  m Optional[bool]
+0001cb10: 2067 7075 3a20 5768 6574 6865 7220 746f   gpu: Whether to
+0001cb20: 2075 7365 2047 5055 2d61 6363 656c 6572   use GPU-acceler
+0001cb30: 6174 6564 2063 6f64 6563 2028 6465 6661  ated codec (defa
+0001cb40: 756c 743a 2046 616c 7365 292e 0a20 2020  ult: False)..   
+0001cb50: 203a 7061 7261 6d20 4f70 7469 6f6e 616c   :param Optional
+0001cb60: 5b62 6f6f 6c5d 2076 6572 626f 7365 3a20  [bool] verbose: 
+0001cb70: 5768 6574 6865 7220 746f 2070 7269 6e74  Whether to print
+0001cb80: 2070 726f 6772 6573 7320 6d65 7373 6167   progress messag
+0001cb90: 6573 2028 6465 6661 756c 743a 2054 7275  es (default: Tru
+0001cba0: 6529 2e0a 0a20 2020 203a 6578 616d 706c  e)...    :exampl
+0001cbb0: 653a 0a20 2020 203e 3e3e 2076 6964 656f  e:.    >>> video
+0001cbc0: 5f70 6174 6873 203d 205b 272f 5573 6572  _paths = ['/User
+0001cbd0: 732f 7369 6d6f 6e2f 4465 736b 746f 702f  s/simon/Desktop/
+0001cbe0: 656e 7673 2f73 696d 6261 2f74 726f 7562  envs/simba/troub
+0001cbf0: 6c65 7368 6f6f 7469 6e67 2f52 4154 5f4e  leshooting/RAT_N
+0001cc00: 4f52 2f70 726f 6a65 6374 5f66 6f6c 6465  OR/project_folde
+0001cc10: 722f 7669 6465 6f73 2f74 6573 742f 3038  r/videos/test/08
+0001cc20: 3130 3230 3231 5f44 4f54 5f52 6174 375f  102021_DOT_Rat7_
+0001cc30: 3828 3229 2e6d 7034 272c 2027 2f55 7365  8(2).mp4', '/Use
+0001cc40: 7273 2f73 696d 6f6e 2f44 6573 6b74 6f70  rs/simon/Desktop
+0001cc50: 2f65 6e76 732f 7369 6d62 612f 7472 6f75  /envs/simba/trou
+0001cc60: 626c 6573 686f 6f74 696e 672f 5241 545f  bleshooting/RAT_
+0001cc70: 4e4f 522f 7072 6f6a 6563 745f 666f 6c64  NOR/project_fold
+0001cc80: 6572 2f76 6964 656f 732f 7465 7374 2f30  er/videos/test/0
+0001cc90: 3831 3032 3032 315f 444f 545f 5261 7431  8102021_DOT_Rat1
+0001cca0: 315f 3132 2e6d 7034 272c 2027 2f55 7365  1_12.mp4', '/Use
+0001ccb0: 7273 2f73 696d 6f6e 2f44 6573 6b74 6f70  rs/simon/Desktop
+0001ccc0: 2f65 6e76 732f 7369 6d62 612f 7472 6f75  /envs/simba/trou
+0001ccd0: 626c 6573 686f 6f74 696e 672f 5241 545f  bleshooting/RAT_
+0001cce0: 4e4f 522f 7072 6f6a 6563 745f 666f 6c64  NOR/project_fold
+0001ccf0: 6572 2f76 6964 656f 732f 7465 7374 2f6e  er/videos/test/n
+0001cd00: 6577 2f32 3032 322d 3036 2d32 315f 4e4f  ew/2022-06-21_NO
+0001cd10: 425f 494f 545f 3233 2e6d 7034 275d 0a20  B_IOT_23.mp4']. 
+0001cd20: 2020 203e 3e3e 2073 6176 655f 7061 7468     >>> save_path
+0001cd30: 203d 2027 2f55 7365 7273 2f73 696d 6f6e   = '/Users/simon
+0001cd40: 2f44 6573 6b74 6f70 2f65 6e76 732f 7369  /Desktop/envs/si
+0001cd50: 6d62 612f 7472 6f75 626c 6573 686f 6f74  mba/troubleshoot
+0001cd60: 696e 672f 5241 545f 4e4f 522f 7072 6f6a  ing/RAT_NOR/proj
+0001cd70: 6563 745f 666f 6c64 6572 2f76 6964 656f  ect_folder/video
+0001cd80: 732f 7465 7374 2f6e 6577 2f62 6c61 6e6b  s/test/new/blank
+0001cd90: 5f74 6573 742e 6d70 3427 0a20 2020 203e  _test.mp4'.    >
+0001cda0: 3e3e 206d 6f73 6169 635f 636f 6e63 6174  >> mosaic_concat
+0001cdb0: 656e 6174 6f72 2876 6964 656f 5f70 6174  enator(video_pat
+0001cdc0: 6873 3d76 6964 656f 5f70 6174 6873 2c20  hs=video_paths, 
+0001cdd0: 7361 7665 5f70 6174 683d 7361 7665 5f70  save_path=save_p
+0001cde0: 6174 682c 2077 6964 7468 5f69 6478 3d31  ath, width_idx=1
+0001cdf0: 2c20 6865 6967 6874 5f69 6478 3d31 2c20  , height_idx=1, 
+0001ce00: 6770 753d 4661 6c73 6529 0a20 2020 2022  gpu=False).    "
+0001ce10: 2222 0a0a 2020 2020 6368 6563 6b5f 6666  ""..    check_ff
+0001ce20: 6d70 6567 5f61 7661 696c 6162 6c65 2829  mpeg_available()
+0001ce30: 0a20 2020 2069 6620 6770 7520 616e 6420  .    if gpu and 
+0001ce40: 6e6f 7420 6368 6563 6b5f 6e76 6964 6561  not check_nvidea
+0001ce50: 5f67 7075 5f61 7661 696c 6162 6c65 2829  _gpu_available()
+0001ce60: 3a0a 2020 2020 2020 2020 7261 6973 6520  :.        raise 
+0001ce70: 4646 4d50 4547 436f 6465 6347 5055 4572  FFMPEGCodecGPUEr
+0001ce80: 726f 7228 0a20 2020 2020 2020 2020 2020  ror(.           
+0001ce90: 206d 7367 3d22 4e56 4944 4941 2047 5055   msg="NVIDIA GPU
+0001cea0: 206e 6f74 2061 7661 696c 6162 6c65 222c   not available",
+0001ceb0: 2073 6f75 7263 653d 6d6f 7361 6963 5f63   source=mosaic_c
+0001cec0: 6f6e 6361 7465 6e61 746f 722e 5f5f 6e61  oncatenator.__na
+0001ced0: 6d65 5f5f 0a20 2020 2020 2020 2029 0a20  me__.        ). 
+0001cee0: 2020 2074 696d 6572 203d 2053 696d 6261     timer = Simba
+0001cef0: 5469 6d65 7228 7374 6172 743d 5472 7565  Timer(start=True
+0001cf00: 290a 2020 2020 6474 203d 2064 6174 6574  ).    dt = datet
+0001cf10: 696d 652e 6e6f 7728 292e 7374 7266 7469  ime.now().strfti
+0001cf20: 6d65 2822 2559 256d 2564 2548 254d 2553  me("%Y%m%d%H%M%S
+0001cf30: 2229 0a20 2020 2063 6865 636b 5f76 616c  ").    check_val
+0001cf40: 6964 5f6c 7374 280a 2020 2020 2020 2020  id_lst(.        
+0001cf50: 6461 7461 3d76 6964 656f 5f70 6174 6873  data=video_paths
+0001cf60: 2c0a 2020 2020 2020 2020 736f 7572 6365  ,.        source
+0001cf70: 3d66 227b 6d6f 7361 6963 5f63 6f6e 6361  =f"{mosaic_conca
+0001cf80: 7465 6e61 746f 722e 5f5f 6e61 6d65 5f5f  tenator.__name__
+0001cf90: 7d20 7669 6465 6f5f 7061 7468 7322 2c0a  } video_paths",.
+0001cfa0: 2020 2020 2020 2020 6d69 6e5f 6c65 6e3d          min_len=
+0001cfb0: 332c 0a20 2020 2029 0a20 2020 2076 6964  3,.    ).    vid
+0001cfc0: 656f 5f6d 6574 615f 6461 7461 203d 205b  eo_meta_data = [
+0001cfd0: 0a20 2020 2020 2020 2067 6574 5f76 6964  .        get_vid
+0001cfe0: 656f 5f6d 6574 615f 6461 7461 2876 6964  eo_meta_data(vid
+0001cff0: 656f 5f70 6174 683d 7669 6465 6f5f 7061  eo_path=video_pa
+0001d000: 7468 2920 666f 7220 7669 6465 6f5f 7061  th) for video_pa
+0001d010: 7468 2069 6e20 7669 6465 6f5f 7061 7468  th in video_path
+0001d020: 730a 2020 2020 5d0a 2020 2020 6d61 785f  s.    ].    max_
+0001d030: 7669 6465 6f5f 6c65 6e67 7468 203d 206d  video_length = m
+0001d040: 6178 285b 785b 2276 6964 656f 5f6c 656e  ax([x["video_len
+0001d050: 6774 685f 7322 5d20 666f 7220 7820 696e  gth_s"] for x in
+0001d060: 2076 6964 656f 5f6d 6574 615f 6461 7461   video_meta_data
+0001d070: 5d29 0a20 2020 2069 6620 2828 7769 6474  ]).    if ((widt
+0001d080: 685f 7078 2069 7320 4e6f 6e65 2920 616e  h_px is None) an
+0001d090: 6420 2877 6964 7468 5f69 6478 2069 7320  d (width_idx is 
+0001d0a0: 4e6f 6e65 2929 206f 7220 280a 2020 2020  None)) or (.    
+0001d0b0: 2020 2020 2877 6964 7468 5f70 7820 6973      (width_px is
+0001d0c0: 206e 6f74 204e 6f6e 6529 2061 6e64 2028   not None) and (
+0001d0d0: 7769 6474 685f 6964 7820 6973 206e 6f74  width_idx is not
+0001d0e0: 204e 6f6e 6529 0a20 2020 2029 3a0a 2020   None).    ):.  
+0001d0f0: 2020 2020 2020 7261 6973 6520 496e 7661        raise Inva
+0001d100: 6c69 6449 6e70 7574 4572 726f 7228 0a20  lidInputError(. 
+0001d110: 2020 2020 2020 2020 2020 206d 7367 3d22             msg="
+0001d120: 5072 6f76 6964 6520 6120 7769 6474 685f  Provide a width_
+0001d130: 7078 204f 5220 7769 6474 685f 6964 7822  px OR width_idx"
+0001d140: 2c20 736f 7572 6365 3d6d 6f73 6169 635f  , source=mosaic_
+0001d150: 636f 6e63 6174 656e 6174 6f72 2e5f 5f6e  concatenator.__n
+0001d160: 616d 655f 5f0a 2020 2020 2020 2020 290a  ame__.        ).
+0001d170: 2020 2020 6966 2028 2868 6569 6768 745f      if ((height_
+0001d180: 7078 2069 7320 4e6f 6e65 2920 616e 6420  px is None) and 
+0001d190: 2868 6569 6768 745f 6964 7820 6973 204e  (height_idx is N
+0001d1a0: 6f6e 6529 2920 6f72 2028 0a20 2020 2020  one)) or (.     
+0001d1b0: 2020 2028 6865 6967 6874 5f70 7820 6973     (height_px is
+0001d1c0: 206e 6f74 204e 6f6e 6529 2061 6e64 2028   not None) and (
+0001d1d0: 6865 6967 6874 5f69 6478 2069 7320 6e6f  height_idx is no
+0001d1e0: 7420 4e6f 6e65 290a 2020 2020 293a 0a20  t None).    ):. 
+0001d1f0: 2020 2020 2020 2072 6169 7365 2049 6e76         raise Inv
+0001d200: 616c 6964 496e 7075 7445 7272 6f72 280a  alidInputError(.
+0001d210: 2020 2020 2020 2020 2020 2020 6d73 673d              msg=
+0001d220: 2250 726f 7669 6465 2061 2068 6569 6768  "Provide a heigh
+0001d230: 745f 7078 204f 5220 6865 6967 6874 5f69  t_px OR height_i
+0001d240: 6478 222c 2073 6f75 7263 653d 6d6f 7361  dx", source=mosa
+0001d250: 6963 5f63 6f6e 6361 7465 6e61 746f 722e  ic_concatenator.
+0001d260: 5f5f 6e61 6d65 5f5f 0a20 2020 2020 2020  __name__.       
+0001d270: 2029 0a20 2020 2069 6620 7769 6474 685f   ).    if width_
+0001d280: 6964 7820 6973 206e 6f74 204e 6f6e 653a  idx is not None:
+0001d290: 0a20 2020 2020 2020 2063 6865 636b 5f69  .        check_i
+0001d2a0: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
+0001d2b0: 6e61 6d65 3d66 227b 7665 7274 6963 616c  name=f"{vertical
+0001d2c0: 5f76 6964 656f 5f63 6f6e 6361 7465 6e61  _video_concatena
+0001d2d0: 746f 722e 5f5f 6e61 6d65 5f5f 7d20 7769  tor.__name__} wi
+0001d2e0: 6474 6820 696e 6465 7822 2c0a 2020 2020  dth index",.    
+0001d2f0: 2020 2020 2020 2020 7661 6c75 653d 7769          value=wi
+0001d300: 6474 685f 6964 782c 0a20 2020 2020 2020  dth_idx,.       
+0001d310: 2020 2020 206d 696e 5f76 616c 7565 3d31       min_value=1
+0001d320: 2c0a 2020 2020 2020 2020 2020 2020 6d61  ,.            ma
+0001d330: 785f 7661 6c75 653d 6c65 6e28 7669 6465  x_value=len(vide
+0001d340: 6f5f 7061 7468 7329 202d 2031 2c0a 2020  o_paths) - 1,.  
+0001d350: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+0001d360: 7769 6474 6820 3d20 696e 7428 7669 6465  width = int(vide
+0001d370: 6f5f 6d65 7461 5f64 6174 615b 7769 6474  o_meta_data[widt
+0001d380: 685f 6964 785d 5b22 7769 6474 6822 5d29  h_idx]["width"])
+0001d390: 0a20 2020 2065 6c73 653a 0a20 2020 2020  .    else:.     
+0001d3a0: 2020 2077 6964 7468 203d 2077 6964 7468     width = width
+0001d3b0: 5f70 780a 2020 2020 6966 2068 6569 6768  _px.    if heigh
+0001d3c0: 745f 6964 7820 6973 206e 6f74 204e 6f6e  t_idx is not Non
+0001d3d0: 653a 0a20 2020 2020 2020 2063 6865 636b  e:.        check
+0001d3e0: 5f69 6e74 280a 2020 2020 2020 2020 2020  _int(.          
+0001d3f0: 2020 6e61 6d65 3d66 227b 7665 7274 6963    name=f"{vertic
+0001d400: 616c 5f76 6964 656f 5f63 6f6e 6361 7465  al_video_concate
+0001d410: 6e61 746f 722e 5f5f 6e61 6d65 5f5f 7d20  nator.__name__} 
+0001d420: 6865 6967 6874 2069 6e64 6578 222c 0a20  height index",. 
+0001d430: 2020 2020 2020 2020 2020 2076 616c 7565             value
+0001d440: 3d77 6964 7468 5f69 6478 2c0a 2020 2020  =width_idx,.    
+0001d450: 2020 2020 2020 2020 6d69 6e5f 7661 6c75          min_valu
+0001d460: 653d 312c 0a20 2020 2020 2020 2020 2020  e=1,.           
+0001d470: 206d 6178 5f76 616c 7565 3d6c 656e 2876   max_value=len(v
+0001d480: 6964 656f 5f70 6174 6873 2920 2d20 312c  ideo_paths) - 1,
+0001d490: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+0001d4a0: 2020 2068 6569 6768 7420 3d20 696e 7428     height = int(
+0001d4b0: 7669 6465 6f5f 6d65 7461 5f64 6174 615b  video_meta_data[
+0001d4c0: 7769 6474 685f 6964 785d 5b22 6865 6967  width_idx]["heig
+0001d4d0: 6874 225d 290a 2020 2020 656c 7365 3a0a  ht"]).    else:.
+0001d4e0: 2020 2020 2020 2020 6865 6967 6874 203d          height =
+0001d4f0: 2068 6569 6768 745f 7078 0a20 2020 2069   height_px.    i
+0001d500: 6620 7665 7262 6f73 653a 0a20 2020 2020  f verbose:.     
+0001d510: 2020 2070 7269 6e74 2866 2243 7265 6174     print(f"Creat
+0001d520: 696e 6720 6d6f 7361 6963 2076 6964 656f  ing mosaic video
+0001d530: 202e 2e2e 2229 0a20 2020 2074 656d 705f   ...").    temp_
+0001d540: 6469 7220 3d20 6f73 2e70 6174 682e 6a6f  dir = os.path.jo
+0001d550: 696e 286f 732e 7061 7468 2e64 6972 6e61  in(os.path.dirna
+0001d560: 6d65 2876 6964 656f 5f70 6174 6873 5b30  me(video_paths[0
+0001d570: 5d29 2c20 6622 7465 6d70 5f7b 6474 7d22  ]), f"temp_{dt}"
+0001d580: 290a 2020 2020 6f73 2e6d 616b 6564 6972  ).    os.makedir
+0001d590: 7328 7465 6d70 5f64 6972 290a 2020 2020  s(temp_dir).    
+0001d5a0: 6966 206e 6f74 2028 6c65 6e28 7669 6465  if not (len(vide
+0001d5b0: 6f5f 7061 7468 7329 2025 2032 2920 3d3d  o_paths) % 2) ==
+0001d5c0: 2030 3a0a 2020 2020 2020 2020 626c 616e   0:.        blan
+0001d5d0: 6b5f 7061 7468 203d 206f 732e 7061 7468  k_path = os.path
+0001d5e0: 2e6a 6f69 6e28 7465 6d70 5f64 6972 2c20  .join(temp_dir, 
+0001d5f0: 6622 7b64 747d 2e6d 7034 2229 0a20 2020  f"{dt}.mp4").   
+0001d600: 2020 2020 2063 7265 6174 655f 626c 616e       create_blan
+0001d610: 6b5f 7669 6465 6f28 0a20 2020 2020 2020  k_video(.       
+0001d620: 2020 2020 2070 6174 683d 626c 616e 6b5f       path=blank_
+0001d630: 7061 7468 2c0a 2020 2020 2020 2020 2020  path,.          
+0001d640: 2020 6c65 6e67 7468 3d6d 6178 5f76 6964    length=max_vid
+0001d650: 656f 5f6c 656e 6774 682c 0a20 2020 2020  eo_length,.     
+0001d660: 2020 2020 2020 2077 6964 7468 3d77 6964         width=wid
+0001d670: 7468 2c0a 2020 2020 2020 2020 2020 2020  th,.            
+0001d680: 6865 6967 6874 3d68 6569 6768 742c 0a20  height=height,. 
+0001d690: 2020 2020 2020 2020 2020 2067 7075 3d67             gpu=g
+0001d6a0: 7075 2c0a 2020 2020 2020 2020 2020 2020  pu,.            
+0001d6b0: 7665 7262 6f73 653d 7665 7262 6f73 652c  verbose=verbose,
+0001d6c0: 0a20 2020 2020 2020 2020 2020 2063 6f6c  .            col
+0001d6d0: 6f72 3d75 6e65 7665 6e5f 6669 6c6c 5f63  or=uneven_fill_c
+0001d6e0: 6f6c 6f72 2c0a 2020 2020 2020 2020 290a  olor,.        ).
+0001d6f0: 2020 2020 2020 2020 7669 6465 6f5f 7061          video_pa
+0001d700: 7468 732e 6170 7065 6e64 2862 6c61 6e6b  ths.append(blank
+0001d710: 5f70 6174 6829 0a20 2020 2075 7070 6572  _path).    upper
+0001d720: 5f76 6964 656f 732c 206c 6f77 6572 5f76  _videos, lower_v
+0001d730: 6964 656f 7320 3d20 280a 2020 2020 2020  ideos = (.      
+0001d740: 2020 7669 6465 6f5f 7061 7468 735b 3a20    video_paths[: 
+0001d750: 6c65 6e28 7669 6465 6f5f 7061 7468 7329  len(video_paths)
+0001d760: 202f 2f20 325d 2c0a 2020 2020 2020 2020   // 2],.        
+0001d770: 7669 6465 6f5f 7061 7468 735b 6c65 6e28  video_paths[len(
+0001d780: 7669 6465 6f5f 7061 7468 7329 202f 2f20  video_paths) // 
+0001d790: 3220 3a5d 2c0a 2020 2020 290a 2020 2020  2 :],.    ).    
+0001d7a0: 6966 2076 6572 626f 7365 3a0a 2020 2020  if verbose:.    
+0001d7b0: 2020 2020 7072 696e 7428 2243 7265 6174      print("Creat
+0001d7c0: 696e 6720 7570 7065 7220 6d6f 7361 6963  ing upper mosaic
+0001d7d0: 2e2e 2e20 2853 7465 7020 312f 3329 2229  ... (Step 1/3)")
+0001d7e0: 0a20 2020 2069 6620 6c65 6e28 7570 7065  .    if len(uppe
+0001d7f0: 725f 7669 6465 6f73 2920 3e20 313a 0a20  r_videos) > 1:. 
+0001d800: 2020 2020 2020 2075 7070 6572 5f70 6174         upper_pat
+0001d810: 6820 3d20 6f73 2e70 6174 682e 6a6f 696e  h = os.path.join
+0001d820: 2874 656d 705f 6469 722c 2022 7570 7065  (temp_dir, "uppe
+0001d830: 722e 6d70 3422 290a 2020 2020 2020 2020  r.mp4").        
+0001d840: 686f 7269 7a6f 6e74 616c 5f76 6964 656f  horizontal_video
+0001d850: 5f63 6f6e 6361 7465 6e61 746f 7228 0a20  _concatenator(. 
+0001d860: 2020 2020 2020 2020 2020 2076 6964 656f             video
+0001d870: 5f70 6174 6873 3d75 7070 6572 5f76 6964  _paths=upper_vid
+0001d880: 656f 732c 0a20 2020 2020 2020 2020 2020  eos,.           
+0001d890: 2073 6176 655f 7061 7468 3d75 7070 6572   save_path=upper
+0001d8a0: 5f70 6174 682c 0a20 2020 2020 2020 2020  _path,.         
+0001d8b0: 2020 2067 7075 3d67 7075 2c0a 2020 2020     gpu=gpu,.    
+0001d8c0: 2020 2020 2020 2020 6865 6967 6874 5f70          height_p
+0001d8d0: 783d 6865 6967 6874 2c0a 2020 2020 2020  x=height,.      
+0001d8e0: 2020 2020 2020 7665 7262 6f73 653d 7665        verbose=ve
+0001d8f0: 7262 6f73 652c 0a20 2020 2020 2020 2029  rbose,.        )
+0001d900: 0a20 2020 2065 6c73 653a 0a20 2020 2020  .    else:.     
+0001d910: 2020 2075 7070 6572 5f70 6174 6820 3d20     upper_path = 
+0001d920: 7570 7065 725f 7669 6465 6f73 5b30 5d0a  upper_videos[0].
+0001d930: 2020 2020 6966 2076 6572 626f 7365 3a0a      if verbose:.
+0001d940: 2020 2020 2020 2020 7072 696e 7428 2243          print("C
+0001d950: 7265 6174 696e 6720 6c6f 7765 7220 6d6f  reating lower mo
+0001d960: 7361 6963 2e2e 2e20 2853 7465 7020 322f  saic... (Step 2/
+0001d970: 3329 2229 0a20 2020 2069 6620 6c65 6e28  3)").    if len(
+0001d980: 6c6f 7765 725f 7669 6465 6f73 2920 3e20  lower_videos) > 
+0001d990: 313a 0a20 2020 2020 2020 206c 6f77 6572  1:.        lower
+0001d9a0: 5f70 6174 6820 3d20 6f73 2e70 6174 682e  _path = os.path.
+0001d9b0: 6a6f 696e 2874 656d 705f 6469 722c 2022  join(temp_dir, "
+0001d9c0: 6c6f 7765 722e 6d70 3422 290a 2020 2020  lower.mp4").    
+0001d9d0: 2020 2020 686f 7269 7a6f 6e74 616c 5f76      horizontal_v
+0001d9e0: 6964 656f 5f63 6f6e 6361 7465 6e61 746f  ideo_concatenato
+0001d9f0: 7228 0a20 2020 2020 2020 2020 2020 2076  r(.            v
+0001da00: 6964 656f 5f70 6174 6873 3d6c 6f77 6572  ideo_paths=lower
+0001da10: 5f76 6964 656f 732c 0a20 2020 2020 2020  _videos,.       
+0001da20: 2020 2020 2073 6176 655f 7061 7468 3d6c       save_path=l
+0001da30: 6f77 6572 5f70 6174 682c 0a20 2020 2020  ower_path,.     
+0001da40: 2020 2020 2020 2067 7075 3d67 7075 2c0a         gpu=gpu,.
+0001da50: 2020 2020 2020 2020 2020 2020 6865 6967              heig
+0001da60: 6874 5f70 783d 6865 6967 6874 2c0a 2020  ht_px=height,.  
+0001da70: 2020 2020 2020 2020 2020 7665 7262 6f73            verbos
+0001da80: 653d 7665 7262 6f73 652c 0a20 2020 2020  e=verbose,.     
+0001da90: 2020 2029 0a20 2020 2065 6c73 653a 0a20     ).    else:. 
+0001daa0: 2020 2020 2020 206c 6f77 6572 5f70 6174         lower_pat
+0001dab0: 6820 3d20 6c6f 7765 725f 7669 6465 6f73  h = lower_videos
+0001dac0: 5b30 5d0a 2020 2020 7061 6e65 6c73 5f6d  [0].    panels_m
+0001dad0: 6574 6120 3d20 5b0a 2020 2020 2020 2020  eta = [.        
+0001dae0: 6765 745f 7669 6465 6f5f 6d65 7461 5f64  get_video_meta_d
+0001daf0: 6174 6128 7669 6465 6f5f 7061 7468 3d76  ata(video_path=v
+0001db00: 6964 656f 5f70 6174 6829 0a20 2020 2020  ideo_path).     
+0001db10: 2020 2066 6f72 2076 6964 656f 5f70 6174     for video_pat
+0001db20: 6820 696e 205b 6c6f 7765 725f 7061 7468  h in [lower_path
+0001db30: 2c20 7570 7065 725f 7061 7468 5d0a 2020  , upper_path].  
+0001db40: 2020 5d0a 2020 2020 6966 2076 6572 626f    ].    if verbo
+0001db50: 7365 3a0a 2020 2020 2020 2020 7072 696e  se:.        prin
+0001db60: 7428 224a 6f69 6e69 6e67 2075 7070 6572  t("Joining upper
+0001db70: 2061 6e64 206c 6f77 6572 206d 6f73 6169   and lower mosai
+0001db80: 632e 2e2e 2028 5374 6570 2032 2f33 2922  c... (Step 2/3)"
+0001db90: 290a 2020 2020 7665 7274 6963 616c 5f76  ).    vertical_v
+0001dba0: 6964 656f 5f63 6f6e 6361 7465 6e61 746f  ideo_concatenato
+0001dbb0: 7228 0a20 2020 2020 2020 2076 6964 656f  r(.        video
+0001dbc0: 5f70 6174 6873 3d5b 7570 7065 725f 7061  _paths=[upper_pa
+0001dbd0: 7468 2c20 6c6f 7765 725f 7061 7468 5d2c  th, lower_path],
+0001dbe0: 0a20 2020 2020 2020 2073 6176 655f 7061  .        save_pa
+0001dbf0: 7468 3d73 6176 655f 7061 7468 2c0a 2020  th=save_path,.  
+0001dc00: 2020 2020 2020 7665 7262 6f73 653d 7665        verbose=ve
+0001dc10: 7262 6f73 652c 0a20 2020 2020 2020 2067  rbose,.        g
+0001dc20: 7075 3d67 7075 2c0a 2020 2020 2020 2020  pu=gpu,.        
+0001dc30: 7769 6474 685f 7078 3d6d 6178 285b 785b  width_px=max([x[
+0001dc40: 2277 6964 7468 225d 2066 6f72 2078 2069  "width"] for x i
+0001dc50: 6e20 7061 6e65 6c73 5f6d 6574 615d 292c  n panels_meta]),
+0001dc60: 0a20 2020 2029 0a20 2020 2074 696d 6572  .    ).    timer
+0001dc70: 2e73 746f 705f 7469 6d65 7228 290a 2020  .stop_timer().  
+0001dc80: 2020 7368 7574 696c 2e72 6d74 7265 6528    shutil.rmtree(
+0001dc90: 7465 6d70 5f64 6972 290a 2020 2020 6966  temp_dir).    if
+0001dca0: 2076 6572 626f 7365 3a0a 2020 2020 2020   verbose:.      
+0001dcb0: 2020 7072 696e 7428 0a20 2020 2020 2020    print(.       
+0001dcc0: 2020 2020 2066 224d 6f73 6169 6320 636f       f"Mosaic co
+0001dcd0: 6e63 6174 656e 6174 696f 6e20 636f 6d70  ncatenation comp
+0001dce0: 6c65 7465 2e20 5361 7665 6420 6174 207b  lete. Saved at {
+0001dcf0: 7361 7665 5f70 6174 687d 2028 456c 6170  save_path} (Elap
+0001dd00: 7365 6420 7469 6d65 3a20 7b74 696d 6572  sed time: {timer
+0001dd10: 2e65 6c61 7073 6564 5f74 696d 655f 7374  .elapsed_time_st
+0001dd20: 727d 732e 2922 0a20 2020 2020 2020 2029  r}s.)".        )
+0001dd30: 0a0a 0a64 6566 206d 6978 6564 5f6d 6f73  ...def mixed_mos
+0001dd40: 6169 635f 636f 6e63 6174 656e 6174 6f72  aic_concatenator
+0001dd50: 280a 2020 2020 7669 6465 6f5f 7061 7468  (.    video_path
+0001dd60: 733a 204c 6973 745b 556e 696f 6e5b 7374  s: List[Union[st
+0001dd70: 722c 206f 732e 5061 7468 4c69 6b65 5d5d  r, os.PathLike]]
+0001dd80: 2c0a 2020 2020 7361 7665 5f70 6174 683a  ,.    save_path:
+0001dd90: 2055 6e69 6f6e 5b73 7472 2c20 6f73 2e50   Union[str, os.P
+0001dda0: 6174 684c 696b 655d 2c0a 2020 2020 6770  athLike],.    gp
+0001ddb0: 753a 204f 7074 696f 6e61 6c5b 626f 6f6c  u: Optional[bool
+0001ddc0: 5d20 3d20 4661 6c73 652c 0a20 2020 2076  ] = False,.    v
+0001ddd0: 6572 626f 7365 3a20 4f70 7469 6f6e 616c  erbose: Optional
+0001dde0: 5b62 6f6f 6c5d 203d 2054 7275 652c 0a20  [bool] = True,. 
+0001ddf0: 2020 2075 6e65 7665 6e5f 6669 6c6c 5f63     uneven_fill_c
+0001de00: 6f6c 6f72 3a20 4f70 7469 6f6e 616c 5b73  olor: Optional[s
+0001de10: 7472 5d20 3d20 2262 6c61 636b 222c 0a29  tr] = "black",.)
+0001de20: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2222   -> None:.    ""
+0001de30: 220a 2020 2020 4372 6561 7465 2061 206d  ".    Create a m
+0001de40: 6978 6564 206d 6f73 6169 6320 7669 6465  ixed mosaic vide
+0001de50: 6f20 6279 2063 6f6e 6361 7465 6e61 7469  o by concatenati
+0001de60: 6e67 206d 756c 7469 706c 6520 696e 7075  ng multiple inpu
+0001de70: 7420 7669 6465 6f73 2069 6e20 6120 6d6f  t videos in a mo
+0001de80: 7361 6963 206c 6179 6f75 7420 6f66 2076  saic layout of v
+0001de90: 6172 696f 7573 2073 697a 6573 2e0a 0a20  arious sizes... 
+0001dea0: 2020 202e 2e20 696d 6167 653a 3a20 5f73     .. image:: _s
+0001deb0: 7461 7469 632f 696d 672f 6d69 7865 645f  tatic/img/mixed_
+0001dec0: 6d6f 7361 6963 5f63 6f6e 6361 7465 6e61  mosaic_concatena
+0001ded0: 746f 722e 706e 670a 2020 2020 2020 203a  tor.png.       :
+0001dee0: 7769 6474 683a 2036 3030 0a20 2020 2020  width: 600.     
+0001def0: 2020 3a61 6c69 676e 3a20 6365 6e74 6572    :align: center
+0001df00: 0a0a 2020 2020 2e2e 206e 6f74 653a 3a0a  ..    .. note::.
+0001df10: 2020 2020 2020 2054 6865 2072 6573 6f6c         The resol
+0001df20: 7574 696f 6e20 6f66 2074 6865 206f 7574  ution of the out
+0001df30: 7075 7420 7669 6465 6f20 6973 2064 6574  put video is det
+0001df40: 6572 6d69 6e65 6420 6279 2074 6865 2072  ermined by the r
+0001df50: 6573 6f6c 7574 696f 6e20 6f66 2074 6865  esolution of the
+0001df60: 2076 6964 656f 2070 6174 6820 6174 2074   video path at t
+0001df70: 6865 2066 6972 7374 2069 6e64 6578 2e0a  he first index..
+0001df80: 0a20 2020 2020 2020 4966 2061 6e20 756e  .       If an un
+0001df90: 6576 656e 206e 756d 6265 7220 6f66 2072  even number of r
+0001dfa0: 6967 6874 2d70 616e 656c 2076 6964 656f  ight-panel video
+0001dfb0: 7320 2820 6966 206e 6f74 2028 6c65 6e28  s ( if not (len(
+0001dfc0: 7669 6465 6f5f 7061 7468 7329 2d31 2920  video_paths)-1) 
+0001dfd0: 2520 3229 203d 3d20 3029 2c20 7468 656e  % 2) == 0), then
+0001dfe0: 2074 6865 206c 6173 7420 696e 6465 7820   the last index 
+0001dff0: 7769 6c6c 2062 6520 6669 6c6c 6564 2062  will be filled b
+0001e000: 7920 6060 756e 6576 656e 5f66 696c 6c5f  y ``uneven_fill_
+0001e010: 636f 6c6f 7260 602e 0a0a 2020 2020 3a70  color``...    :p
+0001e020: 6172 616d 204c 6973 745b 556e 696f 6e5b  aram List[Union[
+0001e030: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
+0001e040: 5d5d 2076 6964 656f 5f70 6174 6873 3a20  ]] video_paths: 
+0001e050: 4c69 7374 206f 6620 696e 7075 7420 7669  List of input vi
+0001e060: 6465 6f20 6669 6c65 2070 6174 6873 2e0a  deo file paths..
+0001e070: 2020 2020 3a70 6172 616d 2055 6e69 6f6e      :param Union
+0001e080: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
+0001e090: 655d 2073 6176 655f 7061 7468 3a20 4669  e] save_path: Fi
+0001e0a0: 6c65 2070 6174 6820 746f 2073 6176 6520  le path to save 
+0001e0b0: 7468 6520 636f 6e63 6174 656e 6174 6564  the concatenated
+0001e0c0: 2076 6964 656f 2e0a 2020 2020 3a70 6172   video..    :par
+0001e0d0: 616d 204f 7074 696f 6e61 6c5b 626f 6f6c  am Optional[bool
+0001e0e0: 5d20 6770 753a 2057 6865 7468 6572 2074  ] gpu: Whether t
+0001e0f0: 6f20 7573 6520 4750 552d 6163 6365 6c65  o use GPU-accele
+0001e100: 7261 7465 6420 636f 6465 6320 2864 6566  rated codec (def
+0001e110: 6175 6c74 3a20 4661 6c73 6529 2e0a 2020  ault: False)..  
+0001e120: 2020 3a70 6172 616d 204f 7074 696f 6e61    :param Optiona
+0001e130: 6c5b 626f 6f6c 5d20 7665 7262 6f73 653a  l[bool] verbose:
+0001e140: 2057 6865 7468 6572 2074 6f20 7072 696e   Whether to prin
+0001e150: 7420 7072 6f67 7265 7373 206d 6573 7361  t progress messa
+0001e160: 6765 7320 2864 6566 6175 6c74 3a20 5472  ges (default: Tr
+0001e170: 7565 292e 0a0a 2020 2020 3a65 7861 6d70  ue)...    :examp
+0001e180: 6c65 3a0a 2020 2020 3e3e 3e20 7669 6465  le:.    >>> vide
+0001e190: 6f5f 7061 7468 7320 3d20 5b27 7669 6465  o_paths = ['vide
+0001e1a0: 6f31 2e6d 7034 272c 2027 7669 6465 6f32  o1.mp4', 'video2
+0001e1b0: 2e6d 7034 272c 2027 7669 6465 6f33 2e6d  .mp4', 'video3.m
+0001e1c0: 7034 275d 0a20 2020 203e 3e3e 2073 6176  p4'].    >>> sav
+0001e1d0: 655f 7061 7468 203d 2027 2f55 7365 7273  e_path = '/Users
+0001e1e0: 2f73 696d 6f6e 2f44 6573 6b74 6f70 2f65  /simon/Desktop/e
+0001e1f0: 6e76 732f 7369 6d62 612f 7472 6f75 626c  nvs/simba/troubl
+0001e200: 6573 686f 6f74 696e 672f 5241 545f 4e4f  eshooting/RAT_NO
+0001e210: 522f 7072 6f6a 6563 745f 666f 6c64 6572  R/project_folder
+0001e220: 2f76 6964 656f 732f 7465 7374 2f6e 6577  /videos/test/new
+0001e230: 2f62 6c61 6e6b 5f74 6573 742e 6d70 3427  /blank_test.mp4'
+0001e240: 0a20 2020 203e 3e3e 206d 6978 6564 5f6d  .    >>> mixed_m
+0001e250: 6f73 6169 635f 636f 6e63 6174 656e 6174  osaic_concatenat
+0001e260: 6f72 2876 6964 656f 5f70 6174 6873 3d76  or(video_paths=v
+0001e270: 6964 656f 5f70 6174 6873 2c20 7361 7665  ideo_paths, save
+0001e280: 5f70 6174 683d 7361 7665 5f70 6174 682c  _path=save_path,
+0001e290: 2067 7075 3d46 616c 7365 2c20 7665 7262   gpu=False, verb
+0001e2a0: 6f73 653d 5472 7565 290a 2020 2020 2222  ose=True).    ""
+0001e2b0: 220a 0a20 2020 2063 6865 636b 5f66 666d  "..    check_ffm
+0001e2c0: 7065 675f 6176 6169 6c61 626c 6528 290a  peg_available().
+0001e2d0: 2020 2020 6966 2067 7075 2061 6e64 206e      if gpu and n
+0001e2e0: 6f74 2063 6865 636b 5f6e 7669 6465 615f  ot check_nvidea_
+0001e2f0: 6770 755f 6176 6169 6c61 626c 6528 293a  gpu_available():
+0001e300: 0a20 2020 2020 2020 2072 6169 7365 2046  .        raise F
+0001e310: 464d 5045 4743 6f64 6563 4750 5545 7272  FMPEGCodecGPUErr
+0001e320: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
+0001e330: 6d73 673d 224e 5649 4449 4120 4750 5520  msg="NVIDIA GPU 
+0001e340: 6e6f 7420 6176 6169 6c61 626c 6522 2c20  not available", 
+0001e350: 736f 7572 6365 3d6d 6978 6564 5f6d 6f73  source=mixed_mos
+0001e360: 6169 635f 636f 6e63 6174 656e 6174 6f72  aic_concatenator
+0001e370: 2e5f 5f6e 616d 655f 5f0a 2020 2020 2020  .__name__.      
+0001e380: 2020 290a 2020 2020 7469 6d65 7220 3d20    ).    timer = 
+0001e390: 5369 6d62 6154 696d 6572 2873 7461 7274  SimbaTimer(start
+0001e3a0: 3d54 7275 6529 0a20 2020 2063 6865 636b  =True).    check
+0001e3b0: 5f76 616c 6964 5f6c 7374 280a 2020 2020  _valid_lst(.    
+0001e3c0: 2020 2020 6461 7461 3d76 6964 656f 5f70      data=video_p
+0001e3d0: 6174 6873 2c20 736f 7572 6365 3d6d 6978  aths, source=mix
+0001e3e0: 6564 5f6d 6f73 6169 635f 636f 6e63 6174  ed_mosaic_concat
+0001e3f0: 656e 6174 6f72 2e5f 5f6e 616d 655f 5f2c  enator.__name__,
+0001e400: 206d 696e 5f6c 656e 3d32 0a20 2020 2029   min_len=2.    )
+0001e410: 0a20 2020 2064 7420 3d20 6461 7465 7469  .    dt = dateti
+0001e420: 6d65 2e6e 6f77 2829 2e73 7472 6674 696d  me.now().strftim
+0001e430: 6528 2225 5925 6d25 6425 4825 4d25 5322  e("%Y%m%d%H%M%S"
+0001e440: 290a 2020 2020 7669 6465 6f5f 6d65 7461  ).    video_meta
+0001e450: 5f64 6174 6120 3d20 5b0a 2020 2020 2020  _data = [.      
+0001e460: 2020 6765 745f 7669 6465 6f5f 6d65 7461    get_video_meta
+0001e470: 5f64 6174 6128 7669 6465 6f5f 7061 7468  _data(video_path
+0001e480: 3d76 6964 656f 5f70 6174 6829 2066 6f72  =video_path) for
+0001e490: 2076 6964 656f 5f70 6174 6820 696e 2076   video_path in v
+0001e4a0: 6964 656f 5f70 6174 6873 0a20 2020 205d  ideo_paths.    ]
+0001e4b0: 0a20 2020 206d 6178 5f76 6964 656f 5f6c  .    max_video_l
+0001e4c0: 656e 6774 6820 3d20 6d61 7828 5b78 5b22  ength = max([x["
+0001e4d0: 7669 6465 6f5f 6c65 6e67 7468 5f73 225d  video_length_s"]
+0001e4e0: 2066 6f72 2078 2069 6e20 7669 6465 6f5f   for x in video_
+0001e4f0: 6d65 7461 5f64 6174 615d 290a 2020 2020  meta_data]).    
+0001e500: 6368 6563 6b5f 6966 5f64 6972 5f65 7869  check_if_dir_exi
+0001e510: 7374 7328 0a20 2020 2020 2020 2069 6e5f  sts(.        in_
+0001e520: 6469 723d 6f73 2e70 6174 682e 6469 726e  dir=os.path.dirn
+0001e530: 616d 6528 7361 7665 5f70 6174 6829 2c20  ame(save_path), 
+0001e540: 736f 7572 6365 3d6d 6978 6564 5f6d 6f73  source=mixed_mos
+0001e550: 6169 635f 636f 6e63 6174 656e 6174 6f72  aic_concatenator
+0001e560: 2e5f 5f6e 616d 655f 5f0a 2020 2020 290a  .__name__.    ).
+0001e570: 2020 2020 6c61 7267 655f 6d6f 7361 6963      large_mosaic
+0001e580: 5f70 6174 682c 2076 6964 656f 5f70 6174  _path, video_pat
+0001e590: 6873 203d 2076 6964 656f 5f70 6174 6873  hs = video_paths
+0001e5a0: 5b30 5d2c 2076 6964 656f 5f70 6174 6873  [0], video_paths
+0001e5b0: 5b31 3a5d 0a20 2020 206d 6f73 6169 635f  [1:].    mosaic_
+0001e5c0: 6865 6967 6874 203d 2069 6e74 2876 6964  height = int(vid
+0001e5d0: 656f 5f6d 6574 615f 6461 7461 5b30 5d5b  eo_meta_data[0][
+0001e5e0: 2268 6569 6768 7422 5d20 2f20 3229 0a20  "height"] / 2). 
+0001e5f0: 2020 2069 6620 7665 7262 6f73 653a 0a20     if verbose:. 
+0001e600: 2020 2020 2020 2070 7269 6e74 2822 4372         print("Cr
+0001e610: 6561 7469 6e67 206d 6978 6564 206d 6f73  eating mixed mos
+0001e620: 6169 6320 7669 6465 6f2e 2e2e 2022 290a  aic video... ").
+0001e630: 2020 2020 7465 6d70 5f64 6972 203d 206f      temp_dir = o
+0001e640: 732e 7061 7468 2e6a 6f69 6e28 6f73 2e70  s.path.join(os.p
+0001e650: 6174 682e 6469 726e 616d 6528 6c61 7267  ath.dirname(larg
+0001e660: 655f 6d6f 7361 6963 5f70 6174 6829 2c20  e_mosaic_path), 
+0001e670: 6622 7465 6d70 5f7b 6474 7d22 290a 2020  f"temp_{dt}").  
+0001e680: 2020 6f73 2e6d 616b 6564 6972 7328 7465    os.makedirs(te
+0001e690: 6d70 5f64 6972 290a 2020 2020 6966 206e  mp_dir).    if n
+0001e6a0: 6f74 2028 6c65 6e28 7669 6465 6f5f 7061  ot (len(video_pa
+0001e6b0: 7468 7329 2025 2032 2920 3d3d 2030 3a0a  ths) % 2) == 0:.
+0001e6c0: 2020 2020 2020 2020 626c 616e 6b5f 7061          blank_pa
+0001e6d0: 7468 203d 206f 732e 7061 7468 2e6a 6f69  th = os.path.joi
+0001e6e0: 6e28 7465 6d70 5f64 6972 2c20 6622 7b64  n(temp_dir, f"{d
+0001e6f0: 747d 2e6d 7034 2229 0a20 2020 2020 2020  t}.mp4").       
+0001e700: 2063 7265 6174 655f 626c 616e 6b5f 7669   create_blank_vi
+0001e710: 6465 6f28 0a20 2020 2020 2020 2020 2020  deo(.           
+0001e720: 2070 6174 683d 626c 616e 6b5f 7061 7468   path=blank_path
+0001e730: 2c0a 2020 2020 2020 2020 2020 2020 6c65  ,.            le
+0001e740: 6e67 7468 3d6d 6178 5f76 6964 656f 5f6c  ngth=max_video_l
+0001e750: 656e 6774 682c 0a20 2020 2020 2020 2020  ength,.         
+0001e760: 2020 2077 6964 7468 3d67 6574 5f76 6964     width=get_vid
+0001e770: 656f 5f6d 6574 615f 6461 7461 2876 6964  eo_meta_data(vid
+0001e780: 656f 5f70 6174 683d 7669 6465 6f5f 7061  eo_path=video_pa
+0001e790: 7468 735b 2d31 5d29 5b22 7769 6474 6822  ths[-1])["width"
+0001e7a0: 5d2c 0a20 2020 2020 2020 2020 2020 2068  ],.            h
+0001e7b0: 6569 6768 743d 6765 745f 7669 6465 6f5f  eight=get_video_
+0001e7c0: 6d65 7461 5f64 6174 6128 7669 6465 6f5f  meta_data(video_
+0001e7d0: 7061 7468 3d76 6964 656f 5f70 6174 6873  path=video_paths
+0001e7e0: 5b2d 315d 295b 2268 6569 6768 7422 5d2c  [-1])["height"],
+0001e7f0: 0a20 2020 2020 2020 2020 2020 2067 7075  .            gpu
+0001e800: 3d67 7075 2c0a 2020 2020 2020 2020 2020  =gpu,.          
+0001e810: 2020 7665 7262 6f73 653d 5472 7565 2c0a    verbose=True,.
+0001e820: 2020 2020 2020 2020 2020 2020 636f 6c6f              colo
+0001e830: 723d 756e 6576 656e 5f66 696c 6c5f 636f  r=uneven_fill_co
+0001e840: 6c6f 722c 0a20 2020 2020 2020 2029 0a20  lor,.        ). 
+0001e850: 2020 2020 2020 2076 6964 656f 5f70 6174         video_pat
+0001e860: 6873 2e61 7070 656e 6428 626c 616e 6b5f  hs.append(blank_
+0001e870: 7061 7468 290a 2020 2020 7570 7065 725f  path).    upper_
+0001e880: 7669 6465 6f73 2c20 6c6f 7765 725f 7669  videos, lower_vi
+0001e890: 6465 6f73 203d 2028 0a20 2020 2020 2020  deos = (.       
+0001e8a0: 2076 6964 656f 5f70 6174 6873 5b3a 206c   video_paths[: l
+0001e8b0: 656e 2876 6964 656f 5f70 6174 6873 2920  en(video_paths) 
+0001e8c0: 2f2f 2032 5d2c 0a20 2020 2020 2020 2076  // 2],.        v
+0001e8d0: 6964 656f 5f70 6174 6873 5b6c 656e 2876  ideo_paths[len(v
+0001e8e0: 6964 656f 5f70 6174 6873 2920 2f2f 2032  ideo_paths) // 2
+0001e8f0: 203a 5d2c 0a20 2020 2029 0a20 2020 2069   :],.    ).    i
+0001e900: 6620 7665 7262 6f73 653a 0a20 2020 2020  f verbose:.     
+0001e910: 2020 2070 7269 6e74 2822 4372 6561 7469     print("Creati
+0001e920: 6e67 2075 7070 6572 2072 6967 6874 206d  ng upper right m
+0001e930: 6f73 6169 6320 2e2e 2e20 2853 7465 7020  osaic ... (Step 
+0001e940: 312f 3429 2229 0a20 2020 2069 6620 6c65  1/4)").    if le
+0001e950: 6e28 7570 7065 725f 7669 6465 6f73 2920  n(upper_videos) 
+0001e960: 3e20 313a 0a20 2020 2020 2020 2075 7070  > 1:.        upp
+0001e970: 6572 5f70 6174 6820 3d20 6f73 2e70 6174  er_path = os.pat
+0001e980: 682e 6a6f 696e 2874 656d 705f 6469 722c  h.join(temp_dir,
+0001e990: 2022 7570 7065 722e 6d70 3422 290a 2020   "upper.mp4").  
+0001e9a0: 2020 2020 2020 686f 7269 7a6f 6e74 616c        horizontal
+0001e9b0: 5f76 6964 656f 5f63 6f6e 6361 7465 6e61  _video_concatena
+0001e9c0: 746f 7228 0a20 2020 2020 2020 2020 2020  tor(.           
+0001e9d0: 2076 6964 656f 5f70 6174 6873 3d75 7070   video_paths=upp
+0001e9e0: 6572 5f76 6964 656f 732c 0a20 2020 2020  er_videos,.     
+0001e9f0: 2020 2020 2020 2073 6176 655f 7061 7468         save_path
+0001ea00: 3d75 7070 6572 5f70 6174 682c 0a20 2020  =upper_path,.   
+0001ea10: 2020 2020 2020 2020 2067 7075 3d67 7075           gpu=gpu
+0001ea20: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
+0001ea30: 6967 6874 5f70 783d 6d6f 7361 6963 5f68  ight_px=mosaic_h
+0001ea40: 6569 6768 742c 0a20 2020 2020 2020 2020  eight,.         
+0001ea50: 2020 2076 6572 626f 7365 3d76 6572 626f     verbose=verbo
+0001ea60: 7365 2c0a 2020 2020 2020 2020 290a 2020  se,.        ).  
+0001ea70: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001ea80: 7570 7065 725f 7061 7468 203d 2075 7070  upper_path = upp
+0001ea90: 6572 5f76 6964 656f 735b 305d 0a20 2020  er_videos[0].   
+0001eaa0: 2069 6620 7665 7262 6f73 653a 0a20 2020   if verbose:.   
+0001eab0: 2020 2020 2070 7269 6e74 2822 4372 6561       print("Crea
+0001eac0: 7469 6e67 206c 6f77 6572 2072 6967 6874  ting lower right
+0001ead0: 206d 6f73 6169 6320 2e2e 2e20 2853 7465   mosaic ... (Ste
+0001eae0: 7020 322f 3429 2229 0a20 2020 2069 6620  p 2/4)").    if 
+0001eaf0: 6c65 6e28 6c6f 7765 725f 7669 6465 6f73  len(lower_videos
+0001eb00: 2920 3e20 313a 0a20 2020 2020 2020 206c  ) > 1:.        l
+0001eb10: 6f77 6572 5f70 6174 6820 3d20 6f73 2e70  ower_path = os.p
+0001eb20: 6174 682e 6a6f 696e 2874 656d 705f 6469  ath.join(temp_di
+0001eb30: 722c 2022 6c6f 7765 722e 6d70 3422 290a  r, "lower.mp4").
+0001eb40: 2020 2020 2020 2020 686f 7269 7a6f 6e74          horizont
+0001eb50: 616c 5f76 6964 656f 5f63 6f6e 6361 7465  al_video_concate
+0001eb60: 6e61 746f 7228 0a20 2020 2020 2020 2020  nator(.         
+0001eb70: 2020 2076 6964 656f 5f70 6174 6873 3d6c     video_paths=l
+0001eb80: 6f77 6572 5f76 6964 656f 732c 0a20 2020  ower_videos,.   
+0001eb90: 2020 2020 2020 2020 2073 6176 655f 7061           save_pa
+0001eba0: 7468 3d6c 6f77 6572 5f70 6174 682c 0a20  th=lower_path,. 
+0001ebb0: 2020 2020 2020 2020 2020 2067 7075 3d67             gpu=g
+0001ebc0: 7075 2c0a 2020 2020 2020 2020 2020 2020  pu,.            
+0001ebd0: 7665 7262 6f73 653d 7665 7262 6f73 652c  verbose=verbose,
+0001ebe0: 0a20 2020 2020 2020 2020 2020 2068 6569  .            hei
+0001ebf0: 6768 745f 7078 3d6d 6f73 6169 635f 6865  ght_px=mosaic_he
+0001ec00: 6967 6874 2c0a 2020 2020 2020 2020 290a  ight,.        ).
+0001ec10: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0001ec20: 2020 6c6f 7765 725f 7061 7468 203d 206c    lower_path = l
+0001ec30: 6f77 6572 5f76 6964 656f 735b 305d 0a20  ower_videos[0]. 
+0001ec40: 2020 2070 616e 656c 735f 6d65 7461 203d     panels_meta =
+0001ec50: 205b 0a20 2020 2020 2020 2067 6574 5f76   [.        get_v
+0001ec60: 6964 656f 5f6d 6574 615f 6461 7461 2876  ideo_meta_data(v
+0001ec70: 6964 656f 5f70 6174 683d 7669 6465 6f5f  ideo_path=video_
+0001ec80: 7061 7468 290a 2020 2020 2020 2020 666f  path).        fo
+0001ec90: 7220 7669 6465 6f5f 7061 7468 2069 6e20  r video_path in 
+0001eca0: 5b6c 6f77 6572 5f70 6174 682c 2075 7070  [lower_path, upp
+0001ecb0: 6572 5f70 6174 685d 0a20 2020 205d 0a20  er_path].    ]. 
+0001ecc0: 2020 206d 6f73 6169 635f 7061 7468 203d     mosaic_path =
+0001ecd0: 206f 732e 7061 7468 2e6a 6f69 6e28 7465   os.path.join(te
+0001ece0: 6d70 5f64 6972 2c20 226d 6f73 6169 632e  mp_dir, "mosaic.
+0001ecf0: 6d70 3422 290a 2020 2020 6966 2076 6572  mp4").    if ver
+0001ed00: 626f 7365 3a0a 2020 2020 2020 2020 7072  bose:.        pr
+0001ed10: 696e 7428 224a 6f69 6e69 6e67 2075 7070  int("Joining upp
+0001ed20: 6572 2061 6e64 206c 6f77 6572 2072 6967  er and lower rig
+0001ed30: 6874 206d 6f73 6169 632e 2e2e 2028 5374  ht mosaic... (St
+0001ed40: 6570 2033 2f34 2922 290a 2020 2020 7665  ep 3/4)").    ve
+0001ed50: 7274 6963 616c 5f76 6964 656f 5f63 6f6e  rtical_video_con
+0001ed60: 6361 7465 6e61 746f 7228 0a20 2020 2020  catenator(.     
+0001ed70: 2020 2076 6964 656f 5f70 6174 6873 3d5b     video_paths=[
+0001ed80: 7570 7065 725f 7061 7468 2c20 6c6f 7765  upper_path, lowe
+0001ed90: 725f 7061 7468 5d2c 0a20 2020 2020 2020  r_path],.       
+0001eda0: 2077 6964 7468 5f70 783d 6d61 7828 5b78   width_px=max([x
+0001edb0: 5b22 7769 6474 6822 5d20 666f 7220 7820  ["width"] for x 
+0001edc0: 696e 2070 616e 656c 735f 6d65 7461 5d29  in panels_meta])
+0001edd0: 2c0a 2020 2020 2020 2020 7361 7665 5f70  ,.        save_p
+0001ede0: 6174 683d 6d6f 7361 6963 5f70 6174 682c  ath=mosaic_path,
+0001edf0: 0a20 2020 2020 2020 2067 7075 3d67 7075  .        gpu=gpu
+0001ee00: 2c0a 2020 2020 2020 2020 7665 7262 6f73  ,.        verbos
+0001ee10: 653d 7665 7262 6f73 652c 0a20 2020 2029  e=verbose,.    )
+0001ee20: 0a20 2020 2069 6620 7665 7262 6f73 653a  .    if verbose:
+0001ee30: 0a20 2020 2020 2020 2070 7269 6e74 2822  .        print("
+0001ee40: 4a6f 696e 696e 6720 6c65 6674 2061 6e64  Joining left and
+0001ee50: 2072 6967 6874 206d 6f73 6169 632e 2e2e   right mosaic...
+0001ee60: 2028 5374 6570 2034 2f34 2922 290a 2020   (Step 4/4)").  
+0001ee70: 2020 686f 7269 7a6f 6e74 616c 5f76 6964    horizontal_vid
+0001ee80: 656f 5f63 6f6e 6361 7465 6e61 746f 7228  eo_concatenator(
+0001ee90: 0a20 2020 2020 2020 2076 6964 656f 5f70  .        video_p
+0001eea0: 6174 6873 3d5b 6c61 7267 655f 6d6f 7361  aths=[large_mosa
+0001eeb0: 6963 5f70 6174 682c 206d 6f73 6169 635f  ic_path, mosaic_
+0001eec0: 7061 7468 5d2c 0a20 2020 2020 2020 2068  path],.        h
+0001eed0: 6569 6768 745f 6964 783d 302c 0a20 2020  eight_idx=0,.   
+0001eee0: 2020 2020 2073 6176 655f 7061 7468 3d73       save_path=s
+0001eef0: 6176 655f 7061 7468 2c0a 2020 2020 2020  ave_path,.      
+0001ef00: 2020 6770 753d 6770 752c 0a20 2020 2029    gpu=gpu,.    )
+0001ef10: 0a20 2020 2074 696d 6572 2e73 746f 705f  .    timer.stop_
+0001ef20: 7469 6d65 7228 290a 2020 2020 7368 7574  timer().    shut
+0001ef30: 696c 2e72 6d74 7265 6528 7465 6d70 5f64  il.rmtree(temp_d
+0001ef40: 6972 290a 2020 2020 6966 2076 6572 626f  ir).    if verbo
+0001ef50: 7365 3a0a 2020 2020 2020 2020 7072 696e  se:.        prin
+0001ef60: 7428 0a20 2020 2020 2020 2020 2020 2066  t(.            f
+0001ef70: 224d 6978 6564 206d 6f73 6169 6320 636f  "Mixed mosaic co
+0001ef80: 6e63 6174 656e 6174 696f 6e20 636f 6d70  ncatenation comp
+0001ef90: 6c65 7465 2e20 5361 7665 6420 6174 207b  lete. Saved at {
+0001efa0: 7361 7665 5f70 6174 687d 2028 456c 6170  save_path} (Elap
+0001efb0: 7365 6420 7469 6d65 3a20 7b74 696d 6572  sed time: {timer
+0001efc0: 2e65 6c61 7073 6564 5f74 696d 655f 7374  .elapsed_time_st
+0001efd0: 727d 732e 2922 0a20 2020 2020 2020 2029  r}s.)".        )
+0001efe0: 0a0a 0a64 6566 2063 6c69 705f 7669 6465  ...def clip_vide
+0001eff0: 6f73 5f62 795f 6672 616d 655f 6964 7328  os_by_frame_ids(
+0001f000: 6669 6c65 5f70 6174 6873 3a20 4c69 7374  file_paths: List
+0001f010: 5b55 6e69 6f6e 5b73 7472 2c20 6f73 2e50  [Union[str, os.P
+0001f020: 6174 684c 696b 655d 5d2c 2066 726d 5f69  athLike]], frm_i
+0001f030: 6473 3a20 4c69 7374 5b4c 6973 745b 696e  ds: List[List[in
+0001f040: 745d 5d2c 2073 6176 655f 6469 723a 204f  t]], save_dir: O
+0001f050: 7074 696f 6e61 6c5b 556e 696f 6e5b 7374  ptional[Union[st
+0001f060: 722c 206f 732e 5061 7468 4c69 6b65 5d5d  r, os.PathLike]]
+0001f070: 203d 204e 6f6e 6529 3a0a 2020 2020 2222   = None):.    ""
+0001f080: 220a 2020 2020 436c 6970 2076 6964 656f  ".    Clip video
+0001f090: 7320 7370 6563 6966 6965 6420 6279 2066  s specified by f
+0001f0a0: 7261 6d65 2049 4473 2028 6e75 6d62 6572  rame IDs (number
+0001f0b0: 7329 2e0a 0a20 2020 203a 7061 7261 6d20  s)...    :param 
+0001f0c0: 4c69 7374 5b55 6e69 6f6e 5b73 7472 2c20  List[Union[str, 
+0001f0d0: 6f73 2e50 6174 684c 696b 655d 5d20 6669  os.PathLike]] fi
+0001f0e0: 6c65 5f70 6174 6873 3a20 4c69 7374 206f  le_paths: List o
+0001f0f0: 6620 7061 7468 7320 746f 2069 6e70 7574  f paths to input
+0001f100: 2076 6964 656f 2066 696c 6573 2e0a 2020   video files..  
+0001f110: 2020 3a70 6172 616d 204c 6973 745b 4c69    :param List[Li
+0001f120: 7374 5b69 6e74 5d5d 2066 726d 5f69 6473  st[int]] frm_ids
+0001f130: 3a20 4c69 7374 206f 6620 6c69 7374 7320  : List of lists 
+0001f140: 636f 6e74 6169 6e69 6e67 2073 7461 7274  containing start
+0001f150: 2061 6e64 2065 6e64 2066 7261 6d65 2049   and end frame I
+0001f160: 4473 2066 6f72 2065 6163 6820 7669 6465  Ds for each vide
+0001f170: 6f2e 0a20 2020 203a 7061 7261 6d20 4f70  o..    :param Op
+0001f180: 7469 6f6e 616c 5b55 6e69 6f6e 5b73 7472  tional[Union[str
+0001f190: 2c20 6f73 2e50 6174 684c 696b 655d 5d20  , os.PathLike]] 
+0001f1a0: 7361 7665 5f64 6972 3a20 2044 6972 6563  save_dir:  Direc
+0001f1b0: 746f 7279 2074 6f20 7361 7665 2074 6865  tory to save the
+0001f1c0: 2063 6c69 7070 6564 2076 6964 656f 732e   clipped videos.
+0001f1d0: 2049 6620 4e6f 6e65 2c20 7669 6465 6f73   If None, videos
+0001f1e0: 2077 696c 6c20 6265 2073 6176 6564 2069   will be saved i
+0001f1f0: 6e20 7468 6520 7361 6d65 2064 6972 6563  n the same direc
+0001f200: 746f 7279 2061 7320 7468 6520 696e 7075  tory as the inpu
+0001f210: 7420 7669 6465 6f73 2077 6974 6820 6672  t videos with fr
+0001f220: 616d 6520 6e75 6d62 6572 7320 6173 2073  ame numbers as s
+0001f230: 7566 6669 782e 0a20 2020 203a 7265 7475  uffix..    :retu
+0001f240: 726e 3a20 4e6f 6e65 2e0a 0a20 2020 203a  rn: None...    :
+0001f250: 6578 616d 706c 653a 0a20 2020 203e 3e3e  example:.    >>>
+0001f260: 2066 696c 655f 7061 7468 7320 3d20 5b27   file_paths = ['
+0001f270: 2f55 7365 7273 2f73 696d 6f6e 2f44 6573  /Users/simon/Des
+0001f280: 6b74 6f70 2f65 6e76 732f 7369 6d62 612f  ktop/envs/simba/
+0001f290: 7472 6f75 626c 6573 686f 6f74 696e 672f  troubleshooting/
+0001f2a0: 6265 6570 626f 6f70 3137 342f 7072 6f6a  beepboop174/proj
+0001f2b0: 6563 745f 666f 6c64 6572 2f66 7261 6d65  ect_folder/frame
+0001f2c0: 732f 6f75 7470 7574 2f70 6174 685f 706c  s/output/path_pl
+0001f2d0: 6f74 732f 5472 6961 6c20 2020 2031 302e  ots/Trial    10.
+0001f2e0: 6d70 3427 2c20 272f 5573 6572 732f 7369  mp4', '/Users/si
+0001f2f0: 6d6f 6e2f 4465 736b 746f 702f 656e 7673  mon/Desktop/envs
+0001f300: 2f73 696d 6261 2f74 726f 7562 6c65 7368  /simba/troublesh
+0001f310: 6f6f 7469 6e67 2f62 6565 7062 6f6f 7031  ooting/beepboop1
+0001f320: 3734 2f70 726f 6a65 6374 5f66 6f6c 6465  74/project_folde
+0001f330: 722f 6672 616d 6573 2f6f 7574 7075 742f  r/frames/output/
+0001f340: 7061 7468 5f70 6c6f 7473 2f54 7269 616c  path_plots/Trial
+0001f350: 2020 2020 3130 5f31 2e6d 7034 275d 0a20      10_1.mp4']. 
+0001f360: 2020 203e 3e3e 2066 726d 5f69 6473 203d     >>> frm_ids =
+0001f370: 205b 5b30 2c20 3230 5d2c 205b 3230 2c20   [[0, 20], [20, 
+0001f380: 3430 5d5d 0a20 2020 203e 3e3e 2063 6c69  40]].    >>> cli
+0001f390: 705f 7669 6465 6f73 5f62 795f 6672 616d  p_videos_by_fram
+0001f3a0: 655f 6964 7328 6669 6c65 5f70 6174 6873  e_ids(file_paths
+0001f3b0: 3d66 696c 655f 7061 7468 732c 2066 726d  =file_paths, frm
+0001f3c0: 5f69 6473 3d66 726d 5f69 6473 2c20 7361  _ids=frm_ids, sa
+0001f3d0: 7665 5f64 6972 3d27 2f55 7365 7273 2f73  ve_dir='/Users/s
+0001f3e0: 696d 6f6e 2f44 6573 6b74 6f70 2f65 6e76  imon/Desktop/env
+0001f3f0: 732f 7369 6d62 612f 7472 6f75 626c 6573  s/simba/troubles
+0001f400: 686f 6f74 696e 672f 6265 6570 626f 6f70  hooting/beepboop
+0001f410: 3137 342f 7072 6f6a 6563 745f 666f 6c64  174/project_fold
+0001f420: 6572 2f66 7261 6d65 732f 6f75 7470 7574  er/frames/output
+0001f430: 2f70 6174 685f 706c 6f74 732f 7472 6961  /path_plots/tria
+0001f440: 6c5f 636e 7427 290a 2020 2020 2222 220a  l_cnt').    """.
+0001f450: 0a20 2020 2074 696d 6572 203d 2053 696d  .    timer = Sim
+0001f460: 6261 5469 6d65 7228 7374 6172 743d 5472  baTimer(start=Tr
+0001f470: 7565 290a 2020 2020 6368 6563 6b5f 7661  ue).    check_va
+0001f480: 6c69 645f 6c73 7428 6461 7461 3d66 696c  lid_lst(data=fil
+0001f490: 655f 7061 7468 732c 736f 7572 6365 3d63  e_paths,source=c
+0001f4a0: 6c69 705f 7669 6465 6f73 5f62 795f 6672  lip_videos_by_fr
+0001f4b0: 616d 655f 6964 732e 5f5f 6e61 6d65 5f5f  ame_ids.__name__
+0001f4c0: 2c76 616c 6964 5f64 7479 7065 733d 2873  ,valid_dtypes=(s
+0001f4d0: 7472 2c29 2c6d 696e 5f6c 656e 3d31 290a  tr,),min_len=1).
+0001f4e0: 2020 2020 6368 6563 6b5f 7661 6c69 645f      check_valid_
+0001f4f0: 6c73 7428 6461 7461 3d66 726d 5f69 6473  lst(data=frm_ids
+0001f500: 2c73 6f75 7263 653d 636c 6970 5f76 6964  ,source=clip_vid
+0001f510: 656f 735f 6279 5f66 7261 6d65 5f69 6473  eos_by_frame_ids
+0001f520: 2e5f 5f6e 616d 655f 5f2c 7661 6c69 645f  .__name__,valid_
+0001f530: 6474 7970 6573 3d28 6c69 7374 2c29 2c20  dtypes=(list,), 
+0001f540: 6578 6163 745f 6c65 6e3d 6c65 6e28 6669  exact_len=len(fi
+0001f550: 6c65 5f70 6174 6873 2929 0a20 2020 2066  le_paths)).    f
+0001f560: 6f72 2063 6e74 2c20 6920 696e 2065 6e75  or cnt, i in enu
+0001f570: 6d65 7261 7465 2866 726d 5f69 6473 293a  merate(frm_ids):
+0001f580: 0a20 2020 2020 2020 2063 6865 636b 5f76  .        check_v
+0001f590: 616c 6964 5f6c 7374 2864 6174 613d 692c  alid_lst(data=i,
+0001f5a0: 2073 6f75 7263 653d 6622 636c 6970 5f76   source=f"clip_v
+0001f5b0: 6964 656f 735f 6279 5f66 7261 6d65 5f63  ideos_by_frame_c
+0001f5c0: 6f75 6e74 2e5f 5f6e 616d 655f 2066 726d  ount.__name_ frm
+0001f5d0: 5f69 6473 207b 636e 747d 222c 2076 616c  _ids {cnt}", val
+0001f5e0: 6964 5f64 7479 7065 733d 2869 6e74 2c29  id_dtypes=(int,)
+0001f5f0: 2c20 6578 6163 745f 6c65 6e3d 3229 0a20  , exact_len=2). 
+0001f600: 2020 2020 2020 2069 6620 695b 305d 203e         if i[0] >
+0001f610: 3d20 695b 315d 3a0a 2020 2020 2020 2020  = i[1]:.        
+0001f620: 2020 2020 7261 6973 6520 4672 616d 6552      raise FrameR
+0001f630: 616e 6765 4572 726f 7228 206d 7367 3d66  angeError( msg=f
+0001f640: 2253 7461 7274 2066 7261 6d65 2066 6f72  "Start frame for
+0001f650: 2076 6964 656f 207b 697d 2069 7320 6166   video {i} is af
+0001f660: 7465 7220 6f72 2074 6865 2073 616d 6520  ter or the same 
+0001f670: 6173 2074 6865 2065 6e64 2066 7261 6d65  as the end frame
+0001f680: 2028 7b69 5b30 5d7d 2c20 7b69 5b31 5d7d   ({i[0]}, {i[1]}
+0001f690: 2922 2c20 736f 7572 6365 3d63 6c69 705f  )", source=clip_
+0001f6a0: 7669 6465 6f73 5f62 795f 6672 616d 655f  videos_by_frame_
+0001f6b0: 6964 732e 5f5f 6e61 6d65 5f5f 290a 2020  ids.__name__).  
+0001f6c0: 2020 2020 2020 6966 2028 695b 305d 203c        if (i[0] <
+0001f6d0: 2030 2920 6f72 2028 695b 315d 203c 2031   0) or (i[1] < 1
+0001f6e0: 293a 0a20 2020 2020 2020 2020 2020 2072  ):.            r
+0001f6f0: 6169 7365 2046 7261 6d65 5261 6e67 6545  aise FrameRangeE
+0001f700: 7272 6f72 286d 7367 3d66 2253 7461 7274  rror(msg=f"Start
+0001f710: 2066 7261 6d65 2068 6173 2074 6f20 6265   frame has to be
+0001f720: 2061 7420 6c65 6173 7420 3020 616e 6420   at least 0 and 
+0001f730: 656e 6420 6672 616d 6520 6861 7320 746f  end frame has to
+0001f740: 2062 6520 6174 206c 6561 7374 2031 222c   be at least 1",
+0001f750: 2073 6f75 7263 653d 636c 6970 5f76 6964   source=clip_vid
+0001f760: 656f 735f 6279 5f66 7261 6d65 5f69 6473  eos_by_frame_ids
+0001f770: 2e5f 5f6e 616d 655f 5f29 0a20 2020 2076  .__name__).    v
+0001f780: 6964 656f 5f6d 6574 615f 6461 7461 203d  ideo_meta_data =
+0001f790: 205b 6765 745f 7669 6465 6f5f 6d65 7461   [get_video_meta
+0001f7a0: 5f64 6174 6128 7669 6465 6f5f 7061 7468  _data(video_path
+0001f7b0: 3d78 2920 666f 7220 7820 696e 2066 696c  =x) for x in fil
+0001f7c0: 655f 7061 7468 735d 0a20 2020 2066 6f72  e_paths].    for
+0001f7d0: 2069 2069 6e20 7261 6e67 6528 6c65 6e28   i in range(len(
+0001f7e0: 7669 6465 6f5f 6d65 7461 5f64 6174 6129  video_meta_data)
+0001f7f0: 293a 0a20 2020 2020 2020 2069 6620 2866  ):.        if (f
+0001f800: 726d 5f69 6473 5b69 5d5b 305d 203e 2076  rm_ids[i][0] > v
+0001f810: 6964 656f 5f6d 6574 615f 6461 7461 5b69  ideo_meta_data[i
+0001f820: 5d5b 2266 7261 6d65 5f63 6f75 6e74 225d  ]["frame_count"]
+0001f830: 2920 6f72 2028 6672 6d5f 6964 735b 695d  ) or (frm_ids[i]
+0001f840: 5b31 5d20 3e20 7669 6465 6f5f 6d65 7461  [1] > video_meta
+0001f850: 5f64 6174 615b 695d 5b22 6672 616d 655f  _data[i]["frame_
+0001f860: 636f 756e 7422 5d29 3a0a 2020 2020 2020  count"]):.      
+0001f870: 2020 2020 2020 7261 6973 6520 4672 616d        raise Fram
+0001f880: 6552 616e 6765 4572 726f 7228 6d73 673d  eRangeError(msg=
+0001f890: 6627 5669 6465 6f20 7b69 2b31 7d20 6861  f'Video {i+1} ha
+0001f8a0: 7320 7b76 6964 656f 5f6d 6574 615f 6461  s {video_meta_da
+0001f8b0: 7461 5b69 5d5b 2266 7261 6d65 5f63 6f75  ta[i]["frame_cou
+0001f8c0: 6e74 225d 7d20 6672 616d 6573 2c20 6361  nt"]} frames, ca
+0001f8d0: 6e6e 6f74 2075 7365 2073 7461 7274 2061  nnot use start a
+0001f8e0: 6e64 2065 6e64 2066 7261 6d65 207b 6672  nd end frame {fr
+0001f8f0: 6d5f 6964 735b 695d 7d27 2c20 736f 7572  m_ids[i]}', sour
+0001f900: 6365 3d63 6c69 705f 7669 6465 6f73 5f62  ce=clip_videos_b
+0001f910: 795f 6672 616d 655f 6964 732e 5f5f 6e61  y_frame_ids.__na
+0001f920: 6d65 5f5f 290a 2020 2020 6966 2073 6176  me__).    if sav
+0001f930: 655f 6469 7220 6973 206e 6f74 204e 6f6e  e_dir is not Non
+0001f940: 653a 0a20 2020 2020 2020 2063 6865 636b  e:.        check
+0001f950: 5f69 665f 6469 725f 6578 6973 7473 2869  _if_dir_exists(i
+0001f960: 6e5f 6469 723d 7361 7665 5f64 6972 2c20  n_dir=save_dir, 
+0001f970: 736f 7572 6365 3d63 6c69 705f 7669 6465  source=clip_vide
+0001f980: 6f73 5f62 795f 6672 616d 655f 6964 732e  os_by_frame_ids.
+0001f990: 5f5f 6e61 6d65 5f5f 2c20 6372 6561 7465  __name__, create
+0001f9a0: 5f69 665f 6e6f 745f 6578 6973 743d 5472  _if_not_exist=Tr
+0001f9b0: 7565 290a 2020 2020 666f 7220 636e 742c  ue).    for cnt,
+0001f9c0: 2066 696c 655f 7061 7468 2069 6e20 656e   file_path in en
+0001f9d0: 756d 6572 6174 6528 6669 6c65 5f70 6174  umerate(file_pat
+0001f9e0: 6873 293a 0a20 2020 2020 2020 2076 6964  hs):.        vid
+0001f9f0: 656f 5f74 696d 6572 203d 2053 696d 6261  eo_timer = Simba
+0001fa00: 5469 6d65 7228 7374 6172 743d 5472 7565  Timer(start=True
+0001fa10: 290a 2020 2020 2020 2020 6469 722c 2076  ).        dir, v
+0001fa20: 6964 656f 5f6e 616d 652c 2065 7874 203d  ideo_name, ext =
+0001fa30: 2067 6574 5f66 6e5f 6578 7428 6669 6c65   get_fn_ext(file
+0001fa40: 7061 7468 3d66 696c 655f 7061 7468 290a  path=file_path).
+0001fa50: 2020 2020 2020 2020 735f 662c 2065 5f66          s_f, e_f
+0001fa60: 203d 2066 726d 5f69 6473 5b63 6e74 5d5b   = frm_ids[cnt][
+0001fa70: 305d 2c20 6672 6d5f 6964 735b 636e 745d  0], frm_ids[cnt]
+0001fa80: 5b31 5d0a 2020 2020 2020 2020 7072 696e  [1].        prin
+0001fa90: 7428 6622 5472 696d 6d69 6e67 207b 7669  t(f"Trimming {vi
+0001faa0: 6465 6f5f 6e61 6d65 7d20 6672 6f6d 2066  deo_name} from f
+0001fab0: 7261 6d65 207b 735f 667d 2074 6f20 6672  rame {s_f} to fr
+0001fac0: 616d 6520 7b65 5f66 7d2e 2e2e 2229 0a20  ame {e_f}..."). 
+0001fad0: 2020 2020 2020 2069 6620 7361 7665 5f64         if save_d
+0001fae0: 6972 2069 7320 6e6f 7420 4e6f 6e65 3a0a  ir is not None:.
+0001faf0: 2020 2020 2020 2020 2020 2020 6f75 745f              out_
+0001fb00: 7061 7468 203d 206f 732e 7061 7468 2e6a  path = os.path.j
+0001fb10: 6f69 6e28 7361 7665 5f64 6972 2c20 6f73  oin(save_dir, os
+0001fb20: 2e70 6174 682e 6261 7365 6e61 6d65 2866  .path.basename(f
+0001fb30: 696c 655f 7061 7468 2929 0a20 2020 2020  ile_path)).     
+0001fb40: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+0001fb50: 2020 2020 206f 7574 5f70 6174 6820 3d20       out_path = 
+0001fb60: 6f73 2e70 6174 682e 6a6f 696e 2864 6972  os.path.join(dir
+0001fb70: 2c20 6622 7b76 6964 656f 5f6e 616d 657d  , f"{video_name}
+0001fb80: 5f7b 735f 667d 5f7b 655f 667d 7b65 7874  _{s_f}_{e_f}{ext
+0001fb90: 7d22 290a 2020 2020 2020 2020 636d 6420  }").        cmd 
+0001fba0: 3d20 6627 6666 6d70 6567 202d 6920 227b  = f'ffmpeg -i "{
+0001fbb0: 6669 6c65 5f70 6174 687d 2220 2d76 6620  file_path}" -vf 
+0001fbc0: 7472 696d 3d73 7461 7274 5f66 7261 6d65  trim=start_frame
+0001fbd0: 3d7b 735f 667d 3a65 6e64 5f66 7261 6d65  ={s_f}:end_frame
+0001fbe0: 3d7b 655f 667d 202d 616e 2022 7b6f 7574  ={e_f} -an "{out
+0001fbf0: 5f70 6174 687d 2220 2d6c 6f67 6c65 7665  _path}" -logleve
+0001fc00: 6c20 6572 726f 7220 2d73 7461 7473 202d  l error -stats -
+0001fc10: 7927 0a20 2020 2020 2020 2073 7562 7072  y'.        subpr
+0001fc20: 6f63 6573 732e 6361 6c6c 2863 6d64 2c20  ocess.call(cmd, 
+0001fc30: 7368 656c 6c3d 5472 7565 2c20 7374 646f  shell=True, stdo
+0001fc40: 7574 3d73 7562 7072 6f63 6573 732e 5049  ut=subprocess.PI
+0001fc50: 5045 290a 2020 2020 2020 2020 7669 6465  PE).        vide
+0001fc60: 6f5f 7469 6d65 722e 7374 6f70 5f74 696d  o_timer.stop_tim
+0001fc70: 6572 2829 0a20 2020 2020 2020 2070 7269  er().        pri
+0001fc80: 6e74 2866 2256 6964 656f 207b 7669 6465  nt(f"Video {vide
+0001fc90: 6f5f 6e61 6d65 7d20 636f 6d70 6c65 7465  o_name} complete
+0001fca0: 2028 656c 6170 7365 6420 7469 6d65 207b   (elapsed time {
+0001fcb0: 7669 6465 6f5f 7469 6d65 722e 656c 6170  video_timer.elap
+0001fcc0: 7365 645f 7469 6d65 5f73 7472 7d73 2922  sed_time_str}s)"
+0001fcd0: 290a 2020 2020 7469 6d65 722e 7374 6f70  ).    timer.stop
+0001fce0: 5f74 696d 6572 2829 0a20 2020 2069 6620  _timer().    if 
+0001fcf0: 7361 7665 5f64 6972 2069 7320 4e6f 6e65  save_dir is None
+0001fd00: 3a0a 2020 2020 2020 2020 7374 646f 7574  :.        stdout
+0001fd10: 5f73 7563 6365 7373 286d 7367 3d66 227b  _success(msg=f"{
+0001fd20: 6c65 6e28 6669 6c65 5f70 6174 6873 297d  len(file_paths)}
+0001fd30: 2076 6964 656f 2873 2920 636c 6970 7065   video(s) clippe
+0001fd40: 6420 6279 2066 7261 6d65 222c 2065 6c61  d by frame", ela
+0001fd50: 7073 6564 5f74 696d 653d 7469 6d65 722e  psed_time=timer.
+0001fd60: 656c 6170 7365 645f 7469 6d65 5f73 7472  elapsed_time_str
+0001fd70: 290a 2020 2020 656c 7365 3a0a 2020 2020  ).    else:.    
+0001fd80: 2020 2020 7374 646f 7574 5f73 7563 6365      stdout_succe
+0001fd90: 7373 286d 7367 3d66 227b 6c65 6e28 6669  ss(msg=f"{len(fi
+0001fda0: 6c65 5f70 6174 6873 297d 2076 6964 656f  le_paths)} video
+0001fdb0: 2873 2920 636c 6970 7065 6420 6279 2066  (s) clipped by f
+0001fdc0: 7261 6d65 2061 6e64 2073 6176 6564 2069  rame and saved i
+0001fdd0: 6e20 7b73 6176 655f 6469 727d 222c 2065  n {save_dir}", e
+0001fde0: 6c61 7073 6564 5f74 696d 653d 7469 6d65  lapsed_time=time
+0001fdf0: 722e 656c 6170 7365 645f 7469 6d65 5f73  r.elapsed_time_s
+0001fe00: 7472 290a 0a0a 6465 6620 636f 6e76 6572  tr)...def conver
+0001fe10: 745f 746f 5f6d 7034 2870 6174 683a 2055  t_to_mp4(path: U
+0001fe20: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
+0001fe30: 684c 696b 655d 2c0a 2020 2020 2020 2020  hLike],.        
+0001fe40: 2020 2020 2020 2020 2020 2063 6f64 6563             codec
+0001fe50: 3a20 4c69 7465 7261 6c5b 276c 6962 7832  : Literal['libx2
+0001fe60: 3635 272c 2027 6c69 6278 3236 3427 2c20  65', 'libx264', 
+0001fe70: 2776 7039 272c 2027 6832 3634 5f63 7576  'vp9', 'h264_cuv
+0001fe80: 6964 272c 2027 706f 7765 7270 6f69 6e74  id', 'powerpoint
+0001fe90: 275d 203d 2027 6c69 6278 3236 3527 2c0a  '] = 'libx265',.
+0001fea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001feb0: 2020 2073 6176 655f 6469 723a 204f 7074     save_dir: Opt
+0001fec0: 696f 6e61 6c5b 556e 696f 6e5b 7374 722c  ional[Union[str,
+0001fed0: 206f 732e 5061 7468 4c69 6b65 5d5d 203d   os.PathLike]] =
+0001fee0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+0001fef0: 2020 2020 2020 2020 2020 7175 616c 6974            qualit
+0001ff00: 793a 204f 7074 696f 6e61 6c5b 696e 745d  y: Optional[int]
+0001ff10: 203d 2036 3029 202d 3e20 4e6f 6e65 3a0a   = 60) -> None:.
+0001ff20: 2020 2020 2222 220a 2020 2020 436f 6e76      """.    Conv
+0001ff30: 6572 7420 6120 6469 7265 6374 6f72 7920  ert a directory 
+0001ff40: 636f 6e74 6169 6e69 6e67 2076 6964 656f  containing video
+0001ff50: 732c 206f 7220 6120 7369 6e67 6c65 2076  s, or a single v
+0001ff60: 6964 656f 2c20 746f 204d 5034 2066 6f72  ideo, to MP4 for
+0001ff70: 6d61 7420 7573 696e 6720 7061 7373 6564  mat using passed
+0001ff80: 2071 7561 6c69 7479 2061 6e64 2063 6f64   quality and cod
+0001ff90: 6563 2e0a 0a20 2020 203a 7061 7261 6d20  ec...    :param 
+0001ffa0: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
+0001ffb0: 7468 4c69 6b65 5d20 7061 7468 3a20 5061  thLike] path: Pa
+0001ffc0: 7468 2074 6f20 6469 7265 6374 6f72 7920  th to directory 
+0001ffd0: 6f72 2066 696c 652e 0a20 2020 203a 7061  or file..    :pa
+0001ffe0: 7261 6d20 4c69 7465 7261 6c5b 276c 6962  ram Literal['lib
+0001fff0: 7832 3635 272c 2027 6c69 6278 3236 3427  x265', 'libx264'
+00020000: 2c20 2776 7039 272c 2027 706f 7765 7270  , 'vp9', 'powerp
+00020010: 6f69 6e74 275d 2063 6f64 6563 3a0a 2020  oint'] codec:.  
+00020020: 2020 3a70 6172 616d 204f 7074 696f 6e61    :param Optiona
+00020030: 6c5b 4f70 7469 6f6e 616c 5b55 6e69 6f6e  l[Optional[Union
+00020040: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
+00020050: 655d 5d5d 2073 6176 655f 6469 723a 2044  e]]] save_dir: D
+00020060: 6972 6563 746f 7279 2077 6865 7265 2074  irectory where t
+00020070: 6f20 7361 7665 2074 6865 2063 6f6e 7665  o save the conve
+00020080: 7274 6564 2076 6964 656f 732e 2049 6620  rted videos. If 
+00020090: 4e6f 6e65 2c20 7468 656e 2063 7265 6174  None, then creat
+000200a0: 6573 2061 2064 6972 6563 746f 7279 2069  es a directory i
+000200b0: 6e20 7468 6520 7361 6d65 2064 6972 6563  n the same direc
+000200c0: 746f 7279 2061 7320 7468 6520 696e 7075  tory as the inpu
+000200d0: 742e 0a20 2020 203a 7061 7261 6d20 4f70  t..    :param Op
+000200e0: 7469 6f6e 616c 5b69 6e74 5d20 7175 616c  tional[int] qual
+000200f0: 6974 793a 2049 6e74 6567 6572 2072 6570  ity: Integer rep
+00020100: 7265 7365 6e74 696e 6720 7468 6520 7175  resenting the qu
+00020110: 616c 6974 793a 2031 302c 2032 302c 2033  ality: 10, 20, 3
+00020120: 302e 2e20 3130 302e 0a20 2020 203a 7265  0.. 100..    :re
+00020130: 7475 726e 3a20 4e6f 6e65 2e0a 0a20 2020  turn: None...   
+00020140: 203a 6578 616d 706c 653a 0a20 2020 203e   :example:.    >
+00020150: 3e3e 2063 6f6e 7665 7274 5f74 6f5f 6d70  >> convert_to_mp
+00020160: 3428 7061 7468 3d27 2f55 7365 7273 2f73  4(path='/Users/s
+00020170: 696d 6f6e 2f44 6573 6b74 6f70 2f76 6964  imon/Desktop/vid
+00020180: 656f 5f74 6573 7427 2c20 7175 616c 6974  eo_test', qualit
+00020190: 793d 2236 3022 2c20 636f 6465 633d 2776  y="60", codec='v
+000201a0: 7039 2729 0a20 2020 2022 2222 0a0a 2020  p9').    """..  
+000201b0: 2020 7469 6d65 7220 3d20 5369 6d62 6154    timer = SimbaT
+000201c0: 696d 6572 2873 7461 7274 3d54 7275 6529  imer(start=True)
+000201d0: 0a20 2020 2063 6865 636b 5f66 666d 7065  .    check_ffmpe
+000201e0: 675f 6176 6169 6c61 626c 6528 7261 6973  g_available(rais
+000201f0: 655f 6572 726f 723d 5472 7565 290a 2020  e_error=True).  
+00020200: 2020 6368 6563 6b5f 7374 7228 6e61 6d65    check_str(name
+00020210: 3d66 277b 636f 6e76 6572 745f 746f 5f6d  =f'{convert_to_m
+00020220: 7034 2e5f 5f6e 616d 655f 5f7d 2063 6f64  p4.__name__} cod
+00020230: 6563 272c 2076 616c 7565 3d63 6f64 6563  ec', value=codec
+00020240: 2c20 6f70 7469 6f6e 733d 2827 6c69 6278  , options=('libx
+00020250: 3236 3527 2c20 276c 6962 7832 3634 272c  265', 'libx264',
+00020260: 2027 706f 7765 7270 6f69 6e74 272c 2027   'powerpoint', '
+00020270: 7670 3927 2c20 2768 3236 345f 6375 7669  vp9', 'h264_cuvi
+00020280: 6427 2929 0a20 2020 2063 6865 636b 5f69  d')).    check_i
+00020290: 6e73 7461 6e63 6528 736f 7572 6365 3d66  nstance(source=f
+000202a0: 277b 636f 6e76 6572 745f 746f 5f6d 7034  '{convert_to_mp4
+000202b0: 2e5f 5f6e 616d 655f 5f7d 2070 6174 6827  .__name__} path'
+000202c0: 2c20 696e 7374 616e 6365 3d70 6174 682c  , instance=path,
+000202d0: 2061 6363 6570 7465 645f 7479 7065 733d   accepted_types=
+000202e0: 2873 7472 2c29 290a 2020 2020 6461 7465  (str,)).    date
+000202f0: 7469 6d65 5f20 3d20 6461 7465 7469 6d65  time_ = datetime
+00020300: 2e6e 6f77 2829 2e73 7472 6674 696d 6528  .now().strftime(
+00020310: 2225 5925 6d25 6425 4825 4d25 5322 290a  "%Y%m%d%H%M%S").
+00020320: 2020 2020 6372 665f 6c6b 203d 2070 6572      crf_lk = per
+00020330: 6365 6e74 5f74 6f5f 6372 665f 6c6f 6f6b  cent_to_crf_look
+00020340: 7570 2829 0a20 2020 2070 7265 7365 745f  up().    preset_
+00020350: 6c6f 6f6b 7570 203d 2076 6964 656f 5f71  lookup = video_q
+00020360: 7561 6c69 7479 5f74 6f5f 7072 6573 6574  uality_to_preset
+00020370: 5f6c 6f6f 6b75 7028 290a 2020 2020 6966  _lookup().    if
+00020380: 2063 6f64 6563 2021 3d20 2768 3236 345f   codec != 'h264_
+00020390: 6375 7669 6427 3a0a 2020 2020 2020 2020  cuvid':.        
+000203a0: 6368 6563 6b5f 696e 7428 6e61 6d65 3d66  check_int(name=f
+000203b0: 277b 636f 6e76 6572 745f 746f 5f6d 7034  '{convert_to_mp4
+000203c0: 2e5f 5f6e 616d 655f 5f7d 2071 7561 6c69  .__name__} quali
+000203d0: 7479 272c 2076 616c 7565 3d71 7561 6c69  ty', value=quali
+000203e0: 7479 290a 2020 2020 2020 2020 7175 616c  ty).        qual
+000203f0: 6974 7920 3d20 6372 665f 6c6b 5b73 7472  ity = crf_lk[str
+00020400: 2871 7561 6c69 7479 295d 0a20 2020 2065  (quality)].    e
+00020410: 6c73 653a 0a20 2020 2020 2020 2069 6620  lse:.        if 
+00020420: 6e6f 7420 6368 6563 6b5f 6e76 6964 6561  not check_nvidea
+00020430: 5f67 7075 5f61 7661 696c 6162 6c65 2829  _gpu_available()
+00020440: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
+00020450: 6973 6520 4646 4d50 4547 436f 6465 6347  ise FFMPEGCodecG
+00020460: 5055 4572 726f 7228 6d73 673d 224e 6f20  PUError(msg="No 
+00020470: 4750 5520 666f 756e 6420 2861 7320 6576  GPU found (as ev
+00020480: 616c 7561 7465 6420 6279 206e 7669 6465  aluated by nvide
+00020490: 612d 736d 6920 7265 7475 726e 696e 6720  a-smi returning 
+000204a0: 4e6f 6e65 292e 2053 656c 6563 7420 6120  None). Select a 
+000204b0: 6469 6666 6572 656e 7420 636f 6465 6322  different codec"
+000204c0: 2c20 736f 7572 6365 3d63 6f6e 7665 7274  , source=convert
+000204d0: 5f74 6f5f 6d70 342e 5f5f 6e61 6d65 5f5f  _to_mp4.__name__
+000204e0: 290a 2020 2020 2020 2020 6368 6563 6b5f  ).        check_
+000204f0: 7374 7228 6e61 6d65 3d66 277b 636f 6e76  str(name=f'{conv
+00020500: 6572 745f 746f 5f6d 7034 2e5f 5f6e 616d  ert_to_mp4.__nam
+00020510: 655f 5f7d 2071 7561 6c69 7479 272c 2076  e__} quality', v
+00020520: 616c 7565 3d71 7561 6c69 7479 2c20 6f70  alue=quality, op
+00020530: 7469 6f6e 733d 2827 4c6f 7727 2c20 274d  tions=('Low', 'M
+00020540: 6564 6975 6d27 2c20 2748 6967 6827 2929  edium', 'High'))
+00020550: 0a20 2020 2020 2020 2071 7561 6c69 7479  .        quality
+00020560: 203d 2070 7265 7365 745f 6c6f 6f6b 7570   = preset_lookup
+00020570: 5b71 7561 6c69 7479 5d0a 2020 2020 6966  [quality].    if
+00020580: 2073 6176 655f 6469 7220 6973 206e 6f74   save_dir is not
+00020590: 204e 6f6e 653a 0a20 2020 2020 2020 2063   None:.        c
+000205a0: 6865 636b 5f69 665f 6469 725f 6578 6973  heck_if_dir_exis
+000205b0: 7473 2869 6e5f 6469 723d 7361 7665 5f64  ts(in_dir=save_d
+000205c0: 6972 2c20 736f 7572 6365 3d63 6f6e 7665  ir, source=conve
+000205d0: 7274 5f74 6f5f 6d70 342e 5f5f 6e61 6d65  rt_to_mp4.__name
+000205e0: 5f5f 290a 2020 2020 6966 206f 732e 7061  __).    if os.pa
+000205f0: 7468 2e69 7366 696c 6528 7061 7468 293a  th.isfile(path):
+00020600: 0a20 2020 2020 2020 2066 696c 655f 7061  .        file_pa
+00020610: 7468 7320 3d20 5b70 6174 685d 0a20 2020  ths = [path].   
+00020620: 2020 2020 2069 6620 7361 7665 5f64 6972       if save_dir
+00020630: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
+00020640: 2020 2020 2020 7361 7665 5f64 6972 203d        save_dir =
+00020650: 206f 732e 7061 7468 2e6a 6f69 6e28 6f73   os.path.join(os
+00020660: 2e70 6174 682e 6469 726e 616d 6528 7061  .path.dirname(pa
+00020670: 7468 292c 2066 276d 7034 5f7b 6461 7465  th), f'mp4_{date
+00020680: 7469 6d65 5f7d 2729 0a20 2020 2020 2020  time_}').       
+00020690: 2020 2020 206f 732e 6d61 6b65 6469 7273       os.makedirs
+000206a0: 2873 6176 655f 6469 7229 0a20 2020 2065  (save_dir).    e
+000206b0: 6c69 6620 6f73 2e70 6174 682e 6973 6469  lif os.path.isdi
+000206c0: 7228 7061 7468 293a 0a20 2020 2020 2020  r(path):.       
+000206d0: 2066 696c 655f 7061 7468 7320 3d20 6669   file_paths = fi
+000206e0: 6e64 5f66 696c 6573 5f6f 665f 6669 6c65  nd_files_of_file
+000206f0: 7479 7065 735f 696e 5f64 6972 6563 746f  types_in_directo
+00020700: 7279 2864 6972 6563 746f 7279 3d70 6174  ry(directory=pat
+00020710: 682c 2065 7874 656e 7369 6f6e 733d 4f70  h, extensions=Op
+00020720: 7469 6f6e 732e 414c 4c5f 5649 4445 4f5f  tions.ALL_VIDEO_
+00020730: 464f 524d 4154 5f4f 5054 494f 4e53 2e76  FORMAT_OPTIONS.v
+00020740: 616c 7565 2c20 7261 6973 655f 6572 726f  alue, raise_erro
+00020750: 723d 5472 7565 290a 2020 2020 2020 2020  r=True).        
+00020760: 6966 2073 6176 655f 6469 7220 6973 204e  if save_dir is N
+00020770: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+00020780: 2073 6176 655f 6469 7220 3d20 6f73 2e70   save_dir = os.p
+00020790: 6174 682e 6a6f 696e 2870 6174 682c 2066  ath.join(path, f
+000207a0: 276d 7034 5f7b 6461 7465 7469 6d65 5f7d  'mp4_{datetime_}
+000207b0: 2729 0a20 2020 2020 2020 2020 2020 206f  ').            o
+000207c0: 732e 6d61 6b65 6469 7273 2873 6176 655f  s.makedirs(save_
+000207d0: 6469 7229 0a20 2020 2065 6c73 653a 0a20  dir).    else:. 
+000207e0: 2020 2020 2020 2072 6169 7365 2049 6e76         raise Inv
+000207f0: 616c 6964 496e 7075 7445 7272 6f72 286d  alidInputError(m
+00020800: 7367 3d66 2750 6174 6873 2069 7320 6e6f  sg=f'Paths is no
+00020810: 7420 6120 7661 6c69 6420 6669 6c65 206f  t a valid file o
+00020820: 7220 6469 7265 6374 6f72 7920 7061 7468  r directory path
+00020830: 2e27 2c20 736f 7572 6365 3d63 6f6e 7665  .', source=conve
+00020840: 7274 5f74 6f5f 6d70 342e 5f5f 6e61 6d65  rt_to_mp4.__name
+00020850: 5f5f 290a 2020 2020 666f 7220 6669 6c65  __).    for file
+00020860: 5f63 6e74 2c20 6669 6c65 5f70 6174 6820  _cnt, file_path 
+00020870: 696e 2065 6e75 6d65 7261 7465 2866 696c  in enumerate(fil
+00020880: 655f 7061 7468 7329 3a0a 2020 2020 2020  e_paths):.      
+00020890: 2020 5f2c 2076 6964 656f 5f6e 616d 652c    _, video_name,
+000208a0: 205f 203d 2067 6574 5f66 6e5f 6578 7428   _ = get_fn_ext(
+000208b0: 6669 6c65 7061 7468 3d66 696c 655f 7061  filepath=file_pa
+000208c0: 7468 290a 2020 2020 2020 2020 7072 696e  th).        prin
+000208d0: 7428 6627 436f 6e76 6572 7469 6e67 2076  t(f'Converting v
+000208e0: 6964 656f 207b 7669 6465 6f5f 6e61 6d65  ideo {video_name
+000208f0: 7d20 746f 204d 5034 2028 5669 6465 6f20  } to MP4 (Video 
+00020900: 7b66 696c 655f 636e 742b 317d 2f7b 6c65  {file_cnt+1}/{le
+00020910: 6e28 6669 6c65 5f70 6174 6873 297d 292e  n(file_paths)}).
+00020920: 2e2e 2729 0a20 2020 2020 2020 205f 203d  ..').        _ =
+00020930: 2067 6574 5f76 6964 656f 5f6d 6574 615f   get_video_meta_
+00020940: 6461 7461 2876 6964 656f 5f70 6174 683d  data(video_path=
+00020950: 6669 6c65 5f70 6174 6829 0a20 2020 2020  file_path).     
+00020960: 2020 206f 7574 5f70 6174 6820 3d20 6f73     out_path = os
+00020970: 2e70 6174 682e 6a6f 696e 2873 6176 655f  .path.join(save_
+00020980: 6469 722c 2066 277b 7669 6465 6f5f 6e61  dir, f'{video_na
+00020990: 6d65 7d2e 6d70 3427 290a 2020 2020 2020  me}.mp4').      
+000209a0: 2020 6966 2063 6f64 6563 203d 3d20 2770    if codec == 'p
+000209b0: 6f77 6572 706f 696e 7427 3a0a 2020 2020  owerpoint':.    
+000209c0: 2020 2020 2020 2020 636d 6420 3d20 6627          cmd = f'
+000209d0: 6666 6d70 6567 202d 6920 227b 6669 6c65  ffmpeg -i "{file
+000209e0: 5f70 6174 687d 2220 2d63 3a76 206c 6962  _path}" -c:v lib
+000209f0: 7832 3634 202d 7072 6573 6574 2073 6c6f  x264 -preset slo
+00020a00: 7720 2d70 726f 6669 6c65 3a76 2068 6967  w -profile:v hig
+00020a10: 6820 2d6c 6576 656c 3a76 2034 2e30 202d  h -level:v 4.0 -
+00020a20: 7069 785f 666d 7420 7975 7634 3230 7020  pix_fmt yuv420p 
+00020a30: 2d63 7266 207b 6372 667d 202d 633a 7620  -crf {crf} -c:v 
+00020a40: 6c69 6278 3236 3420 2d63 6f64 6563 3a61  libx264 -codec:a
+00020a50: 2061 6163 2022 7b6f 7574 5f70 6174 687d   aac "{out_path}
+00020a60: 2220 2d6c 6f67 6c65 7665 6c20 6572 726f  " -loglevel erro
+00020a70: 7220 2d73 7461 7473 202d 6869 6465 5f62  r -stats -hide_b
+00020a80: 616e 6e65 7220 2d79 270a 2020 2020 2020  anner -y'.      
+00020a90: 2020 656c 6966 2063 6f64 6563 203d 3d20    elif codec == 
+00020aa0: 2776 7039 273a 0a20 2020 2020 2020 2020  'vp9':.         
+00020ab0: 2020 2063 6d64 203d 2066 2766 666d 7065     cmd = f'ffmpe
+00020ac0: 6720 2d69 2022 7b66 696c 655f 7061 7468  g -i "{file_path
+00020ad0: 7d22 202d 633a 7620 6c69 6276 7078 2d76  }" -c:v libvpx-v
+00020ae0: 7039 202d 6372 6620 7b71 7561 6c69 7479  p9 -crf {quality
+00020af0: 7d20 2d62 3a76 2030 202d 616e 2022 7b6f  } -b:v 0 -an "{o
+00020b00: 7574 5f70 6174 687d 2220 2d6c 6f67 6c65  ut_path}" -logle
+00020b10: 7665 6c20 6572 726f 7220 2d73 7461 7473  vel error -stats
+00020b20: 202d 6869 6465 5f62 616e 6e65 7220 2d79   -hide_banner -y
+00020b30: 270a 2020 2020 2020 2020 6966 2063 6f64  '.        if cod
+00020b40: 6563 203d 3d20 2768 3236 345f 6375 7669  ec == 'h264_cuvi
+00020b50: 6427 3a0a 2020 2020 2020 2020 2020 2020  d':.            
+00020b60: 636d 6420 3d20 6627 6666 6d70 6567 202d  cmd = f'ffmpeg -
+00020b70: 6877 6163 6365 6c20 6175 746f 202d 633a  hwaccel auto -c:
+00020b80: 7620 6832 3634 5f63 7576 6964 202d 6920  v h264_cuvid -i 
+00020b90: 227b 6669 6c65 5f70 6174 687d 2220 2d63  "{file_path}" -c
+00020ba0: 3a76 2068 3236 345f 6e76 656e 6320 2d70  :v h264_nvenc -p
+00020bb0: 7265 7365 7420 7b71 7561 6c69 7479 7d20  reset {quality} 
+00020bc0: 227b 6f75 745f 7061 7468 7d22 202d 6c6f  "{out_path}" -lo
+00020bd0: 676c 6576 656c 2065 7272 6f72 202d 7374  glevel error -st
+00020be0: 6174 7320 2d68 6964 655f 6261 6e6e 6572  ats -hide_banner
+00020bf0: 202d 7927 0a20 2020 2020 2020 2065 6c73   -y'.        els
+00020c00: 653a 0a20 2020 2020 2020 2020 2020 2063  e:.            c
+00020c10: 6d64 203d 2066 2766 666d 7065 6720 2d69  md = f'ffmpeg -i
+00020c20: 2022 7b66 696c 655f 7061 7468 7d22 202d   "{file_path}" -
+00020c30: 633a 7620 7b63 6f64 6563 7d20 2d63 7266  c:v {codec} -crf
+00020c40: 207b 7175 616c 6974 797d 202d 633a 6120   {quality} -c:a 
+00020c50: 636f 7079 202d 616e 2022 7b6f 7574 5f70  copy -an "{out_p
+00020c60: 6174 687d 2220 2d6c 6f67 6c65 7665 6c20  ath}" -loglevel 
+00020c70: 6572 726f 7220 2d73 7461 7473 202d 6869  error -stats -hi
+00020c80: 6465 5f62 616e 6e65 7220 2d79 270a 2020  de_banner -y'.  
+00020c90: 2020 2020 2020 7375 6270 726f 6365 7373        subprocess
+00020ca0: 2e63 616c 6c28 636d 642c 2073 6865 6c6c  .call(cmd, shell
+00020cb0: 3d54 7275 652c 2073 7464 6f75 743d 7375  =True, stdout=su
+00020cc0: 6270 726f 6365 7373 2e50 4950 4529 0a20  bprocess.PIPE). 
+00020cd0: 2020 2074 696d 6572 2e73 746f 705f 7469     timer.stop_ti
+00020ce0: 6d65 7228 290a 2020 2020 7374 646f 7574  mer().    stdout
+00020cf0: 5f73 7563 6365 7373 286d 7367 3d66 227b  _success(msg=f"{
+00020d00: 6c65 6e28 6669 6c65 5f70 6174 6873 297d  len(file_paths)}
+00020d10: 2076 6964 656f 2873 2920 636f 6e76 6572   video(s) conver
+00020d20: 7465 6420 746f 204d 5034 2061 6e64 2073  ted to MP4 and s
+00020d30: 6176 6564 2069 6e20 7b73 6176 655f 6469  aved in {save_di
+00020d40: 727d 2064 6972 6563 746f 7279 2e22 2c20  r} directory.", 
+00020d50: 656c 6170 7365 645f 7469 6d65 3d74 696d  elapsed_time=tim
+00020d60: 6572 2e65 6c61 7073 6564 5f74 696d 655f  er.elapsed_time_
+00020d70: 7374 722c 2073 6f75 7263 653d 636f 6e76  str, source=conv
+00020d80: 6572 745f 746f 5f6d 7034 2e5f 5f6e 616d  ert_to_mp4.__nam
+00020d90: 655f 5f2c 290a 0a23 636f 6e76 6572 745f  e__,)..#convert_
+00020da0: 746f 5f6d 7034 2870 6174 683d 272f 5573  to_mp4(path='/Us
+00020db0: 6572 732f 7369 6d6f 6e2f 4465 736b 746f  ers/simon/Deskto
+00020dc0: 702f 7669 6465 6f5f 7465 7374 2f53 6372  p/video_test/Scr
+00020dd0: 6565 6e20 5265 636f 7264 696e 6720 3230  een Recording 20
+00020de0: 3234 2d30 352d 3036 2061 7420 352e 3334  24-05-06 at 5.34
+00020df0: 2e33 3420 504d 5f63 6f6e 7665 7274 6564  .34 PM_converted
+00020e00: 2e6d 7034 272c 2071 7561 6c69 7479 3d34  .mp4', quality=4
+00020e10: 302c 2063 6f64 6563 3d27 6c69 6278 3236  0, codec='libx26
+00020e20: 3527 290a 0a0a 0a64 6566 2063 6f6e 7665  5')....def conve
+00020e30: 7274 5f74 6f5f 6176 6928 7061 7468 3a20  rt_to_avi(path: 
+00020e40: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
+00020e50: 7468 4c69 6b65 5d2c 0a20 2020 2020 2020  thLike],.       
+00020e60: 2020 2020 2020 2020 2020 2020 636f 6465              code
+00020e70: 633a 204c 6974 6572 616c 5b27 7876 6964  c: Literal['xvid
+00020e80: 272c 2027 6469 7678 272c 2027 6d6a 7065  ', 'divx', 'mjpe
+00020e90: 6727 5d20 3d20 2764 6976 7827 2c0a 2020  g'] = 'divx',.  
+00020ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020eb0: 2073 6176 655f 6469 723a 204f 7074 696f   save_dir: Optio
+00020ec0: 6e61 6c5b 556e 696f 6e5b 7374 722c 206f  nal[Union[str, o
+00020ed0: 732e 5061 7468 4c69 6b65 5d5d 203d 204e  s.PathLike]] = N
+00020ee0: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+00020ef0: 2020 2020 2020 2020 7175 616c 6974 793a          quality:
+00020f00: 204f 7074 696f 6e61 6c5b 696e 745d 203d   Optional[int] =
+00020f10: 2036 3029 202d 3e20 4e6f 6e65 3a0a 0a20   60) -> None:.. 
+00020f20: 2020 2022 2222 0a20 2020 2043 6f6e 7665     """.    Conve
+00020f30: 7274 2061 2064 6972 6563 746f 7279 2063  rt a directory c
+00020f40: 6f6e 7461 696e 696e 6720 7669 6465 6f73  ontaining videos
+00020f50: 2c20 6f72 2061 2073 696e 676c 6520 7669  , or a single vi
+00020f60: 6465 6f2c 2074 6f20 4156 4920 666f 726d  deo, to AVI form
+00020f70: 6174 2075 7369 6e67 2070 6173 7365 6420  at using passed 
+00020f80: 7175 616c 6974 7920 616e 6420 636f 6465  quality and code
+00020f90: 632e 0a0a 2020 2020 2e2e 2069 6d61 6765  c...    .. image
+00020fa0: 3a3a 205f 7374 6174 6963 2f69 6d67 2f63  :: _static/img/c
+00020fb0: 6f6e 7665 7274 5f74 6f5f 6176 692e 7765  onvert_to_avi.we
+00020fc0: 626d 0a20 2020 2020 2020 3a77 6964 7468  bm.       :width
+00020fd0: 3a20 3730 300a 2020 2020 2020 203a 616c  : 700.       :al
+00020fe0: 6967 6e3a 2063 656e 7465 720a 0a20 2020  ign: center..   
+00020ff0: 203a 7061 7261 6d20 556e 696f 6e5b 7374   :param Union[st
+00021000: 722c 206f 732e 5061 7468 4c69 6b65 5d20  r, os.PathLike] 
+00021010: 7061 7468 3a20 5061 7468 2074 6f20 6469  path: Path to di
+00021020: 7265 6374 6f72 7920 6f72 2066 696c 652e  rectory or file.
+00021030: 0a20 2020 203a 7061 7261 6d20 4c69 7465  .    :param Lite
+00021040: 7261 6c5b 2778 7669 6427 2c20 2764 6976  ral['xvid', 'div
+00021050: 7827 2c20 276d 6a70 6567 275d 2063 6f64  x', 'mjpeg'] cod
+00021060: 6563 3a20 4d65 7468 6f64 2074 6f20 656e  ec: Method to en
+00021070: 636f 6465 2074 6865 2041 5649 2066 6f72  code the AVI for
+00021080: 6d61 742e 2044 6566 6175 6c74 3a20 7876  mat. Default: xv
+00021090: 6964 2e0a 2020 2020 3a70 6172 616d 204f  id..    :param O
+000210a0: 7074 696f 6e61 6c5b 4f70 7469 6f6e 616c  ptional[Optional
+000210b0: 5b55 6e69 6f6e 5b73 7472 2c20 6f73 2e50  [Union[str, os.P
+000210c0: 6174 684c 696b 655d 5d5d 2073 6176 655f  athLike]]] save_
+000210d0: 6469 723a 2044 6972 6563 746f 7279 2077  dir: Directory w
+000210e0: 6865 7265 2074 6f20 7361 7665 2074 6865  here to save the
+000210f0: 2063 6f6e 7665 7274 6564 2076 6964 656f   converted video
+00021100: 732e 2049 6620 4e6f 6e65 2c20 7468 656e  s. If None, then
+00021110: 2063 7265 6174 6573 2061 2064 6972 6563   creates a direc
+00021120: 746f 7279 2069 6e20 7468 6520 7361 6d65  tory in the same
+00021130: 2064 6972 6563 746f 7279 2061 7320 7468   directory as th
+00021140: 6520 696e 7075 742e 0a20 2020 203a 7061  e input..    :pa
+00021150: 7261 6d20 4f70 7469 6f6e 616c 5b69 6e74  ram Optional[int
+00021160: 5d20 7175 616c 6974 793a 2049 6e74 6567  ] quality: Integ
+00021170: 6572 2072 6570 7265 7365 6e74 696e 6720  er representing 
+00021180: 7468 6520 7175 616c 6974 793a 2031 302c  the quality: 10,
+00021190: 2032 302c 2033 302e 2e20 3130 302e 0a20   20, 30.. 100.. 
+000211a0: 2020 203a 7265 7475 726e 3a20 4e6f 6e65     :return: None
+000211b0: 2e0a 0a20 2020 203a 6578 616d 706c 653a  ...    :example:
+000211c0: 0a20 2020 203e 3e3e 2063 6f6e 7665 7274  .    >>> convert
+000211d0: 5f74 6f5f 6176 6928 7061 7468 3d27 2f55  _to_avi(path='/U
+000211e0: 7365 7273 2f73 696d 6f6e 2f44 6573 6b74  sers/simon/Deskt
+000211f0: 6f70 2f76 6964 656f 5f74 6573 742f 5363  op/video_test/Sc
+00021200: 7265 656e 2052 6563 6f72 6469 6e67 2032  reen Recording 2
+00021210: 3032 342d 3035 2d30 3620 6174 2035 2e33  024-05-06 at 5.3
+00021220: 342e 3334 2050 4d5f 636f 6e76 6572 7465  4.34 PM_converte
+00021230: 642e 6d70 3427 2c20 7175 616c 6974 793d  d.mp4', quality=
+00021240: 3130 302c 2063 6f64 6563 3d27 7876 6964  100, codec='xvid
+00021250: 2729 0a20 2020 2022 2222 0a0a 0a20 2020  ').    """...   
+00021260: 2074 696d 6572 203d 2053 696d 6261 5469   timer = SimbaTi
+00021270: 6d65 7228 7374 6172 743d 5472 7565 290a  mer(start=True).
+00021280: 2020 2020 6368 6563 6b5f 6666 6d70 6567      check_ffmpeg
+00021290: 5f61 7661 696c 6162 6c65 2872 6169 7365  _available(raise
+000212a0: 5f65 7272 6f72 3d54 7275 6529 0a20 2020  _error=True).   
+000212b0: 2063 6865 636b 5f73 7472 286e 616d 653d   check_str(name=
+000212c0: 6627 7b63 6f6e 7665 7274 5f74 6f5f 6176  f'{convert_to_av
+000212d0: 692e 5f5f 6e61 6d65 5f5f 7d20 636f 6465  i.__name__} code
+000212e0: 6327 2c20 7661 6c75 653d 636f 6465 632c  c', value=codec,
+000212f0: 206f 7074 696f 6e73 3d28 2778 7669 6427   options=('xvid'
+00021300: 2c20 2764 6976 7827 2c20 276d 6a70 6567  , 'divx', 'mjpeg
+00021310: 2729 290a 2020 2020 6368 6563 6b5f 696e  ')).    check_in
+00021320: 7374 616e 6365 2873 6f75 7263 653d 6627  stance(source=f'
+00021330: 7b63 6f6e 7665 7274 5f74 6f5f 6176 692e  {convert_to_avi.
+00021340: 5f5f 6e61 6d65 5f5f 7d20 7061 7468 272c  __name__} path',
+00021350: 2069 6e73 7461 6e63 653d 7061 7468 2c20   instance=path, 
+00021360: 6163 6365 7074 6564 5f74 7970 6573 3d28  accepted_types=(
+00021370: 7374 722c 2929 0a20 2020 2063 6865 636b  str,)).    check
+00021380: 5f69 6e74 286e 616d 653d 6627 7b63 6f6e  _int(name=f'{con
+00021390: 7665 7274 5f74 6f5f 6176 692e 5f5f 6e61  vert_to_avi.__na
+000213a0: 6d65 5f5f 7d20 7175 616c 6974 7927 2c20  me__} quality', 
+000213b0: 7661 6c75 653d 7175 616c 6974 7929 0a20  value=quality). 
+000213c0: 2020 2064 6174 6574 696d 655f 203d 2064     datetime_ = d
+000213d0: 6174 6574 696d 652e 6e6f 7728 292e 7374  atetime.now().st
+000213e0: 7266 7469 6d65 2822 2559 256d 2564 2548  rftime("%Y%m%d%H
+000213f0: 254d 2553 2229 0a20 2020 2063 7266 5f6c  %M%S").    crf_l
+00021400: 6b20 3d20 7065 7263 656e 745f 746f 5f63  k = percent_to_c
+00021410: 7266 5f6c 6f6f 6b75 7028 290a 2020 2020  rf_lookup().    
+00021420: 6376 5f6c 6b20 3d20 7065 7263 656e 745f  cv_lk = percent_
+00021430: 746f 5f71 765f 6c6b 2829 0a20 2020 2063  to_qv_lk().    c
+00021440: 7266 203d 2063 7266 5f6c 6b5b 7374 7228  rf = crf_lk[str(
+00021450: 7175 616c 6974 7929 5d0a 2020 2020 7176  quality)].    qv
+00021460: 203d 2063 765f 6c6b 5b69 6e74 2871 7561   = cv_lk[int(qua
+00021470: 6c69 7479 295d 0a20 2020 2069 6620 7361  lity)].    if sa
+00021480: 7665 5f64 6972 2069 7320 6e6f 7420 4e6f  ve_dir is not No
+00021490: 6e65 3a0a 2020 2020 2020 2020 6368 6563  ne:.        chec
+000214a0: 6b5f 6966 5f64 6972 5f65 7869 7374 7328  k_if_dir_exists(
+000214b0: 696e 5f64 6972 3d73 6176 655f 6469 722c  in_dir=save_dir,
+000214c0: 2073 6f75 7263 653d 636f 6e76 6572 745f   source=convert_
+000214d0: 746f 5f61 7669 2e5f 5f6e 616d 655f 5f29  to_avi.__name__)
+000214e0: 0a20 2020 2069 6620 6f73 2e70 6174 682e  .    if os.path.
+000214f0: 6973 6669 6c65 2870 6174 6829 3a0a 2020  isfile(path):.  
+00021500: 2020 2020 2020 6669 6c65 5f70 6174 6873        file_paths
+00021510: 203d 205b 7061 7468 5d0a 2020 2020 2020   = [path].      
+00021520: 2020 6966 2073 6176 655f 6469 7220 6973    if save_dir is
+00021530: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+00021540: 2020 2073 6176 655f 6469 7220 3d20 6f73     save_dir = os
+00021550: 2e70 6174 682e 6a6f 696e 286f 732e 7061  .path.join(os.pa
+00021560: 7468 2e64 6972 6e61 6d65 2870 6174 6829  th.dirname(path)
+00021570: 2c20 6627 6176 695f 7b64 6174 6574 696d  , f'avi_{datetim
+00021580: 655f 7d27 290a 2020 2020 2020 2020 2020  e_}').          
+00021590: 2020 6f73 2e6d 616b 6564 6972 7328 7361    os.makedirs(sa
+000215a0: 7665 5f64 6972 290a 2020 2020 656c 6966  ve_dir).    elif
+000215b0: 206f 732e 7061 7468 2e69 7364 6972 2870   os.path.isdir(p
+000215c0: 6174 6829 3a0a 2020 2020 2020 2020 6669  ath):.        fi
+000215d0: 6c65 5f70 6174 6873 203d 2066 696e 645f  le_paths = find_
+000215e0: 6669 6c65 735f 6f66 5f66 696c 6574 7970  files_of_filetyp
+000215f0: 6573 5f69 6e5f 6469 7265 6374 6f72 7928  es_in_directory(
+00021600: 6469 7265 6374 6f72 793d 7061 7468 2c20  directory=path, 
+00021610: 6578 7465 6e73 696f 6e73 3d4f 7074 696f  extensions=Optio
+00021620: 6e73 2e41 4c4c 5f56 4944 454f 5f46 4f52  ns.ALL_VIDEO_FOR
+00021630: 4d41 545f 4f50 5449 4f4e 532e 7661 6c75  MAT_OPTIONS.valu
+00021640: 652c 2072 6169 7365 5f65 7272 6f72 3d54  e, raise_error=T
+00021650: 7275 6529 0a20 2020 2020 2020 2069 6620  rue).        if 
+00021660: 7361 7665 5f64 6972 2069 7320 4e6f 6e65  save_dir is None
+00021670: 3a0a 2020 2020 2020 2020 2020 2020 7361  :.            sa
+00021680: 7665 5f64 6972 203d 206f 732e 7061 7468  ve_dir = os.path
+00021690: 2e6a 6f69 6e28 7061 7468 2c20 6627 6176  .join(path, f'av
+000216a0: 695f 7b64 6174 6574 696d 655f 7d27 290a  i_{datetime_}').
+000216b0: 2020 2020 2020 2020 2020 2020 6f73 2e6d              os.m
+000216c0: 616b 6564 6972 7328 7361 7665 5f64 6972  akedirs(save_dir
+000216d0: 290a 2020 2020 656c 7365 3a0a 2020 2020  ).    else:.    
+000216e0: 2020 2020 7261 6973 6520 496e 7661 6c69      raise Invali
+000216f0: 6449 6e70 7574 4572 726f 7228 6d73 673d  dInputError(msg=
+00021700: 6627 5061 7468 7320 6973 206e 6f74 2061  f'Paths is not a
+00021710: 2076 616c 6964 2066 696c 6520 6f72 2064   valid file or d
+00021720: 6972 6563 746f 7279 2070 6174 682e 272c  irectory path.',
+00021730: 2073 6f75 7263 653d 636f 6e76 6572 745f   source=convert_
+00021740: 746f 5f61 7669 2e5f 5f6e 616d 655f 5f29  to_avi.__name__)
+00021750: 0a20 2020 2066 6f72 2066 696c 655f 636e  .    for file_cn
+00021760: 742c 2066 696c 655f 7061 7468 2069 6e20  t, file_path in 
+00021770: 656e 756d 6572 6174 6528 6669 6c65 5f70  enumerate(file_p
+00021780: 6174 6873 293a 0a20 2020 2020 2020 205f  aths):.        _
+00021790: 2c20 7669 6465 6f5f 6e61 6d65 2c20 5f20  , video_name, _ 
+000217a0: 3d20 6765 745f 666e 5f65 7874 2866 696c  = get_fn_ext(fil
+000217b0: 6570 6174 683d 6669 6c65 5f70 6174 6829  epath=file_path)
+000217c0: 0a20 2020 2020 2020 2070 7269 6e74 2866  .        print(f
+000217d0: 2743 6f6e 7665 7274 696e 6720 7669 6465  'Converting vide
+000217e0: 6f20 7b76 6964 656f 5f6e 616d 657d 2074  o {video_name} t
+000217f0: 6f20 6176 6920 2856 6964 656f 207b 6669  o avi (Video {fi
+00021800: 6c65 5f63 6e74 2b31 7d2f 7b6c 656e 2866  le_cnt+1}/{len(f
+00021810: 696c 655f 7061 7468 7329 7d29 2e2e 2e27  ile_paths)})...'
+00021820: 290a 2020 2020 2020 2020 5f20 3d20 6765  ).        _ = ge
+00021830: 745f 7669 6465 6f5f 6d65 7461 5f64 6174  t_video_meta_dat
+00021840: 6128 7669 6465 6f5f 7061 7468 3d66 696c  a(video_path=fil
+00021850: 655f 7061 7468 290a 2020 2020 2020 2020  e_path).        
+00021860: 6f75 745f 7061 7468 203d 206f 732e 7061  out_path = os.pa
+00021870: 7468 2e6a 6f69 6e28 7361 7665 5f64 6972  th.join(save_dir
+00021880: 2c20 6627 7b76 6964 656f 5f6e 616d 657d  , f'{video_name}
+00021890: 2e61 7669 2729 0a20 2020 2020 2020 2069  .avi').        i
+000218a0: 6620 636f 6465 6320 3d3d 2027 6469 7678  f codec == 'divx
+000218b0: 273a 0a20 2020 2020 2020 2020 2020 2063  ':.            c
+000218c0: 6d64 203d 2066 2766 666d 7065 6720 2d69  md = f'ffmpeg -i
+000218d0: 2022 7b66 696c 655f 7061 7468 7d22 202d   "{file_path}" -
+000218e0: 633a 7620 6d70 6567 3420 2d63 7266 207b  c:v mpeg4 -crf {
+000218f0: 6372 667d 202d 7674 6167 2044 4956 5820  crf} -vtag DIVX 
+00021900: 227b 6f75 745f 7061 7468 7d22 202d 6c6f  "{out_path}" -lo
+00021910: 676c 6576 656c 2065 7272 6f72 202d 7374  glevel error -st
+00021920: 6174 7320 2d68 6964 655f 6261 6e6e 6572  ats -hide_banner
+00021930: 202d 7927 0a20 2020 2020 2020 2065 6c69   -y'.        eli
+00021940: 6620 636f 6465 6320 3d3d 2027 7876 6964  f codec == 'xvid
+00021950: 273a 0a20 2020 2020 2020 2020 2020 2063  ':.            c
+00021960: 6d64 203d 2066 2766 666d 7065 6720 2d69  md = f'ffmpeg -i
+00021970: 2022 7b66 696c 655f 7061 7468 7d22 202d   "{file_path}" -
+00021980: 633a 7620 6c69 6278 7669 6420 2d71 3a76  c:v libxvid -q:v
+00021990: 207b 7176 7d20 227b 6f75 745f 7061 7468   {qv} "{out_path
+000219a0: 7d22 202d 6c6f 676c 6576 656c 2065 7272  }" -loglevel err
+000219b0: 6f72 202d 7374 6174 7320 2d68 6964 655f  or -stats -hide_
+000219c0: 6261 6e6e 6572 202d 7927 0a20 2020 2020  banner -y'.     
+000219d0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+000219e0: 2020 2020 2063 6d64 203d 2066 2766 666d       cmd = f'ffm
+000219f0: 7065 6720 2d69 2022 7b66 696c 655f 7061  peg -i "{file_pa
+00021a00: 7468 7d22 202d 633a 7620 6d6a 7065 6720  th}" -c:v mjpeg 
+00021a10: 2d71 3a76 207b 7176 7d20 227b 6f75 745f  -q:v {qv} "{out_
+00021a20: 7061 7468 7d22 202d 6c6f 676c 6576 656c  path}" -loglevel
+00021a30: 2065 7272 6f72 202d 7374 6174 7320 2d68   error -stats -h
+00021a40: 6964 655f 6261 6e6e 6572 202d 7927 0a20  ide_banner -y'. 
+00021a50: 2020 2020 2020 2073 7562 7072 6f63 6573         subproces
+00021a60: 732e 6361 6c6c 2863 6d64 2c20 7368 656c  s.call(cmd, shel
+00021a70: 6c3d 5472 7565 2c20 7374 646f 7574 3d73  l=True, stdout=s
+00021a80: 7562 7072 6f63 6573 732e 5049 5045 290a  ubprocess.PIPE).
+00021a90: 2020 2020 7469 6d65 722e 7374 6f70 5f74      timer.stop_t
+00021aa0: 696d 6572 2829 0a20 2020 2073 7464 6f75  imer().    stdou
+00021ab0: 745f 7375 6363 6573 7328 6d73 673d 6622  t_success(msg=f"
+00021ac0: 7b6c 656e 2866 696c 655f 7061 7468 7329  {len(file_paths)
+00021ad0: 7d20 7669 6465 6f28 7329 2063 6f6e 7665  } video(s) conve
+00021ae0: 7274 6564 2074 6f20 4156 4920 616e 6420  rted to AVI and 
+00021af0: 7361 7665 6420 696e 207b 7361 7665 5f64  saved in {save_d
+00021b00: 6972 7d20 6469 7265 6374 6f72 792e 222c  ir} directory.",
+00021b10: 2065 6c61 7073 6564 5f74 696d 653d 7469   elapsed_time=ti
+00021b20: 6d65 722e 656c 6170 7365 645f 7469 6d65  mer.elapsed_time
+00021b30: 5f73 7472 2c20 736f 7572 6365 3d63 6f6e  _str, source=con
+00021b40: 7665 7274 5f74 6f5f 6176 692e 5f5f 6e61  vert_to_avi.__na
+00021b50: 6d65 5f5f 2c29 0a0a 0a0a 6465 6620 636f  me__,)....def co
+00021b60: 6e76 6572 745f 746f 5f77 6562 6d28 7061  nvert_to_webm(pa
+00021b70: 7468 3a20 556e 696f 6e5b 7374 722c 206f  th: Union[str, o
+00021b80: 732e 5061 7468 4c69 6b65 5d2c 0a20 2020  s.PathLike],.   
+00021b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021ba0: 2063 6f64 6563 3a20 4c69 7465 7261 6c5b   codec: Literal[
+00021bb0: 2776 7038 272c 2027 7670 3927 5d20 3d20  'vp8', 'vp9'] = 
+00021bc0: 2776 7039 272c 0a20 2020 2020 2020 2020  'vp9',.         
+00021bd0: 2020 2020 2020 2020 2020 2073 6176 655f             save_
+00021be0: 6469 723a 204f 7074 696f 6e61 6c5b 556e  dir: Optional[Un
+00021bf0: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+00021c00: 4c69 6b65 5d5d 203d 204e 6f6e 652c 0a20  Like]] = None,. 
+00021c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021c20: 2020 2071 7561 6c69 7479 3a20 4f70 7469     quality: Opti
+00021c30: 6f6e 616c 5b69 6e74 5d20 3d20 3630 2920  onal[int] = 60) 
+00021c40: 2d3e 204e 6f6e 653a 0a0a 2020 2020 2222  -> None:..    ""
+00021c50: 220a 2020 2020 436f 6e76 6572 7420 6120  ".    Convert a 
+00021c60: 6469 7265 6374 6f72 7920 636f 6e74 6169  directory contai
+00021c70: 6e69 6e67 2076 6964 656f 732c 206f 7220  ning videos, or 
+00021c80: 6120 7369 6e67 6c65 2076 6964 656f 2c20  a single video, 
+00021c90: 746f 2057 4542 4d20 666f 726d 6174 2075  to WEBM format u
+00021ca0: 7369 6e67 2070 6173 7365 6420 7175 616c  sing passed qual
+00021cb0: 6974 7920 616e 6420 636f 6465 632e 0a0a  ity and codec...
+00021cc0: 2020 2020 2e2e 2069 6d61 6765 3a3a 205f      .. image:: _
+00021cd0: 7374 6174 6963 2f69 6d67 2f63 6f6e 7665  static/img/conve
+00021ce0: 7274 5f74 6f5f 7765 626d 2e77 6562 6d0a  rt_to_webm.webm.
+00021cf0: 2020 2020 2020 203a 7769 6474 683a 2037         :width: 7
+00021d00: 3030 0a20 2020 2020 2020 3a61 6c69 676e  00.       :align
+00021d10: 3a20 6365 6e74 6572 0a0a 2020 2020 3a70  : center..    :p
+00021d20: 6172 616d 2055 6e69 6f6e 5b73 7472 2c20  aram Union[str, 
+00021d30: 6f73 2e50 6174 684c 696b 655d 2070 6174  os.PathLike] pat
+00021d40: 683a 2050 6174 6820 746f 2064 6972 6563  h: Path to direc
+00021d50: 746f 7279 206f 7220 6669 6c65 2e0a 2020  tory or file..  
+00021d60: 2020 3a70 6172 616d 204c 6974 6572 616c    :param Literal
+00021d70: 5b27 7670 3827 2c20 2776 7039 272c 2027  ['vp8', 'vp9', '
+00021d80: 6176 3127 5d20 636f 6465 633a 204d 6574  av1'] codec: Met
+00021d90: 686f 6420 746f 2065 6e63 6f64 6520 7468  hod to encode th
+00021da0: 6520 5745 424d 2066 6f72 6d61 742e 2044  e WEBM format. D
+00021db0: 6566 6175 6c74 3a20 7670 392e 0a20 2020  efault: vp9..   
+00021dc0: 203a 7061 7261 6d20 4f70 7469 6f6e 616c   :param Optional
+00021dd0: 5b4f 7074 696f 6e61 6c5b 556e 696f 6e5b  [Optional[Union[
+00021de0: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
+00021df0: 5d5d 5d20 7361 7665 5f64 6972 3a20 4469  ]]] save_dir: Di
+00021e00: 7265 6374 6f72 7920 7768 6572 6520 746f  rectory where to
+00021e10: 2073 6176 6520 7468 6520 636f 6e76 6572   save the conver
+00021e20: 7465 6420 7669 6465 6f73 2e20 4966 204e  ted videos. If N
+00021e30: 6f6e 652c 2074 6865 6e20 6372 6561 7465  one, then create
+00021e40: 7320 6120 6469 7265 6374 6f72 7920 696e  s a directory in
+00021e50: 2074 6865 2073 616d 6520 6469 7265 6374   the same direct
+00021e60: 6f72 7920 6173 2074 6865 2069 6e70 7574  ory as the input
+00021e70: 2e0a 2020 2020 3a70 6172 616d 204f 7074  ..    :param Opt
+00021e80: 696f 6e61 6c5b 696e 745d 2071 7561 6c69  ional[int] quali
+00021e90: 7479 3a20 496e 7465 6765 7220 7265 7072  ty: Integer repr
+00021ea0: 6573 656e 7469 6e67 2074 6865 2071 7561  esenting the qua
+00021eb0: 6c69 7479 3a20 3130 2c20 3230 2c20 3330  lity: 10, 20, 30
+00021ec0: 2e2e 2031 3030 2e0a 2020 2020 3a72 6574  .. 100..    :ret
+00021ed0: 7572 6e3a 204e 6f6e 652e 0a0a 2020 2020  urn: None...    
+00021ee0: 3a65 7861 6d70 6c65 3a0a 2020 2020 3e3e  :example:.    >>
+00021ef0: 3e20 636f 6e76 6572 745f 746f 5f77 6562  > convert_to_web
+00021f00: 6d28 7061 7468 3d27 2f55 7365 7273 2f73  m(path='/Users/s
+00021f10: 696d 6f6e 2f44 6573 6b74 6f70 2f76 6964  imon/Desktop/vid
+00021f20: 656f 5f74 6573 742f 5363 7265 656e 2052  eo_test/Screen R
+00021f30: 6563 6f72 6469 6e67 2032 3032 342d 3035  ecording 2024-05
+00021f40: 2d30 3620 6174 2035 2e33 342e 3334 2050  -06 at 5.34.34 P
+00021f50: 4d5f 636f 6e76 6572 7465 642e 6d70 3427  M_converted.mp4'
+00021f60: 2c20 7175 616c 6974 793d 3130 302c 2063  , quality=100, c
+00021f70: 6f64 6563 3d27 7670 3827 290a 2020 2020  odec='vp8').    
+00021f80: 2222 220a 0a20 2020 2074 696d 6572 203d  """..    timer =
+00021f90: 2053 696d 6261 5469 6d65 7228 7374 6172   SimbaTimer(star
+00021fa0: 743d 5472 7565 290a 2020 2020 6368 6563  t=True).    chec
+00021fb0: 6b5f 6666 6d70 6567 5f61 7661 696c 6162  k_ffmpeg_availab
+00021fc0: 6c65 2872 6169 7365 5f65 7272 6f72 3d54  le(raise_error=T
+00021fd0: 7275 6529 0a20 2020 2063 6865 636b 5f73  rue).    check_s
+00021fe0: 7472 286e 616d 653d 6627 7b63 6f6e 7665  tr(name=f'{conve
+00021ff0: 7274 5f74 6f5f 7765 626d 2e5f 5f6e 616d  rt_to_webm.__nam
+00022000: 655f 5f7d 2063 6f64 6563 272c 2076 616c  e__} codec', val
+00022010: 7565 3d63 6f64 6563 2c20 6f70 7469 6f6e  ue=codec, option
+00022020: 733d 2827 7670 3827 2c20 2776 7039 2729  s=('vp8', 'vp9')
+00022030: 290a 2020 2020 6368 6563 6b5f 696e 7374  ).    check_inst
+00022040: 616e 6365 2873 6f75 7263 653d 6627 7b63  ance(source=f'{c
+00022050: 6f6e 7665 7274 5f74 6f5f 7765 626d 2e5f  onvert_to_webm._
+00022060: 5f6e 616d 655f 5f7d 2070 6174 6827 2c20  _name__} path', 
+00022070: 696e 7374 616e 6365 3d70 6174 682c 2061  instance=path, a
+00022080: 6363 6570 7465 645f 7479 7065 733d 2873  ccepted_types=(s
+00022090: 7472 2c29 290a 2020 2020 6368 6563 6b5f  tr,)).    check_
+000220a0: 696e 7428 6e61 6d65 3d66 277b 636f 6e76  int(name=f'{conv
+000220b0: 6572 745f 746f 5f77 6562 6d2e 5f5f 6e61  ert_to_webm.__na
+000220c0: 6d65 5f5f 7d20 7175 616c 6974 7927 2c20  me__} quality', 
+000220d0: 7661 6c75 653d 7175 616c 6974 7929 0a20  value=quality). 
+000220e0: 2020 2064 6174 6574 696d 655f 203d 2064     datetime_ = d
+000220f0: 6174 6574 696d 652e 6e6f 7728 292e 7374  atetime.now().st
+00022100: 7266 7469 6d65 2822 2559 256d 2564 2548  rftime("%Y%m%d%H
+00022110: 254d 2553 2229 0a20 2020 2063 7266 5f6c  %M%S").    crf_l
+00022120: 6b20 3d20 7065 7263 656e 745f 746f 5f63  k = percent_to_c
+00022130: 7266 5f6c 6f6f 6b75 7028 290a 2020 2020  rf_lookup().    
+00022140: 6372 6620 3d20 6372 665f 6c6b 5b73 7472  crf = crf_lk[str
+00022150: 2871 7561 6c69 7479 295d 0a20 2020 2069  (quality)].    i
+00022160: 6620 7361 7665 5f64 6972 2069 7320 6e6f  f save_dir is no
+00022170: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
+00022180: 6368 6563 6b5f 6966 5f64 6972 5f65 7869  check_if_dir_exi
+00022190: 7374 7328 696e 5f64 6972 3d73 6176 655f  sts(in_dir=save_
+000221a0: 6469 722c 2073 6f75 7263 653d 636f 6e76  dir, source=conv
+000221b0: 6572 745f 746f 5f77 6562 6d2e 5f5f 6e61  ert_to_webm.__na
+000221c0: 6d65 5f5f 290a 2020 2020 6966 206f 732e  me__).    if os.
+000221d0: 7061 7468 2e69 7366 696c 6528 7061 7468  path.isfile(path
+000221e0: 293a 0a20 2020 2020 2020 2066 696c 655f  ):.        file_
+000221f0: 7061 7468 7320 3d20 5b70 6174 685d 0a20  paths = [path]. 
+00022200: 2020 2020 2020 2069 6620 7361 7665 5f64         if save_d
+00022210: 6972 2069 7320 4e6f 6e65 3a0a 2020 2020  ir is None:.    
+00022220: 2020 2020 2020 2020 7361 7665 5f64 6972          save_dir
+00022230: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
+00022240: 6f73 2e70 6174 682e 6469 726e 616d 6528  os.path.dirname(
+00022250: 7061 7468 292c 2066 2777 6562 6d5f 7b64  path), f'webm_{d
+00022260: 6174 6574 696d 655f 7d27 290a 2020 2020  atetime_}').    
+00022270: 2020 2020 2020 2020 6f73 2e6d 616b 6564          os.maked
+00022280: 6972 7328 7361 7665 5f64 6972 290a 2020  irs(save_dir).  
+00022290: 2020 656c 6966 206f 732e 7061 7468 2e69    elif os.path.i
+000222a0: 7364 6972 2870 6174 6829 3a0a 2020 2020  sdir(path):.    
+000222b0: 2020 2020 6669 6c65 5f70 6174 6873 203d      file_paths =
+000222c0: 2066 696e 645f 6669 6c65 735f 6f66 5f66   find_files_of_f
+000222d0: 696c 6574 7970 6573 5f69 6e5f 6469 7265  iletypes_in_dire
+000222e0: 6374 6f72 7928 6469 7265 6374 6f72 793d  ctory(directory=
+000222f0: 7061 7468 2c20 6578 7465 6e73 696f 6e73  path, extensions
+00022300: 3d4f 7074 696f 6e73 2e41 4c4c 5f56 4944  =Options.ALL_VID
+00022310: 454f 5f46 4f52 4d41 545f 4f50 5449 4f4e  EO_FORMAT_OPTION
+00022320: 532e 7661 6c75 652c 2072 6169 7365 5f65  S.value, raise_e
+00022330: 7272 6f72 3d54 7275 6529 0a20 2020 2020  rror=True).     
+00022340: 2020 2069 6620 7361 7665 5f64 6972 2069     if save_dir i
+00022350: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
+00022360: 2020 2020 7361 7665 5f64 6972 203d 206f      save_dir = o
+00022370: 732e 7061 7468 2e6a 6f69 6e28 7061 7468  s.path.join(path
+00022380: 2c20 6627 7765 626d 5f7b 6461 7465 7469  , f'webm_{dateti
+00022390: 6d65 5f7d 2729 0a20 2020 2020 2020 206f  me_}').        o
+000223a0: 732e 6d61 6b65 6469 7273 2873 6176 655f  s.makedirs(save_
+000223b0: 6469 7229 0a20 2020 2065 6c73 653a 0a20  dir).    else:. 
+000223c0: 2020 2020 2020 2072 6169 7365 2049 6e76         raise Inv
+000223d0: 616c 6964 496e 7075 7445 7272 6f72 286d  alidInputError(m
+000223e0: 7367 3d66 2750 6174 6873 2069 7320 6e6f  sg=f'Paths is no
+000223f0: 7420 6120 7661 6c69 6420 6669 6c65 206f  t a valid file o
+00022400: 7220 6469 7265 6374 6f72 7920 7061 7468  r directory path
+00022410: 2e27 2c20 736f 7572 6365 3d63 6f6e 7665  .', source=conve
+00022420: 7274 5f74 6f5f 7765 626d 2e5f 5f6e 616d  rt_to_webm.__nam
+00022430: 655f 5f29 0a20 2020 2066 6f72 2066 696c  e__).    for fil
+00022440: 655f 636e 742c 2066 696c 655f 7061 7468  e_cnt, file_path
+00022450: 2069 6e20 656e 756d 6572 6174 6528 6669   in enumerate(fi
+00022460: 6c65 5f70 6174 6873 293a 0a20 2020 2020  le_paths):.     
+00022470: 2020 205f 2c20 7669 6465 6f5f 6e61 6d65     _, video_name
+00022480: 2c20 5f20 3d20 6765 745f 666e 5f65 7874  , _ = get_fn_ext
+00022490: 2866 696c 6570 6174 683d 6669 6c65 5f70  (filepath=file_p
+000224a0: 6174 6829 0a20 2020 2020 2020 2070 7269  ath).        pri
+000224b0: 6e74 2866 2743 6f6e 7665 7274 696e 6720  nt(f'Converting 
+000224c0: 7669 6465 6f20 7b76 6964 656f 5f6e 616d  video {video_nam
+000224d0: 657d 2074 6f20 5745 424d 2028 5669 6465  e} to WEBM (Vide
+000224e0: 6f20 7b66 696c 655f 636e 742b 317d 2f7b  o {file_cnt+1}/{
+000224f0: 6c65 6e28 6669 6c65 5f70 6174 6873 297d  len(file_paths)}
+00022500: 292e 2e2e 2729 0a20 2020 2020 2020 205f  )...').        _
+00022510: 203d 2067 6574 5f76 6964 656f 5f6d 6574   = get_video_met
+00022520: 615f 6461 7461 2876 6964 656f 5f70 6174  a_data(video_pat
+00022530: 683d 6669 6c65 5f70 6174 6829 0a20 2020  h=file_path).   
+00022540: 2020 2020 206f 7574 5f70 6174 6820 3d20       out_path = 
+00022550: 6f73 2e70 6174 682e 6a6f 696e 2873 6176  os.path.join(sav
+00022560: 655f 6469 722c 2066 277b 7669 6465 6f5f  e_dir, f'{video_
+00022570: 6e61 6d65 7d2e 7765 626d 2729 0a20 2020  name}.webm').   
+00022580: 2020 2020 2069 6620 636f 6465 6320 3d3d       if codec ==
+00022590: 2027 7670 3827 3a0a 2020 2020 2020 2020   'vp8':.        
+000225a0: 2020 2020 636d 6420 3d20 6627 6666 6d70      cmd = f'ffmp
+000225b0: 6567 202d 6920 227b 6669 6c65 5f70 6174  eg -i "{file_pat
+000225c0: 687d 2220 2d63 3a76 206c 6962 7670 7820  h}" -c:v libvpx 
+000225d0: 2d63 7266 207b 6372 667d 2022 7b6f 7574  -crf {crf} "{out
+000225e0: 5f70 6174 687d 2220 2d6c 6f67 6c65 7665  _path}" -logleve
+000225f0: 6c20 6572 726f 7220 2d73 7461 7473 202d  l error -stats -
+00022600: 6869 6465 5f62 616e 6e65 7220 2d79 270a  hide_banner -y'.
+00022610: 2020 2020 2020 2020 656c 6966 2063 6f64          elif cod
+00022620: 6563 203d 3d20 2776 7039 273a 0a20 2020  ec == 'vp9':.   
+00022630: 2020 2020 2020 2020 2063 6d64 203d 2066           cmd = f
+00022640: 2766 666d 7065 6720 2d69 2022 7b66 696c  'ffmpeg -i "{fil
+00022650: 655f 7061 7468 7d22 202d 633a 7620 6c69  e_path}" -c:v li
+00022660: 6276 7078 2d76 7039 202d 6372 6620 7b63  bvpx-vp9 -crf {c
+00022670: 7266 7d20 227b 6f75 745f 7061 7468 7d22  rf} "{out_path}"
+00022680: 202d 6c6f 676c 6576 656c 2065 7272 6f72   -loglevel error
+00022690: 202d 7374 6174 7320 2d68 6964 655f 6261   -stats -hide_ba
+000226a0: 6e6e 6572 202d 7927 0a20 2020 2020 2020  nner -y'.       
+000226b0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+000226c0: 2020 2063 6d64 203d 2066 2766 666d 7065     cmd = f'ffmpe
+000226d0: 6720 2d69 2022 7b66 696c 655f 7061 7468  g -i "{file_path
+000226e0: 7d22 202d 633a 7620 6c69 6261 6f6d 2d61  }" -c:v libaom-a
+000226f0: 7631 202d 6372 6620 7b63 7266 7d20 227b  v1 -crf {crf} "{
+00022700: 6f75 745f 7061 7468 7d22 202d 6c6f 676c  out_path}" -logl
+00022710: 6576 656c 2065 7272 6f72 202d 7374 6174  evel error -stat
+00022720: 7320 2d68 6964 655f 6261 6e6e 6572 202d  s -hide_banner -
+00022730: 7927 0a20 2020 2020 2020 2073 7562 7072  y'.        subpr
+00022740: 6f63 6573 732e 6361 6c6c 2863 6d64 2c20  ocess.call(cmd, 
+00022750: 7368 656c 6c3d 5472 7565 2c20 7374 646f  shell=True, stdo
+00022760: 7574 3d73 7562 7072 6f63 6573 732e 5049  ut=subprocess.PI
+00022770: 5045 290a 2020 2020 7469 6d65 722e 7374  PE).    timer.st
+00022780: 6f70 5f74 696d 6572 2829 0a20 2020 2073  op_timer().    s
+00022790: 7464 6f75 745f 7375 6363 6573 7328 6d73  tdout_success(ms
+000227a0: 673d 6622 7b6c 656e 2866 696c 655f 7061  g=f"{len(file_pa
+000227b0: 7468 7329 7d20 7669 6465 6f28 7329 2063  ths)} video(s) c
+000227c0: 6f6e 7665 7274 6564 2074 6f20 5745 424d  onverted to WEBM
+000227d0: 2061 6e64 2073 6176 6564 2069 6e20 7b73   and saved in {s
+000227e0: 6176 655f 6469 727d 2064 6972 6563 746f  ave_dir} directo
+000227f0: 7279 2e22 2c20 656c 6170 7365 645f 7469  ry.", elapsed_ti
+00022800: 6d65 3d74 696d 6572 2e65 6c61 7073 6564  me=timer.elapsed
+00022810: 5f74 696d 655f 7374 722c 2073 6f75 7263  _time_str, sourc
+00022820: 653d 636f 6e76 6572 745f 746f 5f77 6562  e=convert_to_web
+00022830: 6d2e 5f5f 6e61 6d65 5f5f 2c29 0a0a 0a0a  m.__name__,)....
+00022840: 6465 6620 636f 6e76 6572 745f 746f 5f6d  def convert_to_m
+00022850: 6f76 2870 6174 683a 2055 6e69 6f6e 5b73  ov(path: Union[s
+00022860: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
+00022870: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00022880: 2020 2020 2020 636f 6465 633a 204c 6974        codec: Lit
+00022890: 6572 616c 5b27 7072 6f72 6573 272c 2027  eral['prores', '
+000228a0: 616e 696d 6174 696f 6e27 2c20 2764 6e78  animation', 'dnx
+000228b0: 6864 272c 2027 6369 6e65 666f 726d 275d  hd', 'cineform']
+000228c0: 203d 2027 7072 6f72 6573 272c 0a20 2020   = 'prores',.   
+000228d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000228e0: 2073 6176 655f 6469 723a 204f 7074 696f   save_dir: Optio
+000228f0: 6e61 6c5b 556e 696f 6e5b 7374 722c 206f  nal[Union[str, o
+00022900: 732e 5061 7468 4c69 6b65 5d5d 203d 204e  s.PathLike]] = N
+00022910: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+00022920: 2020 2020 2020 2020 2071 7561 6c69 7479           quality
+00022930: 3a20 4f70 7469 6f6e 616c 5b69 6e74 5d20  : Optional[int] 
+00022940: 3d20 3630 2920 2d3e 204e 6f6e 653a 0a20  = 60) -> None:. 
+00022950: 2020 2022 2222 0a20 2020 2043 6f6e 7665     """.    Conve
+00022960: 7274 2061 2064 6972 6563 746f 7279 2063  rt a directory c
+00022970: 6f6e 7461 696e 696e 6720 7669 6465 6f73  ontaining videos
+00022980: 2c20 6f72 2061 2073 696e 676c 6520 7669  , or a single vi
+00022990: 6465 6f2c 2074 6f20 4d4f 5620 666f 726d  deo, to MOV form
+000229a0: 6174 2075 7369 6e67 2070 6173 7365 6420  at using passed 
+000229b0: 7175 616c 6974 7920 616e 6420 636f 6465  quality and code
+000229c0: 632e 0a0a 2020 2020 3a70 6172 616d 2055  c...    :param U
+000229d0: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
+000229e0: 684c 696b 655d 2070 6174 683a 2050 6174  hLike] path: Pat
+000229f0: 6820 746f 2064 6972 6563 746f 7279 206f  h to directory o
+00022a00: 7220 6669 6c65 2e0a 2020 2020 3a70 6172  r file..    :par
+00022a10: 616d 204c 6974 6572 616c 5b27 7072 6f72  am Literal['pror
+00022a20: 6573 272c 2027 616e 696d 6174 696f 6e27  es', 'animation'
+00022a30: 5d20 636f 6465 633a 204d 6574 686f 6420  ] codec: Method 
+00022a40: 746f 2065 6e63 6f64 6520 7468 6520 4d4f  to encode the MO
+00022a50: 5620 666f 726d 6174 2e20 4465 6661 756c  V format. Defaul
+00022a60: 743a 2070 726f 7265 732e 0a20 2020 203a  t: prores..    :
+00022a70: 7061 7261 6d20 4f70 7469 6f6e 616c 5b4f  param Optional[O
+00022a80: 7074 696f 6e61 6c5b 556e 696f 6e5b 7374  ptional[Union[st
+00022a90: 722c 206f 732e 5061 7468 4c69 6b65 5d5d  r, os.PathLike]]
+00022aa0: 5d20 7361 7665 5f64 6972 3a20 4469 7265  ] save_dir: Dire
+00022ab0: 6374 6f72 7920 7768 6572 6520 746f 2073  ctory where to s
+00022ac0: 6176 6520 7468 6520 636f 6e76 6572 7465  ave the converte
+00022ad0: 6420 7669 6465 6f73 2e20 4966 204e 6f6e  d videos. If Non
+00022ae0: 652c 2074 6865 6e20 6372 6561 7465 7320  e, then creates 
+00022af0: 6120 6469 7265 6374 6f72 7920 696e 2074  a directory in t
+00022b00: 6865 2073 616d 6520 6469 7265 6374 6f72  he same director
+00022b10: 7920 6173 2074 6865 2069 6e70 7574 2e0a  y as the input..
+00022b20: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
+00022b30: 6e61 6c5b 696e 745d 2071 7561 6c69 7479  nal[int] quality
+00022b40: 3a20 496e 7465 6765 7220 7265 7072 6573  : Integer repres
+00022b50: 656e 7469 6e67 2074 6865 2071 7561 6c69  enting the quali
+00022b60: 7479 3a20 3130 2c20 3230 2c20 3330 2e2e  ty: 10, 20, 30..
+00022b70: 2031 3030 2e0a 2020 2020 3a72 6574 7572   100..    :retur
+00022b80: 6e3a 204e 6f6e 652e 0a20 2020 2022 2222  n: None..    """
+00022b90: 0a0a 2020 2020 7469 6d65 7220 3d20 5369  ..    timer = Si
+00022ba0: 6d62 6154 696d 6572 2873 7461 7274 3d54  mbaTimer(start=T
+00022bb0: 7275 6529 0a20 2020 2063 6865 636b 5f66  rue).    check_f
+00022bc0: 666d 7065 675f 6176 6169 6c61 626c 6528  fmpeg_available(
+00022bd0: 7261 6973 655f 6572 726f 723d 5472 7565  raise_error=True
+00022be0: 290a 2020 2020 6368 6563 6b5f 7374 7228  ).    check_str(
+00022bf0: 6e61 6d65 3d66 277b 636f 6e76 6572 745f  name=f'{convert_
+00022c00: 746f 5f6d 6f76 2e5f 5f6e 616d 655f 5f7d  to_mov.__name__}
+00022c10: 2063 6f64 6563 272c 2076 616c 7565 3d63   codec', value=c
+00022c20: 6f64 6563 2c20 6f70 7469 6f6e 733d 2827  odec, options=('
+00022c30: 7072 6f72 6573 272c 2027 616e 696d 6174  prores', 'animat
+00022c40: 696f 6e27 2c20 2763 696e 6566 6f72 6d27  ion', 'cineform'
+00022c50: 2c20 2764 6e78 6864 2729 290a 2020 2020  , 'dnxhd')).    
+00022c60: 6368 6563 6b5f 696e 7374 616e 6365 2873  check_instance(s
+00022c70: 6f75 7263 653d 6627 7b63 6f6e 7665 7274  ource=f'{convert
+00022c80: 5f74 6f5f 6d6f 762e 5f5f 6e61 6d65 5f5f  _to_mov.__name__
+00022c90: 7d20 7061 7468 272c 2069 6e73 7461 6e63  } path', instanc
+00022ca0: 653d 7061 7468 2c20 6163 6365 7074 6564  e=path, accepted
+00022cb0: 5f74 7970 6573 3d28 7374 722c 2929 0a20  _types=(str,)). 
+00022cc0: 2020 2063 6865 636b 5f69 6e74 286e 616d     check_int(nam
+00022cd0: 653d 6627 7b63 6f6e 7665 7274 5f74 6f5f  e=f'{convert_to_
+00022ce0: 6d6f 762e 5f5f 6e61 6d65 5f5f 7d20 7175  mov.__name__} qu
+00022cf0: 616c 6974 7927 2c20 7661 6c75 653d 7175  ality', value=qu
+00022d00: 616c 6974 7929 0a20 2020 2064 6174 6574  ality).    datet
+00022d10: 696d 655f 203d 2064 6174 6574 696d 652e  ime_ = datetime.
+00022d20: 6e6f 7728 292e 7374 7266 7469 6d65 2822  now().strftime("
+00022d30: 2559 256d 2564 2548 254d 2553 2229 0a20  %Y%m%d%H%M%S"). 
+00022d40: 2020 2069 6620 7361 7665 5f64 6972 2069     if save_dir i
+00022d50: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+00022d60: 2020 2020 6368 6563 6b5f 6966 5f64 6972      check_if_dir
+00022d70: 5f65 7869 7374 7328 696e 5f64 6972 3d73  _exists(in_dir=s
+00022d80: 6176 655f 6469 722c 2073 6f75 7263 653d  ave_dir, source=
+00022d90: 636f 6e76 6572 745f 746f 5f6d 6f76 2e5f  convert_to_mov._
+00022da0: 5f6e 616d 655f 5f29 0a20 2020 2069 6620  _name__).    if 
+00022db0: 6f73 2e70 6174 682e 6973 6669 6c65 2870  os.path.isfile(p
+00022dc0: 6174 6829 3a0a 2020 2020 2020 2020 6669  ath):.        fi
+00022dd0: 6c65 5f70 6174 6873 203d 205b 7061 7468  le_paths = [path
+00022de0: 5d0a 2020 2020 2020 2020 6966 2073 6176  ].        if sav
+00022df0: 655f 6469 7220 6973 204e 6f6e 653a 0a20  e_dir is None:. 
+00022e00: 2020 2020 2020 2020 2020 2073 6176 655f             save_
+00022e10: 6469 7220 3d20 6f73 2e70 6174 682e 6a6f  dir = os.path.jo
+00022e20: 696e 286f 732e 7061 7468 2e64 6972 6e61  in(os.path.dirna
+00022e30: 6d65 2870 6174 6829 2c20 6627 6d6f 765f  me(path), f'mov_
+00022e40: 7b64 6174 6574 696d 655f 7d27 290a 2020  {datetime_}').  
+00022e50: 2020 2020 2020 2020 2020 6f73 2e6d 616b            os.mak
+00022e60: 6564 6972 7328 7361 7665 5f64 6972 290a  edirs(save_dir).
+00022e70: 2020 2020 656c 6966 206f 732e 7061 7468      elif os.path
+00022e80: 2e69 7364 6972 2870 6174 6829 3a0a 2020  .isdir(path):.  
+00022e90: 2020 2020 2020 6669 6c65 5f70 6174 6873        file_paths
+00022ea0: 203d 2066 696e 645f 6669 6c65 735f 6f66   = find_files_of
+00022eb0: 5f66 696c 6574 7970 6573 5f69 6e5f 6469  _filetypes_in_di
+00022ec0: 7265 6374 6f72 7928 6469 7265 6374 6f72  rectory(director
+00022ed0: 793d 7061 7468 2c20 6578 7465 6e73 696f  y=path, extensio
+00022ee0: 6e73 3d4f 7074 696f 6e73 2e41 4c4c 5f56  ns=Options.ALL_V
+00022ef0: 4944 454f 5f46 4f52 4d41 545f 4f50 5449  IDEO_FORMAT_OPTI
+00022f00: 4f4e 532e 7661 6c75 652c 2072 6169 7365  ONS.value, raise
+00022f10: 5f65 7272 6f72 3d54 7275 6529 0a20 2020  _error=True).   
+00022f20: 2020 2020 2069 6620 7361 7665 5f64 6972       if save_dir
+00022f30: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
+00022f40: 2020 2020 2020 7361 7665 5f64 6972 203d        save_dir =
+00022f50: 206f 732e 7061 7468 2e6a 6f69 6e28 7061   os.path.join(pa
+00022f60: 7468 2c20 6627 6d6f 765f 7b64 6174 6574  th, f'mov_{datet
+00022f70: 696d 655f 7d27 290a 2020 2020 2020 2020  ime_}').        
+00022f80: 2020 2020 6f73 2e6d 616b 6564 6972 7328      os.makedirs(
+00022f90: 7361 7665 5f64 6972 290a 2020 2020 656c  save_dir).    el
+00022fa0: 7365 3a0a 2020 2020 2020 2020 7261 6973  se:.        rais
+00022fb0: 6520 496e 7661 6c69 6449 6e70 7574 4572  e InvalidInputEr
+00022fc0: 726f 7228 6d73 673d 6627 5061 7468 7320  ror(msg=f'Paths 
+00022fd0: 6973 206e 6f74 2061 2076 616c 6964 2066  is not a valid f
+00022fe0: 696c 6520 6f72 2064 6972 6563 746f 7279  ile or directory
+00022ff0: 2070 6174 682e 272c 2073 6f75 7263 653d   path.', source=
+00023000: 636f 6e76 6572 745f 746f 5f6d 6f76 2e5f  convert_to_mov._
+00023010: 5f6e 616d 655f 5f29 0a20 2020 2066 6f72  _name__).    for
+00023020: 2066 696c 655f 636e 742c 2066 696c 655f   file_cnt, file_
+00023030: 7061 7468 2069 6e20 656e 756d 6572 6174  path in enumerat
+00023040: 6528 6669 6c65 5f70 6174 6873 293a 0a20  e(file_paths):. 
+00023050: 2020 2020 2020 205f 2c20 7669 6465 6f5f         _, video_
+00023060: 6e61 6d65 2c20 5f20 3d20 6765 745f 666e  name, _ = get_fn
+00023070: 5f65 7874 2866 696c 6570 6174 683d 6669  _ext(filepath=fi
+00023080: 6c65 5f70 6174 6829 0a20 2020 2020 2020  le_path).       
+00023090: 2070 7269 6e74 2866 2743 6f6e 7665 7274   print(f'Convert
+000230a0: 696e 6720 7669 6465 6f20 7b76 6964 656f  ing video {video
+000230b0: 5f6e 616d 657d 2074 6f20 4d4f 5620 2856  _name} to MOV (V
+000230c0: 6964 656f 207b 6669 6c65 5f63 6e74 202b  ideo {file_cnt +
+000230d0: 2031 7d2f 7b6c 656e 2866 696c 655f 7061   1}/{len(file_pa
+000230e0: 7468 7329 7d29 2e2e 2e27 290a 2020 2020  ths)})...').    
+000230f0: 2020 2020 5f20 3d20 6765 745f 7669 6465      _ = get_vide
+00023100: 6f5f 6d65 7461 5f64 6174 6128 7669 6465  o_meta_data(vide
+00023110: 6f5f 7061 7468 3d66 696c 655f 7061 7468  o_path=file_path
+00023120: 290a 2020 2020 2020 2020 6f75 745f 7061  ).        out_pa
+00023130: 7468 203d 206f 732e 7061 7468 2e6a 6f69  th = os.path.joi
+00023140: 6e28 7361 7665 5f64 6972 2c20 6627 7b76  n(save_dir, f'{v
+00023150: 6964 656f 5f6e 616d 657d 2e6d 6f76 2729  ideo_name}.mov')
+00023160: 0a20 2020 2020 2020 2069 6620 636f 6465  .        if code
+00023170: 6320 3d3d 2027 7072 6f72 6573 273a 0a20  c == 'prores':. 
+00023180: 2020 2020 2020 2020 2020 2063 6d64 203d             cmd =
+00023190: 2066 2766 666d 7065 6720 2d69 2022 7b66   f'ffmpeg -i "{f
+000231a0: 696c 655f 7061 7468 7d22 202d 633a 7620  ile_path}" -c:v 
+000231b0: 7072 6f72 6573 5f6b 7320 2d70 726f 6669  prores_ks -profi
+000231c0: 6c65 3a76 2031 2022 7b6f 7574 5f70 6174  le:v 1 "{out_pat
+000231d0: 687d 2220 2d6c 6f67 6c65 7665 6c20 6572  h}" -loglevel er
+000231e0: 726f 7220 2d73 7461 7473 202d 6869 6465  ror -stats -hide
+000231f0: 5f62 616e 6e65 7220 2d79 270a 2020 2020  _banner -y'.    
+00023200: 2020 2020 656c 6966 2063 6f64 6563 203d      elif codec =
+00023210: 3d20 2764 6e78 6864 273a 0a20 2020 2020  = 'dnxhd':.     
+00023220: 2020 2020 2020 2063 6d64 203d 2066 2766         cmd = f'f
+00023230: 666d 7065 6720 2d69 2022 7b66 696c 655f  fmpeg -i "{file_
+00023240: 7061 7468 7d22 202d 633a 7620 646e 7868  path}" -c:v dnxh
+00023250: 6420 2d70 726f 6669 6c65 3a76 2064 6e78  d -profile:v dnx
+00023260: 6872 5f6d 7120 227b 6f75 745f 7061 7468  hr_mq "{out_path
+00023270: 7d22 202d 6c6f 676c 6576 656c 2065 7272  }" -loglevel err
+00023280: 6f72 202d 7374 6174 7320 2d68 6964 655f  or -stats -hide_
+00023290: 6261 6e6e 6572 202d 7927 0a20 2020 2020  banner -y'.     
+000232a0: 2020 2065 6c69 6620 636f 6465 6320 3d3d     elif codec ==
+000232b0: 2022 6369 6e65 666f 726d 223a 0a20 2020   "cineform":.   
+000232c0: 2020 2020 2020 2020 2063 6d64 203d 2066           cmd = f
+000232d0: 2766 666d 7065 6720 2d69 2022 7b66 696c  'ffmpeg -i "{fil
+000232e0: 655f 7061 7468 7d22 202d 633a 7620 6366  e_path}" -c:v cf
+000232f0: 6864 202d 636f 6d70 7265 7373 696f 6e5f  hd -compression_
+00023300: 6c65 7665 6c20 3520 2d71 3a76 2033 2022  level 5 -q:v 3 "
+00023310: 7b6f 7574 5f70 6174 687d 2220 2d6c 6f67  {out_path}" -log
+00023320: 6c65 7665 6c20 6572 726f 7220 2d73 7461  level error -sta
+00023330: 7473 202d 6869 6465 5f62 616e 6e65 7220  ts -hide_banner 
+00023340: 2d79 270a 2020 2020 2020 2020 656c 7365  -y'.        else
+00023350: 3a0a 2020 2020 2020 2020 2020 2020 636d  :.            cm
+00023360: 6420 3d20 6627 6666 6d70 6567 202d 6920  d = f'ffmpeg -i 
+00023370: 227b 6669 6c65 5f70 6174 687d 202d 633a  "{file_path} -c:
+00023380: 7620 7174 726c 6520 227b 6f75 745f 7061  v qtrle "{out_pa
+00023390: 7468 7d22 202d 6c6f 676c 6576 656c 2065  th}" -loglevel e
+000233a0: 7272 6f72 202d 7374 6174 7320 2d68 6964  rror -stats -hid
+000233b0: 655f 6261 6e6e 6572 202d 7927 0a20 2020  e_banner -y'.   
+000233c0: 2020 2020 2073 7562 7072 6f63 6573 732e       subprocess.
+000233d0: 6361 6c6c 2863 6d64 2c20 7368 656c 6c3d  call(cmd, shell=
+000233e0: 5472 7565 2c20 7374 646f 7574 3d73 7562  True, stdout=sub
+000233f0: 7072 6f63 6573 732e 5049 5045 290a 2020  process.PIPE).  
+00023400: 2020 7469 6d65 722e 7374 6f70 5f74 696d    timer.stop_tim
+00023410: 6572 2829 0a20 2020 2073 7464 6f75 745f  er().    stdout_
+00023420: 7375 6363 6573 7328 6d73 673d 6622 7b6c  success(msg=f"{l
+00023430: 656e 2866 696c 655f 7061 7468 7329 7d20  en(file_paths)} 
+00023440: 7669 6465 6f28 7329 2063 6f6e 7665 7274  video(s) convert
+00023450: 6564 2074 6f20 4d4f 5620 616e 6420 7361  ed to MOV and sa
+00023460: 7665 6420 696e 207b 7361 7665 5f64 6972  ved in {save_dir
+00023470: 7d20 6469 7265 6374 6f72 792e 222c 2065  } directory.", e
+00023480: 6c61 7073 6564 5f74 696d 653d 7469 6d65  lapsed_time=time
+00023490: 722e 656c 6170 7365 645f 7469 6d65 5f73  r.elapsed_time_s
+000234a0: 7472 2c20 736f 7572 6365 3d63 6f6e 7665  tr, source=conve
+000234b0: 7274 5f74 6f5f 6d6f 762e 5f5f 6e61 6d65  rt_to_mov.__name
+000234c0: 5f5f 2c20 290a 0a23 636f 6e76 6572 745f  __, )..#convert_
+000234d0: 746f 5f6d 6f76 2870 6174 683d 272f 5573  to_mov(path='/Us
+000234e0: 6572 732f 7369 6d6f 6e2f 4465 736b 746f  ers/simon/Deskto
+000234f0: 702f 7669 6465 6f5f 7465 7374 2f53 6372  p/video_test/Scr
+00023500: 6565 6e20 5265 636f 7264 696e 6720 3230  een Recording 20
+00023510: 3234 2d30 352d 3036 2061 7420 352e 3334  24-05-06 at 5.34
+00023520: 2e33 3420 504d 5f63 6f6e 7665 7274 6564  .34 PM_converted
+00023530: 2e6d 7034 272c 2063 6f64 6563 3d27 6369  .mp4', codec='ci
+00023540: 6e65 666f 726d 2729 0a0a 0a64 6566 2073  neform')...def s
+00023550: 7570 6572 696d 706f 7365 5f76 6964 656f  uperimpose_video
+00023560: 5f70 726f 6772 6573 7362 6172 2876 6964  _progressbar(vid
+00023570: 656f 5f70 6174 683a 2055 6e69 6f6e 5b73  eo_path: Union[s
+00023580: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
+00023590: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000235a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000235b0: 6261 725f 6865 6967 6874 3a20 4f70 7469  bar_height: Opti
+000235c0: 6f6e 616c 5b69 6e74 5d20 3d20 3130 2c0a  onal[int] = 10,.
+000235d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000235e0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+000235f0: 6c6f 723a 204f 7074 696f 6e61 6c5b 7374  lor: Optional[st
+00023600: 725d 203d 2027 7265 6427 2c0a 2020 2020  r] = 'red',.    
+00023610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023620: 2020 2020 2020 2020 2020 706f 7369 7469            positi
+00023630: 6f6e 3a20 4f70 7469 6f6e 616c 5b4c 6974  on: Optional[Lit
+00023640: 6572 616c 5b27 746f 7027 2c20 2762 6f74  eral['top', 'bot
+00023650: 746f 6d27 5d5d 203d 2027 626f 7474 6f6d  tom']] = 'bottom
+00023660: 272c 0a20 2020 2020 2020 2020 2020 2020  ',.             
+00023670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023680: 2073 6176 655f 6469 723a 204f 7074 696f   save_dir: Optio
+00023690: 6e61 6c5b 556e 696f 6e5b 7374 722c 206f  nal[Union[str, o
+000236a0: 732e 5061 7468 4c69 6b65 5d5d 203d 204e  s.PathLike]] = N
+000236b0: 6f6e 6529 202d 3e20 4e6f 6e65 3a0a 0a20  one) -> None:.. 
+000236c0: 2020 2022 2222 0a20 2020 204f 7665 726c     """.    Overl
+000236d0: 6179 2061 2070 726f 6772 6573 7320 6261  ay a progress ba
+000236e0: 7220 6f6e 2061 2064 6972 6563 746f 7279  r on a directory
+000236f0: 206f 6620 7669 6465 6f73 206f 7220 6120   of videos or a 
+00023700: 7369 6e67 6c65 2076 6964 656f 2e0a 0a20  single video... 
+00023710: 2020 202e 2e20 7669 6465 6f3a 3a20 5f73     .. video:: _s
+00023720: 7461 7469 632f 696d 672f 6f76 6572 6c61  tatic/img/overla
+00023730: 795f 7669 6465 6f5f 7072 6f67 7265 7373  y_video_progress
+00023740: 6261 722e 7765 626d 0a20 2020 2020 2020  bar.webm.       
+00023750: 3a77 6964 7468 3a20 3730 300a 2020 2020  :width: 700.    
+00023760: 2020 203a 6c6f 6f70 3a0a 0a20 2020 203a     :loop:..    :
+00023770: 7061 7261 6d20 556e 696f 6e5b 7374 722c  param Union[str,
+00023780: 206f 732e 5061 7468 4c69 6b65 5d20 7669   os.PathLike] vi
+00023790: 6465 6f5f 7061 7468 3a20 4469 7265 6374  deo_path: Direct
+000237a0: 6f72 7920 636f 6e74 6169 6e69 6e67 2076  ory containing v
+000237b0: 6964 656f 2066 696c 6573 206f 7220 6120  ideo files or a 
+000237c0: 7369 6e67 6c65 2076 6964 656f 2066 696c  single video fil
+000237d0: 650a 2020 2020 3a70 6172 616d 204f 7074  e.    :param Opt
+000237e0: 696f 6e61 6c5b 696e 745d 2062 6172 5f68  ional[int] bar_h
+000237f0: 6569 6768 743a 2054 6865 2068 6569 6768  eight: The heigh
+00023800: 7420 6f66 2074 6865 2070 726f 6772 6573  t of the progres
+00023810: 7362 6172 2069 6e20 7065 7263 656e 7420  sbar in percent 
+00023820: 6f66 2074 6865 2076 6964 656f 2068 6569  of the video hei
+00023830: 6768 742e 0a20 2020 203a 7061 7261 6d20  ght..    :param 
+00023840: 4f70 7469 6f6e 616c 5b73 7472 5d20 636f  Optional[str] co
+00023850: 6c6f 723a 2054 6865 2063 6f6c 6f72 206f  lor: The color o
+00023860: 6620 7468 6520 7072 6f67 7265 7373 2062  f the progress b
+00023870: 6172 2e20 5365 6520 7369 6d62 612e 7574  ar. See simba.ut
+00023880: 696c 732e 6c6f 6f6b 7570 732e 6765 745f  ils.lookups.get_
+00023890: 636f 6c6f 725f 6469 6374 206b 6579 7320  color_dict keys 
+000238a0: 666f 7220 6163 6365 7074 6564 206e 616d  for accepted nam
+000238b0: 6573 2e0a 2020 2020 3a70 6172 616d 204f  es..    :param O
+000238c0: 7074 696f 6e61 6c5b 7374 725d 2070 6f73  ptional[str] pos
+000238d0: 6974 696f 6e3a 2054 6865 2070 6f73 6974  ition: The posit
+000238e0: 696f 6e20 6f66 2074 6865 2070 726f 6772  ion of the progr
+000238f0: 6573 7362 6172 2e20 4f70 7469 6f6e 733a  essbar. Options:
+00023900: 2027 746f 7027 2c20 2762 6f74 746f 6d27   'top', 'bottom'
+00023910: 2e0a 2020 2020 3a70 6172 616d 204f 7074  ..    :param Opt
+00023920: 696f 6e61 6c5b 556e 696f 6e5b 7374 722c  ional[Union[str,
+00023930: 206f 732e 5061 7468 4c69 6b65 5d5d 2073   os.PathLike]] s
+00023940: 6176 655f 6469 723a 2049 6620 6e6f 7420  ave_dir: If not 
+00023950: 4e6f 6e65 2c20 7468 656e 2073 6176 6573  None, then saves
+00023960: 2074 6865 2076 6964 656f 7320 696e 2074   the videos in t
+00023970: 6865 2070 6173 7365 6420 6469 7265 6374  he passed direct
+00023980: 6f72 792e 2045 6c73 652c 2069 6e20 7468  ory. Else, in th
+00023990: 6520 7361 6d65 2064 6972 6563 7472 7920  e same directry 
+000239a0: 7769 7468 2074 6865 2060 605f 7072 6f67  with the ``_prog
+000239b0: 7265 7373 5f62 6172 6060 2073 7566 6669  ress_bar`` suffi
+000239c0: 782e 0a20 2020 203a 7265 7475 726e 3a20  x..    :return: 
+000239d0: 4e6f 6e65 2e0a 2020 2020 2222 220a 0a20  None..    """.. 
+000239e0: 2020 2063 6865 636b 5f66 666d 7065 675f     check_ffmpeg_
+000239f0: 6176 6169 6c61 626c 6528 7261 6973 655f  available(raise_
+00023a00: 6572 726f 723d 5472 7565 290a 2020 2020  error=True).    
+00023a10: 7469 6d65 7220 3d20 5369 6d62 6154 696d  timer = SimbaTim
+00023a20: 6572 2873 7461 7274 3d54 7275 6529 0a20  er(start=True). 
+00023a30: 2020 2063 6f6c 6f72 203d 2027 272e 6a6f     color = ''.jo
+00023a40: 696e 2866 696c 7465 7228 7374 722e 6973  in(filter(str.is
+00023a50: 616c 6e75 6d2c 2063 6f6c 6f72 2929 2e6c  alnum, color)).l
+00023a60: 6f77 6572 2829 0a20 2020 2069 6620 6f73  ower().    if os
+00023a70: 2e70 6174 682e 6973 6669 6c65 2876 6964  .path.isfile(vid
+00023a80: 656f 5f70 6174 6829 3a0a 2020 2020 2020  eo_path):.      
+00023a90: 2020 6368 6563 6b5f 6669 6c65 5f65 7869    check_file_exi
+00023aa0: 7374 5f61 6e64 5f72 6561 6461 626c 6528  st_and_readable(
+00023ab0: 6669 6c65 5f70 6174 683d 7669 6465 6f5f  file_path=video_
+00023ac0: 7061 7468 290a 2020 2020 2020 2020 7669  path).        vi
+00023ad0: 6465 6f5f 7061 7468 7320 3d20 5b76 6964  deo_paths = [vid
+00023ae0: 656f 5f70 6174 685d 0a20 2020 2065 6c69  eo_path].    eli
+00023af0: 6620 6f73 2e70 6174 682e 6973 6469 7228  f os.path.isdir(
+00023b00: 7669 6465 6f5f 7061 7468 293a 0a20 2020  video_path):.   
+00023b10: 2020 2020 2076 6964 656f 5f70 6174 6820       video_path 
+00023b20: 3d20 6669 6e64 5f61 6c6c 5f76 6964 656f  = find_all_video
+00023b30: 735f 696e 5f64 6972 6563 746f 7279 2864  s_in_directory(d
+00023b40: 6972 6563 746f 7279 3d76 6964 656f 5f70  irectory=video_p
+00023b50: 6174 682c 2061 735f 6469 6374 3d54 7275  ath, as_dict=Tru
+00023b60: 652c 2072 6169 7365 5f65 7272 6f72 3d54  e, raise_error=T
+00023b70: 7275 6529 0a20 2020 2020 2020 2076 6964  rue).        vid
+00023b80: 656f 5f70 6174 6873 203d 206c 6973 7428  eo_paths = list(
+00023b90: 7669 6465 6f5f 7061 7468 2e76 616c 7565  video_path.value
+00023ba0: 7328 2929 0a20 2020 2065 6c73 653a 0a20  s()).    else:. 
+00023bb0: 2020 2020 2020 2072 6169 7365 2049 6e76         raise Inv
+00023bc0: 616c 6964 496e 7075 7445 7272 6f72 286d  alidInputError(m
+00023bd0: 7367 3d27 7b7d 2069 7320 6e6f 7420 6120  sg='{} is not a 
+00023be0: 7661 6c69 6420 6669 6c65 2070 6174 6820  valid file path 
+00023bf0: 6f72 2064 6972 6563 746f 7279 2070 6174  or directory pat
+00023c00: 682e 272c 2073 6f75 7263 653d 7375 7065  h.', source=supe
+00023c10: 7269 6d70 6f73 655f 7669 6465 6f5f 7072  rimpose_video_pr
+00023c20: 6f67 7265 7373 6261 722e 5f5f 6e61 6d65  ogressbar.__name
+00023c30: 5f5f 290a 2020 2020 6966 2073 6176 655f  __).    if save_
+00023c40: 6469 7220 6973 206e 6f74 204e 6f6e 653a  dir is not None:
+00023c50: 0a20 2020 2020 2020 2063 6865 636b 5f69  .        check_i
+00023c60: 665f 6469 725f 6578 6973 7473 2869 6e5f  f_dir_exists(in_
+00023c70: 6469 723d 7361 7665 5f64 6972 290a 2020  dir=save_dir).  
+00023c80: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00023c90: 7361 7665 5f64 6972 2c20 5f2c 205f 203d  save_dir, _, _ =
+00023ca0: 2067 6574 5f66 6e5f 6578 7428 6669 6c65   get_fn_ext(file
+00023cb0: 7061 7468 3d76 6964 656f 5f70 6174 6873  path=video_paths
+00023cc0: 5b30 5d29 0a20 2020 2066 6f72 2063 6e74  [0]).    for cnt
+00023cd0: 2c20 7669 6465 6f5f 7061 7468 2069 6e20  , video_path in 
+00023ce0: 656e 756d 6572 6174 6528 7669 6465 6f5f  enumerate(video_
+00023cf0: 7061 7468 7329 3a0a 2020 2020 2020 2020  paths):.        
+00023d00: 7669 6465 6f5f 6d65 7461 5f64 6174 6120  video_meta_data 
+00023d10: 3d20 6765 745f 7669 6465 6f5f 6d65 7461  = get_video_meta
+00023d20: 5f64 6174 6128 7669 6465 6f5f 7061 7468  _data(video_path
+00023d30: 3d76 6964 656f 5f70 6174 6829 0a20 2020  =video_path).   
+00023d40: 2020 2020 2076 6964 656f 5f6c 656e 6774       video_lengt
+00023d50: 6820 3d20 7669 6465 6f5f 6d65 7461 5f64  h = video_meta_d
+00023d60: 6174 615b 2776 6964 656f 5f6c 656e 6774  ata['video_lengt
+00023d70: 685f 7327 5d0a 2020 2020 2020 2020 7769  h_s'].        wi
+00023d80: 6474 682c 2068 6569 6768 7420 3d20 7669  dth, height = vi
+00023d90: 6465 6f5f 6d65 7461 5f64 6174 615b 2777  deo_meta_data['w
+00023da0: 6964 7468 275d 2c20 7669 6465 6f5f 6d65  idth'], video_me
+00023db0: 7461 5f64 6174 615b 2768 6569 6768 7427  ta_data['height'
+00023dc0: 5d0a 2020 2020 2020 2020 6261 725f 6865  ].        bar_he
+00023dd0: 6967 6874 203d 2069 6e74 2868 6569 6768  ight = int(heigh
+00023de0: 7420 2a20 2862 6172 5f68 6569 6768 742f  t * (bar_height/
+00023df0: 3130 3029 290a 2020 2020 2020 2020 5f2c  100)).        _,
+00023e00: 2076 6964 656f 5f6e 616d 652c 2065 7874   video_name, ext
+00023e10: 203d 2067 6574 5f66 6e5f 6578 7428 6669   = get_fn_ext(fi
+00023e20: 6c65 7061 7468 3d76 6964 656f 5f70 6174  lepath=video_pat
+00023e30: 6829 0a20 2020 2020 2020 2070 7269 6e74  h).        print
+00023e40: 2866 2749 6e73 6572 7469 6e67 2070 726f  (f'Inserting pro
+00023e50: 6772 6573 7320 6261 7220 6f6e 2076 6964  gress bar on vid
+00023e60: 656f 207b 7669 6465 6f5f 6e61 6d65 7d2e  eo {video_name}.
+00023e70: 2e2e 2729 0a20 2020 2020 2020 2073 6176  ..').        sav
+00023e80: 655f 7061 7468 203d 206f 732e 7061 7468  e_path = os.path
+00023e90: 2e6a 6f69 6e28 7361 7665 5f64 6972 2c20  .join(save_dir, 
+00023ea0: 6627 7b76 6964 656f 5f6e 616d 657d 5f70  f'{video_name}_p
+00023eb0: 726f 6772 6573 735f 6261 727b 6578 747d  rogress_bar{ext}
+00023ec0: 2729 0a20 2020 2020 2020 2063 6865 636b  ').        check
+00023ed0: 5f69 6e74 286e 616d 653d 6627 7b73 7570  _int(name=f'{sup
+00023ee0: 6572 696d 706f 7365 5f76 6964 656f 5f70  erimpose_video_p
+00023ef0: 726f 6772 6573 7362 6172 7d20 6865 6967  rogressbar} heig
+00023f00: 6874 272c 2076 616c 7565 3d62 6172 5f68  ht', value=bar_h
+00023f10: 6569 6768 742c 206d 6178 5f76 616c 7565  eight, max_value
+00023f20: 3d68 6569 6768 742c 206d 696e 5f76 616c  =height, min_val
+00023f30: 7565 3d31 290a 2020 2020 2020 2020 6966  ue=1).        if
+00023f40: 2070 6f73 6974 696f 6e20 3d3d 2027 626f   position == 'bo
+00023f50: 7474 6f6d 273a 0a20 2020 2020 2020 2020  ttom':.         
+00023f60: 2020 2063 6d64 203d 2066 2766 666d 7065     cmd = f'ffmpe
+00023f70: 6720 2d69 2022 7b76 6964 656f 5f70 6174  g -i "{video_pat
+00023f80: 687d 2220 2d66 696c 7465 725f 636f 6d70  h}" -filter_comp
+00023f90: 6c65 7820 2263 6f6c 6f72 3d63 3d7b 636f  lex "color=c={co
+00023fa0: 6c6f 727d 3a73 3d7b 7769 6474 687d 787b  lor}:s={width}x{
+00023fb0: 6261 725f 6865 6967 6874 7d5b 6261 725d  bar_height}[bar]
+00023fc0: 3b5b 305d 5b62 6172 5d6f 7665 726c 6179  ;[0][bar]overlay
+00023fd0: 3d2d 772b 2877 2f7b 7669 6465 6f5f 6c65  =-w+(w/{video_le
+00023fe0: 6e67 7468 7d29 2a74 3a48 2d68 3a73 686f  ngth})*t:H-h:sho
+00023ff0: 7274 6573 743d 3122 202d 633a 6120 636f  rtest=1" -c:a co
+00024000: 7079 2022 7b73 6176 655f 7061 7468 7d22  py "{save_path}"
+00024010: 202d 6c6f 676c 6576 656c 2065 7272 6f72   -loglevel error
+00024020: 202d 7374 6174 7320 2d68 6964 655f 6261   -stats -hide_ba
+00024030: 6e6e 6572 202d 7927 0a20 2020 2020 2020  nner -y'.       
+00024040: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00024050: 2020 2063 6d64 203d 2066 2766 666d 7065     cmd = f'ffmpe
+00024060: 6720 2d69 2022 7b76 6964 656f 5f70 6174  g -i "{video_pat
+00024070: 687d 2220 2d66 696c 7465 725f 636f 6d70  h}" -filter_comp
+00024080: 6c65 7820 2263 6f6c 6f72 3d63 3d7b 636f  lex "color=c={co
+00024090: 6c6f 727d 3a73 3d7b 7769 6474 687d 787b  lor}:s={width}x{
+000240a0: 6261 725f 6865 6967 6874 7d5b 6261 725d  bar_height}[bar]
+000240b0: 3b5b 305d 5b62 6172 5d6f 7665 726c 6179  ;[0][bar]overlay
+000240c0: 3d2d 772b 2877 2f7b 7669 6465 6f5f 6c65  =-w+(w/{video_le
+000240d0: 6e67 7468 7d29 2a74 3a7b 6261 725f 6865  ngth})*t:{bar_he
+000240e0: 6967 6874 7d2d 683a 7368 6f72 7465 7374  ight}-h:shortest
+000240f0: 3d31 2220 2d63 3a61 2063 6f70 7920 227b  =1" -c:a copy "{
+00024100: 7361 7665 5f70 6174 687d 2220 2d6c 6f67  save_path}" -log
+00024110: 6c65 7665 6c20 6572 726f 7220 2d73 7461  level error -sta
+00024120: 7473 202d 6869 6465 5f62 616e 6e65 7220  ts -hide_banner 
+00024130: 2d79 270a 2020 2020 2020 2020 7375 6270  -y'.        subp
+00024140: 726f 6365 7373 2e63 616c 6c28 636d 642c  rocess.call(cmd,
+00024150: 2073 6865 6c6c 3d54 7275 652c 2073 7464   shell=True, std
+00024160: 6f75 743d 7375 6270 726f 6365 7373 2e50  out=subprocess.P
+00024170: 4950 4529 0a20 2020 2074 696d 6572 2e73  IPE).    timer.s
+00024180: 746f 705f 7469 6d65 7228 290a 2020 2020  top_timer().    
+00024190: 7374 646f 7574 5f73 7563 6365 7373 286d  stdout_success(m
+000241a0: 7367 3d66 227b 6c65 6e28 7669 6465 6f5f  sg=f"{len(video_
+000241b0: 7061 7468 7329 7d20 7669 6465 6f28 7329  paths)} video(s)
+000241c0: 2073 6176 6564 2077 6974 6820 7072 6f67   saved with prog
+000241d0: 7265 7373 6261 7220 696e 207b 7361 7665  ressbar in {save
+000241e0: 5f64 6972 7d20 6469 7265 6374 6f72 792e  _dir} directory.
+000241f0: 222c 2065 6c61 7073 6564 5f74 696d 653d  ", elapsed_time=
+00024200: 7469 6d65 722e 656c 6170 7365 645f 7469  timer.elapsed_ti
+00024210: 6d65 5f73 7472 2c20 736f 7572 6365 3d73  me_str, source=s
+00024220: 7570 6572 696d 706f 7365 5f76 6964 656f  uperimpose_video
+00024230: 5f70 726f 6772 6573 7362 6172 2e5f 5f6e  _progressbar.__n
+00024240: 616d 655f 5f2c 2029 0a0a 6465 6620 6372  ame__, )..def cr
+00024250: 6f73 7366 6164 655f 7477 6f5f 7669 6465  ossfade_two_vide
+00024260: 6f73 2876 6964 656f 5f70 6174 685f 313a  os(video_path_1:
+00024270: 2055 6e69 6f6e 5b73 7472 2c20 6f73 2e50   Union[str, os.P
+00024280: 6174 684c 696b 655d 2c0a 2020 2020 2020  athLike],.      
+00024290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000242a0: 2020 2076 6964 656f 5f70 6174 685f 323a     video_path_2:
+000242b0: 2055 6e69 6f6e 5b73 7472 2c20 6f73 2e50   Union[str, os.P
+000242c0: 6174 684c 696b 655d 2c0a 2020 2020 2020  athLike],.      
+000242d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000242e0: 2020 2063 726f 7373 6661 6465 5f64 7572     crossfade_dur
+000242f0: 6174 696f 6e3a 204f 7074 696f 6e61 6c5b  ation: Optional[
+00024300: 696e 745d 203d 2032 2c0a 2020 2020 2020  int] = 2,.      
+00024310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024320: 2020 2063 726f 7373 6661 6465 5f6d 6574     crossfade_met
+00024330: 686f 643a 204f 7074 696f 6e61 6c5b 7374  hod: Optional[st
+00024340: 725d 203d 2027 6661 6465 272c 0a20 2020  r] = 'fade',.   
+00024350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024360: 2020 2020 2020 6372 6f73 7366 6164 655f        crossfade_
+00024370: 6f66 6673 6574 3a20 4f70 7469 6f6e 616c  offset: Optional
+00024380: 5b69 6e74 5d20 3d20 322c 0a20 2020 2020  [int] = 2,.     
+00024390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000243a0: 2020 2020 7175 616c 6974 793a 204f 7074      quality: Opt
+000243b0: 696f 6e61 6c5b 696e 745d 203d 2036 302c  ional[int] = 60,
+000243c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000243d0: 2020 2020 2020 2020 2020 6f75 745f 666f            out_fo
+000243e0: 726d 6174 3a20 4f70 7469 6f6e 616c 5b4c  rmat: Optional[L
+000243f0: 6974 6572 616c 5b27 6d70 3427 2c20 2761  iteral['mp4', 'a
+00024400: 7669 272c 2027 7765 626d 275d 5d20 3d20  vi', 'webm']] = 
+00024410: 276d 7034 272c 0a20 2020 2020 2020 2020  'mp4',.         
+00024420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024430: 7361 7665 5f70 6174 683a 204f 7074 696f  save_path: Optio
+00024440: 6e61 6c5b 556e 696f 6e5b 7374 722c 206f  nal[Union[str, o
+00024450: 732e 5061 7468 4c69 6b65 5d5d 203d 204e  s.PathLike]] = N
+00024460: 6f6e 6529 3a0a 2020 2020 2222 220a 2020  one):.    """.  
+00024470: 2020 4372 6f73 732d 6661 6465 2074 776f    Cross-fade two
+00024480: 2076 6964 656f 732e 0a0a 2020 2020 2e2e   videos...    ..
+00024490: 2076 6964 656f 3a3a 205f 7374 6174 6963   video:: _static
+000244a0: 2f69 6d67 2f63 726f 7373 6661 6465 5f74  /img/crossfade_t
+000244b0: 776f 5f76 6964 656f 732e 7765 626d 0a20  wo_videos.webm. 
+000244c0: 2020 2020 2020 3a6c 6f6f 703a 0a0a 2020        :loop:..  
+000244d0: 2020 2e2e 206e 6f74 653a 3a0a 2020 2020    .. note::.    
+000244e0: 2020 2053 6565 2060 6073 696d 6261 2e75     See ``simba.u
+000244f0: 7469 6c73 2e6c 6f6f 6b75 7073 2e67 6574  tils.lookups.get
+00024500: 5f66 666d 7065 675f 6372 6f73 7366 6164  _ffmpeg_crossfad
+00024510: 655f 6d65 7468 6f64 7360 6020 666f 7220  e_methods`` for 
+00024520: 6e61 6d65 6420 6372 6f73 7366 6164 6520  named crossfade 
+00024530: 6d65 7468 6f64 732e 0a20 2020 2020 2020  methods..       
+00024540: 5365 6520 6068 7474 7073 3a2f 2f74 7261  See `https://tra
+00024550: 632e 6666 6d70 6567 2e6f 7267 2f77 696b  c.ffmpeg.org/wik
+00024560: 692f 5866 6164 6520 3c68 7474 7073 3a2f  i/Xfade <https:/
+00024570: 2f74 7261 632e 6666 6d70 6567 2e6f 7267  /trac.ffmpeg.org
+00024580: 2f77 696b 692f 5866 6164 653e 605f 5f2e  /wiki/Xfade>`__.
+00024590: 2066 6f72 2076 6973 7561 6c69 7a61 7469   for visualizati
+000245a0: 6f6e 7320 6f66 206e 616d 6564 2063 726f  ons of named cro
+000245b0: 7373 6661 6465 206d 6574 686f 6473 2c0a  ssfade methods,.
+000245c0: 0a20 2020 203a 7061 7261 6d20 556e 696f  .    :param Unio
+000245d0: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
+000245e0: 6b65 5d20 7669 6465 6f5f 7061 7468 5f31  ke] video_path_1
+000245f0: 3a20 5061 7468 2074 6f20 7468 6520 6669  : Path to the fi
+00024600: 7273 7420 7669 6465 6f20 6f6e 2064 6973  rst video on dis
+00024610: 6b2e 0a20 2020 203a 7061 7261 6d20 556e  k..    :param Un
+00024620: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+00024630: 4c69 6b65 5d20 7669 6465 6f5f 7061 7468  Like] video_path
+00024640: 5f32 3a20 5061 7468 2074 6f20 7468 6520  _2: Path to the 
+00024650: 7365 636f 6e64 2076 6964 656f 206f 6e20  second video on 
+00024660: 6469 736b 2e0a 2020 2020 3a70 6172 616d  disk..    :param
+00024670: 204f 7074 696f 6e61 6c5b 696e 745d 2063   Optional[int] c
+00024680: 726f 7373 6661 6465 5f64 7572 6174 696f  rossfade_duratio
+00024690: 6e3a 2054 6865 2064 7572 6174 696f 6e20  n: The duration 
+000246a0: 6f66 2074 6865 2063 726f 7373 6661 6465  of the crossfade
+000246b0: 2e0a 2020 2020 3a70 6172 616d 204f 7074  ..    :param Opt
+000246c0: 696f 6e61 6c5b 7374 725d 2063 726f 7373  ional[str] cross
+000246d0: 6661 6465 5f6d 6574 686f 643a 2054 6865  fade_method: The
+000246e0: 2063 726f 7373 6661 6465 206d 6574 686f   crossfade metho
+000246f0: 642e 2046 6f72 2061 6363 6570 7465 6420  d. For accepted 
+00024700: 6d65 7468 6f64 732c 2073 6565 2060 6073  methods, see ``s
+00024710: 696d 6261 2e75 7469 6c73 2e6c 6f6f 6b75  imba.utils.looku
+00024720: 7073 2e67 6574 5f66 666d 7065 675f 6372  ps.get_ffmpeg_cr
+00024730: 6f73 7366 6164 655f 6d65 7468 6f64 7360  ossfade_methods`
+00024740: 602e 0a20 2020 203a 7061 7261 6d20 4f70  `..    :param Op
+00024750: 7469 6f6e 616c 5b69 6e74 5d20 6372 6f73  tional[int] cros
+00024760: 7366 6164 655f 6f66 6673 6574 3a20 5468  sfade_offset: Th
+00024770: 6520 7469 6d65 2069 6e20 7365 636f 6e64  e time in second
+00024780: 7320 696e 746f 2074 6865 2066 6972 7374  s into the first
+00024790: 2076 6964 656f 2062 6566 6f72 6520 7468   video before th
+000247a0: 6520 6372 6f73 7366 6164 6520 6475 7261  e crossfade dura
+000247b0: 7469 6f6e 2062 6567 696e 732e 0a20 2020  tion begins..   
+000247c0: 203a 7061 7261 6d20 4f70 7469 6f6e 616c   :param Optional
+000247d0: 5b55 6e69 6f6e 5b73 7472 2c20 6f73 2e50  [Union[str, os.P
+000247e0: 6174 684c 696b 655d 5d20 7361 7665 5f70  athLike]] save_p
+000247f0: 6174 683a 2054 6865 206c 6f63 6174 696f  ath: The locatio
+00024800: 6e20 7768 6572 6520 746f 2073 6176 6520  n where to save 
+00024810: 7468 6520 6372 6f73 7366 6164 6564 2076  the crossfaded v
+00024820: 6964 656f 2e20 4966 204e 6f6e 652c 2074  ideo. If None, t
+00024830: 6865 6e20 7361 7665 7320 7468 6520 7669  hen saves the vi
+00024840: 6465 6f20 696e 2074 6865 2073 616d 6520  deo in the same 
+00024850: 6469 7265 6374 6f72 7920 6173 2060 6076  directory as ``v
+00024860: 6964 656f 5f70 6174 685f 3160 6020 7769  ideo_path_1`` wi
+00024870: 7468 2060 605f 6372 6f73 7366 6164 6560  th ``_crossfade`
+00024880: 6020 7375 6666 6978 2e0a 0a20 2020 203a  ` suffix...    :
+00024890: 7265 7475 726e 3a20 4e6f 6e65 2e0a 0a20  return: None... 
+000248a0: 2020 203a 6578 616d 706c 653a 0a20 2020     :example:.   
+000248b0: 203e 3e3e 2063 726f 7373 6661 6465 5f74   >>> crossfade_t
+000248c0: 776f 5f76 6964 656f 7328 7669 6465 6f5f  wo_videos(video_
+000248d0: 7061 7468 5f31 3d27 2f55 7365 7273 2f73  path_1='/Users/s
+000248e0: 696d 6f6e 2f44 6573 6b74 6f70 2f65 6e76  imon/Desktop/env
+000248f0: 732f 7369 6d62 612f 7472 6f75 626c 6573  s/simba/troubles
+00024900: 686f 6f74 696e 672f 7265 7074 696c 652f  hooting/reptile/
+00024910: 312e 6d70 3427 2c20 7669 6465 6f5f 7061  1.mp4', video_pa
+00024920: 7468 5f32 3d27 2f55 7365 7273 2f73 696d  th_2='/Users/sim
+00024930: 6f6e 2f44 6573 6b74 6f70 2f65 6e76 732f  on/Desktop/envs/
+00024940: 7369 6d62 612f 7472 6f75 626c 6573 686f  simba/troublesho
+00024950: 6f74 696e 672f 7265 7074 696c 652f 312e  oting/reptile/1.
+00024960: 6d70 3427 2c20 6372 6f73 7366 6164 655f  mp4', crossfade_
+00024970: 6475 7261 7469 6f6e 3d35 2c20 6372 6f73  duration=5, cros
+00024980: 7366 6164 655f 6d65 7468 6f64 3d27 7a6f  sfade_method='zo
+00024990: 6f6d 696e 272c 2073 6176 655f 7061 7468  omin', save_path
+000249a0: 3d27 2f55 7365 7273 2f73 696d 6f6e 2f44  ='/Users/simon/D
+000249b0: 6573 6b74 6f70 2f63 726f 7373 5f74 6573  esktop/cross_tes
+000249c0: 742e 6d70 3427 290a 2020 2020 2222 220a  t.mp4').    """.
+000249d0: 0a20 2020 2063 6865 636b 5f66 666d 7065  .    check_ffmpe
+000249e0: 675f 6176 6169 6c61 626c 6528 7261 6973  g_available(rais
+000249f0: 655f 6572 726f 723d 5472 7565 290a 2020  e_error=True).  
+00024a00: 2020 7469 6d65 7220 3d20 5369 6d62 6154    timer = SimbaT
+00024a10: 696d 6572 2873 7461 7274 3d54 7275 6529  imer(start=True)
+00024a20: 0a20 2020 2076 6964 656f 5f31 5f6d 6574  .    video_1_met
+00024a30: 6120 3d20 6765 745f 7669 6465 6f5f 6d65  a = get_video_me
+00024a40: 7461 5f64 6174 6128 7669 6465 6f5f 7061  ta_data(video_pa
+00024a50: 7468 3d76 6964 656f 5f70 6174 685f 3129  th=video_path_1)
+00024a60: 0a20 2020 2076 6964 656f 5f32 5f6d 6574  .    video_2_met
+00024a70: 6120 3d20 6765 745f 7669 6465 6f5f 6d65  a = get_video_me
+00024a80: 7461 5f64 6174 6128 7669 6465 6f5f 7061  ta_data(video_pa
+00024a90: 7468 3d76 6964 656f 5f70 6174 685f 3229  th=video_path_2)
+00024aa0: 0a20 2020 2069 6620 7669 6465 6f5f 315f  .    if video_1_
+00024ab0: 6d65 7461 5b27 7265 736f 6c75 7469 6f6e  meta['resolution
+00024ac0: 5f73 7472 275d 2021 3d20 7669 6465 6f5f  _str'] != video_
+00024ad0: 315f 6d65 7461 5b27 7265 736f 6c75 7469  1_meta['resoluti
+00024ae0: 6f6e 5f73 7472 275d 3a0a 2020 2020 2020  on_str']:.      
+00024af0: 2020 7261 6973 6520 496e 7661 6c69 6449    raise InvalidI
+00024b00: 6e70 7574 4572 726f 7228 6d73 673d 6627  nputError(msg=f'
+00024b10: 5669 6465 6f20 3120 616e 6420 5669 6465  Video 1 and Vide
+00024b20: 6f20 3220 6e65 6564 7320 746f 2062 6520  o 2 needs to be 
+00024b30: 7468 6520 7361 6d65 2072 6573 6f6c 7574  the same resolut
+00024b40: 696f 6e2c 2067 6f74 207b 7669 6465 6f5f  ion, got {video_
+00024b50: 325f 6d65 7461 5b22 7265 736f 6c75 7469  2_meta["resoluti
+00024b60: 6f6e 5f73 7472 225d 7d20 616e 6420 7b76  on_str"]} and {v
+00024b70: 6964 656f 5f31 5f6d 6574 615b 2272 6573  ideo_1_meta["res
+00024b80: 6f6c 7574 696f 6e5f 7374 7222 5d7d 272c  olution_str"]}',
+00024b90: 2073 6f75 7263 653d 6372 6f73 7366 6164   source=crossfad
+00024ba0: 655f 7477 6f5f 7669 6465 6f73 2e5f 5f6e  e_two_videos.__n
+00024bb0: 616d 655f 5f29 0a20 2020 2063 726f 7373  ame__).    cross
+00024bc0: 6661 6465 5f6f 6666 7365 745f 6d65 7468  fade_offset_meth
+00024bd0: 6f64 7320 3d20 6765 745f 6666 6d70 6567  ods = get_ffmpeg
+00024be0: 5f63 726f 7373 6661 6465 5f6d 6574 686f  _crossfade_metho
+00024bf0: 6473 2829 0a20 2020 2063 6865 636b 5f73  ds().    check_s
+00024c00: 7472 286e 616d 653d 6627 7b63 726f 7373  tr(name=f'{cross
+00024c10: 6661 6465 5f6d 6574 686f 647d 2063 726f  fade_method} cro
+00024c20: 7373 6661 6465 5f6d 6574 686f 6427 2c20  ssfade_method', 
+00024c30: 7661 6c75 653d 6372 6f73 7366 6164 655f  value=crossfade_
+00024c40: 6d65 7468 6f64 2c20 6f70 7469 6f6e 733d  method, options=
+00024c50: 6372 6f73 7366 6164 655f 6f66 6673 6574  crossfade_offset
+00024c60: 5f6d 6574 686f 6473 290a 2020 2020 6368  _methods).    ch
+00024c70: 6563 6b5f 7374 7228 6e61 6d65 3d66 277b  eck_str(name=f'{
+00024c80: 6372 6f73 7366 6164 655f 6d65 7468 6f64  crossfade_method
+00024c90: 7d20 6f75 745f 666f 726d 6174 272c 2076  } out_format', v
+00024ca0: 616c 7565 3d6f 7574 5f66 6f72 6d61 742c  alue=out_format,
+00024cb0: 206f 7074 696f 6e73 3d5b 276d 7034 272c   options=['mp4',
+00024cc0: 2027 6176 6927 2c20 2777 6562 6d27 5d29   'avi', 'webm'])
+00024cd0: 0a20 2020 2063 6865 636b 5f69 6e74 286e  .    check_int(n
+00024ce0: 616d 653d 6627 7b63 726f 7373 6661 6465  ame=f'{crossfade
+00024cf0: 5f74 776f 5f76 6964 656f 732e 5f5f 6e61  _two_videos.__na
+00024d00: 6d65 5f5f 7d20 6372 6f73 7366 6164 655f  me__} crossfade_
+00024d10: 6475 7261 7469 6f6e 272c 2076 616c 7565  duration', value
+00024d20: 3d63 726f 7373 6661 6465 5f64 7572 6174  =crossfade_durat
+00024d30: 696f 6e2c 206d 696e 5f76 616c 7565 3d31  ion, min_value=1
+00024d40: 2c20 6d61 785f 7661 6c75 653d 7669 6465  , max_value=vide
+00024d50: 6f5f 325f 6d65 7461 5b27 7669 6465 6f5f  o_2_meta['video_
+00024d60: 6c65 6e67 7468 5f73 275d 290a 2020 2020  length_s']).    
+00024d70: 6368 6563 6b5f 696e 7428 6e61 6d65 3d66  check_int(name=f
+00024d80: 277b 6372 6f73 7366 6164 655f 7477 6f5f  '{crossfade_two_
+00024d90: 7669 6465 6f73 2e5f 5f6e 616d 655f 5f7d  videos.__name__}
+00024da0: 2063 726f 7373 6661 6465 5f6f 6666 7365   crossfade_offse
+00024db0: 7427 2c20 7661 6c75 653d 6372 6f73 7366  t', value=crossf
+00024dc0: 6164 655f 6f66 6673 6574 2c20 6d69 6e5f  ade_offset, min_
+00024dd0: 7661 6c75 653d 302c 206d 6178 5f76 616c  value=0, max_val
+00024de0: 7565 3d76 6964 656f 5f31 5f6d 6574 615b  ue=video_1_meta[
+00024df0: 2776 6964 656f 5f6c 656e 6774 685f 7327  'video_length_s'
+00024e00: 5d29 0a20 2020 2063 6865 636b 5f69 6e74  ]).    check_int
+00024e10: 286e 616d 653d 6627 7b72 6576 6572 7365  (name=f'{reverse
+00024e20: 5f76 6964 656f 732e 5f5f 6e61 6d65 5f5f  _videos.__name__
+00024e30: 7d20 7175 616c 6974 7927 2c20 7661 6c75  } quality', valu
+00024e40: 653d 7175 616c 6974 7929 0a20 2020 2063  e=quality).    c
+00024e50: 7266 5f6c 6b20 3d20 7065 7263 656e 745f  rf_lk = percent_
+00024e60: 746f 5f63 7266 5f6c 6f6f 6b75 7028 290a  to_crf_lookup().
+00024e70: 2020 2020 6372 6620 3d20 6372 665f 6c6b      crf = crf_lk
+00024e80: 5b73 7472 2871 7561 6c69 7479 295d 0a20  [str(quality)]. 
+00024e90: 2020 2066 6f72 2076 6964 656f 5f70 6174     for video_pat
+00024ea0: 6820 696e 205b 7669 6465 6f5f 7061 7468  h in [video_path
+00024eb0: 5f31 2c20 7669 6465 6f5f 7061 7468 5f32  _1, video_path_2
+00024ec0: 5d3a 0a20 2020 2020 2020 2076 6964 656f  ]:.        video
+00024ed0: 5f6d 6574 615f 6461 7461 203d 2067 6574  _meta_data = get
+00024ee0: 5f76 6964 656f 5f6d 6574 615f 6461 7461  _video_meta_data
+00024ef0: 2876 6964 656f 5f70 6174 683d 7669 6465  (video_path=vide
+00024f00: 6f5f 7061 7468 290a 2020 2020 2020 2020  o_path).        
+00024f10: 6966 2076 6964 656f 5f6d 6574 615f 6461  if video_meta_da
+00024f20: 7461 5b27 7669 6465 6f5f 6c65 6e67 7468  ta['video_length
+00024f30: 5f73 275d 203c 2063 726f 7373 6661 6465  _s'] < crossfade
+00024f40: 5f64 7572 6174 696f 6e3a 0a20 2020 2020  _duration:.     
+00024f50: 2020 2020 2020 2072 6169 7365 2046 7261         raise Fra
+00024f60: 6d65 5261 6e67 6545 7272 6f72 286d 7367  meRangeError(msg
+00024f70: 3d66 2756 6964 656f 207b 7669 6465 6f5f  =f'Video {video_
+00024f80: 6d65 7461 5f64 6174 615b 2276 6964 656f  meta_data["video
+00024f90: 5f6e 616d 6522 5d7d 2069 7320 7368 6f72  _name"]} is shor
+00024fa0: 7465 7220 7b76 6964 656f 5f6d 6574 615f  ter {video_meta_
+00024fb0: 6461 7461 5b22 7669 6465 6f5f 6c65 6e67  data["video_leng
+00024fc0: 7468 5f73 225d 7d20 7468 616e 2074 6865  th_s"]} than the
+00024fd0: 2063 726f 7373 6661 6465 2064 7572 6174   crossfade durat
+00024fe0: 696f 6e20 7b63 726f 7373 6661 6465 5f64  ion {crossfade_d
+00024ff0: 7572 6174 696f 6e7d 2e27 2c20 736f 7572  uration}.', sour
+00025000: 6365 3d63 726f 7373 6661 6465 5f74 776f  ce=crossfade_two
+00025010: 5f76 6964 656f 732e 5f5f 6e61 6d65 5f5f  _videos.__name__
+00025020: 290a 2020 2020 2020 2020 6966 2076 6964  ).        if vid
+00025030: 656f 5f6d 6574 615f 6461 7461 5b27 7669  eo_meta_data['vi
+00025040: 6465 6f5f 6c65 6e67 7468 5f73 275d 203c  deo_length_s'] <
+00025050: 2063 726f 7373 6661 6465 5f6f 6666 7365   crossfade_offse
+00025060: 743a 0a20 2020 2020 2020 2020 2020 2072  t:.            r
+00025070: 6169 7365 2046 7261 6d65 5261 6e67 6545  aise FrameRangeE
+00025080: 7272 6f72 286d 7367 3d66 2756 6964 656f  rror(msg=f'Video
+00025090: 207b 7669 6465 6f5f 6d65 7461 5f64 6174   {video_meta_dat
+000250a0: 615b 2276 6964 656f 5f6e 616d 6522 5d7d  a["video_name"]}
+000250b0: 2069 7320 7368 6f72 7465 7220 7b76 6964   is shorter {vid
+000250c0: 656f 5f6d 6574 615f 6461 7461 5b22 7669  eo_meta_data["vi
+000250d0: 6465 6f5f 6c65 6e67 7468 5f73 225d 7d20  deo_length_s"]} 
+000250e0: 7468 616e 2074 6865 2063 726f 7373 6661  than the crossfa
+000250f0: 6465 206f 6666 7365 7420 7b63 726f 7373  de offset {cross
+00025100: 6661 6465 5f6f 6666 7365 747d 2e27 2c20  fade_offset}.', 
+00025110: 736f 7572 6365 3d63 726f 7373 6661 6465  source=crossfade
+00025120: 5f74 776f 5f76 6964 656f 732e 5f5f 6e61  _two_videos.__na
+00025130: 6d65 5f5f 290a 2020 2020 6469 725f 312c  me__).    dir_1,
+00025140: 2076 6964 656f 5f6e 616d 655f 312c 2065   video_name_1, e
+00025150: 7874 5f31 203d 2067 6574 5f66 6e5f 6578  xt_1 = get_fn_ex
+00025160: 7428 6669 6c65 7061 7468 3d76 6964 656f  t(filepath=video
+00025170: 5f70 6174 685f 3129 0a20 2020 2064 6972  _path_1).    dir
+00025180: 5f32 2c20 7669 6465 6f5f 6e61 6d65 5f32  _2, video_name_2
+00025190: 2c20 6578 745f 3220 3d20 6765 745f 666e  , ext_2 = get_fn
+000251a0: 5f65 7874 2866 696c 6570 6174 683d 7669  _ext(filepath=vi
+000251b0: 6465 6f5f 7061 7468 5f32 290a 2020 2020  deo_path_2).    
+000251c0: 6966 2073 6176 655f 7061 7468 2069 7320  if save_path is 
+000251d0: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+000251e0: 2020 6368 6563 6b5f 6966 5f64 6972 5f65    check_if_dir_e
+000251f0: 7869 7374 7328 696e 5f64 6972 3d6f 732e  xists(in_dir=os.
+00025200: 7061 7468 2e64 6972 6e61 6d65 2873 6176  path.dirname(sav
+00025210: 655f 7061 7468 2929 0a20 2020 2065 6c73  e_path)).    els
+00025220: 653a 0a20 2020 2020 2020 2073 6176 655f  e:.        save_
+00025230: 7061 7468 203d 206f 732e 7061 7468 2e6a  path = os.path.j
+00025240: 6f69 6e28 6469 725f 312c 2066 277b 7669  oin(dir_1, f'{vi
+00025250: 6465 6f5f 6e61 6d65 5f31 7d5f 7b76 6964  deo_name_1}_{vid
+00025260: 656f 5f6e 616d 655f 327d 5f63 726f 7373  eo_name_2}_cross
+00025270: 6661 6465 2e7b 6f75 745f 666f 726d 6174  fade.{out_format
+00025280: 7d27 290a 2020 2020 636d 6420 3d20 6627  }').    cmd = f'
+00025290: 6666 6d70 6567 202d 6920 227b 7669 6465  ffmpeg -i "{vide
+000252a0: 6f5f 7061 7468 5f31 7d22 202d 6920 227b  o_path_1}" -i "{
+000252b0: 7669 6465 6f5f 7061 7468 5f32 7d22 202d  video_path_2}" -
+000252c0: 6669 6c74 6572 5f63 6f6d 706c 6578 2022  filter_complex "
+000252d0: 7866 6164 653d 7472 616e 7369 7469 6f6e  xfade=transition
+000252e0: 3d7b 6372 6f73 7366 6164 655f 6d65 7468  ={crossfade_meth
+000252f0: 6f64 7d3a 6f66 6673 6574 3d7b 6372 6f73  od}:offset={cros
+00025300: 7366 6164 655f 6f66 6673 6574 7d3a 6475  sfade_offset}:du
+00025310: 7261 7469 6f6e 3d7b 6372 6f73 7366 6164  ration={crossfad
+00025320: 655f 6475 7261 7469 6f6e 7d22 202d 6372  e_duration}" -cr
+00025330: 6620 7b63 7266 7d20 227b 7361 7665 5f70  f {crf} "{save_p
+00025340: 6174 687d 2220 2d6c 6f67 6c65 7665 6c20  ath}" -loglevel 
+00025350: 6572 726f 7220 2d73 7461 7473 202d 6869  error -stats -hi
+00025360: 6465 5f62 616e 6e65 7220 2d79 270a 2020  de_banner -y'.  
+00025370: 2020 7375 6270 726f 6365 7373 2e63 616c    subprocess.cal
+00025380: 6c28 636d 642c 2073 6865 6c6c 3d54 7275  l(cmd, shell=Tru
+00025390: 652c 2073 7464 6f75 743d 7375 6270 726f  e, stdout=subpro
+000253a0: 6365 7373 2e50 4950 4529 0a20 2020 2074  cess.PIPE).    t
+000253b0: 696d 6572 2e73 746f 705f 7469 6d65 7228  imer.stop_timer(
+000253c0: 290a 2020 2020 7374 646f 7574 5f73 7563  ).    stdout_suc
+000253d0: 6365 7373 286d 7367 3d66 2743 726f 7373  cess(msg=f'Cross
+000253e0: 2d66 6164 6564 2076 6964 656f 2073 6176  -faded video sav
+000253f0: 6564 2061 7420 7b73 6176 655f 7061 7468  ed at {save_path
+00025400: 7d27 2c20 656c 6170 7365 645f 7469 6d65  }', elapsed_time
+00025410: 3d74 696d 6572 2e65 6c61 7073 6564 5f74  =timer.elapsed_t
+00025420: 696d 655f 7374 7229 0a0a 6465 6620 7761  ime_str)..def wa
+00025430: 7465 726d 6172 6b5f 7669 6465 6f28 7669  termark_video(vi
+00025440: 6465 6f5f 7061 7468 3a20 556e 696f 6e5b  deo_path: Union[
+00025450: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
+00025460: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00025470: 2020 2020 2020 2077 6174 6572 6d61 726b         watermark
+00025480: 5f70 6174 683a 2055 6e69 6f6e 5b73 7472  _path: Union[str
+00025490: 2c20 6f73 2e50 6174 684c 696b 655d 2c0a  , os.PathLike],.
+000254a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000254b0: 2020 2020 706f 7369 7469 6f6e 3a20 4f70      position: Op
+000254c0: 7469 6f6e 616c 5b4c 6974 6572 616c 5b27  tional[Literal['
+000254d0: 746f 705f 6c65 6674 272c 2027 626f 7474  top_left', 'bott
+000254e0: 6f6d 5f72 6967 6874 272c 2027 746f 705f  om_right', 'top_
+000254f0: 7269 6768 7427 2c20 2762 6f74 746f 6d5f  right', 'bottom_
+00025500: 6c65 6674 272c 2027 6365 6e74 6572 275d  left', 'center']
+00025510: 5d20 3d20 2774 6f70 5f6c 6566 7427 2c0a  ] = 'top_left',.
+00025520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025530: 2020 2020 6f70 6163 6974 793a 204f 7074      opacity: Opt
+00025540: 696f 6e61 6c5b 666c 6f61 745d 203d 2030  ional[float] = 0
+00025550: 2e35 2c0a 2020 2020 2020 2020 2020 2020  .5,.            
+00025560: 2020 2020 2020 2020 7363 616c 653a 204f          scale: O
+00025570: 7074 696f 6e61 6c5b 666c 6f61 745d 203d  ptional[float] =
+00025580: 2030 2e30 352c 0a20 2020 2020 2020 2020   0.05,.         
+00025590: 2020 2020 2020 2020 2020 2073 6176 655f             save_
+000255a0: 6469 723a 204f 7074 696f 6e61 6c5b 556e  dir: Optional[Un
+000255b0: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+000255c0: 4c69 6b65 5d5d 203d 204e 6f6e 6529 202d  Like]] = None) -
+000255d0: 3e20 4e6f 6e65 3a0a 2020 2020 2222 220a  > None:.    """.
+000255e0: 2020 2020 5761 7465 726d 6172 6b20 6120      Watermark a 
+000255f0: 7669 6465 6f20 6669 6c65 206f 7220 6120  video file or a 
+00025600: 6469 7265 6374 6f72 7920 6f66 2076 6964  directory of vid
+00025610: 656f 2066 696c 6573 2077 6974 6820 7370  eo files with sp
+00025620: 6563 6966 6965 6420 7761 7465 726d 6172  ecified watermar
+00025630: 6b20 7369 7a65 2c20 6f70 6163 6974 792c  k size, opacity,
+00025640: 2061 6e64 206c 6f63 6174 696f 6e2e 0a0a   and location...
+00025650: 2020 2020 2e2e 2076 6964 656f 3a3a 205f      .. video:: _
+00025660: 7374 6174 6963 2f69 6d67 2f77 6174 6572  static/img/water
+00025670: 6d61 726b 5f76 6964 656f 2e77 6562 6d0a  mark_video.webm.
+00025680: 2020 2020 2020 203a 7769 6474 683a 2039         :width: 9
+00025690: 3030 0a20 2020 2020 2020 3a6c 6f6f 703a  00.       :loop:
+000256a0: 0a0a 2020 2020 3a70 6172 616d 2055 6e69  ..    :param Uni
+000256b0: 6f6e 5b73 7472 2c20 6f73 2e50 6174 684c  on[str, os.PathL
+000256c0: 696b 655d 2076 6964 656f 5f70 6174 683a  ike] video_path:
+000256d0: 2054 6865 2070 6174 6820 746f 2074 6865   The path to the
+000256e0: 2076 6964 656f 2066 696c 6520 6f72 2070   video file or p
+000256f0: 6174 6820 746f 2064 6972 6563 746f 7279  ath to directory
+00025700: 2077 6974 6820 7669 6465 6f20 6669 6c65   with video file
+00025710: 732e 0a20 2020 203a 7061 7261 6d20 556e  s..    :param Un
+00025720: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+00025730: 4c69 6b65 5d20 7761 7465 726d 6172 6b5f  Like] watermark_
+00025740: 7061 7468 3a20 5468 6520 7061 7468 2074  path: The path t
+00025750: 6f20 7468 6520 7761 7465 726d 6172 6b20  o the watermark 
+00025760: 2e70 6e67 2066 696c 652e 0a20 2020 203a  .png file..    :
+00025770: 7061 7261 6d20 4f70 7469 6f6e 616c 5b73  param Optional[s
+00025780: 7472 5d20 706f 7369 7469 6f6e 3a20 5468  tr] position: Th
+00025790: 6520 706f 7369 7469 6f6e 206f 6620 7468  e position of th
+000257a0: 6520 7761 7465 726d 6172 6b2e 204f 7074  e watermark. Opt
+000257b0: 696f 6e73 3a20 2774 6f70 5f6c 6566 7427  ions: 'top_left'
+000257c0: 2c20 2762 6f74 746f 6d5f 7269 6768 7427  , 'bottom_right'
+000257d0: 2c20 2774 6f70 5f72 6967 6874 272c 2027  , 'top_right', '
+000257e0: 626f 7474 6f6d 5f6c 6566 7427 2c20 2763  bottom_left', 'c
+000257f0: 656e 7465 7227 0a20 2020 203a 7061 7261  enter'.    :para
+00025800: 6d20 4f70 7469 6f6e 616c 5b66 6c6f 6174  m Optional[float
+00025810: 5d20 6f70 6163 6974 793a 2054 6865 206f  ] opacity: The o
+00025820: 7061 6369 7479 206f 6620 7468 6520 7761  pacity of the wa
+00025830: 7465 726d 6172 6b20 6173 2061 2076 616c  termark as a val
+00025840: 7565 2062 6574 7765 656e 2030 2d31 2e30  ue between 0-1.0
+00025850: 2e20 312e 3020 6d65 616e 696e 6720 7468  . 1.0 meaning th
+00025860: 6520 7361 6d65 2061 7320 696e 7075 7420  e same as input 
+00025870: 696d 6167 652e 2044 6566 6175 6c74 3a20  image. Default: 
+00025880: 302e 352e 0a20 2020 203a 7061 7261 6d20  0.5..    :param 
+00025890: 4f70 7469 6f6e 616c 5b66 6c6f 6174 5d20  Optional[float] 
+000258a0: 7363 616c 653a 2054 6865 2073 6361 6c65  scale: The scale
+000258b0: 206f 6620 7468 6520 7761 7465 726d 6172   of the watermar
+000258c0: 6b20 6173 2061 2072 6174 696f 206f 7320  k as a ratio os 
+000258d0: 7468 6520 696d 6167 6520 7369 7a65 2e20  the image size. 
+000258e0: 4465 6661 756c 743a 2030 2e30 352e 0a20  Default: 0.05.. 
+000258f0: 2020 203a 7061 7261 6d20 4f70 7469 6f6e     :param Option
+00025900: 616c 5b55 6e69 6f6e 5b73 7472 2c20 6f73  al[Union[str, os
+00025910: 2e50 6174 684c 696b 655d 5d20 7361 7665  .PathLike]] save
+00025920: 5f64 6972 3a20 5468 6520 6c6f 6361 7469  _dir: The locati
+00025930: 6f6e 2077 6865 7265 2074 6f20 7361 7665  on where to save
+00025940: 2074 6865 2077 6174 6572 6d61 726b 6564   the watermarked
+00025950: 2076 6964 656f 2e20 4966 204e 6f6e 652c   video. If None,
+00025960: 2074 6865 6e20 7361 7665 7320 7468 6520   then saves the 
+00025970: 7669 6465 6f20 696e 2074 6865 2073 616d  video in the sam
+00025980: 6520 6469 7265 6374 6f72 7920 6173 2074  e directory as t
+00025990: 6865 2066 6972 7374 2076 6964 656f 2e0a  he first video..
+000259a0: 2020 2020 3a72 6574 7572 6e3a 204e 6f6e      :return: Non
+000259b0: 650a 0a20 2020 203a 6578 616d 706c 653a  e..    :example:
+000259c0: 0a20 2020 203e 3e3e 2077 6174 6572 6d61  .    >>> waterma
+000259d0: 726b 5f76 6964 656f 2876 6964 656f 5f70  rk_video(video_p
+000259e0: 6174 683d 272f 5573 6572 732f 7369 6d6f  ath='/Users/simo
+000259f0: 6e2f 4465 736b 746f 702f 656e 7673 2f73  n/Desktop/envs/s
+00025a00: 696d 6261 2f74 726f 7562 6c65 7368 6f6f  imba/troubleshoo
+00025a10: 7469 6e67 2f6d 756c 7469 5f61 6e69 6d61  ting/multi_anima
+00025a20: 6c5f 646c 635f 7477 6f5f 6335 372f 7072  l_dlc_two_c57/pr
+00025a30: 6f6a 6563 745f 666f 6c64 6572 2f76 6964  oject_folder/vid
+00025a40: 656f 732f 7761 7465 726d 6172 6b2f 546f  eos/watermark/To
+00025a50: 6765 7468 6572 5f31 5f70 6f77 6572 706f  gether_1_powerpo
+00025a60: 696e 7472 6561 6479 2e6d 7034 272c 2077  intready.mp4', w
+00025a70: 6174 6572 6d61 726b 5f70 6174 683d 272f  atermark_path='/
+00025a80: 5573 6572 732f 7369 6d6f 6e2f 4465 736b  Users/simon/Desk
+00025a90: 746f 702f 7370 6c61 7368 2e70 6e67 272c  top/splash.png',
+00025aa0: 2070 6f73 6974 696f 6e3d 2774 6f70 5f6c   position='top_l
+00025ab0: 6566 7427 2c20 6f70 6163 6974 793d 312e  eft', opacity=1.
+00025ac0: 302c 2073 6361 6c65 3d30 2e32 290a 2020  0, scale=0.2).  
+00025ad0: 2020 2222 220a 2020 2020 6368 6563 6b5f    """.    check_
+00025ae0: 6666 6d70 6567 5f61 7661 696c 6162 6c65  ffmpeg_available
+00025af0: 2872 6169 7365 5f65 7272 6f72 3d54 7275  (raise_error=Tru
+00025b00: 6529 0a20 2020 2074 696d 6572 203d 2053  e).    timer = S
+00025b10: 696d 6261 5469 6d65 7228 7374 6172 743d  imbaTimer(start=
+00025b20: 5472 7565 290a 2020 2020 504f 5349 5449  True).    POSITI
+00025b30: 4f4e 5320 3d20 5b27 746f 705f 6c65 6674  ONS = ['top_left
+00025b40: 272c 2027 626f 7474 6f6d 5f72 6967 6874  ', 'bottom_right
+00025b50: 272c 2027 746f 705f 7269 6768 7427 2c20  ', 'top_right', 
+00025b60: 2762 6f74 746f 6d5f 6c65 6674 272c 2027  'bottom_left', '
+00025b70: 6365 6e74 6572 275d 0a20 2020 2063 6865  center'].    che
+00025b80: 636b 5f66 6c6f 6174 286e 616d 653d 6627  ck_float(name=f'
+00025b90: 7b77 6174 6572 6d61 726b 5f76 6964 656f  {watermark_video
+00025ba0: 2e5f 5f6e 616d 655f 5f7d 206f 7061 6369  .__name__} opaci
+00025bb0: 7479 272c 2076 616c 7565 3d6f 7061 6369  ty', value=opaci
+00025bc0: 7479 2c20 6d69 6e5f 7661 6c75 653d 302e  ty, min_value=0.
+00025bd0: 3030 312c 206d 6178 5f76 616c 7565 3d31  001, max_value=1
+00025be0: 2e30 290a 2020 2020 6368 6563 6b5f 666c  .0).    check_fl
+00025bf0: 6f61 7428 6e61 6d65 3d66 277b 7761 7465  oat(name=f'{wate
+00025c00: 726d 6172 6b5f 7669 6465 6f2e 5f5f 6e61  rmark_video.__na
+00025c10: 6d65 5f5f 7d20 7363 616c 6527 2c20 7661  me__} scale', va
+00025c20: 6c75 653d 7363 616c 652c 206d 696e 5f76  lue=scale, min_v
+00025c30: 616c 7565 3d30 2e30 3031 2c20 6d61 785f  alue=0.001, max_
+00025c40: 7661 6c75 653d 302e 3939 3929 0a20 2020  value=0.999).   
+00025c50: 2063 6865 636b 5f73 7472 286e 616d 653d   check_str(name=
+00025c60: 6627 7b77 6174 6572 6d61 726b 5f76 6964  f'{watermark_vid
+00025c70: 656f 2e5f 5f6e 616d 655f 5f7d 2070 6f73  eo.__name__} pos
+00025c80: 6974 696f 6e27 2c20 7661 6c75 653d 706f  ition', value=po
+00025c90: 7369 7469 6f6e 2c20 6f70 7469 6f6e 733d  sition, options=
+00025ca0: 504f 5349 5449 4f4e 5329 0a20 2020 2063  POSITIONS).    c
+00025cb0: 6865 636b 5f66 696c 655f 6578 6973 745f  heck_file_exist_
+00025cc0: 616e 645f 7265 6164 6162 6c65 2866 696c  and_readable(fil
+00025cd0: 655f 7061 7468 3d77 6174 6572 6d61 726b  e_path=watermark
+00025ce0: 5f70 6174 6829 0a0a 2020 2020 6966 206f  _path)..    if o
+00025cf0: 732e 7061 7468 2e69 7366 696c 6528 7669  s.path.isfile(vi
+00025d00: 6465 6f5f 7061 7468 293a 0a20 2020 2020  deo_path):.     
+00025d10: 2020 2076 6964 656f 5f70 6174 6873 203d     video_paths =
+00025d20: 205b 7669 6465 6f5f 7061 7468 5d0a 2020   [video_path].  
+00025d30: 2020 656c 6966 206f 732e 7061 7468 2e69    elif os.path.i
+00025d40: 7364 6972 2876 6964 656f 5f70 6174 6829  sdir(video_path)
+00025d50: 3a0a 2020 2020 2020 2020 7669 6465 6f5f  :.        video_
+00025d60: 7061 7468 7320 3d20 6c69 7374 2866 696e  paths = list(fin
+00025d70: 645f 616c 6c5f 7669 6465 6f73 5f69 6e5f  d_all_videos_in_
+00025d80: 6469 7265 6374 6f72 7928 6469 7265 6374  directory(direct
+00025d90: 6f72 793d 7669 6465 6f5f 7061 7468 2c20  ory=video_path, 
+00025da0: 6173 5f64 6963 743d 5472 7565 2c20 7261  as_dict=True, ra
+00025db0: 6973 655f 6572 726f 723d 5472 7565 292e  ise_error=True).
+00025dc0: 7661 6c75 6573 2829 290a 2020 2020 656c  values()).    el
+00025dd0: 7365 3a0a 2020 2020 2020 2020 7261 6973  se:.        rais
+00025de0: 6520 496e 7661 6c69 6449 6e70 7574 4572  e InvalidInputEr
+00025df0: 726f 7228 6d73 673d 6627 7b76 6964 656f  ror(msg=f'{video
+00025e00: 5f70 6174 687d 2069 7320 6e6f 7420 6120  _path} is not a 
+00025e10: 7661 6c69 6420 6669 6c65 2070 6174 6820  valid file path 
+00025e20: 6f72 2061 2076 616c 6964 2064 6972 6563  or a valid direc
+00025e30: 746f 7279 2070 6174 6827 2c20 736f 7572  tory path', sour
+00025e40: 6365 3d77 6174 6572 6d61 726b 5f76 6964  ce=watermark_vid
+00025e50: 656f 2e5f 5f6e 616d 655f 5f29 0a20 2020  eo.__name__).   
+00025e60: 2069 6620 7361 7665 5f64 6972 2069 7320   if save_dir is 
+00025e70: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+00025e80: 2020 6368 6563 6b5f 6966 5f64 6972 5f65    check_if_dir_e
+00025e90: 7869 7374 7328 696e 5f64 6972 3d73 6176  xists(in_dir=sav
+00025ea0: 655f 6469 7229 0a20 2020 2065 6c73 653a  e_dir).    else:
+00025eb0: 0a20 2020 2020 2020 2073 6176 655f 6469  .        save_di
+00025ec0: 7220 3d20 6f73 2e70 6174 682e 6469 726e  r = os.path.dirn
+00025ed0: 616d 6528 7669 6465 6f5f 7061 7468 735b  ame(video_paths[
+00025ee0: 305d 290a 2020 2020 666f 7220 6669 6c65  0]).    for file
+00025ef0: 5f63 6e74 2c20 7669 6465 6f5f 7061 7468  _cnt, video_path
+00025f00: 2069 6e20 656e 756d 6572 6174 6528 7669   in enumerate(vi
+00025f10: 6465 6f5f 7061 7468 7329 3a0a 2020 2020  deo_paths):.    
+00025f20: 2020 2020 5f2c 2076 6964 656f 5f6e 616d      _, video_nam
+00025f30: 652c 2076 6964 656f 5f65 7874 203d 2067  e, video_ext = g
+00025f40: 6574 5f66 6e5f 6578 7428 7669 6465 6f5f  et_fn_ext(video_
+00025f50: 7061 7468 290a 2020 2020 2020 2020 5f20  path).        _ 
+00025f60: 3d20 6765 745f 7669 6465 6f5f 6d65 7461  = get_video_meta
+00025f70: 5f64 6174 6128 7669 6465 6f5f 7061 7468  _data(video_path
+00025f80: 3d76 6964 656f 5f70 6174 6829 0a20 2020  =video_path).   
+00025f90: 2020 2020 2070 7269 6e74 2866 2757 6174       print(f'Wat
+00025fa0: 6572 6d61 726b 696e 6720 7b76 6964 656f  ermarking {video
+00025fb0: 5f6e 616d 657d 2028 5669 6465 6f20 7b66  _name} (Video {f
+00025fc0: 696c 655f 636e 742b 317d 2f7b 6c65 6e28  ile_cnt+1}/{len(
+00025fd0: 7669 6465 6f5f 7061 7468 7329 7d29 2e2e  video_paths)})..
+00025fe0: 2e27 290a 2020 2020 2020 2020 6f75 745f  .').        out_
+00025ff0: 7061 7468 203d 206f 732e 7061 7468 2e6a  path = os.path.j
+00026000: 6f69 6e28 7361 7665 5f64 6972 2c20 6627  oin(save_dir, f'
+00026010: 7b76 6964 656f 5f6e 616d 657d 5f77 6174  {video_name}_wat
+00026020: 6572 6d61 726b 6564 7b76 6964 656f 5f65  ermarked{video_e
+00026030: 7874 7d27 290a 2020 2020 2020 2020 6966  xt}').        if
+00026040: 2070 6f73 6974 696f 6e20 3d3d 2050 4f53   position == POS
+00026050: 4954 494f 4e53 5b30 5d3a 0a20 2020 2020  ITIONS[0]:.     
+00026060: 2020 2020 2020 2063 6d64 203d 2066 2766         cmd = f'f
+00026070: 666d 7065 6720 2d69 2022 7b76 6964 656f  fmpeg -i "{video
+00026080: 5f70 6174 687d 2220 2d69 2022 7b77 6174  _path}" -i "{wat
+00026090: 6572 6d61 726b 5f70 6174 687d 2220 2d66  ermark_path}" -f
+000260a0: 696c 7465 725f 636f 6d70 6c65 7820 225b  ilter_complex "[
+000260b0: 313a 765d 7363 616c 653d 6977 2a7b 7363  1:v]scale=iw*{sc
+000260c0: 616c 657d 3a2d 312c 666f 726d 6174 3d72  ale}:-1,format=r
+000260d0: 6762 612c 636f 6c6f 7263 6861 6e6e 656c  gba,colorchannel
+000260e0: 6d69 7865 723d 6161 3d7b 6f70 6163 6974  mixer=aa={opacit
+000260f0: 797d 5b77 6d5d 3b5b 303a 765d 5b77 6d5d  y}[wm];[0:v][wm]
+00026100: 6f76 6572 6c61 793d 303a 3022 2022 7b6f  overlay=0:0" "{o
+00026110: 7574 5f70 6174 687d 2220 2d6c 6f67 6c65  ut_path}" -logle
+00026120: 7665 6c20 6572 726f 7220 2d73 7461 7473  vel error -stats
+00026130: 202d 6869 6465 5f62 616e 6e65 7220 2d79   -hide_banner -y
+00026140: 270a 2020 2020 2020 2020 656c 6966 2070  '.        elif p
+00026150: 6f73 6974 696f 6e20 3d3d 2050 4f53 4954  osition == POSIT
+00026160: 494f 4e53 5b31 5d3a 0a20 2020 2020 2020  IONS[1]:.       
+00026170: 2020 2020 2063 6d64 203d 2066 2766 666d       cmd = f'ffm
+00026180: 7065 6720 2d69 2022 7b76 6964 656f 5f70  peg -i "{video_p
+00026190: 6174 687d 2220 2d69 2022 7b77 6174 6572  ath}" -i "{water
+000261a0: 6d61 726b 5f70 6174 687d 2220 2d66 696c  mark_path}" -fil
+000261b0: 7465 725f 636f 6d70 6c65 7820 225b 313a  ter_complex "[1:
+000261c0: 765d 7363 616c 653d 6977 2a7b 7363 616c  v]scale=iw*{scal
+000261d0: 657d 3a2d 312c 666f 726d 6174 3d72 6762  e}:-1,format=rgb
+000261e0: 612c 636f 6c6f 7263 6861 6e6e 656c 6d69  a,colorchannelmi
+000261f0: 7865 723d 6161 3d7b 6f70 6163 6974 797d  xer=aa={opacity}
+00026200: 5b77 6d5d 3b5b 303a 765d 5b77 6d5d 6f76  [wm];[0:v][wm]ov
+00026210: 6572 6c61 793d 572d 773a 482d 6822 2022  erlay=W-w:H-h" "
+00026220: 7b6f 7574 5f70 6174 687d 2220 2d6c 6f67  {out_path}" -log
+00026230: 6c65 7665 6c20 6572 726f 7220 2d73 7461  level error -sta
+00026240: 7473 202d 6869 6465 5f62 616e 6e65 7220  ts -hide_banner 
+00026250: 2d79 270a 2020 2020 2020 2020 656c 6966  -y'.        elif
+00026260: 2070 6f73 6974 696f 6e20 3d3d 2050 4f53   position == POS
+00026270: 4954 494f 4e53 5b32 5d3a 0a20 2020 2020  ITIONS[2]:.     
+00026280: 2020 2020 2020 2063 6d64 203d 2066 2766         cmd = f'f
+00026290: 666d 7065 6720 2d69 2022 7b76 6964 656f  fmpeg -i "{video
+000262a0: 5f70 6174 687d 2220 2d69 2022 7b77 6174  _path}" -i "{wat
+000262b0: 6572 6d61 726b 5f70 6174 687d 2220 2d66  ermark_path}" -f
+000262c0: 696c 7465 725f 636f 6d70 6c65 7820 225b  ilter_complex "[
+000262d0: 313a 765d 7363 616c 653d 6977 2a7b 7363  1:v]scale=iw*{sc
+000262e0: 616c 657d 3a2d 312c 666f 726d 6174 3d72  ale}:-1,format=r
+000262f0: 6762 612c 636f 6c6f 7263 6861 6e6e 656c  gba,colorchannel
+00026300: 6d69 7865 723d 6161 3d7b 6f70 6163 6974  mixer=aa={opacit
+00026310: 797d 5b77 6d5d 3b5b 303a 765d 5b77 6d5d  y}[wm];[0:v][wm]
+00026320: 6f76 6572 6c61 793d 572d 772d 303a 3022  overlay=W-w-0:0"
+00026330: 2022 7b6f 7574 5f70 6174 687d 2220 2d6c   "{out_path}" -l
+00026340: 6f67 6c65 7665 6c20 6572 726f 7220 2d73  oglevel error -s
+00026350: 7461 7473 202d 6869 6465 5f62 616e 6e65  tats -hide_banne
+00026360: 7220 2d79 270a 2020 2020 2020 2020 656c  r -y'.        el
+00026370: 6966 2070 6f73 6974 696f 6e20 3d3d 2050  if position == P
+00026380: 4f53 4954 494f 4e53 5b33 5d3a 0a20 2020  OSITIONS[3]:.   
+00026390: 2020 2020 2020 2020 2063 6d64 203d 2066           cmd = f
+000263a0: 2766 666d 7065 6720 2d69 2022 7b76 6964  'ffmpeg -i "{vid
+000263b0: 656f 5f70 6174 687d 2220 2d69 2022 7b77  eo_path}" -i "{w
+000263c0: 6174 6572 6d61 726b 5f70 6174 687d 2220  atermark_path}" 
+000263d0: 2d66 696c 7465 725f 636f 6d70 6c65 7820  -filter_complex 
+000263e0: 225b 313a 765d 7363 616c 653d 6977 2a7b  "[1:v]scale=iw*{
+000263f0: 7363 616c 657d 3a2d 312c 666f 726d 6174  scale}:-1,format
+00026400: 3d72 6762 612c 636f 6c6f 7263 6861 6e6e  =rgba,colorchann
+00026410: 656c 6d69 7865 723d 6161 3d7b 6f70 6163  elmixer=aa={opac
+00026420: 6974 797d 5b77 6d5d 3b5b 303a 765d 5b77  ity}[wm];[0:v][w
+00026430: 6d5d 6f76 6572 6c61 793d 303a 482d 682d  m]overlay=0:H-h-
+00026440: 3022 2022 7b6f 7574 5f70 6174 687d 2220  0" "{out_path}" 
+00026450: 2d6c 6f67 6c65 7665 6c20 6572 726f 7220  -loglevel error 
+00026460: 2d73 7461 7473 202d 6869 6465 5f62 616e  -stats -hide_ban
+00026470: 6e65 7220 2d79 270a 2020 2020 2020 2020  ner -y'.        
+00026480: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00026490: 2020 636d 6420 3d20 6627 6666 6d70 6567    cmd = f'ffmpeg
+000264a0: 202d 6920 227b 7669 6465 6f5f 7061 7468   -i "{video_path
+000264b0: 7d22 202d 6920 227b 7761 7465 726d 6172  }" -i "{watermar
+000264c0: 6b5f 7061 7468 7d22 202d 6669 6c74 6572  k_path}" -filter
+000264d0: 5f63 6f6d 706c 6578 2022 5b31 3a76 5d73  _complex "[1:v]s
+000264e0: 6361 6c65 3d69 772a 7b73 6361 6c65 7d3a  cale=iw*{scale}:
+000264f0: 2d31 2c66 6f72 6d61 743d 7267 6261 2c63  -1,format=rgba,c
+00026500: 6f6c 6f72 6368 616e 6e65 6c6d 6978 6572  olorchannelmixer
+00026510: 3d61 613d 7b6f 7061 6369 7479 7d5b 776d  =aa={opacity}[wm
+00026520: 5d3b 5b30 3a76 5d5b 776d 5d6f 7665 726c  ];[0:v][wm]overl
+00026530: 6179 3d28 572d 7729 2f32 3a28 482d 6829  ay=(W-w)/2:(H-h)
+00026540: 2f32 2220 227b 6f75 745f 7061 7468 7d22  /2" "{out_path}"
+00026550: 202d 6c6f 676c 6576 656c 2065 7272 6f72   -loglevel error
+00026560: 202d 7374 6174 7320 2d68 6964 655f 6261   -stats -hide_ba
+00026570: 6e6e 6572 202d 7927 0a20 2020 2020 2020  nner -y'.       
+00026580: 2073 7562 7072 6f63 6573 732e 6361 6c6c   subprocess.call
+00026590: 2863 6d64 2c20 7368 656c 6c3d 5472 7565  (cmd, shell=True
+000265a0: 2c20 7374 646f 7574 3d73 7562 7072 6f63  , stdout=subproc
+000265b0: 6573 732e 5049 5045 290a 2020 2020 7469  ess.PIPE).    ti
+000265c0: 6d65 722e 7374 6f70 5f74 696d 6572 2829  mer.stop_timer()
+000265d0: 0a20 2020 2073 7464 6f75 745f 7375 6363  .    stdout_succ
+000265e0: 6573 7328 6d73 673d 6627 7b6c 656e 2876  ess(msg=f'{len(v
+000265f0: 6964 656f 5f70 6174 6873 297d 2077 6174  ideo_paths)} wat
+00026600: 6572 6d61 726b 6564 2076 6964 656f 2873  ermarked video(s
+00026610: 2920 7361 7665 6420 696e 207b 7361 7665  ) saved in {save
+00026620: 5f64 6972 7d27 2c20 656c 6170 7365 645f  _dir}', elapsed_
+00026630: 7469 6d65 3d74 696d 6572 2e65 6c61 7073  time=timer.elaps
+00026640: 6564 5f74 696d 655f 7374 7229 0a0a 6465  ed_time_str)..de
+00026650: 6620 7375 7065 7269 6d70 6f73 655f 6f76  f superimpose_ov
+00026660: 6572 6c61 795f 7669 6465 6f28 7669 6465  erlay_video(vide
+00026670: 6f5f 7061 7468 3a20 556e 696f 6e5b 7374  o_path: Union[st
+00026680: 722c 206f 732e 5061 7468 4c69 6b65 5d2c  r, os.PathLike],
+00026690: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000266a0: 2020 2020 2020 2020 2020 2020 2020 206f                 o
+000266b0: 7665 726c 6179 5f76 6964 656f 5f70 6174  verlay_video_pat
+000266c0: 683a 2055 6e69 6f6e 5b73 7472 2c20 6f73  h: Union[str, os
+000266d0: 2e50 6174 684c 696b 655d 2c0a 2020 2020  .PathLike],.    
+000266e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000266f0: 2020 2020 2020 2020 2020 706f 7369 7469            positi
+00026700: 6f6e 3a20 4f70 7469 6f6e 616c 5b4c 6974  on: Optional[Lit
+00026710: 6572 616c 5b27 746f 705f 6c65 6674 272c  eral['top_left',
+00026720: 2027 626f 7474 6f6d 5f72 6967 6874 272c   'bottom_right',
+00026730: 2027 746f 705f 7269 6768 7427 2c20 2762   'top_right', 'b
+00026740: 6f74 746f 6d5f 6c65 6674 272c 2027 6365  ottom_left', 'ce
+00026750: 6e74 6572 275d 5d20 3d20 2774 6f70 5f6c  nter']] = 'top_l
+00026760: 6566 7427 2c0a 2020 2020 2020 2020 2020  eft',.          
+00026770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026780: 2020 2020 6f70 6163 6974 793a 204f 7074      opacity: Opt
+00026790: 696f 6e61 6c5b 666c 6f61 745d 203d 2030  ional[float] = 0
+000267a0: 2e35 2c0a 2020 2020 2020 2020 2020 2020  .5,.            
+000267b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000267c0: 2020 7363 616c 653a 204f 7074 696f 6e61    scale: Optiona
+000267d0: 6c5b 666c 6f61 745d 203d 2030 2e30 352c  l[float] = 0.05,
+000267e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000267f0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00026800: 6176 655f 6469 723a 204f 7074 696f 6e61  ave_dir: Optiona
+00026810: 6c5b 556e 696f 6e5b 7374 722c 206f 732e  l[Union[str, os.
+00026820: 5061 7468 4c69 6b65 5d5d 203d 204e 6f6e  PathLike]] = Non
+00026830: 6529 202d 3e20 4e6f 6e65 3a0a 2020 2020  e) -> None:.    
+00026840: 2222 220a 2020 2020 496e 7365 7420 6120  """.    Inset a 
+00026850: 7669 6465 6f20 6f76 6572 6c61 7920 6f6e  video overlay on
+00026860: 2061 2073 6563 6f6e 6420 7669 6465 6f20   a second video 
+00026870: 7769 7468 2073 7065 6369 6669 6564 2073  with specified s
+00026880: 697a 652c 206f 7061 6369 7479 2c20 616e  ize, opacity, an
+00026890: 6420 6c6f 6361 7469 6f6e 2e0a 0a20 2020  d location...   
+000268a0: 202e 2e20 7669 6465 6f3a 3a20 5f73 7461   .. video:: _sta
+000268b0: 7469 632f 696d 672f 696e 7365 745f 6f76  tic/img/inset_ov
+000268c0: 6572 6c61 795f 7669 6465 6f2e 7765 626d  erlay_video.webm
+000268d0: 0a20 2020 2020 2020 3a77 6964 7468 3a20  .       :width: 
+000268e0: 3730 300a 2020 2020 2020 203a 6c6f 6f70  700.       :loop
+000268f0: 3a0a 0a20 2020 203a 7061 7261 6d20 556e  :..    :param Un
+00026900: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+00026910: 4c69 6b65 5d20 7669 6465 6f5f 7061 7468  Like] video_path
+00026920: 3a20 5468 6520 7061 7468 2074 6f20 7468  : The path to th
+00026930: 6520 7669 6465 6f20 6669 6c65 2e0a 2020  e video file..  
+00026940: 2020 3a70 6172 616d 2055 6e69 6f6e 5b73    :param Union[s
+00026950: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
+00026960: 206f 7665 726c 6179 5f76 6964 656f 5f70   overlay_video_p
+00026970: 6174 683a 2054 6865 2070 6174 6820 746f  ath: The path to
+00026980: 2076 6964 656f 2074 6f20 6265 2069 6e73   video to be ins
+00026990: 6572 7465 6420 696e 746f 2074 6865 2060  erted into the `
+000269a0: 6076 6964 656f 5f70 6174 6860 6020 7669  `video_path`` vi
+000269b0: 6465 6f2e 0a20 2020 203a 7061 7261 6d20  deo..    :param 
+000269c0: 4f70 7469 6f6e 616c 5b73 7472 5d20 706f  Optional[str] po
+000269d0: 7369 7469 6f6e 3a20 5468 6520 706f 7369  sition: The posi
+000269e0: 7469 6f6e 206f 6620 7468 6520 696e 7365  tion of the inse
+000269f0: 7420 6f76 6572 6c61 7920 7669 6465 6f2e  t overlay video.
+00026a00: 204f 7074 696f 6e73 3a20 2774 6f70 5f6c   Options: 'top_l
+00026a10: 6566 7427 2c20 2762 6f74 746f 6d5f 7269  eft', 'bottom_ri
+00026a20: 6768 7427 2c20 2774 6f70 5f72 6967 6874  ght', 'top_right
+00026a30: 272c 2027 626f 7474 6f6d 5f6c 6566 7427  ', 'bottom_left'
+00026a40: 2c20 2763 656e 7465 7227 0a20 2020 203a  , 'center'.    :
+00026a50: 7061 7261 6d20 4f70 7469 6f6e 616c 5b66  param Optional[f
+00026a60: 6c6f 6174 5d20 6f70 6163 6974 793a 2054  loat] opacity: T
+00026a70: 6865 206f 7061 6369 7479 206f 6620 7468  he opacity of th
+00026a80: 6520 696e 7365 7420 6f76 6572 6c61 7920  e inset overlay 
+00026a90: 7669 6465 6f20 6173 2061 2076 616c 7565  video as a value
+00026aa0: 2062 6574 7765 656e 2030 2d31 2e30 2e20   between 0-1.0. 
+00026ab0: 312e 3020 6d65 616e 696e 6720 7468 6520  1.0 meaning the 
+00026ac0: 7361 6d65 2061 7320 696e 7075 7420 696d  same as input im
+00026ad0: 6167 652e 2044 6566 6175 6c74 3a20 302e  age. Default: 0.
+00026ae0: 352e 0a20 2020 203a 7061 7261 6d20 4f70  5..    :param Op
+00026af0: 7469 6f6e 616c 5b66 6c6f 6174 5d20 7363  tional[float] sc
+00026b00: 616c 653a 2054 6865 2073 6361 6c65 206f  ale: The scale o
+00026b10: 6620 7468 6520 696e 7365 7420 6f76 6572  f the inset over
+00026b20: 6c61 7920 7669 6465 6f20 6173 2061 2072  lay video as a r
+00026b30: 6174 696f 206f 7320 7468 6520 696d 6167  atio os the imag
+00026b40: 6520 7369 7a65 2e20 4465 6661 756c 743a  e size. Default:
+00026b50: 2030 2e30 352e 0a20 2020 203a 7061 7261   0.05..    :para
+00026b60: 6d20 4f70 7469 6f6e 616c 5b55 6e69 6f6e  m Optional[Union
+00026b70: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
+00026b80: 655d 5d20 7361 7665 5f64 6972 3a20 5468  e]] save_dir: Th
+00026b90: 6520 6c6f 6361 7469 6f6e 2077 6865 7265  e location where
+00026ba0: 2074 6f20 7361 7665 2074 6865 206f 7574   to save the out
+00026bb0: 7075 7420 7669 6465 6f2e 2049 6620 4e6f  put video. If No
+00026bc0: 6e65 2c20 7468 656e 2073 6176 6573 2074  ne, then saves t
+00026bd0: 6865 2076 6964 656f 2069 6e20 7468 6520  he video in the 
+00026be0: 7361 6d65 2064 6972 6563 746f 7279 2061  same directory a
+00026bf0: 7320 7468 6520 6669 7273 7420 7669 6465  s the first vide
+00026c00: 6f2e 0a20 2020 203a 7265 7475 726e 3a20  o..    :return: 
+00026c10: 4e6f 6e65 0a0a 2020 2020 3a65 7861 6d70  None..    :examp
+00026c20: 6c65 3a0a 2020 2020 3e3e 3e20 7375 7065  le:.    >>> supe
+00026c30: 7269 6d70 6f73 655f 6f76 6572 6c61 795f  rimpose_overlay_
+00026c40: 7669 6465 6f28 7669 6465 6f5f 7061 7468  video(video_path
+00026c50: 3d27 2f55 7365 7273 2f73 696d 6f6e 2f44  ='/Users/simon/D
+00026c60: 6573 6b74 6f70 2f65 6e76 732f 7369 6d62  esktop/envs/simb
+00026c70: 612f 7472 6f75 626c 6573 686f 6f74 696e  a/troubleshootin
+00026c80: 672f 6d75 6c74 695f 616e 696d 616c 5f64  g/multi_animal_d
+00026c90: 6c63 5f74 776f 5f63 3537 2f70 726f 6a65  lc_two_c57/proje
+00026ca0: 6374 5f66 6f6c 6465 722f 7669 6465 6f73  ct_folder/videos
+00026cb0: 2f77 6174 6572 6d61 726b 2f54 6f67 6574  /watermark/Toget
+00026cc0: 6865 725f 315f 706f 7765 7270 6f69 6e74  her_1_powerpoint
+00026cd0: 7265 6164 792e 6d70 3427 2c20 6f76 6572  ready.mp4', over
+00026ce0: 6c61 795f 7669 6465 6f5f 7061 7468 3d27  lay_video_path='
+00026cf0: 2f55 7365 7273 2f73 696d 6f6e 2f44 6573  /Users/simon/Des
+00026d00: 6b74 6f70 2f73 706c 6173 682e 706e 6727  ktop/splash.png'
+00026d10: 2c20 706f 7369 7469 6f6e 3d27 746f 705f  , position='top_
+00026d20: 6c65 6674 272c 206f 7061 6369 7479 3d31  left', opacity=1
+00026d30: 2e30 2c20 7363 616c 653d 302e 3229 0a20  .0, scale=0.2). 
+00026d40: 2020 2022 2222 0a0a 2020 2020 7469 6d65     """..    time
+00026d50: 7220 3d20 5369 6d62 6154 696d 6572 2873  r = SimbaTimer(s
+00026d60: 7461 7274 3d54 7275 6529 0a20 2020 2050  tart=True).    P
+00026d70: 4f53 4954 494f 4e53 203d 205b 2774 6f70  OSITIONS = ['top
+00026d80: 5f6c 6566 7427 2c20 2762 6f74 746f 6d5f  _left', 'bottom_
+00026d90: 7269 6768 7427 2c20 2774 6f70 5f72 6967  right', 'top_rig
+00026da0: 6874 272c 2027 626f 7474 6f6d 5f6c 6566  ht', 'bottom_lef
+00026db0: 7427 2c20 2763 656e 7465 7227 5d0a 2020  t', 'center'].  
+00026dc0: 2020 6368 6563 6b5f 666c 6f61 7428 6e61    check_float(na
+00026dd0: 6d65 3d66 277b 7375 7065 7269 6d70 6f73  me=f'{superimpos
+00026de0: 655f 6f76 6572 6c61 795f 7669 6465 6f2e  e_overlay_video.
+00026df0: 5f5f 6e61 6d65 5f5f 7d20 6f70 6163 6974  __name__} opacit
+00026e00: 7927 2c20 7661 6c75 653d 6f70 6163 6974  y', value=opacit
+00026e10: 792c 206d 696e 5f76 616c 7565 3d30 2e30  y, min_value=0.0
+00026e20: 3031 2c20 6d61 785f 7661 6c75 653d 312e  01, max_value=1.
+00026e30: 3029 0a20 2020 2063 6865 636b 5f66 6c6f  0).    check_flo
+00026e40: 6174 286e 616d 653d 6627 7b73 7570 6572  at(name=f'{super
+00026e50: 696d 706f 7365 5f6f 7665 726c 6179 5f76  impose_overlay_v
+00026e60: 6964 656f 2e5f 5f6e 616d 655f 5f7d 2073  ideo.__name__} s
+00026e70: 6361 6c65 272c 2076 616c 7565 3d73 6361  cale', value=sca
+00026e80: 6c65 2c20 6d69 6e5f 7661 6c75 653d 302e  le, min_value=0.
+00026e90: 3030 312c 206d 6178 5f76 616c 7565 3d30  001, max_value=0
+00026ea0: 2e39 3939 290a 2020 2020 6368 6563 6b5f  .999).    check_
+00026eb0: 7374 7228 6e61 6d65 3d66 277b 7375 7065  str(name=f'{supe
+00026ec0: 7269 6d70 6f73 655f 6f76 6572 6c61 795f  rimpose_overlay_
+00026ed0: 7669 6465 6f2e 5f5f 6e61 6d65 5f5f 7d20  video.__name__} 
+00026ee0: 706f 7369 7469 6f6e 272c 2076 616c 7565  position', value
+00026ef0: 3d70 6f73 6974 696f 6e2c 206f 7074 696f  =position, optio
+00026f00: 6e73 3d50 4f53 4954 494f 4e53 290a 2020  ns=POSITIONS).  
+00026f10: 2020 6368 6563 6b5f 6669 6c65 5f65 7869    check_file_exi
+00026f20: 7374 5f61 6e64 5f72 6561 6461 626c 6528  st_and_readable(
+00026f30: 6669 6c65 5f70 6174 683d 7669 6465 6f5f  file_path=video_
+00026f40: 7061 7468 290a 2020 2020 6368 6563 6b5f  path).    check_
+00026f50: 6669 6c65 5f65 7869 7374 5f61 6e64 5f72  file_exist_and_r
+00026f60: 6561 6461 626c 6528 6669 6c65 5f70 6174  eadable(file_pat
+00026f70: 683d 6f76 6572 6c61 795f 7669 6465 6f5f  h=overlay_video_
+00026f80: 7061 7468 290a 0a20 2020 2069 6620 6f73  path)..    if os
+00026f90: 2e70 6174 682e 6973 6669 6c65 2876 6964  .path.isfile(vid
+00026fa0: 656f 5f70 6174 6829 3a0a 2020 2020 2020  eo_path):.      
+00026fb0: 2020 7669 6465 6f5f 7061 7468 7320 3d20    video_paths = 
+00026fc0: 5b76 6964 656f 5f70 6174 685d 0a20 2020  [video_path].   
+00026fd0: 2065 6c69 6620 6f73 2e70 6174 682e 6973   elif os.path.is
+00026fe0: 6469 7228 7669 6465 6f5f 7061 7468 293a  dir(video_path):
+00026ff0: 0a20 2020 2020 2020 2076 6964 656f 5f70  .        video_p
+00027000: 6174 6873 203d 206c 6973 7428 6669 6e64  aths = list(find
+00027010: 5f61 6c6c 5f76 6964 656f 735f 696e 5f64  _all_videos_in_d
+00027020: 6972 6563 746f 7279 2864 6972 6563 746f  irectory(directo
+00027030: 7279 3d76 6964 656f 5f70 6174 682c 2061  ry=video_path, a
+00027040: 735f 6469 6374 3d54 7275 652c 2072 6169  s_dict=True, rai
+00027050: 7365 5f65 7272 6f72 3d54 7275 6529 2e76  se_error=True).v
+00027060: 616c 7565 7328 2929 0a20 2020 2065 6c73  alues()).    els
+00027070: 653a 0a20 2020 2020 2020 2072 6169 7365  e:.        raise
+00027080: 2049 6e76 616c 6964 496e 7075 7445 7272   InvalidInputErr
+00027090: 6f72 286d 7367 3d66 277b 7669 6465 6f5f  or(msg=f'{video_
+000270a0: 7061 7468 7d20 6973 206e 6f74 2061 2076  path} is not a v
+000270b0: 616c 6964 2066 696c 6520 7061 7468 206f  alid file path o
+000270c0: 7220 6120 7661 6c69 6420 6469 7265 6374  r a valid direct
+000270d0: 6f72 7920 7061 7468 272c 0a20 2020 2020  ory path',.     
+000270e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000270f0: 2020 2020 2020 2020 2020 2073 6f75 7263             sourc
+00027100: 653d 7375 7065 7269 6d70 6f73 655f 6f76  e=superimpose_ov
+00027110: 6572 6c61 795f 7669 6465 6f2e 5f5f 6e61  erlay_video.__na
+00027120: 6d65 5f5f 290a 2020 2020 6966 2073 6176  me__).    if sav
+00027130: 655f 6469 7220 6973 206e 6f74 204e 6f6e  e_dir is not Non
+00027140: 653a 0a20 2020 2020 2020 2063 6865 636b  e:.        check
+00027150: 5f69 665f 6469 725f 6578 6973 7473 2869  _if_dir_exists(i
+00027160: 6e5f 6469 723d 7361 7665 5f64 6972 290a  n_dir=save_dir).
+00027170: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00027180: 2020 7361 7665 5f64 6972 203d 206f 732e    save_dir = os.
+00027190: 7061 7468 2e64 6972 6e61 6d65 2876 6964  path.dirname(vid
+000271a0: 656f 5f70 6174 6873 5b30 5d29 0a20 2020  eo_paths[0]).   
+000271b0: 2066 6f72 2066 696c 655f 636e 742c 2076   for file_cnt, v
+000271c0: 6964 656f 5f70 6174 6820 696e 2065 6e75  ideo_path in enu
+000271d0: 6d65 7261 7465 2876 6964 656f 5f70 6174  merate(video_pat
+000271e0: 6873 293a 0a20 2020 2020 2020 205f 2c20  hs):.        _, 
+000271f0: 7669 6465 6f5f 6e61 6d65 2c20 7669 6465  video_name, vide
+00027200: 6f5f 6578 7420 3d20 6765 745f 666e 5f65  o_ext = get_fn_e
+00027210: 7874 2876 6964 656f 5f70 6174 6829 0a20  xt(video_path). 
+00027220: 2020 2020 2020 205f 203d 2067 6574 5f76         _ = get_v
+00027230: 6964 656f 5f6d 6574 615f 6461 7461 2876  ideo_meta_data(v
+00027240: 6964 656f 5f70 6174 683d 7669 6465 6f5f  ideo_path=video_
+00027250: 7061 7468 290a 2020 2020 2020 2020 7072  path).        pr
+00027260: 696e 7428 6627 496e 7365 7274 696e 6720  int(f'Inserting 
+00027270: 6f76 6572 6c61 7920 6f6e 746f 207b 7669  overlay onto {vi
+00027280: 6465 6f5f 6e61 6d65 7d20 2856 6964 656f  deo_name} (Video
+00027290: 207b 6669 6c65 5f63 6e74 202b 2031 7d2f   {file_cnt + 1}/
+000272a0: 7b6c 656e 2876 6964 656f 5f70 6174 6873  {len(video_paths
+000272b0: 297d 292e 2e2e 2729 0a20 2020 2020 2020  )})...').       
+000272c0: 206f 7574 5f70 6174 6820 3d20 6f73 2e70   out_path = os.p
+000272d0: 6174 682e 6a6f 696e 2873 6176 655f 6469  ath.join(save_di
+000272e0: 722c 2066 277b 7669 6465 6f5f 6e61 6d65  r, f'{video_name
+000272f0: 7d5f 696e 7365 745f 6f76 6572 6c61 797b  }_inset_overlay{
+00027300: 7669 6465 6f5f 6578 747d 2729 0a20 2020  video_ext}').   
+00027310: 2020 2020 2069 6620 706f 7369 7469 6f6e       if position
+00027320: 203d 3d20 504f 5349 5449 4f4e 535b 305d   == POSITIONS[0]
+00027330: 3a0a 2020 2020 2020 2020 2020 2020 636d  :.            cm
+00027340: 6420 3d20 6627 6666 6d70 6567 202d 6920  d = f'ffmpeg -i 
+00027350: 227b 7669 6465 6f5f 7061 7468 7d22 202d  "{video_path}" -
+00027360: 6920 227b 6f76 6572 6c61 795f 7669 6465  i "{overlay_vide
+00027370: 6f5f 7061 7468 7d22 202d 6669 6c74 6572  o_path}" -filter
+00027380: 5f63 6f6d 706c 6578 2022 5b31 3a76 5d73  _complex "[1:v]s
+00027390: 6361 6c65 3d69 772a 7b73 6361 6c65 7d3a  cale=iw*{scale}:
+000273a0: 2d31 2c66 6f72 6d61 743d 7267 6261 2c63  -1,format=rgba,c
+000273b0: 6f6c 6f72 6368 616e 6e65 6c6d 6978 6572  olorchannelmixer
+000273c0: 3d61 613d 7b6f 7061 6369 7479 7d5b 696e  =aa={opacity}[in
+000273d0: 7365 745d 3b5b 303a 765d 5b69 6e73 6574  set];[0:v][inset
+000273e0: 5d6f 7665 726c 6179 3d30 3a30 2220 227b  ]overlay=0:0" "{
+000273f0: 6f75 745f 7061 7468 7d22 202d 6c6f 676c  out_path}" -logl
+00027400: 6576 656c 2065 7272 6f72 202d 7374 6174  evel error -stat
+00027410: 7320 2d68 6964 655f 6261 6e6e 6572 202d  s -hide_banner -
+00027420: 7927 0a20 2020 2020 2020 2065 6c69 6620  y'.        elif 
+00027430: 706f 7369 7469 6f6e 203d 3d20 504f 5349  position == POSI
+00027440: 5449 4f4e 535b 315d 3a0a 2020 2020 2020  TIONS[1]:.      
+00027450: 2020 2020 2020 636d 6420 3d20 6627 6666        cmd = f'ff
+00027460: 6d70 6567 202d 6920 227b 7669 6465 6f5f  mpeg -i "{video_
+00027470: 7061 7468 7d22 202d 6920 227b 6f76 6572  path}" -i "{over
+00027480: 6c61 795f 7669 6465 6f5f 7061 7468 7d22  lay_video_path}"
+00027490: 202d 6669 6c74 6572 5f63 6f6d 706c 6578   -filter_complex
+000274a0: 2022 5b31 3a76 5d73 6361 6c65 3d69 772a   "[1:v]scale=iw*
+000274b0: 7b73 6361 6c65 7d3a 2d31 2c66 6f72 6d61  {scale}:-1,forma
+000274c0: 743d 7267 6261 2c63 6f6c 6f72 6368 616e  t=rgba,colorchan
+000274d0: 6e65 6c6d 6978 6572 3d61 613d 7b6f 7061  nelmixer=aa={opa
+000274e0: 6369 7479 7d5b 696e 7365 745d 3b5b 303a  city}[inset];[0:
+000274f0: 765d 5b69 6e73 6574 5d6f 7665 726c 6179  v][inset]overlay
+00027500: 3d57 2d77 3a48 2d68 2220 227b 6f75 745f  =W-w:H-h" "{out_
+00027510: 7061 7468 7d22 202d 6c6f 676c 6576 656c  path}" -loglevel
+00027520: 2065 7272 6f72 202d 7374 6174 7320 2d68   error -stats -h
+00027530: 6964 655f 6261 6e6e 6572 202d 7927 0a20  ide_banner -y'. 
+00027540: 2020 2020 2020 2065 6c69 6620 706f 7369         elif posi
+00027550: 7469 6f6e 203d 3d20 504f 5349 5449 4f4e  tion == POSITION
+00027560: 535b 325d 3a0a 2020 2020 2020 2020 2020  S[2]:.          
+00027570: 2020 636d 6420 3d20 6627 6666 6d70 6567    cmd = f'ffmpeg
+00027580: 202d 6920 227b 7669 6465 6f5f 7061 7468   -i "{video_path
+00027590: 7d22 202d 6920 227b 6f76 6572 6c61 795f  }" -i "{overlay_
+000275a0: 7669 6465 6f5f 7061 7468 7d22 202d 6669  video_path}" -fi
+000275b0: 6c74 6572 5f63 6f6d 706c 6578 2022 5b31  lter_complex "[1
+000275c0: 3a76 5d73 6361 6c65 3d69 772a 7b73 6361  :v]scale=iw*{sca
+000275d0: 6c65 7d3a 2d31 2c66 6f72 6d61 743d 7267  le}:-1,format=rg
+000275e0: 6261 2c63 6f6c 6f72 6368 616e 6e65 6c6d  ba,colorchannelm
+000275f0: 6978 6572 3d61 613d 7b6f 7061 6369 7479  ixer=aa={opacity
+00027600: 7d5b 696e 7365 745d 3b5b 303a 765d 5b69  }[inset];[0:v][i
+00027610: 6e73 6574 5d6f 7665 726c 6179 3d57 2d77  nset]overlay=W-w
+00027620: 3a30 2220 227b 6f75 745f 7061 7468 7d22  :0" "{out_path}"
+00027630: 202d 6c6f 676c 6576 656c 2065 7272 6f72   -loglevel error
+00027640: 202d 7374 6174 7320 2d68 6964 655f 6261   -stats -hide_ba
+00027650: 6e6e 6572 202d 7927 0a20 2020 2020 2020  nner -y'.       
+00027660: 2065 6c69 6620 706f 7369 7469 6f6e 203d   elif position =
+00027670: 3d20 504f 5349 5449 4f4e 535b 335d 3a0a  = POSITIONS[3]:.
+00027680: 2020 2020 2020 2020 2020 2020 636d 6420              cmd 
+00027690: 3d20 6627 6666 6d70 6567 202d 6920 227b  = f'ffmpeg -i "{
+000276a0: 7669 6465 6f5f 7061 7468 7d22 202d 6920  video_path}" -i 
+000276b0: 227b 6f76 6572 6c61 795f 7669 6465 6f5f  "{overlay_video_
+000276c0: 7061 7468 7d22 202d 6669 6c74 6572 5f63  path}" -filter_c
+000276d0: 6f6d 706c 6578 2022 5b31 3a76 5d73 6361  omplex "[1:v]sca
+000276e0: 6c65 3d69 772a 7b73 6361 6c65 7d3a 2d31  le=iw*{scale}:-1
+000276f0: 2c66 6f72 6d61 743d 7267 6261 2c63 6f6c  ,format=rgba,col
+00027700: 6f72 6368 616e 6e65 6c6d 6978 6572 3d61  orchannelmixer=a
+00027710: 613d 7b6f 7061 6369 7479 7d5b 696e 7365  a={opacity}[inse
+00027720: 745d 3b5b 303a 765d 5b69 6e73 6574 5d6f  t];[0:v][inset]o
+00027730: 7665 726c 6179 3d30 3a48 2d68 2220 227b  verlay=0:H-h" "{
+00027740: 6f75 745f 7061 7468 7d22 202d 6c6f 676c  out_path}" -logl
+00027750: 6576 656c 2065 7272 6f72 202d 7374 6174  evel error -stat
+00027760: 7320 2d68 6964 655f 6261 6e6e 6572 202d  s -hide_banner -
+00027770: 7927 0a20 2020 2020 2020 2065 6c73 653a  y'.        else:
+00027780: 0a20 2020 2020 2020 2020 2020 2063 6d64  .            cmd
+00027790: 203d 2066 2766 666d 7065 6720 2d69 2022   = f'ffmpeg -i "
+000277a0: 7b76 6964 656f 5f70 6174 687d 2220 2d69  {video_path}" -i
+000277b0: 2022 7b6f 7665 726c 6179 5f76 6964 656f   "{overlay_video
+000277c0: 5f70 6174 687d 2220 2d66 696c 7465 725f  _path}" -filter_
+000277d0: 636f 6d70 6c65 7820 225b 313a 765d 7363  complex "[1:v]sc
+000277e0: 616c 653d 6977 2a7b 7363 616c 657d 3a2d  ale=iw*{scale}:-
+000277f0: 312c 666f 726d 6174 3d72 6762 612c 636f  1,format=rgba,co
+00027800: 6c6f 7263 6861 6e6e 656c 6d69 7865 723d  lorchannelmixer=
+00027810: 6161 3d7b 6f70 6163 6974 797d 5b69 6e73  aa={opacity}[ins
+00027820: 6574 5d3b 5b30 3a76 5d5b 696e 7365 745d  et];[0:v][inset]
+00027830: 6f76 6572 6c61 793d 2857 2d77 292f 323a  overlay=(W-w)/2:
+00027840: 2848 2d68 292f 3222 2022 7b6f 7574 5f70  (H-h)/2" "{out_p
+00027850: 6174 687d 2220 2d6c 6f67 6c65 7665 6c20  ath}" -loglevel 
+00027860: 6572 726f 7220 2d73 7461 7473 202d 6869  error -stats -hi
+00027870: 6465 5f62 616e 6e65 7220 2d79 270a 2020  de_banner -y'.  
+00027880: 2020 2020 2020 7375 6270 726f 6365 7373        subprocess
+00027890: 2e63 616c 6c28 636d 642c 2073 6865 6c6c  .call(cmd, shell
+000278a0: 3d54 7275 652c 2073 7464 6f75 743d 7375  =True, stdout=su
+000278b0: 6270 726f 6365 7373 2e50 4950 4529 0a20  bprocess.PIPE). 
+000278c0: 2020 2074 696d 6572 2e73 746f 705f 7469     timer.stop_ti
+000278d0: 6d65 7228 290a 2020 2020 7374 646f 7574  mer().    stdout
+000278e0: 5f73 7563 6365 7373 286d 7367 3d66 277b  _success(msg=f'{
+000278f0: 6c65 6e28 7669 6465 6f5f 7061 7468 7329  len(video_paths)
+00027900: 7d20 6f76 6572 6c61 7920 7669 6465 6f28  } overlay video(
+00027910: 7329 2073 6176 6564 2069 6e20 7b73 6176  s) saved in {sav
+00027920: 655f 6469 727d 272c 2065 6c61 7073 6564  e_dir}', elapsed
+00027930: 5f74 696d 653d 7469 6d65 722e 656c 6170  _time=timer.elap
+00027940: 7365 645f 7469 6d65 5f73 7472 290a 0a64  sed_time_str)..d
+00027950: 6566 2072 6f69 5f62 6c75 7262 6f78 2876  ef roi_blurbox(v
+00027960: 6964 656f 5f70 6174 683a 2055 6e69 6f6e  ideo_path: Union
+00027970: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
+00027980: 655d 2c0a 2020 2020 2020 2020 2020 2020  e],.            
+00027990: 2020 2020 626c 7572 5f6c 6576 656c 3a20      blur_level: 
+000279a0: 4f70 7469 6f6e 616c 5b66 6c6f 6174 5d20  Optional[float] 
+000279b0: 3d20 302e 3032 2c0a 2020 2020 2020 2020  = 0.02,.        
+000279c0: 2020 2020 2020 2020 696e 7665 7274 3a20          invert: 
+000279d0: 4f70 7469 6f6e 616c 5b62 6f6f 6c5d 203d  Optional[bool] =
+000279e0: 2046 616c 7365 2c0a 2020 2020 2020 2020   False,.        
+000279f0: 2020 2020 2020 2020 7361 7665 5f70 6174          save_pat
+00027a00: 683a 204f 7074 696f 6e61 6c5b 556e 696f  h: Optional[Unio
+00027a10: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
+00027a20: 6b65 5d5d 203d 204e 6f6e 6529 202d 3e20  ke]] = None) -> 
+00027a30: 4e6f 6e65 3a0a 0a20 2020 2022 2222 0a20  None:..    """. 
+00027a40: 2020 2042 6c75 7273 2065 6974 6865 7220     Blurs either 
+00027a50: 7468 6520 7365 6c65 6374 6564 206f 7220  the selected or 
+00027a60: 756e 7365 6c65 6374 6564 2070 6f72 7469  unselected porti
+00027a70: 6f6e 206f 6620 6120 7573 6572 2d73 7065  on of a user-spe
+00027a80: 6369 6669 6564 2072 6567 696f 6e2d 6f66  cified region-of
+00027a90: 2d69 6e74 6572 6573 7420 6163 636f 7264  -interest accord
+00027aa0: 696e 6720 746f 2074 6865 2070 6173 7365  ing to the passe
+00027ab0: 6420 626c 7572 206c 6576 656c 2e0a 2020  d blur level..  
+00027ac0: 2020 4869 6768 6572 2062 6c75 7220 6c65    Higher blur le
+00027ad0: 7665 6c73 2070 726f 6475 6365 7320 6d6f  vels produces mo
+00027ae0: 7265 206f 7061 7175 6520 7265 6769 6f6e  re opaque region
+00027af0: 732e 0a0a 2020 2020 2e2e 2076 6964 656f  s...    .. video
+00027b00: 3a3a 205f 7374 6174 6963 2f69 6d67 2f72  :: _static/img/r
+00027b10: 6f69 5f62 6c75 7262 6f78 2e77 6562 6d0a  oi_blurbox.webm.
+00027b20: 2020 2020 2020 203a 6c6f 6f70 3a0a 0a20         :loop:.. 
+00027b30: 2020 203a 7061 7261 6d20 556e 696f 6e5b     :param Union[
+00027b40: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
+00027b50: 5d20 7669 6465 6f5f 7061 7468 3a20 5468  ] video_path: Th
+00027b60: 6520 7061 7468 2074 6f20 7468 6520 7669  e path to the vi
+00027b70: 6465 6f20 6f6e 2064 6973 6b0a 2020 2020  deo on disk.    
+00027b80: 3a70 6172 616d 204f 7074 696f 6e61 6c5b  :param Optional[
+00027b90: 666c 6f61 745d 2062 6c75 725f 6c65 7665  float] blur_leve
+00027ba0: 6c3a 2054 6865 206c 6576 656c 206f 6620  l: The level of 
+00027bb0: 7468 6520 626c 7572 2061 7320 6120 7261  the blur as a ra
+00027bc0: 7469 6f20 302d 312e 302e 0a20 2020 203a  tio 0-1.0..    :
+00027bd0: 7061 7261 6d20 4f70 7469 6f6e 616c 5b62  param Optional[b
+00027be0: 6f6f 6c5d 2069 6e76 6572 743a 2049 6620  ool] invert: If 
+00027bf0: 5472 7565 2c20 626c 7572 7320 7468 6520  True, blurs the 
+00027c00: 756e 7365 6c65 6374 6564 2072 6567 696f  unselected regio
+00027c10: 6e2e 2049 6620 4661 6c73 652c 2062 6c75  n. If False, blu
+00027c20: 7273 2074 6865 2073 656c 6563 7465 6420  rs the selected 
+00027c30: 7265 6769 6f6e 2e0a 2020 2020 3a70 6172  region..    :par
+00027c40: 616d 204f 7074 696f 6e61 6c5b 556e 696f  am Optional[Unio
+00027c50: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
+00027c60: 6b65 5d5d 2073 6176 655f 7061 7468 3a20  ke]] save_path: 
+00027c70: 5468 6520 6c6f 6361 7469 6f6e 2077 6865  The location whe
+00027c80: 7265 2074 6f20 7361 7665 2074 6865 2062  re to save the b
+00027c90: 6c75 7272 6564 2076 6964 656f 2e20 4966  lurred video. If
+00027ca0: 204e 6f6e 652c 2074 6865 6e20 7361 7665   None, then save
+00027cb0: 7320 7468 6520 626c 7572 7265 6420 7669  s the blurred vi
+00027cc0: 6465 6f20 696e 2074 6865 2073 616d 6520  deo in the same 
+00027cd0: 6469 7265 6374 6f72 7920 6173 2074 6865  directory as the
+00027ce0: 2069 6e70 7574 2076 6964 656f 2077 6974   input video wit
+00027cf0: 6820 7468 6520 6060 5f62 6c75 7272 6564  h the ``_blurred
+00027d00: 6060 2073 7566 6669 782e 0a20 2020 203a  `` suffix..    :
+00027d10: 7265 7475 726e 3a20 4e6f 6e65 0a0a 2020  return: None..  
+00027d20: 2020 3a65 7861 6d70 6c65 3a0a 2020 2020    :example:.    
+00027d30: 3e3e 3e20 726f 695f 626c 7572 626f 7828  >>> roi_blurbox(
+00027d40: 7669 6465 6f5f 7061 7468 3d27 2f55 7365  video_path='/Use
+00027d50: 7273 2f73 696d 6f6e 2f44 6f77 6e6c 6f61  rs/simon/Downloa
+00027d60: 6473 2f31 5f4c 485f 636c 6970 7065 645f  ds/1_LH_clipped_
+00027d70: 646f 776e 7361 6d70 6c65 642e 6d70 3427  downsampled.mp4'
+00027d80: 2c20 626c 7572 5f6c 6576 656c 3d30 2e32  , blur_level=0.2
+00027d90: 2c20 696e 7665 7274 3d54 7275 6529 0a20  , invert=True). 
+00027da0: 2020 2022 2222 0a0a 2020 2020 6368 6563     """..    chec
+00027db0: 6b5f 6666 6d70 6567 5f61 7661 696c 6162  k_ffmpeg_availab
+00027dc0: 6c65 2872 6169 7365 5f65 7272 6f72 3d54  le(raise_error=T
+00027dd0: 7275 6529 0a20 2020 2074 696d 6572 203d  rue).    timer =
+00027de0: 2053 696d 6261 5469 6d65 7228 7374 6172   SimbaTimer(star
+00027df0: 743d 5472 7565 290a 2020 2020 6368 6563  t=True).    chec
+00027e00: 6b5f 666c 6f61 7428 6e61 6d65 3d66 277b  k_float(name=f'{
+00027e10: 726f 695f 626c 7572 626f 782e 5f5f 6e61  roi_blurbox.__na
+00027e20: 6d65 5f5f 7d20 626c 7572 5f6c 6576 656c  me__} blur_level
+00027e30: 272c 2076 616c 7565 3d62 6c75 725f 6c65  ', value=blur_le
+00027e40: 7665 6c2c 206d 696e 5f76 616c 7565 3d30  vel, min_value=0
+00027e50: 2e30 3031 2c20 6d61 785f 7661 6c75 653d  .001, max_value=
+00027e60: 312e 3029 0a20 2020 2063 6865 636b 5f66  1.0).    check_f
+00027e70: 696c 655f 6578 6973 745f 616e 645f 7265  ile_exist_and_re
+00027e80: 6164 6162 6c65 2866 696c 655f 7061 7468  adable(file_path
+00027e90: 3d76 6964 656f 5f70 6174 6829 0a20 2020  =video_path).   
+00027ea0: 2064 6972 2c20 7669 6465 6f5f 6e61 6d65   dir, video_name
+00027eb0: 2c20 6578 7420 3d20 6765 745f 666e 5f65  , ext = get_fn_e
+00027ec0: 7874 2876 6964 656f 5f70 6174 6829 0a20  xt(video_path). 
+00027ed0: 2020 205f 203d 2067 6574 5f76 6964 656f     _ = get_video
+00027ee0: 5f6d 6574 615f 6461 7461 2876 6964 656f  _meta_data(video
+00027ef0: 5f70 6174 683d 7669 6465 6f5f 7061 7468  _path=video_path
+00027f00: 290a 2020 2020 6966 2073 6176 655f 7061  ).    if save_pa
+00027f10: 7468 2069 7320 6e6f 7420 4e6f 6e65 3a0a  th is not None:.
+00027f20: 2020 2020 2020 2020 6368 6563 6b5f 6966          check_if
+00027f30: 5f64 6972 5f65 7869 7374 7328 696e 5f64  _dir_exists(in_d
+00027f40: 6972 3d6f 732e 7061 7468 2e64 6972 6e61  ir=os.path.dirna
+00027f50: 6d65 2873 6176 655f 7061 7468 292c 2073  me(save_path), s
+00027f60: 6f75 7263 653d 726f 695f 626c 7572 626f  ource=roi_blurbo
+00027f70: 782e 5f5f 6e61 6d65 5f5f 290a 2020 2020  x.__name__).    
+00027f80: 656c 7365 3a0a 2020 2020 2020 2020 7361  else:.        sa
+00027f90: 7665 5f70 6174 6820 3d20 6f73 2e70 6174  ve_path = os.pat
+00027fa0: 682e 6a6f 696e 2864 6972 2c20 6627 7b76  h.join(dir, f'{v
+00027fb0: 6964 656f 5f6e 616d 657d 5f62 6c75 7272  ideo_name}_blurr
+00027fc0: 6564 7b65 7874 7d27 290a 2020 2020 726f  ed{ext}').    ro
+00027fd0: 695f 7365 6c65 6374 6f72 203d 2052 4f49  i_selector = ROI
+00027fe0: 5365 6c65 6374 6f72 2870 6174 683d 7669  Selector(path=vi
+00027ff0: 6465 6f5f 7061 7468 290a 2020 2020 726f  deo_path).    ro
+00028000: 695f 7365 6c65 6374 6f72 2e72 756e 2829  i_selector.run()
+00028010: 0a20 2020 2077 2c20 6820 3d20 726f 695f  .    w, h = roi_
+00028020: 7365 6c65 6374 6f72 2e77 6964 7468 2c20  selector.width, 
+00028030: 726f 695f 7365 6c65 6374 6f72 2e68 6569  roi_selector.hei
+00028040: 6768 740a 2020 2020 746f 705f 6c65 6674  ght.    top_left
+00028050: 5f78 2c20 746f 705f 6c65 6674 5f79 203d  _x, top_left_y =
+00028060: 2072 6f69 5f73 656c 6563 746f 722e 746f   roi_selector.to
+00028070: 705f 6c65 6674 0a20 2020 206d 6178 5f62  p_left.    max_b
+00028080: 6c75 725f 7661 6c75 6520 3d20 696e 7428  lur_value = int(
+00028090: 6d69 6e28 772c 2068 2920 2f20 3229 202f  min(w, h) / 2) /
+000280a0: 2032 0a20 2020 2062 6c75 725f 6c65 7665   2.    blur_leve
+000280b0: 6c20 3d20 696e 7428 6d61 785f 626c 7572  l = int(max_blur
+000280c0: 5f76 616c 7565 202a 2062 6c75 725f 6c65  _value * blur_le
+000280d0: 7665 6c29 0a20 2020 2069 6620 6e6f 7420  vel).    if not 
+000280e0: 696e 7665 7274 3a0a 2020 2020 2020 2020  invert:.        
+000280f0: 636d 6420 3d20 6627 6666 6d70 6567 202d  cmd = f'ffmpeg -
+00028100: 6920 227b 7669 6465 6f5f 7061 7468 7d22  i "{video_path}"
+00028110: 202d 6669 6c74 6572 5f63 6f6d 706c 6578   -filter_complex
+00028120: 2022 5b30 3a76 5d63 726f 703d 7b77 7d3a   "[0:v]crop={w}:
+00028130: 7b68 7d3a 7b74 6f70 5f6c 6566 745f 787d  {h}:{top_left_x}
+00028140: 3a7b 746f 705f 6c65 6674 5f79 7d2c 626f  :{top_left_y},bo
+00028150: 7862 6c75 723d 7b69 6e74 2862 6c75 725f  xblur={int(blur_
+00028160: 6c65 7665 6c29 7d3a 3130 5b66 675d 3b20  level)}:10[fg]; 
+00028170: 5b30 3a76 5d5b 6667 5d6f 7665 726c 6179  [0:v][fg]overlay
+00028180: 3d7b 746f 705f 6c65 6674 5f78 7d3a 7b74  ={top_left_x}:{t
+00028190: 6f70 5f6c 6566 745f 797d 5b76 5d22 202d  op_left_y}[v]" -
+000281a0: 6d61 7020 225b 765d 2220 227b 7361 7665  map "[v]" "{save
+000281b0: 5f70 6174 687d 2220 2d6c 6f67 6c65 7665  _path}" -logleve
+000281c0: 6c20 6572 726f 7220 2d73 7461 7473 202d  l error -stats -
+000281d0: 6869 6465 5f62 616e 6e65 7220 2d79 270a  hide_banner -y'.
+000281e0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+000281f0: 2020 636d 6420 3d20 6627 6666 6d70 6567    cmd = f'ffmpeg
+00028200: 202d 6920 227b 7669 6465 6f5f 7061 7468   -i "{video_path
+00028210: 7d22 202d 6669 6c74 6572 5f63 6f6d 706c  }" -filter_compl
+00028220: 6578 2022 5b30 3a76 5d62 6f78 626c 7572  ex "[0:v]boxblur
+00028230: 3d7b 626c 7572 5f6c 6576 656c 7d5b 6267  ={blur_level}[bg
+00028240: 5d3b 5b30 3a76 5d63 726f 703d 7b77 7d3a  ];[0:v]crop={w}:
+00028250: 7b68 7d3a 7b74 6f70 5f6c 6566 745f 787d  {h}:{top_left_x}
+00028260: 3a7b 746f 705f 6c65 6674 5f79 7d5b 6667  :{top_left_y}[fg
+00028270: 5d3b 5b62 675d 5b66 675d 6f76 6572 6c61  ];[bg][fg]overla
+00028280: 793d 7b74 6f70 5f6c 6566 745f 787d 3a7b  y={top_left_x}:{
+00028290: 746f 705f 6c65 6674 5f79 7d22 202d 633a  top_left_y}" -c:
+000282a0: 6120 636f 7079 2022 7b73 6176 655f 7061  a copy "{save_pa
+000282b0: 7468 7d22 202d 6c6f 676c 6576 656c 2065  th}" -loglevel e
+000282c0: 7272 6f72 202d 7374 6174 7320 2d68 6964  rror -stats -hid
+000282d0: 655f 6261 6e6e 6572 202d 7927 0a20 2020  e_banner -y'.   
+000282e0: 2073 7562 7072 6f63 6573 732e 6361 6c6c   subprocess.call
+000282f0: 2863 6d64 2c20 7368 656c 6c3d 5472 7565  (cmd, shell=True
+00028300: 2c20 7374 646f 7574 3d73 7562 7072 6f63  , stdout=subproc
+00028310: 6573 732e 5049 5045 290a 2020 2020 7469  ess.PIPE).    ti
+00028320: 6d65 722e 7374 6f70 5f74 696d 6572 2829  mer.stop_timer()
+00028330: 0a20 2020 2073 7464 6f75 745f 7375 6363  .    stdout_succ
+00028340: 6573 7328 6d73 673d 6627 426c 7572 7265  ess(msg=f'Blurre
+00028350: 6420 7b76 6964 656f 5f6e 616d 657d 2076  d {video_name} v
+00028360: 6964 656f 2073 6176 6564 2069 6e20 7b73  ideo saved in {s
+00028370: 6176 655f 7061 7468 7d27 2c20 656c 6170  ave_path}', elap
+00028380: 7365 645f 7469 6d65 3d74 696d 6572 2e65  sed_time=timer.e
+00028390: 6c61 7073 6564 5f74 696d 655f 7374 7229  lapsed_time_str)
+000283a0: 0a0a 0a64 6566 2073 7570 6572 696d 706f  ...def superimpo
+000283b0: 7365 5f65 6c61 7073 6564 5f74 696d 6528  se_elapsed_time(
+000283c0: 7669 6465 6f5f 7061 7468 3a20 556e 696f  video_path: Unio
+000283d0: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
+000283e0: 6b65 5d2c 0a20 2020 2020 2020 2020 2020  ke],.           
+000283f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028400: 2020 666f 6e74 3a20 4f70 7469 6f6e 616c    font: Optional
+00028410: 5b73 7472 5d20 3d20 2741 7269 616c 272c  [str] = 'Arial',
+00028420: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00028430: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+00028440: 6e74 5f73 697a 653a 204f 7074 696f 6e61  nt_size: Optiona
+00028450: 6c5b 696e 745d 203d 2033 302c 0a20 2020  l[int] = 30,.   
+00028460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028470: 2020 2020 2020 2020 2020 666f 6e74 5f63            font_c
+00028480: 6f6c 6f72 3a20 4f70 7469 6f6e 616c 5b73  olor: Optional[s
+00028490: 7472 5d20 3d20 2777 6869 7465 272c 0a20  tr] = 'white',. 
+000284a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000284b0: 2020 2020 2020 2020 2020 2020 666f 6e74              font
+000284c0: 5f62 6f72 6465 725f 636f 6c6f 723a 204f  _border_color: O
+000284d0: 7074 696f 6e61 6c5b 7374 725d 203d 2027  ptional[str] = '
+000284e0: 626c 6163 6b27 2c0a 2020 2020 2020 2020  black',.        
+000284f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028500: 2020 2020 2074 696d 655f 666f 726d 6174       time_format
+00028510: 3a20 4f70 7469 6f6e 616c 5b4c 6974 6572  : Optional[Liter
+00028520: 616c 5b27 4d4d 3a53 5327 2c20 2748 483a  al['MM:SS', 'HH:
+00028530: 4d4d 3a53 5327 2c20 2753 532e 4d4d 4d4d  MM:SS', 'SS.MMMM
+00028540: 4d4d 272c 2027 4848 3a4d 4d3a 5353 2e4d  MM', 'HH:MM:SS.M
+00028550: 4d4d 4d27 5d5d 203d 2027 4848 3a4d 4d3a  MMM']] = 'HH:MM:
+00028560: 5353 2e4d 4d4d 4d27 2c0a 2020 2020 2020  SS.MMMM',.      
+00028570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028580: 2020 2020 2020 2066 6f6e 745f 626f 7264         font_bord
+00028590: 6572 5f77 6964 7468 3a20 4f70 7469 6f6e  er_width: Option
+000285a0: 616c 5b69 6e74 5d20 3d20 322c 0a20 2020  al[int] = 2,.   
+000285b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000285c0: 2020 2020 2020 2020 2020 706f 7369 7469            positi
+000285d0: 6f6e 3a20 4f70 7469 6f6e 616c 5b4c 6974  on: Optional[Lit
+000285e0: 6572 616c 5b27 746f 705f 6c65 6674 272c  eral['top_left',
+000285f0: 2027 746f 705f 7269 6768 7427 2c20 2762   'top_right', 'b
+00028600: 6f74 746f 6d5f 6c65 6674 272c 2027 626f  ottom_left', 'bo
+00028610: 7474 6f6d 5f72 6967 6874 272c 2027 746f  ttom_right', 'to
+00028620: 705f 6d69 6464 6c65 272c 2027 626f 7474  p_middle', 'bott
+00028630: 6f6d 5f6d 6964 646c 6527 5d5d 203d 2027  om_middle']] = '
+00028640: 746f 705f 6c65 6674 272c 0a20 2020 2020  top_left',.     
+00028650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028660: 2020 2020 2020 2020 7361 7665 5f64 6972          save_dir
+00028670: 3a20 4f70 7469 6f6e 616c 5b55 6e69 6f6e  : Optional[Union
+00028680: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
+00028690: 655d 5d20 3d20 4e6f 6e65 2920 2d3e 204e  e]] = None) -> N
+000286a0: 6f6e 653a 0a20 2020 2022 2222 0a20 2020  one:.    """.   
+000286b0: 2053 7570 6572 696d 706f 7365 7320 656c   Superimposes el
+000286c0: 6170 7365 6420 7469 6d65 206f 6e20 7468  apsed time on th
+000286d0: 6520 6769 7665 6e20 7669 6465 6f20 6669  e given video fi
+000286e0: 6c65 2873 2920 616e 6420 7361 7665 7320  le(s) and saves 
+000286f0: 7468 6520 6d6f 6469 6669 6564 2076 6964  the modified vid
+00028700: 656f 2873 292e 0a0a 2020 2020 2e2e 2076  eo(s)...    .. v
+00028710: 6964 656f 3a3a 205f 7374 6174 6963 2f69  ideo:: _static/i
+00028720: 6d67 2f73 7570 6572 696d 706f 7365 5f65  mg/superimpose_e
+00028730: 6c61 7073 6564 5f74 696d 652e 7765 626d  lapsed_time.webm
+00028740: 0a20 2020 2020 2020 3a77 6964 7468 3a20  .       :width: 
+00028750: 3930 300a 2020 2020 2020 203a 6c6f 6f70  900.       :loop
+00028760: 3a0a 0a20 2020 203a 7061 7261 6d20 556e  :..    :param Un
+00028770: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+00028780: 4c69 6b65 5d20 7669 6465 6f5f 7061 7468  Like] video_path
+00028790: 3a20 5061 7468 2074 6f20 7468 6520 696e  : Path to the in
+000287a0: 7075 7420 7669 6465 6f20 6669 6c65 206f  put video file o
+000287b0: 7220 6469 7265 6374 6f72 7920 636f 6e74  r directory cont
+000287c0: 6169 6e69 6e67 2076 6964 656f 2066 696c  aining video fil
+000287d0: 6573 2e0a 2020 2020 3a70 6172 616d 204f  es..    :param O
+000287e0: 7074 696f 6e61 6c5b 696e 745d 2066 6f6e  ptional[int] fon
+000287f0: 745f 7369 7a65 3a20 466f 6e74 2073 697a  t_size: Font siz
+00028800: 6520 666f 7220 7468 6520 656c 6170 7365  e for the elapse
+00028810: 6420 7469 6d65 2074 6578 742e 2044 6566  d time text. Def
+00028820: 6175 6c74 2033 302e 0a20 2020 203a 7061  ault 30..    :pa
+00028830: 7261 6d20 4f70 7469 6f6e 616c 5b73 7472  ram Optional[str
+00028840: 5d20 666f 6e74 5f63 6f6c 6f72 3a20 2046  ] font_color:  F
+00028850: 6f6e 7420 636f 6c6f 7220 666f 7220 7468  ont color for th
+00028860: 6520 656c 6170 7365 6420 7469 6d65 2074  e elapsed time t
+00028870: 6578 742e 2044 6566 6175 6c74 2077 6869  ext. Default whi
+00028880: 7465 0a20 2020 203a 7061 7261 6d20 4f70  te.    :param Op
+00028890: 7469 6f6e 616c 5b73 7472 5d20 666f 6e74  tional[str] font
+000288a0: 5f62 6f72 6465 725f 636f 6c6f 723a 2046  _border_color: F
+000288b0: 6f6e 7420 626f 7264 6572 2063 6f6c 6f72  ont border color
+000288c0: 2066 6f72 2074 6865 2065 6c61 7073 6564   for the elapsed
+000288d0: 2074 696d 6520 7465 7874 2e20 4465 6661   time text. Defa
+000288e0: 756c 7420 626c 6163 6b2e 0a20 2020 203a  ult black..    :
+000288f0: 7061 7261 6d20 4f70 7469 6f6e 616c 5b69  param Optional[i
+00028900: 6e74 5d20 666f 6e74 5f62 6f72 6465 725f  nt] font_border_
+00028910: 7769 6474 683a 2046 6f6e 7420 626f 7264  width: Font bord
+00028920: 6572 2077 6964 7468 2066 6f72 2074 6865  er width for the
+00028930: 2065 6c61 7073 6564 2074 696d 6520 7465   elapsed time te
+00028940: 7874 2069 6e20 7069 7865 6c73 2e20 4465  xt in pixels. De
+00028950: 6661 756c 7420 322e 0a20 2020 203a 7061  fault 2..    :pa
+00028960: 7261 6d20 4f70 7469 6f6e 616c 5b4c 6974  ram Optional[Lit
+00028970: 6572 616c 5b27 746f 705f 6c65 6674 272c  eral['top_left',
+00028980: 2027 746f 705f 7269 6768 7427 2c20 2762   'top_right', 'b
+00028990: 6f74 746f 6d5f 6c65 6674 272c 2027 626f  ottom_left', 'bo
+000289a0: 7474 6f6d 5f72 6967 6874 272c 2027 6d69  ttom_right', 'mi
+000289b0: 6464 6c65 5f74 6f70 272c 2027 6d69 6464  ddle_top', 'midd
+000289c0: 6c65 5f62 6f74 746f 6d27 5d5d 2070 6f73  le_bottom']] pos
+000289d0: 6974 696f 6e3a 2050 6f73 6974 696f 6e20  ition: Position 
+000289e0: 7768 6572 6520 7468 6520 656c 6170 7365  where the elapse
+000289f0: 6420 7469 6d65 2074 6578 7420 7769 6c6c  d time text will
+00028a00: 2062 6520 7375 7065 7269 6d70 6f73 6564   be superimposed
+00028a10: 2e20 4465 6661 756c 7420 6060 746f 705f  . Default ``top_
+00028a20: 6c65 6674 6060 2e0a 2020 2020 3a70 6172  left``..    :par
+00028a30: 616d 204f 7074 696f 6e61 6c5b 556e 696f  am Optional[Unio
+00028a40: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
+00028a50: 6b65 5d5d 2073 6176 655f 6469 723a 2044  ke]] save_dir: D
+00028a60: 6972 6563 746f 7279 2077 6865 7265 2074  irectory where t
+00028a70: 6865 206d 6f64 6966 6965 6420 7669 6465  he modified vide
+00028a80: 6f28 7329 2077 696c 6c20 6265 2073 6176  o(s) will be sav
+00028a90: 6564 2e20 4966 206e 6f74 2070 726f 7669  ed. If not provi
+00028aa0: 6465 642c 2074 6865 2064 6972 6563 746f  ded, the directo
+00028ab0: 7279 206f 6620 7468 6520 696e 7075 7420  ry of the input 
+00028ac0: 7669 6465 6f28 7329 2077 696c 6c20 6265  video(s) will be
+00028ad0: 2075 7365 642e 0a20 2020 203a 7265 7475   used..    :retu
+00028ae0: 726e 3a20 4e6f 6e65 0a0a 2020 2020 3a65  rn: None..    :e
+00028af0: 7861 6d70 6c65 3a0a 2020 2020 3e3e 3e20  xample:.    >>> 
+00028b00: 7375 7065 7269 6d70 6f73 655f 656c 6170  superimpose_elap
+00028b10: 7365 645f 7469 6d65 2876 6964 656f 5f70  sed_time(video_p
+00028b20: 6174 683d 272f 5573 6572 732f 7369 6d6f  ath='/Users/simo
+00028b30: 6e2f 4465 736b 746f 702f 656e 7673 2f73  n/Desktop/envs/s
+00028b40: 696d 6261 2f74 726f 7562 6c65 7368 6f6f  imba/troubleshoo
+00028b50: 7469 6e67 2f6d 6f75 7365 5f6f 7065 6e5f  ting/mouse_open_
+00028b60: 6669 656c 642f 7072 6f6a 6563 745f 666f  field/project_fo
+00028b70: 6c64 6572 2f76 6964 656f 732f 7465 7374  lder/videos/test
+00028b80: 5f34 2f31 2e6d 7034 272c 2070 6f73 6974  _4/1.mp4', posit
+00028b90: 696f 6e3d 276d 6964 646c 655f 746f 7027  ion='middle_top'
+00028ba0: 2c20 666f 6e74 5f63 6f6c 6f72 3d27 626c  , font_color='bl
+00028bb0: 6163 6b27 2c20 666f 6e74 5f62 6f72 6465  ack', font_borde
+00028bc0: 725f 636f 6c6f 723d 2770 696e 6b27 2c20  r_color='pink', 
+00028bd0: 666f 6e74 5f62 6f72 6465 725f 7769 6474  font_border_widt
+00028be0: 683d 352c 2066 6f6e 745f 7369 7a65 3d33  h=5, font_size=3
+00028bf0: 3029 0a20 2020 2022 2222 0a0a 2020 2020  0).    """..    
+00028c00: 6368 6563 6b5f 6666 6d70 6567 5f61 7661  check_ffmpeg_ava
+00028c10: 696c 6162 6c65 2872 6169 7365 5f65 7272  ilable(raise_err
+00028c20: 6f72 3d54 7275 6529 0a20 2020 2074 696d  or=True).    tim
+00028c30: 6572 203d 2053 696d 6261 5469 6d65 7228  er = SimbaTimer(
+00028c40: 7374 6172 743d 5472 7565 290a 2020 2020  start=True).    
+00028c50: 504f 5349 5449 4f4e 5320 3d20 5b27 746f  POSITIONS = ['to
+00028c60: 705f 6c65 6674 272c 2027 746f 705f 7269  p_left', 'top_ri
+00028c70: 6768 7427 2c20 2762 6f74 746f 6d5f 6c65  ght', 'bottom_le
+00028c80: 6674 272c 2027 626f 7474 6f6d 5f72 6967  ft', 'bottom_rig
+00028c90: 6874 272c 2027 746f 705f 6d69 6464 6c65  ht', 'top_middle
+00028ca0: 272c 2027 626f 7474 6f6d 5f6d 6964 646c  ', 'bottom_middl
+00028cb0: 6527 5d0a 2020 2020 6368 6563 6b5f 7374  e'].    check_st
+00028cc0: 7228 6e61 6d65 3d66 277b 7375 7065 7269  r(name=f'{superi
+00028cd0: 6d70 6f73 655f 656c 6170 7365 645f 7469  mpose_elapsed_ti
+00028ce0: 6d65 2e5f 5f6e 616d 655f 5f7d 2070 6f73  me.__name__} pos
+00028cf0: 6974 696f 6e27 2c20 7661 6c75 653d 706f  ition', value=po
+00028d00: 7369 7469 6f6e 2c20 6f70 7469 6f6e 733d  sition, options=
+00028d10: 504f 5349 5449 4f4e 5329 0a20 2020 2063  POSITIONS).    c
+00028d20: 6865 636b 5f73 7472 286e 616d 653d 6627  heck_str(name=f'
+00028d30: 7b73 7570 6572 696d 706f 7365 5f65 6c61  {superimpose_ela
+00028d40: 7073 6564 5f74 696d 652e 5f5f 6e61 6d65  psed_time.__name
+00028d50: 5f5f 7d20 7469 6d65 5f66 6f72 6d61 7427  __} time_format'
+00028d60: 2c20 7661 6c75 653d 7469 6d65 5f66 6f72  , value=time_for
+00028d70: 6d61 742c 206f 7074 696f 6e73 3d5b 274d  mat, options=['M
+00028d80: 4d3a 5353 272c 2027 4848 3a4d 4d3a 5353  M:SS', 'HH:MM:SS
+00028d90: 272c 2027 5353 2e4d 4d4d 4d4d 4d27 2c20  ', 'SS.MMMMMM', 
+00028da0: 2748 483a 4d4d 3a53 532e 4d4d 4d4d 275d  'HH:MM:SS.MMMM']
+00028db0: 290a 2020 2020 6368 6563 6b5f 696e 7428  ).    check_int(
+00028dc0: 6e61 6d65 3d66 277b 7375 7065 7269 6d70  name=f'{superimp
+00028dd0: 6f73 655f 656c 6170 7365 645f 7469 6d65  ose_elapsed_time
+00028de0: 2e5f 5f6e 616d 655f 5f7d 2066 6f6e 745f  .__name__} font_
+00028df0: 7369 7a65 272c 2076 616c 7565 3d66 6f6e  size', value=fon
+00028e00: 745f 7369 7a65 2c20 6d69 6e5f 7661 6c75  t_size, min_valu
+00028e10: 653d 3129 0a20 2020 2063 6865 636b 5f69  e=1).    check_i
+00028e20: 6e74 286e 616d 653d 6627 7b73 7570 6572  nt(name=f'{super
+00028e30: 696d 706f 7365 5f65 6c61 7073 6564 5f74  impose_elapsed_t
+00028e40: 696d 652e 5f5f 6e61 6d65 5f5f 7d20 666f  ime.__name__} fo
+00028e50: 6e74 5f62 6f72 6465 725f 7769 6474 6827  nt_border_width'
+00028e60: 2c20 7661 6c75 653d 666f 6e74 5f62 6f72  , value=font_bor
+00028e70: 6465 725f 7769 6474 682c 206d 696e 5f76  der_width, min_v
+00028e80: 616c 7565 3d31 290a 2020 2020 666f 6e74  alue=1).    font
+00028e90: 5f63 6f6c 6f72 203d 2027 272e 6a6f 696e  _color = ''.join
+00028ea0: 2866 696c 7465 7228 7374 722e 6973 616c  (filter(str.isal
+00028eb0: 6e75 6d2c 2066 6f6e 745f 636f 6c6f 7229  num, font_color)
+00028ec0: 292e 6c6f 7765 7228 290a 2020 2020 666f  ).lower().    fo
+00028ed0: 6e74 5f62 6f72 6465 725f 636f 6c6f 7220  nt_border_color 
+00028ee0: 3d20 2727 2e6a 6f69 6e28 6669 6c74 6572  = ''.join(filter
+00028ef0: 2873 7472 2e69 7361 6c6e 756d 2c20 666f  (str.isalnum, fo
+00028f00: 6e74 5f62 6f72 6465 725f 636f 6c6f 7229  nt_border_color)
+00028f10: 292e 6c6f 7765 7228 290a 2020 2020 666f  ).lower().    fo
+00028f20: 6e74 5f64 6963 7420 3d20 6765 745f 666f  nt_dict = get_fo
+00028f30: 6e74 7328 290a 2020 2020 6368 6563 6b5f  nts().    check_
+00028f40: 7374 7228 6e61 6d65 3d27 666f 6e74 272c  str(name='font',
+00028f50: 2076 616c 7565 3d66 6f6e 742c 206f 7074   value=font, opt
+00028f60: 696f 6e73 3d74 7570 6c65 2866 6f6e 745f  ions=tuple(font_
+00028f70: 6469 6374 2e6b 6579 7328 2929 290a 2020  dict.keys())).  
+00028f80: 2020 666f 6e74 5f70 6174 6820 3d20 666f    font_path = fo
+00028f90: 6e74 5f64 6963 745b 666f 6e74 5d0a 2020  nt_dict[font].  
+00028fa0: 2020 7469 6d65 5f66 6f72 6d61 745f 6d61    time_format_ma
+00028fb0: 7020 3d20 7b27 4d4d 3a53 5327 3a20 2725  p = {'MM:SS': '%
+00028fc0: 7b70 7473 5c5c 3a6d 6b73 7d27 2c0a 2020  {pts\\:mks}',.  
+00028fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028fe0: 2020 2020 2027 4848 3a4d 4d3a 5353 273a       'HH:MM:SS':
+00028ff0: 2027 257b 7074 735c 5c3a 686d 737d 272c   '%{pts\\:hms}',
+00029000: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00029010: 2020 2020 2020 2020 2753 532e 4d4d 4d4d          'SS.MMMM
+00029020: 4d4d 273a 2027 257b 7074 737d 272c 0a20  MM': '%{pts}',. 
+00029030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029040: 2020 2020 2020 2748 483a 4d4d 3a53 532e        'HH:MM:SS.
+00029050: 4d4d 4d4d 273a 2027 257b 7074 735c 5c3a  MMMM': '%{pts\\:
+00029060: 686d 737d 2e25 7b65 6966 5c5c 3a6d 6f64  hms}.%{eif\\:mod
+00029070: 286e 5c5c 2c31 3030 3029 5c5c 3a64 5c5c  (n\\,1000)\\:d\\
+00029080: 3a34 7d27 7d0a 2020 2020 706f 7369 7469  :4}'}.    positi
+00029090: 6f6e 5f6d 6170 203d 207b 2027 746f 705f  on_map = { 'top_
+000290a0: 6c65 6674 273a 2027 783d 353a 793d 3527  left': 'x=5:y=5'
+000290b0: 2c20 2774 6f70 5f72 6967 6874 273a 2027  , 'top_right': '
+000290c0: 783d 2877 2d74 772d 3529 3a79 3d35 272c  x=(w-tw-5):y=5',
+000290d0: 2027 626f 7474 6f6d 5f6c 6566 7427 3a20   'bottom_left': 
+000290e0: 2778 3d35 3a79 3d28 682d 7468 2d35 2927  'x=5:y=(h-th-5)'
+000290f0: 2c20 2762 6f74 746f 6d5f 7269 6768 7427  , 'bottom_right'
+00029100: 3a20 2778 3d28 772d 7477 2d35 293a 793d  : 'x=(w-tw-5):y=
+00029110: 2868 2d74 682d 3529 272c 2027 746f 705f  (h-th-5)', 'top_
+00029120: 6d69 6464 6c65 273a 2027 783d 2877 2d74  middle': 'x=(w-t
+00029130: 7729 2f32 3a79 3d31 3027 2c20 2762 6f74  w)/2:y=10', 'bot
+00029140: 746f 6d5f 6d69 6464 6c65 273a 2027 783d  tom_middle': 'x=
+00029150: 2877 2d74 7729 2f32 3a79 3d28 682d 7468  (w-tw)/2:y=(h-th
+00029160: 2d31 3029 277d 0a20 2020 2074 696d 655f  -10)'}.    time_
+00029170: 7465 7874 203d 2074 696d 655f 666f 726d  text = time_form
+00029180: 6174 5f6d 6170 5b74 696d 655f 666f 726d  at_map[time_form
+00029190: 6174 5d0a 2020 2020 706f 7320 3d20 706f  at].    pos = po
+000291a0: 7369 7469 6f6e 5f6d 6170 5b70 6f73 6974  sition_map[posit
+000291b0: 696f 6e5d 0a0a 2020 2020 6966 206f 732e  ion]..    if os.
+000291c0: 7061 7468 2e69 7366 696c 6528 7669 6465  path.isfile(vide
+000291d0: 6f5f 7061 7468 293a 0a20 2020 2020 2020  o_path):.       
+000291e0: 2076 6964 656f 5f70 6174 6873 203d 205b   video_paths = [
+000291f0: 7669 6465 6f5f 7061 7468 5d0a 2020 2020  video_path].    
+00029200: 656c 6966 206f 732e 7061 7468 2e69 7364  elif os.path.isd
+00029210: 6972 2876 6964 656f 5f70 6174 6829 3a0a  ir(video_path):.
+00029220: 2020 2020 2020 2020 7669 6465 6f5f 7061          video_pa
+00029230: 7468 7320 3d20 6c69 7374 2866 696e 645f  ths = list(find_
+00029240: 616c 6c5f 7669 6465 6f73 5f69 6e5f 6469  all_videos_in_di
+00029250: 7265 6374 6f72 7928 6469 7265 6374 6f72  rectory(director
+00029260: 793d 7669 6465 6f5f 7061 7468 2c20 6173  y=video_path, as
+00029270: 5f64 6963 743d 5472 7565 2c20 7261 6973  _dict=True, rais
+00029280: 655f 6572 726f 723d 5472 7565 292e 7661  e_error=True).va
+00029290: 6c75 6573 2829 290a 2020 2020 656c 7365  lues()).    else
+000292a0: 3a0a 2020 2020 2020 2020 7261 6973 6520  :.        raise 
+000292b0: 496e 7661 6c69 6449 6e70 7574 4572 726f  InvalidInputErro
+000292c0: 7228 6d73 673d 6627 7b76 6964 656f 5f70  r(msg=f'{video_p
+000292d0: 6174 687d 2069 7320 6e6f 7420 6120 7661  ath} is not a va
+000292e0: 6c69 6420 6669 6c65 2070 6174 6820 6f72  lid file path or
+000292f0: 2061 2076 616c 6964 2064 6972 6563 746f   a valid directo
+00029300: 7279 2070 6174 6827 2c20 736f 7572 6365  ry path', source
+00029310: 3d73 7570 6572 696d 706f 7365 5f65 6c61  =superimpose_ela
+00029320: 7073 6564 5f74 696d 652e 5f5f 6e61 6d65  psed_time.__name
+00029330: 5f5f 290a 2020 2020 6966 2073 6176 655f  __).    if save_
+00029340: 6469 7220 6973 206e 6f74 204e 6f6e 653a  dir is not None:
+00029350: 0a20 2020 2020 2020 2063 6865 636b 5f69  .        check_i
+00029360: 665f 6469 725f 6578 6973 7473 2869 6e5f  f_dir_exists(in_
+00029370: 6469 723d 7361 7665 5f64 6972 290a 2020  dir=save_dir).  
+00029380: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00029390: 7361 7665 5f64 6972 203d 206f 732e 7061  save_dir = os.pa
+000293a0: 7468 2e64 6972 6e61 6d65 2876 6964 656f  th.dirname(video
+000293b0: 5f70 6174 6873 5b30 5d29 0a20 2020 2066  _paths[0]).    f
+000293c0: 6f72 2066 696c 655f 636e 742c 2076 6964  or file_cnt, vid
+000293d0: 656f 5f70 6174 6820 696e 2065 6e75 6d65  eo_path in enume
+000293e0: 7261 7465 2876 6964 656f 5f70 6174 6873  rate(video_paths
+000293f0: 293a 0a20 2020 2020 2020 205f 2c20 7669  ):.        _, vi
+00029400: 6465 6f5f 6e61 6d65 2c20 6578 7420 3d20  deo_name, ext = 
+00029410: 6765 745f 666e 5f65 7874 2876 6964 656f  get_fn_ext(video
+00029420: 5f70 6174 6829 0a20 2020 2020 2020 2070  _path).        p
+00029430: 7269 6e74 2866 2753 7570 6572 696d 706f  rint(f'Superimpo
+00029440: 7369 6e67 2074 696d 6520 7b76 6964 656f  sing time {video
+00029450: 5f6e 616d 657d 2028 5669 6465 6f20 7b66  _name} (Video {f
+00029460: 696c 655f 636e 7420 2b20 317d 2f7b 6c65  ile_cnt + 1}/{le
+00029470: 6e28 7669 6465 6f5f 7061 7468 7329 7d29  n(video_paths)})
+00029480: 2e2e 2e27 290a 2020 2020 2020 2020 7361  ...').        sa
+00029490: 7665 5f70 6174 6820 3d20 6f73 2e70 6174  ve_path = os.pat
+000294a0: 682e 6a6f 696e 2873 6176 655f 6469 722c  h.join(save_dir,
+000294b0: 2066 277b 7669 6465 6f5f 6e61 6d65 7d5f   f'{video_name}_
+000294c0: 7469 6d65 5f73 7570 6572 696d 706f 7365  time_superimpose
+000294d0: 647b 6578 747d 2729 0a20 2020 2020 2020  d{ext}').       
+000294e0: 2063 6d64 203d 2066 2266 666d 7065 6720   cmd = f"ffmpeg 
+000294f0: 2d69 2027 7b76 6964 656f 5f70 6174 687d  -i '{video_path}
+00029500: 2720 2d76 6620 5c22 6472 6177 7465 7874  ' -vf \"drawtext
+00029510: 3d66 6f6e 7466 696c 653d 7b66 6f6e 745f  =fontfile={font_
+00029520: 7061 7468 7d3a 7465 7874 3d27 7b74 696d  path}:text='{tim
+00029530: 655f 7465 7874 7d27 3a7b 706f 737d 3a66  e_text}':{pos}:f
+00029540: 6f6e 7473 697a 653d 7b66 6f6e 745f 7369  ontsize={font_si
+00029550: 7a65 7d3a 666f 6e74 636f 6c6f 723d 7b66  ze}:fontcolor={f
+00029560: 6f6e 745f 636f 6c6f 727d 3a62 6f72 6465  ont_color}:borde
+00029570: 7277 3d7b 666f 6e74 5f62 6f72 6465 725f  rw={font_border_
+00029580: 7769 6474 687d 3a62 6f72 6465 7263 6f6c  width}:bordercol
+00029590: 6f72 3d7b 666f 6e74 5f62 6f72 6465 725f  or={font_border_
+000295a0: 636f 6c6f 727d 5c22 202d 633a 6120 636f  color}\" -c:a co
+000295b0: 7079 2027 7b73 6176 655f 7061 7468 7d27  py '{save_path}'
+000295c0: 202d 6c6f 676c 6576 656c 2065 7272 6f72   -loglevel error
+000295d0: 202d 7374 6174 7320 2d68 6964 655f 6261   -stats -hide_ba
+000295e0: 6e6e 6572 202d 7922 0a20 2020 2020 2020  nner -y".       
+000295f0: 2073 7562 7072 6f63 6573 732e 6361 6c6c   subprocess.call
+00029600: 2863 6d64 2c20 7368 656c 6c3d 5472 7565  (cmd, shell=True
+00029610: 2c20 7374 646f 7574 3d73 7562 7072 6f63  , stdout=subproc
+00029620: 6573 732e 5049 5045 290a 2020 2020 7469  ess.PIPE).    ti
+00029630: 6d65 722e 7374 6f70 5f74 696d 6572 2829  mer.stop_timer()
+00029640: 0a20 2020 2073 7464 6f75 745f 7375 6363  .    stdout_succ
+00029650: 6573 7328 6d73 673d 6627 5375 7065 722d  ess(msg=f'Super-
+00029660: 696d 706f 7365 6420 7469 6d65 206f 6e20  imposed time on 
+00029670: 7b6c 656e 2876 6964 656f 5f70 6174 6873  {len(video_paths
+00029680: 297d 2076 6964 656f 2873 292c 2073 6176  )} video(s), sav
+00029690: 6564 2069 6e20 7b73 6176 655f 6469 727d  ed in {save_dir}
+000296a0: 272c 2065 6c61 7073 6564 5f74 696d 653d  ', elapsed_time=
+000296b0: 7469 6d65 722e 656c 6170 7365 645f 7469  timer.elapsed_ti
+000296c0: 6d65 5f73 7472 290a 0a64 6566 2072 6576  me_str)..def rev
+000296d0: 6572 7365 5f76 6964 656f 7328 7061 7468  erse_videos(path
+000296e0: 3a20 556e 696f 6e5b 7374 722c 206f 732e  : Union[str, os.
+000296f0: 5061 7468 4c69 6b65 5d2c 0a20 2020 2020  PathLike],.     
+00029700: 2020 2020 2020 2020 2020 2020 2020 7361                sa
+00029710: 7665 5f64 6972 3a20 4f70 7469 6f6e 616c  ve_dir: Optional
+00029720: 5b55 6e69 6f6e 5b73 7472 2c20 6f73 2e50  [Union[str, os.P
+00029730: 6174 684c 696b 655d 5d20 3d20 4e6f 6e65  athLike]] = None
+00029740: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00029750: 2020 2020 2063 6f64 6563 3a20 4c69 7465       codec: Lite
+00029760: 7261 6c5b 276c 6962 7832 3635 272c 2027  ral['libx265', '
+00029770: 6c69 6278 3236 3427 2c20 2776 7039 275d  libx264', 'vp9']
+00029780: 203d 2027 6c69 6278 3236 3527 2c0a 2020   = 'libx265',.  
+00029790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000297a0: 2071 7561 6c69 7479 3a20 4f70 7469 6f6e   quality: Option
+000297b0: 616c 5b69 6e74 5d20 3d20 3630 2920 2d3e  al[int] = 60) ->
+000297c0: 204e 6f6e 653a 0a0a 2020 2020 2222 220a   None:..    """.
+000297d0: 2020 2020 5265 7665 7273 6573 206f 6e65      Reverses one
+000297e0: 206f 7220 6d6f 7265 2076 6964 656f 2066   or more video f
+000297f0: 696c 6573 206c 6f63 6174 6564 2061 7420  iles located at 
+00029800: 7468 6520 7370 6563 6966 6965 6420 7061  the specified pa
+00029810: 7468 2061 6e64 2073 6176 6573 2074 6865  th and saves the
+00029820: 2072 6576 6572 7365 6420 7669 6465 6f73   reversed videos
+00029830: 2069 6e20 7468 6520 7370 6563 6966 6965   in the specifie
+00029840: 640a 2020 2020 6469 7265 6374 6f72 792e  d.    directory.
+00029850: 0a0a 2020 2020 2e2e 2076 6964 656f 3a3a  ..    .. video::
+00029860: 205f 7374 6174 6963 2f69 6d67 2f72 6576   _static/img/rev
+00029870: 6572 7365 5f76 6964 656f 732e 7765 626d  erse_videos.webm
+00029880: 0a20 2020 2020 2020 3a77 6964 7468 3a20  .       :width: 
+00029890: 3830 300a 2020 2020 2020 203a 6c6f 6f70  800.       :loop
+000298a0: 3a0a 0a20 2020 203a 7061 7261 6d20 556e  :..    :param Un
+000298b0: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+000298c0: 4c69 6b65 5d20 7061 7468 3a20 5061 7468  Like] path: Path
+000298d0: 2074 6f20 7468 6520 7669 6465 6f20 6669   to the video fi
+000298e0: 6c65 206f 7220 6469 7265 6374 6f72 7920  le or directory 
+000298f0: 636f 6e74 6169 6e69 6e67 2076 6964 656f  containing video
+00029900: 2066 696c 6573 2074 6f20 6265 2072 6576   files to be rev
+00029910: 6572 7365 642e 0a20 2020 203a 7061 7261  ersed..    :para
+00029920: 6d20 4f70 7469 6f6e 616c 5b55 6e69 6f6e  m Optional[Union
+00029930: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
+00029940: 655d 5d20 7361 7665 5f64 6972 3a20 4469  e]] save_dir: Di
+00029950: 7265 6374 6f72 7920 746f 2073 6176 6520  rectory to save 
+00029960: 7468 6520 7265 7665 7273 6564 2076 6964  the reversed vid
+00029970: 656f 732e 2049 6620 6e6f 7420 7072 6f76  eos. If not prov
+00029980: 6964 6564 2c20 7265 7665 7273 6564 2076  ided, reversed v
+00029990: 6964 656f 7320 7769 6c6c 2062 6520 7361  ideos will be sa
+000299a0: 7665 6420 696e 2061 2073 7562 6469 7265  ved in a subdire
+000299b0: 6374 6f72 7920 6e61 6d65 6420 2772 6576  ctory named 'rev
+000299c0: 6572 7365 645f 3c74 696d 6573 7461 6d70  ersed_<timestamp
+000299d0: 3e27 2069 6e20 7468 6520 7361 6d65 2064  >' in the same d
+000299e0: 6972 6563 746f 7279 2061 7320 7468 6520  irectory as the 
+000299f0: 696e 7075 7420 6669 6c65 2873 292e 0a20  input file(s).. 
+00029a00: 2020 203a 7061 7261 6d20 4f70 7469 6f6e     :param Option
+00029a10: 616c 5b69 6e74 5d20 7175 616c 6974 793a  al[int] quality:
+00029a20: 204f 7574 7075 7420 7669 6465 6f20 7175   Output video qu
+00029a30: 616c 6974 7920 6578 7072 6573 7365 6420  ality expressed 
+00029a40: 6173 2061 2070 6572 6365 6e74 6167 652e  as a percentage.
+00029a50: 2044 6566 6175 6c74 2069 7320 3630 2e20   Default is 60. 
+00029a60: 5661 6c75 6573 2072 616e 6765 2066 726f  Values range fro
+00029a70: 6d20 3120 286c 6f77 2071 7561 6c69 7479  m 1 (low quality
+00029a80: 2c20 6869 6768 2063 6f6d 7072 6573 7369  , high compressi
+00029a90: 6f6e 2920 746f 2031 3030 2028 6869 6768  on) to 100 (high
+00029aa0: 2071 7561 6c69 7479 2c20 6c6f 7720 636f   quality, low co
+00029ab0: 6d70 7265 7373 696f 6e29 2e0a 2020 2020  mpression)..    
+00029ac0: 3a72 6574 7572 6e3a 204e 6f6e 650a 0a20  :return: None.. 
+00029ad0: 2020 203a 6578 616d 706c 653a 0a20 2020     :example:.   
+00029ae0: 203e 3e3e 2072 6576 6572 7365 5f76 6964   >>> reverse_vid
+00029af0: 656f 7328 7061 7468 3d27 2f55 7365 7273  eos(path='/Users
+00029b00: 2f73 696d 6f6e 2f44 6573 6b74 6f70 2f65  /simon/Desktop/e
+00029b10: 6e76 732f 7369 6d62 612f 7472 6f75 626c  nvs/simba/troubl
+00029b20: 6573 686f 6f74 696e 672f 6f70 656e 5f66  eshooting/open_f
+00029b30: 6965 6c64 5f62 656c 6f77 2f70 726f 6a65  ield_below/proje
+00029b40: 6374 5f66 6f6c 6465 722f 7669 6465 6f73  ct_folder/videos
+00029b50: 2f72 6576 6572 7365 2f54 6865 5669 6465  /reverse/TheVide
+00029b60: 6f4e 616d 655f 7669 6465 6f5f 6e61 6d65  oName_video_name
+00029b70: 5f32 5f66 7261 6d65 5f6e 6f2e 6d70 3427  _2_frame_no.mp4'
+00029b80: 290a 2020 2020 2222 220a 0a20 2020 2074  ).    """..    t
+00029b90: 696d 6572 203d 2053 696d 6261 5469 6d65  imer = SimbaTime
+00029ba0: 7228 7374 6172 743d 5472 7565 290a 2020  r(start=True).  
+00029bb0: 2020 6368 6563 6b5f 6666 6d70 6567 5f61    check_ffmpeg_a
+00029bc0: 7661 696c 6162 6c65 2872 6169 7365 5f65  vailable(raise_e
+00029bd0: 7272 6f72 3d54 7275 6529 0a20 2020 2063  rror=True).    c
+00029be0: 6865 636b 5f69 6e73 7461 6e63 6528 736f  heck_instance(so
+00029bf0: 7572 6365 3d66 277b 7265 7665 7273 655f  urce=f'{reverse_
+00029c00: 7669 6465 6f73 2e5f 5f6e 616d 655f 5f7d  videos.__name__}
+00029c10: 2070 6174 6827 2c20 696e 7374 616e 6365   path', instance
+00029c20: 3d70 6174 682c 2061 6363 6570 7465 645f  =path, accepted_
+00029c30: 7479 7065 733d 2873 7472 2c29 290a 2020  types=(str,)).  
+00029c40: 2020 6368 6563 6b5f 696e 7428 6e61 6d65    check_int(name
+00029c50: 3d66 277b 7265 7665 7273 655f 7669 6465  =f'{reverse_vide
+00029c60: 6f73 2e5f 5f6e 616d 655f 5f7d 2071 7561  os.__name__} qua
+00029c70: 6c69 7479 272c 2076 616c 7565 3d71 7561  lity', value=qua
+00029c80: 6c69 7479 290a 2020 2020 6368 6563 6b5f  lity).    check_
+00029c90: 7374 7228 6e61 6d65 3d27 636f 6465 6327  str(name='codec'
+00029ca0: 2c20 7661 6c75 653d 636f 6465 632c 206f  , value=codec, o
+00029cb0: 7074 696f 6e73 3d28 276c 6962 7832 3635  ptions=('libx265
+00029cc0: 272c 2027 6c69 6278 3236 3427 2c20 2776  ', 'libx264', 'v
+00029cd0: 7039 2729 290a 2020 2020 6461 7465 7469  p9')).    dateti
+00029ce0: 6d65 5f20 3d20 6461 7465 7469 6d65 2e6e  me_ = datetime.n
+00029cf0: 6f77 2829 2e73 7472 6674 696d 6528 2225  ow().strftime("%
+00029d00: 5925 6d25 6425 4825 4d25 5322 290a 2020  Y%m%d%H%M%S").  
+00029d10: 2020 6372 665f 6c6b 203d 2070 6572 6365    crf_lk = perce
+00029d20: 6e74 5f74 6f5f 6372 665f 6c6f 6f6b 7570  nt_to_crf_lookup
+00029d30: 2829 0a20 2020 2063 7266 203d 2063 7266  ().    crf = crf
+00029d40: 5f6c 6b5b 7374 7228 7175 616c 6974 7929  _lk[str(quality)
+00029d50: 5d0a 2020 2020 6966 2073 6176 655f 6469  ].    if save_di
+00029d60: 7220 6973 206e 6f74 204e 6f6e 653a 0a20  r is not None:. 
+00029d70: 2020 2020 2020 2063 6865 636b 5f69 665f         check_if_
+00029d80: 6469 725f 6578 6973 7473 2869 6e5f 6469  dir_exists(in_di
+00029d90: 723d 7361 7665 5f64 6972 2c20 736f 7572  r=save_dir, sour
+00029da0: 6365 3d72 6576 6572 7365 5f76 6964 656f  ce=reverse_video
+00029db0: 732e 5f5f 6e61 6d65 5f5f 290a 2020 2020  s.__name__).    
+00029dc0: 6966 206f 732e 7061 7468 2e69 7366 696c  if os.path.isfil
+00029dd0: 6528 7061 7468 293a 0a20 2020 2020 2020  e(path):.       
+00029de0: 2066 696c 655f 7061 7468 7320 3d20 5b70   file_paths = [p
+00029df0: 6174 685d 0a20 2020 2020 2020 2069 6620  ath].        if 
+00029e00: 7361 7665 5f64 6972 2069 7320 4e6f 6e65  save_dir is None
+00029e10: 3a0a 2020 2020 2020 2020 2020 2020 7361  :.            sa
+00029e20: 7665 5f64 6972 203d 206f 732e 7061 7468  ve_dir = os.path
+00029e30: 2e6a 6f69 6e28 6f73 2e70 6174 682e 6469  .join(os.path.di
+00029e40: 726e 616d 6528 7061 7468 292c 2066 2772  rname(path), f'r
+00029e50: 6576 6572 7365 645f 7b64 6174 6574 696d  eversed_{datetim
+00029e60: 655f 7d27 290a 2020 2020 2020 2020 2020  e_}').          
+00029e70: 2020 6f73 2e6d 616b 6564 6972 7328 7361    os.makedirs(sa
+00029e80: 7665 5f64 6972 290a 2020 2020 656c 6966  ve_dir).    elif
+00029e90: 206f 732e 7061 7468 2e69 7364 6972 2870   os.path.isdir(p
+00029ea0: 6174 6829 3a0a 2020 2020 2020 2020 6669  ath):.        fi
+00029eb0: 6c65 5f70 6174 6873 203d 2066 696e 645f  le_paths = find_
+00029ec0: 6669 6c65 735f 6f66 5f66 696c 6574 7970  files_of_filetyp
+00029ed0: 6573 5f69 6e5f 6469 7265 6374 6f72 7928  es_in_directory(
+00029ee0: 6469 7265 6374 6f72 793d 7061 7468 2c20  directory=path, 
+00029ef0: 6578 7465 6e73 696f 6e73 3d4f 7074 696f  extensions=Optio
+00029f00: 6e73 2e41 4c4c 5f56 4944 454f 5f46 4f52  ns.ALL_VIDEO_FOR
+00029f10: 4d41 545f 4f50 5449 4f4e 532e 7661 6c75  MAT_OPTIONS.valu
+00029f20: 652c 2072 6169 7365 5f65 7272 6f72 3d54  e, raise_error=T
+00029f30: 7275 6529 0a20 2020 2020 2020 2069 6620  rue).        if 
+00029f40: 7361 7665 5f64 6972 2069 7320 4e6f 6e65  save_dir is None
+00029f50: 3a0a 2020 2020 2020 2020 2020 2020 7361  :.            sa
+00029f60: 7665 5f64 6972 203d 206f 732e 7061 7468  ve_dir = os.path
+00029f70: 2e6a 6f69 6e28 7061 7468 2c20 6627 6d70  .join(path, f'mp
+00029f80: 345f 7b64 6174 6574 696d 655f 7d27 290a  4_{datetime_}').
+00029f90: 2020 2020 2020 2020 2020 2020 6f73 2e6d              os.m
+00029fa0: 616b 6564 6972 7328 7361 7665 5f64 6972  akedirs(save_dir
+00029fb0: 290a 2020 2020 656c 7365 3a0a 2020 2020  ).    else:.    
+00029fc0: 2020 2020 7261 6973 6520 496e 7661 6c69      raise Invali
+00029fd0: 6449 6e70 7574 4572 726f 7228 6d73 673d  dInputError(msg=
+00029fe0: 6627 5061 7468 2069 7320 6e6f 7420 6120  f'Path is not a 
+00029ff0: 7661 6c69 6420 6669 6c65 206f 7220 6469  valid file or di
+0002a000: 7265 6374 6f72 7920 7061 7468 2e27 2c20  rectory path.', 
+0002a010: 736f 7572 6365 3d72 6576 6572 7365 5f76  source=reverse_v
+0002a020: 6964 656f 732e 5f5f 6e61 6d65 5f5f 290a  ideos.__name__).
+0002a030: 2020 2020 666f 7220 6669 6c65 5f63 6e74      for file_cnt
+0002a040: 2c20 6669 6c65 5f70 6174 6820 696e 2065  , file_path in e
+0002a050: 6e75 6d65 7261 7465 2866 696c 655f 7061  numerate(file_pa
+0002a060: 7468 7329 3a0a 2020 2020 2020 2020 5f2c  ths):.        _,
+0002a070: 2076 6964 656f 5f6e 616d 652c 2065 7874   video_name, ext
+0002a080: 203d 2067 6574 5f66 6e5f 6578 7428 6669   = get_fn_ext(fi
+0002a090: 6c65 7061 7468 3d66 696c 655f 7061 7468  lepath=file_path
+0002a0a0: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
+0002a0b0: 6627 5265 7665 7273 696e 6720 7669 6465  f'Reversing vide
+0002a0c0: 6f20 7b76 6964 656f 5f6e 616d 657d 2028  o {video_name} (
+0002a0d0: 5669 6465 6f20 7b66 696c 655f 636e 742b  Video {file_cnt+
+0002a0e0: 317d 2f7b 6c65 6e28 6669 6c65 5f70 6174  1}/{len(file_pat
+0002a0f0: 6873 297d 292e 2e2e 2729 0a20 2020 2020  hs)})...').     
+0002a100: 2020 205f 203d 2067 6574 5f76 6964 656f     _ = get_video
+0002a110: 5f6d 6574 615f 6461 7461 2876 6964 656f  _meta_data(video
+0002a120: 5f70 6174 683d 6669 6c65 5f70 6174 6829  _path=file_path)
+0002a130: 0a20 2020 2020 2020 206f 7574 5f70 6174  .        out_pat
+0002a140: 6820 3d20 6f73 2e70 6174 682e 6a6f 696e  h = os.path.join
+0002a150: 2873 6176 655f 6469 722c 2066 277b 7669  (save_dir, f'{vi
+0002a160: 6465 6f5f 6e61 6d65 7d7b 6578 747d 2729  deo_name}{ext}')
+0002a170: 0a20 2020 2020 2020 2063 6d64 203d 2066  .        cmd = f
+0002a180: 2766 666d 7065 6720 2d69 2022 7b66 696c  'ffmpeg -i "{fil
+0002a190: 655f 7061 7468 7d22 202d 7666 2072 6576  e_path}" -vf rev
+0002a1a0: 6572 7365 202d 6166 2061 7265 7665 7273  erse -af arevers
+0002a1b0: 6520 2d63 3a76 207b 636f 6465 637d 202d  e -c:v {codec} -
+0002a1c0: 6372 6620 7b63 7266 7d20 227b 6f75 745f  crf {crf} "{out_
+0002a1d0: 7061 7468 7d22 202d 6c6f 676c 6576 656c  path}" -loglevel
+0002a1e0: 2065 7272 6f72 202d 7374 6174 7320 2d68   error -stats -h
+0002a1f0: 6964 655f 6261 6e6e 6572 202d 7927 0a20  ide_banner -y'. 
+0002a200: 2020 2020 2020 2073 7562 7072 6f63 6573         subproces
+0002a210: 732e 6361 6c6c 2863 6d64 2c20 7368 656c  s.call(cmd, shel
+0002a220: 6c3d 5472 7565 2c20 7374 646f 7574 3d73  l=True, stdout=s
+0002a230: 7562 7072 6f63 6573 732e 5049 5045 290a  ubprocess.PIPE).
+0002a240: 2020 2020 7469 6d65 722e 7374 6f70 5f74      timer.stop_t
+0002a250: 696d 6572 2829 0a20 2020 2073 7464 6f75  imer().    stdou
+0002a260: 745f 7375 6363 6573 7328 6d73 673d 6622  t_success(msg=f"
+0002a270: 7b6c 656e 2866 696c 655f 7061 7468 7329  {len(file_paths)
+0002a280: 7d20 7669 6465 6f28 7329 2072 6576 6572  } video(s) rever
+0002a290: 7365 6420 616e 6420 7361 7665 6420 696e  sed and saved in
+0002a2a0: 207b 7361 7665 5f64 6972 7d20 6469 7265   {save_dir} dire
+0002a2b0: 6374 6f72 792e 222c 2065 6c61 7073 6564  ctory.", elapsed
+0002a2c0: 5f74 696d 653d 7469 6d65 722e 656c 6170  _time=timer.elap
+0002a2d0: 7365 645f 7469 6d65 5f73 7472 2c20 736f  sed_time_str, so
+0002a2e0: 7572 6365 3d72 6576 6572 7365 5f76 6964  urce=reverse_vid
+0002a2f0: 656f 732e 5f5f 6e61 6d65 5f5f 290a 0a64  eos.__name__)..d
+0002a300: 6566 2076 6964 656f 5f74 6f5f 6277 2876  ef video_to_bw(v
+0002a310: 6964 656f 5f70 6174 683a 2055 6e69 6f6e  ideo_path: Union
+0002a320: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
+0002a330: 655d 2c0a 2020 2020 2020 2020 2020 2020  e],.            
+0002a340: 2020 2020 7468 7265 7368 6f6c 643a 204f      threshold: O
+0002a350: 7074 696f 6e61 6c5b 666c 6f61 745d 203d  ptional[float] =
+0002a360: 2030 2e35 2c0a 2020 2020 2020 2020 2020   0.5,.          
+0002a370: 2020 2020 2020 7361 7665 5f64 6972 3a20        save_dir: 
+0002a380: 4f70 7469 6f6e 616c 5b55 6e69 6f6e 5b73  Optional[Union[s
+0002a390: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
+0002a3a0: 5d20 3d20 4e6f 6e65 2920 2d3e 204e 6f6e  ] = None) -> Non
+0002a3b0: 653a 0a20 2020 2022 2222 0a20 2020 2043  e:.    """.    C
+0002a3c0: 6f6e 7665 7274 2076 6964 656f 2074 6f20  onvert video to 
+0002a3d0: 626c 6163 6b20 616e 6420 7768 6974 6520  black and white 
+0002a3e0: 7573 696e 6720 7061 7373 6564 2074 6872  using passed thr
+0002a3f0: 6573 686f 6c64 2e0a 0a20 2020 202e 2e20  eshold...    .. 
+0002a400: 7669 6465 6f3a 3a20 5f73 7461 7469 632f  video:: _static/
+0002a410: 696d 672f 7669 6465 6f5f 746f 5f62 772e  img/video_to_bw.
+0002a420: 7765 626d 0a20 2020 2020 2020 3a77 6964  webm.       :wid
+0002a430: 7468 3a20 3830 300a 2020 2020 2020 203a  th: 800.       :
+0002a440: 6175 746f 706c 6179 3a0a 2020 2020 2020  autoplay:.      
+0002a450: 203a 6c6f 6f70 3a0a 0a20 2020 203a 7061   :loop:..    :pa
+0002a460: 7261 6d20 556e 696f 6e5b 7374 722c 206f  ram Union[str, o
+0002a470: 732e 5061 7468 4c69 6b65 5d20 7669 6465  s.PathLike] vide
+0002a480: 6f5f 7061 7468 3a20 5061 7468 2074 6f20  o_path: Path to 
+0002a490: 7468 6520 7669 6465 6f0a 2020 2020 3a70  the video.    :p
+0002a4a0: 6172 616d 204f 7074 696f 6e61 6c5b 666c  aram Optional[fl
+0002a4b0: 6f61 745d 2074 6872 6573 686f 6c64 3a20  oat] threshold: 
+0002a4c0: 5661 6c75 6520 6265 7477 6565 6e20 3020  Value between 0 
+0002a4d0: 616e 6420 312e 204c 6f77 6572 2076 616c  and 1. Lower val
+0002a4e0: 7565 7320 6769 7665 7320 6d6f 7265 2077  ues gives more w
+0002a4f0: 6869 7465 2061 6e64 2076 6963 6520 7665  hite and vice ve
+0002a500: 7273 612e 0a20 2020 203a 7265 7475 726e  rsa..    :return
+0002a510: 3a20 4e6f 6e65 2e0a 0a20 2020 203a 6578  : None...    :ex
+0002a520: 616d 706c 653a 0a20 2020 203e 3e3e 2076  ample:.    >>> v
+0002a530: 6964 656f 5f74 6f5f 6277 2876 6964 656f  ideo_to_bw(video
+0002a540: 5f70 6174 683d 272f 5573 6572 732f 7369  _path='/Users/si
+0002a550: 6d6f 6e2f 446f 776e 6c6f 6164 732f 315f  mon/Downloads/1_
+0002a560: 4c48 5f63 6c69 7070 6564 5f63 726f 7070  LH_clipped_cropp
+0002a570: 6564 5f65 715f 3230 3234 3035 3135 3133  ed_eq_2024051513
+0002a580: 3539 3236 2e6d 7034 272c 2074 6872 6573  5926.mp4', thres
+0002a590: 686f 6c64 3d30 2e30 3229 0a20 2020 2022  hold=0.02).    "
+0002a5a0: 2222 0a0a 2020 2020 6368 6563 6b5f 666c  ""..    check_fl
+0002a5b0: 6f61 7428 6e61 6d65 3d66 277b 7669 6465  oat(name=f'{vide
+0002a5c0: 6f5f 746f 5f62 772e 5f5f 6e61 6d65 5f5f  o_to_bw.__name__
+0002a5d0: 7d20 7468 7265 7368 6f6c 6427 2c20 7661  } threshold', va
+0002a5e0: 6c75 653d 7468 7265 7368 6f6c 642c 206d  lue=threshold, m
+0002a5f0: 696e 5f76 616c 7565 3d30 2c20 6d61 785f  in_value=0, max_
+0002a600: 7661 6c75 653d 312e 3029 0a20 2020 2069  value=1.0).    i
+0002a610: 6620 6f73 2e70 6174 682e 6973 6669 6c65  f os.path.isfile
+0002a620: 2876 6964 656f 5f70 6174 6829 3a0a 2020  (video_path):.  
+0002a630: 2020 2020 2020 7669 6465 6f5f 7061 7468        video_path
+0002a640: 7320 3d20 5b76 6964 656f 5f70 6174 685d  s = [video_path]
+0002a650: 0a20 2020 2065 6c69 6620 6f73 2e70 6174  .    elif os.pat
+0002a660: 682e 6973 6469 7228 7669 6465 6f5f 7061  h.isdir(video_pa
+0002a670: 7468 293a 0a20 2020 2020 2020 2076 6964  th):.        vid
+0002a680: 656f 5f70 6174 6873 203d 206c 6973 7428  eo_paths = list(
+0002a690: 6669 6e64 5f61 6c6c 5f76 6964 656f 735f  find_all_videos_
+0002a6a0: 696e 5f64 6972 6563 746f 7279 2864 6972  in_directory(dir
+0002a6b0: 6563 746f 7279 3d76 6964 656f 5f70 6174  ectory=video_pat
+0002a6c0: 682c 2061 735f 6469 6374 3d54 7275 652c  h, as_dict=True,
+0002a6d0: 2072 6169 7365 5f65 7272 6f72 3d54 7275   raise_error=Tru
+0002a6e0: 6529 2e76 616c 7565 7328 2929 0a20 2020  e).values()).   
+0002a6f0: 2065 6c73 653a 0a20 2020 2020 2020 2072   else:.        r
+0002a700: 6169 7365 2049 6e76 616c 6964 496e 7075  aise InvalidInpu
+0002a710: 7445 7272 6f72 286d 7367 3d66 277b 7669  tError(msg=f'{vi
+0002a720: 6465 6f5f 7061 7468 7d20 6973 206e 6f74  deo_path} is not
+0002a730: 2061 2076 616c 6964 2066 696c 6520 7061   a valid file pa
+0002a740: 7468 206f 7220 6120 7661 6c69 6420 6469  th or a valid di
+0002a750: 7265 6374 6f72 7920 7061 7468 272c 2073  rectory path', s
+0002a760: 6f75 7263 653d 7669 6465 6f5f 746f 5f62  ource=video_to_b
+0002a770: 772e 5f5f 6e61 6d65 5f5f 290a 2020 2020  w.__name__).    
+0002a780: 6966 2073 6176 655f 6469 7220 6973 206e  if save_dir is n
+0002a790: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
+0002a7a0: 2063 6865 636b 5f69 665f 6469 725f 6578   check_if_dir_ex
+0002a7b0: 6973 7473 2869 6e5f 6469 723d 7361 7665  ists(in_dir=save
+0002a7c0: 5f64 6972 290a 2020 2020 656c 7365 3a0a  _dir).    else:.
+0002a7d0: 2020 2020 2020 2020 7361 7665 5f64 6972          save_dir
+0002a7e0: 203d 206f 732e 7061 7468 2e64 6972 6e61   = os.path.dirna
+0002a7f0: 6d65 2876 6964 656f 5f70 6174 6873 5b30  me(video_paths[0
+0002a800: 5d29 0a20 2020 2066 6f72 2066 696c 655f  ]).    for file_
+0002a810: 636e 742c 2076 6964 656f 5f70 6174 6820  cnt, video_path 
+0002a820: 696e 2065 6e75 6d65 7261 7465 2876 6964  in enumerate(vid
+0002a830: 656f 5f70 6174 6873 293a 0a20 2020 2020  eo_paths):.     
+0002a840: 2020 205f 2c20 7669 6465 6f5f 6e61 6d65     _, video_name
+0002a850: 2c20 6578 7420 3d20 6765 745f 666e 5f65  , ext = get_fn_e
+0002a860: 7874 2876 6964 656f 5f70 6174 6829 0a20  xt(video_path). 
+0002a870: 2020 2074 6872 6573 686f 6c64 203d 2069     threshold = i
+0002a880: 6e74 2832 3535 202a 2074 6872 6573 686f  nt(255 * thresho
+0002a890: 6c64 290a 2020 2020 6368 6563 6b5f 6666  ld).    check_ff
+0002a8a0: 6d70 6567 5f61 7661 696c 6162 6c65 2872  mpeg_available(r
+0002a8b0: 6169 7365 5f65 7272 6f72 3d54 7275 6529  aise_error=True)
+0002a8c0: 0a20 2020 2074 696d 6572 203d 2053 696d  .    timer = Sim
+0002a8d0: 6261 5469 6d65 7228 7374 6172 743d 5472  baTimer(start=Tr
+0002a8e0: 7565 290a 2020 2020 666f 7220 6669 6c65  ue).    for file
+0002a8f0: 5f63 6e74 2c20 7669 6465 6f5f 7061 7468  _cnt, video_path
+0002a900: 2069 6e20 656e 756d 6572 6174 6528 7669   in enumerate(vi
+0002a910: 6465 6f5f 7061 7468 7329 3a0a 2020 2020  deo_paths):.    
+0002a920: 2020 2020 5f2c 2076 6964 656f 5f6e 616d      _, video_nam
+0002a930: 652c 2065 7874 203d 2067 6574 5f66 6e5f  e, ext = get_fn_
+0002a940: 6578 7428 7669 6465 6f5f 7061 7468 290a  ext(video_path).
+0002a950: 2020 2020 2020 2020 7072 696e 7428 6627          print(f'
+0002a960: 436f 6e76 6572 7469 6e67 2076 6964 656f  Converting video
+0002a970: 207b 7669 6465 6f5f 6e61 6d65 7d20 746f   {video_name} to
+0002a980: 2062 6c61 636b 2061 6e64 2077 6869 7465   black and white
+0002a990: 2028 5669 6465 6f20 7b66 696c 655f 636e   (Video {file_cn
+0002a9a0: 7420 2b20 317d 2f7b 6c65 6e28 7669 6465  t + 1}/{len(vide
+0002a9b0: 6f5f 7061 7468 7329 7d29 2e2e 2e27 290a  o_paths)})...').
+0002a9c0: 2020 2020 2020 2020 5f20 3d20 6765 745f          _ = get_
+0002a9d0: 7669 6465 6f5f 6d65 7461 5f64 6174 6128  video_meta_data(
+0002a9e0: 7669 6465 6f5f 7061 7468 3d76 6964 656f  video_path=video
+0002a9f0: 5f70 6174 6829 0a20 2020 2020 2020 205f  _path).        _
+0002aa00: 2c20 7669 6465 6f5f 6e61 6d65 2c20 6578  , video_name, ex
+0002aa10: 7420 3d20 6765 745f 666e 5f65 7874 2876  t = get_fn_ext(v
+0002aa20: 6964 656f 5f70 6174 6829 0a20 2020 2020  ideo_path).     
+0002aa30: 2020 2073 6176 655f 7061 7468 203d 206f     save_path = o
+0002aa40: 732e 7061 7468 2e6a 6f69 6e28 7361 7665  s.path.join(save
+0002aa50: 5f64 6972 2c20 6627 7b76 6964 656f 5f6e  _dir, f'{video_n
+0002aa60: 616d 657d 5f62 777b 6578 747d 2729 0a20  ame}_bw{ext}'). 
+0002aa70: 2020 2020 2020 2063 6d64 203d 2066 2266         cmd = f"f
+0002aa80: 666d 7065 6720 2d69 2027 7b76 6964 656f  fmpeg -i '{video
+0002aa90: 5f70 6174 687d 2720 2d76 6620 5c22 666f  _path}' -vf \"fo
+0002aaa0: 726d 6174 3d67 7261 792c 6765 713d 6c75  rmat=gray,geq=lu
+0002aab0: 6d5f 6578 7072 3d27 6966 286c 7428 6c75  m_expr='if(lt(lu
+0002aac0: 6d28 582c 5929 2c7b 7468 7265 7368 6f6c  m(X,Y),{threshol
+0002aad0: 647d 292c 302c 3235 3529 275c 2220 2d70  d}),0,255)'\" -p
+0002aae0: 6978 5f66 6d74 2079 7576 3432 3070 2027  ix_fmt yuv420p '
+0002aaf0: 7b73 6176 655f 7061 7468 7d27 202d 6c6f  {save_path}' -lo
+0002ab00: 676c 6576 656c 2065 7272 6f72 202d 7374  glevel error -st
+0002ab10: 6174 7320 2d68 6964 655f 6261 6e6e 6572  ats -hide_banner
+0002ab20: 202d 7922 0a20 2020 2020 2020 2073 7562   -y".        sub
+0002ab30: 7072 6f63 6573 732e 6361 6c6c 2863 6d64  process.call(cmd
+0002ab40: 2c20 7368 656c 6c3d 5472 7565 2c20 7374  , shell=True, st
+0002ab50: 646f 7574 3d73 7562 7072 6f63 6573 732e  dout=subprocess.
+0002ab60: 5049 5045 290a 2020 2020 2020 2020 7469  PIPE).        ti
+0002ab70: 6d65 722e 7374 6f70 5f74 696d 6572 2829  mer.stop_timer()
+0002ab80: 0a20 2020 2020 2020 2073 7464 6f75 745f  .        stdout_
+0002ab90: 7375 6363 6573 7328 6d73 673d 6627 5669  success(msg=f'Vi
+0002aba0: 6465 6f20 7b76 6964 656f 5f6e 616d 657d  deo {video_name}
+0002abb0: 2063 6f6e 7665 7274 6564 2074 6f20 626c   converted to bl
+0002abc0: 6163 6b20 616e 6420 7768 6974 652e 272c  ack and white.',
+0002abd0: 2065 6c61 7073 6564 5f74 696d 653d 7469   elapsed_time=ti
+0002abe0: 6d65 722e 656c 6170 7365 645f 7469 6d65  mer.elapsed_time
+0002abf0: 5f73 7472 290a 0a23 7669 6465 6f5f 746f  _str)..#video_to
+0002ac00: 5f62 7728 7669 6465 6f5f 7061 7468 3d27  _bw(video_path='
+0002ac10: 2f55 7365 7273 2f73 696d 6f6e 2f44 6573  /Users/simon/Des
+0002ac20: 6b74 6f70 2f53 6372 6565 6e20 5265 636f  ktop/Screen Reco
+0002ac30: 7264 696e 6720 3230 3234 2d30 352d 3038  rding 2024-05-08
+0002ac40: 2061 7420 3130 2e35 372e 3539 2041 4d5f   at 10.57.59 AM_
+0002ac50: 7570 7361 6d70 6c65 645f 7469 6d65 5f73  upsampled_time_s
+0002ac60: 7570 6572 696d 706f 7365 642e 6d6f 7627  uperimposed.mov'
+0002ac70: 2c20 7468 7265 7368 6f6c 643d 302e 3529  , threshold=0.5)
+0002ac80: 0a0a 0a64 6566 2063 7265 6174 655f 6176  ...def create_av
+0002ac90: 6572 6167 655f 6672 6d28 7669 6465 6f5f  erage_frm(video_
+0002aca0: 7061 7468 3a20 556e 696f 6e5b 7374 722c  path: Union[str,
+0002acb0: 206f 732e 5061 7468 4c69 6b65 5d2c 0a20   os.PathLike],. 
+0002acc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002acd0: 2020 2020 2020 7374 6172 745f 6672 6d3a        start_frm:
+0002ace0: 204f 7074 696f 6e61 6c5b 696e 745d 203d   Optional[int] =
+0002acf0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+0002ad00: 2020 2020 2020 2020 2020 2020 2020 656e                en
+0002ad10: 645f 6672 6d3a 204f 7074 696f 6e61 6c5b  d_frm: Optional[
+0002ad20: 696e 745d 203d 204e 6f6e 652c 0a20 2020  int] = None,.   
+0002ad30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ad40: 2020 2020 7374 6172 745f 7469 6d65 3a20      start_time: 
+0002ad50: 4f70 7469 6f6e 616c 5b73 7472 5d20 3d20  Optional[str] = 
+0002ad60: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
+0002ad70: 2020 2020 2020 2020 2020 2020 2065 6e64               end
+0002ad80: 5f74 696d 653a 204f 7074 696f 6e61 6c5b  _time: Optional[
+0002ad90: 7374 725d 203d 204e 6f6e 652c 0a20 2020  str] = None,.   
+0002ada0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002adb0: 2020 2020 7361 7665 5f70 6174 683a 204f      save_path: O
+0002adc0: 7074 696f 6e61 6c5b 556e 696f 6e5b 7374  ptional[Union[st
+0002add0: 722c 206f 732e 5061 7468 4c69 6b65 5d5d  r, os.PathLike]]
+0002ade0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0002adf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ae00: 7665 7262 6f73 653a 204f 7074 696f 6e61  verbose: Optiona
+0002ae10: 6c5b 626f 6f6c 5d20 3d20 4661 6c73 6529  l[bool] = False)
+0002ae20: 202d 3e20 556e 696f 6e5b 4e6f 6e65 2c20   -> Union[None, 
+0002ae30: 6e70 2e6e 6461 7272 6179 5d3a 0a0a 2020  np.ndarray]:..  
+0002ae40: 2020 2222 220a 2020 2020 4372 6561 7465    """.    Create
+0002ae50: 2061 6e20 696d 6167 6520 7265 7072 6573   an image repres
+0002ae60: 656e 7469 6e67 2074 6865 2061 7665 7261  enting the avera
+0002ae70: 6765 2066 7261 6d65 206f 6620 6120 7365  ge frame of a se
+0002ae80: 676d 656e 7420 696e 2061 2076 6964 656f  gment in a video
+0002ae90: 206f 7220 616e 2065 6e74 6972 6520 7669   or an entire vi
+0002aea0: 6465 6f2e 0a0a 2020 2020 2e2e 2076 6964  deo...    .. vid
+0002aeb0: 656f 3a3a 205f 7374 6174 6963 2f69 6d67  eo:: _static/img
+0002aec0: 2f63 7265 6174 655f 6176 6572 6167 655f  /create_average_
+0002aed0: 6672 6d5f 312e 7765 626d 0a20 2020 2020  frm_1.webm.     
+0002aee0: 2020 3a77 6964 7468 3a20 3830 300a 2020    :width: 800.  
+0002aef0: 2020 2020 203a 6175 746f 706c 6179 3a0a       :autoplay:.
+0002af00: 2020 2020 2020 203a 6c6f 6f70 3a0a 0a20         :loop:.. 
+0002af10: 2020 202e 2e20 7669 6465 6f3a 3a20 5f73     .. video:: _s
+0002af20: 7461 7469 632f 696d 672f 6372 6561 7465  tatic/img/create
+0002af30: 5f61 7665 7261 6765 5f66 726d 5f32 2e77  _average_frm_2.w
+0002af40: 6562 6d0a 2020 2020 2020 203a 7769 6474  ebm.       :widt
+0002af50: 683a 2038 3030 0a20 2020 2020 2020 3a61  h: 800.       :a
+0002af60: 7574 6f70 6c61 793a 0a20 2020 2020 2020  utoplay:.       
+0002af70: 3a6c 6f6f 703a 0a0a 2020 2020 2e2e 2076  :loop:..    .. v
+0002af80: 6964 656f 3a3a 205f 7374 6174 6963 2f69  ideo:: _static/i
+0002af90: 6d67 2f63 7265 6174 655f 6176 6572 6167  mg/create_averag
+0002afa0: 655f 6672 6d5f 332e 7765 626d 0a20 2020  e_frm_3.webm.   
+0002afb0: 2020 2020 3a77 6964 7468 3a20 3830 300a      :width: 800.
+0002afc0: 2020 2020 2020 203a 6175 746f 706c 6179         :autoplay
+0002afd0: 3a0a 2020 2020 2020 203a 6c6f 6f70 3a0a  :.       :loop:.
+0002afe0: 0a20 2020 202e 2e20 7669 6465 6f3a 3a20  .    .. video:: 
+0002aff0: 5f73 7461 7469 632f 696d 672f 6372 6561  _static/img/crea
+0002b000: 7465 5f61 7665 7261 6765 5f66 726d 5f34  te_average_frm_4
+0002b010: 2e77 6562 6d0a 2020 2020 2020 203a 7769  .webm.       :wi
+0002b020: 6474 683a 2038 3030 0a20 2020 2020 2020  dth: 800.       
+0002b030: 3a61 7574 6f70 6c61 793a 0a20 2020 2020  :autoplay:.     
+0002b040: 2020 3a6c 6f6f 703a 0a0a 2020 2020 2e2e    :loop:..    ..
+0002b050: 206e 6f74 653a 3a0a 2020 2020 2020 2055   note::.       U
+0002b060: 7365 6675 6c20 6865 6c70 6572 2066 6f72  seful helper for
+0002b070: 2065 2e67 2e2c 2076 6964 656f 2062 6163   e.g., video bac
+0002b080: 6b67 726f 756e 6420 7375 6274 7261 6374  kground subtract
+0002b090: 696f 6e20 6060 7369 6d62 612e 7669 6465  ion ``simba.vide
+0002b0a0: 6f5f 7072 6f63 6573 736f 7273 2e76 6964  o_processors.vid
+0002b0b0: 656f 5f70 726f 6365 7373 696e 672e 7669  eo_processing.vi
+0002b0c0: 6465 6f5f 6267 5f73 7562 7374 7261 6374  deo_bg_substract
+0002b0d0: 696f 6e28 2960 600a 2020 2020 2020 2045  ion()``.       E
+0002b0e0: 6974 6865 7220 7061 7373 2060 6073 7461  ither pass ``sta
+0002b0f0: 7274 5f66 726d 6060 2061 6e64 2060 6065  rt_frm`` and ``e
+0002b100: 6e64 5f66 726d 6060 204f 5220 6060 7374  nd_frm`` OR ``st
+0002b110: 6172 745f 7469 6d65 6060 2061 6e64 2060  art_time`` and `
+0002b120: 6065 6e64 5f74 696d 6560 6020 4f52 2070  `end_time`` OR p
+0002b130: 6173 7320 616c 6c20 666f 7572 2061 7267  ass all four arg
+0002b140: 756d 656e 7473 2061 7320 4e6f 6e65 2e0a  uments as None..
+0002b150: 2020 2020 2020 2049 6620 616c 6c20 6172         If all ar
+0002b160: 6520 4e6f 6e65 2c20 7468 656e 2074 6865  e None, then the
+0002b170: 2065 6e74 6972 6520 7669 6465 6f20 7769   entire video wi
+0002b180: 6c6c 2062 6520 7573 6564 2074 6f20 6372  ll be used to cr
+0002b190: 6561 7465 2074 6865 2061 7665 7261 6765  eate the average
+0002b1a0: 2066 7261 6d65 2e0a 0a20 2020 203a 7061   frame...    :pa
+0002b1b0: 7261 6d20 556e 696f 6e5b 7374 722c 206f  ram Union[str, o
+0002b1c0: 732e 5061 7468 4c69 6b65 5d20 7669 6465  s.PathLike] vide
+0002b1d0: 6f5f 7061 7468 3a20 5468 6520 7061 7468  o_path: The path
+0002b1e0: 2074 6f20 7468 6520 7669 6465 6f20 746f   to the video to
+0002b1f0: 2063 7265 6174 6520 7468 6520 6176 6572   create the aver
+0002b200: 6167 6520 6672 616d 6520 6672 6f6d 2e20  age frame from. 
+0002b210: 4465 6661 756c 743a 204e 6f6e 652e 0a20  Default: None.. 
+0002b220: 2020 203a 7061 7261 6d20 4f70 7469 6f6e     :param Option
+0002b230: 616c 5b69 6e74 5d20 7374 6172 745f 6672  al[int] start_fr
+0002b240: 6d3a 2054 6865 2066 6972 7374 2066 7261  m: The first fra
+0002b250: 6d65 2069 6e20 7468 6520 7365 676d 656e  me in the segmen
+0002b260: 7420 746f 2063 7265 6174 6520 7468 6520  t to create the 
+0002b270: 6176 6572 6167 6520 6672 616d 6520 6672  average frame fr
+0002b280: 6f6d 2e20 4465 6661 756c 743a 204e 6f6e  om. Default: Non
+0002b290: 652e 0a20 2020 203a 7061 7261 6d20 4f70  e..    :param Op
+0002b2a0: 7469 6f6e 616c 5b69 6e74 5d20 656e 645f  tional[int] end_
+0002b2b0: 6672 6d3a 2054 6865 206c 6173 7420 6672  frm: The last fr
+0002b2c0: 616d 6520 696e 2074 6865 2073 6567 6d65  ame in the segme
+0002b2d0: 6e74 2074 6f20 6372 6561 7465 2074 6865  nt to create the
+0002b2e0: 2061 7665 7261 6765 2066 7261 6d65 2066   average frame f
+0002b2f0: 726f 6d2e 2044 6566 6175 6c74 3a20 4e6f  rom. Default: No
+0002b300: 6e65 2e0a 2020 2020 3a70 6172 616d 204f  ne..    :param O
+0002b310: 7074 696f 6e61 6c5b 7374 725d 2073 7461  ptional[str] sta
+0002b320: 7274 5f74 696d 653a 2054 6865 2073 7461  rt_time: The sta
+0002b330: 7274 2074 696d 6573 7461 6d70 2069 6e20  rt timestamp in 
+0002b340: 6048 483a 4d4d 3a53 5360 2066 6f72 6d61  `HH:MM:SS` forma
+0002b350: 7420 696e 2074 6865 2073 6567 6d65 6e74  t in the segment
+0002b360: 2074 6f20 6372 6561 7465 2074 6865 2061   to create the a
+0002b370: 7665 7261 6765 2066 7261 6d65 2066 726f  verage frame fro
+0002b380: 6d2e 2044 6566 6175 6c74 3a20 4e6f 6e65  m. Default: None
+0002b390: 2e0a 2020 2020 3a70 6172 616d 204f 7074  ..    :param Opt
+0002b3a0: 696f 6e61 6c5b 7374 725d 2065 6e64 5f74  ional[str] end_t
+0002b3b0: 696d 653a 2054 6865 2065 6e64 2074 696d  ime: The end tim
+0002b3c0: 6573 7461 6d70 2069 6e20 6048 483a 4d4d  estamp in `HH:MM
+0002b3d0: 3a53 5360 2066 6f72 6d61 7420 696e 2074  :SS` format in t
+0002b3e0: 6865 2073 6567 6d65 6e74 2074 6f20 6372  he segment to cr
+0002b3f0: 6561 7465 2074 6865 2061 7665 7261 6765  eate the average
+0002b400: 2066 7261 6d65 2066 726f 6d2e 2044 6566   frame from. Def
+0002b410: 6175 6c74 3a20 4e6f 6e65 2e0a 2020 2020  ault: None..    
+0002b420: 3a70 6172 616d 204f 7074 696f 6e61 6c5b  :param Optional[
+0002b430: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
+0002b440: 7468 4c69 6b65 5d5d 2073 6176 655f 7061  thLike]] save_pa
+0002b450: 7468 3a20 5468 6520 7061 7468 2074 6f20  th: The path to 
+0002b460: 7768 6572 6520 746f 2073 6176 6520 7468  where to save th
+0002b470: 6520 6176 6572 6167 6520 696d 6167 652e  e average image.
+0002b480: 2049 6620 4e6f 6e65 2c20 7468 656e 2072   If None, then r
+0002b490: 6574 7572 6e73 2074 6865 2061 7665 7261  eturns the avera
+0002b4a0: 6765 2069 6d61 6765 2069 6e20 6e70 2c6e  ge image in np,n
+0002b4b0: 6461 7272 6179 2066 6f72 6d61 742e 2044  darray format. D
+0002b4c0: 6566 6175 6c74 3a20 4e6f 6e65 2e0a 2020  efault: None..  
+0002b4d0: 2020 3a72 6574 7572 6e20 556e 696f 6e5b    :return Union[
+0002b4e0: 4e6f 6e65 2c20 6e70 2e6e 6461 7272 6179  None, np.ndarray
+0002b4f0: 5d3a 2054 6865 2061 7665 7261 6765 2069  ]: The average i
+0002b500: 6d61 6765 2028 6966 2060 6073 6176 655f  mage (if ``save_
+0002b510: 7061 7468 6060 2069 7320 6e6f 7420 4e6f  path`` is not No
+0002b520: 6e65 2920 6f72 204e 6f6e 6520 6966 2020  ne) or None if  
+0002b530: 6060 7361 7665 5f70 6174 6860 6020 6973  ``save_path`` is
+0002b540: 2070 6173 7365 642e 0a20 2020 2022 2222   passed..    """
+0002b550: 0a0a 2020 2020 6966 2028 2873 7461 7274  ..    if ((start
+0002b560: 5f66 726d 2069 7320 6e6f 7420 4e6f 6e65  _frm is not None
+0002b570: 2920 6f72 2028 656e 645f 6672 6d20 6973  ) or (end_frm is
+0002b580: 206e 6f74 204e 6f6e 6529 2920 616e 6420   not None)) and 
+0002b590: 2828 7374 6172 745f 7469 6d65 2069 7320  ((start_time is 
+0002b5a0: 6e6f 7420 4e6f 6e65 2920 6f72 2028 656e  not None) or (en
+0002b5b0: 645f 7469 6d65 2069 7320 6e6f 7420 4e6f  d_time is not No
+0002b5c0: 6e65 2929 3a0a 2020 2020 2020 2020 7261  ne)):.        ra
+0002b5d0: 6973 6520 496e 7661 6c69 6449 6e70 7574  ise InvalidInput
+0002b5e0: 4572 726f 7228 6d73 673d 6627 5061 7373  Error(msg=f'Pass
+0002b5f0: 2073 7461 7274 5f66 726d 2061 6e64 2065   start_frm and e
+0002b600: 6e64 5f66 726d 204f 5220 7374 6172 745f  nd_frm OR start_
+0002b610: 7469 6d65 2061 6e64 2065 6e64 5f74 696d  time and end_tim
+0002b620: 6527 2c20 736f 7572 6365 3d63 7265 6174  e', source=creat
+0002b630: 655f 6176 6572 6167 655f 6672 6d2e 5f5f  e_average_frm.__
+0002b640: 6e61 6d65 5f5f 290a 2020 2020 656c 6966  name__).    elif
+0002b650: 2074 7970 6528 7374 6172 745f 6672 6d29   type(start_frm)
+0002b660: 2021 3d20 7479 7065 2865 6e64 5f66 726d   != type(end_frm
+0002b670: 293a 0a20 2020 2020 2020 2072 6169 7365  ):.        raise
+0002b680: 2049 6e76 616c 6964 496e 7075 7445 7272   InvalidInputErr
+0002b690: 6f72 286d 7367 3d66 2750 6173 7320 7374  or(msg=f'Pass st
+0002b6a0: 6172 7420 6672 616d 6520 616e 6420 656e  art frame and en
+0002b6b0: 6420 6672 616d 6527 2c20 736f 7572 6365  d frame', source
+0002b6c0: 3d63 7265 6174 655f 6176 6572 6167 655f  =create_average_
+0002b6d0: 6672 6d2e 5f5f 6e61 6d65 5f5f 290a 2020  frm.__name__).  
+0002b6e0: 2020 656c 6966 2074 7970 6528 7374 6172    elif type(star
+0002b6f0: 745f 7469 6d65 2920 213d 2074 7970 6528  t_time) != type(
+0002b700: 656e 645f 7469 6d65 293a 0a20 2020 2020  end_time):.     
+0002b710: 2020 2072 6169 7365 2049 6e76 616c 6964     raise Invalid
+0002b720: 496e 7075 7445 7272 6f72 286d 7367 3d66  InputError(msg=f
+0002b730: 2750 6173 7320 7374 6172 7420 7469 6d65  'Pass start time
+0002b740: 2061 6e64 2065 6e64 2074 696d 6527 2c20   and end time', 
+0002b750: 736f 7572 6365 3d63 7265 6174 655f 6176  source=create_av
+0002b760: 6572 6167 655f 6672 6d2e 5f5f 6e61 6d65  erage_frm.__name
+0002b770: 5f5f 290a 2020 2020 6368 6563 6b5f 6669  __).    check_fi
+0002b780: 6c65 5f65 7869 7374 5f61 6e64 5f72 6561  le_exist_and_rea
+0002b790: 6461 626c 6528 6669 6c65 5f70 6174 683d  dable(file_path=
+0002b7a0: 7669 6465 6f5f 7061 7468 290a 2020 2020  video_path).    
+0002b7b0: 7669 6465 6f5f 6d65 7461 5f64 6174 6120  video_meta_data 
+0002b7c0: 3d20 6765 745f 7669 6465 6f5f 6d65 7461  = get_video_meta
+0002b7d0: 5f64 6174 6128 7669 6465 6f5f 7061 7468  _data(video_path
+0002b7e0: 3d76 6964 656f 5f70 6174 6829 0a20 2020  =video_path).   
+0002b7f0: 2063 6170 203d 2063 7632 2e56 6964 656f   cap = cv2.Video
+0002b800: 4361 7074 7572 6528 7669 6465 6f5f 7061  Capture(video_pa
+0002b810: 7468 290a 2020 2020 6966 2076 6572 626f  th).    if verbo
+0002b820: 7365 3a0a 2020 2020 2020 2020 7072 696e  se:.        prin
+0002b830: 7428 6627 4765 7474 696e 6720 6176 6572  t(f'Getting aver
+0002b840: 6167 6520 6672 616d 6520 6672 6f6d 207b  age frame from {
+0002b850: 7669 6465 6f5f 7061 7468 7d2e 2e2e 2729  video_path}...')
+0002b860: 0a20 2020 2069 6620 2873 7461 7274 5f66  .    if (start_f
+0002b870: 726d 2069 7320 6e6f 7420 4e6f 6e65 2920  rm is not None) 
+0002b880: 616e 6420 2865 6e64 5f66 726d 2069 7320  and (end_frm is 
+0002b890: 6e6f 7420 4e6f 6e65 293a 0a20 2020 2020  not None):.     
+0002b8a0: 2020 2063 6865 636b 5f69 6e74 286e 616d     check_int(nam
+0002b8b0: 653d 2773 7461 7274 5f66 726d 272c 2076  e='start_frm', v
+0002b8c0: 616c 7565 3d73 7461 7274 5f66 726d 2c20  alue=start_frm, 
+0002b8d0: 6d69 6e5f 7661 6c75 653d 302c 206d 6178  min_value=0, max
+0002b8e0: 5f76 616c 7565 3d76 6964 656f 5f6d 6574  _value=video_met
+0002b8f0: 615f 6461 7461 5b27 6672 616d 655f 636f  a_data['frame_co
+0002b900: 756e 7427 5d29 0a20 2020 2020 2020 2063  unt']).        c
+0002b910: 6865 636b 5f69 6e74 286e 616d 653d 2765  heck_int(name='e
+0002b920: 6e64 5f66 726d 272c 2076 616c 7565 3d65  nd_frm', value=e
+0002b930: 6e64 5f66 726d 2c20 6d69 6e5f 7661 6c75  nd_frm, min_valu
+0002b940: 653d 302c 206d 6178 5f76 616c 7565 3d76  e=0, max_value=v
+0002b950: 6964 656f 5f6d 6574 615f 6461 7461 5b27  ideo_meta_data['
+0002b960: 6672 616d 655f 636f 756e 7427 5d29 0a20  frame_count']). 
+0002b970: 2020 2020 2020 2069 6620 7374 6172 745f         if start_
+0002b980: 6672 6d20 3e20 656e 645f 6672 6d3a 0a20  frm > end_frm:. 
+0002b990: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0002b9a0: 2049 6e76 616c 6964 496e 7075 7445 7272   InvalidInputErr
+0002b9b0: 6f72 286d 7367 3d66 2753 7461 7274 2066  or(msg=f'Start f
+0002b9c0: 7261 6d65 2028 7b73 7461 7274 5f66 726d  rame ({start_frm
+0002b9d0: 7d29 2068 6173 2074 6f20 6265 2062 6566  }) has to be bef
+0002b9e0: 6f72 6520 656e 6420 6672 616d 6520 287b  ore end frame ({
+0002b9f0: 656e 645f 6672 6d7d 292e 272c 2073 6f75  end_frm}).', sou
+0002ba00: 7263 653d 6372 6561 7465 5f61 7665 7261  rce=create_avera
+0002ba10: 6765 5f66 726d 2e5f 5f6e 616d 655f 5f29  ge_frm.__name__)
+0002ba20: 0a20 2020 2020 2020 2066 7261 6d65 5f69  .        frame_i
+0002ba30: 6473 203d 206c 6973 7428 7261 6e67 6528  ds = list(range(
+0002ba40: 7374 6172 745f 6672 6d2c 2065 6e64 5f66  start_frm, end_f
+0002ba50: 726d 202b 2031 2929 0a20 2020 2065 6c69  rm + 1)).    eli
+0002ba60: 6620 2873 7461 7274 5f74 696d 6520 6973  f (start_time is
+0002ba70: 206e 6f74 204e 6f6e 6529 2061 6e64 2028   not None) and (
+0002ba80: 656e 645f 7469 6d65 2069 7320 6e6f 7420  end_time is not 
+0002ba90: 4e6f 6e65 293a 0a20 2020 2020 2020 2063  None):.        c
+0002baa0: 6865 636b 5f69 665f 7374 7269 6e67 5f76  heck_if_string_v
+0002bab0: 616c 7565 5f69 735f 7661 6c69 645f 7669  alue_is_valid_vi
+0002bac0: 6465 6f5f 7469 6d65 7374 616d 7028 7661  deo_timestamp(va
+0002bad0: 6c75 653d 7374 6172 745f 7469 6d65 2c20  lue=start_time, 
+0002bae0: 6e61 6d65 3d63 7265 6174 655f 6176 6572  name=create_aver
+0002baf0: 6167 655f 6672 6d2e 5f5f 6e61 6d65 5f5f  age_frm.__name__
+0002bb00: 290a 2020 2020 2020 2020 6368 6563 6b5f  ).        check_
+0002bb10: 6966 5f73 7472 696e 675f 7661 6c75 655f  if_string_value_
+0002bb20: 6973 5f76 616c 6964 5f76 6964 656f 5f74  is_valid_video_t
+0002bb30: 696d 6573 7461 6d70 2876 616c 7565 3d65  imestamp(value=e
+0002bb40: 6e64 5f74 696d 652c 206e 616d 653d 6372  nd_time, name=cr
+0002bb50: 6561 7465 5f61 7665 7261 6765 5f66 726d  eate_average_frm
+0002bb60: 2e5f 5f6e 616d 655f 5f29 0a20 2020 2020  .__name__).     
+0002bb70: 2020 2063 6865 636b 5f74 6861 745f 6868     check_that_hh
+0002bb80: 6d6d 7373 5f73 7461 7274 5f69 735f 6265  mmss_start_is_be
+0002bb90: 666f 7265 5f65 6e64 2873 7461 7274 5f74  fore_end(start_t
+0002bba0: 696d 653d 7374 6172 745f 7469 6d65 2c20  ime=start_time, 
+0002bbb0: 656e 645f 7469 6d65 3d65 6e64 5f74 696d  end_time=end_tim
+0002bbc0: 652c 206e 616d 653d 6372 6561 7465 5f61  e, name=create_a
+0002bbd0: 7665 7261 6765 5f66 726d 2e5f 5f6e 616d  verage_frm.__nam
+0002bbe0: 655f 5f29 0a20 2020 2020 2020 2063 6865  e__).        che
+0002bbf0: 636b 5f69 665f 6868 6d6d 7373 5f74 696d  ck_if_hhmmss_tim
+0002bc00: 6573 7461 6d70 5f69 735f 7661 6c69 645f  estamp_is_valid_
+0002bc10: 7061 7274 5f6f 665f 7669 6465 6f28 7469  part_of_video(ti
+0002bc20: 6d65 7374 616d 703d 7374 6172 745f 7469  mestamp=start_ti
+0002bc30: 6d65 2c20 7669 6465 6f5f 7061 7468 3d76  me, video_path=v
+0002bc40: 6964 656f 5f70 6174 6829 0a20 2020 2020  ideo_path).     
+0002bc50: 2020 2066 7261 6d65 5f69 6473 203d 2066     frame_ids = f
+0002bc60: 696e 645f 6672 616d 655f 6e75 6d62 6572  ind_frame_number
+0002bc70: 735f 6672 6f6d 5f74 696d 655f 7374 616d  s_from_time_stam
+0002bc80: 7028 7374 6172 745f 7469 6d65 3d73 7461  p(start_time=sta
+0002bc90: 7274 5f74 696d 652c 2065 6e64 5f74 696d  rt_time, end_tim
+0002bca0: 653d 656e 645f 7469 6d65 2c20 6670 733d  e=end_time, fps=
+0002bcb0: 7669 6465 6f5f 6d65 7461 5f64 6174 615b  video_meta_data[
+0002bcc0: 2766 7073 275d 290a 2020 2020 656c 7365  'fps']).    else
+0002bcd0: 3a0a 2020 2020 2020 2020 6672 616d 655f  :.        frame_
+0002bce0: 6964 7320 3d20 6c69 7374 2872 616e 6765  ids = list(range
+0002bcf0: 2830 2c20 7669 6465 6f5f 6d65 7461 5f64  (0, video_meta_d
+0002bd00: 6174 615b 2766 7261 6d65 5f63 6f75 6e74  ata['frame_count
+0002bd10: 275d 2929 0a20 2020 2063 6170 2e73 6574  '])).    cap.set
+0002bd20: 2830 2c20 6672 616d 655f 6964 735b 305d  (0, frame_ids[0]
+0002bd30: 290a 2020 2020 6267 5f73 756d 2c20 6672  ).    bg_sum, fr
+0002bd40: 6d5f 636e 742c 2066 726d 5f6c 656e 203d  m_cnt, frm_len =
+0002bd50: 204e 6f6e 652c 2030 2c20 6c65 6e28 6672   None, 0, len(fr
+0002bd60: 616d 655f 6964 7329 0a20 2020 2077 6869  ame_ids).    whi
+0002bd70: 6c65 2066 726d 5f63 6e74 203c 2066 726d  le frm_cnt < frm
+0002bd80: 5f6c 656e 3a0a 2020 2020 2020 2020 6966  _len:.        if
+0002bd90: 2076 6572 626f 7365 3a0a 2020 2020 2020   verbose:.      
+0002bda0: 2020 2020 2020 7072 696e 7428 6627 5265        print(f'Re
+0002bdb0: 6164 696e 6720 6672 616d 6520 7b66 726d  ading frame {frm
+0002bdc0: 5f63 6e74 7d20 2f20 7b66 726d 5f6c 656e  _cnt} / {frm_len
+0002bdd0: 7d20 287b 7669 6465 6f5f 7061 7468 7d29  } ({video_path})
+0002bde0: 2e2e 2e27 290a 2020 2020 2020 2020 7265  ...').        re
+0002bdf0: 742c 2066 726d 203d 2063 6170 2e72 6561  t, frm = cap.rea
+0002be00: 6428 290a 2020 2020 2020 2020 6966 2072  d().        if r
+0002be10: 6574 3a0a 2020 2020 2020 2020 2020 2020  et:.            
+0002be20: 6966 2062 675f 7375 6d20 6973 204e 6f6e  if bg_sum is Non
+0002be30: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+0002be40: 2020 2062 675f 7375 6d20 3d20 6e70 2e66     bg_sum = np.f
+0002be50: 6c6f 6174 3332 2866 726d 290a 2020 2020  loat32(frm).    
+0002be60: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+0002be70: 2020 2020 2020 2020 2020 2020 2020 6376                cv
+0002be80: 322e 6163 6375 6d75 6c61 7465 2866 726d  2.accumulate(frm
+0002be90: 2c20 6267 5f73 756d 290a 2020 2020 2020  , bg_sum).      
+0002bea0: 2020 2020 2020 6672 6d5f 636e 7420 2b3d        frm_cnt +=
+0002beb0: 2031 0a20 2020 2020 2020 2065 6c73 653a   1.        else:
+0002bec0: 0a20 2020 2020 2020 2020 2020 2062 7265  .            bre
+0002bed0: 616b 0a20 2020 2069 6d67 203d 2063 7632  ak.    img = cv2
+0002bee0: 2e63 6f6e 7665 7274 5363 616c 6541 6273  .convertScaleAbs
+0002bef0: 2862 675f 7375 6d20 2f20 6672 6d5f 6c65  (bg_sum / frm_le
+0002bf00: 6e29 0a20 2020 2063 6170 2e72 656c 6561  n).    cap.relea
+0002bf10: 7365 2829 0a20 2020 2069 6620 7361 7665  se().    if save
+0002bf20: 5f70 6174 6820 6973 206e 6f74 204e 6f6e  _path is not Non
+0002bf30: 653a 0a20 2020 2020 2020 2063 6865 636b  e:.        check
+0002bf40: 5f69 665f 6469 725f 6578 6973 7473 2869  _if_dir_exists(i
+0002bf50: 6e5f 6469 723d 6f73 2e70 6174 682e 6469  n_dir=os.path.di
+0002bf60: 726e 616d 6528 7361 7665 5f70 6174 6829  rname(save_path)
+0002bf70: 2c20 736f 7572 6365 3d63 7265 6174 655f  , source=create_
+0002bf80: 6176 6572 6167 655f 6672 6d2e 5f5f 6e61  average_frm.__na
+0002bf90: 6d65 5f5f 290a 2020 2020 2020 2020 6376  me__).        cv
+0002bfa0: 322e 696d 7772 6974 6528 7361 7665 5f70  2.imwrite(save_p
+0002bfb0: 6174 682c 2069 6d67 290a 2020 2020 2020  ath, img).      
+0002bfc0: 2020 6966 2076 6572 626f 7365 3a0a 2020    if verbose:.  
+0002bfd0: 2020 2020 2020 2020 2020 7374 646f 7574            stdout
+0002bfe0: 5f73 7563 6365 7373 286d 7367 3d66 2753  _success(msg=f'S
+0002bff0: 6176 6564 2061 7665 7261 6765 2066 7261  aved average fra
+0002c000: 6d65 2061 7420 7b73 6176 655f 7061 7468  me at {save_path
+0002c010: 7d27 2c20 736f 7572 6365 3d63 7265 6174  }', source=creat
+0002c020: 655f 6176 6572 6167 655f 6672 6d2e 5f5f  e_average_frm.__
+0002c030: 6e61 6d65 5f5f 290a 2020 2020 656c 7365  name__).    else
+0002c040: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
+0002c050: 2069 6d67 0a0a 0a64 6566 2076 6964 656f   img...def video
+0002c060: 5f62 675f 7375 6274 7261 6374 696f 6e28  _bg_subtraction(
+0002c070: 7669 6465 6f5f 7061 7468 3a20 556e 696f  video_path: Unio
+0002c080: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
+0002c090: 6b65 5d2c 0a20 2020 2020 2020 2020 2020  ke],.           
+0002c0a0: 2020 2020 2020 2020 2020 2020 2020 2062                 b
+0002c0b0: 675f 7669 6465 6f5f 7061 7468 3a20 4f70  g_video_path: Op
+0002c0c0: 7469 6f6e 616c 5b55 6e69 6f6e 5b73 7472  tional[Union[str
+0002c0d0: 2c20 6f73 2e50 6174 684c 696b 655d 5d20  , os.PathLike]] 
+0002c0e0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0002c0f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c100: 2020 6267 5f73 7461 7274 5f66 726d 3a20    bg_start_frm: 
+0002c110: 4f70 7469 6f6e 616c 5b69 6e74 5d20 3d20  Optional[int] = 
+0002c120: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
+0002c130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c140: 6267 5f65 6e64 5f66 726d 3a20 4f70 7469  bg_end_frm: Opti
+0002c150: 6f6e 616c 5b69 6e74 5d20 3d20 4e6f 6e65  onal[int] = None
+0002c160: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0002c170: 2020 2020 2020 2020 2020 2020 6267 5f73              bg_s
+0002c180: 7461 7274 5f74 696d 653a 204f 7074 696f  tart_time: Optio
+0002c190: 6e61 6c5b 7374 725d 203d 204e 6f6e 652c  nal[str] = None,
+0002c1a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002c1b0: 2020 2020 2020 2020 2020 2062 675f 656e             bg_en
+0002c1c0: 645f 7469 6d65 3a20 4f70 7469 6f6e 616c  d_time: Optional
+0002c1d0: 5b73 7472 5d20 3d20 4e6f 6e65 2c0a 2020  [str] = None,.  
+0002c1e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c1f0: 2020 2020 2020 2020 6267 5f63 6f6c 6f72          bg_color
+0002c200: 3a20 4f70 7469 6f6e 616c 5b54 7570 6c65  : Optional[Tuple
+0002c210: 5b69 6e74 2c20 696e 742c 2069 6e74 5d5d  [int, int, int]]
+0002c220: 203d 2028 302c 2030 2c20 3029 2c0a 2020   = (0, 0, 0),.  
+0002c230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c240: 2020 2020 2020 2020 6667 5f63 6f6c 6f72          fg_color
+0002c250: 3a20 4f70 7469 6f6e 616c 5b54 7570 6c65  : Optional[Tuple
+0002c260: 5b69 6e74 2c20 696e 742c 2069 6e74 5d5d  [int, int, int]]
+0002c270: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0002c280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c290: 2020 2073 6176 655f 7061 7468 3a20 4f70     save_path: Op
+0002c2a0: 7469 6f6e 616c 5b55 6e69 6f6e 5b73 7472  tional[Union[str
+0002c2b0: 2c20 6f73 2e50 6174 684c 696b 655d 5d20  , os.PathLike]] 
+0002c2c0: 3d20 4e6f 6e65 2920 2d3e 204e 6f6e 653a  = None) -> None:
+0002c2d0: 0a20 2020 2022 2222 0a20 2020 2053 7562  .    """.    Sub
+0002c2e0: 7472 6163 7420 7468 6520 6261 636b 6772  tract the backgr
+0002c2f0: 6f75 6e64 2066 726f 6d20 6120 7669 6465  ound from a vide
+0002c300: 6f2e 0a0a 2020 2020 2e2e 2076 6964 656f  o...    .. video
+0002c310: 3a3a 205f 7374 6174 6963 2f69 6d67 2f76  :: _static/img/v
+0002c320: 6964 656f 5f62 675f 7375 6274 7261 6374  ideo_bg_subtract
+0002c330: 696f 6e2e 7765 626d 0a20 2020 2020 2020  ion.webm.       
+0002c340: 3a77 6964 7468 3a20 3830 300a 2020 2020  :width: 800.    
+0002c350: 2020 203a 6175 746f 706c 6179 3a0a 2020     :autoplay:.  
+0002c360: 2020 2020 203a 6c6f 6f70 3a0a 0a20 2020       :loop:..   
+0002c370: 202e 2e20 7669 6465 6f3a 3a20 5f73 7461   .. video:: _sta
+0002c380: 7469 632f 696d 672f 6267 5f72 656d 6f76  tic/img/bg_remov
+0002c390: 6572 5f65 7861 6d70 6c65 5f31 2e77 6562  er_example_1.web
+0002c3a0: 6d0a 2020 2020 2020 203a 7769 6474 683a  m.       :width:
+0002c3b0: 2038 3030 0a20 2020 2020 2020 3a61 7574   800.       :aut
+0002c3c0: 6f70 6c61 793a 0a20 2020 2020 2020 3a6c  oplay:.       :l
+0002c3d0: 6f6f 703a 0a0a 2020 2020 2e2e 2076 6964  oop:..    .. vid
+0002c3e0: 656f 3a3a 205f 7374 6174 6963 2f69 6d67  eo:: _static/img
+0002c3f0: 2f62 675f 7265 6d6f 7665 725f 6578 616d  /bg_remover_exam
+0002c400: 706c 655f 322e 7765 626d 0a20 2020 2020  ple_2.webm.     
+0002c410: 2020 3a77 6964 7468 3a20 3830 300a 2020    :width: 800.  
+0002c420: 2020 2020 203a 6175 746f 706c 6179 3a0a       :autoplay:.
+0002c430: 2020 2020 2020 203a 6c6f 6f70 3a0a 0a20         :loop:.. 
+0002c440: 2020 202e 2e20 6e6f 7465 3a3a 0a20 2020     .. note::.   
+0002c450: 2020 2020 4966 2020 6060 6267 5f76 6964      If  ``bg_vid
+0002c460: 656f 5f70 6174 6860 6020 6973 2070 6173  eo_path`` is pas
+0002c470: 7365 642c 2074 6861 7420 7669 6465 6f20  sed, that video 
+0002c480: 7769 6c6c 2062 6520 7573 6564 2074 6f20  will be used to 
+0002c490: 7061 7273 6520 7468 6520 6261 636b 6772  parse the backgr
+0002c4a0: 6f75 6e64 2e20 4966 204e 6f6e 652c 2060  ound. If None, `
+0002c4b0: 6076 6964 656f 5f70 6174 6860 6020 7769  `video_path`` wi
+0002c4c0: 6c6c 2062 6520 7573 6520 6474 6f20 7061  ll be use dto pa
+0002c4d0: 7273 6520 6261 636b 6772 6f75 6e64 2e0a  rse background..
+0002c4e0: 2020 2020 2020 2045 6974 6865 7220 7061         Either pa
+0002c4f0: 7373 2060 6073 7461 7274 5f66 726d 6060  ss ``start_frm``
+0002c500: 2061 6e64 2060 6065 6e64 5f66 726d 6060   and ``end_frm``
+0002c510: 204f 5220 6060 7374 6172 745f 7469 6d65   OR ``start_time
+0002c520: 6060 2061 6e64 2060 6065 6e64 5f74 696d  `` and ``end_tim
+0002c530: 6560 6020 4f52 2070 6173 7320 616c 6c20  e`` OR pass all 
+0002c540: 666f 7572 2061 7267 756d 656e 7473 2061  four arguments a
+0002c550: 7320 4e6f 6e65 2e0a 2020 2020 2020 2054  s None..       T
+0002c560: 686f 7365 2074 776f 2061 7267 756d 656e  hose two argumen
+0002c570: 7473 2077 696c 6c20 6265 2075 7365 6420  ts will be used 
+0002c580: 746f 2073 6c69 6365 2074 6865 2062 6163  to slice the bac
+0002c590: 6b67 726f 756e 6420 7669 6465 6f2c 2061  kground video, a
+0002c5a0: 6e64 2074 6865 2073 6c69 6365 6420 7061  nd the sliced pa
+0002c5b0: 7274 2069 7320 7573 6564 2074 6f20 7061  rt is used to pa
+0002c5c0: 7273 6520 7468 6520 6261 636b 6772 6f75  rse the backgrou
+0002c5d0: 6e64 2e0a 0a20 2020 2020 2020 466f 7220  nd...       For 
+0002c5e0: 6578 616d 706c 652c 2069 6e20 7468 6520  example, in the 
+0002c5f0: 7363 656e 6172 696f 2077 6865 7265 2074  scenario where t
+0002c600: 6865 7265 2069 7320 2a2a 6e6f 2a2a 2061  here is **no** a
+0002c610: 6e69 6d61 6c20 696e 2074 6865 2060 6076  nimal in the ``v
+0002c620: 6964 656f 5f70 6174 6860 6020 7669 6465  ideo_path`` vide
+0002c630: 6f20 666f 7220 7468 6520 6669 7273 7420  o for the first 
+0002c640: 3230 732c 2074 6865 6e20 7468 6520 6669  20s, then the fi
+0002c650: 7273 7420 3230 7320 6361 6e20 6265 2075  rst 20s can be u
+0002c660: 7365 6420 746f 2070 6172 7365 2074 6865  sed to parse the
+0002c670: 2062 6163 6b67 726f 756e 642e 0a20 2020   background..   
+0002c680: 2020 2020 496e 2074 6869 7320 7363 656e      In this scen
+0002c690: 6172 696f 2c20 6060 6267 5f76 6964 656f  ario, ``bg_video
+0002c6a0: 5f70 6174 6860 6020 6361 6e20 6265 2070  _path`` can be p
+0002c6b0: 6173 7365 6420 6173 2060 604e 6f6e 6560  assed as ``None`
+0002c6c0: 6020 616e 6420 6267 5f73 7461 7274 5f74  ` and bg_start_t
+0002c6d0: 696d 6520 616e 6420 6267 5f65 6e64 5f74  ime and bg_end_t
+0002c6e0: 696d 6520 6361 6e20 6265 2060 6030 303a  ime can be ``00:
+0002c6f0: 3030 3a30 3060 6020 616e 6420 6060 3030  00:00`` and ``00
+0002c700: 3a30 303a 3230 6060 2c20 7265 7065 6374  :00:20``, repect
+0002c710: 6976 656c 792e 0a0a 2020 2020 2020 2049  ively...       I
+0002c720: 6e20 7468 6520 7363 656e 6172 696f 2077  n the scenario w
+0002c730: 6865 7265 2074 6865 7265 202a 2a69 732a  here there **is*
+0002c740: 2a20 616e 696d 616c 2873 2920 696e 2074  * animal(s) in t
+0002c750: 6865 2065 6e74 6972 6520 6060 7669 6465  he entire ``vide
+0002c760: 6f5f 7061 7468 6060 2076 6964 656f 2c20  o_path`` video, 
+0002c770: 7061 7373 2060 6062 675f 7669 6465 6f5f  pass ``bg_video_
+0002c780: 7061 7468 6060 2061 7320 6120 7061 7468  path`` as a path
+0002c790: 2074 6f20 6120 7669 6465 6f20 7265 636f   to a video reco
+0002c7a0: 7264 696e 6720 7468 6520 6172 656e 6120  rding the arena 
+0002c7b0: 7769 7468 6f75 7420 7468 6520 616e 696d  without the anim
+0002c7c0: 616c 732e 0a0a 2020 2020 3a70 6172 616d  als...    :param
+0002c7d0: 2055 6e69 6f6e 5b73 7472 2c20 6f73 2e50   Union[str, os.P
+0002c7e0: 6174 684c 696b 655d 2076 6964 656f 5f70  athLike] video_p
+0002c7f0: 6174 683a 2054 6865 2070 6174 6820 746f  ath: The path to
+0002c800: 2074 6865 2076 6964 656f 2074 6f20 7265   the video to re
+0002c810: 6d6f 7665 2074 6865 2062 6163 6b67 726f  move the backgro
+0002c820: 756e 6420 6672 6f6d 2e0a 2020 2020 3a70  und from..    :p
+0002c830: 6172 616d 204f 7074 696f 6e61 6c5b 556e  aram Optional[Un
+0002c840: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+0002c850: 4c69 6b65 5d5d 2062 675f 7669 6465 6f5f  Like]] bg_video_
+0002c860: 7061 7468 3a20 5061 7468 2074 6f20 7468  path: Path to th
+0002c870: 6520 7669 6465 6f20 7768 6963 6820 636f  e video which co
+0002c880: 6e74 6169 6e73 2061 2073 6567 6d65 6e74  ntains a segment
+0002c890: 2077 6974 6820 7468 6520 6261 636b 6772   with the backgr
+0002c8a0: 6f75 6e64 206f 6e6c 792e 2049 6620 4e6f  ound only. If No
+0002c8b0: 6e65 2c20 7468 656e 2060 6076 6964 656f  ne, then ``video
+0002c8c0: 5f70 6174 6860 6020 7769 6c6c 2062 6520  _path`` will be 
+0002c8d0: 7573 6564 2e0a 2020 2020 3a70 6172 616d  used..    :param
+0002c8e0: 204f 7074 696f 6e61 6c5b 696e 745d 2062   Optional[int] b
+0002c8f0: 675f 7374 6172 745f 6672 6d3a 2054 6865  g_start_frm: The
+0002c900: 2066 6972 7374 2066 7261 6d65 2069 6e20   first frame in 
+0002c910: 7468 6520 6261 636b 6772 6f75 6e64 2076  the background v
+0002c920: 6964 656f 2074 6f20 7573 6520 7768 656e  ideo to use when
+0002c930: 2063 7265 6174 696e 6720 6120 7265 7072   creating a repr
+0002c940: 6573 656e 7461 7469 7665 2062 6163 6b67  esentative backg
+0002c950: 726f 756e 6420 696d 6167 652e 2044 6566  round image. Def
+0002c960: 6175 6c74 3a20 4e6f 6e65 2e0a 2020 2020  ault: None..    
+0002c970: 3a70 6172 616d 204f 7074 696f 6e61 6c5b  :param Optional[
+0002c980: 696e 745d 2062 675f 656e 645f 6672 6d3a  int] bg_end_frm:
+0002c990: 2054 6865 206c 6173 7420 6672 616d 6520   The last frame 
+0002c9a0: 696e 2074 6865 2062 6163 6b67 726f 756e  in the backgroun
+0002c9b0: 6420 7669 6465 6f20 746f 2075 7365 2077  d video to use w
+0002c9c0: 6865 6e20 6372 6561 7469 6e67 2061 2072  hen creating a r
+0002c9d0: 6570 7265 7365 6e74 6174 6976 6520 6261  epresentative ba
+0002c9e0: 636b 6772 6f75 6e64 2069 6d61 6765 2e20  ckground image. 
+0002c9f0: 4465 6661 756c 743a 204e 6f6e 652e 0a20  Default: None.. 
+0002ca00: 2020 203a 7061 7261 6d20 4f70 7469 6f6e     :param Option
+0002ca10: 616c 5b73 7472 5d20 6267 5f73 7461 7274  al[str] bg_start
+0002ca20: 5f74 696d 653a 2054 6865 2073 7461 7274  _time: The start
+0002ca30: 2074 696d 6573 7461 6d70 2069 6e20 6048   timestamp in `H
+0002ca40: 483a 4d4d 3a53 5360 2066 6f72 6d61 7420  H:MM:SS` format 
+0002ca50: 696e 2074 6865 2062 6163 6b67 726f 756e  in the backgroun
+0002ca60: 6420 7669 6465 6f20 746f 2075 7365 2074  d video to use t
+0002ca70: 6f20 6372 6561 7465 2061 2072 6570 7265  o create a repre
+0002ca80: 7365 6e74 6174 6976 6520 6261 636b 6772  sentative backgr
+0002ca90: 6f75 6e64 2069 6d61 6765 2e20 4465 6661  ound image. Defa
+0002caa0: 756c 743a 204e 6f6e 652e 0a20 2020 203a  ult: None..    :
+0002cab0: 7061 7261 6d20 4f70 7469 6f6e 616c 5b73  param Optional[s
+0002cac0: 7472 5d20 6267 5f65 6e64 5f74 696d 653a  tr] bg_end_time:
+0002cad0: 2054 6865 2065 6e64 2074 696d 6573 7461   The end timesta
+0002cae0: 6d70 2069 6e20 6048 483a 4d4d 3a53 5360  mp in `HH:MM:SS`
+0002caf0: 2066 6f72 6d61 7420 696e 2074 6865 2062   format in the b
+0002cb00: 6163 6b67 726f 756e 6420 7669 6465 6f20  ackground video 
+0002cb10: 746f 2075 7365 2074 6f20 6372 6561 7465  to use to create
+0002cb20: 2061 2072 6570 7265 7365 6e74 6174 6976   a representativ
+0002cb30: 6520 6261 636b 6772 6f75 6e64 2069 6d61  e background ima
+0002cb40: 6765 2e20 4465 6661 756c 743a 204e 6f6e  ge. Default: Non
+0002cb50: 652e 0a20 2020 203a 7061 7261 6d20 4f70  e..    :param Op
+0002cb60: 7469 6f6e 616c 5b54 7570 6c65 5b69 6e74  tional[Tuple[int
+0002cb70: 2c20 696e 742c 2069 6e74 5d5d 2062 675f  , int, int]] bg_
+0002cb80: 636f 6c6f 723a 2054 6865 2052 4742 2063  color: The RGB c
+0002cb90: 6f6c 6f72 206f 6620 7468 6520 6d6f 7669  olor of the movi
+0002cba0: 6e67 206f 626a 6563 7473 2069 6e20 7468  ng objects in th
+0002cbb0: 6520 6f75 7470 7574 2076 6964 656f 2e20  e output video. 
+0002cbc0: 4465 6661 756c 7473 2074 6f20 4e6f 6e65  Defaults to None
+0002cbd0: 2c20 7768 6963 6820 7265 7072 6573 656e  , which represen
+0002cbe0: 7473 2074 6865 206f 7269 6769 6e61 6c20  ts the original 
+0002cbf0: 636f 6c6f 7273 206f 6620 7468 6520 6d6f  colors of the mo
+0002cc00: 7669 6e67 206f 626a 6563 7473 2e0a 2020  ving objects..  
+0002cc10: 2020 3a70 6172 616d 204f 7074 696f 6e61    :param Optiona
+0002cc20: 6c5b 5475 706c 655b 696e 742c 2069 6e74  l[Tuple[int, int
+0002cc30: 2c20 696e 745d 5d20 6667 5f63 6f6c 6f72  , int]] fg_color
+0002cc40: 3a20 5468 6520 5247 4220 636f 6c6f 7220  : The RGB color 
+0002cc50: 6f66 2074 6865 2062 6163 6b67 726f 756e  of the backgroun
+0002cc60: 6420 6f75 7470 7574 2076 6964 656f 2e20  d output video. 
+0002cc70: 4465 6661 756c 7473 2074 6f20 626c 6163  Defaults to blac
+0002cc80: 6b20 2830 2c20 302c 2030 292e 0a20 2020  k (0, 0, 0)..   
+0002cc90: 203a 7061 7261 6d20 4f70 7469 6f6e 616c   :param Optional
+0002cca0: 5b55 6e69 6f6e 5b73 7472 2c20 6f73 2e50  [Union[str, os.P
+0002ccb0: 6174 684c 696b 655d 5d20 7361 7665 5f70  athLike]] save_p
+0002ccc0: 6174 683a 2054 6865 2070 6174 6368 2074  ath: The patch t
+0002ccd0: 6f20 7768 6572 6520 746f 2073 6176 6520  o where to save 
+0002cce0: 7468 6520 6f75 7470 7574 2076 6964 656f  the output video
+0002ccf0: 2077 6865 7265 2074 6865 2062 6163 6b67   where the backg
+0002cd00: 726f 756e 6420 6973 2072 656d 6f76 6564  round is removed
+0002cd10: 2e20 4966 204e 6f6e 652c 2073 6176 6573  . If None, saves
+0002cd20: 2074 6865 206f 7574 7075 7420 7669 6465   the output vide
+0002cd30: 6f20 696e 2074 6865 2073 616d 6520 6469  o in the same di
+0002cd40: 7265 6374 6f72 7920 6173 2074 6865 2069  rectory as the i
+0002cd50: 6e70 7574 2076 6964 656f 2077 6974 6820  nput video with 
+0002cd60: 7468 6520 6060 5f62 675f 7375 6274 7261  the ``_bg_subtra
+0002cd70: 6374 6564 6060 2073 7566 6669 782e 2044  cted`` suffix. D
+0002cd80: 6566 6175 6c74 3a20 4e6f 6e65 2e0a 2020  efault: None..  
+0002cd90: 2020 3a72 6574 7572 6e3a 204e 6f6e 652e    :return: None.
+0002cda0: 0a0a 2020 2020 3a65 7861 6d70 6c65 3a0a  ..    :example:.
+0002cdb0: 2020 2020 3e3e 3e20 7669 6465 6f5f 6267      >>> video_bg
+0002cdc0: 5f73 7562 7472 6163 7469 6f6e 2876 6964  _subtraction(vid
+0002cdd0: 656f 5f70 6174 683d 272f 5573 6572 732f  eo_path='/Users/
+0002cde0: 7369 6d6f 6e2f 446f 776e 6c6f 6164 732f  simon/Downloads/
+0002cdf0: 315f 4c48 5f63 726f 7070 6564 2e6d 7034  1_LH_cropped.mp4
+0002ce00: 272c 2062 675f 7374 6172 745f 7469 6d65  ', bg_start_time
+0002ce10: 3d27 3030 3a30 303a 3030 272c 2062 675f  ='00:00:00', bg_
+0002ce20: 656e 645f 7469 6d65 3d27 3030 3a30 303a  end_time='00:00:
+0002ce30: 3130 272c 2062 675f 636f 6c6f 723d 2830  10', bg_color=(0
+0002ce40: 2c20 3130 362c 2031 3637 292c 2066 675f  , 106, 167), fg_
+0002ce50: 636f 6c6f 723d 2832 3534 2c20 3230 342c  color=(254, 204,
+0002ce60: 2032 2929 0a20 2020 2022 2222 0a0a 2020   2)).    """..  
+0002ce70: 2020 7469 6d65 7220 3d20 5369 6d62 6154    timer = SimbaT
+0002ce80: 696d 6572 2873 7461 7274 3d54 7275 6529  imer(start=True)
+0002ce90: 0a20 2020 2063 6865 636b 5f66 696c 655f  .    check_file_
+0002cea0: 6578 6973 745f 616e 645f 7265 6164 6162  exist_and_readab
+0002ceb0: 6c65 2866 696c 655f 7061 7468 3d76 6964  le(file_path=vid
+0002cec0: 656f 5f70 6174 6829 0a20 2020 2069 6620  eo_path).    if 
+0002ced0: 6267 5f76 6964 656f 5f70 6174 6820 6973  bg_video_path is
+0002cee0: 204e 6f6e 653a 0a20 2020 2020 2020 2062   None:.        b
+0002cef0: 675f 7669 6465 6f5f 7061 7468 203d 2064  g_video_path = d
+0002cf00: 6565 7063 6f70 7928 7669 6465 6f5f 7061  eepcopy(video_pa
+0002cf10: 7468 290a 2020 2020 7669 6465 6f5f 6d65  th).    video_me
+0002cf20: 7461 5f64 6174 6120 3d20 6765 745f 7669  ta_data = get_vi
+0002cf30: 6465 6f5f 6d65 7461 5f64 6174 6128 7669  deo_meta_data(vi
+0002cf40: 6465 6f5f 7061 7468 3d76 6964 656f 5f70  deo_path=video_p
+0002cf50: 6174 6829 0a20 2020 2064 6972 2c20 7669  ath).    dir, vi
+0002cf60: 6465 6f5f 6e61 6d65 2c20 6578 7420 3d20  deo_name, ext = 
+0002cf70: 6765 745f 666e 5f65 7874 2866 696c 6570  get_fn_ext(filep
+0002cf80: 6174 683d 7669 6465 6f5f 7061 7468 290a  ath=video_path).
+0002cf90: 2020 2020 6966 2073 6176 655f 7061 7468      if save_path
+0002cfa0: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
+0002cfb0: 2020 7361 7665 5f70 6174 6820 3d20 6f73    save_path = os
+0002cfc0: 2e70 6174 682e 6a6f 696e 2864 6972 2c20  .path.join(dir, 
+0002cfd0: 6627 7b76 6964 656f 5f6e 616d 657d 5f62  f'{video_name}_b
+0002cfe0: 675f 7375 6274 7261 6374 6564 7b65 7874  g_subtracted{ext
+0002cff0: 7d27 290a 2020 2020 666f 7572 6363 203d  }').    fourcc =
+0002d000: 2063 7632 2e56 6964 656f 5772 6974 6572   cv2.VideoWriter
+0002d010: 5f66 6f75 7263 6328 2a46 6f72 6d61 7473  _fourcc(*Formats
+0002d020: 2e4d 5034 5f43 4f44 4543 2e76 616c 7565  .MP4_CODEC.value
+0002d030: 290a 2020 2020 7772 6974 6572 203d 2063  ).    writer = c
+0002d040: 7632 2e56 6964 656f 5772 6974 6572 2873  v2.VideoWriter(s
+0002d050: 6176 655f 7061 7468 2c20 666f 7572 6363  ave_path, fourcc
+0002d060: 2c20 7669 6465 6f5f 6d65 7461 5f64 6174  , video_meta_dat
+0002d070: 615b 2766 7073 275d 2c0a 2020 2020 2020  a['fps'],.      
+0002d080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d090: 2020 2020 2020 2028 7669 6465 6f5f 6d65         (video_me
+0002d0a0: 7461 5f64 6174 615b 2777 6964 7468 275d  ta_data['width']
+0002d0b0: 2c20 7669 6465 6f5f 6d65 7461 5f64 6174  , video_meta_dat
+0002d0c0: 615b 2768 6569 6768 7427 5d29 290a 2020  a['height'])).  
+0002d0d0: 2020 6267 5f66 726d 203d 2063 7265 6174    bg_frm = creat
+0002d0e0: 655f 6176 6572 6167 655f 6672 6d28 7669  e_average_frm(vi
+0002d0f0: 6465 6f5f 7061 7468 3d62 675f 7669 6465  deo_path=bg_vide
+0002d100: 6f5f 7061 7468 2c20 7374 6172 745f 6672  o_path, start_fr
+0002d110: 6d3d 6267 5f73 7461 7274 5f66 726d 2c20  m=bg_start_frm, 
+0002d120: 656e 645f 6672 6d3d 6267 5f65 6e64 5f66  end_frm=bg_end_f
+0002d130: 726d 2c0a 2020 2020 2020 2020 2020 2020  rm,.            
+0002d140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d150: 2020 2020 7374 6172 745f 7469 6d65 3d62      start_time=b
+0002d160: 675f 7374 6172 745f 7469 6d65 2c20 656e  g_start_time, en
+0002d170: 645f 7469 6d65 3d62 675f 656e 645f 7469  d_time=bg_end_ti
+0002d180: 6d65 290a 2020 2020 6267 5f66 726d 203d  me).    bg_frm =
+0002d190: 2063 7632 2e72 6573 697a 6528 6267 5f66   cv2.resize(bg_f
+0002d1a0: 726d 2c20 2876 6964 656f 5f6d 6574 615f  rm, (video_meta_
+0002d1b0: 6461 7461 5b27 7769 6474 6827 5d2c 2076  data['width'], v
+0002d1c0: 6964 656f 5f6d 6574 615f 6461 7461 5b27  ideo_meta_data['
+0002d1d0: 6865 6967 6874 275d 2929 0a20 2020 2062  height'])).    b
+0002d1e0: 6720 3d20 6376 322e 6376 7443 6f6c 6f72  g = cv2.cvtColor
+0002d1f0: 286e 702e 6675 6c6c 5f6c 696b 6528 6267  (np.full_like(bg
+0002d200: 5f66 726d 2c20 6267 5f63 6f6c 6f72 292c  _frm, bg_color),
+0002d210: 2063 7632 2e43 4f4c 4f52 5f42 4752 3252   cv2.COLOR_BGR2R
+0002d220: 4742 290a 2020 2020 6361 7020 3d20 6376  GB).    cap = cv
+0002d230: 322e 5669 6465 6f43 6170 7475 7265 2876  2.VideoCapture(v
+0002d240: 6964 656f 5f70 6174 6829 0a20 2020 2066  ideo_path).    f
+0002d250: 726d 5f63 6e74 203d 2030 0a20 2020 2077  rm_cnt = 0.    w
+0002d260: 6869 6c65 2054 7275 653a 0a20 2020 2020  hile True:.     
+0002d270: 2020 2072 6574 2c20 6672 6d20 3d20 6361     ret, frm = ca
+0002d280: 702e 7265 6164 2829 0a20 2020 2020 2020  p.read().       
+0002d290: 2069 6620 6e6f 7420 7265 743a 0a20 2020   if not ret:.   
+0002d2a0: 2020 2020 2020 2020 2062 7265 616b 0a20           break. 
+0002d2b0: 2020 2020 2020 2064 6966 6620 3d20 6376         diff = cv
+0002d2c0: 322e 6162 7364 6966 6628 6672 6d2c 2062  2.absdiff(frm, b
+0002d2d0: 675f 6672 6d29 0a20 2020 2020 2020 2067  g_frm).        g
+0002d2e0: 7261 795f 6469 6666 203d 2063 7632 2e63  ray_diff = cv2.c
+0002d2f0: 7674 436f 6c6f 7228 6469 6666 2c20 6376  vtColor(diff, cv
+0002d300: 322e 434f 4c4f 525f 4247 5232 4752 4159  2.COLOR_BGR2GRAY
+0002d310: 290a 2020 2020 2020 2020 5f2c 206d 6173  ).        _, mas
+0002d320: 6b20 3d20 6376 322e 7468 7265 7368 6f6c  k = cv2.threshol
+0002d330: 6428 6772 6179 5f64 6966 662c 2035 302c  d(gray_diff, 50,
+0002d340: 2032 3535 2c20 6376 322e 5448 5245 5348   255, cv2.THRESH
+0002d350: 5f42 494e 4152 5929 0a20 2020 2020 2020  _BINARY).       
+0002d360: 2069 6620 6667 5f63 6f6c 6f72 2069 7320   if fg_color is 
+0002d370: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+0002d380: 2020 6667 203d 2063 7632 2e62 6974 7769    fg = cv2.bitwi
+0002d390: 7365 5f61 6e64 2866 726d 2c20 6672 6d2c  se_and(frm, frm,
+0002d3a0: 206d 6173 6b3d 6d61 736b 290a 2020 2020   mask=mask).    
+0002d3b0: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
+0002d3c0: 2063 7632 2e61 6464 2862 672c 2066 6729   cv2.add(bg, fg)
+0002d3d0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+0002d3e0: 2020 2020 2020 2020 2020 206d 6173 6b5f             mask_
+0002d3f0: 696e 7620 3d20 6376 322e 6269 7477 6973  inv = cv2.bitwis
+0002d400: 655f 6e6f 7428 6d61 736b 290a 2020 2020  e_not(mask).    
+0002d410: 2020 2020 2020 2020 6667 5f63 6c72 203d          fg_clr =
+0002d420: 2063 7632 2e63 7674 436f 6c6f 7228 6e70   cv2.cvtColor(np
+0002d430: 2e66 756c 6c5f 6c69 6b65 2866 726d 2c20  .full_like(frm, 
+0002d440: 6667 5f63 6f6c 6f72 292c 2063 7632 2e43  fg_color), cv2.C
+0002d450: 4f4c 4f52 5f42 4752 3252 4742 290a 2020  OLOR_BGR2RGB).  
+0002d460: 2020 2020 2020 2020 2020 6667 5f63 6c72            fg_clr
+0002d470: 203d 2063 7632 2e62 6974 7769 7365 5f61   = cv2.bitwise_a
+0002d480: 6e64 2866 675f 636c 722c 2066 675f 636c  nd(fg_clr, fg_cl
+0002d490: 722c 206d 6173 6b3d 6d61 736b 290a 2020  r, mask=mask).  
+0002d4a0: 2020 2020 2020 2020 2020 7265 7375 6c74            result
+0002d4b0: 203d 2063 7632 2e62 6974 7769 7365 5f61   = cv2.bitwise_a
+0002d4c0: 6e64 2862 672c 2062 672c 206d 6173 6b3d  nd(bg, bg, mask=
+0002d4d0: 6d61 736b 5f69 6e76 290a 2020 2020 2020  mask_inv).      
+0002d4e0: 2020 2020 2020 7265 7375 6c74 203d 2063        result = c
+0002d4f0: 7632 2e61 6464 2872 6573 756c 742c 2066  v2.add(result, f
+0002d500: 675f 636c 7229 0a20 2020 2020 2020 2077  g_clr).        w
+0002d510: 7269 7465 722e 7772 6974 6528 7265 7375  riter.write(resu
+0002d520: 6c74 290a 2020 2020 2020 2020 6672 6d5f  lt).        frm_
+0002d530: 636e 7420 2b3d 2031 0a20 2020 2020 2020  cnt += 1.       
+0002d540: 2070 7269 6e74 2866 2742 6163 6b67 726f   print(f'Backgro
+0002d550: 756e 6420 7375 6274 7261 6374 696f 6e20  und subtraction 
+0002d560: 6672 616d 6520 7b66 726d 5f63 6e74 7d2f  frame {frm_cnt}/
+0002d570: 7b76 6964 656f 5f6d 6574 615f 6461 7461  {video_meta_data
+0002d580: 5b22 6672 616d 655f 636f 756e 7422 5d7d  ["frame_count"]}
+0002d590: 2028 5669 6465 6f3a 207b 7669 6465 6f5f   (Video: {video_
+0002d5a0: 6e61 6d65 7d29 2729 0a0a 2020 2020 7772  name})')..    wr
+0002d5b0: 6974 6572 2e72 656c 6561 7365 2829 0a20  iter.release(). 
+0002d5c0: 2020 2063 6170 2e72 656c 6561 7365 2829     cap.release()
+0002d5d0: 0a20 2020 2074 696d 6572 2e73 746f 705f  .    timer.stop_
+0002d5e0: 7469 6d65 7228 290a 2020 2020 7374 646f  timer().    stdo
+0002d5f0: 7574 5f73 7563 6365 7373 286d 7367 3d66  ut_success(msg=f
+0002d600: 2742 6163 6b67 726f 756e 6420 7375 6274  'Background subt
+0002d610: 7261 6374 6564 2066 726f 6d20 7b76 6964  racted from {vid
+0002d620: 656f 5f6e 616d 657d 2061 6e64 2073 6176  eo_name} and sav
+0002d630: 6564 2061 7420 7b73 6176 655f 7061 7468  ed at {save_path
+0002d640: 7d27 2c20 656c 6170 7365 645f 7469 6d65  }', elapsed_time
+0002d650: 3d74 696d 6572 2e65 6c61 7073 6564 5f74  =timer.elapsed_t
+0002d660: 696d 6529 0a0a 6465 6620 5f62 675f 7265  ime)..def _bg_re
+0002d670: 6d6f 7665 725f 6d70 2866 726d 5f72 616e  mover_mp(frm_ran
+0002d680: 6765 3a20 5475 706c 655b 696e 742c 206e  ge: Tuple[int, n
+0002d690: 702e 6e64 6172 7261 795d 2c0a 2020 2020  p.ndarray],.    
+0002d6a0: 2020 2020 2020 2020 2020 2020 2020 2076                 v
+0002d6b0: 6964 656f 5f70 6174 683a 2055 6e69 6f6e  ideo_path: Union
+0002d6c0: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
+0002d6d0: 655d 2c0a 2020 2020 2020 2020 2020 2020  e],.            
+0002d6e0: 2020 2020 2020 2062 675f 6672 6d3a 206e         bg_frm: n
+0002d6f0: 702e 6e64 6172 7261 792c 0a20 2020 2020  p.ndarray,.     
+0002d700: 2020 2020 2020 2020 2020 2020 2020 6267                bg
+0002d710: 5f63 6c72 3a20 5475 706c 655b 696e 742c  _clr: Tuple[int,
+0002d720: 2069 6e74 2c20 696e 745d 2c0a 2020 2020   int, int],.    
+0002d730: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+0002d740: 675f 636c 723a 2054 7570 6c65 5b69 6e74  g_clr: Tuple[int
+0002d750: 2c20 696e 742c 2069 6e74 5d2c 0a20 2020  , int, int],.   
+0002d760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d770: 7669 6465 6f5f 6d65 7461 5f64 6174 613a  video_meta_data:
+0002d780: 2044 6963 745b 7374 722c 2041 6e79 5d2c   Dict[str, Any],
+0002d790: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002d7a0: 2020 2020 7465 6d70 5f64 6972 3a20 556e      temp_dir: Un
+0002d7b0: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+0002d7c0: 4c69 6b65 5d29 3a0a 0a20 2020 2062 6174  Like]):..    bat
+0002d7d0: 6368 2c20 6672 6d5f 7261 6e67 6520 3d20  ch, frm_range = 
+0002d7e0: 6672 6d5f 7261 6e67 655b 305d 2c20 6672  frm_range[0], fr
+0002d7f0: 6d5f 7261 6e67 655b 315d 0a20 2020 2073  m_range[1].    s
+0002d800: 7461 7274 5f66 726d 2c20 6375 7272 656e  tart_frm, curren
+0002d810: 745f 6672 6d2c 2065 6e64 5f66 726d 203d  t_frm, end_frm =
+0002d820: 2066 726d 5f72 616e 6765 5b30 5d2c 2066   frm_range[0], f
+0002d830: 726d 5f72 616e 6765 5b30 5d2c 2066 726d  rm_range[0], frm
+0002d840: 5f72 616e 6765 5b2d 315d 0a20 2020 2063  _range[-1].    c
+0002d850: 6170 203d 2063 7632 2e56 6964 656f 4361  ap = cv2.VideoCa
+0002d860: 7074 7572 6528 7669 6465 6f5f 7061 7468  pture(video_path
+0002d870: 290a 2020 2020 666f 7572 6363 203d 2063  ).    fourcc = c
+0002d880: 7632 2e56 6964 656f 5772 6974 6572 5f66  v2.VideoWriter_f
+0002d890: 6f75 7263 6328 2a46 6f72 6d61 7473 2e4d  ourcc(*Formats.M
+0002d8a0: 5034 5f43 4f44 4543 2e76 616c 7565 290a  P4_CODEC.value).
+0002d8b0: 2020 2020 7361 7665 5f70 6174 6820 3d20      save_path = 
+0002d8c0: 6f73 2e70 6174 682e 6a6f 696e 2874 656d  os.path.join(tem
+0002d8d0: 705f 6469 722c 2066 227b 6261 7463 687d  p_dir, f"{batch}
+0002d8e0: 2e6d 7034 2229 0a20 2020 2063 6170 2e73  .mp4").    cap.s
+0002d8f0: 6574 2831 2c20 7374 6172 745f 6672 6d29  et(1, start_frm)
+0002d900: 0a20 2020 2077 7269 7465 7220 3d20 6376  .    writer = cv
+0002d910: 322e 5669 6465 6f57 7269 7465 7228 7361  2.VideoWriter(sa
+0002d920: 7665 5f70 6174 682c 2066 6f75 7263 632c  ve_path, fourcc,
+0002d930: 2076 6964 656f 5f6d 6574 615f 6461 7461   video_meta_data
+0002d940: 5b27 6670 7327 5d2c 2028 7669 6465 6f5f  ['fps'], (video_
+0002d950: 6d65 7461 5f64 6174 615b 2777 6964 7468  meta_data['width
+0002d960: 275d 2c20 7669 6465 6f5f 6d65 7461 5f64  '], video_meta_d
+0002d970: 6174 615b 2768 6569 6768 7427 5d29 290a  ata['height'])).
+0002d980: 2020 2020 6267 203d 206e 702e 6675 6c6c      bg = np.full
+0002d990: 5f6c 696b 6528 6267 5f66 726d 2c20 6267  _like(bg_frm, bg
+0002d9a0: 5f63 6c72 290a 2020 2020 6267 203d 2062  _clr).    bg = b
+0002d9b0: 675b 3a2c 203a 2c20 3a3a 2d31 5d0a 2020  g[:, :, ::-1].  
+0002d9c0: 2020 6469 722c 2076 6964 656f 5f6e 616d    dir, video_nam
+0002d9d0: 652c 2065 7874 203d 2067 6574 5f66 6e5f  e, ext = get_fn_
+0002d9e0: 6578 7428 6669 6c65 7061 7468 3d76 6964  ext(filepath=vid
+0002d9f0: 656f 5f70 6174 6829 0a20 2020 2077 6869  eo_path).    whi
+0002da00: 6c65 2063 7572 7265 6e74 5f66 726d 203c  le current_frm <
+0002da10: 3d20 656e 645f 6672 6d3a 0a20 2020 2020  = end_frm:.     
+0002da20: 2020 2072 6574 2c20 6672 6d20 3d20 6361     ret, frm = ca
+0002da30: 702e 7265 6164 2829 0a20 2020 2020 2020  p.read().       
+0002da40: 2069 6620 6e6f 7420 7265 743a 0a20 2020   if not ret:.   
+0002da50: 2020 2020 2020 2020 2062 7265 616b 0a20           break. 
+0002da60: 2020 2020 2020 2064 6966 6620 3d20 6376         diff = cv
+0002da70: 322e 6162 7364 6966 6628 6672 6d2c 2062  2.absdiff(frm, b
+0002da80: 675f 6672 6d29 0a20 2020 2020 2020 2062  g_frm).        b
+0002da90: 2c20 672c 2072 203d 2064 6966 665b 3a2c  , g, r = diff[:,
+0002daa0: 203a 2c20 305d 2c20 6469 6666 5b3a 2c20   :, 0], diff[:, 
+0002dab0: 3a2c 2031 5d2c 2064 6966 665b 3a2c 203a  :, 1], diff[:, :
+0002dac0: 2c20 325d 0a20 2020 2020 2020 2067 7261  , 2].        gra
+0002dad0: 795f 6469 6666 203d 2030 2e32 3938 3920  y_diff = 0.2989 
+0002dae0: 2a20 7220 2b20 302e 3538 3730 202a 2067  * r + 0.5870 * g
+0002daf0: 202b 2030 2e31 3134 3020 2a20 620a 2020   + 0.1140 * b.  
+0002db00: 2020 2020 2020 6772 6179 5f64 6966 6620        gray_diff 
+0002db10: 3d20 6772 6179 5f64 6966 662e 6173 7479  = gray_diff.asty
+0002db20: 7065 286e 702e 7569 6e74 3829 2020 2320  pe(np.uint8)  # 
+0002db30: 456e 7375 7265 2074 6865 2074 7970 6520  Ensure the type 
+0002db40: 6973 2075 696e 7438 0a20 2020 2020 2020  is uint8.       
+0002db50: 206d 6173 6b20 3d20 6e70 2e77 6865 7265   mask = np.where
+0002db60: 2867 7261 795f 6469 6666 203e 2035 302c  (gray_diff > 50,
+0002db70: 2032 3535 2c20 3029 2e61 7374 7970 6528   255, 0).astype(
+0002db80: 6e70 2e75 696e 7438 290a 2020 2020 2020  np.uint8).      
+0002db90: 2020 6966 2066 675f 636c 7220 6973 204e    if fg_clr is N
+0002dba0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+0002dbb0: 2066 6720 3d20 6376 322e 6269 7477 6973   fg = cv2.bitwis
+0002dbc0: 655f 616e 6428 6672 6d2c 2066 726d 2c20  e_and(frm, frm, 
+0002dbd0: 6d61 736b 3d6d 6173 6b29 0a20 2020 2020  mask=mask).     
+0002dbe0: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
+0002dbf0: 6376 322e 6164 6428 6267 2c20 6667 290a  cv2.add(bg, fg).
+0002dc00: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+0002dc10: 2020 2020 2020 2020 2020 6d61 736b 5f69            mask_i
+0002dc20: 6e76 203d 2063 7632 2e62 6974 7769 7365  nv = cv2.bitwise
+0002dc30: 5f6e 6f74 286d 6173 6b29 0a20 2020 2020  _not(mask).     
+0002dc40: 2020 2020 2020 2066 675f 636c 725f 696d         fg_clr_im
+0002dc50: 6720 3d20 6e70 2e66 756c 6c5f 6c69 6b65  g = np.full_like
+0002dc60: 2866 726d 2c20 6667 5f63 6c72 290a 2020  (frm, fg_clr).  
+0002dc70: 2020 2020 2020 2020 2020 6667 5f63 6c72            fg_clr
+0002dc80: 5f69 6d67 203d 2066 675f 636c 725f 696d  _img = fg_clr_im
+0002dc90: 675b 3a2c 203a 2c20 3a3a 2d31 5d0a 2020  g[:, :, ::-1].  
+0002dca0: 2020 2020 2020 2020 2020 6667 5f63 6c72            fg_clr
+0002dcb0: 5f69 6d67 203d 2063 7632 2e62 6974 7769  _img = cv2.bitwi
+0002dcc0: 7365 5f61 6e64 2866 675f 636c 725f 696d  se_and(fg_clr_im
+0002dcd0: 672c 2066 675f 636c 725f 696d 672c 206d  g, fg_clr_img, m
+0002dce0: 6173 6b3d 6d61 736b 290a 2020 2020 2020  ask=mask).      
+0002dcf0: 2020 2020 2020 7265 7375 6c74 203d 2063        result = c
+0002dd00: 7632 2e62 6974 7769 7365 5f61 6e64 2862  v2.bitwise_and(b
+0002dd10: 672c 2062 672c 206d 6173 6b3d 6d61 736b  g, bg, mask=mask
+0002dd20: 5f69 6e76 290a 2020 2020 2020 2020 2020  _inv).          
+0002dd30: 2020 7265 7375 6c74 203d 2063 7632 2e61    result = cv2.a
+0002dd40: 6464 2872 6573 756c 742c 2066 675f 636c  dd(result, fg_cl
+0002dd50: 725f 696d 6729 0a20 2020 2020 2020 2077  r_img).        w
+0002dd60: 7269 7465 722e 7772 6974 6528 7265 7375  riter.write(resu
+0002dd70: 6c74 290a 2020 2020 2020 2020 6375 7272  lt).        curr
+0002dd80: 656e 745f 6672 6d20 2b3d 2031 0a20 2020  ent_frm += 1.   
+0002dd90: 2020 2020 2070 7269 6e74 2866 2742 6163       print(f'Bac
+0002dda0: 6b67 726f 756e 6420 7375 6274 7261 6374  kground subtract
+0002ddb0: 696f 6e20 6672 616d 6520 7b63 7572 7265  ion frame {curre
+0002ddc0: 6e74 5f66 726d 7d2f 7b76 6964 656f 5f6d  nt_frm}/{video_m
+0002ddd0: 6574 615f 6461 7461 5b22 6672 616d 655f  eta_data["frame_
+0002dde0: 636f 756e 7422 5d7d 2028 5669 6465 6f3a  count"]} (Video:
+0002ddf0: 207b 7669 6465 6f5f 6e61 6d65 7d29 2729   {video_name})')
+0002de00: 0a20 2020 2077 7269 7465 722e 7265 6c65  .    writer.rele
+0002de10: 6173 6528 290a 2020 2020 6361 702e 7265  ase().    cap.re
+0002de20: 6c65 6173 6528 290a 2020 2020 7265 7475  lease().    retu
+0002de30: 726e 2062 6174 6368 0a0a 6465 6620 7669  rn batch..def vi
+0002de40: 6465 6f5f 6267 5f73 7562 7374 7261 6374  deo_bg_substract
+0002de50: 696f 6e5f 6d70 2876 6964 656f 5f70 6174  ion_mp(video_pat
+0002de60: 683a 2055 6e69 6f6e 5b73 7472 2c20 6f73  h: Union[str, os
+0002de70: 2e50 6174 684c 696b 655d 2c0a 2020 2020  .PathLike],.    
+0002de80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002de90: 2020 2020 2020 2020 2062 675f 7669 6465           bg_vide
+0002dea0: 6f5f 7061 7468 3a20 4f70 7469 6f6e 616c  o_path: Optional
+0002deb0: 5b55 6e69 6f6e 5b73 7472 2c20 6f73 2e50  [Union[str, os.P
+0002dec0: 6174 684c 696b 655d 5d20 3d20 4e6f 6e65  athLike]] = None
+0002ded0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0002dee0: 2020 2020 2020 2020 2020 2020 2020 2062                 b
+0002def0: 675f 7374 6172 745f 6672 6d3a 204f 7074  g_start_frm: Opt
+0002df00: 696f 6e61 6c5b 696e 745d 203d 204e 6f6e  ional[int] = Non
+0002df10: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+0002df20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002df30: 6267 5f65 6e64 5f66 726d 3a20 4f70 7469  bg_end_frm: Opti
+0002df40: 6f6e 616c 5b69 6e74 5d20 3d20 4e6f 6e65  onal[int] = None
+0002df50: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0002df60: 2020 2020 2020 2020 2020 2020 2020 2062                 b
+0002df70: 675f 7374 6172 745f 7469 6d65 3a20 4f70  g_start_time: Op
+0002df80: 7469 6f6e 616c 5b73 7472 5d20 3d20 4e6f  tional[str] = No
+0002df90: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
+0002dfa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002dfb0: 2062 675f 656e 645f 7469 6d65 3a20 4f70   bg_end_time: Op
+0002dfc0: 7469 6f6e 616c 5b73 7472 5d20 3d20 4e6f  tional[str] = No
+0002dfd0: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
+0002dfe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002dff0: 2062 675f 636f 6c6f 723a 204f 7074 696f   bg_color: Optio
+0002e000: 6e61 6c5b 5475 706c 655b 696e 742c 2069  nal[Tuple[int, i
+0002e010: 6e74 2c20 696e 745d 5d20 3d20 2830 2c20  nt, int]] = (0, 
+0002e020: 302c 2030 292c 0a20 2020 2020 2020 2020  0, 0),.         
+0002e030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002e040: 2020 2020 6667 5f63 6f6c 6f72 3a20 4f70      fg_color: Op
+0002e050: 7469 6f6e 616c 5b54 7570 6c65 5b69 6e74  tional[Tuple[int
+0002e060: 2c20 696e 742c 2069 6e74 5d5d 203d 204e  , int, int]] = N
+0002e070: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+0002e080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002e090: 2020 7361 7665 5f70 6174 683a 204f 7074    save_path: Opt
+0002e0a0: 696f 6e61 6c5b 556e 696f 6e5b 7374 722c  ional[Union[str,
+0002e0b0: 206f 732e 5061 7468 4c69 6b65 5d5d 203d   os.PathLike]] =
+0002e0c0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+0002e0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002e0e0: 2020 2020 636f 7265 5f63 6e74 3a20 4f70      core_cnt: Op
+0002e0f0: 7469 6f6e 616c 5b69 6e74 5d20 3d20 2d31  tional[int] = -1
+0002e100: 2920 2d3e 204e 6f6e 653a 0a0a 2020 2020  ) -> None:..    
+0002e110: 2222 220a 2020 2020 5375 6274 7261 6374  """.    Subtract
+0002e120: 2074 6865 2062 6163 6b67 726f 756e 6420   the background 
+0002e130: 6672 6f6d 2061 2076 6964 656f 2075 7369  from a video usi
+0002e140: 6e67 206d 756c 7469 7072 6f63 6573 7369  ng multiprocessi
+0002e150: 6e67 2e0a 0a20 2020 202e 2e20 7669 6465  ng...    .. vide
+0002e160: 6f3a 3a20 5f73 7461 7469 632f 696d 672f  o:: _static/img/
+0002e170: 7669 6465 6f5f 6267 5f73 7562 7374 7261  video_bg_substra
+0002e180: 6374 696f 6e5f 6d70 2e77 6562 6d0a 2020  ction_mp.webm.  
+0002e190: 2020 2020 203a 7769 6474 683a 2039 3030       :width: 900
+0002e1a0: 0a20 2020 2020 2020 3a61 7574 6f70 6c61  .       :autopla
+0002e1b0: 793a 0a20 2020 2020 2020 3a6c 6f6f 703a  y:.       :loop:
+0002e1c0: 0a0a 2020 2020 2e2e 2076 6964 656f 3a3a  ..    .. video::
+0002e1d0: 205f 7374 6174 6963 2f69 6d67 2f62 675f   _static/img/bg_
+0002e1e0: 7265 6d6f 7665 725f 6578 616d 706c 655f  remover_example_
+0002e1f0: 332e 7765 626d 0a20 2020 2020 2020 3a77  3.webm.       :w
+0002e200: 6964 7468 3a20 3930 300a 2020 2020 2020  idth: 900.      
+0002e210: 203a 6175 746f 706c 6179 3a0a 2020 2020   :autoplay:.    
+0002e220: 2020 203a 6c6f 6f70 3a0a 0a20 2020 202e     :loop:..    .
+0002e230: 2e20 7669 6465 6f3a 3a20 5f73 7461 7469  . video:: _stati
+0002e240: 632f 696d 672f 6267 5f72 656d 6f76 6572  c/img/bg_remover
+0002e250: 5f65 7861 6d70 6c65 5f34 2e77 6562 6d0a  _example_4.webm.
+0002e260: 2020 2020 2020 203a 7769 6474 683a 2039         :width: 9
+0002e270: 3030 0a20 2020 2020 2020 3a61 7574 6f70  00.       :autop
+0002e280: 6c61 793a 0a20 2020 2020 2020 3a6c 6f6f  lay:.       :loo
+0002e290: 703a 0a0a 2020 2020 2e2e 206e 6f74 653a  p:..    .. note:
+0002e2a0: 3a0a 2020 2020 2020 2020 466f 7220 7369  :.        For si
+0002e2b0: 6e67 6c65 2063 6f72 6520 616c 7465 726e  ngle core altern
+0002e2c0: 6174 6976 652c 2073 6565 2060 6073 696d  ative, see ``sim
+0002e2d0: 6261 2e76 6964 656f 5f70 726f 6365 7373  ba.video_process
+0002e2e0: 6f72 732e 7669 6465 6f5f 7072 6f63 6573  ors.video_proces
+0002e2f0: 7369 6e67 2e76 6964 656f 5f62 675f 7375  sing.video_bg_su
+0002e300: 6274 7261 6374 696f 6e60 600a 0a20 2020  btraction``..   
+0002e310: 2020 2020 4966 2020 6060 6267 5f76 6964      If  ``bg_vid
+0002e320: 656f 5f70 6174 6860 6020 6973 2070 6173  eo_path`` is pas
+0002e330: 7365 642c 2074 6861 7420 7669 6465 6f20  sed, that video 
+0002e340: 7769 6c6c 2062 6520 7573 6564 2074 6f20  will be used to 
+0002e350: 7061 7273 6520 7468 6520 6261 636b 6772  parse the backgr
+0002e360: 6f75 6e64 2e20 4966 204e 6f6e 652c 2060  ound. If None, `
+0002e370: 6076 6964 656f 5f70 6174 6860 6020 7769  `video_path`` wi
+0002e380: 6c6c 2062 6520 7573 6520 6474 6f20 7061  ll be use dto pa
+0002e390: 7273 6520 6261 636b 6772 6f75 6e64 2e0a  rse background..
+0002e3a0: 2020 2020 2020 2045 6974 6865 7220 7061         Either pa
+0002e3b0: 7373 2060 6073 7461 7274 5f66 726d 6060  ss ``start_frm``
+0002e3c0: 2061 6e64 2060 6065 6e64 5f66 726d 6060   and ``end_frm``
+0002e3d0: 204f 5220 6060 7374 6172 745f 7469 6d65   OR ``start_time
+0002e3e0: 6060 2061 6e64 2060 6065 6e64 5f74 696d  `` and ``end_tim
+0002e3f0: 6560 6020 4f52 2070 6173 7320 616c 6c20  e`` OR pass all 
+0002e400: 666f 7572 2061 7267 756d 656e 7473 2061  four arguments a
+0002e410: 7320 4e6f 6e65 2e0a 2020 2020 2020 2054  s None..       T
+0002e420: 686f 7365 2074 776f 2061 7267 756d 656e  hose two argumen
+0002e430: 7473 2077 696c 6c20 6265 2075 7365 6420  ts will be used 
+0002e440: 746f 2073 6c69 6365 2074 6865 2062 6163  to slice the bac
+0002e450: 6b67 726f 756e 6420 7669 6465 6f2c 2061  kground video, a
+0002e460: 6e64 2074 6865 2073 6c69 6365 6420 7061  nd the sliced pa
+0002e470: 7274 2069 7320 7573 6564 2074 6f20 7061  rt is used to pa
+0002e480: 7273 6520 7468 6520 6261 636b 6772 6f75  rse the backgrou
+0002e490: 6e64 2e0a 0a20 2020 2020 2020 466f 7220  nd...       For 
+0002e4a0: 6578 616d 706c 652c 2069 6e20 7468 6520  example, in the 
+0002e4b0: 7363 656e 6172 696f 2077 6865 7265 2074  scenario where t
+0002e4c0: 6865 7265 2069 7320 2a2a 6e6f 2a2a 2061  here is **no** a
+0002e4d0: 6e69 6d61 6c20 696e 2074 6865 2060 6076  nimal in the ``v
+0002e4e0: 6964 656f 5f70 6174 6860 6020 7669 6465  ideo_path`` vide
+0002e4f0: 6f20 666f 7220 7468 6520 6669 7273 7420  o for the first 
+0002e500: 3230 732c 2074 6865 6e20 7468 6520 6669  20s, then the fi
+0002e510: 7273 7420 3230 7320 6361 6e20 6265 2075  rst 20s can be u
+0002e520: 7365 6420 746f 2070 6172 7365 2074 6865  sed to parse the
+0002e530: 2062 6163 6b67 726f 756e 642e 0a20 2020   background..   
+0002e540: 2020 2020 496e 2074 6869 7320 7363 656e      In this scen
+0002e550: 6172 696f 2c20 6060 6267 5f76 6964 656f  ario, ``bg_video
+0002e560: 5f70 6174 6860 6020 6361 6e20 6265 2070  _path`` can be p
+0002e570: 6173 7365 6420 6173 2060 604e 6f6e 6560  assed as ``None`
+0002e580: 6020 616e 6420 6267 5f73 7461 7274 5f74  ` and bg_start_t
+0002e590: 696d 6520 616e 6420 6267 5f65 6e64 5f74  ime and bg_end_t
+0002e5a0: 696d 6520 6361 6e20 6265 2060 6030 303a  ime can be ``00:
+0002e5b0: 3030 3a30 3060 6020 616e 6420 6060 3030  00:00`` and ``00
+0002e5c0: 3a30 303a 3230 6060 2c20 7265 7065 6374  :00:20``, repect
+0002e5d0: 6976 656c 792e 0a0a 2020 2020 2020 2049  ively...       I
+0002e5e0: 6e20 7468 6520 7363 656e 6172 696f 2077  n the scenario w
+0002e5f0: 6865 7265 2074 6865 7265 202a 2a69 732a  here there **is*
+0002e600: 2a20 616e 696d 616c 2873 2920 696e 2074  * animal(s) in t
+0002e610: 6865 2065 6e74 6972 6520 6060 7669 6465  he entire ``vide
+0002e620: 6f5f 7061 7468 6060 2076 6964 656f 2c20  o_path`` video, 
+0002e630: 7061 7373 2060 6062 675f 7669 6465 6f5f  pass ``bg_video_
+0002e640: 7061 7468 6060 2061 7320 6120 7061 7468  path`` as a path
+0002e650: 2074 6f20 6120 7669 6465 6f20 7265 636f   to a video reco
+0002e660: 7264 696e 6720 7468 6520 6172 656e 6120  rding the arena 
+0002e670: 7769 7468 6f75 7420 7468 6520 616e 696d  without the anim
+0002e680: 616c 732e 0a0a 2020 2020 3a70 6172 616d  als...    :param
+0002e690: 2055 6e69 6f6e 5b73 7472 2c20 6f73 2e50   Union[str, os.P
+0002e6a0: 6174 684c 696b 655d 2076 6964 656f 5f70  athLike] video_p
+0002e6b0: 6174 683a 2054 6865 2070 6174 6820 746f  ath: The path to
+0002e6c0: 2074 6865 2076 6964 656f 2074 6f20 7265   the video to re
+0002e6d0: 6d6f 7665 2074 6865 2062 6163 6b67 726f  move the backgro
+0002e6e0: 756e 6420 6672 6f6d 2e0a 2020 2020 3a70  und from..    :p
+0002e6f0: 6172 616d 204f 7074 696f 6e61 6c5b 556e  aram Optional[Un
+0002e700: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+0002e710: 4c69 6b65 5d5d 2062 675f 7669 6465 6f5f  Like]] bg_video_
+0002e720: 7061 7468 3a20 5061 7468 2074 6f20 7468  path: Path to th
+0002e730: 6520 7669 6465 6f20 7768 6963 6820 636f  e video which co
+0002e740: 6e74 6169 6e73 2061 2073 6567 6d65 6e74  ntains a segment
+0002e750: 2077 6974 6820 7468 6520 6261 636b 6772   with the backgr
+0002e760: 6f75 6e64 206f 6e6c 792e 2049 6620 4e6f  ound only. If No
+0002e770: 6e65 2c20 7468 656e 2060 6076 6964 656f  ne, then ``video
+0002e780: 5f70 6174 6860 6020 7769 6c6c 2062 6520  _path`` will be 
+0002e790: 7573 6564 2e0a 2020 2020 3a70 6172 616d  used..    :param
+0002e7a0: 204f 7074 696f 6e61 6c5b 696e 745d 2062   Optional[int] b
+0002e7b0: 675f 7374 6172 745f 6672 6d3a 2054 6865  g_start_frm: The
+0002e7c0: 2066 6972 7374 2066 7261 6d65 2069 6e20   first frame in 
+0002e7d0: 7468 6520 6261 636b 6772 6f75 6e64 2076  the background v
+0002e7e0: 6964 656f 2074 6f20 7573 6520 7768 656e  ideo to use when
+0002e7f0: 2063 7265 6174 696e 6720 6120 7265 7072   creating a repr
+0002e800: 6573 656e 7461 7469 7665 2062 6163 6b67  esentative backg
+0002e810: 726f 756e 6420 696d 6167 652e 2044 6566  round image. Def
+0002e820: 6175 6c74 3a20 4e6f 6e65 2e0a 2020 2020  ault: None..    
+0002e830: 3a70 6172 616d 204f 7074 696f 6e61 6c5b  :param Optional[
+0002e840: 696e 745d 2062 675f 656e 645f 6672 6d3a  int] bg_end_frm:
+0002e850: 2054 6865 206c 6173 7420 6672 616d 6520   The last frame 
+0002e860: 696e 2074 6865 2062 6163 6b67 726f 756e  in the backgroun
+0002e870: 6420 7669 6465 6f20 746f 2075 7365 2077  d video to use w
+0002e880: 6865 6e20 6372 6561 7469 6e67 2061 2072  hen creating a r
+0002e890: 6570 7265 7365 6e74 6174 6976 6520 6261  epresentative ba
+0002e8a0: 636b 6772 6f75 6e64 2069 6d61 6765 2e20  ckground image. 
+0002e8b0: 4465 6661 756c 743a 204e 6f6e 652e 0a20  Default: None.. 
+0002e8c0: 2020 203a 7061 7261 6d20 4f70 7469 6f6e     :param Option
+0002e8d0: 616c 5b73 7472 5d20 6267 5f73 7461 7274  al[str] bg_start
+0002e8e0: 5f74 696d 653a 2054 6865 2073 7461 7274  _time: The start
+0002e8f0: 2074 696d 6573 7461 6d70 2069 6e20 6048   timestamp in `H
+0002e900: 483a 4d4d 3a53 5360 2066 6f72 6d61 7420  H:MM:SS` format 
+0002e910: 696e 2074 6865 2062 6163 6b67 726f 756e  in the backgroun
+0002e920: 6420 7669 6465 6f20 746f 2075 7365 2074  d video to use t
+0002e930: 6f20 6372 6561 7465 2061 2072 6570 7265  o create a repre
+0002e940: 7365 6e74 6174 6976 6520 6261 636b 6772  sentative backgr
+0002e950: 6f75 6e64 2069 6d61 6765 2e20 4465 6661  ound image. Defa
+0002e960: 756c 743a 204e 6f6e 652e 0a20 2020 203a  ult: None..    :
+0002e970: 7061 7261 6d20 4f70 7469 6f6e 616c 5b73  param Optional[s
+0002e980: 7472 5d20 6267 5f65 6e64 5f74 696d 653a  tr] bg_end_time:
+0002e990: 2054 6865 2065 6e64 2074 696d 6573 7461   The end timesta
+0002e9a0: 6d70 2069 6e20 6048 483a 4d4d 3a53 5360  mp in `HH:MM:SS`
+0002e9b0: 2066 6f72 6d61 7420 696e 2074 6865 2062   format in the b
+0002e9c0: 6163 6b67 726f 756e 6420 7669 6465 6f20  ackground video 
+0002e9d0: 746f 2075 7365 2074 6f20 6372 6561 7465  to use to create
+0002e9e0: 2061 2072 6570 7265 7365 6e74 6174 6976   a representativ
+0002e9f0: 6520 6261 636b 6772 6f75 6e64 2069 6d61  e background ima
+0002ea00: 6765 2e20 4465 6661 756c 743a 204e 6f6e  ge. Default: Non
+0002ea10: 652e 0a20 2020 203a 7061 7261 6d20 4f70  e..    :param Op
+0002ea20: 7469 6f6e 616c 5b54 7570 6c65 5b69 6e74  tional[Tuple[int
+0002ea30: 2c20 696e 742c 2069 6e74 5d5d 2062 675f  , int, int]] bg_
+0002ea40: 636f 6c6f 723a 2054 6865 2052 4742 2063  color: The RGB c
+0002ea50: 6f6c 6f72 206f 6620 7468 6520 6d6f 7669  olor of the movi
+0002ea60: 6e67 206f 626a 6563 7473 2069 6e20 7468  ng objects in th
+0002ea70: 6520 6f75 7470 7574 2076 6964 656f 2e20  e output video. 
+0002ea80: 4465 6661 756c 7473 2074 6f20 4e6f 6e65  Defaults to None
+0002ea90: 2c20 7768 6963 6820 7265 7072 6573 656e  , which represen
+0002eaa0: 7473 2074 6865 206f 7269 6769 6e61 6c20  ts the original 
+0002eab0: 636f 6c6f 7273 206f 6620 7468 6520 6d6f  colors of the mo
+0002eac0: 7669 6e67 206f 626a 6563 7473 2e0a 2020  ving objects..  
+0002ead0: 2020 3a70 6172 616d 204f 7074 696f 6e61    :param Optiona
+0002eae0: 6c5b 5475 706c 655b 696e 742c 2069 6e74  l[Tuple[int, int
+0002eaf0: 2c20 696e 745d 5d20 6667 5f63 6f6c 6f72  , int]] fg_color
+0002eb00: 3a20 5468 6520 5247 4220 636f 6c6f 7220  : The RGB color 
+0002eb10: 6f66 2074 6865 2062 6163 6b67 726f 756e  of the backgroun
+0002eb20: 6420 6f75 7470 7574 2076 6964 656f 2e20  d output video. 
+0002eb30: 4465 6661 756c 7473 2074 6f20 626c 6163  Defaults to blac
+0002eb40: 6b20 2830 2c20 302c 2030 292e 0a20 2020  k (0, 0, 0)..   
+0002eb50: 203a 7061 7261 6d20 4f70 7469 6f6e 616c   :param Optional
+0002eb60: 5b55 6e69 6f6e 5b73 7472 2c20 6f73 2e50  [Union[str, os.P
+0002eb70: 6174 684c 696b 655d 5d20 7361 7665 5f70  athLike]] save_p
+0002eb80: 6174 683a 2054 6865 2070 6174 6368 2074  ath: The patch t
+0002eb90: 6f20 7768 6572 6520 746f 2073 6176 6520  o where to save 
+0002eba0: 7468 6520 6f75 7470 7574 2076 6964 656f  the output video
+0002ebb0: 2077 6865 7265 2074 6865 2062 6163 6b67   where the backg
+0002ebc0: 726f 756e 6420 6973 2072 656d 6f76 6564  round is removed
+0002ebd0: 2e20 4966 204e 6f6e 652c 2073 6176 6573  . If None, saves
+0002ebe0: 2074 6865 206f 7574 7075 7420 7669 6465   the output vide
+0002ebf0: 6f20 696e 2074 6865 2073 616d 6520 6469  o in the same di
+0002ec00: 7265 6374 6f72 7920 6173 2074 6865 2069  rectory as the i
+0002ec10: 6e70 7574 2076 6964 656f 2077 6974 6820  nput video with 
+0002ec20: 7468 6520 6060 5f62 675f 7375 6274 7261  the ``_bg_subtra
+0002ec30: 6374 6564 6060 2073 7566 6669 782e 2044  cted`` suffix. D
+0002ec40: 6566 6175 6c74 3a20 4e6f 6e65 2e0a 2020  efault: None..  
+0002ec50: 2020 3a70 6172 616d 204f 7074 696f 6e61    :param Optiona
+0002ec60: 6c5b 696e 745d 2063 6f72 655f 636e 743a  l[int] core_cnt:
+0002ec70: 2054 6865 206e 756d 6265 7220 6f66 2063   The number of c
+0002ec80: 6f72 6573 2074 6f20 7573 652e 2044 6566  ores to use. Def
+0002ec90: 6175 6c74 7320 746f 202d 3120 7265 7072  aults to -1 repr
+0002eca0: 6573 656e 7469 6e67 2061 6c6c 2061 7661  esenting all ava
+0002ecb0: 696c 6162 6c65 2063 6f72 6573 2e0a 2020  ilable cores..  
+0002ecc0: 2020 3a72 6574 7572 6e3a 204e 6f6e 652e    :return: None.
+0002ecd0: 0a0a 2020 2020 3a65 7861 6d70 6c65 3a0a  ..    :example:.
+0002ece0: 2020 2020 3e3e 3e20 7669 6465 6f5f 6267      >>> video_bg
+0002ecf0: 5f73 7562 7374 7261 6374 696f 6e5f 6d70  _substraction_mp
+0002ed00: 2876 6964 656f 5f70 6174 683d 272f 5573  (video_path='/Us
+0002ed10: 6572 732f 7369 6d6f 6e2f 446f 776e 6c6f  ers/simon/Downlo
+0002ed20: 6164 732f 315f 4c48 2e6d 7034 272c 2062  ads/1_LH.mp4', b
+0002ed30: 675f 7374 6172 745f 7469 6d65 3d27 3030  g_start_time='00
+0002ed40: 3a30 303a 3030 272c 2062 675f 656e 645f  :00:00', bg_end_
+0002ed50: 7469 6d65 3d27 3030 3a30 303a 3130 272c  time='00:00:10',
+0002ed60: 2062 675f 636f 6c6f 723d 2830 2c20 302c   bg_color=(0, 0,
+0002ed70: 2030 292c 2066 675f 636f 6c6f 723d 2832   0), fg_color=(2
+0002ed80: 3535 2c20 3235 352c 2032 3535 2929 0a20  55, 255, 255)). 
+0002ed90: 2020 2022 2222 0a0a 2020 2020 7469 6d65     """..    time
+0002eda0: 7220 3d20 5369 6d62 6154 696d 6572 2873  r = SimbaTimer(s
+0002edb0: 7461 7274 3d54 7275 6529 0a20 2020 2063  tart=True).    c
+0002edc0: 6865 636b 5f66 696c 655f 6578 6973 745f  heck_file_exist_
+0002edd0: 616e 645f 7265 6164 6162 6c65 2866 696c  and_readable(fil
+0002ede0: 655f 7061 7468 3d76 6964 656f 5f70 6174  e_path=video_pat
+0002edf0: 6829 0a20 2020 2069 6620 6267 5f76 6964  h).    if bg_vid
+0002ee00: 656f 5f70 6174 6820 6973 204e 6f6e 653a  eo_path is None:
+0002ee10: 0a20 2020 2020 2020 2062 675f 7669 6465  .        bg_vide
+0002ee20: 6f5f 7061 7468 203d 2064 6565 7063 6f70  o_path = deepcop
+0002ee30: 7928 7669 6465 6f5f 7061 7468 290a 2020  y(video_path).  
+0002ee40: 2020 7669 6465 6f5f 6d65 7461 5f64 6174    video_meta_dat
+0002ee50: 6120 3d20 6765 745f 7669 6465 6f5f 6d65  a = get_video_me
+0002ee60: 7461 5f64 6174 6128 7669 6465 6f5f 7061  ta_data(video_pa
+0002ee70: 7468 3d76 6964 656f 5f70 6174 6829 0a20  th=video_path). 
+0002ee80: 2020 2064 6972 2c20 7669 6465 6f5f 6e61     dir, video_na
+0002ee90: 6d65 2c20 6578 7420 3d20 6765 745f 666e  me, ext = get_fn
+0002eea0: 5f65 7874 2866 696c 6570 6174 683d 7669  _ext(filepath=vi
+0002eeb0: 6465 6f5f 7061 7468 290a 2020 2020 6966  deo_path).    if
+0002eec0: 2073 6176 655f 7061 7468 2069 7320 4e6f   save_path is No
+0002eed0: 6e65 3a0a 2020 2020 2020 2020 7361 7665  ne:.        save
+0002eee0: 5f70 6174 6820 3d20 6f73 2e70 6174 682e  _path = os.path.
+0002eef0: 6a6f 696e 2864 6972 2c20 6627 7b76 6964  join(dir, f'{vid
+0002ef00: 656f 5f6e 616d 657d 5f62 675f 7375 6274  eo_name}_bg_subt
+0002ef10: 7261 6374 6564 7b65 7874 7d27 290a 2020  racted{ext}').  
+0002ef20: 2020 6474 203d 2064 6174 6574 696d 652e    dt = datetime.
+0002ef30: 6e6f 7728 292e 7374 7266 7469 6d65 2822  now().strftime("
+0002ef40: 2559 256d 2564 2548 254d 2553 2229 0a20  %Y%m%d%H%M%S"). 
+0002ef50: 2020 2074 656d 705f 6469 7220 3d20 6f73     temp_dir = os
+0002ef60: 2e70 6174 682e 6a6f 696e 2864 6972 2c20  .path.join(dir, 
+0002ef70: 6627 7465 6d70 5f7b 7669 6465 6f5f 6e61  f'temp_{video_na
+0002ef80: 6d65 7d5f 7b64 747d 2729 0a20 2020 206f  me}_{dt}').    o
+0002ef90: 732e 6d61 6b65 6469 7273 2874 656d 705f  s.makedirs(temp_
+0002efa0: 6469 7229 0a20 2020 2063 6865 636b 5f69  dir).    check_i
+0002efb0: 6e74 286e 616d 653d 6627 7b76 6964 656f  nt(name=f'{video
+0002efc0: 5f62 675f 7375 6273 7472 6163 7469 6f6e  _bg_substraction
+0002efd0: 5f6d 702e 5f5f 6e61 6d65 5f5f 7d20 636f  _mp.__name__} co
+0002efe0: 7265 5f63 6e74 272c 2076 616c 7565 3d63  re_cnt', value=c
+0002eff0: 6f72 655f 636e 742c 206d 696e 5f76 616c  ore_cnt, min_val
+0002f000: 7565 3d2d 312c 206d 6178 5f76 616c 7565  ue=-1, max_value
+0002f010: 3d66 696e 645f 636f 7265 5f63 6e74 2829  =find_core_cnt()
+0002f020: 5b30 5d29 0a20 2020 2069 6620 636f 7265  [0]).    if core
+0002f030: 5f63 6e74 203d 3d20 2d31 3a20 636f 7265  _cnt == -1: core
+0002f040: 5f63 6e74 203d 2066 696e 645f 636f 7265  _cnt = find_core
+0002f050: 5f63 6e74 2829 5b30 5d0a 2020 2020 6267  _cnt()[0].    bg
+0002f060: 5f66 726d 203d 2063 7265 6174 655f 6176  _frm = create_av
+0002f070: 6572 6167 655f 6672 6d28 7669 6465 6f5f  erage_frm(video_
+0002f080: 7061 7468 3d62 675f 7669 6465 6f5f 7061  path=bg_video_pa
+0002f090: 7468 2c20 7374 6172 745f 6672 6d3d 6267  th, start_frm=bg
+0002f0a0: 5f73 7461 7274 5f66 726d 2c20 656e 645f  _start_frm, end_
+0002f0b0: 6672 6d3d 6267 5f65 6e64 5f66 726d 2c20  frm=bg_end_frm, 
+0002f0c0: 7374 6172 745f 7469 6d65 3d62 675f 7374  start_time=bg_st
+0002f0d0: 6172 745f 7469 6d65 2c20 656e 645f 7469  art_time, end_ti
+0002f0e0: 6d65 3d62 675f 656e 645f 7469 6d65 290a  me=bg_end_time).
+0002f0f0: 2020 2020 6267 5f66 726d 203d 2063 7632      bg_frm = cv2
+0002f100: 2e72 6573 697a 6528 6267 5f66 726d 2c20  .resize(bg_frm, 
+0002f110: 2876 6964 656f 5f6d 6574 615f 6461 7461  (video_meta_data
+0002f120: 5b27 7769 6474 6827 5d2c 2076 6964 656f  ['width'], video
+0002f130: 5f6d 6574 615f 6461 7461 5b27 6865 6967  _meta_data['heig
+0002f140: 6874 275d 2929 0a20 2020 2062 675f 6672  ht'])).    bg_fr
+0002f150: 6d20 3d20 6267 5f66 726d 5b3a 2c20 3a2c  m = bg_frm[:, :,
+0002f160: 203a 3a2d 315d 0a20 2020 2066 726d 5f6c   ::-1].    frm_l
+0002f170: 6973 7420 3d20 6e70 2e61 7272 6179 5f73  ist = np.array_s
+0002f180: 706c 6974 286c 6973 7428 7261 6e67 6528  plit(list(range(
+0002f190: 302c 2076 6964 656f 5f6d 6574 615f 6461  0, video_meta_da
+0002f1a0: 7461 5b27 6672 616d 655f 636f 756e 7427  ta['frame_count'
+0002f1b0: 5d29 292c 2063 6f72 655f 636e 7429 0a20  ])), core_cnt). 
+0002f1c0: 2020 2066 726d 5f64 6174 6120 3d20 5b5d     frm_data = []
+0002f1d0: 0a20 2020 2066 6f72 2063 2c20 6920 696e  .    for c, i in
+0002f1e0: 2065 6e75 6d65 7261 7465 2866 726d 5f6c   enumerate(frm_l
+0002f1f0: 6973 7429 3a0a 2020 2020 2020 2020 6672  ist):.        fr
+0002f200: 6d5f 6461 7461 2e61 7070 656e 6428 2863  m_data.append((c
+0002f210: 2c20 6929 290a 2020 2020 7769 7468 206d  , i)).    with m
+0002f220: 756c 7469 7072 6f63 6573 7369 6e67 2e50  ultiprocessing.P
+0002f230: 6f6f 6c28 636f 7265 5f63 6e74 2c20 6d61  ool(core_cnt, ma
+0002f240: 7874 6173 6b73 7065 7263 6869 6c64 3d39  xtasksperchild=9
+0002f250: 3030 3029 2061 7320 706f 6f6c 3a0a 2020  000) as pool:.  
+0002f260: 2020 2020 2020 636f 6e73 7461 6e74 7320        constants 
+0002f270: 3d20 6675 6e63 746f 6f6c 732e 7061 7274  = functools.part
+0002f280: 6961 6c28 5f62 675f 7265 6d6f 7665 725f  ial(_bg_remover_
+0002f290: 6d70 2c0a 2020 2020 2020 2020 2020 2020  mp,.            
+0002f2a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f2b0: 2020 2020 2020 2020 2020 7669 6465 6f5f            video_
+0002f2c0: 7061 7468 3d76 6964 656f 5f70 6174 682c  path=video_path,
+0002f2d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002f2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f2f0: 2020 2020 2020 2062 675f 6672 6d3d 6267         bg_frm=bg
+0002f300: 5f66 726d 2c0a 2020 2020 2020 2020 2020  _frm,.          
+0002f310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f320: 2020 2020 2020 2020 2020 2020 6267 5f63              bg_c
+0002f330: 6c72 3d62 675f 636f 6c6f 722c 0a20 2020  lr=bg_color,.   
+0002f340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f360: 2020 2066 675f 636c 723d 6667 5f63 6f6c     fg_clr=fg_col
+0002f370: 6f72 2c0a 2020 2020 2020 2020 2020 2020  or,.            
+0002f380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f390: 2020 2020 2020 2020 2020 7669 6465 6f5f            video_
+0002f3a0: 6d65 7461 5f64 6174 613d 7669 6465 6f5f  meta_data=video_
+0002f3b0: 6d65 7461 5f64 6174 612c 0a20 2020 2020  meta_data,.     
+0002f3c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f3d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f3e0: 2074 656d 705f 6469 723d 7465 6d70 5f64   temp_dir=temp_d
+0002f3f0: 6972 290a 2020 2020 2020 2020 666f 7220  ir).        for 
+0002f400: 636e 742c 2072 6573 756c 7420 696e 2065  cnt, result in e
+0002f410: 6e75 6d65 7261 7465 2870 6f6f 6c2e 696d  numerate(pool.im
+0002f420: 6170 2863 6f6e 7374 616e 7473 2c20 6672  ap(constants, fr
+0002f430: 6d5f 6461 7461 2c20 6368 756e 6b73 697a  m_data, chunksiz
+0002f440: 653d 3129 293a 0a20 2020 2020 2020 2020  e=1)):.         
+0002f450: 2020 2070 7269 6e74 2866 2746 7261 6d65     print(f'Frame
+0002f460: 2062 6174 6368 207b 7265 7375 6c74 2b31   batch {result+1
+0002f470: 7d20 636f 6d70 6c65 7465 642e 2e2e 2729  } completed...')
+0002f480: 0a20 2020 2020 2020 2070 6f6f 6c2e 7465  .        pool.te
+0002f490: 726d 696e 6174 6528 290a 2020 2020 2020  rminate().      
+0002f4a0: 2020 706f 6f6c 2e6a 6f69 6e28 290a 0a20    pool.join().. 
+0002f4b0: 2020 2070 7269 6e74 2866 224a 6f69 6e69     print(f"Joini
+0002f4c0: 6e67 207b 7669 6465 6f5f 6e61 6d65 7d20  ng {video_name} 
+0002f4d0: 6d75 6c74 6970 726f 6365 7373 6564 2076  multiprocessed v
+0002f4e0: 6964 656f 2e2e 2e22 290a 2020 2020 636f  ideo...").    co
+0002f4f0: 6e63 6174 656e 6174 655f 7669 6465 6f73  ncatenate_videos
+0002f500: 5f69 6e5f 666f 6c64 6572 2869 6e5f 666f  _in_folder(in_fo
+0002f510: 6c64 6572 3d74 656d 705f 6469 722c 2073  lder=temp_dir, s
+0002f520: 6176 655f 7061 7468 3d73 6176 655f 7061  ave_path=save_pa
+0002f530: 7468 2c20 7669 6465 6f5f 666f 726d 6174  th, video_format
+0002f540: 3d65 7874 5b31 3a5d 2c20 7265 6d6f 7665  =ext[1:], remove
+0002f550: 5f73 706c 6974 733d 5472 7565 290a 2020  _splits=True).  
+0002f560: 2020 7469 6d65 722e 7374 6f70 5f74 696d    timer.stop_tim
+0002f570: 6572 2829 0a20 2020 2073 7464 6f75 745f  er().    stdout_
+0002f580: 7375 6363 6573 7328 6d73 673d 6627 5669  success(msg=f'Vi
+0002f590: 6465 6f20 7361 7665 6420 6174 207b 7361  deo saved at {sa
+0002f5a0: 7665 5f70 6174 687d 272c 2065 6c61 7073  ve_path}', elaps
+0002f5b0: 6564 5f74 696d 653d 7469 6d65 722e 656c  ed_time=timer.el
+0002f5c0: 6170 7365 645f 7469 6d65 5f73 7472 290a  apsed_time_str).
+0002f5d0: 0a0a 6465 6620 7375 7065 7269 6d70 6f73  ..def superimpos
+0002f5e0: 655f 7669 6465 6f5f 6e61 6d65 7328 7669  e_video_names(vi
+0002f5f0: 6465 6f5f 7061 7468 3a20 556e 696f 6e5b  deo_path: Union[
+0002f600: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
+0002f610: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+0002f620: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+0002f630: 6f6e 743a 204f 7074 696f 6e61 6c5b 7374  ont: Optional[st
+0002f640: 725d 203d 2027 4172 6961 6c27 2c0a 2020  r] = 'Arial',.  
 0002f650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f660: 2020 2020 2020 2020 6667 5f63 6c72 3d66          fg_clr=f
-0002f670: 675f 636f 6c6f 722c 0a20 2020 2020 2020  g_color,.       
-0002f680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f690: 2020 2020 2020 2020 2020 2020 2020 2076                 v
-0002f6a0: 6964 656f 5f6d 6574 615f 6461 7461 3d76  ideo_meta_data=v
-0002f6b0: 6964 656f 5f6d 6574 615f 6461 7461 2c0a  ideo_meta_data,.
-0002f6c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f660: 2020 2020 2020 2020 2020 666f 6e74 5f73            font_s
+0002f670: 697a 653a 204f 7074 696f 6e61 6c5b 696e  ize: Optional[in
+0002f680: 745d 203d 2033 302c 0a20 2020 2020 2020  t] = 30,.       
+0002f690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f6a0: 2020 2020 2066 6f6e 745f 636f 6c6f 723a       font_color:
+0002f6b0: 204f 7074 696f 6e61 6c5b 7374 725d 203d   Optional[str] =
+0002f6c0: 2027 7768 6974 6527 2c0a 2020 2020 2020   'white',.      
 0002f6d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f6e0: 2020 2020 2020 7465 6d70 5f64 6972 3d74        temp_dir=t
-0002f6f0: 656d 705f 6469 7229 0a20 2020 2020 2020  emp_dir).       
-0002f700: 2066 6f72 2063 6e74 2c20 7265 7375 6c74   for cnt, result
-0002f710: 2069 6e20 656e 756d 6572 6174 6528 706f   in enumerate(po
-0002f720: 6f6c 2e69 6d61 7028 636f 6e73 7461 6e74  ol.imap(constant
-0002f730: 732c 2066 726d 5f64 6174 612c 2063 6875  s, frm_data, chu
-0002f740: 6e6b 7369 7a65 3d31 2929 3a0a 2020 2020  nksize=1)):.    
-0002f750: 2020 2020 2020 2020 7072 696e 7428 6627          print(f'
-0002f760: 4672 616d 6520 6261 7463 6820 7b72 6573  Frame batch {res
-0002f770: 756c 742b 317d 2063 6f6d 706c 6574 6564  ult+1} completed
-0002f780: 2e2e 2e27 290a 2020 2020 2020 2020 706f  ...').        po
-0002f790: 6f6c 2e74 6572 6d69 6e61 7465 2829 0a20  ol.terminate(). 
-0002f7a0: 2020 2020 2020 2070 6f6f 6c2e 6a6f 696e         pool.join
-0002f7b0: 2829 0a0a 2020 2020 7072 696e 7428 6622  ()..    print(f"
-0002f7c0: 4a6f 696e 696e 6720 7b76 6964 656f 5f6e  Joining {video_n
-0002f7d0: 616d 657d 206d 756c 7469 7072 6f63 6573  ame} multiproces
-0002f7e0: 7365 6420 7669 6465 6f2e 2e2e 2229 0a20  sed video..."). 
-0002f7f0: 2020 2063 6f6e 6361 7465 6e61 7465 5f76     concatenate_v
-0002f800: 6964 656f 735f 696e 5f66 6f6c 6465 7228  ideos_in_folder(
-0002f810: 696e 5f66 6f6c 6465 723d 7465 6d70 5f64  in_folder=temp_d
-0002f820: 6972 2c20 7361 7665 5f70 6174 683d 7361  ir, save_path=sa
-0002f830: 7665 5f70 6174 682c 2076 6964 656f 5f66  ve_path, video_f
-0002f840: 6f72 6d61 743d 6578 745b 313a 5d2c 2072  ormat=ext[1:], r
-0002f850: 656d 6f76 655f 7370 6c69 7473 3d54 7275  emove_splits=Tru
-0002f860: 6529 0a20 2020 2074 696d 6572 2e73 746f  e).    timer.sto
-0002f870: 705f 7469 6d65 7228 290a 2020 2020 7374  p_timer().    st
-0002f880: 646f 7574 5f73 7563 6365 7373 286d 7367  dout_success(msg
-0002f890: 3d66 2756 6964 656f 2073 6176 6564 2061  =f'Video saved a
-0002f8a0: 7420 7b73 6176 655f 7061 7468 7d27 2c20  t {save_path}', 
-0002f8b0: 656c 6170 7365 645f 7469 6d65 3d74 696d  elapsed_time=tim
-0002f8c0: 6572 2e65 6c61 7073 6564 5f74 696d 655f  er.elapsed_time_
-0002f8d0: 7374 7229 0a0a 0a64 6566 2073 7570 6572  str)...def super
-0002f8e0: 696d 706f 7365 5f76 6964 656f 5f6e 616d  impose_video_nam
-0002f8f0: 6573 2876 6964 656f 5f70 6174 683a 2055  es(video_path: U
-0002f900: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
-0002f910: 684c 696b 655d 2c0a 2020 2020 2020 2020  hLike],.        
-0002f920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f930: 2020 2020 666f 6e74 3a20 4f70 7469 6f6e      font: Option
-0002f940: 616c 5b73 7472 5d20 3d20 2741 7269 616c  al[str] = 'Arial
-0002f950: 272c 0a20 2020 2020 2020 2020 2020 2020  ',.             
-0002f960: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0002f970: 6f6e 745f 7369 7a65 3a20 4f70 7469 6f6e  ont_size: Option
-0002f980: 616c 5b69 6e74 5d20 3d20 3330 2c0a 2020  al[int] = 30,.  
-0002f990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f9a0: 2020 2020 2020 2020 2020 666f 6e74 5f63            font_c
-0002f9b0: 6f6c 6f72 3a20 4f70 7469 6f6e 616c 5b73  olor: Optional[s
-0002f9c0: 7472 5d20 3d20 2777 6869 7465 272c 0a20  tr] = 'white',. 
-0002f9d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f9e0: 2020 2020 2020 2020 2020 2066 6f6e 745f             font_
-0002f9f0: 626f 7264 6572 5f63 6f6c 6f72 3a20 4f70  border_color: Op
-0002fa00: 7469 6f6e 616c 5b73 7472 5d20 3d20 2762  tional[str] = 'b
-0002fa10: 6c61 636b 272c 0a20 2020 2020 2020 2020  lack',.         
-0002fa20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002fa30: 2020 2066 6f6e 745f 626f 7264 6572 5f77     font_border_w
-0002fa40: 6964 7468 3a20 4f70 7469 6f6e 616c 5b69  idth: Optional[i
-0002fa50: 6e74 5d20 3d20 322c 0a20 2020 2020 2020  nt] = 2,.       
-0002fa60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002fa70: 2020 2020 2070 6f73 6974 696f 6e3a 204f       position: O
-0002fa80: 7074 696f 6e61 6c5b 4c69 7465 7261 6c5b  ptional[Literal[
-0002fa90: 2774 6f70 5f6c 6566 7427 2c20 2774 6f70  'top_left', 'top
-0002faa0: 5f72 6967 6874 272c 2027 626f 7474 6f6d  _right', 'bottom
-0002fab0: 5f6c 6566 7427 2c20 2762 6f74 746f 6d5f  _left', 'bottom_
-0002fac0: 7269 6768 7427 2c20 276d 6964 646c 655f  right', 'middle_
-0002fad0: 746f 7027 2c20 276d 6964 646c 655f 626f  top', 'middle_bo
-0002fae0: 7474 6f6d 275d 5d20 3d20 2774 6f70 5f6c  ttom']] = 'top_l
-0002faf0: 6566 7427 2c0a 2020 2020 2020 2020 2020  eft',.          
-0002fb00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002fb10: 2020 7361 7665 5f64 6972 3a20 4f70 7469    save_dir: Opti
-0002fb20: 6f6e 616c 5b55 6e69 6f6e 5b73 7472 2c20  onal[Union[str, 
-0002fb30: 6f73 2e50 6174 684c 696b 655d 5d20 3d20  os.PathLike]] = 
-0002fb40: 4e6f 6e65 2920 2d3e 204e 6f6e 653a 0a20  None) -> None:. 
-0002fb50: 2020 2022 2222 0a20 2020 2053 7570 6572     """.    Super
-0002fb60: 696d 706f 7365 7320 7468 6520 7669 6465  imposes the vide
-0002fb70: 6f20 6e61 6d65 206f 6e20 7468 6520 6769  o name on the gi
-0002fb80: 7665 6e20 7669 6465 6f20 6669 6c65 2873  ven video file(s
-0002fb90: 2920 616e 6420 7361 7665 7320 7468 6520  ) and saves the 
-0002fba0: 6d6f 6469 6669 6564 2076 6964 656f 2873  modified video(s
-0002fbb0: 292e 0a0a 2020 2020 2e2e 2076 6964 656f  )...    .. video
-0002fbc0: 3a3a 205f 7374 6174 6963 2f69 6d67 2f73  :: _static/img/s
-0002fbd0: 7570 6572 696d 706f 7365 5f76 6964 656f  uperimpose_video
-0002fbe0: 5f6e 616d 6573 2e77 6562 6d0a 2020 2020  _names.webm.    
-0002fbf0: 2020 203a 7769 6474 683a 2039 3030 0a20     :width: 900. 
-0002fc00: 2020 2020 2020 3a6c 6f6f 703a 0a0a 2020        :loop:..  
-0002fc10: 2020 3a70 6172 616d 2055 6e69 6f6e 5b73    :param Union[s
-0002fc20: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
-0002fc30: 2076 6964 656f 5f70 6174 683a 2050 6174   video_path: Pat
-0002fc40: 6820 746f 2074 6865 2069 6e70 7574 2076  h to the input v
-0002fc50: 6964 656f 2066 696c 6520 6f72 2064 6972  ideo file or dir
-0002fc60: 6563 746f 7279 2063 6f6e 7461 696e 696e  ectory containin
-0002fc70: 6720 7669 6465 6f20 6669 6c65 732e 0a20  g video files.. 
-0002fc80: 2020 203a 7061 7261 6d20 4f70 7469 6f6e     :param Option
-0002fc90: 616c 5b69 6e74 5d20 666f 6e74 5f73 697a  al[int] font_siz
-0002fca0: 653a 2046 6f6e 7420 7369 7a65 2066 6f72  e: Font size for
-0002fcb0: 2074 6865 2076 6964 656f 206e 616d 6520   the video name 
-0002fcc0: 7465 7874 2e20 4465 6661 756c 7420 3330  text. Default 30
-0002fcd0: 2e0a 2020 2020 3a70 6172 616d 204f 7074  ..    :param Opt
-0002fce0: 696f 6e61 6c5b 7374 725d 2066 6f6e 745f  ional[str] font_
-0002fcf0: 636f 6c6f 723a 2020 466f 6e74 2063 6f6c  color:  Font col
-0002fd00: 6f72 2066 6f72 2074 6865 2076 6964 656f  or for the video
-0002fd10: 206e 616d 6520 7465 7874 2e20 4465 6661   name text. Defa
-0002fd20: 756c 7420 7768 6974 650a 2020 2020 3a70  ult white.    :p
-0002fd30: 6172 616d 204f 7074 696f 6e61 6c5b 7374  aram Optional[st
-0002fd40: 725d 2066 6f6e 745f 626f 7264 6572 5f63  r] font_border_c
-0002fd50: 6f6c 6f72 3a20 466f 6e74 2062 6f72 6465  olor: Font borde
-0002fd60: 7220 636f 6c6f 7220 666f 7220 7468 6520  r color for the 
-0002fd70: 7669 6465 6f20 6e61 6d65 2074 6578 742e  video name text.
-0002fd80: 2044 6566 6175 6c74 2062 6c61 636b 2e0a   Default black..
-0002fd90: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
-0002fda0: 6e61 6c5b 696e 745d 2066 6f6e 745f 626f  nal[int] font_bo
-0002fdb0: 7264 6572 5f77 6964 7468 3a20 466f 6e74  rder_width: Font
-0002fdc0: 2062 6f72 6465 7220 7769 6474 6820 666f   border width fo
-0002fdd0: 7220 7468 6520 7669 6465 6f20 6e61 6d65  r the video name
-0002fde0: 2074 6578 7420 696e 2070 6978 656c 732e   text in pixels.
-0002fdf0: 2044 6566 6175 6c74 2032 2e0a 2020 2020   Default 2..    
-0002fe00: 3a70 6172 616d 204f 7074 696f 6e61 6c5b  :param Optional[
-0002fe10: 4c69 7465 7261 6c5b 2774 6f70 5f6c 6566  Literal['top_lef
-0002fe20: 7427 2c20 2774 6f70 5f72 6967 6874 272c  t', 'top_right',
-0002fe30: 2027 626f 7474 6f6d 5f6c 6566 7427 2c20   'bottom_left', 
-0002fe40: 2762 6f74 746f 6d5f 7269 6768 7427 2c20  'bottom_right', 
-0002fe50: 2774 6f70 5f6d 6964 646c 6527 2c20 2762  'top_middle', 'b
-0002fe60: 6f74 746f 6d5f 6d69 6464 6c65 275d 5d20  ottom_middle']] 
-0002fe70: 706f 7369 7469 6f6e 3a20 506f 7369 7469  position: Positi
-0002fe80: 6f6e 2077 6865 7265 2074 6865 2076 6964  on where the vid
-0002fe90: 656f 206e 616d 6520 7769 6c6c 2062 6520  eo name will be 
-0002fea0: 7375 7065 7269 6d70 6f73 6564 2e20 4465  superimposed. De
-0002feb0: 6661 756c 7420 6060 746f 705f 6c65 6674  fault ``top_left
-0002fec0: 6060 2e0a 2020 2020 3a70 6172 616d 204f  ``..    :param O
-0002fed0: 7074 696f 6e61 6c5b 556e 696f 6e5b 7374  ptional[Union[st
-0002fee0: 722c 206f 732e 5061 7468 4c69 6b65 5d5d  r, os.PathLike]]
-0002fef0: 2073 6176 655f 6469 723a 2044 6972 6563   save_dir: Direc
-0002ff00: 746f 7279 2077 6865 7265 2074 6865 206d  tory where the m
-0002ff10: 6f64 6966 6965 6420 7669 6465 6f28 7329  odified video(s)
-0002ff20: 2077 696c 6c20 6265 2073 6176 6564 2e20   will be saved. 
-0002ff30: 4966 206e 6f74 2070 726f 7669 6465 642c  If not provided,
-0002ff40: 2074 6865 2064 6972 6563 746f 7279 206f   the directory o
-0002ff50: 6620 7468 6520 696e 7075 7420 7669 6465  f the input vide
-0002ff60: 6f28 7329 2077 696c 6c20 6265 2075 7365  o(s) will be use
-0002ff70: 642e 0a20 2020 203a 7265 7475 726e 3a20  d..    :return: 
-0002ff80: 4e6f 6e65 0a0a 2020 2020 3a65 7861 6d70  None..    :examp
-0002ff90: 6c65 3a0a 2020 2020 3e3e 3e20 7375 7065  le:.    >>> supe
-0002ffa0: 7269 6d70 6f73 655f 7669 6465 6f5f 6e61  rimpose_video_na
-0002ffb0: 6d65 7328 7669 6465 6f5f 7061 7468 3d27  mes(video_path='
-0002ffc0: 2f55 7365 7273 2f73 696d 6f6e 2f44 6573  /Users/simon/Des
-0002ffd0: 6b74 6f70 2f65 6e76 732f 7369 6d62 612f  ktop/envs/simba/
-0002ffe0: 7472 6f75 626c 6573 686f 6f74 696e 672f  troubleshooting/
-0002fff0: 6d6f 7573 655f 6f70 656e 5f66 6965 6c64  mouse_open_field
-00030000: 2f70 726f 6a65 6374 5f66 6f6c 6465 722f  /project_folder/
-00030010: 7669 6465 6f73 2f74 6573 745f 342f 312e  videos/test_4/1.
-00030020: 6d70 3427 2c20 706f 7369 7469 6f6e 3d27  mp4', position='
-00030030: 6d69 6464 6c65 5f74 6f70 272c 2066 6f6e  middle_top', fon
-00030040: 745f 636f 6c6f 723d 2762 6c61 636b 272c  t_color='black',
-00030050: 2066 6f6e 745f 626f 7264 6572 5f63 6f6c   font_border_col
-00030060: 6f72 3d27 7069 6e6b 272c 2066 6f6e 745f  or='pink', font_
-00030070: 626f 7264 6572 5f77 6964 7468 3d35 2c20  border_width=5, 
-00030080: 666f 6e74 5f73 697a 653d 3330 290a 2020  font_size=30).  
-00030090: 2020 2222 220a 0a20 2020 2063 6865 636b    """..    check
-000300a0: 5f66 666d 7065 675f 6176 6169 6c61 626c  _ffmpeg_availabl
-000300b0: 6528 7261 6973 655f 6572 726f 723d 5472  e(raise_error=Tr
-000300c0: 7565 290a 2020 2020 7469 6d65 7220 3d20  ue).    timer = 
-000300d0: 5369 6d62 6154 696d 6572 2873 7461 7274  SimbaTimer(start
-000300e0: 3d54 7275 6529 0a20 2020 2050 4f53 4954  =True).    POSIT
-000300f0: 494f 4e53 203d 205b 2774 6f70 5f6c 6566  IONS = ['top_lef
-00030100: 7427 2c20 2774 6f70 5f72 6967 6874 272c  t', 'top_right',
-00030110: 2027 626f 7474 6f6d 5f6c 6566 7427 2c20   'bottom_left', 
-00030120: 2762 6f74 746f 6d5f 7269 6768 7427 2c20  'bottom_right', 
-00030130: 2774 6f70 5f6d 6964 646c 6527 2c20 2762  'top_middle', 'b
-00030140: 6f74 746f 6d5f 6d69 6464 6c65 275d 0a20  ottom_middle']. 
-00030150: 2020 2063 6865 636b 5f73 7472 286e 616d     check_str(nam
-00030160: 653d 6627 7b73 7570 6572 696d 706f 7365  e=f'{superimpose
-00030170: 5f76 6964 656f 5f6e 616d 6573 2e5f 5f6e  _video_names.__n
-00030180: 616d 655f 5f7d 2070 6f73 6974 696f 6e27  ame__} position'
-00030190: 2c20 7661 6c75 653d 706f 7369 7469 6f6e  , value=position
-000301a0: 2c20 6f70 7469 6f6e 733d 504f 5349 5449  , options=POSITI
-000301b0: 4f4e 5329 0a20 2020 2063 6865 636b 5f69  ONS).    check_i
-000301c0: 6e74 286e 616d 653d 6627 7b73 7570 6572  nt(name=f'{super
-000301d0: 696d 706f 7365 5f76 6964 656f 5f6e 616d  impose_video_nam
-000301e0: 6573 2e5f 5f6e 616d 655f 5f7d 2066 6f6e  es.__name__} fon
-000301f0: 745f 7369 7a65 272c 2076 616c 7565 3d66  t_size', value=f
-00030200: 6f6e 745f 7369 7a65 2c20 6d69 6e5f 7661  ont_size, min_va
-00030210: 6c75 653d 3129 0a20 2020 2063 6865 636b  lue=1).    check
-00030220: 5f69 6e74 286e 616d 653d 6627 7b73 7570  _int(name=f'{sup
-00030230: 6572 696d 706f 7365 5f76 6964 656f 5f6e  erimpose_video_n
-00030240: 616d 6573 2e5f 5f6e 616d 655f 5f7d 2066  ames.__name__} f
-00030250: 6f6e 745f 626f 7264 6572 5f77 6964 7468  ont_border_width
-00030260: 272c 2076 616c 7565 3d66 6f6e 745f 626f  ', value=font_bo
-00030270: 7264 6572 5f77 6964 7468 2c20 6d69 6e5f  rder_width, min_
-00030280: 7661 6c75 653d 3129 0a20 2020 2066 6f6e  value=1).    fon
-00030290: 745f 6469 6374 203d 2067 6574 5f66 6f6e  t_dict = get_fon
-000302a0: 7473 2829 0a20 2020 2063 6865 636b 5f73  ts().    check_s
-000302b0: 7472 286e 616d 653d 2766 6f6e 7427 2c20  tr(name='font', 
-000302c0: 7661 6c75 653d 666f 6e74 2c20 6f70 7469  value=font, opti
-000302d0: 6f6e 733d 7475 706c 6528 666f 6e74 5f64  ons=tuple(font_d
-000302e0: 6963 742e 6b65 7973 2829 2929 0a20 2020  ict.keys())).   
-000302f0: 2066 6f6e 745f 7061 7468 203d 2066 6f6e   font_path = fon
-00030300: 745f 6469 6374 5b66 6f6e 745d 0a20 2020  t_dict[font].   
-00030310: 2066 6f6e 745f 636f 6c6f 7220 3d20 2727   font_color = ''
-00030320: 2e6a 6f69 6e28 6669 6c74 6572 2873 7472  .join(filter(str
-00030330: 2e69 7361 6c6e 756d 2c20 666f 6e74 5f63  .isalnum, font_c
-00030340: 6f6c 6f72 2929 2e6c 6f77 6572 2829 0a20  olor)).lower(). 
-00030350: 2020 2066 6f6e 745f 626f 7264 6572 5f63     font_border_c
-00030360: 6f6c 6f72 203d 2027 272e 6a6f 696e 2866  olor = ''.join(f
-00030370: 696c 7465 7228 7374 722e 6973 616c 6e75  ilter(str.isalnu
-00030380: 6d2c 2066 6f6e 745f 626f 7264 6572 5f63  m, font_border_c
-00030390: 6f6c 6f72 2929 2e6c 6f77 6572 2829 0a20  olor)).lower(). 
-000303a0: 2020 2069 6620 6f73 2e70 6174 682e 6973     if os.path.is
-000303b0: 6669 6c65 2876 6964 656f 5f70 6174 6829  file(video_path)
-000303c0: 3a0a 2020 2020 2020 2020 7669 6465 6f5f  :.        video_
-000303d0: 7061 7468 7320 3d20 5b76 6964 656f 5f70  paths = [video_p
-000303e0: 6174 685d 0a20 2020 2065 6c69 6620 6f73  ath].    elif os
-000303f0: 2e70 6174 682e 6973 6469 7228 7669 6465  .path.isdir(vide
-00030400: 6f5f 7061 7468 293a 0a20 2020 2020 2020  o_path):.       
-00030410: 2076 6964 656f 5f70 6174 6873 203d 206c   video_paths = l
-00030420: 6973 7428 6669 6e64 5f61 6c6c 5f76 6964  ist(find_all_vid
-00030430: 656f 735f 696e 5f64 6972 6563 746f 7279  eos_in_directory
-00030440: 2864 6972 6563 746f 7279 3d76 6964 656f  (directory=video
-00030450: 5f70 6174 682c 2061 735f 6469 6374 3d54  _path, as_dict=T
-00030460: 7275 652c 2072 6169 7365 5f65 7272 6f72  rue, raise_error
-00030470: 3d54 7275 6529 2e76 616c 7565 7328 2929  =True).values())
-00030480: 0a20 2020 2065 6c73 653a 0a20 2020 2020  .    else:.     
-00030490: 2020 2072 6169 7365 2049 6e76 616c 6964     raise Invalid
-000304a0: 496e 7075 7445 7272 6f72 286d 7367 3d66  InputError(msg=f
-000304b0: 277b 7669 6465 6f5f 7061 7468 7d20 6973  '{video_path} is
-000304c0: 206e 6f74 2061 2076 616c 6964 2066 696c   not a valid fil
-000304d0: 6520 7061 7468 206f 7220 6120 7661 6c69  e path or a vali
-000304e0: 6420 6469 7265 6374 6f72 7920 7061 7468  d directory path
-000304f0: 272c 2073 6f75 7263 653d 7375 7065 7269  ', source=superi
-00030500: 6d70 6f73 655f 7669 6465 6f5f 6e61 6d65  mpose_video_name
-00030510: 732e 5f5f 6e61 6d65 5f5f 290a 2020 2020  s.__name__).    
-00030520: 6966 2073 6176 655f 6469 7220 6973 206e  if save_dir is n
-00030530: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-00030540: 2063 6865 636b 5f69 665f 6469 725f 6578   check_if_dir_ex
-00030550: 6973 7473 2869 6e5f 6469 723d 7361 7665  ists(in_dir=save
-00030560: 5f64 6972 290a 2020 2020 656c 7365 3a0a  _dir).    else:.
-00030570: 2020 2020 2020 2020 7361 7665 5f64 6972          save_dir
-00030580: 203d 206f 732e 7061 7468 2e64 6972 6e61   = os.path.dirna
-00030590: 6d65 2876 6964 656f 5f70 6174 6873 5b30  me(video_paths[0
-000305a0: 5d29 0a20 2020 2066 6f72 2066 696c 655f  ]).    for file_
-000305b0: 636e 742c 2076 6964 656f 5f70 6174 6820  cnt, video_path 
-000305c0: 696e 2065 6e75 6d65 7261 7465 2876 6964  in enumerate(vid
-000305d0: 656f 5f70 6174 6873 293a 0a20 2020 2020  eo_paths):.     
-000305e0: 2020 205f 2c20 7669 6465 6f5f 6e61 6d65     _, video_name
-000305f0: 2c20 6578 7420 3d20 6765 745f 666e 5f65  , ext = get_fn_e
-00030600: 7874 2876 6964 656f 5f70 6174 6829 0a20  xt(video_path). 
-00030610: 2020 2020 2020 2070 7269 6e74 2866 2753         print(f'S
-00030620: 7570 6572 696d 706f 7369 6e67 2076 6964  uperimposing vid
-00030630: 656f 206e 616d 6520 6f6e 207b 7669 6465  eo name on {vide
-00030640: 6f5f 6e61 6d65 7d20 2856 6964 656f 207b  o_name} (Video {
-00030650: 6669 6c65 5f63 6e74 202b 2031 7d2f 7b6c  file_cnt + 1}/{l
-00030660: 656e 2876 6964 656f 5f70 6174 6873 297d  en(video_paths)}
-00030670: 292e 2e2e 2729 0a20 2020 2020 2020 2073  )...').        s
-00030680: 6176 655f 7061 7468 203d 206f 732e 7061  ave_path = os.pa
-00030690: 7468 2e6a 6f69 6e28 7361 7665 5f64 6972  th.join(save_dir
-000306a0: 2c20 6627 7b76 6964 656f 5f6e 616d 657d  , f'{video_name}
-000306b0: 5f76 6964 656f 5f6e 616d 655f 7375 7065  _video_name_supe
-000306c0: 7269 6d70 6f73 6564 7b65 7874 7d27 290a  rimposed{ext}').
-000306d0: 2020 2020 2020 2020 6966 2070 6f73 6974          if posit
-000306e0: 696f 6e20 3d3d 2050 4f53 4954 494f 4e53  ion == POSITIONS
-000306f0: 5b30 5d3a 0a20 2020 2020 2020 2020 2020  [0]:.           
-00030700: 2063 6d64 203d 2066 2266 666d 7065 6720   cmd = f"ffmpeg 
-00030710: 2d69 2027 7b76 6964 656f 5f70 6174 687d  -i '{video_path}
-00030720: 2720 2d76 6620 5c22 6472 6177 7465 7874  ' -vf \"drawtext
-00030730: 3d66 6f6e 7466 696c 653d 7b66 6f6e 745f  =fontfile={font_
-00030740: 7061 7468 7d3a 7465 7874 3d7b 7669 6465  path}:text={vide
-00030750: 6f5f 6e61 6d65 7d3a 783d 353a 793d 353a  o_name}:x=5:y=5:
-00030760: 666f 6e74 7369 7a65 3d7b 666f 6e74 5f73  fontsize={font_s
-00030770: 697a 657d 3a66 6f6e 7463 6f6c 6f72 3d7b  ize}:fontcolor={
-00030780: 666f 6e74 5f63 6f6c 6f72 7d3a 626f 7264  font_color}:bord
-00030790: 6572 773d 7b66 6f6e 745f 626f 7264 6572  erw={font_border
-000307a0: 5f77 6964 7468 7d3a 626f 7264 6572 636f  _width}:borderco
-000307b0: 6c6f 723d 7b66 6f6e 745f 626f 7264 6572  lor={font_border
-000307c0: 5f63 6f6c 6f72 7d5c 2220 2d63 3a61 2063  _color}\" -c:a c
-000307d0: 6f70 7920 277b 7361 7665 5f70 6174 687d  opy '{save_path}
-000307e0: 2720 2d6c 6f67 6c65 7665 6c20 6572 726f  ' -loglevel erro
-000307f0: 7220 2d73 7461 7473 202d 6869 6465 5f62  r -stats -hide_b
-00030800: 616e 6e65 7220 2d79 220a 2020 2020 2020  anner -y".      
-00030810: 2020 656c 6966 2070 6f73 6974 696f 6e20    elif position 
-00030820: 3d3d 2050 4f53 4954 494f 4e53 5b31 5d3a  == POSITIONS[1]:
-00030830: 0a20 2020 2020 2020 2020 2020 2063 6d64  .            cmd
-00030840: 203d 2066 2266 666d 7065 6720 2d69 2027   = f"ffmpeg -i '
-00030850: 7b76 6964 656f 5f70 6174 687d 2720 2d76  {video_path}' -v
-00030860: 6620 5c22 6472 6177 7465 7874 3d66 6f6e  f \"drawtext=fon
-00030870: 7466 696c 653d 7b66 6f6e 745f 7061 7468  tfile={font_path
-00030880: 7d3a 7465 7874 3d7b 7669 6465 6f5f 6e61  }:text={video_na
-00030890: 6d65 7d3a 783d 2877 2d74 772d 3529 3a79  me}:x=(w-tw-5):y
-000308a0: 3d35 3a66 6f6e 7473 697a 653d 7b66 6f6e  =5:fontsize={fon
-000308b0: 745f 7369 7a65 7d3a 666f 6e74 636f 6c6f  t_size}:fontcolo
-000308c0: 723d 7b66 6f6e 745f 636f 6c6f 727d 3a62  r={font_color}:b
-000308d0: 6f72 6465 7277 3d7b 666f 6e74 5f62 6f72  orderw={font_bor
-000308e0: 6465 725f 7769 6474 687d 3a62 6f72 6465  der_width}:borde
-000308f0: 7263 6f6c 6f72 3d7b 666f 6e74 5f62 6f72  rcolor={font_bor
-00030900: 6465 725f 636f 6c6f 727d 5c22 202d 633a  der_color}\" -c:
-00030910: 6120 636f 7079 2027 7b73 6176 655f 7061  a copy '{save_pa
-00030920: 7468 7d27 202d 6c6f 676c 6576 656c 2065  th}' -loglevel e
-00030930: 7272 6f72 202d 7374 6174 7320 2d68 6964  rror -stats -hid
-00030940: 655f 6261 6e6e 6572 202d 7922 0a20 2020  e_banner -y".   
-00030950: 2020 2020 2065 6c69 6620 706f 7369 7469       elif positi
-00030960: 6f6e 203d 3d20 504f 5349 5449 4f4e 535b  on == POSITIONS[
-00030970: 325d 3a0a 2020 2020 2020 2020 2020 2020  2]:.            
-00030980: 636d 6420 3d20 6622 6666 6d70 6567 202d  cmd = f"ffmpeg -
-00030990: 6920 277b 7669 6465 6f5f 7061 7468 7d27  i '{video_path}'
-000309a0: 202d 7666 205c 2264 7261 7774 6578 743d   -vf \"drawtext=
-000309b0: 666f 6e74 6669 6c65 3d7b 666f 6e74 5f70  fontfile={font_p
-000309c0: 6174 687d 3a74 6578 743d 7b76 6964 656f  ath}:text={video
-000309d0: 5f6e 616d 657d 3a78 3d35 3a79 3d28 682d  _name}:x=5:y=(h-
-000309e0: 7468 2d35 293a 666f 6e74 7369 7a65 3d7b  th-5):fontsize={
-000309f0: 666f 6e74 5f73 697a 657d 3a66 6f6e 7463  font_size}:fontc
-00030a00: 6f6c 6f72 3d7b 666f 6e74 5f63 6f6c 6f72  olor={font_color
-00030a10: 7d3a 626f 7264 6572 773d 7b66 6f6e 745f  }:borderw={font_
-00030a20: 626f 7264 6572 5f77 6964 7468 7d3a 626f  border_width}:bo
-00030a30: 7264 6572 636f 6c6f 723d 7b66 6f6e 745f  rdercolor={font_
-00030a40: 626f 7264 6572 5f63 6f6c 6f72 7d5c 2220  border_color}\" 
-00030a50: 2d63 3a61 2063 6f70 7920 277b 7361 7665  -c:a copy '{save
-00030a60: 5f70 6174 687d 2720 2d6c 6f67 6c65 7665  _path}' -logleve
-00030a70: 6c20 6572 726f 7220 2d73 7461 7473 202d  l error -stats -
-00030a80: 6869 6465 5f62 616e 6e65 7220 2d79 220a  hide_banner -y".
-00030a90: 2020 2020 2020 2020 656c 6966 2070 6f73          elif pos
-00030aa0: 6974 696f 6e20 3d3d 2050 4f53 4954 494f  ition == POSITIO
-00030ab0: 4e53 5b33 5d3a 0a20 2020 2020 2020 2020  NS[3]:.         
-00030ac0: 2020 2063 6d64 203d 2066 2266 666d 7065     cmd = f"ffmpe
-00030ad0: 6720 2d69 2027 7b76 6964 656f 5f70 6174  g -i '{video_pat
-00030ae0: 687d 2720 2d76 6620 5c22 6472 6177 7465  h}' -vf \"drawte
-00030af0: 7874 3d66 6f6e 7466 696c 653d 7b66 6f6e  xt=fontfile={fon
-00030b00: 745f 7061 7468 7d3a 7465 7874 3d7b 7669  t_path}:text={vi
-00030b10: 6465 6f5f 6e61 6d65 7d3a 783d 2877 2d74  deo_name}:x=(w-t
-00030b20: 772d 3529 3a79 3d28 682d 7468 2d35 293a  w-5):y=(h-th-5):
-00030b30: 666f 6e74 7369 7a65 3d7b 666f 6e74 5f73  fontsize={font_s
-00030b40: 697a 657d 3a66 6f6e 7463 6f6c 6f72 3d7b  ize}:fontcolor={
-00030b50: 666f 6e74 5f63 6f6c 6f72 7d3a 626f 7264  font_color}:bord
-00030b60: 6572 773d 7b66 6f6e 745f 626f 7264 6572  erw={font_border
-00030b70: 5f77 6964 7468 7d3a 626f 7264 6572 636f  _width}:borderco
-00030b80: 6c6f 723d 7b66 6f6e 745f 626f 7264 6572  lor={font_border
-00030b90: 5f63 6f6c 6f72 7d5c 2220 2d63 3a61 2063  _color}\" -c:a c
-00030ba0: 6f70 7920 277b 7361 7665 5f70 6174 687d  opy '{save_path}
-00030bb0: 2720 2d6c 6f67 6c65 7665 6c20 6572 726f  ' -loglevel erro
-00030bc0: 7220 2d73 7461 7473 202d 6869 6465 5f62  r -stats -hide_b
-00030bd0: 616e 6e65 7220 2d79 220a 2020 2020 2020  anner -y".      
-00030be0: 2020 656c 6966 2070 6f73 6974 696f 6e20    elif position 
-00030bf0: 3d3d 2050 4f53 4954 494f 4e53 5b34 5d3a  == POSITIONS[4]:
-00030c00: 0a20 2020 2020 2020 2020 2020 2063 6d64  .            cmd
-00030c10: 203d 2066 2266 666d 7065 6720 2d69 2027   = f"ffmpeg -i '
-00030c20: 7b76 6964 656f 5f70 6174 687d 2720 2d76  {video_path}' -v
-00030c30: 6620 5c22 6472 6177 7465 7874 3d66 6f6e  f \"drawtext=fon
-00030c40: 7466 696c 653d 7b66 6f6e 745f 7061 7468  tfile={font_path
-00030c50: 7d3a 7465 7874 3d7b 7669 6465 6f5f 6e61  }:text={video_na
-00030c60: 6d65 7d3a 783d 2877 2d74 7729 2f32 3a79  me}:x=(w-tw)/2:y
-00030c70: 3d31 303a 666f 6e74 7369 7a65 3d7b 666f  =10:fontsize={fo
-00030c80: 6e74 5f73 697a 657d 3a66 6f6e 7463 6f6c  nt_size}:fontcol
-00030c90: 6f72 3d7b 666f 6e74 5f63 6f6c 6f72 7d3a  or={font_color}:
-00030ca0: 626f 7264 6572 773d 7b66 6f6e 745f 626f  borderw={font_bo
-00030cb0: 7264 6572 5f77 6964 7468 7d3a 626f 7264  rder_width}:bord
-00030cc0: 6572 636f 6c6f 723d 7b66 6f6e 745f 626f  ercolor={font_bo
-00030cd0: 7264 6572 5f63 6f6c 6f72 7d5c 2220 2d63  rder_color}\" -c
-00030ce0: 3a61 2063 6f70 7920 277b 7361 7665 5f70  :a copy '{save_p
-00030cf0: 6174 687d 2720 2d6c 6f67 6c65 7665 6c20  ath}' -loglevel 
-00030d00: 6572 726f 7220 2d73 7461 7473 202d 6869  error -stats -hi
-00030d10: 6465 5f62 616e 6e65 7220 2d79 220a 2020  de_banner -y".  
-00030d20: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00030d30: 2020 2020 2020 2020 636d 6420 3d20 6622          cmd = f"
-00030d40: 6666 6d70 6567 202d 6920 277b 7669 6465  ffmpeg -i '{vide
-00030d50: 6f5f 7061 7468 7d27 202d 7666 205c 2264  o_path}' -vf \"d
-00030d60: 7261 7774 6578 743d 666f 6e74 6669 6c65  rawtext=fontfile
-00030d70: 3d7b 666f 6e74 5f70 6174 687d 3a74 6578  ={font_path}:tex
-00030d80: 743d 7b76 6964 656f 5f6e 616d 657d 3a78  t={video_name}:x
-00030d90: 3d28 772d 7477 292f 323a 793d 2868 2d74  =(w-tw)/2:y=(h-t
-00030da0: 682d 3130 293a 666f 6e74 7369 7a65 3d7b  h-10):fontsize={
-00030db0: 666f 6e74 5f73 697a 657d 3a66 6f6e 7463  font_size}:fontc
-00030dc0: 6f6c 6f72 3d7b 666f 6e74 5f63 6f6c 6f72  olor={font_color
-00030dd0: 7d3a 626f 7264 6572 773d 7b66 6f6e 745f  }:borderw={font_
-00030de0: 626f 7264 6572 5f77 6964 7468 7d3a 626f  border_width}:bo
-00030df0: 7264 6572 636f 6c6f 723d 7b66 6f6e 745f  rdercolor={font_
-00030e00: 626f 7264 6572 5f63 6f6c 6f72 7d5c 2220  border_color}\" 
-00030e10: 2d63 3a61 2063 6f70 7920 277b 7361 7665  -c:a copy '{save
-00030e20: 5f70 6174 687d 2720 2d6c 6f67 6c65 7665  _path}' -logleve
-00030e30: 6c20 6572 726f 7220 2d73 7461 7473 202d  l error -stats -
-00030e40: 6869 6465 5f62 616e 6e65 7220 2d79 220a  hide_banner -y".
-00030e50: 2020 2020 2020 2020 7375 6270 726f 6365          subproce
-00030e60: 7373 2e63 616c 6c28 636d 642c 2073 6865  ss.call(cmd, she
-00030e70: 6c6c 3d54 7275 652c 2073 7464 6f75 743d  ll=True, stdout=
-00030e80: 7375 6270 726f 6365 7373 2e50 4950 4529  subprocess.PIPE)
-00030e90: 0a20 2020 2074 696d 6572 2e73 746f 705f  .    timer.stop_
-00030ea0: 7469 6d65 7228 290a 2020 2020 7374 646f  timer().    stdo
-00030eb0: 7574 5f73 7563 6365 7373 286d 7367 3d66  ut_success(msg=f
-00030ec0: 2753 7570 6572 2d69 6d70 6f73 6564 2076  'Super-imposed v
-00030ed0: 6964 656f 206e 616d 6520 6f6e 207b 6c65  ideo name on {le
-00030ee0: 6e28 7669 6465 6f5f 7061 7468 7329 7d20  n(video_paths)} 
-00030ef0: 7669 6465 6f28 7329 2c20 7361 7665 6420  video(s), saved 
-00030f00: 696e 207b 7361 7665 5f64 6972 7d27 2c20  in {save_dir}', 
-00030f10: 656c 6170 7365 645f 7469 6d65 3d74 696d  elapsed_time=tim
-00030f20: 6572 2e65 6c61 7073 6564 5f74 696d 655f  er.elapsed_time_
-00030f30: 7374 7229 0a0a 6465 6620 7375 7065 7269  str)..def superi
-00030f40: 6d70 6f73 655f 6672 6565 7465 7874 2876  mpose_freetext(v
-00030f50: 6964 656f 5f70 6174 683a 2055 6e69 6f6e  ideo_path: Union
-00030f60: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
-00030f70: 655d 2c0a 2020 2020 2020 2020 2020 2020  e],.            
-00030f80: 2020 2020 2020 2020 2020 2020 2074 6578               tex
-00030f90: 743a 2073 7472 2c0a 2020 2020 2020 2020  t: str,.        
-00030fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030fb0: 2066 6f6e 743a 204f 7074 696f 6e61 6c5b   font: Optional[
-00030fc0: 7374 725d 203d 2027 4172 6961 6c27 2c0a  str] = 'Arial',.
-00030fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030fe0: 2020 2020 2020 2020 2066 6f6e 745f 7369           font_si
-00030ff0: 7a65 3a20 4f70 7469 6f6e 616c 5b69 6e74  ze: Optional[int
-00031000: 5d20 3d20 3330 2c0a 2020 2020 2020 2020  ] = 30,.        
-00031010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031020: 2066 6f6e 745f 636f 6c6f 723a 204f 7074   font_color: Opt
-00031030: 696f 6e61 6c5b 7374 725d 203d 2027 7768  ional[str] = 'wh
-00031040: 6974 6527 2c0a 2020 2020 2020 2020 2020  ite',.          
-00031050: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-00031060: 6f6e 745f 626f 7264 6572 5f63 6f6c 6f72  ont_border_color
-00031070: 3a20 4f70 7469 6f6e 616c 5b73 7472 5d20  : Optional[str] 
-00031080: 3d20 2762 6c61 636b 272c 0a20 2020 2020  = 'black',.     
-00031090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000310a0: 2020 2020 666f 6e74 5f62 6f72 6465 725f      font_border_
-000310b0: 7769 6474 683a 204f 7074 696f 6e61 6c5b  width: Optional[
-000310c0: 696e 745d 203d 2032 2c0a 2020 2020 2020  int] = 2,.      
-000310d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000310e0: 2020 2070 6f73 6974 696f 6e3a 204f 7074     position: Opt
-000310f0: 696f 6e61 6c5b 4c69 7465 7261 6c5b 2774  ional[Literal['t
-00031100: 6f70 5f6c 6566 7427 2c20 2774 6f70 5f72  op_left', 'top_r
-00031110: 6967 6874 272c 2027 626f 7474 6f6d 5f6c  ight', 'bottom_l
-00031120: 6566 7427 2c20 2762 6f74 746f 6d5f 7269  eft', 'bottom_ri
-00031130: 6768 7427 2c20 276d 6964 646c 655f 746f  ght', 'middle_to
-00031140: 7027 2c20 276d 6964 646c 655f 626f 7474  p', 'middle_bott
-00031150: 6f6d 275d 5d20 3d20 2774 6f70 5f6c 6566  om']] = 'top_lef
-00031160: 7427 2c0a 2020 2020 2020 2020 2020 2020  t',.            
-00031170: 2020 2020 2020 2020 2020 2020 2073 6176               sav
-00031180: 655f 6469 723a 204f 7074 696f 6e61 6c5b  e_dir: Optional[
-00031190: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
-000311a0: 7468 4c69 6b65 5d5d 203d 204e 6f6e 6529  thLike]] = None)
-000311b0: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2222   -> None:.    ""
-000311c0: 220a 2020 2020 5375 7065 7269 6d70 6f73  ".    Superimpos
-000311d0: 6573 2070 6173 7365 6420 7465 7874 206f  es passed text o
-000311e0: 6e20 7468 6520 6769 7665 6e20 7669 6465  n the given vide
-000311f0: 6f20 6669 6c65 2873 2920 616e 6420 7361  o file(s) and sa
-00031200: 7665 7320 7468 6520 6d6f 6469 6669 6564  ves the modified
-00031210: 2076 6964 656f 2873 292e 0a0a 2020 2020   video(s)...    
-00031220: 2e2e 2076 6964 656f 3a3a 205f 7374 6174  .. video:: _stat
-00031230: 6963 2f69 6d67 2f73 7570 6572 696d 706f  ic/img/superimpo
-00031240: 7365 5f66 7265 6574 6578 742e 7765 626d  se_freetext.webm
-00031250: 0a20 2020 2020 2020 3a77 6964 7468 3a20  .       :width: 
-00031260: 3930 300a 2020 2020 2020 203a 6c6f 6f70  900.       :loop
-00031270: 3a0a 0a20 2020 203a 7061 7261 6d20 556e  :..    :param Un
-00031280: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
-00031290: 4c69 6b65 5d20 7669 6465 6f5f 7061 7468  Like] video_path
-000312a0: 3a20 5061 7468 2074 6f20 7468 6520 696e  : Path to the in
-000312b0: 7075 7420 7669 6465 6f20 6669 6c65 206f  put video file o
-000312c0: 7220 6469 7265 6374 6f72 7920 636f 6e74  r directory cont
-000312d0: 6169 6e69 6e67 2076 6964 656f 2066 696c  aining video fil
-000312e0: 6573 2e0a 2020 2020 3a70 6172 616d 2073  es..    :param s
-000312f0: 7472 2074 6578 743a 2054 6865 2074 6578  tr text: The tex
-00031300: 7420 746f 206f 7665 726c 6179 206f 6e20  t to overlay on 
-00031310: 7468 6520 7669 6465 6f0a 2020 2020 3a70  the video.    :p
-00031320: 6172 616d 204f 7074 696f 6e61 6c5b 696e  aram Optional[in
-00031330: 745d 2066 6f6e 745f 7369 7a65 3a20 466f  t] font_size: Fo
-00031340: 6e74 2073 697a 6520 666f 7220 7468 6520  nt size for the 
-00031350: 7465 7874 2e20 4465 6661 756c 7420 3330  text. Default 30
-00031360: 2e0a 2020 2020 3a70 6172 616d 204f 7074  ..    :param Opt
-00031370: 696f 6e61 6c5b 7374 725d 2066 6f6e 745f  ional[str] font_
-00031380: 636f 6c6f 723a 2020 466f 6e74 2063 6f6c  color:  Font col
-00031390: 6f72 2066 6f72 2074 6578 742e 2044 6566  or for text. Def
-000313a0: 6175 6c74 2077 6869 7465 0a20 2020 203a  ault white.    :
-000313b0: 7061 7261 6d20 4f70 7469 6f6e 616c 5b73  param Optional[s
-000313c0: 7472 5d20 666f 6e74 5f62 6f72 6465 725f  tr] font_border_
-000313d0: 636f 6c6f 723a 2046 6f6e 7420 626f 7264  color: Font bord
-000313e0: 6572 2063 6f6c 6f72 2066 6f72 2074 6865  er color for the
-000313f0: 2074 6578 742e 2044 6566 6175 6c74 2062   text. Default b
-00031400: 6c61 636b 2e0a 2020 2020 3a70 6172 616d  lack..    :param
-00031410: 204f 7074 696f 6e61 6c5b 696e 745d 2066   Optional[int] f
-00031420: 6f6e 745f 626f 7264 6572 5f77 6964 7468  ont_border_width
-00031430: 3a20 466f 6e74 2062 6f72 6465 7220 7769  : Font border wi
-00031440: 6474 6820 666f 7220 7468 6520 7465 7874  dth for the text
-00031450: 2069 6e20 7069 7865 6c73 2e20 4465 6661   in pixels. Defa
-00031460: 756c 7420 322e 0a20 2020 203a 7061 7261  ult 2..    :para
-00031470: 6d20 4f70 7469 6f6e 616c 5b4c 6974 6572  m Optional[Liter
-00031480: 616c 5b27 746f 705f 6c65 6674 272c 2027  al['top_left', '
-00031490: 746f 705f 7269 6768 7427 2c20 2762 6f74  top_right', 'bot
-000314a0: 746f 6d5f 6c65 6674 272c 2027 626f 7474  tom_left', 'bott
-000314b0: 6f6d 5f72 6967 6874 272c 2027 746f 705f  om_right', 'top_
-000314c0: 6d69 6464 6c65 272c 2027 626f 7474 6f6d  middle', 'bottom
-000314d0: 5f6d 6964 646c 6527 5d5d 2070 6f73 6974  _middle']] posit
-000314e0: 696f 6e3a 2050 6f73 6974 696f 6e20 7768  ion: Position wh
-000314f0: 6572 6520 7468 6520 7465 7874 2077 696c  ere the text wil
-00031500: 6c20 6265 2073 7570 6572 696d 706f 7365  l be superimpose
-00031510: 642e 2044 6566 6175 6c74 2060 6074 6f70  d. Default ``top
-00031520: 5f6c 6566 7460 602e 0a20 2020 203a 7061  _left``..    :pa
-00031530: 7261 6d20 4f70 7469 6f6e 616c 5b55 6e69  ram Optional[Uni
-00031540: 6f6e 5b73 7472 2c20 6f73 2e50 6174 684c  on[str, os.PathL
-00031550: 696b 655d 5d20 7361 7665 5f64 6972 3a20  ike]] save_dir: 
-00031560: 4469 7265 6374 6f72 7920 7768 6572 6520  Directory where 
-00031570: 7468 6520 6d6f 6469 6669 6564 2076 6964  the modified vid
-00031580: 656f 2873 2920 7769 6c6c 2062 6520 7361  eo(s) will be sa
-00031590: 7665 642e 2049 6620 6e6f 7420 7072 6f76  ved. If not prov
-000315a0: 6964 6564 2c20 7468 6520 6469 7265 6374  ided, the direct
-000315b0: 6f72 7920 6f66 2074 6865 2069 6e70 7574  ory of the input
-000315c0: 2076 6964 656f 2873 2920 7769 6c6c 2062   video(s) will b
-000315d0: 6520 7573 6564 2e0a 2020 2020 3a72 6574  e used..    :ret
-000315e0: 7572 6e3a 204e 6f6e 650a 2020 2020 2222  urn: None.    ""
-000315f0: 220a 0a20 2020 2063 6865 636b 5f66 666d  "..    check_ffm
-00031600: 7065 675f 6176 6169 6c61 626c 6528 7261  peg_available(ra
-00031610: 6973 655f 6572 726f 723d 5472 7565 290a  ise_error=True).
-00031620: 2020 2020 7469 6d65 7220 3d20 5369 6d62      timer = Simb
-00031630: 6154 696d 6572 2873 7461 7274 3d54 7275  aTimer(start=Tru
-00031640: 6529 0a20 2020 2050 4f53 4954 494f 4e53  e).    POSITIONS
-00031650: 203d 205b 2774 6f70 5f6c 6566 7427 2c20   = ['top_left', 
-00031660: 2774 6f70 5f72 6967 6874 272c 2027 626f  'top_right', 'bo
-00031670: 7474 6f6d 5f6c 6566 7427 2c20 2762 6f74  ttom_left', 'bot
-00031680: 746f 6d5f 7269 6768 7427 2c20 2774 6f70  tom_right', 'top
-00031690: 5f6d 6964 646c 6527 2c20 2762 6f74 746f  _middle', 'botto
-000316a0: 6d5f 6d69 6464 6c65 275d 0a20 2020 2063  m_middle'].    c
-000316b0: 6865 636b 5f73 7472 286e 616d 653d 6627  heck_str(name=f'
-000316c0: 7b73 7570 6572 696d 706f 7365 5f66 7265  {superimpose_fre
-000316d0: 6574 6578 742e 5f5f 6e61 6d65 5f5f 7d20  etext.__name__} 
-000316e0: 706f 7369 7469 6f6e 272c 2076 616c 7565  position', value
-000316f0: 3d70 6f73 6974 696f 6e2c 206f 7074 696f  =position, optio
-00031700: 6e73 3d50 4f53 4954 494f 4e53 290a 2020  ns=POSITIONS).  
-00031710: 2020 6368 6563 6b5f 696e 7428 6e61 6d65    check_int(name
-00031720: 3d66 277b 7375 7065 7269 6d70 6f73 655f  =f'{superimpose_
-00031730: 6672 6565 7465 7874 2e5f 5f6e 616d 655f  freetext.__name_
-00031740: 5f7d 2066 6f6e 745f 7369 7a65 272c 2076  _} font_size', v
-00031750: 616c 7565 3d66 6f6e 745f 7369 7a65 2c20  alue=font_size, 
-00031760: 6d69 6e5f 7661 6c75 653d 3129 0a20 2020  min_value=1).   
-00031770: 2063 6865 636b 5f69 6e74 286e 616d 653d   check_int(name=
-00031780: 6627 7b73 7570 6572 696d 706f 7365 5f66  f'{superimpose_f
-00031790: 7265 6574 6578 742e 5f5f 6e61 6d65 5f5f  reetext.__name__
-000317a0: 7d20 666f 6e74 5f62 6f72 6465 725f 7769  } font_border_wi
-000317b0: 6474 6827 2c20 7661 6c75 653d 666f 6e74  dth', value=font
-000317c0: 5f62 6f72 6465 725f 7769 6474 682c 206d  _border_width, m
-000317d0: 696e 5f76 616c 7565 3d31 290a 2020 2020  in_value=1).    
-000317e0: 6368 6563 6b5f 7374 7228 6e61 6d65 3d66  check_str(name=f
-000317f0: 277b 7375 7065 7269 6d70 6f73 655f 6672  '{superimpose_fr
-00031800: 6565 7465 7874 2e5f 5f6e 616d 655f 5f7d  eetext.__name__}
-00031810: 2074 6578 7427 2c20 7661 6c75 653d 7465   text', value=te
-00031820: 7874 290a 2020 2020 666f 6e74 5f64 6963  xt).    font_dic
-00031830: 7420 3d20 6765 745f 666f 6e74 7328 290a  t = get_fonts().
-00031840: 2020 2020 6368 6563 6b5f 7374 7228 6e61      check_str(na
-00031850: 6d65 3d27 666f 6e74 272c 2076 616c 7565  me='font', value
-00031860: 3d66 6f6e 742c 206f 7074 696f 6e73 3d74  =font, options=t
-00031870: 7570 6c65 2866 6f6e 745f 6469 6374 2e6b  uple(font_dict.k
-00031880: 6579 7328 2929 290a 2020 2020 666f 6e74  eys())).    font
-00031890: 5f70 6174 6820 3d20 666f 6e74 5f64 6963  _path = font_dic
-000318a0: 745b 666f 6e74 5d0a 2020 2020 666f 6e74  t[font].    font
-000318b0: 5f63 6f6c 6f72 203d 2027 272e 6a6f 696e  _color = ''.join
-000318c0: 2866 696c 7465 7228 7374 722e 6973 616c  (filter(str.isal
-000318d0: 6e75 6d2c 2066 6f6e 745f 636f 6c6f 7229  num, font_color)
-000318e0: 292e 6c6f 7765 7228 290a 2020 2020 666f  ).lower().    fo
-000318f0: 6e74 5f62 6f72 6465 725f 636f 6c6f 7220  nt_border_color 
-00031900: 3d20 2727 2e6a 6f69 6e28 6669 6c74 6572  = ''.join(filter
-00031910: 2873 7472 2e69 7361 6c6e 756d 2c20 666f  (str.isalnum, fo
-00031920: 6e74 5f62 6f72 6465 725f 636f 6c6f 7229  nt_border_color)
-00031930: 292e 6c6f 7765 7228 290a 2020 2020 6966  ).lower().    if
-00031940: 206f 732e 7061 7468 2e69 7366 696c 6528   os.path.isfile(
-00031950: 7669 6465 6f5f 7061 7468 293a 0a20 2020  video_path):.   
-00031960: 2020 2020 2076 6964 656f 5f70 6174 6873       video_paths
-00031970: 203d 205b 7669 6465 6f5f 7061 7468 5d0a   = [video_path].
-00031980: 2020 2020 656c 6966 206f 732e 7061 7468      elif os.path
-00031990: 2e69 7364 6972 2876 6964 656f 5f70 6174  .isdir(video_pat
-000319a0: 6829 3a0a 2020 2020 2020 2020 7669 6465  h):.        vide
-000319b0: 6f5f 7061 7468 7320 3d20 6c69 7374 2866  o_paths = list(f
-000319c0: 696e 645f 616c 6c5f 7669 6465 6f73 5f69  ind_all_videos_i
-000319d0: 6e5f 6469 7265 6374 6f72 7928 6469 7265  n_directory(dire
-000319e0: 6374 6f72 793d 7669 6465 6f5f 7061 7468  ctory=video_path
-000319f0: 2c20 6173 5f64 6963 743d 5472 7565 2c20  , as_dict=True, 
-00031a00: 7261 6973 655f 6572 726f 723d 5472 7565  raise_error=True
-00031a10: 292e 7661 6c75 6573 2829 290a 2020 2020  ).values()).    
-00031a20: 656c 7365 3a0a 2020 2020 2020 2020 7261  else:.        ra
-00031a30: 6973 6520 496e 7661 6c69 6449 6e70 7574  ise InvalidInput
-00031a40: 4572 726f 7228 6d73 673d 6627 7b76 6964  Error(msg=f'{vid
-00031a50: 656f 5f70 6174 687d 2069 7320 6e6f 7420  eo_path} is not 
-00031a60: 6120 7661 6c69 6420 6669 6c65 2070 6174  a valid file pat
-00031a70: 6820 6f72 2061 2076 616c 6964 2064 6972  h or a valid dir
-00031a80: 6563 746f 7279 2070 6174 6827 2c20 736f  ectory path', so
-00031a90: 7572 6365 3d73 7570 6572 696d 706f 7365  urce=superimpose
-00031aa0: 5f76 6964 656f 5f6e 616d 6573 2e5f 5f6e  _video_names.__n
-00031ab0: 616d 655f 5f29 0a20 2020 2069 6620 7361  ame__).    if sa
-00031ac0: 7665 5f64 6972 2069 7320 6e6f 7420 4e6f  ve_dir is not No
-00031ad0: 6e65 3a0a 2020 2020 2020 2020 6368 6563  ne:.        chec
-00031ae0: 6b5f 6966 5f64 6972 5f65 7869 7374 7328  k_if_dir_exists(
-00031af0: 696e 5f64 6972 3d73 6176 655f 6469 7229  in_dir=save_dir)
-00031b00: 0a20 2020 2065 6c73 653a 0a20 2020 2020  .    else:.     
-00031b10: 2020 2073 6176 655f 6469 7220 3d20 6f73     save_dir = os
-00031b20: 2e70 6174 682e 6469 726e 616d 6528 7669  .path.dirname(vi
-00031b30: 6465 6f5f 7061 7468 735b 305d 290a 2020  deo_paths[0]).  
-00031b40: 2020 666f 7220 6669 6c65 5f63 6e74 2c20    for file_cnt, 
-00031b50: 7669 6465 6f5f 7061 7468 2069 6e20 656e  video_path in en
-00031b60: 756d 6572 6174 6528 7669 6465 6f5f 7061  umerate(video_pa
-00031b70: 7468 7329 3a0a 2020 2020 2020 2020 5f2c  ths):.        _,
-00031b80: 2076 6964 656f 5f6e 616d 652c 2065 7874   video_name, ext
-00031b90: 203d 2067 6574 5f66 6e5f 6578 7428 7669   = get_fn_ext(vi
-00031ba0: 6465 6f5f 7061 7468 290a 2020 2020 2020  deo_path).      
-00031bb0: 2020 7072 696e 7428 6627 5375 7065 7269    print(f'Superi
-00031bc0: 6d70 6f73 696e 6720 7669 6465 6f20 6e61  mposing video na
-00031bd0: 6d65 206f 6e20 7b76 6964 656f 5f6e 616d  me on {video_nam
-00031be0: 657d 2028 5669 6465 6f20 7b66 696c 655f  e} (Video {file_
-00031bf0: 636e 7420 2b20 317d 2f7b 6c65 6e28 7669  cnt + 1}/{len(vi
-00031c00: 6465 6f5f 7061 7468 7329 7d29 2e2e 2e27  deo_paths)})...'
-00031c10: 290a 2020 2020 2020 2020 7361 7665 5f70  ).        save_p
-00031c20: 6174 6820 3d20 6f73 2e70 6174 682e 6a6f  ath = os.path.jo
-00031c30: 696e 2873 6176 655f 6469 722c 2066 277b  in(save_dir, f'{
-00031c40: 7669 6465 6f5f 6e61 6d65 7d5f 7465 7874  video_name}_text
-00031c50: 5f73 7570 6572 696d 706f 7365 647b 6578  _superimposed{ex
-00031c60: 747d 2729 0a20 2020 2020 2020 2069 6620  t}').        if 
-00031c70: 706f 7369 7469 6f6e 203d 3d20 504f 5349  position == POSI
-00031c80: 5449 4f4e 535b 305d 3a0a 2020 2020 2020  TIONS[0]:.      
-00031c90: 2020 2020 2020 636d 6420 3d20 6622 6666        cmd = f"ff
-00031ca0: 6d70 6567 202d 6920 277b 7669 6465 6f5f  mpeg -i '{video_
-00031cb0: 7061 7468 7d27 202d 7666 205c 2264 7261  path}' -vf \"dra
-00031cc0: 7774 6578 743d 666f 6e74 6669 6c65 3d7b  wtext=fontfile={
-00031cd0: 666f 6e74 5f70 6174 687d 3a74 6578 743d  font_path}:text=
-00031ce0: 7b74 6578 747d 3a78 3d35 3a79 3d35 3a66  {text}:x=5:y=5:f
-00031cf0: 6f6e 7473 697a 653d 7b66 6f6e 745f 7369  ontsize={font_si
-00031d00: 7a65 7d3a 666f 6e74 636f 6c6f 723d 7b66  ze}:fontcolor={f
-00031d10: 6f6e 745f 636f 6c6f 727d 3a62 6f72 6465  ont_color}:borde
-00031d20: 7277 3d7b 666f 6e74 5f62 6f72 6465 725f  rw={font_border_
-00031d30: 7769 6474 687d 3a62 6f72 6465 7263 6f6c  width}:bordercol
-00031d40: 6f72 3d7b 666f 6e74 5f62 6f72 6465 725f  or={font_border_
-00031d50: 636f 6c6f 727d 5c22 202d 633a 6120 636f  color}\" -c:a co
-00031d60: 7079 2027 7b73 6176 655f 7061 7468 7d27  py '{save_path}'
-00031d70: 202d 6c6f 676c 6576 656c 2065 7272 6f72   -loglevel error
-00031d80: 202d 7374 6174 7320 2d68 6964 655f 6261   -stats -hide_ba
-00031d90: 6e6e 6572 202d 7922 0a20 2020 2020 2020  nner -y".       
-00031da0: 2065 6c69 6620 706f 7369 7469 6f6e 203d   elif position =
-00031db0: 3d20 504f 5349 5449 4f4e 535b 315d 3a0a  = POSITIONS[1]:.
-00031dc0: 2020 2020 2020 2020 2020 2020 636d 6420              cmd 
-00031dd0: 3d20 6622 6666 6d70 6567 202d 6920 277b  = f"ffmpeg -i '{
-00031de0: 7669 6465 6f5f 7061 7468 7d27 202d 7666  video_path}' -vf
-00031df0: 205c 2264 7261 7774 6578 743d 666f 6e74   \"drawtext=font
-00031e00: 6669 6c65 3d7b 666f 6e74 5f70 6174 687d  file={font_path}
-00031e10: 3a74 6578 743d 7b74 6578 747d 3a78 3d28  :text={text}:x=(
-00031e20: 772d 7477 2d35 293a 793d 353a 666f 6e74  w-tw-5):y=5:font
-00031e30: 7369 7a65 3d7b 666f 6e74 5f73 697a 657d  size={font_size}
-00031e40: 3a66 6f6e 7463 6f6c 6f72 3d7b 666f 6e74  :fontcolor={font
-00031e50: 5f63 6f6c 6f72 7d3a 626f 7264 6572 773d  _color}:borderw=
-00031e60: 7b66 6f6e 745f 626f 7264 6572 5f77 6964  {font_border_wid
-00031e70: 7468 7d3a 626f 7264 6572 636f 6c6f 723d  th}:bordercolor=
-00031e80: 7b66 6f6e 745f 626f 7264 6572 5f63 6f6c  {font_border_col
-00031e90: 6f72 7d5c 2220 2d63 3a61 2063 6f70 7920  or}\" -c:a copy 
-00031ea0: 277b 7361 7665 5f70 6174 687d 2720 2d6c  '{save_path}' -l
-00031eb0: 6f67 6c65 7665 6c20 6572 726f 7220 2d73  oglevel error -s
-00031ec0: 7461 7473 202d 6869 6465 5f62 616e 6e65  tats -hide_banne
-00031ed0: 7220 2d79 220a 2020 2020 2020 2020 656c  r -y".        el
-00031ee0: 6966 2070 6f73 6974 696f 6e20 3d3d 2050  if position == P
-00031ef0: 4f53 4954 494f 4e53 5b32 5d3a 0a20 2020  OSITIONS[2]:.   
-00031f00: 2020 2020 2020 2020 2063 6d64 203d 2066           cmd = f
-00031f10: 2266 666d 7065 6720 2d69 2027 7b76 6964  "ffmpeg -i '{vid
-00031f20: 656f 5f70 6174 687d 2720 2d76 6620 5c22  eo_path}' -vf \"
-00031f30: 6472 6177 7465 7874 3d66 6f6e 7466 696c  drawtext=fontfil
-00031f40: 653d 7b66 6f6e 745f 7061 7468 7d3a 7465  e={font_path}:te
-00031f50: 7874 3d7b 7465 7874 7d3a 783d 353a 793d  xt={text}:x=5:y=
-00031f60: 2868 2d74 682d 3529 3a66 6f6e 7473 697a  (h-th-5):fontsiz
-00031f70: 653d 7b66 6f6e 745f 7369 7a65 7d3a 666f  e={font_size}:fo
-00031f80: 6e74 636f 6c6f 723d 7b66 6f6e 745f 636f  ntcolor={font_co
-00031f90: 6c6f 727d 3a62 6f72 6465 7277 3d7b 666f  lor}:borderw={fo
-00031fa0: 6e74 5f62 6f72 6465 725f 7769 6474 687d  nt_border_width}
-00031fb0: 3a62 6f72 6465 7263 6f6c 6f72 3d7b 666f  :bordercolor={fo
-00031fc0: 6e74 5f62 6f72 6465 725f 636f 6c6f 727d  nt_border_color}
-00031fd0: 5c22 202d 633a 6120 636f 7079 2027 7b73  \" -c:a copy '{s
-00031fe0: 6176 655f 7061 7468 7d27 202d 6c6f 676c  ave_path}' -logl
-00031ff0: 6576 656c 2065 7272 6f72 202d 7374 6174  evel error -stat
-00032000: 7320 2d68 6964 655f 6261 6e6e 6572 202d  s -hide_banner -
-00032010: 7922 0a20 2020 2020 2020 2065 6c69 6620  y".        elif 
-00032020: 706f 7369 7469 6f6e 203d 3d20 504f 5349  position == POSI
-00032030: 5449 4f4e 535b 335d 3a0a 2020 2020 2020  TIONS[3]:.      
-00032040: 2020 2020 2020 636d 6420 3d20 6622 6666        cmd = f"ff
-00032050: 6d70 6567 202d 6920 277b 7669 6465 6f5f  mpeg -i '{video_
-00032060: 7061 7468 7d27 202d 7666 205c 2264 7261  path}' -vf \"dra
-00032070: 7774 6578 743d 666f 6e74 6669 6c65 3d7b  wtext=fontfile={
-00032080: 666f 6e74 5f70 6174 687d 3a74 6578 743d  font_path}:text=
-00032090: 7b74 6578 747d 3a78 3d28 772d 7477 2d35  {text}:x=(w-tw-5
-000320a0: 293a 793d 2868 2d74 682d 3529 3a66 6f6e  ):y=(h-th-5):fon
-000320b0: 7473 697a 653d 7b66 6f6e 745f 7369 7a65  tsize={font_size
-000320c0: 7d3a 666f 6e74 636f 6c6f 723d 7b66 6f6e  }:fontcolor={fon
-000320d0: 745f 636f 6c6f 727d 3a62 6f72 6465 7277  t_color}:borderw
-000320e0: 3d7b 666f 6e74 5f62 6f72 6465 725f 7769  ={font_border_wi
-000320f0: 6474 687d 3a62 6f72 6465 7263 6f6c 6f72  dth}:bordercolor
-00032100: 3d7b 666f 6e74 5f62 6f72 6465 725f 636f  ={font_border_co
-00032110: 6c6f 727d 5c22 202d 633a 6120 636f 7079  lor}\" -c:a copy
-00032120: 2027 7b73 6176 655f 7061 7468 7d27 202d   '{save_path}' -
-00032130: 6c6f 676c 6576 656c 2065 7272 6f72 202d  loglevel error -
-00032140: 7374 6174 7320 2d68 6964 655f 6261 6e6e  stats -hide_bann
-00032150: 6572 202d 7922 0a20 2020 2020 2020 2065  er -y".        e
-00032160: 6c69 6620 706f 7369 7469 6f6e 203d 3d20  lif position == 
-00032170: 504f 5349 5449 4f4e 535b 345d 3a0a 2020  POSITIONS[4]:.  
-00032180: 2020 2020 2020 2020 2020 636d 6420 3d20            cmd = 
-00032190: 6622 6666 6d70 6567 202d 6920 277b 7669  f"ffmpeg -i '{vi
-000321a0: 6465 6f5f 7061 7468 7d27 202d 7666 205c  deo_path}' -vf \
-000321b0: 2264 7261 7774 6578 743d 666f 6e74 6669  "drawtext=fontfi
-000321c0: 6c65 3d7b 666f 6e74 5f70 6174 687d 3a74  le={font_path}:t
-000321d0: 6578 743d 7b74 6578 747d 3a78 3d28 772d  ext={text}:x=(w-
-000321e0: 7477 292f 323a 793d 3130 3a66 6f6e 7473  tw)/2:y=10:fonts
-000321f0: 697a 653d 7b66 6f6e 745f 7369 7a65 7d3a  ize={font_size}:
-00032200: 666f 6e74 636f 6c6f 723d 7b66 6f6e 745f  fontcolor={font_
-00032210: 636f 6c6f 727d 3a62 6f72 6465 7277 3d7b  color}:borderw={
-00032220: 666f 6e74 5f62 6f72 6465 725f 7769 6474  font_border_widt
-00032230: 687d 3a62 6f72 6465 7263 6f6c 6f72 3d7b  h}:bordercolor={
-00032240: 666f 6e74 5f62 6f72 6465 725f 636f 6c6f  font_border_colo
-00032250: 727d 5c22 202d 633a 6120 636f 7079 2027  r}\" -c:a copy '
-00032260: 7b73 6176 655f 7061 7468 7d27 202d 6c6f  {save_path}' -lo
-00032270: 676c 6576 656c 2065 7272 6f72 202d 7374  glevel error -st
-00032280: 6174 7320 2d68 6964 655f 6261 6e6e 6572  ats -hide_banner
-00032290: 202d 7922 0a20 2020 2020 2020 2065 6c73   -y".        els
-000322a0: 653a 0a20 2020 2020 2020 2020 2020 2063  e:.            c
-000322b0: 6d64 203d 2066 2266 666d 7065 6720 2d69  md = f"ffmpeg -i
-000322c0: 2027 7b76 6964 656f 5f70 6174 687d 2720   '{video_path}' 
-000322d0: 2d76 6620 5c22 6472 6177 7465 7874 3d66  -vf \"drawtext=f
-000322e0: 6f6e 7466 696c 653d 7b66 6f6e 745f 7061  ontfile={font_pa
-000322f0: 7468 7d3a 7465 7874 3d7b 7465 7874 7d3a  th}:text={text}:
-00032300: 783d 2877 2d74 7729 2f32 3a79 3d28 682d  x=(w-tw)/2:y=(h-
-00032310: 7468 2d31 3029 3a66 6f6e 7473 697a 653d  th-10):fontsize=
-00032320: 7b66 6f6e 745f 7369 7a65 7d3a 666f 6e74  {font_size}:font
-00032330: 636f 6c6f 723d 7b66 6f6e 745f 636f 6c6f  color={font_colo
-00032340: 727d 3a62 6f72 6465 7277 3d7b 666f 6e74  r}:borderw={font
-00032350: 5f62 6f72 6465 725f 7769 6474 687d 3a62  _border_width}:b
-00032360: 6f72 6465 7263 6f6c 6f72 3d7b 666f 6e74  ordercolor={font
-00032370: 5f62 6f72 6465 725f 636f 6c6f 727d 5c22  _border_color}\"
-00032380: 202d 633a 6120 636f 7079 2027 7b73 6176   -c:a copy '{sav
-00032390: 655f 7061 7468 7d27 202d 6c6f 676c 6576  e_path}' -loglev
-000323a0: 656c 2065 7272 6f72 202d 7374 6174 7320  el error -stats 
-000323b0: 2d68 6964 655f 6261 6e6e 6572 202d 7922  -hide_banner -y"
-000323c0: 0a20 2020 2020 2020 2073 7562 7072 6f63  .        subproc
-000323d0: 6573 732e 6361 6c6c 2863 6d64 2c20 7368  ess.call(cmd, sh
-000323e0: 656c 6c3d 5472 7565 2c20 7374 646f 7574  ell=True, stdout
-000323f0: 3d73 7562 7072 6f63 6573 732e 5049 5045  =subprocess.PIPE
-00032400: 290a 2020 2020 7469 6d65 722e 7374 6f70  ).    timer.stop
-00032410: 5f74 696d 6572 2829 0a20 2020 2073 7464  _timer().    std
-00032420: 6f75 745f 7375 6363 6573 7328 6d73 673d  out_success(msg=
-00032430: 6627 5375 7065 722d 696d 706f 7365 6420  f'Super-imposed 
-00032440: 6672 6565 2d74 6578 7420 6f6e 207b 6c65  free-text on {le
-00032450: 6e28 7669 6465 6f5f 7061 7468 7329 7d20  n(video_paths)} 
-00032460: 7669 6465 6f28 7329 2c20 7361 7665 6420  video(s), saved 
-00032470: 696e 207b 7361 7665 5f64 6972 7d27 2c20  in {save_dir}', 
-00032480: 656c 6170 7365 645f 7469 6d65 3d74 696d  elapsed_time=tim
-00032490: 6572 2e65 6c61 7073 6564 5f74 696d 655f  er.elapsed_time_
-000324a0: 7374 7229 0a0a 0a64 6566 2072 6f74 6174  str)...def rotat
-000324b0: 655f 7669 6465 6f28 7669 6465 6f5f 7061  e_video(video_pa
-000324c0: 7468 3a20 556e 696f 6e5b 7374 722c 206f  th: Union[str, o
-000324d0: 732e 5061 7468 4c69 6b65 5d2c 0a20 2020  s.PathLike],.   
-000324e0: 2020 2020 2020 2020 2020 2020 2020 6465                de
-000324f0: 6772 6565 733a 2069 6e74 2c0a 2020 2020  grees: int,.    
-00032500: 2020 2020 2020 2020 2020 2020 2067 7075               gpu
-00032510: 3a20 4f70 7469 6f6e 616c 5b62 6f6f 6c5d  : Optional[bool]
-00032520: 203d 2046 616c 7365 2c0a 2020 2020 2020   = False,.      
-00032530: 2020 2020 2020 2020 2020 2071 7561 6c69             quali
-00032540: 7479 3a20 4f70 7469 6f6e 616c 5b69 6e74  ty: Optional[int
-00032550: 5d20 3d20 3630 2c0a 2020 2020 2020 2020  ] = 60,.        
-00032560: 2020 2020 2020 2020 2073 6176 655f 6469           save_di
-00032570: 723a 204f 7074 696f 6e61 6c5b 556e 696f  r: Optional[Unio
-00032580: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
-00032590: 6b65 5d5d 203d 204e 6f6e 6529 3a0a 0a20  ke]] = None):.. 
-000325a0: 2020 2022 2222 0a20 2020 2052 6f74 6174     """.    Rotat
-000325b0: 6520 6120 7669 6465 6f20 6f72 2061 2064  e a video or a d
-000325c0: 6972 6563 746f 7279 206f 6620 7669 6465  irectory of vide
-000325d0: 6f73 2062 7920 6120 7370 6563 6966 6965  os by a specifie
-000325e0: 6420 6e75 6d62 6572 206f 6620 6465 6772  d number of degr
-000325f0: 6565 732e 0a0a 2020 2020 3a70 6172 616d  ees...    :param
-00032600: 2055 6e69 6f6e 5b73 7472 2c20 6f73 2e50   Union[str, os.P
-00032610: 6174 684c 696b 655d 2076 6964 656f 5f70  athLike] video_p
-00032620: 6174 683a 2050 6174 6820 746f 2074 6865  ath: Path to the
-00032630: 2069 6e70 7574 2076 6964 656f 2066 696c   input video fil
-00032640: 6520 6f72 2064 6972 6563 746f 7279 2063  e or directory c
-00032650: 6f6e 7461 696e 696e 6720 7669 6465 6f20  ontaining video 
-00032660: 6669 6c65 732e 0a20 2020 203a 7061 7261  files..    :para
-00032670: 6d20 696e 7420 6465 6772 6565 733a 204e  m int degrees: N
-00032680: 756d 6265 7220 6f66 2064 6567 7265 6573  umber of degrees
-00032690: 2028 6265 7477 6565 6e20 3120 616e 6420   (between 1 and 
-000326a0: 3335 392c 2069 6e63 6c75 7369 7665 2920  359, inclusive) 
-000326b0: 746f 2072 6f74 6174 6520 7468 6520 7669  to rotate the vi
-000326c0: 6465 6f20 636c 6f63 6b77 6973 652e 0a20  deo clockwise.. 
-000326d0: 2020 203a 7061 7261 6d20 4f70 7469 6f6e     :param Option
-000326e0: 616c 5b62 6f6f 6c5d 2067 7075 3a20 4966  al[bool] gpu: If
-000326f0: 2054 7275 652c 2061 7474 656d 7074 2074   True, attempt t
-00032700: 6f20 7573 6520 4750 5520 6163 6365 6c65  o use GPU accele
-00032710: 7261 7469 6f6e 2066 6f72 2072 6f74 6174  ration for rotat
-00032720: 696f 6e20 2864 6566 6175 6c74 2069 7320  ion (default is 
-00032730: 4661 6c73 6529 2e0a 2020 2020 3a70 6172  False)..    :par
-00032740: 616d 204f 7074 696f 6e61 6c5b 696e 745d  am Optional[int]
-00032750: 2071 7561 6c69 7479 3a20 5175 616c 6974   quality: Qualit
-00032760: 7920 6f66 2074 6865 206f 7574 7075 7420  y of the output 
-00032770: 7669 6465 6f2c 2061 6e20 696e 7465 6765  video, an intege
-00032780: 7220 6265 7477 6565 6e20 3120 616e 6420  r between 1 and 
-00032790: 3130 3020 2864 6566 6175 6c74 2069 7320  100 (default is 
-000327a0: 3630 292e 0a20 2020 203a 7061 7261 6d20  60)..    :param 
-000327b0: 4f70 7469 6f6e 616c 5b55 6e69 6f6e 5b73  Optional[Union[s
-000327c0: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
-000327d0: 5d20 7361 7665 5f64 6972 3a20 4469 7265  ] save_dir: Dire
-000327e0: 6374 6f72 7920 746f 2073 6176 6520 7468  ctory to save th
-000327f0: 6520 726f 7461 7465 6420 7669 6465 6f28  e rotated video(
-00032800: 7329 2e20 4966 204e 6f6e 652c 2074 6865  s). If None, the
-00032810: 2064 6972 6563 746f 7279 206f 6620 7468   directory of th
-00032820: 6520 696e 7075 7420 7669 6465 6f28 7329  e input video(s)
-00032830: 2077 696c 6c20 6265 2075 7365 642e 0a20   will be used.. 
-00032840: 2020 203a 7265 7475 726e 3a20 4e6f 6e65     :return: None
-00032850: 2e0a 0a20 2020 203a 6578 616d 706c 653a  ...    :example:
-00032860: 0a20 2020 203e 3e3e 2072 6f74 6174 655f  .    >>> rotate_
-00032870: 7669 6465 6f28 7669 6465 6f5f 7061 7468  video(video_path
-00032880: 3d27 2f55 7365 7273 2f73 696d 6f6e 2f44  ='/Users/simon/D
-00032890: 6573 6b74 6f70 2f65 6e76 732f 7369 6d62  esktop/envs/simb
-000328a0: 612f 7472 6f75 626c 6573 686f 6f74 696e  a/troubleshootin
-000328b0: 672f 7265 7074 696c 652f 726f 745f 7465  g/reptile/rot_te
-000328c0: 7374 2e6d 7034 272c 2064 6567 7265 6573  st.mp4', degrees
-000328d0: 3d31 3830 290a 2020 2020 2222 220a 0a20  =180).    """.. 
-000328e0: 2020 2063 6865 636b 5f66 666d 7065 675f     check_ffmpeg_
-000328f0: 6176 6169 6c61 626c 6528 7261 6973 655f  available(raise_
-00032900: 6572 726f 723d 5472 7565 290a 2020 2020  error=True).    
-00032910: 7469 6d65 7220 3d20 5369 6d62 6154 696d  timer = SimbaTim
-00032920: 6572 2873 7461 7274 3d54 7275 6529 0a20  er(start=True). 
-00032930: 2020 2063 6865 636b 5f69 6e74 286e 616d     check_int(nam
-00032940: 653d 6627 7b72 6f74 6174 655f 7669 6465  e=f'{rotate_vide
-00032950: 6f2e 5f5f 6e61 6d65 5f5f 7d20 666f 6e74  o.__name__} font
-00032960: 5f73 697a 6527 2c20 7661 6c75 653d 6465  _size', value=de
-00032970: 6772 6565 732c 206d 696e 5f76 616c 7565  grees, min_value
-00032980: 3d31 2c20 6d61 785f 7661 6c75 653d 3335  =1, max_value=35
-00032990: 3929 0a20 2020 2063 6865 636b 5f69 6e74  9).    check_int
-000329a0: 286e 616d 653d 6627 7b72 6f74 6174 655f  (name=f'{rotate_
-000329b0: 7669 6465 6f2e 5f5f 6e61 6d65 5f5f 7d20  video.__name__} 
-000329c0: 7175 616c 6974 7927 2c20 7661 6c75 653d  quality', value=
-000329d0: 7175 616c 6974 792c 206d 696e 5f76 616c  quality, min_val
-000329e0: 7565 3d31 2c20 6d61 785f 7661 6c75 653d  ue=1, max_value=
-000329f0: 3130 3029 0a20 2020 2069 6620 6770 7520  100).    if gpu 
-00032a00: 616e 6420 6e6f 7420 6368 6563 6b5f 6e76  and not check_nv
-00032a10: 6964 6561 5f67 7075 5f61 7661 696c 6162  idea_gpu_availab
-00032a20: 6c65 2829 3a0a 2020 2020 2020 2020 7261  le():.        ra
-00032a30: 6973 6520 4646 4d50 4547 436f 6465 6347  ise FFMPEGCodecG
-00032a40: 5055 4572 726f 7228 6d73 673d 224e 6f20  PUError(msg="No 
-00032a50: 4750 5520 666f 756e 6420 2861 7320 6576  GPU found (as ev
-00032a60: 616c 7561 7465 6420 6279 206e 7669 6465  aluated by nvide
-00032a70: 612d 736d 6920 7265 7475 726e 696e 6720  a-smi returning 
-00032a80: 4e6f 6e65 2922 2c20 736f 7572 6365 3d72  None)", source=r
-00032a90: 6f74 6174 655f 7669 6465 6f2e 5f5f 6e61  otate_video.__na
-00032aa0: 6d65 5f5f 290a 2020 2020 6372 665f 6c6b  me__).    crf_lk
-00032ab0: 203d 2070 6572 6365 6e74 5f74 6f5f 6372   = percent_to_cr
-00032ac0: 665f 6c6f 6f6b 7570 2829 0a20 2020 2063  f_lookup().    c
-00032ad0: 7266 203d 2063 7266 5f6c 6b5b 7374 7228  rf = crf_lk[str(
-00032ae0: 7175 616c 6974 7929 5d0a 2020 2020 6966  quality)].    if
-00032af0: 206f 732e 7061 7468 2e69 7366 696c 6528   os.path.isfile(
-00032b00: 7669 6465 6f5f 7061 7468 293a 0a20 2020  video_path):.   
-00032b10: 2020 2020 2076 6964 656f 5f70 6174 6873       video_paths
-00032b20: 203d 205b 7669 6465 6f5f 7061 7468 5d0a   = [video_path].
-00032b30: 2020 2020 656c 6966 206f 732e 7061 7468      elif os.path
-00032b40: 2e69 7364 6972 2876 6964 656f 5f70 6174  .isdir(video_pat
-00032b50: 6829 3a0a 2020 2020 2020 2020 7669 6465  h):.        vide
-00032b60: 6f5f 7061 7468 7320 3d20 6c69 7374 2866  o_paths = list(f
-00032b70: 696e 645f 616c 6c5f 7669 6465 6f73 5f69  ind_all_videos_i
-00032b80: 6e5f 6469 7265 6374 6f72 7928 6469 7265  n_directory(dire
-00032b90: 6374 6f72 793d 7669 6465 6f5f 7061 7468  ctory=video_path
-00032ba0: 2c20 6173 5f64 6963 743d 5472 7565 2c20  , as_dict=True, 
-00032bb0: 7261 6973 655f 6572 726f 723d 5472 7565  raise_error=True
-00032bc0: 292e 7661 6c75 6573 2829 290a 2020 2020  ).values()).    
-00032bd0: 656c 7365 3a0a 2020 2020 2020 2020 7261  else:.        ra
-00032be0: 6973 6520 496e 7661 6c69 6449 6e70 7574  ise InvalidInput
-00032bf0: 4572 726f 7228 6d73 673d 6627 7b76 6964  Error(msg=f'{vid
-00032c00: 656f 5f70 6174 687d 2069 7320 6e6f 7420  eo_path} is not 
-00032c10: 6120 7661 6c69 6420 6669 6c65 2070 6174  a valid file pat
-00032c20: 6820 6f72 2061 2076 616c 6964 2064 6972  h or a valid dir
-00032c30: 6563 746f 7279 2070 6174 6827 2c20 736f  ectory path', so
-00032c40: 7572 6365 3d72 6f74 6174 655f 7669 6465  urce=rotate_vide
-00032c50: 6f2e 5f5f 6e61 6d65 5f5f 290a 2020 2020  o.__name__).    
-00032c60: 6966 2073 6176 655f 6469 7220 6973 206e  if save_dir is n
-00032c70: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-00032c80: 2063 6865 636b 5f69 665f 6469 725f 6578   check_if_dir_ex
-00032c90: 6973 7473 2869 6e5f 6469 723d 7361 7665  ists(in_dir=save
-00032ca0: 5f64 6972 290a 2020 2020 656c 7365 3a0a  _dir).    else:.
-00032cb0: 2020 2020 2020 2020 7361 7665 5f64 6972          save_dir
-00032cc0: 203d 206f 732e 7061 7468 2e64 6972 6e61   = os.path.dirna
-00032cd0: 6d65 2876 6964 656f 5f70 6174 6873 5b30  me(video_paths[0
-00032ce0: 5d29 0a20 2020 2066 6f72 2066 696c 655f  ]).    for file_
-00032cf0: 636e 742c 2076 6964 656f 5f70 6174 6820  cnt, video_path 
-00032d00: 696e 2065 6e75 6d65 7261 7465 2876 6964  in enumerate(vid
-00032d10: 656f 5f70 6174 6873 293a 0a20 2020 2020  eo_paths):.     
-00032d20: 2020 205f 2c20 7669 6465 6f5f 6e61 6d65     _, video_name
-00032d30: 2c20 6578 7420 3d20 6765 745f 666e 5f65  , ext = get_fn_e
-00032d40: 7874 2876 6964 656f 5f70 6174 6829 0a20  xt(video_path). 
-00032d50: 2020 2020 2020 2070 7269 6e74 2866 2752         print(f'R
-00032d60: 6f74 6174 696e 6720 7669 6465 6f20 7b76  otating video {v
-00032d70: 6964 656f 5f6e 616d 657d 207b 6465 6772  ideo_name} {degr
-00032d80: 6565 737d 2064 6567 7265 6573 2028 5669  ees} degrees (Vi
-00032d90: 6465 6f20 7b66 696c 655f 636e 7420 2b20  deo {file_cnt + 
-00032da0: 317d 2f7b 6c65 6e28 7669 6465 6f5f 7061  1}/{len(video_pa
-00032db0: 7468 7329 7d29 2e2e 2e27 290a 2020 2020  ths)})...').    
-00032dc0: 2020 2020 7361 7665 5f70 6174 6820 3d20      save_path = 
-00032dd0: 6f73 2e70 6174 682e 6a6f 696e 2873 6176  os.path.join(sav
-00032de0: 655f 6469 722c 2066 277b 7669 6465 6f5f  e_dir, f'{video_
-00032df0: 6e61 6d65 7d5f 726f 7461 7465 647b 6578  name}_rotated{ex
-00032e00: 747d 2729 0a20 2020 2020 2020 2069 6620  t}').        if 
-00032e10: 6770 753a 0a20 2020 2020 2020 2020 2020  gpu:.           
-00032e20: 2063 6d64 203d 2066 2766 666d 7065 6720   cmd = f'ffmpeg 
-00032e30: 2d68 7761 6363 656c 2061 7574 6f20 2d69  -hwaccel auto -i
-00032e40: 2022 7b76 6964 656f 5f70 6174 687d 2220   "{video_path}" 
-00032e50: 2d76 6620 2268 7775 706c 6f61 645f 6375  -vf "hwupload_cu
-00032e60: 6461 2c72 6f74 6174 653d 7b64 6567 7265  da,rotate={degre
-00032e70: 6573 7d2a 2850 492f 3138 3029 2c66 6f72  es}*(PI/180),for
-00032e80: 6d61 743d 6e76 3132 7c63 7564 6122 202d  mat=nv12|cuda" -
-00032e90: 633a 7620 6832 3634 5f6e 7665 6e63 2022  c:v h264_nvenc "
-00032ea0: 7b73 6176 655f 7061 7468 7d22 202d 6c6f  {save_path}" -lo
-00032eb0: 676c 6576 656c 2065 7272 6f72 202d 7374  glevel error -st
-00032ec0: 6174 7320 2d79 270a 2020 2020 2020 2020  ats -y'.        
-00032ed0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00032ee0: 2020 636d 6420 3d20 6627 6666 6d70 6567    cmd = f'ffmpeg
-00032ef0: 202d 6920 227b 7669 6465 6f5f 7061 7468   -i "{video_path
-00032f00: 7d22 202d 7666 2022 726f 7461 7465 3d7b  }" -vf "rotate={
-00032f10: 6465 6772 6565 737d 2a28 5049 2f31 3830  degrees}*(PI/180
-00032f20: 2922 202d 633a 7620 6c69 6278 3236 3420  )" -c:v libx264 
-00032f30: 2d63 7266 207b 6372 667d 2022 7b73 6176  -crf {crf} "{sav
-00032f40: 655f 7061 7468 7d22 202d 6c6f 676c 6576  e_path}" -loglev
-00032f50: 656c 2065 7272 6f72 202d 7374 6174 7320  el error -stats 
-00032f60: 2d79 270a 2020 2020 2020 2020 7375 6270  -y'.        subp
-00032f70: 726f 6365 7373 2e63 616c 6c28 636d 642c  rocess.call(cmd,
-00032f80: 2073 6865 6c6c 3d54 7275 652c 2073 7464   shell=True, std
-00032f90: 6f75 743d 7375 6270 726f 6365 7373 2e50  out=subprocess.P
-00032fa0: 4950 4529 0a20 2020 2074 696d 6572 2e73  IPE).    timer.s
-00032fb0: 746f 705f 7469 6d65 7228 290a 2020 2020  top_timer().    
-00032fc0: 7374 646f 7574 5f73 7563 6365 7373 286d  stdout_success(m
-00032fd0: 7367 3d66 227b 6c65 6e28 7669 6465 6f5f  sg=f"{len(video_
-00032fe0: 7061 7468 7329 7d20 7669 6465 6f28 7329  paths)} video(s)
-00032ff0: 2072 6174 6174 6564 207b 6465 6772 6565   ratated {degree
-00033000: 737d 2061 6e64 2073 6176 6564 2069 6e20  s} and saved in 
-00033010: 7b73 6176 655f 6469 727d 2064 6972 6563  {save_dir} direc
-00033020: 746f 7279 2e22 2c20 656c 6170 7365 645f  tory.", elapsed_
-00033030: 7469 6d65 3d74 696d 6572 2e65 6c61 7073  time=timer.elaps
-00033040: 6564 5f74 696d 655f 7374 722c 2073 6f75  ed_time_str, sou
-00033050: 7263 653d 726f 7461 7465 5f76 6964 656f  rce=rotate_video
-00033060: 2e5f 5f6e 616d 655f 5f2c 290a 0a0a 6465  .__name__,)...de
-00033070: 6620 666c 6970 5f76 6964 656f 7328 7669  f flip_videos(vi
-00033080: 6465 6f5f 7061 7468 3a20 556e 696f 6e5b  deo_path: Union[
-00033090: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
-000330a0: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
-000330b0: 2020 2068 6f72 697a 6f6e 7461 6c5f 666c     horizontal_fl
-000330c0: 6970 3a20 4f70 7469 6f6e 616c 5b62 6f6f  ip: Optional[boo
-000330d0: 6c5d 203d 2046 616c 7365 2c0a 2020 2020  l] = False,.    
-000330e0: 2020 2020 2020 2020 2020 2020 7665 7274              vert
-000330f0: 6963 616c 5f66 6c69 703a 204f 7074 696f  ical_flip: Optio
-00033100: 6e61 6c5b 626f 6f6c 5d20 3d20 4661 6c73  nal[bool] = Fals
-00033110: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-00033120: 2020 2071 7561 6c69 7479 3a20 4f70 7469     quality: Opti
-00033130: 6f6e 616c 5b69 6e74 5d20 3d20 3630 2c0a  onal[int] = 60,.
-00033140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00033150: 7361 7665 5f64 6972 3a20 4f70 7469 6f6e  save_dir: Option
-00033160: 616c 5b55 6e69 6f6e 5b73 7472 2c20 6f73  al[Union[str, os
-00033170: 2e50 6174 684c 696b 655d 5d20 3d20 4e6f  .PathLike]] = No
-00033180: 6e65 293a 0a20 2020 2022 2222 0a20 2020  ne):.    """.   
-00033190: 2046 6c69 7020 6120 7669 6465 6f20 6f72   Flip a video or
-000331a0: 2064 6972 6563 746f 7279 206f 6620 7669   directory of vi
-000331b0: 6465 6f73 2068 6f72 697a 6f6e 7461 6c6c  deos horizontall
-000331c0: 792c 2076 6572 7469 6361 6c6c 792c 206f  y, vertically, o
-000331d0: 7220 626f 7468 2c20 616e 6420 7361 7665  r both, and save
-000331e0: 2074 6865 6d20 746f 2074 6865 2073 7065   them to the spe
-000331f0: 6369 6669 6564 2064 6972 6563 746f 7279  cified directory
-00033200: 2e0a 0a20 2020 202e 2e20 7669 6465 6f3a  ...    .. video:
-00033210: 3a20 5f73 7461 7469 632f 696d 672f 666c  : _static/img/fl
-00033220: 6970 5f76 6964 656f 732e 7765 626d 0a20  ip_videos.webm. 
-00033230: 2020 2020 2020 3a77 6964 7468 3a20 3930        :width: 90
-00033240: 300a 2020 2020 2020 203a 6c6f 6f70 3a0a  0.       :loop:.
-00033250: 2020 2020 2020 203a 6175 746f 706c 6179         :autoplay
-00033260: 3a0a 0a20 2020 203a 7061 7261 6d20 556e  :..    :param Un
-00033270: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
-00033280: 4c69 6b65 5d20 7669 6465 6f5f 7061 7468  Like] video_path
-00033290: 3a20 5061 7468 2074 6f20 7468 6520 696e  : Path to the in
-000332a0: 7075 7420 7669 6465 6f20 6669 6c65 206f  put video file o
-000332b0: 7220 6469 7265 6374 6f72 7920 636f 6e74  r directory cont
-000332c0: 6169 6e69 6e67 2076 6964 656f 2066 696c  aining video fil
-000332d0: 6573 2e0a 2020 2020 3a70 6172 616d 204f  es..    :param O
-000332e0: 7074 696f 6e61 6c5b 626f 6f6c 5d20 686f  ptional[bool] ho
-000332f0: 7269 7a6f 6e74 616c 5f66 6c69 703a 2049  rizontal_flip: I
-00033300: 6620 5472 7565 2c20 666c 6970 2074 6865  f True, flip the
-00033310: 2076 6964 656f 2873 2920 686f 7269 7a6f   video(s) horizo
-00033320: 6e74 616c 6c79 2028 6465 6661 756c 7420  ntally (default 
-00033330: 6973 2046 616c 7365 292e 0a20 2020 203a  is False)..    :
-00033340: 7061 7261 6d20 4f70 7469 6f6e 616c 5b62  param Optional[b
-00033350: 6f6f 6c5d 2076 6572 7469 6361 6c5f 666c  ool] vertical_fl
-00033360: 6970 3a20 4966 2054 7275 652c 2066 6c69  ip: If True, fli
-00033370: 7020 7468 6520 7669 6465 6f28 7329 2076  p the video(s) v
-00033380: 6572 7469 6361 6c6c 7920 2864 6566 6175  ertically (defau
-00033390: 6c74 2069 7320 4661 6c73 6529 2e0a 2020  lt is False)..  
-000333a0: 2020 3a70 6172 616d 204f 7074 696f 6e61    :param Optiona
-000333b0: 6c5b 696e 745d 2071 7561 6c69 7479 3a20  l[int] quality: 
-000333c0: 5175 616c 6974 7920 6f66 2074 6865 206f  Quality of the o
-000333d0: 7574 7075 7420 7669 6465 6f2c 2061 6e20  utput video, an 
-000333e0: 696e 7465 6765 7220 6265 7477 6565 6e20  integer between 
-000333f0: 3120 616e 6420 3130 3020 2864 6566 6175  1 and 100 (defau
-00033400: 6c74 2069 7320 3630 292e 0a20 2020 203a  lt is 60)..    :
-00033410: 7061 7261 6d20 4f70 7469 6f6e 616c 5b55  param Optional[U
-00033420: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
-00033430: 684c 696b 655d 5d20 7361 7665 5f64 6972  hLike]] save_dir
-00033440: 3a20 4469 7265 6374 6f72 7920 746f 2073  : Directory to s
-00033450: 6176 6520 7468 6520 666c 6970 7065 6420  ave the flipped 
-00033460: 7669 6465 6f28 7329 2e20 4966 204e 6f6e  video(s). If Non
-00033470: 652c 2074 6865 2064 6972 6563 746f 7279  e, the directory
-00033480: 206f 6620 7468 6520 696e 7075 7420 7669   of the input vi
-00033490: 6465 6f28 7329 2077 696c 6c20 6265 2075  deo(s) will be u
-000334a0: 7365 642e 0a20 2020 203a 7265 7475 726e  sed..    :return
-000334b0: 3a20 4e6f 6e65 2e0a 2020 2020 2222 220a  : None..    """.
-000334c0: 0a0a 2020 2020 6368 6563 6b5f 6666 6d70  ..    check_ffmp
-000334d0: 6567 5f61 7661 696c 6162 6c65 2872 6169  eg_available(rai
-000334e0: 7365 5f65 7272 6f72 3d54 7275 6529 0a20  se_error=True). 
-000334f0: 2020 2074 696d 6572 203d 2053 696d 6261     timer = Simba
-00033500: 5469 6d65 7228 7374 6172 743d 5472 7565  Timer(start=True
-00033510: 290a 2020 2020 6368 6563 6b5f 696e 7428  ).    check_int(
-00033520: 6e61 6d65 3d66 277b 726f 7461 7465 5f76  name=f'{rotate_v
-00033530: 6964 656f 2e5f 5f6e 616d 655f 5f7d 2071  ideo.__name__} q
-00033540: 7561 6c69 7479 272c 2076 616c 7565 3d71  uality', value=q
-00033550: 7561 6c69 7479 2c20 6d69 6e5f 7661 6c75  uality, min_valu
-00033560: 653d 312c 206d 6178 5f76 616c 7565 3d31  e=1, max_value=1
-00033570: 3030 290a 2020 2020 6966 206e 6f74 2068  00).    if not h
-00033580: 6f72 697a 6f6e 7461 6c5f 666c 6970 2061  orizontal_flip a
-00033590: 6e64 206e 6f74 2076 6572 7469 6361 6c5f  nd not vertical_
-000335a0: 666c 6970 3a20 7261 6973 6520 496e 7661  flip: raise Inva
-000335b0: 6c69 6449 6e70 7574 4572 726f 7228 6d73  lidInputError(ms
-000335c0: 673d 2746 6c69 7020 7669 6465 6f73 2076  g='Flip videos v
-000335d0: 6572 7469 6361 6c6c 7920 616e 642f 6f72  ertically and/or
-000335e0: 2068 6f72 697a 6f6e 7461 6c6c 792e 2047   horizontally. G
-000335f0: 6f74 2062 6f74 6820 6173 2046 616c 7365  ot both as False
-00033600: 272c 2073 6f75 7263 653d 666c 6970 5f76  ', source=flip_v
-00033610: 6964 656f 732e 5f5f 6e61 6d65 5f5f 290a  ideos.__name__).
-00033620: 2020 2020 6372 665f 6c6b 203d 2070 6572      crf_lk = per
-00033630: 6365 6e74 5f74 6f5f 6372 665f 6c6f 6f6b  cent_to_crf_look
-00033640: 7570 2829 0a20 2020 2063 7266 203d 2063  up().    crf = c
-00033650: 7266 5f6c 6b5b 7374 7228 7175 616c 6974  rf_lk[str(qualit
-00033660: 7929 5d0a 2020 2020 6966 206f 732e 7061  y)].    if os.pa
-00033670: 7468 2e69 7366 696c 6528 7669 6465 6f5f  th.isfile(video_
-00033680: 7061 7468 293a 0a20 2020 2020 2020 2076  path):.        v
-00033690: 6964 656f 5f70 6174 6873 203d 205b 7669  ideo_paths = [vi
-000336a0: 6465 6f5f 7061 7468 5d0a 2020 2020 656c  deo_path].    el
-000336b0: 6966 206f 732e 7061 7468 2e69 7364 6972  if os.path.isdir
-000336c0: 2876 6964 656f 5f70 6174 6829 3a0a 2020  (video_path):.  
-000336d0: 2020 2020 2020 7669 6465 6f5f 7061 7468        video_path
-000336e0: 7320 3d20 6c69 7374 2866 696e 645f 616c  s = list(find_al
-000336f0: 6c5f 7669 6465 6f73 5f69 6e5f 6469 7265  l_videos_in_dire
-00033700: 6374 6f72 7928 6469 7265 6374 6f72 793d  ctory(directory=
-00033710: 7669 6465 6f5f 7061 7468 2c20 6173 5f64  video_path, as_d
-00033720: 6963 743d 5472 7565 2c20 7261 6973 655f  ict=True, raise_
-00033730: 6572 726f 723d 5472 7565 292e 7661 6c75  error=True).valu
-00033740: 6573 2829 290a 2020 2020 656c 7365 3a0a  es()).    else:.
-00033750: 2020 2020 2020 2020 7261 6973 6520 496e          raise In
-00033760: 7661 6c69 6449 6e70 7574 4572 726f 7228  validInputError(
-00033770: 6d73 673d 6627 7b76 6964 656f 5f70 6174  msg=f'{video_pat
-00033780: 687d 2069 7320 6e6f 7420 6120 7661 6c69  h} is not a vali
-00033790: 6420 6669 6c65 2070 6174 6820 6f72 2061  d file path or a
-000337a0: 2076 616c 6964 2064 6972 6563 746f 7279   valid directory
-000337b0: 2070 6174 6827 2c20 736f 7572 6365 3d66   path', source=f
-000337c0: 6c69 705f 7669 6465 6f73 2e5f 5f6e 616d  lip_videos.__nam
-000337d0: 655f 5f29 0a20 2020 2069 6620 7361 7665  e__).    if save
-000337e0: 5f64 6972 2069 7320 6e6f 7420 4e6f 6e65  _dir is not None
-000337f0: 3a0a 2020 2020 2020 2020 6368 6563 6b5f  :.        check_
-00033800: 6966 5f64 6972 5f65 7869 7374 7328 696e  if_dir_exists(in
-00033810: 5f64 6972 3d73 6176 655f 6469 7229 0a20  _dir=save_dir). 
-00033820: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00033830: 2073 6176 655f 6469 7220 3d20 6f73 2e70   save_dir = os.p
-00033840: 6174 682e 6469 726e 616d 6528 7669 6465  ath.dirname(vide
-00033850: 6f5f 7061 7468 735b 305d 290a 2020 2020  o_paths[0]).    
-00033860: 666f 7220 6669 6c65 5f63 6e74 2c20 7669  for file_cnt, vi
-00033870: 6465 6f5f 7061 7468 2069 6e20 656e 756d  deo_path in enum
-00033880: 6572 6174 6528 7669 6465 6f5f 7061 7468  erate(video_path
-00033890: 7329 3a0a 2020 2020 2020 2020 5f2c 2076  s):.        _, v
-000338a0: 6964 656f 5f6e 616d 652c 2065 7874 203d  ideo_name, ext =
-000338b0: 2067 6574 5f66 6e5f 6578 7428 7669 6465   get_fn_ext(vide
-000338c0: 6f5f 7061 7468 290a 2020 2020 2020 2020  o_path).        
-000338d0: 7072 696e 7428 6627 466c 6970 7069 6e67  print(f'Flipping
-000338e0: 2076 6964 656f 207b 7669 6465 6f5f 6e61   video {video_na
-000338f0: 6d65 7d20 2856 6964 656f 207b 6669 6c65  me} (Video {file
-00033900: 5f63 6e74 202b 2031 7d2f 7b6c 656e 2876  _cnt + 1}/{len(v
-00033910: 6964 656f 5f70 6174 6873 297d 292e 2e2e  ideo_paths)})...
-00033920: 2729 0a20 2020 2020 2020 2073 6176 655f  ').        save_
-00033930: 7061 7468 203d 206f 732e 7061 7468 2e6a  path = os.path.j
-00033940: 6f69 6e28 7361 7665 5f64 6972 2c20 6627  oin(save_dir, f'
-00033950: 7b76 6964 656f 5f6e 616d 657d 5f66 6c69  {video_name}_fli
-00033960: 7070 6564 7b65 7874 7d27 290a 2020 2020  pped{ext}').    
-00033970: 2020 2020 6966 2076 6572 7469 6361 6c5f      if vertical_
-00033980: 666c 6970 2061 6e64 206e 6f74 2068 6f72  flip and not hor
-00033990: 697a 6f6e 7461 6c5f 666c 6970 3a0a 2020  izontal_flip:.  
-000339a0: 2020 2020 2020 2020 2020 636d 6420 3d20            cmd = 
-000339b0: 6627 6666 6d70 6567 202d 6920 227b 7669  f'ffmpeg -i "{vi
-000339c0: 6465 6f5f 7061 7468 7d22 202d 7666 2022  deo_path}" -vf "
-000339d0: 7666 6c69 7022 202d 633a 7620 6c69 6278  vflip" -c:v libx
-000339e0: 3236 3420 2d63 7266 207b 6372 667d 2022  264 -crf {crf} "
-000339f0: 7b73 6176 655f 7061 7468 7d22 202d 6c6f  {save_path}" -lo
-00033a00: 676c 6576 656c 2065 7272 6f72 202d 7374  glevel error -st
-00033a10: 6174 7320 2d79 270a 2020 2020 2020 2020  ats -y'.        
-00033a20: 656c 6966 2068 6f72 697a 6f6e 7461 6c5f  elif horizontal_
-00033a30: 666c 6970 2061 6e64 206e 6f74 2076 6572  flip and not ver
-00033a40: 7469 6361 6c5f 666c 6970 3a0a 2020 2020  tical_flip:.    
-00033a50: 2020 2020 2020 2020 636d 6420 3d20 6627          cmd = f'
-00033a60: 6666 6d70 6567 202d 6920 227b 7669 6465  ffmpeg -i "{vide
-00033a70: 6f5f 7061 7468 7d22 202d 7666 2022 6866  o_path}" -vf "hf
-00033a80: 6c69 7022 202d 633a 7620 6c69 6278 3236  lip" -c:v libx26
-00033a90: 3420 2d63 7266 207b 6372 667d 2022 7b73  4 -crf {crf} "{s
-00033aa0: 6176 655f 7061 7468 7d22 202d 6c6f 676c  ave_path}" -logl
-00033ab0: 6576 656c 2065 7272 6f72 202d 7374 6174  evel error -stat
-00033ac0: 7320 2d79 270a 2020 2020 2020 2020 656c  s -y'.        el
-00033ad0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00033ae0: 636d 6420 3d20 6627 6666 6d70 6567 202d  cmd = f'ffmpeg -
-00033af0: 6920 227b 7669 6465 6f5f 7061 7468 7d22  i "{video_path}"
-00033b00: 202d 7666 2022 6866 6c69 702c 7666 6c69   -vf "hflip,vfli
-00033b10: 7022 202d 633a 7620 6c69 6278 3236 3420  p" -c:v libx264 
-00033b20: 2d63 7266 207b 6372 667d 2022 7b73 6176  -crf {crf} "{sav
-00033b30: 655f 7061 7468 7d22 202d 6c6f 676c 6576  e_path}" -loglev
-00033b40: 656c 2065 7272 6f72 202d 7374 6174 7320  el error -stats 
-00033b50: 2d79 270a 2020 2020 2020 2020 7375 6270  -y'.        subp
-00033b60: 726f 6365 7373 2e63 616c 6c28 636d 642c  rocess.call(cmd,
-00033b70: 2073 6865 6c6c 3d54 7275 652c 2073 7464   shell=True, std
-00033b80: 6f75 743d 7375 6270 726f 6365 7373 2e50  out=subprocess.P
-00033b90: 4950 4529 0a20 2020 2074 696d 6572 2e73  IPE).    timer.s
-00033ba0: 746f 705f 7469 6d65 7228 290a 2020 2020  top_timer().    
-00033bb0: 7374 646f 7574 5f73 7563 6365 7373 286d  stdout_success(m
-00033bc0: 7367 3d66 227b 6c65 6e28 7669 6465 6f5f  sg=f"{len(video_
-00033bd0: 7061 7468 7329 7d20 7669 6465 6f28 7329  paths)} video(s)
-00033be0: 2066 6c69 7070 6564 2061 6e64 2073 6176   flipped and sav
-00033bf0: 6564 2069 6e20 7b73 6176 655f 6469 727d  ed in {save_dir}
-00033c00: 2064 6972 6563 746f 7279 2e22 2c20 656c   directory.", el
-00033c10: 6170 7365 645f 7469 6d65 3d74 696d 6572  apsed_time=timer
-00033c20: 2e65 6c61 7073 6564 5f74 696d 655f 7374  .elapsed_time_st
-00033c30: 722c 2073 6f75 7263 653d 666c 6970 5f76  r, source=flip_v
-00033c40: 6964 656f 732e 5f5f 6e61 6d65 5f5f 290a  ideos.__name__).
-00033c50: 0a0a 0a64 6566 2075 7073 616d 706c 655f  ...def upsample_
-00033c60: 6670 7328 7669 6465 6f5f 7061 7468 3a20  fps(video_path: 
-00033c70: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
-00033c80: 7468 4c69 6b65 5d2c 0a20 2020 2020 2020  thLike],.       
-00033c90: 2020 2020 2020 2020 2020 6670 733a 2069            fps: i
-00033ca0: 6e74 2c0a 2020 2020 2020 2020 2020 2020  nt,.            
-00033cb0: 2020 2020 2071 7561 6c69 7479 3a20 4f70       quality: Op
-00033cc0: 7469 6f6e 616c 5b69 6e74 5d20 3d20 3630  tional[int] = 60
-00033cd0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00033ce0: 2020 2073 6176 655f 6469 723a 204f 7074     save_dir: Opt
-00033cf0: 696f 6e61 6c5b 556e 696f 6e5b 7374 722c  ional[Union[str,
-00033d00: 206f 732e 5061 7468 4c69 6b65 5d5d 203d   os.PathLike]] =
-00033d10: 204e 6f6e 6529 202d 3e20 4e6f 6e65 3a0a   None) -> None:.
-00033d20: 2020 2020 2222 220a 2020 2020 5570 7361      """.    Upsa
-00033d30: 6d70 6c65 2074 6865 2066 7261 6d65 2072  mple the frame r
-00033d40: 6174 6520 6f66 2061 2076 6964 656f 206f  ate of a video o
-00033d50: 7220 616c 6c20 7669 6465 6f73 2069 6e20  r all videos in 
-00033d60: 6120 6469 7265 6374 6f72 7920 746f 2061  a directory to a
-00033d70: 2073 7065 6369 6669 6564 2066 7073 2077   specified fps w
-00033d80: 6974 6820 6120 6769 7665 6e20 7175 616c  ith a given qual
-00033d90: 6974 792e 0a0a 2020 2020 2e2e 206e 6f74  ity...    .. not
-00033da0: 653a 3a0a 2020 2020 2020 2055 7365 7320  e::.       Uses 
-00033db0: 6060 6666 6d70 6567 206d 696e 7465 7270  ``ffmpeg minterp
-00033dc0: 6f6c 6174 6560 600a 0a20 2020 202e 2e20  olate``..    .. 
-00033dd0: 7761 726e 696e 673a 3a0a 2020 2020 2020  warning::.      
-00033de0: 204c 6f6e 6720 7275 6e2d 7469 6d65 7320   Long run-times 
-00033df0: 666f 7220 6869 6768 6572 2072 6573 6f6c  for higher resol
-00033e00: 7574 696f 6e20 7669 6465 6f73 2e0a 0a20  ution videos... 
-00033e10: 2020 203a 7061 7261 6d20 556e 696f 6e5b     :param Union[
-00033e20: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
-00033e30: 5d20 7669 6465 6f5f 7061 7468 3a20 5468  ] video_path: Th
-00033e40: 6520 7061 7468 2074 6f20 7468 6520 696e  e path to the in
-00033e50: 7075 7420 7669 6465 6f20 6669 6c65 206f  put video file o
-00033e60: 7220 6469 7265 6374 6f72 7920 636f 6e74  r directory cont
-00033e70: 6169 6e69 6e67 2076 6964 656f 2066 696c  aining video fil
-00033e80: 6573 2e0a 2020 2020 3a70 6172 616d 2069  es..    :param i
-00033e90: 6e74 2066 7073 3a20 5468 6520 7461 7267  nt fps: The targ
-00033ea0: 6574 2066 7261 6d65 2072 6174 6520 746f  et frame rate to
-00033eb0: 2075 7073 616d 706c 6520 7468 6520 7669   upsample the vi
-00033ec0: 6465 6f28 7329 2074 6f2e 0a20 2020 203a  deo(s) to..    :
-00033ed0: 7061 7261 6d20 4f70 7469 6f6e 616c 5b69  param Optional[i
-00033ee0: 6e74 5d20 7175 616c 6974 793a 2054 6865  nt] quality: The
-00033ef0: 2071 7561 6c69 7479 206c 6576 656c 206f   quality level o
-00033f00: 6620 7468 6520 6f75 7470 7574 2076 6964  f the output vid
-00033f10: 656f 2873 292c 2072 6570 7265 7365 6e74  eo(s), represent
-00033f20: 6564 2061 7320 6120 7065 7263 656e 7461  ed as a percenta
-00033f30: 6765 2028 312d 3130 3029 2e20 4c6f 7765  ge (1-100). Lowe
-00033f40: 7220 7661 6c75 6573 2069 6e64 6963 6174  r values indicat
-00033f50: 6520 6869 6768 6572 2071 7561 6c69 7479  e higher quality
-00033f60: 2e20 4465 6661 756c 7420 6973 2036 302e  . Default is 60.
-00033f70: 0a20 2020 203a 7061 7261 6d20 4f70 7469  .    :param Opti
-00033f80: 6f6e 616c 5b55 6e69 6f6e 5b73 7472 2c20  onal[Union[str, 
-00033f90: 6f73 2e50 6174 684c 696b 655d 5d20 7361  os.PathLike]] sa
-00033fa0: 7665 5f64 6972 3a20 5468 6520 6469 7265  ve_dir: The dire
-00033fb0: 6374 6f72 7920 746f 2073 6176 6520 7468  ctory to save th
-00033fc0: 6520 7570 7361 6d70 6c65 6420 7669 6465  e upsampled vide
-00033fd0: 6f28 7329 2e20 4966 204e 6f6e 652c 2074  o(s). If None, t
-00033fe0: 6865 2076 6964 656f 7320 7769 6c6c 2062  he videos will b
-00033ff0: 6520 7361 7665 6420 696e 2074 6865 2073  e saved in the s
-00034000: 616d 6520 6469 7265 6374 6f72 7920 6173  ame directory as
-00034010: 2074 6865 2069 6e70 7574 2076 6964 656f   the input video
-00034020: 2873 292e 0a20 2020 203a 7265 7475 726e  (s)..    :return
-00034030: 3a20 4e6f 6e65 2e20 5468 6520 6675 6e63  : None. The func
-00034040: 7469 6f6e 2073 6176 6573 2074 6865 2075  tion saves the u
-00034050: 7073 616d 706c 6564 2076 6964 656f 2873  psampled video(s
-00034060: 2920 746f 2074 6865 2073 7065 6369 6669  ) to the specifi
-00034070: 6564 2064 6972 6563 746f 7279 2e0a 0a20  ed directory... 
-00034080: 2020 203a 6578 616d 706c 653a 0a20 2020     :example:.   
-00034090: 203e 3e3e 2075 7073 616d 706c 655f 6670   >>> upsample_fp
-000340a0: 7328 7669 6465 6f5f 7061 7468 3d27 2f55  s(video_path='/U
-000340b0: 7365 7273 2f73 696d 6f6e 2f44 6573 6b74  sers/simon/Deskt
-000340c0: 6f70 2f42 6f78 325f 4946 3139 5f37 5f32  op/Box2_IF19_7_2
-000340d0: 3032 3131 3130 3954 3137 3336 3235 5f34  0211109T173625_4
-000340e0: 5f38 3531 5f38 3733 5f31 5f63 726f 7070  _851_873_1_cropp
-000340f0: 6564 2e6d 7034 272c 2066 7073 3d31 3030  ed.mp4', fps=100
-00034100: 2c20 7175 616c 6974 793d 3130 3029 0a20  , quality=100). 
-00034110: 2020 2022 2222 0a0a 2020 2020 7469 6d65     """..    time
-00034120: 7220 3d20 5369 6d62 6154 696d 6572 2873  r = SimbaTimer(s
-00034130: 7461 7274 3d54 7275 6529 0a20 2020 2063  tart=True).    c
-00034140: 6865 636b 5f66 666d 7065 675f 6176 6169  heck_ffmpeg_avai
-00034150: 6c61 626c 6528 7261 6973 655f 6572 726f  lable(raise_erro
-00034160: 723d 5472 7565 290a 2020 2020 6368 6563  r=True).    chec
-00034170: 6b5f 696e 7428 6e61 6d65 3d66 277b 7570  k_int(name=f'{up
-00034180: 7361 6d70 6c65 5f66 7073 2e5f 5f6e 616d  sample_fps.__nam
-00034190: 655f 5f7d 2071 7561 6c69 7479 272c 2076  e__} quality', v
-000341a0: 616c 7565 3d71 7561 6c69 7479 2c20 6d69  alue=quality, mi
-000341b0: 6e5f 7661 6c75 653d 312c 206d 6178 5f76  n_value=1, max_v
-000341c0: 616c 7565 3d31 3030 290a 2020 2020 6368  alue=100).    ch
-000341d0: 6563 6b5f 666c 6f61 7428 6e61 6d65 3d66  eck_float(name=f
-000341e0: 277b 7570 7361 6d70 6c65 5f66 7073 2e5f  '{upsample_fps._
-000341f0: 5f6e 616d 655f 5f7d 2066 7073 272c 2076  _name__} fps', v
-00034200: 616c 7565 3d71 7561 6c69 7479 2c20 6d69  alue=quality, mi
-00034210: 6e5f 7661 6c75 653d 3130 652d 3136 290a  n_value=10e-16).
-00034220: 2020 2020 6372 665f 6c6b 203d 2070 6572      crf_lk = per
-00034230: 6365 6e74 5f74 6f5f 6372 665f 6c6f 6f6b  cent_to_crf_look
-00034240: 7570 2829 0a20 2020 2063 7266 203d 2063  up().    crf = c
-00034250: 7266 5f6c 6b5b 7374 7228 7175 616c 6974  rf_lk[str(qualit
-00034260: 7929 5d0a 2020 2020 6966 206f 732e 7061  y)].    if os.pa
-00034270: 7468 2e69 7366 696c 6528 7669 6465 6f5f  th.isfile(video_
-00034280: 7061 7468 293a 0a20 2020 2020 2020 2076  path):.        v
-00034290: 6964 656f 5f70 6174 6873 203d 205b 7669  ideo_paths = [vi
-000342a0: 6465 6f5f 7061 7468 5d0a 2020 2020 656c  deo_path].    el
-000342b0: 6966 206f 732e 7061 7468 2e69 7364 6972  if os.path.isdir
-000342c0: 2876 6964 656f 5f70 6174 6829 3a0a 2020  (video_path):.  
-000342d0: 2020 2020 2020 7669 6465 6f5f 7061 7468        video_path
-000342e0: 7320 3d20 6c69 7374 2866 696e 645f 616c  s = list(find_al
-000342f0: 6c5f 7669 6465 6f73 5f69 6e5f 6469 7265  l_videos_in_dire
-00034300: 6374 6f72 7928 6469 7265 6374 6f72 793d  ctory(directory=
-00034310: 7669 6465 6f5f 7061 7468 2c20 6173 5f64  video_path, as_d
-00034320: 6963 743d 5472 7565 2c20 7261 6973 655f  ict=True, raise_
-00034330: 6572 726f 723d 5472 7565 292e 7661 6c75  error=True).valu
-00034340: 6573 2829 290a 2020 2020 656c 7365 3a0a  es()).    else:.
-00034350: 2020 2020 2020 2020 7261 6973 6520 496e          raise In
-00034360: 7661 6c69 6449 6e70 7574 4572 726f 7228  validInputError(
-00034370: 6d73 673d 6627 7b76 6964 656f 5f70 6174  msg=f'{video_pat
-00034380: 687d 2069 7320 6e6f 7420 6120 7661 6c69  h} is not a vali
-00034390: 6420 6669 6c65 2070 6174 6820 6f72 2061  d file path or a
-000343a0: 2076 616c 6964 2064 6972 6563 746f 7279   valid directory
-000343b0: 2070 6174 6827 2c20 736f 7572 6365 3d72   path', source=r
-000343c0: 6f74 6174 655f 7669 6465 6f2e 5f5f 6e61  otate_video.__na
-000343d0: 6d65 5f5f 290a 2020 2020 6966 2073 6176  me__).    if sav
-000343e0: 655f 6469 7220 6973 206e 6f74 204e 6f6e  e_dir is not Non
-000343f0: 653a 0a20 2020 2020 2020 2063 6865 636b  e:.        check
-00034400: 5f69 665f 6469 725f 6578 6973 7473 2869  _if_dir_exists(i
-00034410: 6e5f 6469 723d 7361 7665 5f64 6972 290a  n_dir=save_dir).
-00034420: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00034430: 2020 7361 7665 5f64 6972 203d 206f 732e    save_dir = os.
-00034440: 7061 7468 2e64 6972 6e61 6d65 2876 6964  path.dirname(vid
-00034450: 656f 5f70 6174 6873 5b30 5d29 0a20 2020  eo_paths[0]).   
-00034460: 2066 6f72 2066 696c 655f 636e 742c 2076   for file_cnt, v
-00034470: 6964 656f 5f70 6174 6820 696e 2065 6e75  ideo_path in enu
-00034480: 6d65 7261 7465 2876 6964 656f 5f70 6174  merate(video_pat
-00034490: 6873 293a 0a20 2020 2020 2020 205f 2c20  hs):.        _, 
-000344a0: 7669 6465 6f5f 6e61 6d65 2c20 6578 7420  video_name, ext 
-000344b0: 3d20 6765 745f 666e 5f65 7874 2876 6964  = get_fn_ext(vid
-000344c0: 656f 5f70 6174 6829 0a20 2020 2020 2020  eo_path).       
-000344d0: 2069 6e70 7574 5f76 6964 656f 5f6d 6574   input_video_met
-000344e0: 6120 3d20 6765 745f 7669 6465 6f5f 6d65  a = get_video_me
-000344f0: 7461 5f64 6174 6128 7669 6465 6f5f 7061  ta_data(video_pa
-00034500: 7468 3d76 6964 656f 5f70 6174 6829 0a20  th=video_path). 
-00034510: 2020 2020 2020 2069 6620 696e 7075 745f         if input_
-00034520: 7669 6465 6f5f 6d65 7461 5b27 6670 7327  video_meta['fps'
-00034530: 5d20 3e3d 2066 7073 3a0a 2020 2020 2020  ] >= fps:.      
-00034540: 2020 2020 2020 4672 616d 6552 616e 6765        FrameRange
-00034550: 5761 726e 696e 6728 6d73 673d 6622 5468  Warning(msg=f"Th
-00034560: 6520 4650 5320 6f66 2074 6865 2069 6e70  e FPS of the inp
-00034570: 7574 2076 6964 656f 206e 616d 6564 207b  ut video named {
-00034580: 7669 6465 6f5f 6e61 6d65 7d20 287b 696e  video_name} ({in
-00034590: 7075 745f 7669 6465 6f5f 6d65 7461 5b27  put_video_meta['
-000345a0: 6670 7327 5d7d 2920 6973 2074 6865 2073  fps']}) is the s
-000345b0: 616d 6520 6f72 206c 6172 6765 7220 7468  ame or larger th
-000345c0: 616e 2074 6865 2075 7073 6361 6c65 6420  an the upscaled 
-000345d0: 7461 7267 6574 2046 5053 2028 7b66 7073  target FPS ({fps
-000345e0: 7d29 222c 2073 6f75 7263 653d 7570 7361  })", source=upsa
-000345f0: 6d70 6c65 5f66 7073 2e5f 5f6e 616d 655f  mple_fps.__name_
-00034600: 5f29 0a20 2020 2020 2020 2070 7269 6e74  _).        print
-00034610: 2866 2755 702d 7361 6d70 6c69 6e67 2076  (f'Up-sampling v
-00034620: 6964 656f 207b 7669 6465 6f5f 6e61 6d65  ideo {video_name
-00034630: 7d20 746f 207b 6670 737d 2046 5053 2028  } to {fps} FPS (
-00034640: 5669 6465 6f20 7b66 696c 655f 636e 7420  Video {file_cnt 
-00034650: 2b20 317d 2f7b 6c65 6e28 7669 6465 6f5f  + 1}/{len(video_
-00034660: 7061 7468 7329 7d29 2e2e 2e27 290a 2020  paths)})...').  
-00034670: 2020 2020 2020 7361 7665 5f70 6174 6820        save_path 
-00034680: 3d20 6f73 2e70 6174 682e 6a6f 696e 2873  = os.path.join(s
-00034690: 6176 655f 6469 722c 2066 277b 7669 6465  ave_dir, f'{vide
-000346a0: 6f5f 6e61 6d65 7d5f 7570 7361 6d70 6c65  o_name}_upsample
-000346b0: 647b 6578 747d 2729 0a20 2020 2020 2020  d{ext}').       
-000346c0: 2063 6d64 203d 2066 2222 2266 666d 7065   cmd = f"""ffmpe
-000346d0: 6720 2d69 2022 7b76 6964 656f 5f70 6174  g -i "{video_pat
-000346e0: 687d 2220 2d66 696c 7465 723a 7620 226d  h}" -filter:v "m
-000346f0: 696e 7465 7270 6f6c 6174 653d 2766 7073  interpolate='fps
-00034700: 3d7b 6670 737d 3a73 6364 3d6e 6f6e 653a  ={fps}:scd=none:
-00034710: 6d69 5f6d 6f64 653d 6d63 693a 6d63 5f6d  mi_mode=mci:mc_m
-00034720: 6f64 653d 616f 626d 633a 6d65 5f6d 6f64  ode=aobmc:me_mod
-00034730: 653d 6269 6469 723a 6d65 3d65 707a 733a  e=bidir:me=epzs:
-00034740: 7365 6172 6368 5f70 6172 616d 3d31 363a  search_param=16:
-00034750: 7673 626d 633d 3127 2220 2d63 3a76 206c  vsbmc=1'" -c:v l
-00034760: 6962 7832 3634 202d 6372 6620 7b63 7266  ibx264 -crf {crf
-00034770: 7d20 227b 7361 7665 5f70 6174 687d 2220  } "{save_path}" 
-00034780: 2d6c 6f67 6c65 7665 6c20 6572 726f 7220  -loglevel error 
-00034790: 2d73 7461 7473 202d 7922 2222 0a20 2020  -stats -y""".   
-000347a0: 2020 2020 2073 7562 7072 6f63 6573 732e       subprocess.
-000347b0: 6361 6c6c 2863 6d64 2c20 7368 656c 6c3d  call(cmd, shell=
-000347c0: 5472 7565 290a 2020 2020 7469 6d65 722e  True).    timer.
-000347d0: 7374 6f70 5f74 696d 6572 2829 0a20 2020  stop_timer().   
-000347e0: 2073 7464 6f75 745f 7375 6363 6573 7328   stdout_success(
-000347f0: 6d73 673d 6622 7b6c 656e 2876 6964 656f  msg=f"{len(video
-00034800: 5f70 6174 6873 297d 2076 6964 656f 2873  _paths)} video(s
-00034810: 2920 7570 7361 6d70 6c65 6420 746f 207b  ) upsampled to {
-00034820: 6670 737d 2061 6e64 2073 6176 6564 2069  fps} and saved i
-00034830: 6e20 7b73 6176 655f 6469 727d 2064 6972  n {save_dir} dir
-00034840: 6563 746f 7279 2e22 2c20 656c 6170 7365  ectory.", elapse
-00034850: 645f 7469 6d65 3d74 696d 6572 2e65 6c61  d_time=timer.ela
-00034860: 7073 6564 5f74 696d 655f 7374 722c 2073  psed_time_str, s
-00034870: 6f75 7263 653d 7570 7361 6d70 6c65 5f66  ource=upsample_f
-00034880: 7073 2e5f 5f6e 616d 655f 5f2c 2029 0a0a  ps.__name__, )..
-00034890: 6465 6620 7465 6d70 6f72 616c 5f63 6f6e  def temporal_con
-000348a0: 6361 7465 6e61 7469 6f6e 2876 6964 656f  catenation(video
-000348b0: 5f70 6174 6873 3a20 4c69 7374 5b55 6e69  _paths: List[Uni
-000348c0: 6f6e 5b73 7472 2c20 6f73 2e50 6174 684c  on[str, os.PathL
-000348d0: 696b 655d 5d2c 0a20 2020 2020 2020 2020  ike]],.         
-000348e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000348f0: 2020 7361 7665 5f70 6174 683a 204f 7074    save_path: Opt
-00034900: 696f 6e61 6c5b 556e 696f 6e5b 7374 722c  ional[Union[str,
-00034910: 206f 732e 5061 7468 4c69 6b65 5d5d 203d   os.PathLike]] =
-00034920: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-00034930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00034940: 2020 7361 7665 5f66 6f72 6d61 743a 204f    save_format: O
-00034950: 7074 696f 6e61 6c5b 4c69 7465 7261 6c5b  ptional[Literal[
-00034960: 276d 7034 272c 2027 6d6f 7627 2c20 2761  'mp4', 'mov', 'a
-00034970: 7669 272c 2027 7765 626d 275d 5d20 3d20  vi', 'webm']] = 
-00034980: 276d 7034 272c 0a20 2020 2020 2020 2020  'mp4',.         
-00034990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000349a0: 2020 7175 616c 6974 793a 204f 7074 696f    quality: Optio
-000349b0: 6e61 6c5b 696e 745d 203d 2036 3029 202d  nal[int] = 60) -
-000349c0: 3e20 4e6f 6e65 3a0a 0a20 2020 2022 2222  > None:..    """
-000349d0: 0a20 2020 2043 6f6e 6361 7465 6e61 7465  .    Concatenate
-000349e0: 7320 6d75 6c74 6970 6c65 2076 6964 656f  s multiple video
-000349f0: 2066 696c 6573 2074 656d 706f 7261 6c6c   files temporall
-00034a00: 7920 696e 746f 2061 2073 696e 676c 6520  y into a single 
-00034a10: 7669 6465 6f2e 0a0a 2020 2020 3a70 6172  video...    :par
-00034a20: 616d 204c 6973 745b 556e 696f 6e5b 7374  am List[Union[st
-00034a30: 722c 206f 732e 5061 7468 4c69 6b65 5d5d  r, os.PathLike]]
-00034a40: 2076 6964 656f 5f70 6174 6873 3a20 4c69   video_paths: Li
-00034a50: 7374 206f 6620 7061 7468 7320 746f 2076  st of paths to v
-00034a60: 6964 656f 2066 696c 6573 2074 6f20 6265  ideo files to be
-00034a70: 2074 656d 706f 7261 6c6c 7920 6a6f 696e   temporally join
-00034a80: 6564 2e20 5468 6520 7669 6465 6f73 2077  ed. The videos w
-00034a90: 696c 6c20 6265 206a 6f69 6e65 6420 696e  ill be joined in
-00034aa0: 2074 6865 206f 7264 6572 2061 7070 6561   the order appea
-00034ab0: 7261 6e63 6520 696e 2074 6865 206c 6973  rance in the lis
-00034ac0: 742e 0a20 2020 203a 7061 7261 6d20 4f70  t..    :param Op
-00034ad0: 7469 6f6e 616c 5b55 6e69 6f6e 5b73 7472  tional[Union[str
-00034ae0: 2c20 6f73 2e50 6174 684c 696b 655d 5d20  , os.PathLike]] 
-00034af0: 7361 7665 5f70 6174 683a 2054 6865 206c  save_path: The l
-00034b00: 6f63 6174 696f 6e20 7768 6572 6520 746f  ocation where to
-00034b10: 2073 6176 6520 7468 6520 7465 6d70 6f72   save the tempor
-00034b20: 616c 6c79 2063 6f6e 6361 7465 6e61 7465  ally concatenate
-00034b30: 6420 7669 6465 6f73 2e20 4966 204e 6f6e  d videos. If Non
-00034b40: 652c 2074 6865 6e20 7468 6520 7669 6465  e, then the vide
-00034b50: 6f20 6973 2073 6176 6564 2069 6e20 7468  o is saved in th
-00034b60: 6520 7361 6d65 2064 6972 6563 746f 7279  e same directory
-00034b70: 2061 7320 7468 6520 6669 7273 7420 7669   as the first vi
-00034b80: 6465 6f20 696e 2060 6076 6964 656f 5f70  deo in ``video_p
-00034b90: 6174 6873 6060 2077 6974 6820 7468 6520  aths`` with the 
-00034ba0: 6e61 6d65 2060 6074 656d 706f 7261 6c5f  name ``temporal_
-00034bb0: 636f 6e63 6174 5f76 6964 656f 6060 2e0a  concat_video``..
-00034bc0: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
-00034bd0: 6e61 6c5b 4c69 7465 7261 6c5b 276d 7034  nal[Literal['mp4
-00034be0: 272c 2027 6d6f 7627 2c20 2761 7669 272c  ', 'mov', 'avi',
-00034bf0: 2027 7765 626d 275d 5d20 7361 7665 5f66   'webm']] save_f
-00034c00: 6f72 6d61 743a 2054 6865 2076 6964 656f  ormat: The video
-00034c10: 2066 6f72 6d61 7420 6f66 2074 6865 2063   format of the c
-00034c20: 6f6e 6361 7465 6e61 7465 6420 7669 6465  oncatenated vide
-00034c30: 6f2e 2044 6566 6175 6c74 3a20 6060 6d70  o. Default: ``mp
-00034c40: 3460 602e 0a20 2020 203a 7061 7261 6d20  4``..    :param 
-00034c50: 4f70 7469 6f6e 616c 5b69 6e74 5d20 7175  Optional[int] qu
-00034c60: 616c 6974 793a 2049 6e74 6567 6572 2072  ality: Integer r
-00034c70: 6570 7265 7365 6e74 696e 6720 7468 6520  epresenting the 
-00034c80: 7175 616c 6974 793a 2031 302c 2032 302c  quality: 10, 20,
-00034c90: 2033 302e 2e20 3130 302e 0a20 2020 203a   30.. 100..    :
-00034ca0: 7265 7475 726e 3a20 4e6f 6e65 0a20 2020  return: None.   
-00034cb0: 2022 2222 0a0a 2020 2020 7469 6d65 7220   """..    timer 
-00034cc0: 3d20 5369 6d62 6154 696d 6572 2873 7461  = SimbaTimer(sta
-00034cd0: 7274 3d54 7275 6529 0a20 2020 2063 6865  rt=True).    che
-00034ce0: 636b 5f76 616c 6964 5f6c 7374 2864 6174  ck_valid_lst(dat
-00034cf0: 613d 7669 6465 6f5f 7061 7468 732c 2073  a=video_paths, s
-00034d00: 6f75 7263 653d 7465 6d70 6f72 616c 5f63  ource=temporal_c
-00034d10: 6f6e 6361 7465 6e61 7469 6f6e 2e5f 5f6e  oncatenation.__n
-00034d20: 616d 655f 5f2c 2076 616c 6964 5f64 7479  ame__, valid_dty
-00034d30: 7065 733d 2873 7472 2c29 2c20 6d69 6e5f  pes=(str,), min_
-00034d40: 6c65 6e3d 3229 0a20 2020 2063 6865 636b  len=2).    check
-00034d50: 5f73 7472 286e 616d 653d 2773 6176 655f  _str(name='save_
-00034d60: 666f 726d 6174 272c 2076 616c 7565 3d73  format', value=s
-00034d70: 6176 655f 666f 726d 6174 2e6c 6f77 6572  ave_format.lower
-00034d80: 2829 2c20 6f70 7469 6f6e 733d 2827 6d70  (), options=('mp
-00034d90: 3427 2c20 276d 6f76 272c 2027 6176 6927  4', 'mov', 'avi'
-00034da0: 2c20 2777 6562 6d27 2929 0a20 2020 2063  , 'webm')).    c
-00034db0: 6865 636b 5f69 6e74 286e 616d 653d 2771  heck_int(name='q
-00034dc0: 7561 6c69 7479 272c 2076 616c 7565 3d71  uality', value=q
-00034dd0: 7561 6c69 7479 2c20 6d61 785f 7661 6c75  uality, max_valu
-00034de0: 653d 3130 302c 206d 696e 5f76 616c 7565  e=100, min_value
-00034df0: 3d31 290a 2020 2020 6372 665f 6c6b 203d  =1).    crf_lk =
-00034e00: 2070 6572 6365 6e74 5f74 6f5f 6372 665f   percent_to_crf_
-00034e10: 6c6f 6f6b 7570 2829 0a20 2020 2063 7266  lookup().    crf
-00034e20: 203d 2063 7266 5f6c 6b5b 7374 7228 7175   = crf_lk[str(qu
-00034e30: 616c 6974 7929 5d0a 2020 2020 6d65 7461  ality)].    meta
-00034e40: 203d 205b 5d0a 2020 2020 666f 7220 6920   = [].    for i 
-00034e50: 696e 2076 6964 656f 5f70 6174 6873 3a0a  in video_paths:.
-00034e60: 2020 2020 2020 2020 6368 6563 6b5f 6669          check_fi
-00034e70: 6c65 5f65 7869 7374 5f61 6e64 5f72 6561  le_exist_and_rea
-00034e80: 6461 626c 6528 6669 6c65 5f70 6174 683d  dable(file_path=
-00034e90: 6929 3b20 7669 6465 6f5f 6d65 7461 203d  i); video_meta =
-00034ea0: 2067 6574 5f76 6964 656f 5f6d 6574 615f   get_video_meta_
-00034eb0: 6461 7461 2876 6964 656f 5f70 6174 683d  data(video_path=
-00034ec0: 6929 0a20 2020 2020 2020 206d 6574 612e  i).        meta.
-00034ed0: 6170 7065 6e64 2876 6964 656f 5f6d 6574  append(video_met
-00034ee0: 6129 0a20 2020 2066 7073 2c20 7265 736f  a).    fps, reso
-00034ef0: 6c75 7469 6f6e 7320 3d20 5b76 5b27 6670  lutions = [v['fp
-00034f00: 7327 5d20 666f 7220 7620 696e 206d 6574  s'] for v in met
-00034f10: 615d 2c20 5b76 5b27 7265 736f 6c75 7469  a], [v['resoluti
-00034f20: 6f6e 5f73 7472 275d 2066 6f72 2076 2069  on_str'] for v i
-00034f30: 6e20 6d65 7461 5d0a 2020 2020 756e 6971  n meta].    uniq
-00034f40: 7565 5f66 7073 2c20 756e 6971 7565 5f72  ue_fps, unique_r
-00034f50: 6573 203d 206c 6973 7428 7365 7428 6670  es = list(set(fp
-00034f60: 7329 292c 206c 6973 7428 7365 7428 7265  s)), list(set(re
-00034f70: 736f 6c75 7469 6f6e 7329 290a 2020 2020  solutions)).    
-00034f80: 6966 206c 656e 2875 6e69 7175 655f 6670  if len(unique_fp
-00034f90: 7329 203e 2031 3a20 7261 6973 6520 5265  s) > 1: raise Re
-00034fa0: 736f 6c75 7469 6f6e 4572 726f 7228 6d73  solutionError(ms
-00034fb0: 673d 6627 5468 6520 7365 6c65 6374 6564  g=f'The selected
-00034fc0: 2076 6964 656f 7320 636f 6e74 6169 6e20   videos contain 
-00034fd0: 6d6f 7265 2074 6861 6e20 6f6e 6520 756e  more than one un
-00034fe0: 6971 7565 2046 5053 3a20 7b75 6e69 7175  ique FPS: {uniqu
-00034ff0: 655f 6670 737d 272c 2073 6f75 7263 653d  e_fps}', source=
-00035000: 7465 6d70 6f72 616c 5f63 6f6e 6361 7465  temporal_concate
-00035010: 6e61 7469 6f6e 2e5f 5f6e 616d 655f 5f29  nation.__name__)
-00035020: 0a20 2020 2069 6620 6c65 6e28 756e 6971  .    if len(uniq
-00035030: 7565 5f72 6573 2920 3e20 313a 2072 6169  ue_res) > 1: rai
-00035040: 7365 2052 6573 6f6c 7574 696f 6e45 7272  se ResolutionErr
-00035050: 6f72 286d 7367 3d66 2754 6865 2073 656c  or(msg=f'The sel
-00035060: 6563 7465 6420 7669 6465 6f73 2063 6f6e  ected videos con
-00035070: 7461 696e 206d 6f72 6520 7468 616e 206f  tain more than o
-00035080: 6e65 2075 6e69 7175 6520 7265 736f 6c75  ne unique resolu
-00035090: 7469 6f6e 733a 207b 756e 6971 7565 5f72  tions: {unique_r
-000350a0: 6573 7d27 2c20 736f 7572 6365 3d74 656d  es}', source=tem
-000350b0: 706f 7261 6c5f 636f 6e63 6174 656e 6174  poral_concatenat
-000350c0: 696f 6e2e 5f5f 6e61 6d65 5f5f 290a 2020  ion.__name__).  
-000350d0: 2020 6966 2073 6176 655f 7061 7468 2069    if save_path i
-000350e0: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
-000350f0: 7361 7665 5f70 6174 6820 3d20 6f73 2e70  save_path = os.p
-00035100: 6174 682e 6a6f 696e 286f 732e 7061 7468  ath.join(os.path
-00035110: 2e64 6972 6e61 6d65 2876 6964 656f 5f70  .dirname(video_p
-00035120: 6174 6873 5b30 5d29 2c20 6627 7465 6d70  aths[0]), f'temp
-00035130: 6f72 616c 5f63 6f6e 6361 745f 7669 6465  oral_concat_vide
-00035140: 6f2e 7b73 6176 655f 666f 726d 6174 7d27  o.{save_format}'
-00035150: 290a 2020 2020 656c 7365 3a0a 2020 2020  ).    else:.    
-00035160: 2020 2020 6368 6563 6b5f 6966 5f64 6972      check_if_dir
-00035170: 5f65 7869 7374 7328 696e 5f64 6972 3d6f  _exists(in_dir=o
-00035180: 732e 7061 7468 2e64 6972 6e61 6d65 2873  s.path.dirname(s
-00035190: 6176 655f 7061 7468 2929 0a20 2020 2066  ave_path)).    f
-000351a0: 696c 7465 725f 636f 6d70 6c65 7820 3d20  ilter_complex = 
-000351b0: 2222 0a20 2020 2066 6f72 2069 2c20 7061  "".    for i, pa
-000351c0: 7468 2069 6e20 656e 756d 6572 6174 6528  th in enumerate(
-000351d0: 7669 6465 6f5f 7061 7468 7329 3a0a 2020  video_paths):.  
-000351e0: 2020 2020 2020 6669 6c74 6572 5f63 6f6d        filter_com
-000351f0: 706c 6578 202b 3d20 6622 5b7b 697d 3a76  plex += f"[{i}:v
-00035200: 5d22 0a20 2020 2066 696c 7465 725f 636f  ]".    filter_co
-00035210: 6d70 6c65 7820 2b3d 2066 2263 6f6e 6361  mplex += f"conca
-00035220: 743d 6e3d 7b6c 656e 2876 6964 656f 5f70  t=n={len(video_p
-00035230: 6174 6873 297d 3a76 3d31 5b76 5d22 0a20  aths)}:v=1[v]". 
-00035240: 2020 2069 6e70 7574 5f6f 7074 696f 6e73     input_options
-00035250: 203d 2022 2022 2e6a 6f69 6e28 5b66 222d   = " ".join([f"-
-00035260: 6920 5c22 7b70 6174 687d 5c22 2220 666f  i \"{path}\"" fo
-00035270: 7220 7061 7468 2069 6e20 7669 6465 6f5f  r path in video_
-00035280: 7061 7468 735d 290a 2020 2020 636d 6420  paths]).    cmd 
-00035290: 3d20 6627 6666 6d70 6567 207b 696e 7075  = f'ffmpeg {inpu
-000352a0: 745f 6f70 7469 6f6e 737d 202d 6669 6c74  t_options} -filt
-000352b0: 6572 5f63 6f6d 706c 6578 2022 7b66 696c  er_complex "{fil
-000352c0: 7465 725f 636f 6d70 6c65 787d 2220 2d63  ter_complex}" -c
-000352d0: 7266 207b 6372 667d 202d 6d61 7020 225b  rf {crf} -map "[
-000352e0: 765d 2220 227b 7361 7665 5f70 6174 687d  v]" "{save_path}
-000352f0: 2220 2d68 6964 655f 6261 6e6e 6572 202d  " -hide_banner -
-00035300: 6c6f 676c 6576 656c 2065 7272 6f72 202d  loglevel error -
-00035310: 7374 6174 7320 2d79 270a 2020 2020 7375  stats -y'.    su
-00035320: 6270 726f 6365 7373 2e63 616c 6c28 636d  bprocess.call(cm
-00035330: 642c 2073 6865 6c6c 3d54 7275 6529 0a20  d, shell=True). 
-00035340: 2020 2074 696d 6572 2e73 746f 705f 7469     timer.stop_ti
-00035350: 6d65 7228 290a 2020 2020 7374 646f 7574  mer().    stdout
-00035360: 5f73 7563 6365 7373 286d 7367 3d66 277b  _success(msg=f'{
-00035370: 6c65 6e28 7669 6465 6f5f 7061 7468 7329  len(video_paths)
-00035380: 7d20 7669 6465 6f73 2074 656d 706f 7261  } videos tempora
-00035390: 6c6c 7920 636f 6e63 6174 656e 6174 6564  lly concatenated
-000353a0: 2061 6e64 2073 6176 6564 2061 7420 7b73   and saved at {s
-000353b0: 6176 655f 7061 7468 7d27 2c20 656c 6170  ave_path}', elap
-000353c0: 7365 645f 7469 6d65 3d74 696d 6572 2e65  sed_time=timer.e
-000353d0: 6c61 7073 6564 5f74 696d 655f 7374 7229  lapsed_time_str)
-000353e0: 0a0a 0a0a 2320 7669 6465 6f5f 7061 7468  ....# video_path
-000353f0: 7320 3d20 5b27 2f55 7365 7273 2f73 696d  s = ['/Users/sim
-00035400: 6f6e 2f44 6573 6b74 6f70 2f65 6e76 732f  on/Desktop/envs/
-00035410: 7369 6d62 612f 7472 6f75 626c 6573 686f  simba/troublesho
-00035420: 6f74 696e 672f 6265 6570 626f 6f70 3137  oting/beepboop17
-00035430: 342f 7072 6f6a 6563 745f 666f 6c64 6572  4/project_folder
-00035440: 2f6d 6572 6765 2f54 7269 616c 2020 2020  /merge/Trial    
-00035450: 3130 5f63 6c69 7070 6564 5f67 616e 7474  10_clipped_gantt
-00035460: 2e6d 7034 272c 0a23 2020 2020 2020 2020  .mp4',.#        
-00035470: 2020 2020 2020 2020 272f 5573 6572 732f          '/Users/
-00035480: 7369 6d6f 6e2f 4465 736b 746f 702f 656e  simon/Desktop/en
-00035490: 7673 2f73 696d 6261 2f74 726f 7562 6c65  vs/simba/trouble
-000354a0: 7368 6f6f 7469 6e67 2f62 6565 7062 6f6f  shooting/beepboo
-000354b0: 7031 3734 2f70 726f 6a65 6374 5f66 6f6c  p174/project_fol
-000354c0: 6465 722f 6d65 7267 652f 5472 6961 6c20  der/merge/Trial 
-000354d0: 2020 2031 305f 636c 6970 7065 642e 6d70     10_clipped.mp
-000354e0: 3427 2c0a 2320 2020 2020 2020 2020 2020  4',.#           
-000354f0: 2020 2020 2027 2f55 7365 7273 2f73 696d       '/Users/sim
-00035500: 6f6e 2f44 6573 6b74 6f70 2f65 6e76 732f  on/Desktop/envs/
-00035510: 7369 6d62 612f 7472 6f75 626c 6573 686f  simba/troublesho
-00035520: 6f74 696e 672f 6265 6570 626f 6f70 3137  oting/beepboop17
-00035530: 342f 7072 6f6a 6563 745f 666f 6c64 6572  4/project_folder
-00035540: 2f6d 6572 6765 2f54 7269 616c 2020 2020  /merge/Trial    
-00035550: 3130 5f63 6c69 7070 6564 5f6c 696e 652e  10_clipped_line.
-00035560: 6d70 3427 2c0a 2320 2020 2020 2020 2020  mp4',.#         
-00035570: 2020 2020 2020 2027 2f55 7365 7273 2f73         '/Users/s
-00035580: 696d 6f6e 2f44 6573 6b74 6f70 2f65 6e76  imon/Desktop/env
-00035590: 732f 7369 6d62 612f 7472 6f75 626c 6573  s/simba/troubles
-000355a0: 686f 6f74 696e 672f 6265 6570 626f 6f70  hooting/beepboop
-000355b0: 3137 342f 7072 6f6a 6563 745f 666f 6c64  174/project_fold
-000355c0: 6572 2f6d 6572 6765 2f54 7269 616c 2020  er/merge/Trial  
-000355d0: 2020 2033 5f63 6c69 7070 6564 2e6d 7034     3_clipped.mp4
-000355e0: 275d 0a23 0a23 2076 6964 656f 5f70 6174  '].#.# video_pat
-000355f0: 6873 203d 205b 272f 5573 6572 732f 7369  hs = ['/Users/si
-00035600: 6d6f 6e2f 4465 736b 746f 702f 656e 7673  mon/Desktop/envs
-00035610: 2f73 696d 6261 2f74 726f 7562 6c65 7368  /simba/troublesh
-00035620: 6f6f 7469 6e67 2f62 6565 7062 6f6f 7031  ooting/beepboop1
-00035630: 3734 2f70 726f 6a65 6374 5f66 6f6c 6465  74/project_folde
-00035640: 722f 7669 6465 6f73 2f54 7269 616c 2020  r/videos/Trial  
-00035650: 2020 3130 2e6d 7034 272c 0a23 2020 2020    10.mp4',.#    
-00035660: 2020 2020 2020 2020 2020 2020 272f 5573              '/Us
-00035670: 6572 732f 7369 6d6f 6e2f 4465 736b 746f  ers/simon/Deskto
-00035680: 702f 656e 7673 2f73 696d 6261 2f74 726f  p/envs/simba/tro
-00035690: 7562 6c65 7368 6f6f 7469 6e67 2f62 6565  ubleshooting/bee
-000356a0: 7062 6f6f 7031 3734 2f70 726f 6a65 6374  pboop174/project
-000356b0: 5f66 6f6c 6465 722f 6d65 7267 652f 5472  _folder/merge/Tr
-000356c0: 6961 6c20 2020 2031 305f 636c 6970 7065  ial    10_clippe
-000356d0: 645f 6761 6e74 742e 6d70 3427 2c0a 2320  d_gantt.mp4',.# 
-000356e0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-000356f0: 2f55 7365 7273 2f73 696d 6f6e 2f44 6573  /Users/simon/Des
-00035700: 6b74 6f70 2f65 6e76 732f 7369 6d62 612f  ktop/envs/simba/
-00035710: 7472 6f75 626c 6573 686f 6f74 696e 672f  troubleshooting/
-00035720: 6265 6570 626f 6f70 3137 342f 7072 6f6a  beepboop174/proj
-00035730: 6563 745f 666f 6c64 6572 2f6d 6572 6765  ect_folder/merge
-00035740: 2f54 7269 616c 2020 2020 3130 5f63 6c69  /Trial    10_cli
-00035750: 7070 6564 5f6c 696e 652e 6d70 3427 2c0a  pped_line.mp4',.
-00035760: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00035770: 2027 2f55 7365 7273 2f73 696d 6f6e 2f44   '/Users/simon/D
-00035780: 6573 6b74 6f70 2f65 6e76 732f 7369 6d62  esktop/envs/simb
-00035790: 612f 7472 6f75 626c 6573 686f 6f74 696e  a/troubleshootin
-000357a0: 672f 6265 6570 626f 6f70 3137 342f 7072  g/beepboop174/pr
-000357b0: 6f6a 6563 745f 666f 6c64 6572 2f6d 6572  oject_folder/mer
-000357c0: 6765 2f54 7269 616c 2020 2020 2033 5f63  ge/Trial     3_c
-000357d0: 6c69 7070 6564 2e6d 7034 275d 0a23 0a23  lipped.mp4'].#.#
-000357e0: 2073 6176 655f 7061 7468 203d 2027 2f55   save_path = '/U
-000357f0: 7365 7273 2f73 696d 6f6e 2f44 6573 6b74  sers/simon/Deskt
-00035800: 6f70 2f65 6e76 732f 7369 6d62 612f 7472  op/envs/simba/tr
-00035810: 6f75 626c 6573 686f 6f74 696e 672f 6265  oubleshooting/be
-00035820: 6570 626f 6f70 3137 342f 7072 6f6a 6563  epboop174/projec
-00035830: 745f 666f 6c64 6572 2f6d 6572 6765 2f6f  t_folder/merge/o
-00035840: 7574 2e6d 7034 270a 0a23 0a23 2076 6964  ut.mp4'..#.# vid
-00035850: 656f 5f70 6174 6873 203d 205b 272f 5573  eo_paths = ['/Us
-00035860: 6572 732f 7369 6d6f 6e2f 4465 736b 746f  ers/simon/Deskto
-00035870: 702f 656e 7673 2f73 696d 6261 2f74 726f  p/envs/simba/tro
-00035880: 7562 6c65 7368 6f6f 7469 6e67 2f62 6565  ubleshooting/bee
-00035890: 7062 6f6f 7031 3734 2f70 726f 6a65 6374  pboop174/project
-000358a0: 5f66 6f6c 6465 722f 6672 616d 6573 2f6f  _folder/frames/o
-000358b0: 7574 7075 742f 6761 6e74 745f 706c 6f74  utput/gantt_plot
-000358c0: 732f 5472 6961 6c20 2020 2031 302e 6d70  s/Trial    10.mp
-000358d0: 3427 2c0a 2320 2020 2020 2020 2020 2020  4',.#           
-000358e0: 2020 2020 2027 2f55 7365 7273 2f73 696d       '/Users/sim
-000358f0: 6f6e 2f44 6573 6b74 6f70 2f65 6e76 732f  on/Desktop/envs/
-00035900: 7369 6d62 612f 7472 6f75 626c 6573 686f  simba/troublesho
-00035910: 6f74 696e 672f 6265 6570 626f 6f70 3137  oting/beepboop17
-00035920: 342f 7072 6f6a 6563 745f 666f 6c64 6572  4/project_folder
-00035930: 2f76 6964 656f 732f 5472 6961 6c20 2020  /videos/Trial   
-00035940: 2031 302e 6d70 3427 2c0a 2320 2020 2020   10.mp4',.#     
-00035950: 2020 2020 2020 2020 2020 2027 2f55 7365             '/Use
-00035960: 7273 2f73 696d 6f6e 2f44 6573 6b74 6f70  rs/simon/Desktop
-00035970: 2f65 6e76 732f 7369 6d62 612f 7472 6f75  /envs/simba/trou
-00035980: 626c 6573 686f 6f74 696e 672f 6265 6570  bleshooting/beep
-00035990: 626f 6f70 3137 342f 7072 6f6a 6563 745f  boop174/project_
-000359a0: 666f 6c64 6572 2f66 7261 6d65 732f 6f75  folder/frames/ou
-000359b0: 7470 7574 2f6c 696e 655f 706c 6f74 2f54  tput/line_plot/T
-000359c0: 7269 616c 2020 2020 3130 2e6d 7034 272c  rial    10.mp4',
-000359d0: 0a23 2020 2020 2020 2020 2020 2020 2020  .#              
-000359e0: 2020 272f 5573 6572 732f 7369 6d6f 6e2f    '/Users/simon/
-000359f0: 4465 736b 746f 702f 656e 7673 2f73 696d  Desktop/envs/sim
-00035a00: 6261 2f74 726f 7562 6c65 7368 6f6f 7469  ba/troubleshooti
-00035a10: 6e67 2f62 6565 7062 6f6f 7031 3734 2f70  ng/beepboop174/p
-00035a20: 726f 6a65 6374 5f66 6f6c 6465 722f 6672  roject_folder/fr
-00035a30: 616d 6573 2f6f 7574 7075 742f 6c69 6e65  ames/output/line
-00035a40: 5f70 6c6f 742f 5472 6961 6c20 2020 2020  _plot/Trial     
-00035a50: 332e 6d70 3427 5d0a 2320 7361 7665 5f70  3.mp4'].# save_p
-00035a60: 6174 6820 3d20 272f 5573 6572 732f 7369  ath = '/Users/si
-00035a70: 6d6f 6e2f 4465 736b 746f 702f 656e 7673  mon/Desktop/envs
-00035a80: 2f73 696d 6261 2f74 726f 7562 6c65 7368  /simba/troublesh
-00035a90: 6f6f 7469 6e67 2f52 4154 5f4e 4f52 2f70  ooting/RAT_NOR/p
-00035aa0: 726f 6a65 6374 5f66 6f6c 6465 722f 7669  roject_folder/vi
-00035ab0: 6465 6f73 2f74 6573 742f 6e65 772f 626c  deos/test/new/bl
-00035ac0: 616e 6b5f 7465 7374 2e6d 7034 270a 0a23  ank_test.mp4'..#
-00035ad0: 2076 6964 656f 5f70 6174 6873 203d 205b   video_paths = [
-00035ae0: 272f 5573 6572 732f 7369 6d6f 6e2f 4465  '/Users/simon/De
-00035af0: 736b 746f 702f 656e 7673 2f73 696d 6261  sktop/envs/simba
-00035b00: 2f74 726f 7562 6c65 7368 6f6f 7469 6e67  /troubleshooting
-00035b10: 2f62 6565 7062 6f6f 7031 3734 2f70 726f  /beepboop174/pro
-00035b20: 6a65 6374 5f66 6f6c 6465 722f 7669 6465  ject_folder/vide
-00035b30: 6f73 2f54 7269 616c 2020 2020 3130 2e6d  os/Trial    10.m
-00035b40: 7034 272c 0a23 2020 2020 2020 2020 2020  p4',.#          
-00035b50: 2020 2020 2020 272f 5573 6572 732f 7369        '/Users/si
-00035b60: 6d6f 6e2f 4465 736b 746f 702f 656e 7673  mon/Desktop/envs
-00035b70: 2f73 696d 6261 2f74 726f 7562 6c65 7368  /simba/troublesh
-00035b80: 6f6f 7469 6e67 2f62 6565 7062 6f6f 7031  ooting/beepboop1
-00035b90: 3734 2f70 726f 6a65 6374 5f66 6f6c 6465  74/project_folde
-00035ba0: 722f 6672 616d 6573 2f6f 7574 7075 742f  r/frames/output/
-00035bb0: 6c69 6e65 5f70 6c6f 742f 5472 6961 6c20  line_plot/Trial 
-00035bc0: 2020 2031 302e 6d70 3427 2c0a 2320 2020     10.mp4',.#   
-00035bd0: 2020 2020 2020 2020 2020 2020 2027 2f55               '/U
-00035be0: 7365 7273 2f73 696d 6f6e 2f44 6573 6b74  sers/simon/Deskt
-00035bf0: 6f70 2f65 6e76 732f 7369 6d62 612f 7472  op/envs/simba/tr
-00035c00: 6f75 626c 6573 686f 6f74 696e 672f 6265  oubleshooting/be
-00035c10: 6570 626f 6f70 3137 342f 7072 6f6a 6563  epboop174/projec
-00035c20: 745f 666f 6c64 6572 2f66 7261 6d65 732f  t_folder/frames/
-00035c30: 6f75 7470 7574 2f6c 696e 655f 706c 6f74  output/line_plot
-00035c40: 2f54 7269 616c 2020 2020 2033 2e6d 7034  /Trial     3.mp4
-00035c50: 275d 0a0a 2320 6d69 7865 645f 6d6f 7361  ']..# mixed_mosa
-00035c60: 6963 5f63 6f6e 6361 7465 6e61 746f 7228  ic_concatenator(
-00035c70: 7669 6465 6f5f 7061 7468 733d 7669 6465  video_paths=vide
-00035c80: 6f5f 7061 7468 732c 2073 6176 655f 7061  o_paths, save_pa
-00035c90: 7468 3d73 6176 655f 7061 7468 2c20 6770  th=save_path, gp
-00035ca0: 753d 4661 6c73 652c 2076 6572 626f 7365  u=False, verbose
-00035cb0: 3d54 7275 6529 0a                        =True).
+0002f6e0: 2020 2020 2020 666f 6e74 5f62 6f72 6465        font_borde
+0002f6f0: 725f 636f 6c6f 723a 204f 7074 696f 6e61  r_color: Optiona
+0002f700: 6c5b 7374 725d 203d 2027 626c 6163 6b27  l[str] = 'black'
+0002f710: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0002f720: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+0002f730: 6e74 5f62 6f72 6465 725f 7769 6474 683a  nt_border_width:
+0002f740: 204f 7074 696f 6e61 6c5b 696e 745d 203d   Optional[int] =
+0002f750: 2032 2c0a 2020 2020 2020 2020 2020 2020   2,.            
+0002f760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f770: 706f 7369 7469 6f6e 3a20 4f70 7469 6f6e  position: Option
+0002f780: 616c 5b4c 6974 6572 616c 5b27 746f 705f  al[Literal['top_
+0002f790: 6c65 6674 272c 2027 746f 705f 7269 6768  left', 'top_righ
+0002f7a0: 7427 2c20 2762 6f74 746f 6d5f 6c65 6674  t', 'bottom_left
+0002f7b0: 272c 2027 626f 7474 6f6d 5f72 6967 6874  ', 'bottom_right
+0002f7c0: 272c 2027 6d69 6464 6c65 5f74 6f70 272c  ', 'middle_top',
+0002f7d0: 2027 6d69 6464 6c65 5f62 6f74 746f 6d27   'middle_bottom'
+0002f7e0: 5d5d 203d 2027 746f 705f 6c65 6674 272c  ]] = 'top_left',
+0002f7f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002f800: 2020 2020 2020 2020 2020 2020 2073 6176               sav
+0002f810: 655f 6469 723a 204f 7074 696f 6e61 6c5b  e_dir: Optional[
+0002f820: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
+0002f830: 7468 4c69 6b65 5d5d 203d 204e 6f6e 6529  thLike]] = None)
+0002f840: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2222   -> None:.    ""
+0002f850: 220a 2020 2020 5375 7065 7269 6d70 6f73  ".    Superimpos
+0002f860: 6573 2074 6865 2076 6964 656f 206e 616d  es the video nam
+0002f870: 6520 6f6e 2074 6865 2067 6976 656e 2076  e on the given v
+0002f880: 6964 656f 2066 696c 6528 7329 2061 6e64  ideo file(s) and
+0002f890: 2073 6176 6573 2074 6865 206d 6f64 6966   saves the modif
+0002f8a0: 6965 6420 7669 6465 6f28 7329 2e0a 0a20  ied video(s)... 
+0002f8b0: 2020 202e 2e20 7669 6465 6f3a 3a20 5f73     .. video:: _s
+0002f8c0: 7461 7469 632f 696d 672f 7375 7065 7269  tatic/img/superi
+0002f8d0: 6d70 6f73 655f 7669 6465 6f5f 6e61 6d65  mpose_video_name
+0002f8e0: 732e 7765 626d 0a20 2020 2020 2020 3a77  s.webm.       :w
+0002f8f0: 6964 7468 3a20 3930 300a 2020 2020 2020  idth: 900.      
+0002f900: 203a 6c6f 6f70 3a0a 0a20 2020 203a 7061   :loop:..    :pa
+0002f910: 7261 6d20 556e 696f 6e5b 7374 722c 206f  ram Union[str, o
+0002f920: 732e 5061 7468 4c69 6b65 5d20 7669 6465  s.PathLike] vide
+0002f930: 6f5f 7061 7468 3a20 5061 7468 2074 6f20  o_path: Path to 
+0002f940: 7468 6520 696e 7075 7420 7669 6465 6f20  the input video 
+0002f950: 6669 6c65 206f 7220 6469 7265 6374 6f72  file or director
+0002f960: 7920 636f 6e74 6169 6e69 6e67 2076 6964  y containing vid
+0002f970: 656f 2066 696c 6573 2e0a 2020 2020 3a70  eo files..    :p
+0002f980: 6172 616d 204f 7074 696f 6e61 6c5b 696e  aram Optional[in
+0002f990: 745d 2066 6f6e 745f 7369 7a65 3a20 466f  t] font_size: Fo
+0002f9a0: 6e74 2073 697a 6520 666f 7220 7468 6520  nt size for the 
+0002f9b0: 7669 6465 6f20 6e61 6d65 2074 6578 742e  video name text.
+0002f9c0: 2044 6566 6175 6c74 2033 302e 0a20 2020   Default 30..   
+0002f9d0: 203a 7061 7261 6d20 4f70 7469 6f6e 616c   :param Optional
+0002f9e0: 5b73 7472 5d20 666f 6e74 5f63 6f6c 6f72  [str] font_color
+0002f9f0: 3a20 2046 6f6e 7420 636f 6c6f 7220 666f  :  Font color fo
+0002fa00: 7220 7468 6520 7669 6465 6f20 6e61 6d65  r the video name
+0002fa10: 2074 6578 742e 2044 6566 6175 6c74 2077   text. Default w
+0002fa20: 6869 7465 0a20 2020 203a 7061 7261 6d20  hite.    :param 
+0002fa30: 4f70 7469 6f6e 616c 5b73 7472 5d20 666f  Optional[str] fo
+0002fa40: 6e74 5f62 6f72 6465 725f 636f 6c6f 723a  nt_border_color:
+0002fa50: 2046 6f6e 7420 626f 7264 6572 2063 6f6c   Font border col
+0002fa60: 6f72 2066 6f72 2074 6865 2076 6964 656f  or for the video
+0002fa70: 206e 616d 6520 7465 7874 2e20 4465 6661   name text. Defa
+0002fa80: 756c 7420 626c 6163 6b2e 0a20 2020 203a  ult black..    :
+0002fa90: 7061 7261 6d20 4f70 7469 6f6e 616c 5b69  param Optional[i
+0002faa0: 6e74 5d20 666f 6e74 5f62 6f72 6465 725f  nt] font_border_
+0002fab0: 7769 6474 683a 2046 6f6e 7420 626f 7264  width: Font bord
+0002fac0: 6572 2077 6964 7468 2066 6f72 2074 6865  er width for the
+0002fad0: 2076 6964 656f 206e 616d 6520 7465 7874   video name text
+0002fae0: 2069 6e20 7069 7865 6c73 2e20 4465 6661   in pixels. Defa
+0002faf0: 756c 7420 322e 0a20 2020 203a 7061 7261  ult 2..    :para
+0002fb00: 6d20 4f70 7469 6f6e 616c 5b4c 6974 6572  m Optional[Liter
+0002fb10: 616c 5b27 746f 705f 6c65 6674 272c 2027  al['top_left', '
+0002fb20: 746f 705f 7269 6768 7427 2c20 2762 6f74  top_right', 'bot
+0002fb30: 746f 6d5f 6c65 6674 272c 2027 626f 7474  tom_left', 'bott
+0002fb40: 6f6d 5f72 6967 6874 272c 2027 746f 705f  om_right', 'top_
+0002fb50: 6d69 6464 6c65 272c 2027 626f 7474 6f6d  middle', 'bottom
+0002fb60: 5f6d 6964 646c 6527 5d5d 2070 6f73 6974  _middle']] posit
+0002fb70: 696f 6e3a 2050 6f73 6974 696f 6e20 7768  ion: Position wh
+0002fb80: 6572 6520 7468 6520 7669 6465 6f20 6e61  ere the video na
+0002fb90: 6d65 2077 696c 6c20 6265 2073 7570 6572  me will be super
+0002fba0: 696d 706f 7365 642e 2044 6566 6175 6c74  imposed. Default
+0002fbb0: 2060 6074 6f70 5f6c 6566 7460 602e 0a20   ``top_left``.. 
+0002fbc0: 2020 203a 7061 7261 6d20 4f70 7469 6f6e     :param Option
+0002fbd0: 616c 5b55 6e69 6f6e 5b73 7472 2c20 6f73  al[Union[str, os
+0002fbe0: 2e50 6174 684c 696b 655d 5d20 7361 7665  .PathLike]] save
+0002fbf0: 5f64 6972 3a20 4469 7265 6374 6f72 7920  _dir: Directory 
+0002fc00: 7768 6572 6520 7468 6520 6d6f 6469 6669  where the modifi
+0002fc10: 6564 2076 6964 656f 2873 2920 7769 6c6c  ed video(s) will
+0002fc20: 2062 6520 7361 7665 642e 2049 6620 6e6f   be saved. If no
+0002fc30: 7420 7072 6f76 6964 6564 2c20 7468 6520  t provided, the 
+0002fc40: 6469 7265 6374 6f72 7920 6f66 2074 6865  directory of the
+0002fc50: 2069 6e70 7574 2076 6964 656f 2873 2920   input video(s) 
+0002fc60: 7769 6c6c 2062 6520 7573 6564 2e0a 2020  will be used..  
+0002fc70: 2020 3a72 6574 7572 6e3a 204e 6f6e 650a    :return: None.
+0002fc80: 0a20 2020 203a 6578 616d 706c 653a 0a20  .    :example:. 
+0002fc90: 2020 203e 3e3e 2073 7570 6572 696d 706f     >>> superimpo
+0002fca0: 7365 5f76 6964 656f 5f6e 616d 6573 2876  se_video_names(v
+0002fcb0: 6964 656f 5f70 6174 683d 272f 5573 6572  ideo_path='/User
+0002fcc0: 732f 7369 6d6f 6e2f 4465 736b 746f 702f  s/simon/Desktop/
+0002fcd0: 656e 7673 2f73 696d 6261 2f74 726f 7562  envs/simba/troub
+0002fce0: 6c65 7368 6f6f 7469 6e67 2f6d 6f75 7365  leshooting/mouse
+0002fcf0: 5f6f 7065 6e5f 6669 656c 642f 7072 6f6a  _open_field/proj
+0002fd00: 6563 745f 666f 6c64 6572 2f76 6964 656f  ect_folder/video
+0002fd10: 732f 7465 7374 5f34 2f31 2e6d 7034 272c  s/test_4/1.mp4',
+0002fd20: 2070 6f73 6974 696f 6e3d 276d 6964 646c   position='middl
+0002fd30: 655f 746f 7027 2c20 666f 6e74 5f63 6f6c  e_top', font_col
+0002fd40: 6f72 3d27 626c 6163 6b27 2c20 666f 6e74  or='black', font
+0002fd50: 5f62 6f72 6465 725f 636f 6c6f 723d 2770  _border_color='p
+0002fd60: 696e 6b27 2c20 666f 6e74 5f62 6f72 6465  ink', font_borde
+0002fd70: 725f 7769 6474 683d 352c 2066 6f6e 745f  r_width=5, font_
+0002fd80: 7369 7a65 3d33 3029 0a20 2020 2022 2222  size=30).    """
+0002fd90: 0a0a 2020 2020 6368 6563 6b5f 6666 6d70  ..    check_ffmp
+0002fda0: 6567 5f61 7661 696c 6162 6c65 2872 6169  eg_available(rai
+0002fdb0: 7365 5f65 7272 6f72 3d54 7275 6529 0a20  se_error=True). 
+0002fdc0: 2020 2074 696d 6572 203d 2053 696d 6261     timer = Simba
+0002fdd0: 5469 6d65 7228 7374 6172 743d 5472 7565  Timer(start=True
+0002fde0: 290a 2020 2020 504f 5349 5449 4f4e 5320  ).    POSITIONS 
+0002fdf0: 3d20 5b27 746f 705f 6c65 6674 272c 2027  = ['top_left', '
+0002fe00: 746f 705f 7269 6768 7427 2c20 2762 6f74  top_right', 'bot
+0002fe10: 746f 6d5f 6c65 6674 272c 2027 626f 7474  tom_left', 'bott
+0002fe20: 6f6d 5f72 6967 6874 272c 2027 746f 705f  om_right', 'top_
+0002fe30: 6d69 6464 6c65 272c 2027 626f 7474 6f6d  middle', 'bottom
+0002fe40: 5f6d 6964 646c 6527 5d0a 2020 2020 6368  _middle'].    ch
+0002fe50: 6563 6b5f 7374 7228 6e61 6d65 3d66 277b  eck_str(name=f'{
+0002fe60: 7375 7065 7269 6d70 6f73 655f 7669 6465  superimpose_vide
+0002fe70: 6f5f 6e61 6d65 732e 5f5f 6e61 6d65 5f5f  o_names.__name__
+0002fe80: 7d20 706f 7369 7469 6f6e 272c 2076 616c  } position', val
+0002fe90: 7565 3d70 6f73 6974 696f 6e2c 206f 7074  ue=position, opt
+0002fea0: 696f 6e73 3d50 4f53 4954 494f 4e53 290a  ions=POSITIONS).
+0002feb0: 2020 2020 6368 6563 6b5f 696e 7428 6e61      check_int(na
+0002fec0: 6d65 3d66 277b 7375 7065 7269 6d70 6f73  me=f'{superimpos
+0002fed0: 655f 7669 6465 6f5f 6e61 6d65 732e 5f5f  e_video_names.__
+0002fee0: 6e61 6d65 5f5f 7d20 666f 6e74 5f73 697a  name__} font_siz
+0002fef0: 6527 2c20 7661 6c75 653d 666f 6e74 5f73  e', value=font_s
+0002ff00: 697a 652c 206d 696e 5f76 616c 7565 3d31  ize, min_value=1
+0002ff10: 290a 2020 2020 6368 6563 6b5f 696e 7428  ).    check_int(
+0002ff20: 6e61 6d65 3d66 277b 7375 7065 7269 6d70  name=f'{superimp
+0002ff30: 6f73 655f 7669 6465 6f5f 6e61 6d65 732e  ose_video_names.
+0002ff40: 5f5f 6e61 6d65 5f5f 7d20 666f 6e74 5f62  __name__} font_b
+0002ff50: 6f72 6465 725f 7769 6474 6827 2c20 7661  order_width', va
+0002ff60: 6c75 653d 666f 6e74 5f62 6f72 6465 725f  lue=font_border_
+0002ff70: 7769 6474 682c 206d 696e 5f76 616c 7565  width, min_value
+0002ff80: 3d31 290a 2020 2020 666f 6e74 5f64 6963  =1).    font_dic
+0002ff90: 7420 3d20 6765 745f 666f 6e74 7328 290a  t = get_fonts().
+0002ffa0: 2020 2020 6368 6563 6b5f 7374 7228 6e61      check_str(na
+0002ffb0: 6d65 3d27 666f 6e74 272c 2076 616c 7565  me='font', value
+0002ffc0: 3d66 6f6e 742c 206f 7074 696f 6e73 3d74  =font, options=t
+0002ffd0: 7570 6c65 2866 6f6e 745f 6469 6374 2e6b  uple(font_dict.k
+0002ffe0: 6579 7328 2929 290a 2020 2020 666f 6e74  eys())).    font
+0002fff0: 5f70 6174 6820 3d20 666f 6e74 5f64 6963  _path = font_dic
+00030000: 745b 666f 6e74 5d0a 2020 2020 666f 6e74  t[font].    font
+00030010: 5f63 6f6c 6f72 203d 2027 272e 6a6f 696e  _color = ''.join
+00030020: 2866 696c 7465 7228 7374 722e 6973 616c  (filter(str.isal
+00030030: 6e75 6d2c 2066 6f6e 745f 636f 6c6f 7229  num, font_color)
+00030040: 292e 6c6f 7765 7228 290a 2020 2020 666f  ).lower().    fo
+00030050: 6e74 5f62 6f72 6465 725f 636f 6c6f 7220  nt_border_color 
+00030060: 3d20 2727 2e6a 6f69 6e28 6669 6c74 6572  = ''.join(filter
+00030070: 2873 7472 2e69 7361 6c6e 756d 2c20 666f  (str.isalnum, fo
+00030080: 6e74 5f62 6f72 6465 725f 636f 6c6f 7229  nt_border_color)
+00030090: 292e 6c6f 7765 7228 290a 2020 2020 6966  ).lower().    if
+000300a0: 206f 732e 7061 7468 2e69 7366 696c 6528   os.path.isfile(
+000300b0: 7669 6465 6f5f 7061 7468 293a 0a20 2020  video_path):.   
+000300c0: 2020 2020 2076 6964 656f 5f70 6174 6873       video_paths
+000300d0: 203d 205b 7669 6465 6f5f 7061 7468 5d0a   = [video_path].
+000300e0: 2020 2020 656c 6966 206f 732e 7061 7468      elif os.path
+000300f0: 2e69 7364 6972 2876 6964 656f 5f70 6174  .isdir(video_pat
+00030100: 6829 3a0a 2020 2020 2020 2020 7669 6465  h):.        vide
+00030110: 6f5f 7061 7468 7320 3d20 6c69 7374 2866  o_paths = list(f
+00030120: 696e 645f 616c 6c5f 7669 6465 6f73 5f69  ind_all_videos_i
+00030130: 6e5f 6469 7265 6374 6f72 7928 6469 7265  n_directory(dire
+00030140: 6374 6f72 793d 7669 6465 6f5f 7061 7468  ctory=video_path
+00030150: 2c20 6173 5f64 6963 743d 5472 7565 2c20  , as_dict=True, 
+00030160: 7261 6973 655f 6572 726f 723d 5472 7565  raise_error=True
+00030170: 292e 7661 6c75 6573 2829 290a 2020 2020  ).values()).    
+00030180: 656c 7365 3a0a 2020 2020 2020 2020 7261  else:.        ra
+00030190: 6973 6520 496e 7661 6c69 6449 6e70 7574  ise InvalidInput
+000301a0: 4572 726f 7228 6d73 673d 6627 7b76 6964  Error(msg=f'{vid
+000301b0: 656f 5f70 6174 687d 2069 7320 6e6f 7420  eo_path} is not 
+000301c0: 6120 7661 6c69 6420 6669 6c65 2070 6174  a valid file pat
+000301d0: 6820 6f72 2061 2076 616c 6964 2064 6972  h or a valid dir
+000301e0: 6563 746f 7279 2070 6174 6827 2c20 736f  ectory path', so
+000301f0: 7572 6365 3d73 7570 6572 696d 706f 7365  urce=superimpose
+00030200: 5f76 6964 656f 5f6e 616d 6573 2e5f 5f6e  _video_names.__n
+00030210: 616d 655f 5f29 0a20 2020 2069 6620 7361  ame__).    if sa
+00030220: 7665 5f64 6972 2069 7320 6e6f 7420 4e6f  ve_dir is not No
+00030230: 6e65 3a0a 2020 2020 2020 2020 6368 6563  ne:.        chec
+00030240: 6b5f 6966 5f64 6972 5f65 7869 7374 7328  k_if_dir_exists(
+00030250: 696e 5f64 6972 3d73 6176 655f 6469 7229  in_dir=save_dir)
+00030260: 0a20 2020 2065 6c73 653a 0a20 2020 2020  .    else:.     
+00030270: 2020 2073 6176 655f 6469 7220 3d20 6f73     save_dir = os
+00030280: 2e70 6174 682e 6469 726e 616d 6528 7669  .path.dirname(vi
+00030290: 6465 6f5f 7061 7468 735b 305d 290a 2020  deo_paths[0]).  
+000302a0: 2020 666f 7220 6669 6c65 5f63 6e74 2c20    for file_cnt, 
+000302b0: 7669 6465 6f5f 7061 7468 2069 6e20 656e  video_path in en
+000302c0: 756d 6572 6174 6528 7669 6465 6f5f 7061  umerate(video_pa
+000302d0: 7468 7329 3a0a 2020 2020 2020 2020 5f2c  ths):.        _,
+000302e0: 2076 6964 656f 5f6e 616d 652c 2065 7874   video_name, ext
+000302f0: 203d 2067 6574 5f66 6e5f 6578 7428 7669   = get_fn_ext(vi
+00030300: 6465 6f5f 7061 7468 290a 2020 2020 2020  deo_path).      
+00030310: 2020 7072 696e 7428 6627 5375 7065 7269    print(f'Superi
+00030320: 6d70 6f73 696e 6720 7669 6465 6f20 6e61  mposing video na
+00030330: 6d65 206f 6e20 7b76 6964 656f 5f6e 616d  me on {video_nam
+00030340: 657d 2028 5669 6465 6f20 7b66 696c 655f  e} (Video {file_
+00030350: 636e 7420 2b20 317d 2f7b 6c65 6e28 7669  cnt + 1}/{len(vi
+00030360: 6465 6f5f 7061 7468 7329 7d29 2e2e 2e27  deo_paths)})...'
+00030370: 290a 2020 2020 2020 2020 7361 7665 5f70  ).        save_p
+00030380: 6174 6820 3d20 6f73 2e70 6174 682e 6a6f  ath = os.path.jo
+00030390: 696e 2873 6176 655f 6469 722c 2066 277b  in(save_dir, f'{
+000303a0: 7669 6465 6f5f 6e61 6d65 7d5f 7669 6465  video_name}_vide
+000303b0: 6f5f 6e61 6d65 5f73 7570 6572 696d 706f  o_name_superimpo
+000303c0: 7365 647b 6578 747d 2729 0a20 2020 2020  sed{ext}').     
+000303d0: 2020 2069 6620 706f 7369 7469 6f6e 203d     if position =
+000303e0: 3d20 504f 5349 5449 4f4e 535b 305d 3a0a  = POSITIONS[0]:.
+000303f0: 2020 2020 2020 2020 2020 2020 636d 6420              cmd 
+00030400: 3d20 6622 6666 6d70 6567 202d 6920 277b  = f"ffmpeg -i '{
+00030410: 7669 6465 6f5f 7061 7468 7d27 202d 7666  video_path}' -vf
+00030420: 205c 2264 7261 7774 6578 743d 666f 6e74   \"drawtext=font
+00030430: 6669 6c65 3d7b 666f 6e74 5f70 6174 687d  file={font_path}
+00030440: 3a74 6578 743d 7b76 6964 656f 5f6e 616d  :text={video_nam
+00030450: 657d 3a78 3d35 3a79 3d35 3a66 6f6e 7473  e}:x=5:y=5:fonts
+00030460: 697a 653d 7b66 6f6e 745f 7369 7a65 7d3a  ize={font_size}:
+00030470: 666f 6e74 636f 6c6f 723d 7b66 6f6e 745f  fontcolor={font_
+00030480: 636f 6c6f 727d 3a62 6f72 6465 7277 3d7b  color}:borderw={
+00030490: 666f 6e74 5f62 6f72 6465 725f 7769 6474  font_border_widt
+000304a0: 687d 3a62 6f72 6465 7263 6f6c 6f72 3d7b  h}:bordercolor={
+000304b0: 666f 6e74 5f62 6f72 6465 725f 636f 6c6f  font_border_colo
+000304c0: 727d 5c22 202d 633a 6120 636f 7079 2027  r}\" -c:a copy '
+000304d0: 7b73 6176 655f 7061 7468 7d27 202d 6c6f  {save_path}' -lo
+000304e0: 676c 6576 656c 2065 7272 6f72 202d 7374  glevel error -st
+000304f0: 6174 7320 2d68 6964 655f 6261 6e6e 6572  ats -hide_banner
+00030500: 202d 7922 0a20 2020 2020 2020 2065 6c69   -y".        eli
+00030510: 6620 706f 7369 7469 6f6e 203d 3d20 504f  f position == PO
+00030520: 5349 5449 4f4e 535b 315d 3a0a 2020 2020  SITIONS[1]:.    
+00030530: 2020 2020 2020 2020 636d 6420 3d20 6622          cmd = f"
+00030540: 6666 6d70 6567 202d 6920 277b 7669 6465  ffmpeg -i '{vide
+00030550: 6f5f 7061 7468 7d27 202d 7666 205c 2264  o_path}' -vf \"d
+00030560: 7261 7774 6578 743d 666f 6e74 6669 6c65  rawtext=fontfile
+00030570: 3d7b 666f 6e74 5f70 6174 687d 3a74 6578  ={font_path}:tex
+00030580: 743d 7b76 6964 656f 5f6e 616d 657d 3a78  t={video_name}:x
+00030590: 3d28 772d 7477 2d35 293a 793d 353a 666f  =(w-tw-5):y=5:fo
+000305a0: 6e74 7369 7a65 3d7b 666f 6e74 5f73 697a  ntsize={font_siz
+000305b0: 657d 3a66 6f6e 7463 6f6c 6f72 3d7b 666f  e}:fontcolor={fo
+000305c0: 6e74 5f63 6f6c 6f72 7d3a 626f 7264 6572  nt_color}:border
+000305d0: 773d 7b66 6f6e 745f 626f 7264 6572 5f77  w={font_border_w
+000305e0: 6964 7468 7d3a 626f 7264 6572 636f 6c6f  idth}:bordercolo
+000305f0: 723d 7b66 6f6e 745f 626f 7264 6572 5f63  r={font_border_c
+00030600: 6f6c 6f72 7d5c 2220 2d63 3a61 2063 6f70  olor}\" -c:a cop
+00030610: 7920 277b 7361 7665 5f70 6174 687d 2720  y '{save_path}' 
+00030620: 2d6c 6f67 6c65 7665 6c20 6572 726f 7220  -loglevel error 
+00030630: 2d73 7461 7473 202d 6869 6465 5f62 616e  -stats -hide_ban
+00030640: 6e65 7220 2d79 220a 2020 2020 2020 2020  ner -y".        
+00030650: 656c 6966 2070 6f73 6974 696f 6e20 3d3d  elif position ==
+00030660: 2050 4f53 4954 494f 4e53 5b32 5d3a 0a20   POSITIONS[2]:. 
+00030670: 2020 2020 2020 2020 2020 2063 6d64 203d             cmd =
+00030680: 2066 2266 666d 7065 6720 2d69 2027 7b76   f"ffmpeg -i '{v
+00030690: 6964 656f 5f70 6174 687d 2720 2d76 6620  ideo_path}' -vf 
+000306a0: 5c22 6472 6177 7465 7874 3d66 6f6e 7466  \"drawtext=fontf
+000306b0: 696c 653d 7b66 6f6e 745f 7061 7468 7d3a  ile={font_path}:
+000306c0: 7465 7874 3d7b 7669 6465 6f5f 6e61 6d65  text={video_name
+000306d0: 7d3a 783d 353a 793d 2868 2d74 682d 3529  }:x=5:y=(h-th-5)
+000306e0: 3a66 6f6e 7473 697a 653d 7b66 6f6e 745f  :fontsize={font_
+000306f0: 7369 7a65 7d3a 666f 6e74 636f 6c6f 723d  size}:fontcolor=
+00030700: 7b66 6f6e 745f 636f 6c6f 727d 3a62 6f72  {font_color}:bor
+00030710: 6465 7277 3d7b 666f 6e74 5f62 6f72 6465  derw={font_borde
+00030720: 725f 7769 6474 687d 3a62 6f72 6465 7263  r_width}:borderc
+00030730: 6f6c 6f72 3d7b 666f 6e74 5f62 6f72 6465  olor={font_borde
+00030740: 725f 636f 6c6f 727d 5c22 202d 633a 6120  r_color}\" -c:a 
+00030750: 636f 7079 2027 7b73 6176 655f 7061 7468  copy '{save_path
+00030760: 7d27 202d 6c6f 676c 6576 656c 2065 7272  }' -loglevel err
+00030770: 6f72 202d 7374 6174 7320 2d68 6964 655f  or -stats -hide_
+00030780: 6261 6e6e 6572 202d 7922 0a20 2020 2020  banner -y".     
+00030790: 2020 2065 6c69 6620 706f 7369 7469 6f6e     elif position
+000307a0: 203d 3d20 504f 5349 5449 4f4e 535b 335d   == POSITIONS[3]
+000307b0: 3a0a 2020 2020 2020 2020 2020 2020 636d  :.            cm
+000307c0: 6420 3d20 6622 6666 6d70 6567 202d 6920  d = f"ffmpeg -i 
+000307d0: 277b 7669 6465 6f5f 7061 7468 7d27 202d  '{video_path}' -
+000307e0: 7666 205c 2264 7261 7774 6578 743d 666f  vf \"drawtext=fo
+000307f0: 6e74 6669 6c65 3d7b 666f 6e74 5f70 6174  ntfile={font_pat
+00030800: 687d 3a74 6578 743d 7b76 6964 656f 5f6e  h}:text={video_n
+00030810: 616d 657d 3a78 3d28 772d 7477 2d35 293a  ame}:x=(w-tw-5):
+00030820: 793d 2868 2d74 682d 3529 3a66 6f6e 7473  y=(h-th-5):fonts
+00030830: 697a 653d 7b66 6f6e 745f 7369 7a65 7d3a  ize={font_size}:
+00030840: 666f 6e74 636f 6c6f 723d 7b66 6f6e 745f  fontcolor={font_
+00030850: 636f 6c6f 727d 3a62 6f72 6465 7277 3d7b  color}:borderw={
+00030860: 666f 6e74 5f62 6f72 6465 725f 7769 6474  font_border_widt
+00030870: 687d 3a62 6f72 6465 7263 6f6c 6f72 3d7b  h}:bordercolor={
+00030880: 666f 6e74 5f62 6f72 6465 725f 636f 6c6f  font_border_colo
+00030890: 727d 5c22 202d 633a 6120 636f 7079 2027  r}\" -c:a copy '
+000308a0: 7b73 6176 655f 7061 7468 7d27 202d 6c6f  {save_path}' -lo
+000308b0: 676c 6576 656c 2065 7272 6f72 202d 7374  glevel error -st
+000308c0: 6174 7320 2d68 6964 655f 6261 6e6e 6572  ats -hide_banner
+000308d0: 202d 7922 0a20 2020 2020 2020 2065 6c69   -y".        eli
+000308e0: 6620 706f 7369 7469 6f6e 203d 3d20 504f  f position == PO
+000308f0: 5349 5449 4f4e 535b 345d 3a0a 2020 2020  SITIONS[4]:.    
+00030900: 2020 2020 2020 2020 636d 6420 3d20 6622          cmd = f"
+00030910: 6666 6d70 6567 202d 6920 277b 7669 6465  ffmpeg -i '{vide
+00030920: 6f5f 7061 7468 7d27 202d 7666 205c 2264  o_path}' -vf \"d
+00030930: 7261 7774 6578 743d 666f 6e74 6669 6c65  rawtext=fontfile
+00030940: 3d7b 666f 6e74 5f70 6174 687d 3a74 6578  ={font_path}:tex
+00030950: 743d 7b76 6964 656f 5f6e 616d 657d 3a78  t={video_name}:x
+00030960: 3d28 772d 7477 292f 323a 793d 3130 3a66  =(w-tw)/2:y=10:f
+00030970: 6f6e 7473 697a 653d 7b66 6f6e 745f 7369  ontsize={font_si
+00030980: 7a65 7d3a 666f 6e74 636f 6c6f 723d 7b66  ze}:fontcolor={f
+00030990: 6f6e 745f 636f 6c6f 727d 3a62 6f72 6465  ont_color}:borde
+000309a0: 7277 3d7b 666f 6e74 5f62 6f72 6465 725f  rw={font_border_
+000309b0: 7769 6474 687d 3a62 6f72 6465 7263 6f6c  width}:bordercol
+000309c0: 6f72 3d7b 666f 6e74 5f62 6f72 6465 725f  or={font_border_
+000309d0: 636f 6c6f 727d 5c22 202d 633a 6120 636f  color}\" -c:a co
+000309e0: 7079 2027 7b73 6176 655f 7061 7468 7d27  py '{save_path}'
+000309f0: 202d 6c6f 676c 6576 656c 2065 7272 6f72   -loglevel error
+00030a00: 202d 7374 6174 7320 2d68 6964 655f 6261   -stats -hide_ba
+00030a10: 6e6e 6572 202d 7922 0a20 2020 2020 2020  nner -y".       
+00030a20: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00030a30: 2020 2063 6d64 203d 2066 2266 666d 7065     cmd = f"ffmpe
+00030a40: 6720 2d69 2027 7b76 6964 656f 5f70 6174  g -i '{video_pat
+00030a50: 687d 2720 2d76 6620 5c22 6472 6177 7465  h}' -vf \"drawte
+00030a60: 7874 3d66 6f6e 7466 696c 653d 7b66 6f6e  xt=fontfile={fon
+00030a70: 745f 7061 7468 7d3a 7465 7874 3d7b 7669  t_path}:text={vi
+00030a80: 6465 6f5f 6e61 6d65 7d3a 783d 2877 2d74  deo_name}:x=(w-t
+00030a90: 7729 2f32 3a79 3d28 682d 7468 2d31 3029  w)/2:y=(h-th-10)
+00030aa0: 3a66 6f6e 7473 697a 653d 7b66 6f6e 745f  :fontsize={font_
+00030ab0: 7369 7a65 7d3a 666f 6e74 636f 6c6f 723d  size}:fontcolor=
+00030ac0: 7b66 6f6e 745f 636f 6c6f 727d 3a62 6f72  {font_color}:bor
+00030ad0: 6465 7277 3d7b 666f 6e74 5f62 6f72 6465  derw={font_borde
+00030ae0: 725f 7769 6474 687d 3a62 6f72 6465 7263  r_width}:borderc
+00030af0: 6f6c 6f72 3d7b 666f 6e74 5f62 6f72 6465  olor={font_borde
+00030b00: 725f 636f 6c6f 727d 5c22 202d 633a 6120  r_color}\" -c:a 
+00030b10: 636f 7079 2027 7b73 6176 655f 7061 7468  copy '{save_path
+00030b20: 7d27 202d 6c6f 676c 6576 656c 2065 7272  }' -loglevel err
+00030b30: 6f72 202d 7374 6174 7320 2d68 6964 655f  or -stats -hide_
+00030b40: 6261 6e6e 6572 202d 7922 0a20 2020 2020  banner -y".     
+00030b50: 2020 2073 7562 7072 6f63 6573 732e 6361     subprocess.ca
+00030b60: 6c6c 2863 6d64 2c20 7368 656c 6c3d 5472  ll(cmd, shell=Tr
+00030b70: 7565 2c20 7374 646f 7574 3d73 7562 7072  ue, stdout=subpr
+00030b80: 6f63 6573 732e 5049 5045 290a 2020 2020  ocess.PIPE).    
+00030b90: 7469 6d65 722e 7374 6f70 5f74 696d 6572  timer.stop_timer
+00030ba0: 2829 0a20 2020 2073 7464 6f75 745f 7375  ().    stdout_su
+00030bb0: 6363 6573 7328 6d73 673d 6627 5375 7065  ccess(msg=f'Supe
+00030bc0: 722d 696d 706f 7365 6420 7669 6465 6f20  r-imposed video 
+00030bd0: 6e61 6d65 206f 6e20 7b6c 656e 2876 6964  name on {len(vid
+00030be0: 656f 5f70 6174 6873 297d 2076 6964 656f  eo_paths)} video
+00030bf0: 2873 292c 2073 6176 6564 2069 6e20 7b73  (s), saved in {s
+00030c00: 6176 655f 6469 727d 272c 2065 6c61 7073  ave_dir}', elaps
+00030c10: 6564 5f74 696d 653d 7469 6d65 722e 656c  ed_time=timer.el
+00030c20: 6170 7365 645f 7469 6d65 5f73 7472 290a  apsed_time_str).
+00030c30: 0a64 6566 2073 7570 6572 696d 706f 7365  .def superimpose
+00030c40: 5f66 7265 6574 6578 7428 7669 6465 6f5f  _freetext(video_
+00030c50: 7061 7468 3a20 556e 696f 6e5b 7374 722c  path: Union[str,
+00030c60: 206f 732e 5061 7468 4c69 6b65 5d2c 0a20   os.PathLike],. 
+00030c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030c80: 2020 2020 2020 2020 7465 7874 3a20 7374          text: st
+00030c90: 722c 0a20 2020 2020 2020 2020 2020 2020  r,.             
+00030ca0: 2020 2020 2020 2020 2020 2020 666f 6e74              font
+00030cb0: 3a20 4f70 7469 6f6e 616c 5b73 7472 5d20  : Optional[str] 
+00030cc0: 3d20 2741 7269 616c 272c 0a20 2020 2020  = 'Arial',.     
+00030cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030ce0: 2020 2020 666f 6e74 5f73 697a 653a 204f      font_size: O
+00030cf0: 7074 696f 6e61 6c5b 696e 745d 203d 2033  ptional[int] = 3
+00030d00: 302c 0a20 2020 2020 2020 2020 2020 2020  0,.             
+00030d10: 2020 2020 2020 2020 2020 2020 666f 6e74              font
+00030d20: 5f63 6f6c 6f72 3a20 4f70 7469 6f6e 616c  _color: Optional
+00030d30: 5b73 7472 5d20 3d20 2777 6869 7465 272c  [str] = 'white',
+00030d40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00030d50: 2020 2020 2020 2020 2020 666f 6e74 5f62            font_b
+00030d60: 6f72 6465 725f 636f 6c6f 723a 204f 7074  order_color: Opt
+00030d70: 696f 6e61 6c5b 7374 725d 203d 2027 626c  ional[str] = 'bl
+00030d80: 6163 6b27 2c0a 2020 2020 2020 2020 2020  ack',.          
+00030d90: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+00030da0: 6f6e 745f 626f 7264 6572 5f77 6964 7468  ont_border_width
+00030db0: 3a20 4f70 7469 6f6e 616c 5b69 6e74 5d20  : Optional[int] 
+00030dc0: 3d20 322c 0a20 2020 2020 2020 2020 2020  = 2,.           
+00030dd0: 2020 2020 2020 2020 2020 2020 2020 706f                po
+00030de0: 7369 7469 6f6e 3a20 4f70 7469 6f6e 616c  sition: Optional
+00030df0: 5b4c 6974 6572 616c 5b27 746f 705f 6c65  [Literal['top_le
+00030e00: 6674 272c 2027 746f 705f 7269 6768 7427  ft', 'top_right'
+00030e10: 2c20 2762 6f74 746f 6d5f 6c65 6674 272c  , 'bottom_left',
+00030e20: 2027 626f 7474 6f6d 5f72 6967 6874 272c   'bottom_right',
+00030e30: 2027 6d69 6464 6c65 5f74 6f70 272c 2027   'middle_top', '
+00030e40: 6d69 6464 6c65 5f62 6f74 746f 6d27 5d5d  middle_bottom']]
+00030e50: 203d 2027 746f 705f 6c65 6674 272c 0a20   = 'top_left',. 
+00030e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030e70: 2020 2020 2020 2020 7361 7665 5f64 6972          save_dir
+00030e80: 3a20 4f70 7469 6f6e 616c 5b55 6e69 6f6e  : Optional[Union
+00030e90: 5b73 7472 2c20 6f73 2e50 6174 684c 696b  [str, os.PathLik
+00030ea0: 655d 5d20 3d20 4e6f 6e65 2920 2d3e 204e  e]] = None) -> N
+00030eb0: 6f6e 653a 0a20 2020 2022 2222 0a20 2020  one:.    """.   
+00030ec0: 2053 7570 6572 696d 706f 7365 7320 7061   Superimposes pa
+00030ed0: 7373 6564 2074 6578 7420 6f6e 2074 6865  ssed text on the
+00030ee0: 2067 6976 656e 2076 6964 656f 2066 696c   given video fil
+00030ef0: 6528 7329 2061 6e64 2073 6176 6573 2074  e(s) and saves t
+00030f00: 6865 206d 6f64 6966 6965 6420 7669 6465  he modified vide
+00030f10: 6f28 7329 2e0a 0a20 2020 202e 2e20 7669  o(s)...    .. vi
+00030f20: 6465 6f3a 3a20 5f73 7461 7469 632f 696d  deo:: _static/im
+00030f30: 672f 7375 7065 7269 6d70 6f73 655f 6672  g/superimpose_fr
+00030f40: 6565 7465 7874 2e77 6562 6d0a 2020 2020  eetext.webm.    
+00030f50: 2020 203a 7769 6474 683a 2039 3030 0a20     :width: 900. 
+00030f60: 2020 2020 2020 3a6c 6f6f 703a 0a0a 2020        :loop:..  
+00030f70: 2020 3a70 6172 616d 2055 6e69 6f6e 5b73    :param Union[s
+00030f80: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
+00030f90: 2076 6964 656f 5f70 6174 683a 2050 6174   video_path: Pat
+00030fa0: 6820 746f 2074 6865 2069 6e70 7574 2076  h to the input v
+00030fb0: 6964 656f 2066 696c 6520 6f72 2064 6972  ideo file or dir
+00030fc0: 6563 746f 7279 2063 6f6e 7461 696e 696e  ectory containin
+00030fd0: 6720 7669 6465 6f20 6669 6c65 732e 0a20  g video files.. 
+00030fe0: 2020 203a 7061 7261 6d20 7374 7220 7465     :param str te
+00030ff0: 7874 3a20 5468 6520 7465 7874 2074 6f20  xt: The text to 
+00031000: 6f76 6572 6c61 7920 6f6e 2074 6865 2076  overlay on the v
+00031010: 6964 656f 0a20 2020 203a 7061 7261 6d20  ideo.    :param 
+00031020: 4f70 7469 6f6e 616c 5b69 6e74 5d20 666f  Optional[int] fo
+00031030: 6e74 5f73 697a 653a 2046 6f6e 7420 7369  nt_size: Font si
+00031040: 7a65 2066 6f72 2074 6865 2074 6578 742e  ze for the text.
+00031050: 2044 6566 6175 6c74 2033 302e 0a20 2020   Default 30..   
+00031060: 203a 7061 7261 6d20 4f70 7469 6f6e 616c   :param Optional
+00031070: 5b73 7472 5d20 666f 6e74 5f63 6f6c 6f72  [str] font_color
+00031080: 3a20 2046 6f6e 7420 636f 6c6f 7220 666f  :  Font color fo
+00031090: 7220 7465 7874 2e20 4465 6661 756c 7420  r text. Default 
+000310a0: 7768 6974 650a 2020 2020 3a70 6172 616d  white.    :param
+000310b0: 204f 7074 696f 6e61 6c5b 7374 725d 2066   Optional[str] f
+000310c0: 6f6e 745f 626f 7264 6572 5f63 6f6c 6f72  ont_border_color
+000310d0: 3a20 466f 6e74 2062 6f72 6465 7220 636f  : Font border co
+000310e0: 6c6f 7220 666f 7220 7468 6520 7465 7874  lor for the text
+000310f0: 2e20 4465 6661 756c 7420 626c 6163 6b2e  . Default black.
+00031100: 0a20 2020 203a 7061 7261 6d20 4f70 7469  .    :param Opti
+00031110: 6f6e 616c 5b69 6e74 5d20 666f 6e74 5f62  onal[int] font_b
+00031120: 6f72 6465 725f 7769 6474 683a 2046 6f6e  order_width: Fon
+00031130: 7420 626f 7264 6572 2077 6964 7468 2066  t border width f
+00031140: 6f72 2074 6865 2074 6578 7420 696e 2070  or the text in p
+00031150: 6978 656c 732e 2044 6566 6175 6c74 2032  ixels. Default 2
+00031160: 2e0a 2020 2020 3a70 6172 616d 204f 7074  ..    :param Opt
+00031170: 696f 6e61 6c5b 4c69 7465 7261 6c5b 2774  ional[Literal['t
+00031180: 6f70 5f6c 6566 7427 2c20 2774 6f70 5f72  op_left', 'top_r
+00031190: 6967 6874 272c 2027 626f 7474 6f6d 5f6c  ight', 'bottom_l
+000311a0: 6566 7427 2c20 2762 6f74 746f 6d5f 7269  eft', 'bottom_ri
+000311b0: 6768 7427 2c20 2774 6f70 5f6d 6964 646c  ght', 'top_middl
+000311c0: 6527 2c20 2762 6f74 746f 6d5f 6d69 6464  e', 'bottom_midd
+000311d0: 6c65 275d 5d20 706f 7369 7469 6f6e 3a20  le']] position: 
+000311e0: 506f 7369 7469 6f6e 2077 6865 7265 2074  Position where t
+000311f0: 6865 2074 6578 7420 7769 6c6c 2062 6520  he text will be 
+00031200: 7375 7065 7269 6d70 6f73 6564 2e20 4465  superimposed. De
+00031210: 6661 756c 7420 6060 746f 705f 6c65 6674  fault ``top_left
+00031220: 6060 2e0a 2020 2020 3a70 6172 616d 204f  ``..    :param O
+00031230: 7074 696f 6e61 6c5b 556e 696f 6e5b 7374  ptional[Union[st
+00031240: 722c 206f 732e 5061 7468 4c69 6b65 5d5d  r, os.PathLike]]
+00031250: 2073 6176 655f 6469 723a 2044 6972 6563   save_dir: Direc
+00031260: 746f 7279 2077 6865 7265 2074 6865 206d  tory where the m
+00031270: 6f64 6966 6965 6420 7669 6465 6f28 7329  odified video(s)
+00031280: 2077 696c 6c20 6265 2073 6176 6564 2e20   will be saved. 
+00031290: 4966 206e 6f74 2070 726f 7669 6465 642c  If not provided,
+000312a0: 2074 6865 2064 6972 6563 746f 7279 206f   the directory o
+000312b0: 6620 7468 6520 696e 7075 7420 7669 6465  f the input vide
+000312c0: 6f28 7329 2077 696c 6c20 6265 2075 7365  o(s) will be use
+000312d0: 642e 0a20 2020 203a 7265 7475 726e 3a20  d..    :return: 
+000312e0: 4e6f 6e65 0a20 2020 2022 2222 0a0a 2020  None.    """..  
+000312f0: 2020 6368 6563 6b5f 6666 6d70 6567 5f61    check_ffmpeg_a
+00031300: 7661 696c 6162 6c65 2872 6169 7365 5f65  vailable(raise_e
+00031310: 7272 6f72 3d54 7275 6529 0a20 2020 2074  rror=True).    t
+00031320: 696d 6572 203d 2053 696d 6261 5469 6d65  imer = SimbaTime
+00031330: 7228 7374 6172 743d 5472 7565 290a 2020  r(start=True).  
+00031340: 2020 504f 5349 5449 4f4e 5320 3d20 5b27    POSITIONS = ['
+00031350: 746f 705f 6c65 6674 272c 2027 746f 705f  top_left', 'top_
+00031360: 7269 6768 7427 2c20 2762 6f74 746f 6d5f  right', 'bottom_
+00031370: 6c65 6674 272c 2027 626f 7474 6f6d 5f72  left', 'bottom_r
+00031380: 6967 6874 272c 2027 746f 705f 6d69 6464  ight', 'top_midd
+00031390: 6c65 272c 2027 626f 7474 6f6d 5f6d 6964  le', 'bottom_mid
+000313a0: 646c 6527 5d0a 2020 2020 6368 6563 6b5f  dle'].    check_
+000313b0: 7374 7228 6e61 6d65 3d66 277b 7375 7065  str(name=f'{supe
+000313c0: 7269 6d70 6f73 655f 6672 6565 7465 7874  rimpose_freetext
+000313d0: 2e5f 5f6e 616d 655f 5f7d 2070 6f73 6974  .__name__} posit
+000313e0: 696f 6e27 2c20 7661 6c75 653d 706f 7369  ion', value=posi
+000313f0: 7469 6f6e 2c20 6f70 7469 6f6e 733d 504f  tion, options=PO
+00031400: 5349 5449 4f4e 5329 0a20 2020 2063 6865  SITIONS).    che
+00031410: 636b 5f69 6e74 286e 616d 653d 6627 7b73  ck_int(name=f'{s
+00031420: 7570 6572 696d 706f 7365 5f66 7265 6574  uperimpose_freet
+00031430: 6578 742e 5f5f 6e61 6d65 5f5f 7d20 666f  ext.__name__} fo
+00031440: 6e74 5f73 697a 6527 2c20 7661 6c75 653d  nt_size', value=
+00031450: 666f 6e74 5f73 697a 652c 206d 696e 5f76  font_size, min_v
+00031460: 616c 7565 3d31 290a 2020 2020 6368 6563  alue=1).    chec
+00031470: 6b5f 696e 7428 6e61 6d65 3d66 277b 7375  k_int(name=f'{su
+00031480: 7065 7269 6d70 6f73 655f 6672 6565 7465  perimpose_freete
+00031490: 7874 2e5f 5f6e 616d 655f 5f7d 2066 6f6e  xt.__name__} fon
+000314a0: 745f 626f 7264 6572 5f77 6964 7468 272c  t_border_width',
+000314b0: 2076 616c 7565 3d66 6f6e 745f 626f 7264   value=font_bord
+000314c0: 6572 5f77 6964 7468 2c20 6d69 6e5f 7661  er_width, min_va
+000314d0: 6c75 653d 3129 0a20 2020 2063 6865 636b  lue=1).    check
+000314e0: 5f73 7472 286e 616d 653d 6627 7b73 7570  _str(name=f'{sup
+000314f0: 6572 696d 706f 7365 5f66 7265 6574 6578  erimpose_freetex
+00031500: 742e 5f5f 6e61 6d65 5f5f 7d20 7465 7874  t.__name__} text
+00031510: 272c 2076 616c 7565 3d74 6578 7429 0a20  ', value=text). 
+00031520: 2020 2066 6f6e 745f 6469 6374 203d 2067     font_dict = g
+00031530: 6574 5f66 6f6e 7473 2829 0a20 2020 2063  et_fonts().    c
+00031540: 6865 636b 5f73 7472 286e 616d 653d 2766  heck_str(name='f
+00031550: 6f6e 7427 2c20 7661 6c75 653d 666f 6e74  ont', value=font
+00031560: 2c20 6f70 7469 6f6e 733d 7475 706c 6528  , options=tuple(
+00031570: 666f 6e74 5f64 6963 742e 6b65 7973 2829  font_dict.keys()
+00031580: 2929 0a20 2020 2066 6f6e 745f 7061 7468  )).    font_path
+00031590: 203d 2066 6f6e 745f 6469 6374 5b66 6f6e   = font_dict[fon
+000315a0: 745d 0a20 2020 2066 6f6e 745f 636f 6c6f  t].    font_colo
+000315b0: 7220 3d20 2727 2e6a 6f69 6e28 6669 6c74  r = ''.join(filt
+000315c0: 6572 2873 7472 2e69 7361 6c6e 756d 2c20  er(str.isalnum, 
+000315d0: 666f 6e74 5f63 6f6c 6f72 2929 2e6c 6f77  font_color)).low
+000315e0: 6572 2829 0a20 2020 2066 6f6e 745f 626f  er().    font_bo
+000315f0: 7264 6572 5f63 6f6c 6f72 203d 2027 272e  rder_color = ''.
+00031600: 6a6f 696e 2866 696c 7465 7228 7374 722e  join(filter(str.
+00031610: 6973 616c 6e75 6d2c 2066 6f6e 745f 626f  isalnum, font_bo
+00031620: 7264 6572 5f63 6f6c 6f72 2929 2e6c 6f77  rder_color)).low
+00031630: 6572 2829 0a20 2020 2069 6620 6f73 2e70  er().    if os.p
+00031640: 6174 682e 6973 6669 6c65 2876 6964 656f  ath.isfile(video
+00031650: 5f70 6174 6829 3a0a 2020 2020 2020 2020  _path):.        
+00031660: 7669 6465 6f5f 7061 7468 7320 3d20 5b76  video_paths = [v
+00031670: 6964 656f 5f70 6174 685d 0a20 2020 2065  ideo_path].    e
+00031680: 6c69 6620 6f73 2e70 6174 682e 6973 6469  lif os.path.isdi
+00031690: 7228 7669 6465 6f5f 7061 7468 293a 0a20  r(video_path):. 
+000316a0: 2020 2020 2020 2076 6964 656f 5f70 6174         video_pat
+000316b0: 6873 203d 206c 6973 7428 6669 6e64 5f61  hs = list(find_a
+000316c0: 6c6c 5f76 6964 656f 735f 696e 5f64 6972  ll_videos_in_dir
+000316d0: 6563 746f 7279 2864 6972 6563 746f 7279  ectory(directory
+000316e0: 3d76 6964 656f 5f70 6174 682c 2061 735f  =video_path, as_
+000316f0: 6469 6374 3d54 7275 652c 2072 6169 7365  dict=True, raise
+00031700: 5f65 7272 6f72 3d54 7275 6529 2e76 616c  _error=True).val
+00031710: 7565 7328 2929 0a20 2020 2065 6c73 653a  ues()).    else:
+00031720: 0a20 2020 2020 2020 2072 6169 7365 2049  .        raise I
+00031730: 6e76 616c 6964 496e 7075 7445 7272 6f72  nvalidInputError
+00031740: 286d 7367 3d66 277b 7669 6465 6f5f 7061  (msg=f'{video_pa
+00031750: 7468 7d20 6973 206e 6f74 2061 2076 616c  th} is not a val
+00031760: 6964 2066 696c 6520 7061 7468 206f 7220  id file path or 
+00031770: 6120 7661 6c69 6420 6469 7265 6374 6f72  a valid director
+00031780: 7920 7061 7468 272c 2073 6f75 7263 653d  y path', source=
+00031790: 7375 7065 7269 6d70 6f73 655f 7669 6465  superimpose_vide
+000317a0: 6f5f 6e61 6d65 732e 5f5f 6e61 6d65 5f5f  o_names.__name__
+000317b0: 290a 2020 2020 6966 2073 6176 655f 6469  ).    if save_di
+000317c0: 7220 6973 206e 6f74 204e 6f6e 653a 0a20  r is not None:. 
+000317d0: 2020 2020 2020 2063 6865 636b 5f69 665f         check_if_
+000317e0: 6469 725f 6578 6973 7473 2869 6e5f 6469  dir_exists(in_di
+000317f0: 723d 7361 7665 5f64 6972 290a 2020 2020  r=save_dir).    
+00031800: 656c 7365 3a0a 2020 2020 2020 2020 7361  else:.        sa
+00031810: 7665 5f64 6972 203d 206f 732e 7061 7468  ve_dir = os.path
+00031820: 2e64 6972 6e61 6d65 2876 6964 656f 5f70  .dirname(video_p
+00031830: 6174 6873 5b30 5d29 0a20 2020 2066 6f72  aths[0]).    for
+00031840: 2066 696c 655f 636e 742c 2076 6964 656f   file_cnt, video
+00031850: 5f70 6174 6820 696e 2065 6e75 6d65 7261  _path in enumera
+00031860: 7465 2876 6964 656f 5f70 6174 6873 293a  te(video_paths):
+00031870: 0a20 2020 2020 2020 205f 2c20 7669 6465  .        _, vide
+00031880: 6f5f 6e61 6d65 2c20 6578 7420 3d20 6765  o_name, ext = ge
+00031890: 745f 666e 5f65 7874 2876 6964 656f 5f70  t_fn_ext(video_p
+000318a0: 6174 6829 0a20 2020 2020 2020 2070 7269  ath).        pri
+000318b0: 6e74 2866 2753 7570 6572 696d 706f 7369  nt(f'Superimposi
+000318c0: 6e67 2076 6964 656f 206e 616d 6520 6f6e  ng video name on
+000318d0: 207b 7669 6465 6f5f 6e61 6d65 7d20 2856   {video_name} (V
+000318e0: 6964 656f 207b 6669 6c65 5f63 6e74 202b  ideo {file_cnt +
+000318f0: 2031 7d2f 7b6c 656e 2876 6964 656f 5f70   1}/{len(video_p
+00031900: 6174 6873 297d 292e 2e2e 2729 0a20 2020  aths)})...').   
+00031910: 2020 2020 2073 6176 655f 7061 7468 203d       save_path =
+00031920: 206f 732e 7061 7468 2e6a 6f69 6e28 7361   os.path.join(sa
+00031930: 7665 5f64 6972 2c20 6627 7b76 6964 656f  ve_dir, f'{video
+00031940: 5f6e 616d 657d 5f74 6578 745f 7375 7065  _name}_text_supe
+00031950: 7269 6d70 6f73 6564 7b65 7874 7d27 290a  rimposed{ext}').
+00031960: 2020 2020 2020 2020 6966 2070 6f73 6974          if posit
+00031970: 696f 6e20 3d3d 2050 4f53 4954 494f 4e53  ion == POSITIONS
+00031980: 5b30 5d3a 0a20 2020 2020 2020 2020 2020  [0]:.           
+00031990: 2063 6d64 203d 2066 2266 666d 7065 6720   cmd = f"ffmpeg 
+000319a0: 2d69 2027 7b76 6964 656f 5f70 6174 687d  -i '{video_path}
+000319b0: 2720 2d76 6620 5c22 6472 6177 7465 7874  ' -vf \"drawtext
+000319c0: 3d66 6f6e 7466 696c 653d 7b66 6f6e 745f  =fontfile={font_
+000319d0: 7061 7468 7d3a 7465 7874 3d7b 7465 7874  path}:text={text
+000319e0: 7d3a 783d 353a 793d 353a 666f 6e74 7369  }:x=5:y=5:fontsi
+000319f0: 7a65 3d7b 666f 6e74 5f73 697a 657d 3a66  ze={font_size}:f
+00031a00: 6f6e 7463 6f6c 6f72 3d7b 666f 6e74 5f63  ontcolor={font_c
+00031a10: 6f6c 6f72 7d3a 626f 7264 6572 773d 7b66  olor}:borderw={f
+00031a20: 6f6e 745f 626f 7264 6572 5f77 6964 7468  ont_border_width
+00031a30: 7d3a 626f 7264 6572 636f 6c6f 723d 7b66  }:bordercolor={f
+00031a40: 6f6e 745f 626f 7264 6572 5f63 6f6c 6f72  ont_border_color
+00031a50: 7d5c 2220 2d63 3a61 2063 6f70 7920 277b  }\" -c:a copy '{
+00031a60: 7361 7665 5f70 6174 687d 2720 2d6c 6f67  save_path}' -log
+00031a70: 6c65 7665 6c20 6572 726f 7220 2d73 7461  level error -sta
+00031a80: 7473 202d 6869 6465 5f62 616e 6e65 7220  ts -hide_banner 
+00031a90: 2d79 220a 2020 2020 2020 2020 656c 6966  -y".        elif
+00031aa0: 2070 6f73 6974 696f 6e20 3d3d 2050 4f53   position == POS
+00031ab0: 4954 494f 4e53 5b31 5d3a 0a20 2020 2020  ITIONS[1]:.     
+00031ac0: 2020 2020 2020 2063 6d64 203d 2066 2266         cmd = f"f
+00031ad0: 666d 7065 6720 2d69 2027 7b76 6964 656f  fmpeg -i '{video
+00031ae0: 5f70 6174 687d 2720 2d76 6620 5c22 6472  _path}' -vf \"dr
+00031af0: 6177 7465 7874 3d66 6f6e 7466 696c 653d  awtext=fontfile=
+00031b00: 7b66 6f6e 745f 7061 7468 7d3a 7465 7874  {font_path}:text
+00031b10: 3d7b 7465 7874 7d3a 783d 2877 2d74 772d  ={text}:x=(w-tw-
+00031b20: 3529 3a79 3d35 3a66 6f6e 7473 697a 653d  5):y=5:fontsize=
+00031b30: 7b66 6f6e 745f 7369 7a65 7d3a 666f 6e74  {font_size}:font
+00031b40: 636f 6c6f 723d 7b66 6f6e 745f 636f 6c6f  color={font_colo
+00031b50: 727d 3a62 6f72 6465 7277 3d7b 666f 6e74  r}:borderw={font
+00031b60: 5f62 6f72 6465 725f 7769 6474 687d 3a62  _border_width}:b
+00031b70: 6f72 6465 7263 6f6c 6f72 3d7b 666f 6e74  ordercolor={font
+00031b80: 5f62 6f72 6465 725f 636f 6c6f 727d 5c22  _border_color}\"
+00031b90: 202d 633a 6120 636f 7079 2027 7b73 6176   -c:a copy '{sav
+00031ba0: 655f 7061 7468 7d27 202d 6c6f 676c 6576  e_path}' -loglev
+00031bb0: 656c 2065 7272 6f72 202d 7374 6174 7320  el error -stats 
+00031bc0: 2d68 6964 655f 6261 6e6e 6572 202d 7922  -hide_banner -y"
+00031bd0: 0a20 2020 2020 2020 2065 6c69 6620 706f  .        elif po
+00031be0: 7369 7469 6f6e 203d 3d20 504f 5349 5449  sition == POSITI
+00031bf0: 4f4e 535b 325d 3a0a 2020 2020 2020 2020  ONS[2]:.        
+00031c00: 2020 2020 636d 6420 3d20 6622 6666 6d70      cmd = f"ffmp
+00031c10: 6567 202d 6920 277b 7669 6465 6f5f 7061  eg -i '{video_pa
+00031c20: 7468 7d27 202d 7666 205c 2264 7261 7774  th}' -vf \"drawt
+00031c30: 6578 743d 666f 6e74 6669 6c65 3d7b 666f  ext=fontfile={fo
+00031c40: 6e74 5f70 6174 687d 3a74 6578 743d 7b74  nt_path}:text={t
+00031c50: 6578 747d 3a78 3d35 3a79 3d28 682d 7468  ext}:x=5:y=(h-th
+00031c60: 2d35 293a 666f 6e74 7369 7a65 3d7b 666f  -5):fontsize={fo
+00031c70: 6e74 5f73 697a 657d 3a66 6f6e 7463 6f6c  nt_size}:fontcol
+00031c80: 6f72 3d7b 666f 6e74 5f63 6f6c 6f72 7d3a  or={font_color}:
+00031c90: 626f 7264 6572 773d 7b66 6f6e 745f 626f  borderw={font_bo
+00031ca0: 7264 6572 5f77 6964 7468 7d3a 626f 7264  rder_width}:bord
+00031cb0: 6572 636f 6c6f 723d 7b66 6f6e 745f 626f  ercolor={font_bo
+00031cc0: 7264 6572 5f63 6f6c 6f72 7d5c 2220 2d63  rder_color}\" -c
+00031cd0: 3a61 2063 6f70 7920 277b 7361 7665 5f70  :a copy '{save_p
+00031ce0: 6174 687d 2720 2d6c 6f67 6c65 7665 6c20  ath}' -loglevel 
+00031cf0: 6572 726f 7220 2d73 7461 7473 202d 6869  error -stats -hi
+00031d00: 6465 5f62 616e 6e65 7220 2d79 220a 2020  de_banner -y".  
+00031d10: 2020 2020 2020 656c 6966 2070 6f73 6974        elif posit
+00031d20: 696f 6e20 3d3d 2050 4f53 4954 494f 4e53  ion == POSITIONS
+00031d30: 5b33 5d3a 0a20 2020 2020 2020 2020 2020  [3]:.           
+00031d40: 2063 6d64 203d 2066 2266 666d 7065 6720   cmd = f"ffmpeg 
+00031d50: 2d69 2027 7b76 6964 656f 5f70 6174 687d  -i '{video_path}
+00031d60: 2720 2d76 6620 5c22 6472 6177 7465 7874  ' -vf \"drawtext
+00031d70: 3d66 6f6e 7466 696c 653d 7b66 6f6e 745f  =fontfile={font_
+00031d80: 7061 7468 7d3a 7465 7874 3d7b 7465 7874  path}:text={text
+00031d90: 7d3a 783d 2877 2d74 772d 3529 3a79 3d28  }:x=(w-tw-5):y=(
+00031da0: 682d 7468 2d35 293a 666f 6e74 7369 7a65  h-th-5):fontsize
+00031db0: 3d7b 666f 6e74 5f73 697a 657d 3a66 6f6e  ={font_size}:fon
+00031dc0: 7463 6f6c 6f72 3d7b 666f 6e74 5f63 6f6c  tcolor={font_col
+00031dd0: 6f72 7d3a 626f 7264 6572 773d 7b66 6f6e  or}:borderw={fon
+00031de0: 745f 626f 7264 6572 5f77 6964 7468 7d3a  t_border_width}:
+00031df0: 626f 7264 6572 636f 6c6f 723d 7b66 6f6e  bordercolor={fon
+00031e00: 745f 626f 7264 6572 5f63 6f6c 6f72 7d5c  t_border_color}\
+00031e10: 2220 2d63 3a61 2063 6f70 7920 277b 7361  " -c:a copy '{sa
+00031e20: 7665 5f70 6174 687d 2720 2d6c 6f67 6c65  ve_path}' -logle
+00031e30: 7665 6c20 6572 726f 7220 2d73 7461 7473  vel error -stats
+00031e40: 202d 6869 6465 5f62 616e 6e65 7220 2d79   -hide_banner -y
+00031e50: 220a 2020 2020 2020 2020 656c 6966 2070  ".        elif p
+00031e60: 6f73 6974 696f 6e20 3d3d 2050 4f53 4954  osition == POSIT
+00031e70: 494f 4e53 5b34 5d3a 0a20 2020 2020 2020  IONS[4]:.       
+00031e80: 2020 2020 2063 6d64 203d 2066 2266 666d       cmd = f"ffm
+00031e90: 7065 6720 2d69 2027 7b76 6964 656f 5f70  peg -i '{video_p
+00031ea0: 6174 687d 2720 2d76 6620 5c22 6472 6177  ath}' -vf \"draw
+00031eb0: 7465 7874 3d66 6f6e 7466 696c 653d 7b66  text=fontfile={f
+00031ec0: 6f6e 745f 7061 7468 7d3a 7465 7874 3d7b  ont_path}:text={
+00031ed0: 7465 7874 7d3a 783d 2877 2d74 7729 2f32  text}:x=(w-tw)/2
+00031ee0: 3a79 3d31 303a 666f 6e74 7369 7a65 3d7b  :y=10:fontsize={
+00031ef0: 666f 6e74 5f73 697a 657d 3a66 6f6e 7463  font_size}:fontc
+00031f00: 6f6c 6f72 3d7b 666f 6e74 5f63 6f6c 6f72  olor={font_color
+00031f10: 7d3a 626f 7264 6572 773d 7b66 6f6e 745f  }:borderw={font_
+00031f20: 626f 7264 6572 5f77 6964 7468 7d3a 626f  border_width}:bo
+00031f30: 7264 6572 636f 6c6f 723d 7b66 6f6e 745f  rdercolor={font_
+00031f40: 626f 7264 6572 5f63 6f6c 6f72 7d5c 2220  border_color}\" 
+00031f50: 2d63 3a61 2063 6f70 7920 277b 7361 7665  -c:a copy '{save
+00031f60: 5f70 6174 687d 2720 2d6c 6f67 6c65 7665  _path}' -logleve
+00031f70: 6c20 6572 726f 7220 2d73 7461 7473 202d  l error -stats -
+00031f80: 6869 6465 5f62 616e 6e65 7220 2d79 220a  hide_banner -y".
+00031f90: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00031fa0: 2020 2020 2020 2020 2020 636d 6420 3d20            cmd = 
+00031fb0: 6622 6666 6d70 6567 202d 6920 277b 7669  f"ffmpeg -i '{vi
+00031fc0: 6465 6f5f 7061 7468 7d27 202d 7666 205c  deo_path}' -vf \
+00031fd0: 2264 7261 7774 6578 743d 666f 6e74 6669  "drawtext=fontfi
+00031fe0: 6c65 3d7b 666f 6e74 5f70 6174 687d 3a74  le={font_path}:t
+00031ff0: 6578 743d 7b74 6578 747d 3a78 3d28 772d  ext={text}:x=(w-
+00032000: 7477 292f 323a 793d 2868 2d74 682d 3130  tw)/2:y=(h-th-10
+00032010: 293a 666f 6e74 7369 7a65 3d7b 666f 6e74  ):fontsize={font
+00032020: 5f73 697a 657d 3a66 6f6e 7463 6f6c 6f72  _size}:fontcolor
+00032030: 3d7b 666f 6e74 5f63 6f6c 6f72 7d3a 626f  ={font_color}:bo
+00032040: 7264 6572 773d 7b66 6f6e 745f 626f 7264  rderw={font_bord
+00032050: 6572 5f77 6964 7468 7d3a 626f 7264 6572  er_width}:border
+00032060: 636f 6c6f 723d 7b66 6f6e 745f 626f 7264  color={font_bord
+00032070: 6572 5f63 6f6c 6f72 7d5c 2220 2d63 3a61  er_color}\" -c:a
+00032080: 2063 6f70 7920 277b 7361 7665 5f70 6174   copy '{save_pat
+00032090: 687d 2720 2d6c 6f67 6c65 7665 6c20 6572  h}' -loglevel er
+000320a0: 726f 7220 2d73 7461 7473 202d 6869 6465  ror -stats -hide
+000320b0: 5f62 616e 6e65 7220 2d79 220a 2020 2020  _banner -y".    
+000320c0: 2020 2020 7375 6270 726f 6365 7373 2e63      subprocess.c
+000320d0: 616c 6c28 636d 642c 2073 6865 6c6c 3d54  all(cmd, shell=T
+000320e0: 7275 652c 2073 7464 6f75 743d 7375 6270  rue, stdout=subp
+000320f0: 726f 6365 7373 2e50 4950 4529 0a20 2020  rocess.PIPE).   
+00032100: 2074 696d 6572 2e73 746f 705f 7469 6d65   timer.stop_time
+00032110: 7228 290a 2020 2020 7374 646f 7574 5f73  r().    stdout_s
+00032120: 7563 6365 7373 286d 7367 3d66 2753 7570  uccess(msg=f'Sup
+00032130: 6572 2d69 6d70 6f73 6564 2066 7265 652d  er-imposed free-
+00032140: 7465 7874 206f 6e20 7b6c 656e 2876 6964  text on {len(vid
+00032150: 656f 5f70 6174 6873 297d 2076 6964 656f  eo_paths)} video
+00032160: 2873 292c 2073 6176 6564 2069 6e20 7b73  (s), saved in {s
+00032170: 6176 655f 6469 727d 272c 2065 6c61 7073  ave_dir}', elaps
+00032180: 6564 5f74 696d 653d 7469 6d65 722e 656c  ed_time=timer.el
+00032190: 6170 7365 645f 7469 6d65 5f73 7472 290a  apsed_time_str).
+000321a0: 0a0a 6465 6620 726f 7461 7465 5f76 6964  ..def rotate_vid
+000321b0: 656f 2876 6964 656f 5f70 6174 683a 2055  eo(video_path: U
+000321c0: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
+000321d0: 684c 696b 655d 2c0a 2020 2020 2020 2020  hLike],.        
+000321e0: 2020 2020 2020 2020 2064 6567 7265 6573           degrees
+000321f0: 3a20 696e 742c 0a20 2020 2020 2020 2020  : int,.         
+00032200: 2020 2020 2020 2020 6770 753a 204f 7074          gpu: Opt
+00032210: 696f 6e61 6c5b 626f 6f6c 5d20 3d20 4661  ional[bool] = Fa
+00032220: 6c73 652c 0a20 2020 2020 2020 2020 2020  lse,.           
+00032230: 2020 2020 2020 7175 616c 6974 793a 204f        quality: O
+00032240: 7074 696f 6e61 6c5b 696e 745d 203d 2036  ptional[int] = 6
+00032250: 302c 0a20 2020 2020 2020 2020 2020 2020  0,.             
+00032260: 2020 2020 7361 7665 5f64 6972 3a20 4f70      save_dir: Op
+00032270: 7469 6f6e 616c 5b55 6e69 6f6e 5b73 7472  tional[Union[str
+00032280: 2c20 6f73 2e50 6174 684c 696b 655d 5d20  , os.PathLike]] 
+00032290: 3d20 4e6f 6e65 293a 0a0a 2020 2020 2222  = None):..    ""
+000322a0: 220a 2020 2020 526f 7461 7465 2061 2076  ".    Rotate a v
+000322b0: 6964 656f 206f 7220 6120 6469 7265 6374  ideo or a direct
+000322c0: 6f72 7920 6f66 2076 6964 656f 7320 6279  ory of videos by
+000322d0: 2061 2073 7065 6369 6669 6564 206e 756d   a specified num
+000322e0: 6265 7220 6f66 2064 6567 7265 6573 2e0a  ber of degrees..
+000322f0: 0a20 2020 203a 7061 7261 6d20 556e 696f  .    :param Unio
+00032300: 6e5b 7374 722c 206f 732e 5061 7468 4c69  n[str, os.PathLi
+00032310: 6b65 5d20 7669 6465 6f5f 7061 7468 3a20  ke] video_path: 
+00032320: 5061 7468 2074 6f20 7468 6520 696e 7075  Path to the inpu
+00032330: 7420 7669 6465 6f20 6669 6c65 206f 7220  t video file or 
+00032340: 6469 7265 6374 6f72 7920 636f 6e74 6169  directory contai
+00032350: 6e69 6e67 2076 6964 656f 2066 696c 6573  ning video files
+00032360: 2e0a 2020 2020 3a70 6172 616d 2069 6e74  ..    :param int
+00032370: 2064 6567 7265 6573 3a20 4e75 6d62 6572   degrees: Number
+00032380: 206f 6620 6465 6772 6565 7320 2862 6574   of degrees (bet
+00032390: 7765 656e 2031 2061 6e64 2033 3539 2c20  ween 1 and 359, 
+000323a0: 696e 636c 7573 6976 6529 2074 6f20 726f  inclusive) to ro
+000323b0: 7461 7465 2074 6865 2076 6964 656f 2063  tate the video c
+000323c0: 6c6f 636b 7769 7365 2e0a 2020 2020 3a70  lockwise..    :p
+000323d0: 6172 616d 204f 7074 696f 6e61 6c5b 626f  aram Optional[bo
+000323e0: 6f6c 5d20 6770 753a 2049 6620 5472 7565  ol] gpu: If True
+000323f0: 2c20 6174 7465 6d70 7420 746f 2075 7365  , attempt to use
+00032400: 2047 5055 2061 6363 656c 6572 6174 696f   GPU acceleratio
+00032410: 6e20 666f 7220 726f 7461 7469 6f6e 2028  n for rotation (
+00032420: 6465 6661 756c 7420 6973 2046 616c 7365  default is False
+00032430: 292e 0a20 2020 203a 7061 7261 6d20 4f70  )..    :param Op
+00032440: 7469 6f6e 616c 5b69 6e74 5d20 7175 616c  tional[int] qual
+00032450: 6974 793a 2051 7561 6c69 7479 206f 6620  ity: Quality of 
+00032460: 7468 6520 6f75 7470 7574 2076 6964 656f  the output video
+00032470: 2c20 616e 2069 6e74 6567 6572 2062 6574  , an integer bet
+00032480: 7765 656e 2031 2061 6e64 2031 3030 2028  ween 1 and 100 (
+00032490: 6465 6661 756c 7420 6973 2036 3029 2e0a  default is 60)..
+000324a0: 2020 2020 3a70 6172 616d 204f 7074 696f      :param Optio
+000324b0: 6e61 6c5b 556e 696f 6e5b 7374 722c 206f  nal[Union[str, o
+000324c0: 732e 5061 7468 4c69 6b65 5d5d 2073 6176  s.PathLike]] sav
+000324d0: 655f 6469 723a 2044 6972 6563 746f 7279  e_dir: Directory
+000324e0: 2074 6f20 7361 7665 2074 6865 2072 6f74   to save the rot
+000324f0: 6174 6564 2076 6964 656f 2873 292e 2049  ated video(s). I
+00032500: 6620 4e6f 6e65 2c20 7468 6520 6469 7265  f None, the dire
+00032510: 6374 6f72 7920 6f66 2074 6865 2069 6e70  ctory of the inp
+00032520: 7574 2076 6964 656f 2873 2920 7769 6c6c  ut video(s) will
+00032530: 2062 6520 7573 6564 2e0a 2020 2020 3a72   be used..    :r
+00032540: 6574 7572 6e3a 204e 6f6e 652e 0a0a 2020  eturn: None...  
+00032550: 2020 3a65 7861 6d70 6c65 3a0a 2020 2020    :example:.    
+00032560: 3e3e 3e20 726f 7461 7465 5f76 6964 656f  >>> rotate_video
+00032570: 2876 6964 656f 5f70 6174 683d 272f 5573  (video_path='/Us
+00032580: 6572 732f 7369 6d6f 6e2f 4465 736b 746f  ers/simon/Deskto
+00032590: 702f 656e 7673 2f73 696d 6261 2f74 726f  p/envs/simba/tro
+000325a0: 7562 6c65 7368 6f6f 7469 6e67 2f72 6570  ubleshooting/rep
+000325b0: 7469 6c65 2f72 6f74 5f74 6573 742e 6d70  tile/rot_test.mp
+000325c0: 3427 2c20 6465 6772 6565 733d 3138 3029  4', degrees=180)
+000325d0: 0a20 2020 2022 2222 0a0a 2020 2020 6368  .    """..    ch
+000325e0: 6563 6b5f 6666 6d70 6567 5f61 7661 696c  eck_ffmpeg_avail
+000325f0: 6162 6c65 2872 6169 7365 5f65 7272 6f72  able(raise_error
+00032600: 3d54 7275 6529 0a20 2020 2074 696d 6572  =True).    timer
+00032610: 203d 2053 696d 6261 5469 6d65 7228 7374   = SimbaTimer(st
+00032620: 6172 743d 5472 7565 290a 2020 2020 6368  art=True).    ch
+00032630: 6563 6b5f 696e 7428 6e61 6d65 3d66 277b  eck_int(name=f'{
+00032640: 726f 7461 7465 5f76 6964 656f 2e5f 5f6e  rotate_video.__n
+00032650: 616d 655f 5f7d 2066 6f6e 745f 7369 7a65  ame__} font_size
+00032660: 272c 2076 616c 7565 3d64 6567 7265 6573  ', value=degrees
+00032670: 2c20 6d69 6e5f 7661 6c75 653d 312c 206d  , min_value=1, m
+00032680: 6178 5f76 616c 7565 3d33 3539 290a 2020  ax_value=359).  
+00032690: 2020 6368 6563 6b5f 696e 7428 6e61 6d65    check_int(name
+000326a0: 3d66 277b 726f 7461 7465 5f76 6964 656f  =f'{rotate_video
+000326b0: 2e5f 5f6e 616d 655f 5f7d 2071 7561 6c69  .__name__} quali
+000326c0: 7479 272c 2076 616c 7565 3d71 7561 6c69  ty', value=quali
+000326d0: 7479 2c20 6d69 6e5f 7661 6c75 653d 312c  ty, min_value=1,
+000326e0: 206d 6178 5f76 616c 7565 3d31 3030 290a   max_value=100).
+000326f0: 2020 2020 6966 2067 7075 2061 6e64 206e      if gpu and n
+00032700: 6f74 2063 6865 636b 5f6e 7669 6465 615f  ot check_nvidea_
+00032710: 6770 755f 6176 6169 6c61 626c 6528 293a  gpu_available():
+00032720: 0a20 2020 2020 2020 2072 6169 7365 2046  .        raise F
+00032730: 464d 5045 4743 6f64 6563 4750 5545 7272  FMPEGCodecGPUErr
+00032740: 6f72 286d 7367 3d22 4e6f 2047 5055 2066  or(msg="No GPU f
+00032750: 6f75 6e64 2028 6173 2065 7661 6c75 6174  ound (as evaluat
+00032760: 6564 2062 7920 6e76 6964 6561 2d73 6d69  ed by nvidea-smi
+00032770: 2072 6574 7572 6e69 6e67 204e 6f6e 6529   returning None)
+00032780: 222c 2073 6f75 7263 653d 726f 7461 7465  ", source=rotate
+00032790: 5f76 6964 656f 2e5f 5f6e 616d 655f 5f29  _video.__name__)
+000327a0: 0a20 2020 2063 7266 5f6c 6b20 3d20 7065  .    crf_lk = pe
+000327b0: 7263 656e 745f 746f 5f63 7266 5f6c 6f6f  rcent_to_crf_loo
+000327c0: 6b75 7028 290a 2020 2020 6372 6620 3d20  kup().    crf = 
+000327d0: 6372 665f 6c6b 5b73 7472 2871 7561 6c69  crf_lk[str(quali
+000327e0: 7479 295d 0a20 2020 2069 6620 6f73 2e70  ty)].    if os.p
+000327f0: 6174 682e 6973 6669 6c65 2876 6964 656f  ath.isfile(video
+00032800: 5f70 6174 6829 3a0a 2020 2020 2020 2020  _path):.        
+00032810: 7669 6465 6f5f 7061 7468 7320 3d20 5b76  video_paths = [v
+00032820: 6964 656f 5f70 6174 685d 0a20 2020 2065  ideo_path].    e
+00032830: 6c69 6620 6f73 2e70 6174 682e 6973 6469  lif os.path.isdi
+00032840: 7228 7669 6465 6f5f 7061 7468 293a 0a20  r(video_path):. 
+00032850: 2020 2020 2020 2076 6964 656f 5f70 6174         video_pat
+00032860: 6873 203d 206c 6973 7428 6669 6e64 5f61  hs = list(find_a
+00032870: 6c6c 5f76 6964 656f 735f 696e 5f64 6972  ll_videos_in_dir
+00032880: 6563 746f 7279 2864 6972 6563 746f 7279  ectory(directory
+00032890: 3d76 6964 656f 5f70 6174 682c 2061 735f  =video_path, as_
+000328a0: 6469 6374 3d54 7275 652c 2072 6169 7365  dict=True, raise
+000328b0: 5f65 7272 6f72 3d54 7275 6529 2e76 616c  _error=True).val
+000328c0: 7565 7328 2929 0a20 2020 2065 6c73 653a  ues()).    else:
+000328d0: 0a20 2020 2020 2020 2072 6169 7365 2049  .        raise I
+000328e0: 6e76 616c 6964 496e 7075 7445 7272 6f72  nvalidInputError
+000328f0: 286d 7367 3d66 277b 7669 6465 6f5f 7061  (msg=f'{video_pa
+00032900: 7468 7d20 6973 206e 6f74 2061 2076 616c  th} is not a val
+00032910: 6964 2066 696c 6520 7061 7468 206f 7220  id file path or 
+00032920: 6120 7661 6c69 6420 6469 7265 6374 6f72  a valid director
+00032930: 7920 7061 7468 272c 2073 6f75 7263 653d  y path', source=
+00032940: 726f 7461 7465 5f76 6964 656f 2e5f 5f6e  rotate_video.__n
+00032950: 616d 655f 5f29 0a20 2020 2069 6620 7361  ame__).    if sa
+00032960: 7665 5f64 6972 2069 7320 6e6f 7420 4e6f  ve_dir is not No
+00032970: 6e65 3a0a 2020 2020 2020 2020 6368 6563  ne:.        chec
+00032980: 6b5f 6966 5f64 6972 5f65 7869 7374 7328  k_if_dir_exists(
+00032990: 696e 5f64 6972 3d73 6176 655f 6469 7229  in_dir=save_dir)
+000329a0: 0a20 2020 2065 6c73 653a 0a20 2020 2020  .    else:.     
+000329b0: 2020 2073 6176 655f 6469 7220 3d20 6f73     save_dir = os
+000329c0: 2e70 6174 682e 6469 726e 616d 6528 7669  .path.dirname(vi
+000329d0: 6465 6f5f 7061 7468 735b 305d 290a 2020  deo_paths[0]).  
+000329e0: 2020 666f 7220 6669 6c65 5f63 6e74 2c20    for file_cnt, 
+000329f0: 7669 6465 6f5f 7061 7468 2069 6e20 656e  video_path in en
+00032a00: 756d 6572 6174 6528 7669 6465 6f5f 7061  umerate(video_pa
+00032a10: 7468 7329 3a0a 2020 2020 2020 2020 5f2c  ths):.        _,
+00032a20: 2076 6964 656f 5f6e 616d 652c 2065 7874   video_name, ext
+00032a30: 203d 2067 6574 5f66 6e5f 6578 7428 7669   = get_fn_ext(vi
+00032a40: 6465 6f5f 7061 7468 290a 2020 2020 2020  deo_path).      
+00032a50: 2020 7072 696e 7428 6627 526f 7461 7469    print(f'Rotati
+00032a60: 6e67 2076 6964 656f 207b 7669 6465 6f5f  ng video {video_
+00032a70: 6e61 6d65 7d20 7b64 6567 7265 6573 7d20  name} {degrees} 
+00032a80: 6465 6772 6565 7320 2856 6964 656f 207b  degrees (Video {
+00032a90: 6669 6c65 5f63 6e74 202b 2031 7d2f 7b6c  file_cnt + 1}/{l
+00032aa0: 656e 2876 6964 656f 5f70 6174 6873 297d  en(video_paths)}
+00032ab0: 292e 2e2e 2729 0a20 2020 2020 2020 2073  )...').        s
+00032ac0: 6176 655f 7061 7468 203d 206f 732e 7061  ave_path = os.pa
+00032ad0: 7468 2e6a 6f69 6e28 7361 7665 5f64 6972  th.join(save_dir
+00032ae0: 2c20 6627 7b76 6964 656f 5f6e 616d 657d  , f'{video_name}
+00032af0: 5f72 6f74 6174 6564 7b65 7874 7d27 290a  _rotated{ext}').
+00032b00: 2020 2020 2020 2020 6966 2067 7075 3a0a          if gpu:.
+00032b10: 2020 2020 2020 2020 2020 2020 636d 6420              cmd 
+00032b20: 3d20 6627 6666 6d70 6567 202d 6877 6163  = f'ffmpeg -hwac
+00032b30: 6365 6c20 6175 746f 202d 6920 227b 7669  cel auto -i "{vi
+00032b40: 6465 6f5f 7061 7468 7d22 202d 7666 2022  deo_path}" -vf "
+00032b50: 6877 7570 6c6f 6164 5f63 7564 612c 726f  hwupload_cuda,ro
+00032b60: 7461 7465 3d7b 6465 6772 6565 737d 2a28  tate={degrees}*(
+00032b70: 5049 2f31 3830 292c 666f 726d 6174 3d6e  PI/180),format=n
+00032b80: 7631 327c 6375 6461 2220 2d63 3a76 2068  v12|cuda" -c:v h
+00032b90: 3236 345f 6e76 656e 6320 227b 7361 7665  264_nvenc "{save
+00032ba0: 5f70 6174 687d 2220 2d6c 6f67 6c65 7665  _path}" -logleve
+00032bb0: 6c20 6572 726f 7220 2d73 7461 7473 202d  l error -stats -
+00032bc0: 7927 0a20 2020 2020 2020 2065 6c73 653a  y'.        else:
+00032bd0: 0a20 2020 2020 2020 2020 2020 2063 6d64  .            cmd
+00032be0: 203d 2066 2766 666d 7065 6720 2d69 2022   = f'ffmpeg -i "
+00032bf0: 7b76 6964 656f 5f70 6174 687d 2220 2d76  {video_path}" -v
+00032c00: 6620 2272 6f74 6174 653d 7b64 6567 7265  f "rotate={degre
+00032c10: 6573 7d2a 2850 492f 3138 3029 2220 2d63  es}*(PI/180)" -c
+00032c20: 3a76 206c 6962 7832 3634 202d 6372 6620  :v libx264 -crf 
+00032c30: 7b63 7266 7d20 227b 7361 7665 5f70 6174  {crf} "{save_pat
+00032c40: 687d 2220 2d6c 6f67 6c65 7665 6c20 6572  h}" -loglevel er
+00032c50: 726f 7220 2d73 7461 7473 202d 7927 0a20  ror -stats -y'. 
+00032c60: 2020 2020 2020 2073 7562 7072 6f63 6573         subproces
+00032c70: 732e 6361 6c6c 2863 6d64 2c20 7368 656c  s.call(cmd, shel
+00032c80: 6c3d 5472 7565 2c20 7374 646f 7574 3d73  l=True, stdout=s
+00032c90: 7562 7072 6f63 6573 732e 5049 5045 290a  ubprocess.PIPE).
+00032ca0: 2020 2020 7469 6d65 722e 7374 6f70 5f74      timer.stop_t
+00032cb0: 696d 6572 2829 0a20 2020 2073 7464 6f75  imer().    stdou
+00032cc0: 745f 7375 6363 6573 7328 6d73 673d 6622  t_success(msg=f"
+00032cd0: 7b6c 656e 2876 6964 656f 5f70 6174 6873  {len(video_paths
+00032ce0: 297d 2076 6964 656f 2873 2920 7261 7461  )} video(s) rata
+00032cf0: 7465 6420 7b64 6567 7265 6573 7d20 616e  ted {degrees} an
+00032d00: 6420 7361 7665 6420 696e 207b 7361 7665  d saved in {save
+00032d10: 5f64 6972 7d20 6469 7265 6374 6f72 792e  _dir} directory.
+00032d20: 222c 2065 6c61 7073 6564 5f74 696d 653d  ", elapsed_time=
+00032d30: 7469 6d65 722e 656c 6170 7365 645f 7469  timer.elapsed_ti
+00032d40: 6d65 5f73 7472 2c20 736f 7572 6365 3d72  me_str, source=r
+00032d50: 6f74 6174 655f 7669 6465 6f2e 5f5f 6e61  otate_video.__na
+00032d60: 6d65 5f5f 2c29 0a0a 0a64 6566 2066 6c69  me__,)...def fli
+00032d70: 705f 7669 6465 6f73 2876 6964 656f 5f70  p_videos(video_p
+00032d80: 6174 683a 2055 6e69 6f6e 5b73 7472 2c20  ath: Union[str, 
+00032d90: 6f73 2e50 6174 684c 696b 655d 2c0a 2020  os.PathLike],.  
+00032da0: 2020 2020 2020 2020 2020 2020 2020 686f                ho
+00032db0: 7269 7a6f 6e74 616c 5f66 6c69 703a 204f  rizontal_flip: O
+00032dc0: 7074 696f 6e61 6c5b 626f 6f6c 5d20 3d20  ptional[bool] = 
+00032dd0: 4661 6c73 652c 0a20 2020 2020 2020 2020  False,.         
+00032de0: 2020 2020 2020 2076 6572 7469 6361 6c5f         vertical_
+00032df0: 666c 6970 3a20 4f70 7469 6f6e 616c 5b62  flip: Optional[b
+00032e00: 6f6f 6c5d 203d 2046 616c 7365 2c0a 2020  ool] = False,.  
+00032e10: 2020 2020 2020 2020 2020 2020 2020 7175                qu
+00032e20: 616c 6974 793a 204f 7074 696f 6e61 6c5b  ality: Optional[
+00032e30: 696e 745d 203d 2036 302c 0a20 2020 2020  int] = 60,.     
+00032e40: 2020 2020 2020 2020 2020 2073 6176 655f             save_
+00032e50: 6469 723a 204f 7074 696f 6e61 6c5b 556e  dir: Optional[Un
+00032e60: 696f 6e5b 7374 722c 206f 732e 5061 7468  ion[str, os.Path
+00032e70: 4c69 6b65 5d5d 203d 204e 6f6e 6529 3a0a  Like]] = None):.
+00032e80: 2020 2020 2222 220a 2020 2020 466c 6970      """.    Flip
+00032e90: 2061 2076 6964 656f 206f 7220 6469 7265   a video or dire
+00032ea0: 6374 6f72 7920 6f66 2076 6964 656f 7320  ctory of videos 
+00032eb0: 686f 7269 7a6f 6e74 616c 6c79 2c20 7665  horizontally, ve
+00032ec0: 7274 6963 616c 6c79 2c20 6f72 2062 6f74  rtically, or bot
+00032ed0: 682c 2061 6e64 2073 6176 6520 7468 656d  h, and save them
+00032ee0: 2074 6f20 7468 6520 7370 6563 6966 6965   to the specifie
+00032ef0: 6420 6469 7265 6374 6f72 792e 0a0a 2020  d directory...  
+00032f00: 2020 2e2e 2076 6964 656f 3a3a 205f 7374    .. video:: _st
+00032f10: 6174 6963 2f69 6d67 2f66 6c69 705f 7669  atic/img/flip_vi
+00032f20: 6465 6f73 2e77 6562 6d0a 2020 2020 2020  deos.webm.      
+00032f30: 203a 7769 6474 683a 2039 3030 0a20 2020   :width: 900.   
+00032f40: 2020 2020 3a6c 6f6f 703a 0a20 2020 2020      :loop:.     
+00032f50: 2020 3a61 7574 6f70 6c61 793a 0a0a 2020    :autoplay:..  
+00032f60: 2020 3a70 6172 616d 2055 6e69 6f6e 5b73    :param Union[s
+00032f70: 7472 2c20 6f73 2e50 6174 684c 696b 655d  tr, os.PathLike]
+00032f80: 2076 6964 656f 5f70 6174 683a 2050 6174   video_path: Pat
+00032f90: 6820 746f 2074 6865 2069 6e70 7574 2076  h to the input v
+00032fa0: 6964 656f 2066 696c 6520 6f72 2064 6972  ideo file or dir
+00032fb0: 6563 746f 7279 2063 6f6e 7461 696e 696e  ectory containin
+00032fc0: 6720 7669 6465 6f20 6669 6c65 732e 0a20  g video files.. 
+00032fd0: 2020 203a 7061 7261 6d20 4f70 7469 6f6e     :param Option
+00032fe0: 616c 5b62 6f6f 6c5d 2068 6f72 697a 6f6e  al[bool] horizon
+00032ff0: 7461 6c5f 666c 6970 3a20 4966 2054 7275  tal_flip: If Tru
+00033000: 652c 2066 6c69 7020 7468 6520 7669 6465  e, flip the vide
+00033010: 6f28 7329 2068 6f72 697a 6f6e 7461 6c6c  o(s) horizontall
+00033020: 7920 2864 6566 6175 6c74 2069 7320 4661  y (default is Fa
+00033030: 6c73 6529 2e0a 2020 2020 3a70 6172 616d  lse)..    :param
+00033040: 204f 7074 696f 6e61 6c5b 626f 6f6c 5d20   Optional[bool] 
+00033050: 7665 7274 6963 616c 5f66 6c69 703a 2049  vertical_flip: I
+00033060: 6620 5472 7565 2c20 666c 6970 2074 6865  f True, flip the
+00033070: 2076 6964 656f 2873 2920 7665 7274 6963   video(s) vertic
+00033080: 616c 6c79 2028 6465 6661 756c 7420 6973  ally (default is
+00033090: 2046 616c 7365 292e 0a20 2020 203a 7061   False)..    :pa
+000330a0: 7261 6d20 4f70 7469 6f6e 616c 5b69 6e74  ram Optional[int
+000330b0: 5d20 7175 616c 6974 793a 2051 7561 6c69  ] quality: Quali
+000330c0: 7479 206f 6620 7468 6520 6f75 7470 7574  ty of the output
+000330d0: 2076 6964 656f 2c20 616e 2069 6e74 6567   video, an integ
+000330e0: 6572 2062 6574 7765 656e 2031 2061 6e64  er between 1 and
+000330f0: 2031 3030 2028 6465 6661 756c 7420 6973   100 (default is
+00033100: 2036 3029 2e0a 2020 2020 3a70 6172 616d   60)..    :param
+00033110: 204f 7074 696f 6e61 6c5b 556e 696f 6e5b   Optional[Union[
+00033120: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
+00033130: 5d5d 2073 6176 655f 6469 723a 2044 6972  ]] save_dir: Dir
+00033140: 6563 746f 7279 2074 6f20 7361 7665 2074  ectory to save t
+00033150: 6865 2066 6c69 7070 6564 2076 6964 656f  he flipped video
+00033160: 2873 292e 2049 6620 4e6f 6e65 2c20 7468  (s). If None, th
+00033170: 6520 6469 7265 6374 6f72 7920 6f66 2074  e directory of t
+00033180: 6865 2069 6e70 7574 2076 6964 656f 2873  he input video(s
+00033190: 2920 7769 6c6c 2062 6520 7573 6564 2e0a  ) will be used..
+000331a0: 2020 2020 3a72 6574 7572 6e3a 204e 6f6e      :return: Non
+000331b0: 652e 0a20 2020 2022 2222 0a0a 2020 2020  e..    """..    
+000331c0: 6368 6563 6b5f 6666 6d70 6567 5f61 7661  check_ffmpeg_ava
+000331d0: 696c 6162 6c65 2872 6169 7365 5f65 7272  ilable(raise_err
+000331e0: 6f72 3d54 7275 6529 0a20 2020 2074 696d  or=True).    tim
+000331f0: 6572 203d 2053 696d 6261 5469 6d65 7228  er = SimbaTimer(
+00033200: 7374 6172 743d 5472 7565 290a 2020 2020  start=True).    
+00033210: 6368 6563 6b5f 696e 7428 6e61 6d65 3d66  check_int(name=f
+00033220: 277b 726f 7461 7465 5f76 6964 656f 2e5f  '{rotate_video._
+00033230: 5f6e 616d 655f 5f7d 2071 7561 6c69 7479  _name__} quality
+00033240: 272c 2076 616c 7565 3d71 7561 6c69 7479  ', value=quality
+00033250: 2c20 6d69 6e5f 7661 6c75 653d 312c 206d  , min_value=1, m
+00033260: 6178 5f76 616c 7565 3d31 3030 290a 2020  ax_value=100).  
+00033270: 2020 6966 206e 6f74 2068 6f72 697a 6f6e    if not horizon
+00033280: 7461 6c5f 666c 6970 2061 6e64 206e 6f74  tal_flip and not
+00033290: 2076 6572 7469 6361 6c5f 666c 6970 3a20   vertical_flip: 
+000332a0: 7261 6973 6520 496e 7661 6c69 6449 6e70  raise InvalidInp
+000332b0: 7574 4572 726f 7228 6d73 673d 2746 6c69  utError(msg='Fli
+000332c0: 7020 7669 6465 6f73 2076 6572 7469 6361  p videos vertica
+000332d0: 6c6c 7920 616e 642f 6f72 2068 6f72 697a  lly and/or horiz
+000332e0: 6f6e 7461 6c6c 792e 2047 6f74 2062 6f74  ontally. Got bot
+000332f0: 6820 6173 2046 616c 7365 272c 2073 6f75  h as False', sou
+00033300: 7263 653d 666c 6970 5f76 6964 656f 732e  rce=flip_videos.
+00033310: 5f5f 6e61 6d65 5f5f 290a 2020 2020 6372  __name__).    cr
+00033320: 665f 6c6b 203d 2070 6572 6365 6e74 5f74  f_lk = percent_t
+00033330: 6f5f 6372 665f 6c6f 6f6b 7570 2829 0a20  o_crf_lookup(). 
+00033340: 2020 2063 7266 203d 2063 7266 5f6c 6b5b     crf = crf_lk[
+00033350: 7374 7228 7175 616c 6974 7929 5d0a 2020  str(quality)].  
+00033360: 2020 6966 206f 732e 7061 7468 2e69 7366    if os.path.isf
+00033370: 696c 6528 7669 6465 6f5f 7061 7468 293a  ile(video_path):
+00033380: 0a20 2020 2020 2020 2076 6964 656f 5f70  .        video_p
+00033390: 6174 6873 203d 205b 7669 6465 6f5f 7061  aths = [video_pa
+000333a0: 7468 5d0a 2020 2020 656c 6966 206f 732e  th].    elif os.
+000333b0: 7061 7468 2e69 7364 6972 2876 6964 656f  path.isdir(video
+000333c0: 5f70 6174 6829 3a0a 2020 2020 2020 2020  _path):.        
+000333d0: 7669 6465 6f5f 7061 7468 7320 3d20 6c69  video_paths = li
+000333e0: 7374 2866 696e 645f 616c 6c5f 7669 6465  st(find_all_vide
+000333f0: 6f73 5f69 6e5f 6469 7265 6374 6f72 7928  os_in_directory(
+00033400: 6469 7265 6374 6f72 793d 7669 6465 6f5f  directory=video_
+00033410: 7061 7468 2c20 6173 5f64 6963 743d 5472  path, as_dict=Tr
+00033420: 7565 2c20 7261 6973 655f 6572 726f 723d  ue, raise_error=
+00033430: 5472 7565 292e 7661 6c75 6573 2829 290a  True).values()).
+00033440: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00033450: 2020 7261 6973 6520 496e 7661 6c69 6449    raise InvalidI
+00033460: 6e70 7574 4572 726f 7228 6d73 673d 6627  nputError(msg=f'
+00033470: 7b76 6964 656f 5f70 6174 687d 2069 7320  {video_path} is 
+00033480: 6e6f 7420 6120 7661 6c69 6420 6669 6c65  not a valid file
+00033490: 2070 6174 6820 6f72 2061 2076 616c 6964   path or a valid
+000334a0: 2064 6972 6563 746f 7279 2070 6174 6827   directory path'
+000334b0: 2c20 736f 7572 6365 3d66 6c69 705f 7669  , source=flip_vi
+000334c0: 6465 6f73 2e5f 5f6e 616d 655f 5f29 0a20  deos.__name__). 
+000334d0: 2020 2069 6620 7361 7665 5f64 6972 2069     if save_dir i
+000334e0: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+000334f0: 2020 2020 6368 6563 6b5f 6966 5f64 6972      check_if_dir
+00033500: 5f65 7869 7374 7328 696e 5f64 6972 3d73  _exists(in_dir=s
+00033510: 6176 655f 6469 7229 0a20 2020 2065 6c73  ave_dir).    els
+00033520: 653a 0a20 2020 2020 2020 2073 6176 655f  e:.        save_
+00033530: 6469 7220 3d20 6f73 2e70 6174 682e 6469  dir = os.path.di
+00033540: 726e 616d 6528 7669 6465 6f5f 7061 7468  rname(video_path
+00033550: 735b 305d 290a 2020 2020 666f 7220 6669  s[0]).    for fi
+00033560: 6c65 5f63 6e74 2c20 7669 6465 6f5f 7061  le_cnt, video_pa
+00033570: 7468 2069 6e20 656e 756d 6572 6174 6528  th in enumerate(
+00033580: 7669 6465 6f5f 7061 7468 7329 3a0a 2020  video_paths):.  
+00033590: 2020 2020 2020 5f2c 2076 6964 656f 5f6e        _, video_n
+000335a0: 616d 652c 2065 7874 203d 2067 6574 5f66  ame, ext = get_f
+000335b0: 6e5f 6578 7428 7669 6465 6f5f 7061 7468  n_ext(video_path
+000335c0: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
+000335d0: 6627 466c 6970 7069 6e67 2076 6964 656f  f'Flipping video
+000335e0: 207b 7669 6465 6f5f 6e61 6d65 7d20 2856   {video_name} (V
+000335f0: 6964 656f 207b 6669 6c65 5f63 6e74 202b  ideo {file_cnt +
+00033600: 2031 7d2f 7b6c 656e 2876 6964 656f 5f70   1}/{len(video_p
+00033610: 6174 6873 297d 292e 2e2e 2729 0a20 2020  aths)})...').   
+00033620: 2020 2020 2073 6176 655f 7061 7468 203d       save_path =
+00033630: 206f 732e 7061 7468 2e6a 6f69 6e28 7361   os.path.join(sa
+00033640: 7665 5f64 6972 2c20 6627 7b76 6964 656f  ve_dir, f'{video
+00033650: 5f6e 616d 657d 5f66 6c69 7070 6564 7b65  _name}_flipped{e
+00033660: 7874 7d27 290a 2020 2020 2020 2020 6966  xt}').        if
+00033670: 2076 6572 7469 6361 6c5f 666c 6970 2061   vertical_flip a
+00033680: 6e64 206e 6f74 2068 6f72 697a 6f6e 7461  nd not horizonta
+00033690: 6c5f 666c 6970 3a0a 2020 2020 2020 2020  l_flip:.        
+000336a0: 2020 2020 636d 6420 3d20 6627 6666 6d70      cmd = f'ffmp
+000336b0: 6567 202d 6920 227b 7669 6465 6f5f 7061  eg -i "{video_pa
+000336c0: 7468 7d22 202d 7666 2022 7666 6c69 7022  th}" -vf "vflip"
+000336d0: 202d 633a 7620 6c69 6278 3236 3420 2d63   -c:v libx264 -c
+000336e0: 7266 207b 6372 667d 2022 7b73 6176 655f  rf {crf} "{save_
+000336f0: 7061 7468 7d22 202d 6c6f 676c 6576 656c  path}" -loglevel
+00033700: 2065 7272 6f72 202d 7374 6174 7320 2d79   error -stats -y
+00033710: 270a 2020 2020 2020 2020 656c 6966 2068  '.        elif h
+00033720: 6f72 697a 6f6e 7461 6c5f 666c 6970 2061  orizontal_flip a
+00033730: 6e64 206e 6f74 2076 6572 7469 6361 6c5f  nd not vertical_
+00033740: 666c 6970 3a0a 2020 2020 2020 2020 2020  flip:.          
+00033750: 2020 636d 6420 3d20 6627 6666 6d70 6567    cmd = f'ffmpeg
+00033760: 202d 6920 227b 7669 6465 6f5f 7061 7468   -i "{video_path
+00033770: 7d22 202d 7666 2022 6866 6c69 7022 202d  }" -vf "hflip" -
+00033780: 633a 7620 6c69 6278 3236 3420 2d63 7266  c:v libx264 -crf
+00033790: 207b 6372 667d 2022 7b73 6176 655f 7061   {crf} "{save_pa
+000337a0: 7468 7d22 202d 6c6f 676c 6576 656c 2065  th}" -loglevel e
+000337b0: 7272 6f72 202d 7374 6174 7320 2d79 270a  rror -stats -y'.
+000337c0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+000337d0: 2020 2020 2020 2020 2020 636d 6420 3d20            cmd = 
+000337e0: 6627 6666 6d70 6567 202d 6920 227b 7669  f'ffmpeg -i "{vi
+000337f0: 6465 6f5f 7061 7468 7d22 202d 7666 2022  deo_path}" -vf "
+00033800: 6866 6c69 702c 7666 6c69 7022 202d 633a  hflip,vflip" -c:
+00033810: 7620 6c69 6278 3236 3420 2d63 7266 207b  v libx264 -crf {
+00033820: 6372 667d 2022 7b73 6176 655f 7061 7468  crf} "{save_path
+00033830: 7d22 202d 6c6f 676c 6576 656c 2065 7272  }" -loglevel err
+00033840: 6f72 202d 7374 6174 7320 2d79 270a 2020  or -stats -y'.  
+00033850: 2020 2020 2020 7375 6270 726f 6365 7373        subprocess
+00033860: 2e63 616c 6c28 636d 642c 2073 6865 6c6c  .call(cmd, shell
+00033870: 3d54 7275 652c 2073 7464 6f75 743d 7375  =True, stdout=su
+00033880: 6270 726f 6365 7373 2e50 4950 4529 0a20  bprocess.PIPE). 
+00033890: 2020 2074 696d 6572 2e73 746f 705f 7469     timer.stop_ti
+000338a0: 6d65 7228 290a 2020 2020 7374 646f 7574  mer().    stdout
+000338b0: 5f73 7563 6365 7373 286d 7367 3d66 227b  _success(msg=f"{
+000338c0: 6c65 6e28 7669 6465 6f5f 7061 7468 7329  len(video_paths)
+000338d0: 7d20 7669 6465 6f28 7329 2066 6c69 7070  } video(s) flipp
+000338e0: 6564 2061 6e64 2073 6176 6564 2069 6e20  ed and saved in 
+000338f0: 7b73 6176 655f 6469 727d 2064 6972 6563  {save_dir} direc
+00033900: 746f 7279 2e22 2c20 656c 6170 7365 645f  tory.", elapsed_
+00033910: 7469 6d65 3d74 696d 6572 2e65 6c61 7073  time=timer.elaps
+00033920: 6564 5f74 696d 655f 7374 722c 2073 6f75  ed_time_str, sou
+00033930: 7263 653d 666c 6970 5f76 6964 656f 732e  rce=flip_videos.
+00033940: 5f5f 6e61 6d65 5f5f 290a 0a0a 0a64 6566  __name__)....def
+00033950: 2075 7073 616d 706c 655f 6670 7328 7669   upsample_fps(vi
+00033960: 6465 6f5f 7061 7468 3a20 556e 696f 6e5b  deo_path: Union[
+00033970: 7374 722c 206f 732e 5061 7468 4c69 6b65  str, os.PathLike
+00033980: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00033990: 2020 2020 6670 733a 2069 6e74 2c0a 2020      fps: int,.  
+000339a0: 2020 2020 2020 2020 2020 2020 2020 2071                 q
+000339b0: 7561 6c69 7479 3a20 4f70 7469 6f6e 616c  uality: Optional
+000339c0: 5b69 6e74 5d20 3d20 3630 2c0a 2020 2020  [int] = 60,.    
+000339d0: 2020 2020 2020 2020 2020 2020 2073 6176               sav
+000339e0: 655f 6469 723a 204f 7074 696f 6e61 6c5b  e_dir: Optional[
+000339f0: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
+00033a00: 7468 4c69 6b65 5d5d 203d 204e 6f6e 6529  thLike]] = None)
+00033a10: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2222   -> None:.    ""
+00033a20: 220a 2020 2020 5570 7361 6d70 6c65 2074  ".    Upsample t
+00033a30: 6865 2066 7261 6d65 2072 6174 6520 6f66  he frame rate of
+00033a40: 2061 2076 6964 656f 206f 7220 616c 6c20   a video or all 
+00033a50: 7669 6465 6f73 2069 6e20 6120 6469 7265  videos in a dire
+00033a60: 6374 6f72 7920 746f 2061 2073 7065 6369  ctory to a speci
+00033a70: 6669 6564 2066 7073 2077 6974 6820 6120  fied fps with a 
+00033a80: 6769 7665 6e20 7175 616c 6974 792e 0a0a  given quality...
+00033a90: 2020 2020 2e2e 206e 6f74 653a 3a0a 2020      .. note::.  
+00033aa0: 2020 2020 2055 7365 7320 6060 6666 6d70       Uses ``ffmp
+00033ab0: 6567 206d 696e 7465 7270 6f6c 6174 6560  eg minterpolate`
+00033ac0: 600a 0a20 2020 202e 2e20 7761 726e 696e  `..    .. warnin
+00033ad0: 673a 3a0a 2020 2020 2020 204c 6f6e 6720  g::.       Long 
+00033ae0: 7275 6e2d 7469 6d65 7320 666f 7220 6869  run-times for hi
+00033af0: 6768 6572 2072 6573 6f6c 7574 696f 6e20  gher resolution 
+00033b00: 7669 6465 6f73 2e0a 0a20 2020 203a 7061  videos...    :pa
+00033b10: 7261 6d20 556e 696f 6e5b 7374 722c 206f  ram Union[str, o
+00033b20: 732e 5061 7468 4c69 6b65 5d20 7669 6465  s.PathLike] vide
+00033b30: 6f5f 7061 7468 3a20 5468 6520 7061 7468  o_path: The path
+00033b40: 2074 6f20 7468 6520 696e 7075 7420 7669   to the input vi
+00033b50: 6465 6f20 6669 6c65 206f 7220 6469 7265  deo file or dire
+00033b60: 6374 6f72 7920 636f 6e74 6169 6e69 6e67  ctory containing
+00033b70: 2076 6964 656f 2066 696c 6573 2e0a 2020   video files..  
+00033b80: 2020 3a70 6172 616d 2069 6e74 2066 7073    :param int fps
+00033b90: 3a20 5468 6520 7461 7267 6574 2066 7261  : The target fra
+00033ba0: 6d65 2072 6174 6520 746f 2075 7073 616d  me rate to upsam
+00033bb0: 706c 6520 7468 6520 7669 6465 6f28 7329  ple the video(s)
+00033bc0: 2074 6f2e 0a20 2020 203a 7061 7261 6d20   to..    :param 
+00033bd0: 4f70 7469 6f6e 616c 5b69 6e74 5d20 7175  Optional[int] qu
+00033be0: 616c 6974 793a 2054 6865 2071 7561 6c69  ality: The quali
+00033bf0: 7479 206c 6576 656c 206f 6620 7468 6520  ty level of the 
+00033c00: 6f75 7470 7574 2076 6964 656f 2873 292c  output video(s),
+00033c10: 2072 6570 7265 7365 6e74 6564 2061 7320   represented as 
+00033c20: 6120 7065 7263 656e 7461 6765 2028 312d  a percentage (1-
+00033c30: 3130 3029 2e20 4c6f 7765 7220 7661 6c75  100). Lower valu
+00033c40: 6573 2069 6e64 6963 6174 6520 6869 6768  es indicate high
+00033c50: 6572 2071 7561 6c69 7479 2e20 4465 6661  er quality. Defa
+00033c60: 756c 7420 6973 2036 302e 0a20 2020 203a  ult is 60..    :
+00033c70: 7061 7261 6d20 4f70 7469 6f6e 616c 5b55  param Optional[U
+00033c80: 6e69 6f6e 5b73 7472 2c20 6f73 2e50 6174  nion[str, os.Pat
+00033c90: 684c 696b 655d 5d20 7361 7665 5f64 6972  hLike]] save_dir
+00033ca0: 3a20 5468 6520 6469 7265 6374 6f72 7920  : The directory 
+00033cb0: 746f 2073 6176 6520 7468 6520 7570 7361  to save the upsa
+00033cc0: 6d70 6c65 6420 7669 6465 6f28 7329 2e20  mpled video(s). 
+00033cd0: 4966 204e 6f6e 652c 2074 6865 2076 6964  If None, the vid
+00033ce0: 656f 7320 7769 6c6c 2062 6520 7361 7665  eos will be save
+00033cf0: 6420 696e 2074 6865 2073 616d 6520 6469  d in the same di
+00033d00: 7265 6374 6f72 7920 6173 2074 6865 2069  rectory as the i
+00033d10: 6e70 7574 2076 6964 656f 2873 292e 0a20  nput video(s).. 
+00033d20: 2020 203a 7265 7475 726e 3a20 4e6f 6e65     :return: None
+00033d30: 2e20 5468 6520 6675 6e63 7469 6f6e 2073  . The function s
+00033d40: 6176 6573 2074 6865 2075 7073 616d 706c  aves the upsampl
+00033d50: 6564 2076 6964 656f 2873 2920 746f 2074  ed video(s) to t
+00033d60: 6865 2073 7065 6369 6669 6564 2064 6972  he specified dir
+00033d70: 6563 746f 7279 2e0a 0a20 2020 203a 6578  ectory...    :ex
+00033d80: 616d 706c 653a 0a20 2020 203e 3e3e 2075  ample:.    >>> u
+00033d90: 7073 616d 706c 655f 6670 7328 7669 6465  psample_fps(vide
+00033da0: 6f5f 7061 7468 3d27 2f55 7365 7273 2f73  o_path='/Users/s
+00033db0: 696d 6f6e 2f44 6573 6b74 6f70 2f42 6f78  imon/Desktop/Box
+00033dc0: 325f 4946 3139 5f37 5f32 3032 3131 3130  2_IF19_7_2021110
+00033dd0: 3954 3137 3336 3235 5f34 5f38 3531 5f38  9T173625_4_851_8
+00033de0: 3733 5f31 5f63 726f 7070 6564 2e6d 7034  73_1_cropped.mp4
+00033df0: 272c 2066 7073 3d31 3030 2c20 7175 616c  ', fps=100, qual
+00033e00: 6974 793d 3130 3029 0a20 2020 2022 2222  ity=100).    """
+00033e10: 0a0a 2020 2020 7469 6d65 7220 3d20 5369  ..    timer = Si
+00033e20: 6d62 6154 696d 6572 2873 7461 7274 3d54  mbaTimer(start=T
+00033e30: 7275 6529 0a20 2020 2063 6865 636b 5f66  rue).    check_f
+00033e40: 666d 7065 675f 6176 6169 6c61 626c 6528  fmpeg_available(
+00033e50: 7261 6973 655f 6572 726f 723d 5472 7565  raise_error=True
+00033e60: 290a 2020 2020 6368 6563 6b5f 696e 7428  ).    check_int(
+00033e70: 6e61 6d65 3d66 277b 7570 7361 6d70 6c65  name=f'{upsample
+00033e80: 5f66 7073 2e5f 5f6e 616d 655f 5f7d 2071  _fps.__name__} q
+00033e90: 7561 6c69 7479 272c 2076 616c 7565 3d71  uality', value=q
+00033ea0: 7561 6c69 7479 2c20 6d69 6e5f 7661 6c75  uality, min_valu
+00033eb0: 653d 312c 206d 6178 5f76 616c 7565 3d31  e=1, max_value=1
+00033ec0: 3030 290a 2020 2020 6368 6563 6b5f 666c  00).    check_fl
+00033ed0: 6f61 7428 6e61 6d65 3d66 277b 7570 7361  oat(name=f'{upsa
+00033ee0: 6d70 6c65 5f66 7073 2e5f 5f6e 616d 655f  mple_fps.__name_
+00033ef0: 5f7d 2066 7073 272c 2076 616c 7565 3d71  _} fps', value=q
+00033f00: 7561 6c69 7479 2c20 6d69 6e5f 7661 6c75  uality, min_valu
+00033f10: 653d 3130 652d 3136 290a 2020 2020 6372  e=10e-16).    cr
+00033f20: 665f 6c6b 203d 2070 6572 6365 6e74 5f74  f_lk = percent_t
+00033f30: 6f5f 6372 665f 6c6f 6f6b 7570 2829 0a20  o_crf_lookup(). 
+00033f40: 2020 2063 7266 203d 2063 7266 5f6c 6b5b     crf = crf_lk[
+00033f50: 7374 7228 7175 616c 6974 7929 5d0a 2020  str(quality)].  
+00033f60: 2020 6966 206f 732e 7061 7468 2e69 7366    if os.path.isf
+00033f70: 696c 6528 7669 6465 6f5f 7061 7468 293a  ile(video_path):
+00033f80: 0a20 2020 2020 2020 2076 6964 656f 5f70  .        video_p
+00033f90: 6174 6873 203d 205b 7669 6465 6f5f 7061  aths = [video_pa
+00033fa0: 7468 5d0a 2020 2020 656c 6966 206f 732e  th].    elif os.
+00033fb0: 7061 7468 2e69 7364 6972 2876 6964 656f  path.isdir(video
+00033fc0: 5f70 6174 6829 3a0a 2020 2020 2020 2020  _path):.        
+00033fd0: 7669 6465 6f5f 7061 7468 7320 3d20 6c69  video_paths = li
+00033fe0: 7374 2866 696e 645f 616c 6c5f 7669 6465  st(find_all_vide
+00033ff0: 6f73 5f69 6e5f 6469 7265 6374 6f72 7928  os_in_directory(
+00034000: 6469 7265 6374 6f72 793d 7669 6465 6f5f  directory=video_
+00034010: 7061 7468 2c20 6173 5f64 6963 743d 5472  path, as_dict=Tr
+00034020: 7565 2c20 7261 6973 655f 6572 726f 723d  ue, raise_error=
+00034030: 5472 7565 292e 7661 6c75 6573 2829 290a  True).values()).
+00034040: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00034050: 2020 7261 6973 6520 496e 7661 6c69 6449    raise InvalidI
+00034060: 6e70 7574 4572 726f 7228 6d73 673d 6627  nputError(msg=f'
+00034070: 7b76 6964 656f 5f70 6174 687d 2069 7320  {video_path} is 
+00034080: 6e6f 7420 6120 7661 6c69 6420 6669 6c65  not a valid file
+00034090: 2070 6174 6820 6f72 2061 2076 616c 6964   path or a valid
+000340a0: 2064 6972 6563 746f 7279 2070 6174 6827   directory path'
+000340b0: 2c20 736f 7572 6365 3d72 6f74 6174 655f  , source=rotate_
+000340c0: 7669 6465 6f2e 5f5f 6e61 6d65 5f5f 290a  video.__name__).
+000340d0: 2020 2020 6966 2073 6176 655f 6469 7220      if save_dir 
+000340e0: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
+000340f0: 2020 2020 2063 6865 636b 5f69 665f 6469       check_if_di
+00034100: 725f 6578 6973 7473 2869 6e5f 6469 723d  r_exists(in_dir=
+00034110: 7361 7665 5f64 6972 290a 2020 2020 656c  save_dir).    el
+00034120: 7365 3a0a 2020 2020 2020 2020 7361 7665  se:.        save
+00034130: 5f64 6972 203d 206f 732e 7061 7468 2e64  _dir = os.path.d
+00034140: 6972 6e61 6d65 2876 6964 656f 5f70 6174  irname(video_pat
+00034150: 6873 5b30 5d29 0a20 2020 2066 6f72 2066  hs[0]).    for f
+00034160: 696c 655f 636e 742c 2076 6964 656f 5f70  ile_cnt, video_p
+00034170: 6174 6820 696e 2065 6e75 6d65 7261 7465  ath in enumerate
+00034180: 2876 6964 656f 5f70 6174 6873 293a 0a20  (video_paths):. 
+00034190: 2020 2020 2020 205f 2c20 7669 6465 6f5f         _, video_
+000341a0: 6e61 6d65 2c20 6578 7420 3d20 6765 745f  name, ext = get_
+000341b0: 666e 5f65 7874 2876 6964 656f 5f70 6174  fn_ext(video_pat
+000341c0: 6829 0a20 2020 2020 2020 2069 6e70 7574  h).        input
+000341d0: 5f76 6964 656f 5f6d 6574 6120 3d20 6765  _video_meta = ge
+000341e0: 745f 7669 6465 6f5f 6d65 7461 5f64 6174  t_video_meta_dat
+000341f0: 6128 7669 6465 6f5f 7061 7468 3d76 6964  a(video_path=vid
+00034200: 656f 5f70 6174 6829 0a20 2020 2020 2020  eo_path).       
+00034210: 2069 6620 696e 7075 745f 7669 6465 6f5f   if input_video_
+00034220: 6d65 7461 5b27 6670 7327 5d20 3e3d 2066  meta['fps'] >= f
+00034230: 7073 3a0a 2020 2020 2020 2020 2020 2020  ps:.            
+00034240: 4672 616d 6552 616e 6765 5761 726e 696e  FrameRangeWarnin
+00034250: 6728 6d73 673d 6622 5468 6520 4650 5320  g(msg=f"The FPS 
+00034260: 6f66 2074 6865 2069 6e70 7574 2076 6964  of the input vid
+00034270: 656f 206e 616d 6564 207b 7669 6465 6f5f  eo named {video_
+00034280: 6e61 6d65 7d20 287b 696e 7075 745f 7669  name} ({input_vi
+00034290: 6465 6f5f 6d65 7461 5b27 6670 7327 5d7d  deo_meta['fps']}
+000342a0: 2920 6973 2074 6865 2073 616d 6520 6f72  ) is the same or
+000342b0: 206c 6172 6765 7220 7468 616e 2074 6865   larger than the
+000342c0: 2075 7073 6361 6c65 6420 7461 7267 6574   upscaled target
+000342d0: 2046 5053 2028 7b66 7073 7d29 222c 2073   FPS ({fps})", s
+000342e0: 6f75 7263 653d 7570 7361 6d70 6c65 5f66  ource=upsample_f
+000342f0: 7073 2e5f 5f6e 616d 655f 5f29 0a20 2020  ps.__name__).   
+00034300: 2020 2020 2070 7269 6e74 2866 2755 702d       print(f'Up-
+00034310: 7361 6d70 6c69 6e67 2076 6964 656f 207b  sampling video {
+00034320: 7669 6465 6f5f 6e61 6d65 7d20 746f 207b  video_name} to {
+00034330: 6670 737d 2046 5053 2028 5669 6465 6f20  fps} FPS (Video 
+00034340: 7b66 696c 655f 636e 7420 2b20 317d 2f7b  {file_cnt + 1}/{
+00034350: 6c65 6e28 7669 6465 6f5f 7061 7468 7329  len(video_paths)
+00034360: 7d29 2e2e 2e27 290a 2020 2020 2020 2020  })...').        
+00034370: 7361 7665 5f70 6174 6820 3d20 6f73 2e70  save_path = os.p
+00034380: 6174 682e 6a6f 696e 2873 6176 655f 6469  ath.join(save_di
+00034390: 722c 2066 277b 7669 6465 6f5f 6e61 6d65  r, f'{video_name
+000343a0: 7d5f 7570 7361 6d70 6c65 647b 6578 747d  }_upsampled{ext}
+000343b0: 2729 0a20 2020 2020 2020 2063 6d64 203d  ').        cmd =
+000343c0: 2066 2222 2266 666d 7065 6720 2d69 2022   f"""ffmpeg -i "
+000343d0: 7b76 6964 656f 5f70 6174 687d 2220 2d66  {video_path}" -f
+000343e0: 696c 7465 723a 7620 226d 696e 7465 7270  ilter:v "minterp
+000343f0: 6f6c 6174 653d 2766 7073 3d7b 6670 737d  olate='fps={fps}
+00034400: 3a73 6364 3d6e 6f6e 653a 6d69 5f6d 6f64  :scd=none:mi_mod
+00034410: 653d 6d63 693a 6d63 5f6d 6f64 653d 616f  e=mci:mc_mode=ao
+00034420: 626d 633a 6d65 5f6d 6f64 653d 6269 6469  bmc:me_mode=bidi
+00034430: 723a 6d65 3d65 707a 733a 7365 6172 6368  r:me=epzs:search
+00034440: 5f70 6172 616d 3d31 363a 7673 626d 633d  _param=16:vsbmc=
+00034450: 3127 2220 2d63 3a76 206c 6962 7832 3634  1'" -c:v libx264
+00034460: 202d 6372 6620 7b63 7266 7d20 227b 7361   -crf {crf} "{sa
+00034470: 7665 5f70 6174 687d 2220 2d6c 6f67 6c65  ve_path}" -logle
+00034480: 7665 6c20 6572 726f 7220 2d73 7461 7473  vel error -stats
+00034490: 202d 7922 2222 0a20 2020 2020 2020 2073   -y""".        s
+000344a0: 7562 7072 6f63 6573 732e 6361 6c6c 2863  ubprocess.call(c
+000344b0: 6d64 2c20 7368 656c 6c3d 5472 7565 290a  md, shell=True).
+000344c0: 2020 2020 7469 6d65 722e 7374 6f70 5f74      timer.stop_t
+000344d0: 696d 6572 2829 0a20 2020 2073 7464 6f75  imer().    stdou
+000344e0: 745f 7375 6363 6573 7328 6d73 673d 6622  t_success(msg=f"
+000344f0: 7b6c 656e 2876 6964 656f 5f70 6174 6873  {len(video_paths
+00034500: 297d 2076 6964 656f 2873 2920 7570 7361  )} video(s) upsa
+00034510: 6d70 6c65 6420 746f 207b 6670 737d 2061  mpled to {fps} a
+00034520: 6e64 2073 6176 6564 2069 6e20 7b73 6176  nd saved in {sav
+00034530: 655f 6469 727d 2064 6972 6563 746f 7279  e_dir} directory
+00034540: 2e22 2c20 656c 6170 7365 645f 7469 6d65  .", elapsed_time
+00034550: 3d74 696d 6572 2e65 6c61 7073 6564 5f74  =timer.elapsed_t
+00034560: 696d 655f 7374 722c 2073 6f75 7263 653d  ime_str, source=
+00034570: 7570 7361 6d70 6c65 5f66 7073 2e5f 5f6e  upsample_fps.__n
+00034580: 616d 655f 5f2c 2029 0a0a 6465 6620 7465  ame__, )..def te
+00034590: 6d70 6f72 616c 5f63 6f6e 6361 7465 6e61  mporal_concatena
+000345a0: 7469 6f6e 2876 6964 656f 5f70 6174 6873  tion(video_paths
+000345b0: 3a20 4c69 7374 5b55 6e69 6f6e 5b73 7472  : List[Union[str
+000345c0: 2c20 6f73 2e50 6174 684c 696b 655d 5d2c  , os.PathLike]],
+000345d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000345e0: 2020 2020 2020 2020 2020 2020 7361 7665              save
+000345f0: 5f70 6174 683a 204f 7074 696f 6e61 6c5b  _path: Optional[
+00034600: 556e 696f 6e5b 7374 722c 206f 732e 5061  Union[str, os.Pa
+00034610: 7468 4c69 6b65 5d5d 203d 204e 6f6e 652c  thLike]] = None,
+00034620: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00034630: 2020 2020 2020 2020 2020 2020 7361 7665              save
+00034640: 5f66 6f72 6d61 743a 204f 7074 696f 6e61  _format: Optiona
+00034650: 6c5b 4c69 7465 7261 6c5b 276d 7034 272c  l[Literal['mp4',
+00034660: 2027 6d6f 7627 2c20 2761 7669 272c 2027   'mov', 'avi', '
+00034670: 7765 626d 275d 5d20 3d20 276d 7034 272c  webm']] = 'mp4',
+00034680: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00034690: 2020 2020 2020 2020 2020 2020 7175 616c              qual
+000346a0: 6974 793a 204f 7074 696f 6e61 6c5b 696e  ity: Optional[in
+000346b0: 745d 203d 2036 3029 202d 3e20 4e6f 6e65  t] = 60) -> None
+000346c0: 3a0a 0a20 2020 2022 2222 0a20 2020 2043  :..    """.    C
+000346d0: 6f6e 6361 7465 6e61 7465 7320 6d75 6c74  oncatenates mult
+000346e0: 6970 6c65 2076 6964 656f 2066 696c 6573  iple video files
+000346f0: 2074 656d 706f 7261 6c6c 7920 696e 746f   temporally into
+00034700: 2061 2073 696e 676c 6520 7669 6465 6f2e   a single video.
+00034710: 0a0a 2020 2020 3a70 6172 616d 204c 6973  ..    :param Lis
+00034720: 745b 556e 696f 6e5b 7374 722c 206f 732e  t[Union[str, os.
+00034730: 5061 7468 4c69 6b65 5d5d 2076 6964 656f  PathLike]] video
+00034740: 5f70 6174 6873 3a20 4c69 7374 206f 6620  _paths: List of 
+00034750: 7061 7468 7320 746f 2076 6964 656f 2066  paths to video f
+00034760: 696c 6573 2074 6f20 6265 2074 656d 706f  iles to be tempo
+00034770: 7261 6c6c 7920 6a6f 696e 6564 2e20 5468  rally joined. Th
+00034780: 6520 7669 6465 6f73 2077 696c 6c20 6265  e videos will be
+00034790: 206a 6f69 6e65 6420 696e 2074 6865 206f   joined in the o
+000347a0: 7264 6572 2061 7070 6561 7261 6e63 6520  rder appearance 
+000347b0: 696e 2074 6865 206c 6973 742e 0a20 2020  in the list..   
+000347c0: 203a 7061 7261 6d20 4f70 7469 6f6e 616c   :param Optional
+000347d0: 5b55 6e69 6f6e 5b73 7472 2c20 6f73 2e50  [Union[str, os.P
+000347e0: 6174 684c 696b 655d 5d20 7361 7665 5f70  athLike]] save_p
+000347f0: 6174 683a 2054 6865 206c 6f63 6174 696f  ath: The locatio
+00034800: 6e20 7768 6572 6520 746f 2073 6176 6520  n where to save 
+00034810: 7468 6520 7465 6d70 6f72 616c 6c79 2063  the temporally c
+00034820: 6f6e 6361 7465 6e61 7465 6420 7669 6465  oncatenated vide
+00034830: 6f73 2e20 4966 204e 6f6e 652c 2074 6865  os. If None, the
+00034840: 6e20 7468 6520 7669 6465 6f20 6973 2073  n the video is s
+00034850: 6176 6564 2069 6e20 7468 6520 7361 6d65  aved in the same
+00034860: 2064 6972 6563 746f 7279 2061 7320 7468   directory as th
+00034870: 6520 6669 7273 7420 7669 6465 6f20 696e  e first video in
+00034880: 2060 6076 6964 656f 5f70 6174 6873 6060   ``video_paths``
+00034890: 2077 6974 6820 7468 6520 6e61 6d65 2060   with the name `
+000348a0: 6074 656d 706f 7261 6c5f 636f 6e63 6174  `temporal_concat
+000348b0: 5f76 6964 656f 6060 2e0a 2020 2020 3a70  _video``..    :p
+000348c0: 6172 616d 204f 7074 696f 6e61 6c5b 4c69  aram Optional[Li
+000348d0: 7465 7261 6c5b 276d 7034 272c 2027 6d6f  teral['mp4', 'mo
+000348e0: 7627 2c20 2761 7669 272c 2027 7765 626d  v', 'avi', 'webm
+000348f0: 275d 5d20 7361 7665 5f66 6f72 6d61 743a  ']] save_format:
+00034900: 2054 6865 2076 6964 656f 2066 6f72 6d61   The video forma
+00034910: 7420 6f66 2074 6865 2063 6f6e 6361 7465  t of the concate
+00034920: 6e61 7465 6420 7669 6465 6f2e 2044 6566  nated video. Def
+00034930: 6175 6c74 3a20 6060 6d70 3460 602e 0a20  ault: ``mp4``.. 
+00034940: 2020 203a 7061 7261 6d20 4f70 7469 6f6e     :param Option
+00034950: 616c 5b69 6e74 5d20 7175 616c 6974 793a  al[int] quality:
+00034960: 2049 6e74 6567 6572 2072 6570 7265 7365   Integer represe
+00034970: 6e74 696e 6720 7468 6520 7175 616c 6974  nting the qualit
+00034980: 793a 2031 302c 2032 302c 2033 302e 2e20  y: 10, 20, 30.. 
+00034990: 3130 302e 0a20 2020 203a 7265 7475 726e  100..    :return
+000349a0: 3a20 4e6f 6e65 0a20 2020 2022 2222 0a0a  : None.    """..
+000349b0: 2020 2020 7469 6d65 7220 3d20 5369 6d62      timer = Simb
+000349c0: 6154 696d 6572 2873 7461 7274 3d54 7275  aTimer(start=Tru
+000349d0: 6529 0a20 2020 2063 6865 636b 5f76 616c  e).    check_val
+000349e0: 6964 5f6c 7374 2864 6174 613d 7669 6465  id_lst(data=vide
+000349f0: 6f5f 7061 7468 732c 2073 6f75 7263 653d  o_paths, source=
+00034a00: 7465 6d70 6f72 616c 5f63 6f6e 6361 7465  temporal_concate
+00034a10: 6e61 7469 6f6e 2e5f 5f6e 616d 655f 5f2c  nation.__name__,
+00034a20: 2076 616c 6964 5f64 7479 7065 733d 2873   valid_dtypes=(s
+00034a30: 7472 2c29 2c20 6d69 6e5f 6c65 6e3d 3229  tr,), min_len=2)
+00034a40: 0a20 2020 2063 6865 636b 5f73 7472 286e  .    check_str(n
+00034a50: 616d 653d 2773 6176 655f 666f 726d 6174  ame='save_format
+00034a60: 272c 2076 616c 7565 3d73 6176 655f 666f  ', value=save_fo
+00034a70: 726d 6174 2e6c 6f77 6572 2829 2c20 6f70  rmat.lower(), op
+00034a80: 7469 6f6e 733d 2827 6d70 3427 2c20 276d  tions=('mp4', 'm
+00034a90: 6f76 272c 2027 6176 6927 2c20 2777 6562  ov', 'avi', 'web
+00034aa0: 6d27 2929 0a20 2020 2063 6865 636b 5f69  m')).    check_i
+00034ab0: 6e74 286e 616d 653d 2771 7561 6c69 7479  nt(name='quality
+00034ac0: 272c 2076 616c 7565 3d71 7561 6c69 7479  ', value=quality
+00034ad0: 2c20 6d61 785f 7661 6c75 653d 3130 302c  , max_value=100,
+00034ae0: 206d 696e 5f76 616c 7565 3d31 290a 2020   min_value=1).  
+00034af0: 2020 6372 665f 6c6b 203d 2070 6572 6365    crf_lk = perce
+00034b00: 6e74 5f74 6f5f 6372 665f 6c6f 6f6b 7570  nt_to_crf_lookup
+00034b10: 2829 0a20 2020 2063 7266 203d 2063 7266  ().    crf = crf
+00034b20: 5f6c 6b5b 7374 7228 7175 616c 6974 7929  _lk[str(quality)
+00034b30: 5d0a 2020 2020 6d65 7461 203d 205b 5d0a  ].    meta = [].
+00034b40: 2020 2020 666f 7220 6920 696e 2076 6964      for i in vid
+00034b50: 656f 5f70 6174 6873 3a0a 2020 2020 2020  eo_paths:.      
+00034b60: 2020 6368 6563 6b5f 6669 6c65 5f65 7869    check_file_exi
+00034b70: 7374 5f61 6e64 5f72 6561 6461 626c 6528  st_and_readable(
+00034b80: 6669 6c65 5f70 6174 683d 6929 3b20 7669  file_path=i); vi
+00034b90: 6465 6f5f 6d65 7461 203d 2067 6574 5f76  deo_meta = get_v
+00034ba0: 6964 656f 5f6d 6574 615f 6461 7461 2876  ideo_meta_data(v
+00034bb0: 6964 656f 5f70 6174 683d 6929 0a20 2020  ideo_path=i).   
+00034bc0: 2020 2020 206d 6574 612e 6170 7065 6e64       meta.append
+00034bd0: 2876 6964 656f 5f6d 6574 6129 0a20 2020  (video_meta).   
+00034be0: 2066 7073 2c20 7265 736f 6c75 7469 6f6e   fps, resolution
+00034bf0: 7320 3d20 5b76 5b27 6670 7327 5d20 666f  s = [v['fps'] fo
+00034c00: 7220 7620 696e 206d 6574 615d 2c20 5b76  r v in meta], [v
+00034c10: 5b27 7265 736f 6c75 7469 6f6e 5f73 7472  ['resolution_str
+00034c20: 275d 2066 6f72 2076 2069 6e20 6d65 7461  '] for v in meta
+00034c30: 5d0a 2020 2020 756e 6971 7565 5f66 7073  ].    unique_fps
+00034c40: 2c20 756e 6971 7565 5f72 6573 203d 206c  , unique_res = l
+00034c50: 6973 7428 7365 7428 6670 7329 292c 206c  ist(set(fps)), l
+00034c60: 6973 7428 7365 7428 7265 736f 6c75 7469  ist(set(resoluti
+00034c70: 6f6e 7329 290a 2020 2020 6966 206c 656e  ons)).    if len
+00034c80: 2875 6e69 7175 655f 6670 7329 203e 2031  (unique_fps) > 1
+00034c90: 3a20 7261 6973 6520 5265 736f 6c75 7469  : raise Resoluti
+00034ca0: 6f6e 4572 726f 7228 6d73 673d 6627 5468  onError(msg=f'Th
+00034cb0: 6520 7365 6c65 6374 6564 2076 6964 656f  e selected video
+00034cc0: 7320 636f 6e74 6169 6e20 6d6f 7265 2074  s contain more t
+00034cd0: 6861 6e20 6f6e 6520 756e 6971 7565 2046  han one unique F
+00034ce0: 5053 3a20 7b75 6e69 7175 655f 6670 737d  PS: {unique_fps}
+00034cf0: 272c 2073 6f75 7263 653d 7465 6d70 6f72  ', source=tempor
+00034d00: 616c 5f63 6f6e 6361 7465 6e61 7469 6f6e  al_concatenation
+00034d10: 2e5f 5f6e 616d 655f 5f29 0a20 2020 2069  .__name__).    i
+00034d20: 6620 6c65 6e28 756e 6971 7565 5f72 6573  f len(unique_res
+00034d30: 2920 3e20 313a 2072 6169 7365 2052 6573  ) > 1: raise Res
+00034d40: 6f6c 7574 696f 6e45 7272 6f72 286d 7367  olutionError(msg
+00034d50: 3d66 2754 6865 2073 656c 6563 7465 6420  =f'The selected 
+00034d60: 7669 6465 6f73 2063 6f6e 7461 696e 206d  videos contain m
+00034d70: 6f72 6520 7468 616e 206f 6e65 2075 6e69  ore than one uni
+00034d80: 7175 6520 7265 736f 6c75 7469 6f6e 733a  que resolutions:
+00034d90: 207b 756e 6971 7565 5f72 6573 7d27 2c20   {unique_res}', 
+00034da0: 736f 7572 6365 3d74 656d 706f 7261 6c5f  source=temporal_
+00034db0: 636f 6e63 6174 656e 6174 696f 6e2e 5f5f  concatenation.__
+00034dc0: 6e61 6d65 5f5f 290a 2020 2020 6966 2073  name__).    if s
+00034dd0: 6176 655f 7061 7468 2069 7320 4e6f 6e65  ave_path is None
+00034de0: 3a0a 2020 2020 2020 2020 7361 7665 5f70  :.        save_p
+00034df0: 6174 6820 3d20 6f73 2e70 6174 682e 6a6f  ath = os.path.jo
+00034e00: 696e 286f 732e 7061 7468 2e64 6972 6e61  in(os.path.dirna
+00034e10: 6d65 2876 6964 656f 5f70 6174 6873 5b30  me(video_paths[0
+00034e20: 5d29 2c20 6627 7465 6d70 6f72 616c 5f63  ]), f'temporal_c
+00034e30: 6f6e 6361 745f 7669 6465 6f2e 7b73 6176  oncat_video.{sav
+00034e40: 655f 666f 726d 6174 7d27 290a 2020 2020  e_format}').    
+00034e50: 656c 7365 3a0a 2020 2020 2020 2020 6368  else:.        ch
+00034e60: 6563 6b5f 6966 5f64 6972 5f65 7869 7374  eck_if_dir_exist
+00034e70: 7328 696e 5f64 6972 3d6f 732e 7061 7468  s(in_dir=os.path
+00034e80: 2e64 6972 6e61 6d65 2873 6176 655f 7061  .dirname(save_pa
+00034e90: 7468 2929 0a20 2020 2066 696c 7465 725f  th)).    filter_
+00034ea0: 636f 6d70 6c65 7820 3d20 2222 0a20 2020  complex = "".   
+00034eb0: 2066 6f72 2069 2c20 7061 7468 2069 6e20   for i, path in 
+00034ec0: 656e 756d 6572 6174 6528 7669 6465 6f5f  enumerate(video_
+00034ed0: 7061 7468 7329 3a0a 2020 2020 2020 2020  paths):.        
+00034ee0: 6669 6c74 6572 5f63 6f6d 706c 6578 202b  filter_complex +
+00034ef0: 3d20 6622 5b7b 697d 3a76 5d22 0a20 2020  = f"[{i}:v]".   
+00034f00: 2066 696c 7465 725f 636f 6d70 6c65 7820   filter_complex 
+00034f10: 2b3d 2066 2263 6f6e 6361 743d 6e3d 7b6c  += f"concat=n={l
+00034f20: 656e 2876 6964 656f 5f70 6174 6873 297d  en(video_paths)}
+00034f30: 3a76 3d31 5b76 5d22 0a20 2020 2069 6e70  :v=1[v]".    inp
+00034f40: 7574 5f6f 7074 696f 6e73 203d 2022 2022  ut_options = " "
+00034f50: 2e6a 6f69 6e28 5b66 222d 6920 5c22 7b70  .join([f"-i \"{p
+00034f60: 6174 687d 5c22 2220 666f 7220 7061 7468  ath}\"" for path
+00034f70: 2069 6e20 7669 6465 6f5f 7061 7468 735d   in video_paths]
+00034f80: 290a 2020 2020 636d 6420 3d20 6627 6666  ).    cmd = f'ff
+00034f90: 6d70 6567 207b 696e 7075 745f 6f70 7469  mpeg {input_opti
+00034fa0: 6f6e 737d 202d 6669 6c74 6572 5f63 6f6d  ons} -filter_com
+00034fb0: 706c 6578 2022 7b66 696c 7465 725f 636f  plex "{filter_co
+00034fc0: 6d70 6c65 787d 2220 2d63 7266 207b 6372  mplex}" -crf {cr
+00034fd0: 667d 202d 6d61 7020 225b 765d 2220 227b  f} -map "[v]" "{
+00034fe0: 7361 7665 5f70 6174 687d 2220 2d68 6964  save_path}" -hid
+00034ff0: 655f 6261 6e6e 6572 202d 6c6f 676c 6576  e_banner -loglev
+00035000: 656c 2065 7272 6f72 202d 7374 6174 7320  el error -stats 
+00035010: 2d79 270a 2020 2020 7375 6270 726f 6365  -y'.    subproce
+00035020: 7373 2e63 616c 6c28 636d 642c 2073 6865  ss.call(cmd, she
+00035030: 6c6c 3d54 7275 6529 0a20 2020 2074 696d  ll=True).    tim
+00035040: 6572 2e73 746f 705f 7469 6d65 7228 290a  er.stop_timer().
+00035050: 2020 2020 7374 646f 7574 5f73 7563 6365      stdout_succe
+00035060: 7373 286d 7367 3d66 277b 6c65 6e28 7669  ss(msg=f'{len(vi
+00035070: 6465 6f5f 7061 7468 7329 7d20 7669 6465  deo_paths)} vide
+00035080: 6f73 2074 656d 706f 7261 6c6c 7920 636f  os temporally co
+00035090: 6e63 6174 656e 6174 6564 2061 6e64 2073  ncatenated and s
+000350a0: 6176 6564 2061 7420 7b73 6176 655f 7061  aved at {save_pa
+000350b0: 7468 7d27 2c20 656c 6170 7365 645f 7469  th}', elapsed_ti
+000350c0: 6d65 3d74 696d 6572 2e65 6c61 7073 6564  me=timer.elapsed
+000350d0: 5f74 696d 655f 7374 7229 0a0a 0a0a 2320  _time_str)....# 
+000350e0: 7669 6465 6f5f 7061 7468 7320 3d20 5b27  video_paths = ['
+000350f0: 2f55 7365 7273 2f73 696d 6f6e 2f44 6573  /Users/simon/Des
+00035100: 6b74 6f70 2f65 6e76 732f 7369 6d62 612f  ktop/envs/simba/
+00035110: 7472 6f75 626c 6573 686f 6f74 696e 672f  troubleshooting/
+00035120: 6265 6570 626f 6f70 3137 342f 7072 6f6a  beepboop174/proj
+00035130: 6563 745f 666f 6c64 6572 2f6d 6572 6765  ect_folder/merge
+00035140: 2f54 7269 616c 2020 2020 3130 5f63 6c69  /Trial    10_cli
+00035150: 7070 6564 5f67 616e 7474 2e6d 7034 272c  pped_gantt.mp4',
+00035160: 0a23 2020 2020 2020 2020 2020 2020 2020  .#              
+00035170: 2020 272f 5573 6572 732f 7369 6d6f 6e2f    '/Users/simon/
+00035180: 4465 736b 746f 702f 656e 7673 2f73 696d  Desktop/envs/sim
+00035190: 6261 2f74 726f 7562 6c65 7368 6f6f 7469  ba/troubleshooti
+000351a0: 6e67 2f62 6565 7062 6f6f 7031 3734 2f70  ng/beepboop174/p
+000351b0: 726f 6a65 6374 5f66 6f6c 6465 722f 6d65  roject_folder/me
+000351c0: 7267 652f 5472 6961 6c20 2020 2031 305f  rge/Trial    10_
+000351d0: 636c 6970 7065 642e 6d70 3427 2c0a 2320  clipped.mp4',.# 
+000351e0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+000351f0: 2f55 7365 7273 2f73 696d 6f6e 2f44 6573  /Users/simon/Des
+00035200: 6b74 6f70 2f65 6e76 732f 7369 6d62 612f  ktop/envs/simba/
+00035210: 7472 6f75 626c 6573 686f 6f74 696e 672f  troubleshooting/
+00035220: 6265 6570 626f 6f70 3137 342f 7072 6f6a  beepboop174/proj
+00035230: 6563 745f 666f 6c64 6572 2f6d 6572 6765  ect_folder/merge
+00035240: 2f54 7269 616c 2020 2020 3130 5f63 6c69  /Trial    10_cli
+00035250: 7070 6564 5f6c 696e 652e 6d70 3427 2c0a  pped_line.mp4',.
+00035260: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00035270: 2027 2f55 7365 7273 2f73 696d 6f6e 2f44   '/Users/simon/D
+00035280: 6573 6b74 6f70 2f65 6e76 732f 7369 6d62  esktop/envs/simb
+00035290: 612f 7472 6f75 626c 6573 686f 6f74 696e  a/troubleshootin
+000352a0: 672f 6265 6570 626f 6f70 3137 342f 7072  g/beepboop174/pr
+000352b0: 6f6a 6563 745f 666f 6c64 6572 2f6d 6572  oject_folder/mer
+000352c0: 6765 2f54 7269 616c 2020 2020 2033 5f63  ge/Trial     3_c
+000352d0: 6c69 7070 6564 2e6d 7034 275d 0a23 0a23  lipped.mp4'].#.#
+000352e0: 2076 6964 656f 5f70 6174 6873 203d 205b   video_paths = [
+000352f0: 272f 5573 6572 732f 7369 6d6f 6e2f 4465  '/Users/simon/De
+00035300: 736b 746f 702f 656e 7673 2f73 696d 6261  sktop/envs/simba
+00035310: 2f74 726f 7562 6c65 7368 6f6f 7469 6e67  /troubleshooting
+00035320: 2f62 6565 7062 6f6f 7031 3734 2f70 726f  /beepboop174/pro
+00035330: 6a65 6374 5f66 6f6c 6465 722f 7669 6465  ject_folder/vide
+00035340: 6f73 2f54 7269 616c 2020 2020 3130 2e6d  os/Trial    10.m
+00035350: 7034 272c 0a23 2020 2020 2020 2020 2020  p4',.#          
+00035360: 2020 2020 2020 272f 5573 6572 732f 7369        '/Users/si
+00035370: 6d6f 6e2f 4465 736b 746f 702f 656e 7673  mon/Desktop/envs
+00035380: 2f73 696d 6261 2f74 726f 7562 6c65 7368  /simba/troublesh
+00035390: 6f6f 7469 6e67 2f62 6565 7062 6f6f 7031  ooting/beepboop1
+000353a0: 3734 2f70 726f 6a65 6374 5f66 6f6c 6465  74/project_folde
+000353b0: 722f 6d65 7267 652f 5472 6961 6c20 2020  r/merge/Trial   
+000353c0: 2031 305f 636c 6970 7065 645f 6761 6e74   10_clipped_gant
+000353d0: 742e 6d70 3427 2c0a 2320 2020 2020 2020  t.mp4',.#       
+000353e0: 2020 2020 2020 2020 2027 2f55 7365 7273           '/Users
+000353f0: 2f73 696d 6f6e 2f44 6573 6b74 6f70 2f65  /simon/Desktop/e
+00035400: 6e76 732f 7369 6d62 612f 7472 6f75 626c  nvs/simba/troubl
+00035410: 6573 686f 6f74 696e 672f 6265 6570 626f  eshooting/beepbo
+00035420: 6f70 3137 342f 7072 6f6a 6563 745f 666f  op174/project_fo
+00035430: 6c64 6572 2f6d 6572 6765 2f54 7269 616c  lder/merge/Trial
+00035440: 2020 2020 3130 5f63 6c69 7070 6564 5f6c      10_clipped_l
+00035450: 696e 652e 6d70 3427 2c0a 2320 2020 2020  ine.mp4',.#     
+00035460: 2020 2020 2020 2020 2020 2027 2f55 7365             '/Use
+00035470: 7273 2f73 696d 6f6e 2f44 6573 6b74 6f70  rs/simon/Desktop
+00035480: 2f65 6e76 732f 7369 6d62 612f 7472 6f75  /envs/simba/trou
+00035490: 626c 6573 686f 6f74 696e 672f 6265 6570  bleshooting/beep
+000354a0: 626f 6f70 3137 342f 7072 6f6a 6563 745f  boop174/project_
+000354b0: 666f 6c64 6572 2f6d 6572 6765 2f54 7269  folder/merge/Tri
+000354c0: 616c 2020 2020 2033 5f63 6c69 7070 6564  al     3_clipped
+000354d0: 2e6d 7034 275d 0a23 0a23 2073 6176 655f  .mp4'].#.# save_
+000354e0: 7061 7468 203d 2027 2f55 7365 7273 2f73  path = '/Users/s
+000354f0: 696d 6f6e 2f44 6573 6b74 6f70 2f65 6e76  imon/Desktop/env
+00035500: 732f 7369 6d62 612f 7472 6f75 626c 6573  s/simba/troubles
+00035510: 686f 6f74 696e 672f 6265 6570 626f 6f70  hooting/beepboop
+00035520: 3137 342f 7072 6f6a 6563 745f 666f 6c64  174/project_fold
+00035530: 6572 2f6d 6572 6765 2f6f 7574 2e6d 7034  er/merge/out.mp4
+00035540: 270a 0a23 0a23 2076 6964 656f 5f70 6174  '..#.# video_pat
+00035550: 6873 203d 205b 272f 5573 6572 732f 7369  hs = ['/Users/si
+00035560: 6d6f 6e2f 4465 736b 746f 702f 656e 7673  mon/Desktop/envs
+00035570: 2f73 696d 6261 2f74 726f 7562 6c65 7368  /simba/troublesh
+00035580: 6f6f 7469 6e67 2f62 6565 7062 6f6f 7031  ooting/beepboop1
+00035590: 3734 2f70 726f 6a65 6374 5f66 6f6c 6465  74/project_folde
+000355a0: 722f 6672 616d 6573 2f6f 7574 7075 742f  r/frames/output/
+000355b0: 6761 6e74 745f 706c 6f74 732f 5472 6961  gantt_plots/Tria
+000355c0: 6c20 2020 2031 302e 6d70 3427 2c0a 2320  l    10.mp4',.# 
+000355d0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+000355e0: 2f55 7365 7273 2f73 696d 6f6e 2f44 6573  /Users/simon/Des
+000355f0: 6b74 6f70 2f65 6e76 732f 7369 6d62 612f  ktop/envs/simba/
+00035600: 7472 6f75 626c 6573 686f 6f74 696e 672f  troubleshooting/
+00035610: 6265 6570 626f 6f70 3137 342f 7072 6f6a  beepboop174/proj
+00035620: 6563 745f 666f 6c64 6572 2f76 6964 656f  ect_folder/video
+00035630: 732f 5472 6961 6c20 2020 2031 302e 6d70  s/Trial    10.mp
+00035640: 3427 2c0a 2320 2020 2020 2020 2020 2020  4',.#           
+00035650: 2020 2020 2027 2f55 7365 7273 2f73 696d       '/Users/sim
+00035660: 6f6e 2f44 6573 6b74 6f70 2f65 6e76 732f  on/Desktop/envs/
+00035670: 7369 6d62 612f 7472 6f75 626c 6573 686f  simba/troublesho
+00035680: 6f74 696e 672f 6265 6570 626f 6f70 3137  oting/beepboop17
+00035690: 342f 7072 6f6a 6563 745f 666f 6c64 6572  4/project_folder
+000356a0: 2f66 7261 6d65 732f 6f75 7470 7574 2f6c  /frames/output/l
+000356b0: 696e 655f 706c 6f74 2f54 7269 616c 2020  ine_plot/Trial  
+000356c0: 2020 3130 2e6d 7034 272c 0a23 2020 2020    10.mp4',.#    
+000356d0: 2020 2020 2020 2020 2020 2020 272f 5573              '/Us
+000356e0: 6572 732f 7369 6d6f 6e2f 4465 736b 746f  ers/simon/Deskto
+000356f0: 702f 656e 7673 2f73 696d 6261 2f74 726f  p/envs/simba/tro
+00035700: 7562 6c65 7368 6f6f 7469 6e67 2f62 6565  ubleshooting/bee
+00035710: 7062 6f6f 7031 3734 2f70 726f 6a65 6374  pboop174/project
+00035720: 5f66 6f6c 6465 722f 6672 616d 6573 2f6f  _folder/frames/o
+00035730: 7574 7075 742f 6c69 6e65 5f70 6c6f 742f  utput/line_plot/
+00035740: 5472 6961 6c20 2020 2020 332e 6d70 3427  Trial     3.mp4'
+00035750: 5d0a 2320 7361 7665 5f70 6174 6820 3d20  ].# save_path = 
+00035760: 272f 5573 6572 732f 7369 6d6f 6e2f 4465  '/Users/simon/De
+00035770: 736b 746f 702f 656e 7673 2f73 696d 6261  sktop/envs/simba
+00035780: 2f74 726f 7562 6c65 7368 6f6f 7469 6e67  /troubleshooting
+00035790: 2f52 4154 5f4e 4f52 2f70 726f 6a65 6374  /RAT_NOR/project
+000357a0: 5f66 6f6c 6465 722f 7669 6465 6f73 2f74  _folder/videos/t
+000357b0: 6573 742f 6e65 772f 626c 616e 6b5f 7465  est/new/blank_te
+000357c0: 7374 2e6d 7034 270a 0a23 2076 6964 656f  st.mp4'..# video
+000357d0: 5f70 6174 6873 203d 205b 272f 5573 6572  _paths = ['/User
+000357e0: 732f 7369 6d6f 6e2f 4465 736b 746f 702f  s/simon/Desktop/
+000357f0: 656e 7673 2f73 696d 6261 2f74 726f 7562  envs/simba/troub
+00035800: 6c65 7368 6f6f 7469 6e67 2f62 6565 7062  leshooting/beepb
+00035810: 6f6f 7031 3734 2f70 726f 6a65 6374 5f66  oop174/project_f
+00035820: 6f6c 6465 722f 7669 6465 6f73 2f54 7269  older/videos/Tri
+00035830: 616c 2020 2020 3130 2e6d 7034 272c 0a23  al    10.mp4',.#
+00035840: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00035850: 272f 5573 6572 732f 7369 6d6f 6e2f 4465  '/Users/simon/De
+00035860: 736b 746f 702f 656e 7673 2f73 696d 6261  sktop/envs/simba
+00035870: 2f74 726f 7562 6c65 7368 6f6f 7469 6e67  /troubleshooting
+00035880: 2f62 6565 7062 6f6f 7031 3734 2f70 726f  /beepboop174/pro
+00035890: 6a65 6374 5f66 6f6c 6465 722f 6672 616d  ject_folder/fram
+000358a0: 6573 2f6f 7574 7075 742f 6c69 6e65 5f70  es/output/line_p
+000358b0: 6c6f 742f 5472 6961 6c20 2020 2031 302e  lot/Trial    10.
+000358c0: 6d70 3427 2c0a 2320 2020 2020 2020 2020  mp4',.#         
+000358d0: 2020 2020 2020 2027 2f55 7365 7273 2f73         '/Users/s
+000358e0: 696d 6f6e 2f44 6573 6b74 6f70 2f65 6e76  imon/Desktop/env
+000358f0: 732f 7369 6d62 612f 7472 6f75 626c 6573  s/simba/troubles
+00035900: 686f 6f74 696e 672f 6265 6570 626f 6f70  hooting/beepboop
+00035910: 3137 342f 7072 6f6a 6563 745f 666f 6c64  174/project_fold
+00035920: 6572 2f66 7261 6d65 732f 6f75 7470 7574  er/frames/output
+00035930: 2f6c 696e 655f 706c 6f74 2f54 7269 616c  /line_plot/Trial
+00035940: 2020 2020 2033 2e6d 7034 275d 0a0a 2320       3.mp4']..# 
+00035950: 6d69 7865 645f 6d6f 7361 6963 5f63 6f6e  mixed_mosaic_con
+00035960: 6361 7465 6e61 746f 7228 7669 6465 6f5f  catenator(video_
+00035970: 7061 7468 733d 7669 6465 6f5f 7061 7468  paths=video_path
+00035980: 732c 2073 6176 655f 7061 7468 3d73 6176  s, save_path=sav
+00035990: 655f 7061 7468 2c20 6770 753d 4661 6c73  e_path, gpu=Fals
+000359a0: 652c 2076 6572 626f 7365 3d54 7275 6529  e, verbose=True)
+000359b0: 0a                                       .
```

### Comparing `Simba-UW-tf-dev-1.94.4/simba/video_processors/.DS_Store` & `Simba-UW-tf-dev-1.94.5/simba/video_processors/.DS_Store`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/video_processors/roi_selector_circle.py` & `Simba-UW-tf-dev-1.94.5/simba/video_processors/roi_selector_circle.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/video_processors/px_to_mm.py` & `Simba-UW-tf-dev-1.94.5/simba/video_processors/px_to_mm.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/video_processors/batch_process_menus.py` & `Simba-UW-tf-dev-1.94.5/simba/video_processors/batch_process_menus.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/video_processors/multi_cropper.py` & `Simba-UW-tf-dev-1.94.5/simba/video_processors/multi_cropper.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/video_processors/extract_frames.py` & `Simba-UW-tf-dev-1.94.5/simba/video_processors/extract_frames.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/video_processors/roi_selector.py` & `Simba-UW-tf-dev-1.94.5/simba/video_processors/roi_selector.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/video_processors/calculate_px_dist.py` & `Simba-UW-tf-dev-1.94.5/simba/video_processors/calculate_px_dist.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/video_processors/brightness_contrast_ui.py` & `Simba-UW-tf-dev-1.94.5/simba/video_processors/brightness_contrast_ui.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/video_processors/roi_selector_polygon.py` & `Simba-UW-tf-dev-1.94.5/simba/video_processors/roi_selector_polygon.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/video_processors/extract_seqframes.py` & `Simba-UW-tf-dev-1.94.5/simba/video_processors/extract_seqframes.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/video_processors/batch_process_create_ffmpeg_commands.py` & `Simba-UW-tf-dev-1.94.5/simba/video_processors/batch_process_create_ffmpeg_commands.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/video_processors/clahe_ui.py` & `Simba-UW-tf-dev-1.94.5/simba/video_processors/clahe_ui.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/outlier_tools/outlier_corrector_movement.py` & `Simba-UW-tf-dev-1.94.5/simba/outlier_tools/outlier_corrector_movement.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/outlier_tools/outlier_corrector_location_advanced.py` & `Simba-UW-tf-dev-1.94.5/simba/outlier_tools/outlier_corrector_location_advanced.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/outlier_tools/outlier_corrector_movement_advanced.py` & `Simba-UW-tf-dev-1.94.5/simba/outlier_tools/outlier_corrector_movement_advanced.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/outlier_tools/outlier_corrector_location.py` & `Simba-UW-tf-dev-1.94.5/simba/outlier_tools/outlier_corrector_location.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/outlier_tools/skip_outlier_correction.py` & `Simba-UW-tf-dev-1.94.5/simba/outlier_tools/skip_outlier_correction.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/SimBA.py` & `Simba-UW-tf-dev-1.94.5/simba/SimBA.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/unsupervised/model_names.parquet` & `Simba-UW-tf-dev-1.94.5/simba/assets/unsupervised/model_names.parquet`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/unsupervised/features.csv` & `Simba-UW-tf-dev-1.94.5/simba/assets/unsupervised/features.csv`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/shap/down_arrow.jpg` & `Simba-UW-tf-dev-1.94.5/simba/assets/shap/down_arrow.jpg`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/shap/intruder_shape.jpg` & `Simba-UW-tf-dev-1.94.5/simba/assets/shap/intruder_shape.jpg`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/shap/feature_categories/shap_feature_categories.csv` & `Simba-UW-tf-dev-1.94.5/simba/assets/shap/feature_categories/shap_feature_categories.csv`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/shap/resident_shape.jpg` & `Simba-UW-tf-dev-1.94.5/simba/assets/shap/resident_shape.jpg`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/shap/resident_intruder_shape.jpg` & `Simba-UW-tf-dev-1.94.5/simba/assets/shap/resident_intruder_shape.jpg`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/shap/animal_distances.jpg` & `Simba-UW-tf-dev-1.94.5/simba/assets/shap/animal_distances.jpg`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/shap/baseline_scale.jpg` & `Simba-UW-tf-dev-1.94.5/simba/assets/shap/baseline_scale.jpg`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/shap/ubuntu.regular.ttf` & `Simba-UW-tf-dev-1.94.5/simba/assets/shap/ubuntu.regular.ttf`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/shap/side_scale.jpg` & `Simba-UW-tf-dev-1.94.5/simba/assets/shap/side_scale.jpg`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/shap/UbuntuMono-Regular.ttf` & `Simba-UW-tf-dev-1.94.5/simba/assets/shap/UbuntuMono-Regular.ttf`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/shap/side_scale_5.jpg` & `Simba-UW-tf-dev-1.94.5/simba/assets/shap/side_scale_5.jpg`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/shap/intruder_movement.jpg` & `Simba-UW-tf-dev-1.94.5/simba/assets/shap/intruder_movement.jpg`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/shap/resident_movement.jpg` & `Simba-UW-tf-dev-1.94.5/simba/assets/shap/resident_movement.jpg`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/shap/color_bar.jpg` & `Simba-UW-tf-dev-1.94.5/simba/assets/shap/color_bar.jpg`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/shap/resident_intruder_movement.jpg` & `Simba-UW-tf-dev-1.94.5/simba/assets/shap/resident_intruder_movement.jpg`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/.DS_Store` & `Simba-UW-tf-dev-1.94.5/simba/assets/.DS_Store`

 * *Files 4% similar despite different names*

```diff
@@ -259,21 +259,21 @@
 00001020: 6f62 0000 00b8 6270 6c69 7374 3030 d601  ob....bplist00..
 00001030: 0203 0405 0607 0807 080b 085d 5368 6f77  ...........]Show
 00001040: 5374 6174 7573 4261 725b 5368 6f77 546f  StatusBar[ShowTo
 00001050: 6f6c 6261 725b 5368 6f77 5461 6256 6965  olbar[ShowTabVie
 00001060: 775f 1014 436f 6e74 6169 6e65 7253 686f  w_..ContainerSho
 00001070: 7753 6964 6562 6172 5c57 696e 646f 7742  wSidebar\WindowB
 00001080: 6f75 6e64 735b 5368 6f77 5369 6465 6261  ounds[ShowSideba
-00001090: 7208 0908 095f 1018 7b7b 3437 342c 2033  r...._..{{474, 3
-000010a0: 3030 7d2c 207b 3932 302c 2034 3336 7d7d  00}, {920, 436}}
+00001090: 7208 0908 095f 1018 7b7b 3434 352c 2033  r...._..{{445, 3
+000010a0: 3239 7d2c 207b 3932 302c 2034 3336 7d7d  29}, {920, 436}}
 000010b0: 0908 1523 2f3b 525f 6b6c 6d6e 6f8a 0000  ...#/;R_klmno...
 000010c0: 0000 0000 0101 0000 0000 0000 000d 0000  ................
 000010d0: 0000 0000 0000 0000 0000 0000 008b 0000  ................
 000010e0: 0005 0069 0063 006f 006e 0073 6c67 3153  ...i.c.o.n.slg1S
-000010f0: 636f 6d70 0000 0000 0009 78f4 0000 0005  comp......x.....
+000010f0: 636f 6d70 0000 0000 0009 89a5 0000 0005  comp............
 00001100: 0069 0063 006f 006e 0073 6c73 7643 626c  .i.c.o.n.slsvCbl
 00001110: 6f62 0000 0323 6270 6c69 7374 3030 da01  ob...#bplist00..
 00001120: 0203 0405 0607 0809 0a0b 0c0d 1a54 5554  .............TUT
 00001130: 560c 5858 6963 6f6e 5369 7a65 5f10 0f73  V.XXiconSize_..s
 00001140: 686f 7749 636f 6e50 7265 7669 6577 5763  howIconPreviewWc
 00001150: 6f6c 756d 6e73 5f10 1163 616c 6375 6c61  olumns_..calcula
 00001160: 7465 416c 6c53 697a 6573 5f10 0f73 6372  teAllSizes_..scr
@@ -362,19 +362,19 @@
 00001690: 7701 7801 7a01 8301 8401 8601 8701 8901  w.x.z...........
 000016a0: 9201 9301 9401 9601 9f01 a001 a201 a301  ................
 000016b0: a501 ae01 af01 b001 b201 bb01 bc01 be01  ................
 000016c0: bf01 c101 c201 cb01 d401 e100 0000 0000  ................
 000016d0: 0002 0100 0000 0000 0000 4b00 0000 0000  ..........K.....
 000016e0: 0000 0000 0000 0000 0001 e200 0000 0500  ................
 000016f0: 6900 6300 6f00 6e00 736d 6f44 4462 6c6f  i.c.o.n.smoDDblo
-00001700: 6200 0000 084c 9e31 e8cd 03c6 4100 0000  b....L.1....A...
+00001700: 6200 0000 083b 92d1 8dd9 03c6 4100 0000  b....;......A...
 00001710: 0500 6900 6300 6f00 6e00 736d 6f64 4462  ..i.c.o.n.smodDb
-00001720: 6c6f 6200 0000 084c 9e31 e8cd 03c6 4100  lob....L.1....A.
+00001720: 6c6f 6200 0000 083b 92d1 8dd9 03c6 4100  lob....;......A.
 00001730: 0000 0500 6900 6300 6f00 6e00 7370 6831  ....i.c.o.n.sph1
-00001740: 5363 6f6d 7000 0000 0000 0c60 0000 0000  Scomp......`....
+00001740: 5363 6f6d 7000 0000 0000 0c80 0000 0000  Scomp...........
 00001750: 0500 6900 6300 6f00 6e00 7376 5372 6e6c  ..i.c.o.n.svSrnl
 00001760: 6f6e 6700 0000 0100 0000 0300 6900 6d00  ong.........i.m.
 00001770: 6762 7773 7062 6c6f 6200 0000 b862 706c  gbwspblob....bpl
 00001780: 6973 7430 30d6 0102 0304 0506 0708 0708  ist00...........
 00001790: 0b08 5d53 686f 7753 7461 7475 7342 6172  ..]ShowStatusBar
 000017a0: 5b53 686f 7754 6f6f 6c62 6172 5b53 686f  [ShowToolbar[Sho
 000017b0: 7754 6162 5669 6577 5f10 1443 6f6e 7461  wTabView_..Conta
@@ -618,19 +618,19 @@
 00002690: 7701 7801 7a01 8301 8401 8601 8701 8901  w.x.z...........
 000026a0: 9201 9301 9401 9601 9f01 a001 a201 a301  ................
 000026b0: a501 ae01 af01 b001 b201 bb01 bc01 be01  ................
 000026c0: bf01 c101 c201 cb01 d401 e100 0000 0000  ................
 000026d0: 0002 0100 0000 0000 0000 4b00 0000 0000  ..........K.....
 000026e0: 0000 0000 0000 0000 0001 e200 0000 0500  ................
 000026f0: 6900 6300 6f00 6e00 736d 6f44 4462 6c6f  i.c.o.n.smoDDblo
-00002700: 6200 0000 084c 9e31 e8cd 03c6 4100 0000  b....L.1....A...
+00002700: 6200 0000 083b 92d1 8dd9 03c6 4100 0000  b....;......A...
 00002710: 0500 6900 6300 6f00 6e00 736d 6f64 4462  ..i.c.o.n.smodDb
-00002720: 6c6f 6200 0000 084c 9e31 e8cd 03c6 4100  lob....L.1....A.
+00002720: 6c6f 6200 0000 083b 92d1 8dd9 03c6 4100  lob....;......A.
 00002730: 0000 0500 6900 6300 6f00 6e00 7370 6831  ....i.c.o.n.sph1
-00002740: 5363 6f6d 7000 0000 0000 0c60 0000 0000  Scomp......`....
+00002740: 5363 6f6d 7000 0000 0000 0c80 0000 0000  Scomp...........
 00002750: 0500 6900 6300 6f00 6e00 7376 5372 6e6c  ..i.c.o.n.svSrnl
 00002760: 6f6e 6700 0000 0100 0000 0300 6900 6d00  ong.........i.m.
 00002770: 6762 7773 7062 6c6f 6200 0000 b862 706c  gbwspblob....bpl
 00002780: 6973 7430 30d6 0102 0304 0506 0708 0708  ist00...........
 00002790: 0b08 5d53 686f 7753 7461 7475 7342 6172  ..]ShowStatusBar
 000027a0: 5b53 686f 7754 6f6f 6c62 6172 5b53 686f  [ShowToolbar[Sho
 000027b0: 7754 6162 5669 6577 5f10 1443 6f6e 7461  wTabView_..Conta
```

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/lookups/model_names.parquet` & `Simba-UW-tf-dev-1.94.5/simba/assets/lookups/model_names.parquet`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/lookups/feature_extraction_headers.csv` & `Simba-UW-tf-dev-1.94.5/simba/assets/lookups/feature_extraction_headers.csv`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/lookups/critical_values_05.pickle` & `Simba-UW-tf-dev-1.94.5/simba/assets/lookups/critical_values_05.pickle`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/lookups/features.csv` & `Simba-UW-tf-dev-1.94.5/simba/assets/lookups/features.csv`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/lookups/unsupervised_example_x.csv` & `Simba-UW-tf-dev-1.94.5/simba/assets/lookups/unsupervised_example_x.csv`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/stl/operant_tray.stl` & `Simba-UW-tf-dev-1.94.5/simba/assets/stl/operant_tray.stl`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/stl/operant_lever.stl` & `Simba-UW-tf-dev-1.94.5/simba/assets/stl/operant_lever.stl`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/stl/operant_walls.stl` & `Simba-UW-tf-dev-1.94.5/simba/assets/stl/operant_walls.stl`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/stl/grid_floor.stl` & `Simba-UW-tf-dev-1.94.5/simba/assets/stl/grid_floor.stl`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/img/splash_2024.mp4` & `Simba-UW-tf-dev-1.94.5/simba/assets/img/splash_2024.mp4`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/img/bg_2024.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/img/bg_2024.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/img/about_me.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/img/about_me.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/img/splash.mp4` & `Simba-UW-tf-dev-1.94.5/simba/assets/img/splash.mp4`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/img/bg_2.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/img/bg_2.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/img/splash.pptx` & `Simba-UW-tf-dev-1.94.5/simba/assets/img/splash.pptx`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/img/bg.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/img/bg.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/UbuntuMono-Regular.ttf` & `Simba-UW-tf-dev-1.94.5/simba/assets/UbuntuMono-Regular.ttf`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/factory.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/factory.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/cluster.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/cluster.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/load.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/load.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/gif.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/gif.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/pose.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/pose.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/features.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/features.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/.DS_Store` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/.DS_Store`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/settings.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/settings.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/stopwatch.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/stopwatch.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/link.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/link.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/concat_videos.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/concat_videos.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/average.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/average.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/dash_simba.css` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/dash_simba.css`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/documentation.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/documentation.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/fps.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/fps.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/dimensionality_reduction.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/dimensionality_reduction.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/roi.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/roi.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/simba_logo_2.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/simba_logo_2.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/superimpose.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/superimpose.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/label.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/label.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/change.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/change.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/readthedocs_logo.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/readthedocs_logo.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/crop.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/crop.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/rotate.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/rotate.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/blur.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/blur.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/circle.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/circle.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/remove_bg.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/remove_bg.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/path.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/path.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/polygon.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/polygon.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/crossfade.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/crossfade.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/clip.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/clip.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/restart.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/restart.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/calipher.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/calipher.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/add_on.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/add_on.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/create.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/create.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/SimBA_logo.ico` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/SimBA_logo.ico`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/print.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/print.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/clf.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/clf.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/concat_icons/mosaic.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/concat_icons/mosaic.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/concat_icons/vertical.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/concat_icons/vertical.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/concat_icons/horizontal.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/concat_icons/horizontal.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/concat_icons/mixed_mosaic.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/concat_icons/mixed_mosaic.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/brightness.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/brightness.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/merge.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/merge.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/clean.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/clean.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/clf_2.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/clf_2.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/visualize.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/visualize.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/concat.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/concat.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/boris.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/boris.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/frames.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/frames.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/video.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/video.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/sample.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/sample.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/metrics.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/metrics.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/grey.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/grey.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/exit.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/exit.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/outlier.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/outlier.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/clahe.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/clahe.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/bw.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/bw.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/trash.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/trash.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/about.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/about.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/convert.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/convert.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/SimBA_logo.icns` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/SimBA_logo.icns`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/reorganize.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/reorganize.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/browse.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/browse.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/SimBA_logo.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/SimBA_logo.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/greyscale.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/greyscale.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/ethovision.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/ethovision.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/icons/close.png` & `Simba-UW-tf-dev-1.94.5/simba/assets/icons/close.png`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/dash_simba_base.css` & `Simba-UW-tf-dev-1.94.5/simba/assets/dash_simba_base.css`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/simba/assets/TheGoldenLab.PNG` & `Simba-UW-tf-dev-1.94.5/simba/assets/TheGoldenLab.PNG`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/Simba_UW_tf_dev.egg-info/PKG-INFO` & `Simba-UW-tf-dev-1.94.5/Simba_UW_tf_dev.egg-info/PKG-INFO`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: Simba-UW-tf-dev
-Version: 1.94.4
+Version: 1.94.5
 Summary: Toolkit for computer classification of behaviors in experimental animals
 Home-page: https://github.com/sgoldenlab/simba
 Author: Simon Nilsson, Jia Jie Choong, Sophia Hwang
 Author-email: sronilsson@gmail.com
 License: GNU Lesser General Public License v3 (LGPLv3)
 Platform: UNKNOWN
 Classifier: Programming Language :: Python :: 3
```

### Comparing `Simba-UW-tf-dev-1.94.4/Simba_UW_tf_dev.egg-info/SOURCES.txt` & `Simba-UW-tf-dev-1.94.5/Simba_UW_tf_dev.egg-info/SOURCES.txt`

 * *Files 2% similar despite different names*

```diff
@@ -353,14 +353,15 @@
 simba/sandbox/amber_tests.py
 simba/sandbox/average_frm_popup.py
 simba/sandbox/batch_video_to_greyscale.py
 simba/sandbox/berger_parker.py
 simba/sandbox/bg_remover_popup.py
 simba/sandbox/bg_substraction.py
 simba/sandbox/biweight_midcorrelation.py
+simba/sandbox/blank_img.py
 simba/sandbox/blurbox.py
 simba/sandbox/bouts_df
 simba/sandbox/brillouins_index.py
 simba/sandbox/calc_N_degree_direction_switches.py
 simba/sandbox/calinski_harabasz.py
 simba/sandbox/change_img_file_format.py
 simba/sandbox/change_n_jobs_scikit.py
@@ -382,14 +383,15 @@
 simba/sandbox/count_values_in_range.py
 simba/sandbox/create_gif.py
 simba/sandbox/cronbach_alpha.py
 simba/sandbox/crop_circles_pop_up.py
 simba/sandbox/crop_single_polygon.py
 simba/sandbox/crossfade.py
 simba/sandbox/cuda_jit.ipynb
+simba/sandbox/czenakowski.py
 simba/sandbox/data.npy
 simba/sandbox/davis_bouldin.py
 simba/sandbox/detect_scene_changes.py
 simba/sandbox/directed_hausdorff.py
 simba/sandbox/distance_velocity.py
 simba/sandbox/distances.py
 simba/sandbox/doctests.py
@@ -423,14 +425,15 @@
 simba/sandbox/increase_fps.py
 simba/sandbox/inset_overlay_video.py
 simba/sandbox/isolation_forest.py
 simba/sandbox/jaccard_distance.py
 simba/sandbox/joint_plotter.py
 simba/sandbox/lbp.py
 simba/sandbox/lcs.py
+simba/sandbox/levenshtein.py
 simba/sandbox/line_locate_point.py
 simba/sandbox/line_plot.py
 simba/sandbox/line_plot_plotly.py
 simba/sandbox/linear_fretchet.py
 simba/sandbox/linestring_path.py
 simba/sandbox/madmedianrule.py
 simba/sandbox/mahalanobis.py
@@ -440,14 +443,15 @@
 simba/sandbox/margalef_diversification_index.py
 simba/sandbox/mcnamar.py
 simba/sandbox/menhinicks_index.py
 simba/sandbox/mosaic.py
 simba/sandbox/multiframe_is_shape_covered.py
 simba/sandbox/multifrm_to_points.py
 simba/sandbox/mutual_exclusive.py
+simba/sandbox/normalized_cross_correlation.py
 simba/sandbox/outliers_tietjen.py
 simba/sandbox/path_plots.py
 simba/sandbox/paths.py
 simba/sandbox/pct_counts_in_top_N.py
 simba/sandbox/peaks.py
 simba/sandbox/piotr_120324 2.py.zip
 simba/sandbox/piotr_120324 3.py.zip
@@ -481,14 +485,15 @@
 simba/sandbox/sliding_crosscorrelation.py
 simba/sandbox/sliding_displacement.py
 simba/sandbox/sorensen_dice_coefficient.py
 simba/sandbox/spontaneous_alternation_calculator.py
 simba/sandbox/spontaneuous_alternation_plotter.py
 simba/sandbox/spontanous_alternations.py
 simba/sandbox/statistics_ex.py
+simba/sandbox/structural_similarity_index.py
 simba/sandbox/superimpose_elapsed_time.py
 simba/sandbox/superimpose_frame_count.py
 simba/sandbox/superimpose_frm_cnt.py
 simba/sandbox/superimpose_popups.py
 simba/sandbox/superimpose_text.py
 simba/sandbox/superpixels.py
 simba/sandbox/termite_rois.csv
```

### Comparing `Simba-UW-tf-dev-1.94.4/Simba_UW_tf_dev.egg-info/requires.txt` & `Simba-UW-tf-dev-1.94.5/Simba_UW_tf_dev.egg-info/requires.txt`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/LICENSE` & `Simba-UW-tf-dev-1.94.5/LICENSE`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/tests/test_data_processors.py` & `Simba-UW-tf-dev-1.94.5/tests/test_data_processors.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/tests/test_circlular_stats.py` & `Simba-UW-tf-dev-1.94.5/tests/test_circlular_stats.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/tests/test_stats.py` & `Simba-UW-tf-dev-1.94.5/tests/test_stats.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/tests/test_train_model_mixin.py` & `Simba-UW-tf-dev-1.94.5/tests/test_train_model_mixin.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/tests/test_feature_extraction_mixin.py` & `Simba-UW-tf-dev-1.94.5/tests/test_feature_extraction_mixin.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/tests/test_utils_data.py` & `Simba-UW-tf-dev-1.94.5/tests/test_utils_data.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/tests/test_config_reader_mixin.py` & `Simba-UW-tf-dev-1.94.5/tests/test_config_reader_mixin.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/tests/test_outlier_correctors.py` & `Simba-UW-tf-dev-1.94.5/tests/test_outlier_correctors.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/tests/test_featurizers.py` & `Simba-UW-tf-dev-1.94.5/tests/test_featurizers.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/tests/test_video_processors.py` & `Simba-UW-tf-dev-1.94.5/tests/test_video_processors.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/tests/test_thirdparty_appenders.py` & `Simba-UW-tf-dev-1.94.5/tests/test_thirdparty_appenders.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/tests/test_validation_clips.py` & `Simba-UW-tf-dev-1.94.5/tests/test_validation_clips.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/tests/test_roi_tools.py` & `Simba-UW-tf-dev-1.94.5/tests/test_roi_tools.py`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/README.md` & `Simba-UW-tf-dev-1.94.5/README.md`

 * *Files identical despite different names*

### Comparing `Simba-UW-tf-dev-1.94.4/setup.py` & `Simba-UW-tf-dev-1.94.5/setup.py`

 * *Files 0% similar despite different names*

```diff
@@ -13,15 +13,15 @@
 with open("requirements.txt", "r") as f:
     requirements = f.read().splitlines()
 
 exclusion_patterns = ["pose_configurations_archive"]
 
 setuptools.setup(
     name="Simba-UW-tf-dev",
-    version="1.94.4",
+    version="1.94.5",
     author="Simon Nilsson, Jia Jie Choong, Sophia Hwang",
     author_email="sronilsson@gmail.com",
     description="Toolkit for computer classification of behaviors in experimental animals",
     long_description=long_description,
     long_description_content_type="text/markdown",
     url="https://github.com/sgoldenlab/simba",
     install_requires=requirements,
```

